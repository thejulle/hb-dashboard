(function(){const Ve=document.createElement("link").relList;if(Ve&&Ve.supports&&Ve.supports("modulepreload"))return;for(const kt of document.querySelectorAll('link[rel="modulepreload"]'))gt(kt);new MutationObserver(kt=>{for(const Y of kt)if(Y.type==="childList")for(const P of Y.addedNodes)P.tagName==="LINK"&&P.rel==="modulepreload"&&gt(P)}).observe(document,{childList:!0,subtree:!0});function rt(kt){const Y={};return kt.integrity&&(Y.integrity=kt.integrity),kt.referrerpolicy&&(Y.referrerPolicy=kt.referrerpolicy),kt.crossorigin==="use-credentials"?Y.credentials="include":kt.crossorigin==="anonymous"?Y.credentials="omit":Y.credentials="same-origin",Y}function gt(kt){if(kt.ep)return;kt.ep=!0;const Y=rt(kt);fetch(kt.href,Y)}})();function sd(be,Ve){const rt=Object.create(null),gt=be.split(",");for(let kt=0;kt<gt.length;kt++)rt[gt[kt]]=!0;return Ve?kt=>!!rt[kt.toLowerCase()]:kt=>!!rt[kt]}const gy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vy=sd(gy);function ug(be){return!!be||be===""}function Hu(be){if(Yr(be)){const Ve={};for(let rt=0;rt<be.length;rt++){const gt=be[rt],kt=$a(gt)?xy(gt):Hu(gt);if(kt)for(const Y in kt)Ve[Y]=kt[Y]}return Ve}else{if($a(be))return be;if(ua(be))return be}}const my=/;(?![^(]*\))/g,yy=/:(.+)/;function xy(be){const Ve={};return be.split(my).forEach(rt=>{if(rt){const gt=rt.split(yy);gt.length>1&&(Ve[gt[0].trim()]=gt[1].trim())}}),Ve}function Lc(be){let Ve="";if($a(be))Ve=be;else if(Yr(be))for(let rt=0;rt<be.length;rt++){const gt=Lc(be[rt]);gt&&(Ve+=gt+" ")}else if(ua(be))for(const rt in be)be[rt]&&(Ve+=rt+" ");return Ve.trim()}const Ki=be=>$a(be)?be:be==null?"":Yr(be)||ua(be)&&(be.toString===pg||!ii(be.toString))?JSON.stringify(be,cg,2):String(be),cg=(be,Ve)=>Ve&&Ve.__v_isRef?cg(be,Ve.value):_c(Ve)?{[`Map(${Ve.size})`]:[...Ve.entries()].reduce((rt,[gt,kt])=>(rt[`${gt} =>`]=kt,rt),{})}:fg(Ve)?{[`Set(${Ve.size})`]:[...Ve.values()]}:ua(Ve)&&!Yr(Ve)&&!dg(Ve)?String(Ve):Ve,ra={},bc=[],hl=()=>{},by=()=>!1,_y=/^on[^a-z]/,Sh=be=>_y.test(be),ld=be=>be.startsWith("onUpdate:"),Mo=Object.assign,ud=(be,Ve)=>{const rt=be.indexOf(Ve);rt>-1&&be.splice(rt,1)},wy=Object.prototype.hasOwnProperty,bi=(be,Ve)=>wy.call(be,Ve),Yr=Array.isArray,_c=be=>Eh(be)==="[object Map]",fg=be=>Eh(be)==="[object Set]",ii=be=>typeof be=="function",$a=be=>typeof be=="string",cd=be=>typeof be=="symbol",ua=be=>be!==null&&typeof be=="object",hg=be=>ua(be)&&ii(be.then)&&ii(be.catch),pg=Object.prototype.toString,Eh=be=>pg.call(be),Ty=be=>Eh(be).slice(8,-1),dg=be=>Eh(be)==="[object Object]",fd=be=>$a(be)&&be!=="NaN"&&be[0]!=="-"&&""+parseInt(be,10)===be,vh=sd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Lh=be=>{const Ve=Object.create(null);return rt=>Ve[rt]||(Ve[rt]=be(rt))},ky=/-(\w)/g,Tc=Lh(be=>be.replace(ky,(Ve,rt)=>rt?rt.toUpperCase():"")),Ay=/\B([A-Z])/g,Cc=Lh(be=>be.replace(Ay,"-$1").toLowerCase()),gg=Lh(be=>be.charAt(0).toUpperCase()+be.slice(1)),Op=Lh(be=>be?`on${gg(be)}`:""),vf=(be,Ve)=>!Object.is(be,Ve),Ip=(be,Ve)=>{for(let rt=0;rt<be.length;rt++)be[rt](Ve)},_h=(be,Ve,rt)=>{Object.defineProperty(be,Ve,{configurable:!0,enumerable:!1,value:rt})},My=be=>{const Ve=parseFloat(be);return isNaN(Ve)?be:Ve};let m1;const Sy=()=>m1||(m1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Il;class vg{constructor(Ve=!1){this.active=!0,this.effects=[],this.cleanups=[],!Ve&&Il&&(this.parent=Il,this.index=(Il.scopes||(Il.scopes=[])).push(this)-1)}run(Ve){if(this.active){const rt=Il;try{return Il=this,Ve()}finally{Il=rt}}}on(){Il=this}off(){Il=this.parent}stop(Ve){if(this.active){let rt,gt;for(rt=0,gt=this.effects.length;rt<gt;rt++)this.effects[rt].stop();for(rt=0,gt=this.cleanups.length;rt<gt;rt++)this.cleanups[rt]();if(this.scopes)for(rt=0,gt=this.scopes.length;rt<gt;rt++)this.scopes[rt].stop(!0);if(this.parent&&!Ve){const kt=this.parent.scopes.pop();kt&&kt!==this&&(this.parent.scopes[this.index]=kt,kt.index=this.index)}this.active=!1}}}function mg(be){return new vg(be)}function Ey(be,Ve=Il){Ve&&Ve.active&&Ve.effects.push(be)}const hd=be=>{const Ve=new Set(be);return Ve.w=0,Ve.n=0,Ve},yg=be=>(be.w&yu)>0,xg=be=>(be.n&yu)>0,Ly=({deps:be})=>{if(be.length)for(let Ve=0;Ve<be.length;Ve++)be[Ve].w|=yu},Cy=be=>{const{deps:Ve}=be;if(Ve.length){let rt=0;for(let gt=0;gt<Ve.length;gt++){const kt=Ve[gt];yg(kt)&&!xg(kt)?kt.delete(be):Ve[rt++]=kt,kt.w&=~yu,kt.n&=~yu}Ve.length=rt}},Up=new WeakMap;let cf=0,yu=1;const Vp=30;let cl;const qu=Symbol(""),Hp=Symbol("");class pd{constructor(Ve,rt=null,gt){this.fn=Ve,this.scheduler=rt,this.active=!0,this.deps=[],this.parent=void 0,Ey(this,gt)}run(){if(!this.active)return this.fn();let Ve=cl,rt=gu;for(;Ve;){if(Ve===this)return;Ve=Ve.parent}try{return this.parent=cl,cl=this,gu=!0,yu=1<<++cf,cf<=Vp?Ly(this):y1(this),this.fn()}finally{cf<=Vp&&Cy(this),yu=1<<--cf,cl=this.parent,gu=rt,this.parent=void 0,this.deferStop&&this.stop()}}stop(){cl===this?this.deferStop=!0:this.active&&(y1(this),this.onStop&&this.onStop(),this.active=!1)}}function y1(be){const{deps:Ve}=be;if(Ve.length){for(let rt=0;rt<Ve.length;rt++)Ve[rt].delete(be);Ve.length=0}}let gu=!0;const bg=[];function Pc(){bg.push(gu),gu=!1}function Oc(){const be=bg.pop();gu=be===void 0?!0:be}function Ms(be,Ve,rt){if(gu&&cl){let gt=Up.get(be);gt||Up.set(be,gt=new Map);let kt=gt.get(rt);kt||gt.set(rt,kt=hd()),_g(kt)}}function _g(be,Ve){let rt=!1;cf<=Vp?xg(be)||(be.n|=yu,rt=!yg(be)):rt=!be.has(cl),rt&&(be.add(cl),cl.deps.push(be))}function Kl(be,Ve,rt,gt,kt,Y){const P=Up.get(be);if(!P)return;let e=[];if(Ve==="clear")e=[...P.values()];else if(rt==="length"&&Yr(be))P.forEach((A,k)=>{(k==="length"||k>=gt)&&e.push(A)});else switch(rt!==void 0&&e.push(P.get(rt)),Ve){case"add":Yr(be)?fd(rt)&&e.push(P.get("length")):(e.push(P.get(qu)),_c(be)&&e.push(P.get(Hp)));break;case"delete":Yr(be)||(e.push(P.get(qu)),_c(be)&&e.push(P.get(Hp)));break;case"set":_c(be)&&e.push(P.get(qu));break}if(e.length===1)e[0]&&qp(e[0]);else{const A=[];for(const k of e)k&&A.push(...k);qp(hd(A))}}function qp(be,Ve){const rt=Yr(be)?be:[...be];for(const gt of rt)gt.computed&&x1(gt);for(const gt of rt)gt.computed||x1(gt)}function x1(be,Ve){(be!==cl||be.allowRecurse)&&(be.scheduler?be.scheduler():be.run())}const Py=sd("__proto__,__v_isRef,__isVue"),wg=new Set(Object.getOwnPropertyNames(Symbol).filter(be=>be!=="arguments"&&be!=="caller").map(be=>Symbol[be]).filter(cd)),Oy=dd(),Iy=dd(!1,!0),Ry=dd(!0),b1=Dy();function Dy(){const be={};return["includes","indexOf","lastIndexOf"].forEach(Ve=>{be[Ve]=function(...rt){const gt=Ei(this);for(let Y=0,P=this.length;Y<P;Y++)Ms(gt,"get",Y+"");const kt=gt[Ve](...rt);return kt===-1||kt===!1?gt[Ve](...rt.map(Ei)):kt}}),["push","pop","shift","unshift","splice"].forEach(Ve=>{be[Ve]=function(...rt){Pc();const gt=Ei(this)[Ve].apply(this,rt);return Oc(),gt}}),be}function dd(be=!1,Ve=!1){return function(gt,kt,Y){if(kt==="__v_isReactive")return!be;if(kt==="__v_isReadonly")return be;if(kt==="__v_isShallow")return Ve;if(kt==="__v_raw"&&Y===(be?Ve?Jy:Sg:Ve?Mg:Ag).get(gt))return gt;const P=Yr(gt);if(!be&&P&&bi(b1,kt))return Reflect.get(b1,kt,Y);const e=Reflect.get(gt,kt,Y);return(cd(kt)?wg.has(kt):Py(kt))||(be||Ms(gt,"get",kt),Ve)?e:Pa(e)?P&&fd(kt)?e:e.value:ua(e)?be?Eg(e):Ic(e):e}}const zy=Tg(),Fy=Tg(!0);function Tg(be=!1){return function(rt,gt,kt,Y){let P=rt[gt];if(kc(P)&&Pa(P)&&!Pa(kt))return!1;if(!be&&(!wh(kt)&&!kc(kt)&&(P=Ei(P),kt=Ei(kt)),!Yr(rt)&&Pa(P)&&!Pa(kt)))return P.value=kt,!0;const e=Yr(rt)&&fd(gt)?Number(gt)<rt.length:bi(rt,gt),A=Reflect.set(rt,gt,kt,Y);return rt===Ei(Y)&&(e?vf(kt,P)&&Kl(rt,"set",gt,kt):Kl(rt,"add",gt,kt)),A}}function By(be,Ve){const rt=bi(be,Ve);be[Ve];const gt=Reflect.deleteProperty(be,Ve);return gt&&rt&&Kl(be,"delete",Ve,void 0),gt}function Ny(be,Ve){const rt=Reflect.has(be,Ve);return(!cd(Ve)||!wg.has(Ve))&&Ms(be,"has",Ve),rt}function jy(be){return Ms(be,"iterate",Yr(be)?"length":qu),Reflect.ownKeys(be)}const kg={get:Oy,set:zy,deleteProperty:By,has:Ny,ownKeys:jy},Uy={get:Ry,set(be,Ve){return!0},deleteProperty(be,Ve){return!0}},Vy=Mo({},kg,{get:Iy,set:Fy}),gd=be=>be,Ch=be=>Reflect.getPrototypeOf(be);function fh(be,Ve,rt=!1,gt=!1){be=be.__v_raw;const kt=Ei(be),Y=Ei(Ve);rt||(Ve!==Y&&Ms(kt,"get",Ve),Ms(kt,"get",Y));const{has:P}=Ch(kt),e=gt?gd:rt?yd:mf;if(P.call(kt,Ve))return e(be.get(Ve));if(P.call(kt,Y))return e(be.get(Y));be!==kt&&be.get(Ve)}function hh(be,Ve=!1){const rt=this.__v_raw,gt=Ei(rt),kt=Ei(be);return Ve||(be!==kt&&Ms(gt,"has",be),Ms(gt,"has",kt)),be===kt?rt.has(be):rt.has(be)||rt.has(kt)}function ph(be,Ve=!1){return be=be.__v_raw,!Ve&&Ms(Ei(be),"iterate",qu),Reflect.get(be,"size",be)}function _1(be){be=Ei(be);const Ve=Ei(this);return Ch(Ve).has.call(Ve,be)||(Ve.add(be),Kl(Ve,"add",be,be)),this}function w1(be,Ve){Ve=Ei(Ve);const rt=Ei(this),{has:gt,get:kt}=Ch(rt);let Y=gt.call(rt,be);Y||(be=Ei(be),Y=gt.call(rt,be));const P=kt.call(rt,be);return rt.set(be,Ve),Y?vf(Ve,P)&&Kl(rt,"set",be,Ve):Kl(rt,"add",be,Ve),this}function T1(be){const Ve=Ei(this),{has:rt,get:gt}=Ch(Ve);let kt=rt.call(Ve,be);kt||(be=Ei(be),kt=rt.call(Ve,be)),gt&&gt.call(Ve,be);const Y=Ve.delete(be);return kt&&Kl(Ve,"delete",be,void 0),Y}function k1(){const be=Ei(this),Ve=be.size!==0,rt=be.clear();return Ve&&Kl(be,"clear",void 0,void 0),rt}function dh(be,Ve){return function(gt,kt){const Y=this,P=Y.__v_raw,e=Ei(P),A=Ve?gd:be?yd:mf;return!be&&Ms(e,"iterate",qu),P.forEach((k,a)=>gt.call(kt,A(k),A(a),Y))}}function gh(be,Ve,rt){return function(...gt){const kt=this.__v_raw,Y=Ei(kt),P=_c(Y),e=be==="entries"||be===Symbol.iterator&&P,A=be==="keys"&&P,k=kt[be](...gt),a=rt?gd:Ve?yd:mf;return!Ve&&Ms(Y,"iterate",A?Hp:qu),{next(){const{value:w,done:b}=k.next();return b?{value:w,done:b}:{value:e?[a(w[0]),a(w[1])]:a(w),done:b}},[Symbol.iterator](){return this}}}}function fu(be){return function(...Ve){return be==="delete"?!1:this}}function Hy(){const be={get(Y){return fh(this,Y)},get size(){return ph(this)},has:hh,add:_1,set:w1,delete:T1,clear:k1,forEach:dh(!1,!1)},Ve={get(Y){return fh(this,Y,!1,!0)},get size(){return ph(this)},has:hh,add:_1,set:w1,delete:T1,clear:k1,forEach:dh(!1,!0)},rt={get(Y){return fh(this,Y,!0)},get size(){return ph(this,!0)},has(Y){return hh.call(this,Y,!0)},add:fu("add"),set:fu("set"),delete:fu("delete"),clear:fu("clear"),forEach:dh(!0,!1)},gt={get(Y){return fh(this,Y,!0,!0)},get size(){return ph(this,!0)},has(Y){return hh.call(this,Y,!0)},add:fu("add"),set:fu("set"),delete:fu("delete"),clear:fu("clear"),forEach:dh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(Y=>{be[Y]=gh(Y,!1,!1),rt[Y]=gh(Y,!0,!1),Ve[Y]=gh(Y,!1,!0),gt[Y]=gh(Y,!0,!0)}),[be,rt,Ve,gt]}const[qy,Gy,Wy,Yy]=Hy();function vd(be,Ve){const rt=Ve?be?Yy:Wy:be?Gy:qy;return(gt,kt,Y)=>kt==="__v_isReactive"?!be:kt==="__v_isReadonly"?be:kt==="__v_raw"?gt:Reflect.get(bi(rt,kt)&&kt in gt?rt:gt,kt,Y)}const Zy={get:vd(!1,!1)},Xy={get:vd(!1,!0)},Ky={get:vd(!0,!1)},Ag=new WeakMap,Mg=new WeakMap,Sg=new WeakMap,Jy=new WeakMap;function $y(be){switch(be){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Qy(be){return be.__v_skip||!Object.isExtensible(be)?0:$y(Ty(be))}function Ic(be){return kc(be)?be:md(be,!1,kg,Zy,Ag)}function e2(be){return md(be,!1,Vy,Xy,Mg)}function Eg(be){return md(be,!0,Uy,Ky,Sg)}function md(be,Ve,rt,gt,kt){if(!ua(be)||be.__v_raw&&!(Ve&&be.__v_isReactive))return be;const Y=kt.get(be);if(Y)return Y;const P=Qy(be);if(P===0)return be;const e=new Proxy(be,P===2?gt:rt);return kt.set(be,e),e}function vu(be){return kc(be)?vu(be.__v_raw):!!(be&&be.__v_isReactive)}function kc(be){return!!(be&&be.__v_isReadonly)}function wh(be){return!!(be&&be.__v_isShallow)}function Lg(be){return vu(be)||kc(be)}function Ei(be){const Ve=be&&be.__v_raw;return Ve?Ei(Ve):be}function Ac(be){return _h(be,"__v_skip",!0),be}const mf=be=>ua(be)?Ic(be):be,yd=be=>ua(be)?Eg(be):be;function Cg(be){gu&&cl&&(be=Ei(be),_g(be.dep||(be.dep=hd())))}function Pg(be,Ve){be=Ei(be),be.dep&&qp(be.dep)}function Pa(be){return!!(be&&be.__v_isRef===!0)}function xd(be){return Og(be,!1)}function t2(be){return Og(be,!0)}function Og(be,Ve){return Pa(be)?be:new n2(be,Ve)}class n2{constructor(Ve,rt){this.__v_isShallow=rt,this.dep=void 0,this.__v_isRef=!0,this._rawValue=rt?Ve:Ei(Ve),this._value=rt?Ve:mf(Ve)}get value(){return Cg(this),this._value}set value(Ve){const rt=this.__v_isShallow||wh(Ve)||kc(Ve);Ve=rt?Ve:Ei(Ve),vf(Ve,this._rawValue)&&(this._rawValue=Ve,this._value=rt?Ve:mf(Ve),Pg(this))}}function Yi(be){return Pa(be)?be.value:be}const r2={get:(be,Ve,rt)=>Yi(Reflect.get(be,Ve,rt)),set:(be,Ve,rt,gt)=>{const kt=be[Ve];return Pa(kt)&&!Pa(rt)?(kt.value=rt,!0):Reflect.set(be,Ve,rt,gt)}};function Ig(be){return vu(be)?be:new Proxy(be,r2)}function i2(be){const Ve=Yr(be)?new Array(be.length):{};for(const rt in be)Ve[rt]=o2(be,rt);return Ve}class a2{constructor(Ve,rt,gt){this._object=Ve,this._key=rt,this._defaultValue=gt,this.__v_isRef=!0}get value(){const Ve=this._object[this._key];return Ve===void 0?this._defaultValue:Ve}set value(Ve){this._object[this._key]=Ve}}function o2(be,Ve,rt){const gt=be[Ve];return Pa(gt)?gt:new a2(be,Ve,rt)}var Rg;class s2{constructor(Ve,rt,gt,kt){this._setter=rt,this.dep=void 0,this.__v_isRef=!0,this[Rg]=!1,this._dirty=!0,this.effect=new pd(Ve,()=>{this._dirty||(this._dirty=!0,Pg(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!kt,this.__v_isReadonly=gt}get value(){const Ve=Ei(this);return Cg(Ve),(Ve._dirty||!Ve._cacheable)&&(Ve._dirty=!1,Ve._value=Ve.effect.run()),Ve._value}set value(Ve){this._setter(Ve)}}Rg="__v_isReadonly";function l2(be,Ve,rt=!1){let gt,kt;const Y=ii(be);return Y?(gt=be,kt=hl):(gt=be.get,kt=be.set),new s2(gt,kt,Y||!kt,rt)}function mu(be,Ve,rt,gt){let kt;try{kt=gt?be(...gt):be()}catch(Y){Ph(Y,Ve,rt)}return kt}function qs(be,Ve,rt,gt){if(ii(be)){const Y=mu(be,Ve,rt,gt);return Y&&hg(Y)&&Y.catch(P=>{Ph(P,Ve,rt)}),Y}const kt=[];for(let Y=0;Y<be.length;Y++)kt.push(qs(be[Y],Ve,rt,gt));return kt}function Ph(be,Ve,rt,gt=!0){const kt=Ve?Ve.vnode:null;if(Ve){let Y=Ve.parent;const P=Ve.proxy,e=rt;for(;Y;){const k=Y.ec;if(k){for(let a=0;a<k.length;a++)if(k[a](be,P,e)===!1)return}Y=Y.parent}const A=Ve.appContext.config.errorHandler;if(A){mu(A,null,10,[be,P,e]);return}}u2(be,rt,kt,gt)}function u2(be,Ve,rt,gt=!0){console.error(be)}let yf=!1,Gp=!1;const Ao=[];let Dl=0;const wc=[];let Zl=null,ju=0;const Dg=Promise.resolve();let bd=null;function _d(be){const Ve=bd||Dg;return be?Ve.then(this?be.bind(this):be):Ve}function c2(be){let Ve=Dl+1,rt=Ao.length;for(;Ve<rt;){const gt=Ve+rt>>>1;xf(Ao[gt])<be?Ve=gt+1:rt=gt}return Ve}function wd(be){(!Ao.length||!Ao.includes(be,yf&&be.allowRecurse?Dl+1:Dl))&&(be.id==null?Ao.push(be):Ao.splice(c2(be.id),0,be),zg())}function zg(){!yf&&!Gp&&(Gp=!0,bd=Dg.then(Bg))}function f2(be){const Ve=Ao.indexOf(be);Ve>Dl&&Ao.splice(Ve,1)}function h2(be){Yr(be)?wc.push(...be):(!Zl||!Zl.includes(be,be.allowRecurse?ju+1:ju))&&wc.push(be),zg()}function A1(be,Ve=yf?Dl+1:0){for(;Ve<Ao.length;Ve++){const rt=Ao[Ve];rt&&rt.pre&&(Ao.splice(Ve,1),Ve--,rt())}}function Fg(be){if(wc.length){const Ve=[...new Set(wc)];if(wc.length=0,Zl){Zl.push(...Ve);return}for(Zl=Ve,Zl.sort((rt,gt)=>xf(rt)-xf(gt)),ju=0;ju<Zl.length;ju++)Zl[ju]();Zl=null,ju=0}}const xf=be=>be.id==null?1/0:be.id,p2=(be,Ve)=>{const rt=xf(be)-xf(Ve);if(rt===0){if(be.pre&&!Ve.pre)return-1;if(Ve.pre&&!be.pre)return 1}return rt};function Bg(be){Gp=!1,yf=!0,Ao.sort(p2);const Ve=hl;try{for(Dl=0;Dl<Ao.length;Dl++){const rt=Ao[Dl];rt&&rt.active!==!1&&mu(rt,null,14)}}finally{Dl=0,Ao.length=0,Fg(),yf=!1,bd=null,(Ao.length||wc.length)&&Bg()}}function d2(be,Ve,...rt){if(be.isUnmounted)return;const gt=be.vnode.props||ra;let kt=rt;const Y=Ve.startsWith("update:"),P=Y&&Ve.slice(7);if(P&&P in gt){const a=`${P==="modelValue"?"model":P}Modifiers`,{number:w,trim:b}=gt[a]||ra;b&&(kt=rt.map(h=>h.trim())),w&&(kt=rt.map(My))}let e,A=gt[e=Op(Ve)]||gt[e=Op(Tc(Ve))];!A&&Y&&(A=gt[e=Op(Cc(Ve))]),A&&qs(A,be,6,kt);const k=gt[e+"Once"];if(k){if(!be.emitted)be.emitted={};else if(be.emitted[e])return;be.emitted[e]=!0,qs(k,be,6,kt)}}function Ng(be,Ve,rt=!1){const gt=Ve.emitsCache,kt=gt.get(be);if(kt!==void 0)return kt;const Y=be.emits;let P={},e=!1;if(!ii(be)){const A=k=>{const a=Ng(k,Ve,!0);a&&(e=!0,Mo(P,a))};!rt&&Ve.mixins.length&&Ve.mixins.forEach(A),be.extends&&A(be.extends),be.mixins&&be.mixins.forEach(A)}return!Y&&!e?(ua(be)&&gt.set(be,null),null):(Yr(Y)?Y.forEach(A=>P[A]=null):Mo(P,Y),ua(be)&&gt.set(be,P),P)}function Oh(be,Ve){return!be||!Sh(Ve)?!1:(Ve=Ve.slice(2).replace(/Once$/,""),bi(be,Ve[0].toLowerCase()+Ve.slice(1))||bi(be,Cc(Ve))||bi(be,Ve))}let zl=null,Ih=null;function Th(be){const Ve=zl;return zl=be,Ih=be&&be.type.__scopeId||null,Ve}function Td(be){Ih=be}function kd(){Ih=null}function Rh(be,Ve=zl,rt){if(!Ve||be._n)return be;const gt=(...kt)=>{gt._d&&D1(-1);const Y=Th(Ve),P=be(...kt);return Th(Y),gt._d&&D1(1),P};return gt._n=!0,gt._c=!0,gt._d=!0,gt}function Rp(be){const{type:Ve,vnode:rt,proxy:gt,withProxy:kt,props:Y,propsOptions:[P],slots:e,attrs:A,emit:k,render:a,renderCache:w,data:b,setupState:h,ctx:o,inheritAttrs:t}=be;let i,n;const r=Th(be);try{if(rt.shapeFlag&4){const l=kt||gt;i=Rl(a.call(l,l,w,Y,h,b,o)),n=A}else{const l=Ve;i=Rl(l.length>1?l(Y,{attrs:A,slots:e,emit:k}):l(Y,null)),n=Ve.props?A:g2(A)}}catch(l){hf.length=0,Ph(l,be,1),i=qi(pl)}let s=i;if(n&&t!==!1){const l=Object.keys(n),{shapeFlag:u}=s;l.length&&u&7&&(P&&l.some(ld)&&(n=v2(n,P)),s=xu(s,n))}return rt.dirs&&(s=xu(s),s.dirs=s.dirs?s.dirs.concat(rt.dirs):rt.dirs),rt.transition&&(s.transition=rt.transition),i=s,Th(r),i}const g2=be=>{let Ve;for(const rt in be)(rt==="class"||rt==="style"||Sh(rt))&&((Ve||(Ve={}))[rt]=be[rt]);return Ve},v2=(be,Ve)=>{const rt={};for(const gt in be)(!ld(gt)||!(gt.slice(9)in Ve))&&(rt[gt]=be[gt]);return rt};function m2(be,Ve,rt){const{props:gt,children:kt,component:Y}=be,{props:P,children:e,patchFlag:A}=Ve,k=Y.emitsOptions;if(Ve.dirs||Ve.transition)return!0;if(rt&&A>=0){if(A&1024)return!0;if(A&16)return gt?M1(gt,P,k):!!P;if(A&8){const a=Ve.dynamicProps;for(let w=0;w<a.length;w++){const b=a[w];if(P[b]!==gt[b]&&!Oh(k,b))return!0}}}else return(kt||e)&&(!e||!e.$stable)?!0:gt===P?!1:gt?P?M1(gt,P,k):!0:!!P;return!1}function M1(be,Ve,rt){const gt=Object.keys(Ve);if(gt.length!==Object.keys(be).length)return!0;for(let kt=0;kt<gt.length;kt++){const Y=gt[kt];if(Ve[Y]!==be[Y]&&!Oh(rt,Y))return!0}return!1}function y2({vnode:be,parent:Ve},rt){for(;Ve&&Ve.subTree===be;)(be=Ve.vnode).el=rt,Ve=Ve.parent}const x2=be=>be.__isSuspense;function b2(be,Ve){Ve&&Ve.pendingBranch?Yr(be)?Ve.effects.push(...be):Ve.effects.push(be):h2(be)}function mh(be,Ve){if(ho){let rt=ho.provides;const gt=ho.parent&&ho.parent.provides;gt===rt&&(rt=ho.provides=Object.create(gt)),rt[be]=Ve}}function Fl(be,Ve,rt=!1){const gt=ho||zl;if(gt){const kt=gt.parent==null?gt.vnode.appContext&&gt.vnode.appContext.provides:gt.parent.provides;if(kt&&be in kt)return kt[be];if(arguments.length>1)return rt&&ii(Ve)?Ve.call(gt.proxy):Ve}}const S1={};function ff(be,Ve,rt){return jg(be,Ve,rt)}function jg(be,Ve,{immediate:rt,deep:gt,flush:kt,onTrack:Y,onTrigger:P}=ra){const e=ho;let A,k=!1,a=!1;if(Pa(be)?(A=()=>be.value,k=wh(be)):vu(be)?(A=()=>be,gt=!0):Yr(be)?(a=!0,k=be.some(n=>vu(n)||wh(n)),A=()=>be.map(n=>{if(Pa(n))return n.value;if(vu(n))return xc(n);if(ii(n))return mu(n,e,2)})):ii(be)?Ve?A=()=>mu(be,e,2):A=()=>{if(!(e&&e.isUnmounted))return w&&w(),qs(be,e,3,[b])}:A=hl,Ve&&gt){const n=A;A=()=>xc(n())}let w,b=n=>{w=i.onStop=()=>{mu(n,e,4)}};if(_f)return b=hl,Ve?rt&&qs(Ve,e,3,[A(),a?[]:void 0,b]):A(),hl;let h=a?[]:S1;const o=()=>{if(!!i.active)if(Ve){const n=i.run();(gt||k||(a?n.some((r,s)=>vf(r,h[s])):vf(n,h)))&&(w&&w(),qs(Ve,e,3,[n,h===S1?void 0:h,b]),h=n)}else i.run()};o.allowRecurse=!!Ve;let t;kt==="sync"?t=o:kt==="post"?t=()=>ss(o,e&&e.suspense):(o.pre=!0,e&&(o.id=e.uid),t=()=>wd(o));const i=new pd(A,t);return Ve?rt?o():h=i.run():kt==="post"?ss(i.run.bind(i),e&&e.suspense):i.run(),()=>{i.stop(),e&&e.scope&&ud(e.scope.effects,i)}}function _2(be,Ve,rt){const gt=this.proxy,kt=$a(be)?be.includes(".")?Ug(gt,be):()=>gt[be]:be.bind(gt,gt);let Y;ii(Ve)?Y=Ve:(Y=Ve.handler,rt=Ve);const P=ho;Mc(this);const e=jg(kt,Y.bind(gt),rt);return P?Mc(P):Wu(),e}function Ug(be,Ve){const rt=Ve.split(".");return()=>{let gt=be;for(let kt=0;kt<rt.length&&gt;kt++)gt=gt[rt[kt]];return gt}}function xc(be,Ve){if(!ua(be)||be.__v_skip||(Ve=Ve||new Set,Ve.has(be)))return be;if(Ve.add(be),Pa(be))xc(be.value,Ve);else if(Yr(be))for(let rt=0;rt<be.length;rt++)xc(be[rt],Ve);else if(fg(be)||_c(be))be.forEach(rt=>{xc(rt,Ve)});else if(dg(be))for(const rt in be)xc(be[rt],Ve);return be}function w2(){const be={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Wg(()=>{be.isMounted=!0}),Yg(()=>{be.isUnmounting=!0}),be}const Hs=[Function,Array],T2={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Hs,onEnter:Hs,onAfterEnter:Hs,onEnterCancelled:Hs,onBeforeLeave:Hs,onLeave:Hs,onAfterLeave:Hs,onLeaveCancelled:Hs,onBeforeAppear:Hs,onAppear:Hs,onAfterAppear:Hs,onAppearCancelled:Hs},setup(be,{slots:Ve}){const rt=Pd(),gt=w2();let kt;return()=>{const Y=Ve.default&&Hg(Ve.default(),!0);if(!Y||!Y.length)return;let P=Y[0];if(Y.length>1){for(const t of Y)if(t.type!==pl){P=t;break}}const e=Ei(be),{mode:A}=e;if(gt.isLeaving)return Dp(P);const k=E1(P);if(!k)return Dp(P);const a=Wp(k,e,gt,rt);Yp(k,a);const w=rt.subTree,b=w&&E1(w);let h=!1;const{getTransitionKey:o}=k.type;if(o){const t=o();kt===void 0?kt=t:t!==kt&&(kt=t,h=!0)}if(b&&b.type!==pl&&(!Uu(k,b)||h)){const t=Wp(b,e,gt,rt);if(Yp(b,t),A==="out-in")return gt.isLeaving=!0,t.afterLeave=()=>{gt.isLeaving=!1,rt.update()},Dp(P);A==="in-out"&&k.type!==pl&&(t.delayLeave=(i,n,r)=>{const s=Vg(gt,b);s[String(b.key)]=b,i._leaveCb=()=>{n(),i._leaveCb=void 0,delete a.delayedLeave},a.delayedLeave=r})}return P}}},k2=T2;function Vg(be,Ve){const{leavingVNodes:rt}=be;let gt=rt.get(Ve.type);return gt||(gt=Object.create(null),rt.set(Ve.type,gt)),gt}function Wp(be,Ve,rt,gt){const{appear:kt,mode:Y,persisted:P=!1,onBeforeEnter:e,onEnter:A,onAfterEnter:k,onEnterCancelled:a,onBeforeLeave:w,onLeave:b,onAfterLeave:h,onLeaveCancelled:o,onBeforeAppear:t,onAppear:i,onAfterAppear:n,onAppearCancelled:r}=Ve,s=String(be.key),l=Vg(rt,be),u=(x,g)=>{x&&qs(x,gt,9,g)},d=(x,g)=>{const p=g[1];u(x,g),Yr(x)?x.every(v=>v.length<=1)&&p():x.length<=1&&p()},c={mode:Y,persisted:P,beforeEnter(x){let g=e;if(!rt.isMounted)if(kt)g=t||e;else return;x._leaveCb&&x._leaveCb(!0);const p=l[s];p&&Uu(be,p)&&p.el._leaveCb&&p.el._leaveCb(),u(g,[x])},enter(x){let g=A,p=k,v=a;if(!rt.isMounted)if(kt)g=i||A,p=n||k,v=r||a;else return;let y=!1;const m=x._enterCb=_=>{y||(y=!0,_?u(v,[x]):u(p,[x]),c.delayedLeave&&c.delayedLeave(),x._enterCb=void 0)};g?d(g,[x,m]):m()},leave(x,g){const p=String(be.key);if(x._enterCb&&x._enterCb(!0),rt.isUnmounting)return g();u(w,[x]);let v=!1;const y=x._leaveCb=m=>{v||(v=!0,g(),m?u(o,[x]):u(h,[x]),x._leaveCb=void 0,l[p]===be&&delete l[p])};l[p]=be,b?d(b,[x,y]):y()},clone(x){return Wp(x,Ve,rt,gt)}};return c}function Dp(be){if(Dh(be))return be=xu(be),be.children=null,be}function E1(be){return Dh(be)?be.children?be.children[0]:void 0:be}function Yp(be,Ve){be.shapeFlag&6&&be.component?Yp(be.component.subTree,Ve):be.shapeFlag&128?(be.ssContent.transition=Ve.clone(be.ssContent),be.ssFallback.transition=Ve.clone(be.ssFallback)):be.transition=Ve}function Hg(be,Ve=!1,rt){let gt=[],kt=0;for(let Y=0;Y<be.length;Y++){let P=be[Y];const e=rt==null?P.key:String(rt)+String(P.key!=null?P.key:Y);P.type===ls?(P.patchFlag&128&&kt++,gt=gt.concat(Hg(P.children,Ve,e))):(Ve||P.type!==pl)&&gt.push(e!=null?xu(P,{key:e}):P)}if(kt>1)for(let Y=0;Y<gt.length;Y++)gt[Y].patchFlag=-2;return gt}function qg(be){return ii(be)?{setup:be,name:be.name}:be}const yh=be=>!!be.type.__asyncLoader,Dh=be=>be.type.__isKeepAlive;function A2(be,Ve){Gg(be,"a",Ve)}function M2(be,Ve){Gg(be,"da",Ve)}function Gg(be,Ve,rt=ho){const gt=be.__wdc||(be.__wdc=()=>{let kt=rt;for(;kt;){if(kt.isDeactivated)return;kt=kt.parent}return be()});if(zh(Ve,gt,rt),rt){let kt=rt.parent;for(;kt&&kt.parent;)Dh(kt.parent.vnode)&&S2(gt,Ve,rt,kt),kt=kt.parent}}function S2(be,Ve,rt,gt){const kt=zh(Ve,be,gt,!0);Ad(()=>{ud(gt[Ve],kt)},rt)}function zh(be,Ve,rt=ho,gt=!1){if(rt){const kt=rt[be]||(rt[be]=[]),Y=Ve.__weh||(Ve.__weh=(...P)=>{if(rt.isUnmounted)return;Pc(),Mc(rt);const e=qs(Ve,rt,be,P);return Wu(),Oc(),e});return gt?kt.unshift(Y):kt.push(Y),Y}}const Jl=be=>(Ve,rt=ho)=>(!_f||be==="sp")&&zh(be,Ve,rt),E2=Jl("bm"),Wg=Jl("m"),L2=Jl("bu"),C2=Jl("u"),Yg=Jl("bum"),Ad=Jl("um"),P2=Jl("sp"),O2=Jl("rtg"),I2=Jl("rtc");function R2(be,Ve=ho){zh("ec",be,Ve)}function Fu(be,Ve,rt,gt){const kt=be.dirs,Y=Ve&&Ve.dirs;for(let P=0;P<kt.length;P++){const e=kt[P];Y&&(e.oldValue=Y[P].value);let A=e.dir[gt];A&&(Pc(),qs(A,rt,8,[be.el,e,be,Ve]),Oc())}}const D2=Symbol();function z2(be,Ve,rt,gt){let kt;const Y=rt&&rt[gt];if(Yr(be)||$a(be)){kt=new Array(be.length);for(let P=0,e=be.length;P<e;P++)kt[P]=Ve(be[P],P,void 0,Y&&Y[P])}else if(typeof be=="number"){kt=new Array(be);for(let P=0;P<be;P++)kt[P]=Ve(P+1,P,void 0,Y&&Y[P])}else if(ua(be))if(be[Symbol.iterator])kt=Array.from(be,(P,e)=>Ve(P,e,void 0,Y&&Y[e]));else{const P=Object.keys(be);kt=new Array(P.length);for(let e=0,A=P.length;e<A;e++){const k=P[e];kt[e]=Ve(be[k],k,e,Y&&Y[e])}}else kt=[];return rt&&(rt[gt]=kt),kt}const Zp=be=>be?iv(be)?Od(be)||be.proxy:Zp(be.parent):null,kh=Mo(Object.create(null),{$:be=>be,$el:be=>be.vnode.el,$data:be=>be.data,$props:be=>be.props,$attrs:be=>be.attrs,$slots:be=>be.slots,$refs:be=>be.refs,$parent:be=>Zp(be.parent),$root:be=>Zp(be.root),$emit:be=>be.emit,$options:be=>Md(be),$forceUpdate:be=>be.f||(be.f=()=>wd(be.update)),$nextTick:be=>be.n||(be.n=_d.bind(be.proxy)),$watch:be=>_2.bind(be)}),F2={get({_:be},Ve){const{ctx:rt,setupState:gt,data:kt,props:Y,accessCache:P,type:e,appContext:A}=be;let k;if(Ve[0]!=="$"){const h=P[Ve];if(h!==void 0)switch(h){case 1:return gt[Ve];case 2:return kt[Ve];case 4:return rt[Ve];case 3:return Y[Ve]}else{if(gt!==ra&&bi(gt,Ve))return P[Ve]=1,gt[Ve];if(kt!==ra&&bi(kt,Ve))return P[Ve]=2,kt[Ve];if((k=be.propsOptions[0])&&bi(k,Ve))return P[Ve]=3,Y[Ve];if(rt!==ra&&bi(rt,Ve))return P[Ve]=4,rt[Ve];Xp&&(P[Ve]=0)}}const a=kh[Ve];let w,b;if(a)return Ve==="$attrs"&&Ms(be,"get",Ve),a(be);if((w=e.__cssModules)&&(w=w[Ve]))return w;if(rt!==ra&&bi(rt,Ve))return P[Ve]=4,rt[Ve];if(b=A.config.globalProperties,bi(b,Ve))return b[Ve]},set({_:be},Ve,rt){const{data:gt,setupState:kt,ctx:Y}=be;return kt!==ra&&bi(kt,Ve)?(kt[Ve]=rt,!0):gt!==ra&&bi(gt,Ve)?(gt[Ve]=rt,!0):bi(be.props,Ve)||Ve[0]==="$"&&Ve.slice(1)in be?!1:(Y[Ve]=rt,!0)},has({_:{data:be,setupState:Ve,accessCache:rt,ctx:gt,appContext:kt,propsOptions:Y}},P){let e;return!!rt[P]||be!==ra&&bi(be,P)||Ve!==ra&&bi(Ve,P)||(e=Y[0])&&bi(e,P)||bi(gt,P)||bi(kh,P)||bi(kt.config.globalProperties,P)},defineProperty(be,Ve,rt){return rt.get!=null?be._.accessCache[Ve]=0:bi(rt,"value")&&this.set(be,Ve,rt.value,null),Reflect.defineProperty(be,Ve,rt)}};let Xp=!0;function B2(be){const Ve=Md(be),rt=be.proxy,gt=be.ctx;Xp=!1,Ve.beforeCreate&&L1(Ve.beforeCreate,be,"bc");const{data:kt,computed:Y,methods:P,watch:e,provide:A,inject:k,created:a,beforeMount:w,mounted:b,beforeUpdate:h,updated:o,activated:t,deactivated:i,beforeDestroy:n,beforeUnmount:r,destroyed:s,unmounted:l,render:u,renderTracked:d,renderTriggered:c,errorCaptured:x,serverPrefetch:g,expose:p,inheritAttrs:v,components:y,directives:m,filters:_}=Ve;if(k&&N2(k,gt,null,be.appContext.config.unwrapInjectedRef),P)for(const T in P){const E=P[T];ii(E)&&(gt[T]=E.bind(rt))}if(kt){const T=kt.call(rt,rt);ua(T)&&(be.data=Ic(T))}if(Xp=!0,Y)for(const T in Y){const E=Y[T],C=ii(E)?E.bind(rt,rt):ii(E.get)?E.get.bind(rt,rt):hl,O=!ii(E)&&ii(E.set)?E.set.bind(rt):hl,I=As({get:C,set:O});Object.defineProperty(gt,T,{enumerable:!0,configurable:!0,get:()=>I.value,set:z=>I.value=z})}if(e)for(const T in e)Zg(e[T],gt,rt,T);if(A){const T=ii(A)?A.call(rt):A;Reflect.ownKeys(T).forEach(E=>{mh(E,T[E])})}a&&L1(a,be,"c");function S(T,E){Yr(E)?E.forEach(C=>T(C.bind(rt))):E&&T(E.bind(rt))}if(S(E2,w),S(Wg,b),S(L2,h),S(C2,o),S(A2,t),S(M2,i),S(R2,x),S(I2,d),S(O2,c),S(Yg,r),S(Ad,l),S(P2,g),Yr(p))if(p.length){const T=be.exposed||(be.exposed={});p.forEach(E=>{Object.defineProperty(T,E,{get:()=>rt[E],set:C=>rt[E]=C})})}else be.exposed||(be.exposed={});u&&be.render===hl&&(be.render=u),v!=null&&(be.inheritAttrs=v),y&&(be.components=y),m&&(be.directives=m)}function N2(be,Ve,rt=hl,gt=!1){Yr(be)&&(be=Kp(be));for(const kt in be){const Y=be[kt];let P;ua(Y)?"default"in Y?P=Fl(Y.from||kt,Y.default,!0):P=Fl(Y.from||kt):P=Fl(Y),Pa(P)&&gt?Object.defineProperty(Ve,kt,{enumerable:!0,configurable:!0,get:()=>P.value,set:e=>P.value=e}):Ve[kt]=P}}function L1(be,Ve,rt){qs(Yr(be)?be.map(gt=>gt.bind(Ve.proxy)):be.bind(Ve.proxy),Ve,rt)}function Zg(be,Ve,rt,gt){const kt=gt.includes(".")?Ug(rt,gt):()=>rt[gt];if($a(be)){const Y=Ve[be];ii(Y)&&ff(kt,Y)}else if(ii(be))ff(kt,be.bind(rt));else if(ua(be))if(Yr(be))be.forEach(Y=>Zg(Y,Ve,rt,gt));else{const Y=ii(be.handler)?be.handler.bind(rt):Ve[be.handler];ii(Y)&&ff(kt,Y,be)}}function Md(be){const Ve=be.type,{mixins:rt,extends:gt}=Ve,{mixins:kt,optionsCache:Y,config:{optionMergeStrategies:P}}=be.appContext,e=Y.get(Ve);let A;return e?A=e:!kt.length&&!rt&&!gt?A=Ve:(A={},kt.length&&kt.forEach(k=>Ah(A,k,P,!0)),Ah(A,Ve,P)),ua(Ve)&&Y.set(Ve,A),A}function Ah(be,Ve,rt,gt=!1){const{mixins:kt,extends:Y}=Ve;Y&&Ah(be,Y,rt,!0),kt&&kt.forEach(P=>Ah(be,P,rt,!0));for(const P in Ve)if(!(gt&&P==="expose")){const e=j2[P]||rt&&rt[P];be[P]=e?e(be[P],Ve[P]):Ve[P]}return be}const j2={data:C1,props:Nu,emits:Nu,methods:Nu,computed:Nu,beforeCreate:Uo,created:Uo,beforeMount:Uo,mounted:Uo,beforeUpdate:Uo,updated:Uo,beforeDestroy:Uo,beforeUnmount:Uo,destroyed:Uo,unmounted:Uo,activated:Uo,deactivated:Uo,errorCaptured:Uo,serverPrefetch:Uo,components:Nu,directives:Nu,watch:V2,provide:C1,inject:U2};function C1(be,Ve){return Ve?be?function(){return Mo(ii(be)?be.call(this,this):be,ii(Ve)?Ve.call(this,this):Ve)}:Ve:be}function U2(be,Ve){return Nu(Kp(be),Kp(Ve))}function Kp(be){if(Yr(be)){const Ve={};for(let rt=0;rt<be.length;rt++)Ve[be[rt]]=be[rt];return Ve}return be}function Uo(be,Ve){return be?[...new Set([].concat(be,Ve))]:Ve}function Nu(be,Ve){return be?Mo(Mo(Object.create(null),be),Ve):Ve}function V2(be,Ve){if(!be)return Ve;if(!Ve)return be;const rt=Mo(Object.create(null),be);for(const gt in Ve)rt[gt]=Uo(be[gt],Ve[gt]);return rt}function H2(be,Ve,rt,gt=!1){const kt={},Y={};_h(Y,Fh,1),be.propsDefaults=Object.create(null),Xg(be,Ve,kt,Y);for(const P in be.propsOptions[0])P in kt||(kt[P]=void 0);rt?be.props=gt?kt:e2(kt):be.type.props?be.props=kt:be.props=Y,be.attrs=Y}function q2(be,Ve,rt,gt){const{props:kt,attrs:Y,vnode:{patchFlag:P}}=be,e=Ei(kt),[A]=be.propsOptions;let k=!1;if((gt||P>0)&&!(P&16)){if(P&8){const a=be.vnode.dynamicProps;for(let w=0;w<a.length;w++){let b=a[w];if(Oh(be.emitsOptions,b))continue;const h=Ve[b];if(A)if(bi(Y,b))h!==Y[b]&&(Y[b]=h,k=!0);else{const o=Tc(b);kt[o]=Jp(A,e,o,h,be,!1)}else h!==Y[b]&&(Y[b]=h,k=!0)}}}else{Xg(be,Ve,kt,Y)&&(k=!0);let a;for(const w in e)(!Ve||!bi(Ve,w)&&((a=Cc(w))===w||!bi(Ve,a)))&&(A?rt&&(rt[w]!==void 0||rt[a]!==void 0)&&(kt[w]=Jp(A,e,w,void 0,be,!0)):delete kt[w]);if(Y!==e)for(const w in Y)(!Ve||!bi(Ve,w)&&!0)&&(delete Y[w],k=!0)}k&&Kl(be,"set","$attrs")}function Xg(be,Ve,rt,gt){const[kt,Y]=be.propsOptions;let P=!1,e;if(Ve)for(let A in Ve){if(vh(A))continue;const k=Ve[A];let a;kt&&bi(kt,a=Tc(A))?!Y||!Y.includes(a)?rt[a]=k:(e||(e={}))[a]=k:Oh(be.emitsOptions,A)||(!(A in gt)||k!==gt[A])&&(gt[A]=k,P=!0)}if(Y){const A=Ei(rt),k=e||ra;for(let a=0;a<Y.length;a++){const w=Y[a];rt[w]=Jp(kt,A,w,k[w],be,!bi(k,w))}}return P}function Jp(be,Ve,rt,gt,kt,Y){const P=be[rt];if(P!=null){const e=bi(P,"default");if(e&&gt===void 0){const A=P.default;if(P.type!==Function&&ii(A)){const{propsDefaults:k}=kt;rt in k?gt=k[rt]:(Mc(kt),gt=k[rt]=A.call(null,Ve),Wu())}else gt=A}P[0]&&(Y&&!e?gt=!1:P[1]&&(gt===""||gt===Cc(rt))&&(gt=!0))}return gt}function Kg(be,Ve,rt=!1){const gt=Ve.propsCache,kt=gt.get(be);if(kt)return kt;const Y=be.props,P={},e=[];let A=!1;if(!ii(be)){const a=w=>{A=!0;const[b,h]=Kg(w,Ve,!0);Mo(P,b),h&&e.push(...h)};!rt&&Ve.mixins.length&&Ve.mixins.forEach(a),be.extends&&a(be.extends),be.mixins&&be.mixins.forEach(a)}if(!Y&&!A)return ua(be)&&gt.set(be,bc),bc;if(Yr(Y))for(let a=0;a<Y.length;a++){const w=Tc(Y[a]);P1(w)&&(P[w]=ra)}else if(Y)for(const a in Y){const w=Tc(a);if(P1(w)){const b=Y[a],h=P[w]=Yr(b)||ii(b)?{type:b}:b;if(h){const o=R1(Boolean,h.type),t=R1(String,h.type);h[0]=o>-1,h[1]=t<0||o<t,(o>-1||bi(h,"default"))&&e.push(w)}}}const k=[P,e];return ua(be)&&gt.set(be,k),k}function P1(be){return be[0]!=="$"}function O1(be){const Ve=be&&be.toString().match(/^\s*function (\w+)/);return Ve?Ve[1]:be===null?"null":""}function I1(be,Ve){return O1(be)===O1(Ve)}function R1(be,Ve){return Yr(Ve)?Ve.findIndex(rt=>I1(rt,be)):ii(Ve)&&I1(Ve,be)?0:-1}const Jg=be=>be[0]==="_"||be==="$stable",Sd=be=>Yr(be)?be.map(Rl):[Rl(be)],G2=(be,Ve,rt)=>{if(Ve._n)return Ve;const gt=Rh((...kt)=>Sd(Ve(...kt)),rt);return gt._c=!1,gt},$g=(be,Ve,rt)=>{const gt=be._ctx;for(const kt in be){if(Jg(kt))continue;const Y=be[kt];if(ii(Y))Ve[kt]=G2(kt,Y,gt);else if(Y!=null){const P=Sd(Y);Ve[kt]=()=>P}}},Qg=(be,Ve)=>{const rt=Sd(Ve);be.slots.default=()=>rt},W2=(be,Ve)=>{if(be.vnode.shapeFlag&32){const rt=Ve._;rt?(be.slots=Ei(Ve),_h(Ve,"_",rt)):$g(Ve,be.slots={})}else be.slots={},Ve&&Qg(be,Ve);_h(be.slots,Fh,1)},Y2=(be,Ve,rt)=>{const{vnode:gt,slots:kt}=be;let Y=!0,P=ra;if(gt.shapeFlag&32){const e=Ve._;e?rt&&e===1?Y=!1:(Mo(kt,Ve),!rt&&e===1&&delete kt._):(Y=!Ve.$stable,$g(Ve,kt)),P=Ve}else Ve&&(Qg(be,Ve),P={default:1});if(Y)for(const e in kt)!Jg(e)&&!(e in P)&&delete kt[e]};function ev(){return{app:null,config:{isNativeTag:by,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Z2=0;function X2(be,Ve){return function(gt,kt=null){ii(gt)||(gt=Object.assign({},gt)),kt!=null&&!ua(kt)&&(kt=null);const Y=ev(),P=new Set;let e=!1;const A=Y.app={_uid:Z2++,_component:gt,_props:kt,_container:null,_context:Y,_instance:null,version:hx,get config(){return Y.config},set config(k){},use(k,...a){return P.has(k)||(k&&ii(k.install)?(P.add(k),k.install(A,...a)):ii(k)&&(P.add(k),k(A,...a))),A},mixin(k){return Y.mixins.includes(k)||Y.mixins.push(k),A},component(k,a){return a?(Y.components[k]=a,A):Y.components[k]},directive(k,a){return a?(Y.directives[k]=a,A):Y.directives[k]},mount(k,a,w){if(!e){const b=qi(gt,kt);return b.appContext=Y,a&&Ve?Ve(b,k):be(b,k,w),e=!0,A._container=k,k.__vue_app__=A,Od(b.component)||b.component.proxy}},unmount(){e&&(be(null,A._container),delete A._container.__vue_app__)},provide(k,a){return Y.provides[k]=a,A}};return A}}function $p(be,Ve,rt,gt,kt=!1){if(Yr(be)){be.forEach((b,h)=>$p(b,Ve&&(Yr(Ve)?Ve[h]:Ve),rt,gt,kt));return}if(yh(gt)&&!kt)return;const Y=gt.shapeFlag&4?Od(gt.component)||gt.component.proxy:gt.el,P=kt?null:Y,{i:e,r:A}=be,k=Ve&&Ve.r,a=e.refs===ra?e.refs={}:e.refs,w=e.setupState;if(k!=null&&k!==A&&($a(k)?(a[k]=null,bi(w,k)&&(w[k]=null)):Pa(k)&&(k.value=null)),ii(A))mu(A,e,12,[P,a]);else{const b=$a(A),h=Pa(A);if(b||h){const o=()=>{if(be.f){const t=b?a[A]:A.value;kt?Yr(t)&&ud(t,Y):Yr(t)?t.includes(Y)||t.push(Y):b?(a[A]=[Y],bi(w,A)&&(w[A]=a[A])):(A.value=[Y],be.k&&(a[be.k]=A.value))}else b?(a[A]=P,bi(w,A)&&(w[A]=P)):h&&(A.value=P,be.k&&(a[be.k]=P))};P?(o.id=-1,ss(o,rt)):o()}}}const ss=b2;function K2(be){return J2(be)}function J2(be,Ve){const rt=Sy();rt.__VUE__=!0;const{insert:gt,remove:kt,patchProp:Y,createElement:P,createText:e,createComment:A,setText:k,setElementText:a,parentNode:w,nextSibling:b,setScopeId:h=hl,cloneNode:o,insertStaticContent:t}=be,i=(G,X,J,ne=null,ie=null,ae=null,le=!1,ce=null,pe=!!X.dynamicChildren)=>{if(G===X)return;G&&!Uu(G,X)&&(ne=j(G),U(G,ie,ae,!0),G=null),X.patchFlag===-2&&(pe=!1,X.dynamicChildren=null);const{type:ge,ref:me,shapeFlag:ve}=X;switch(ge){case Ed:n(G,X,J,ne);break;case pl:r(G,X,J,ne);break;case xh:G==null&&s(X,J,ne,le);break;case ls:m(G,X,J,ne,ie,ae,le,ce,pe);break;default:ve&1?d(G,X,J,ne,ie,ae,le,ce,pe):ve&6?_(G,X,J,ne,ie,ae,le,ce,pe):(ve&64||ve&128)&&ge.process(G,X,J,ne,ie,ae,le,ce,pe,te)}me!=null&&ie&&$p(me,G&&G.ref,ae,X||G,!X)},n=(G,X,J,ne)=>{if(G==null)gt(X.el=e(X.children),J,ne);else{const ie=X.el=G.el;X.children!==G.children&&k(ie,X.children)}},r=(G,X,J,ne)=>{G==null?gt(X.el=A(X.children||""),J,ne):X.el=G.el},s=(G,X,J,ne)=>{[G.el,G.anchor]=t(G.children,X,J,ne,G.el,G.anchor)},l=({el:G,anchor:X},J,ne)=>{let ie;for(;G&&G!==X;)ie=b(G),gt(G,J,ne),G=ie;gt(X,J,ne)},u=({el:G,anchor:X})=>{let J;for(;G&&G!==X;)J=b(G),kt(G),G=J;kt(X)},d=(G,X,J,ne,ie,ae,le,ce,pe)=>{le=le||X.type==="svg",G==null?c(X,J,ne,ie,ae,le,ce,pe):p(G,X,ie,ae,le,ce,pe)},c=(G,X,J,ne,ie,ae,le,ce)=>{let pe,ge;const{type:me,props:ve,shapeFlag:Me,transition:_e,patchFlag:we,dirs:oe}=G;if(G.el&&o!==void 0&&we===-1)pe=G.el=o(G.el);else{if(pe=G.el=P(G.type,ae,ve&&ve.is,ve),Me&8?a(pe,G.children):Me&16&&g(G.children,pe,null,ne,ie,ae&&me!=="foreignObject",le,ce),oe&&Fu(G,null,ne,"created"),ve){for(const de in ve)de!=="value"&&!vh(de)&&Y(pe,de,null,ve[de],ae,G.children,ne,ie,F);"value"in ve&&Y(pe,"value",null,ve.value),(ge=ve.onVnodeBeforeMount)&&Ol(ge,ne,G)}x(pe,G,G.scopeId,le,ne)}oe&&Fu(G,null,ne,"beforeMount");const se=(!ie||ie&&!ie.pendingBranch)&&_e&&!_e.persisted;se&&_e.beforeEnter(pe),gt(pe,X,J),((ge=ve&&ve.onVnodeMounted)||se||oe)&&ss(()=>{ge&&Ol(ge,ne,G),se&&_e.enter(pe),oe&&Fu(G,null,ne,"mounted")},ie)},x=(G,X,J,ne,ie)=>{if(J&&h(G,J),ne)for(let ae=0;ae<ne.length;ae++)h(G,ne[ae]);if(ie){let ae=ie.subTree;if(X===ae){const le=ie.vnode;x(G,le,le.scopeId,le.slotScopeIds,ie.parent)}}},g=(G,X,J,ne,ie,ae,le,ce,pe=0)=>{for(let ge=pe;ge<G.length;ge++){const me=G[ge]=ce?pu(G[ge]):Rl(G[ge]);i(null,me,X,J,ne,ie,ae,le,ce)}},p=(G,X,J,ne,ie,ae,le)=>{const ce=X.el=G.el;let{patchFlag:pe,dynamicChildren:ge,dirs:me}=X;pe|=G.patchFlag&16;const ve=G.props||ra,Me=X.props||ra;let _e;J&&Bu(J,!1),(_e=Me.onVnodeBeforeUpdate)&&Ol(_e,J,X,G),me&&Fu(X,G,J,"beforeUpdate"),J&&Bu(J,!0);const we=ie&&X.type!=="foreignObject";if(ge?v(G.dynamicChildren,ge,ce,J,ne,we,ae):le||C(G,X,ce,null,J,ne,we,ae,!1),pe>0){if(pe&16)y(ce,X,ve,Me,J,ne,ie);else if(pe&2&&ve.class!==Me.class&&Y(ce,"class",null,Me.class,ie),pe&4&&Y(ce,"style",ve.style,Me.style,ie),pe&8){const oe=X.dynamicProps;for(let se=0;se<oe.length;se++){const de=oe[se],Ee=ve[de],Te=Me[de];(Te!==Ee||de==="value")&&Y(ce,de,Ee,Te,ie,G.children,J,ne,F)}}pe&1&&G.children!==X.children&&a(ce,X.children)}else!le&&ge==null&&y(ce,X,ve,Me,J,ne,ie);((_e=Me.onVnodeUpdated)||me)&&ss(()=>{_e&&Ol(_e,J,X,G),me&&Fu(X,G,J,"updated")},ne)},v=(G,X,J,ne,ie,ae,le)=>{for(let ce=0;ce<X.length;ce++){const pe=G[ce],ge=X[ce],me=pe.el&&(pe.type===ls||!Uu(pe,ge)||pe.shapeFlag&70)?w(pe.el):J;i(pe,ge,me,null,ne,ie,ae,le,!0)}},y=(G,X,J,ne,ie,ae,le)=>{if(J!==ne){for(const ce in ne){if(vh(ce))continue;const pe=ne[ce],ge=J[ce];pe!==ge&&ce!=="value"&&Y(G,ce,ge,pe,le,X.children,ie,ae,F)}if(J!==ra)for(const ce in J)!vh(ce)&&!(ce in ne)&&Y(G,ce,J[ce],null,le,X.children,ie,ae,F);"value"in ne&&Y(G,"value",J.value,ne.value)}},m=(G,X,J,ne,ie,ae,le,ce,pe)=>{const ge=X.el=G?G.el:e(""),me=X.anchor=G?G.anchor:e("");let{patchFlag:ve,dynamicChildren:Me,slotScopeIds:_e}=X;_e&&(ce=ce?ce.concat(_e):_e),G==null?(gt(ge,J,ne),gt(me,J,ne),g(X.children,J,me,ie,ae,le,ce,pe)):ve>0&&ve&64&&Me&&G.dynamicChildren?(v(G.dynamicChildren,Me,J,ie,ae,le,ce),(X.key!=null||ie&&X===ie.subTree)&&tv(G,X,!0)):C(G,X,J,me,ie,ae,le,ce,pe)},_=(G,X,J,ne,ie,ae,le,ce,pe)=>{X.slotScopeIds=ce,G==null?X.shapeFlag&512?ie.ctx.activate(X,J,ne,le,pe):f(X,J,ne,ie,ae,le,pe):S(G,X,pe)},f=(G,X,J,ne,ie,ae,le)=>{const ce=G.component=ox(G,ne,ie);if(Dh(G)&&(ce.ctx.renderer=te),sx(ce),ce.asyncDep){if(ie&&ie.registerDep(ce,T),!G.el){const pe=ce.subTree=qi(pl);r(null,pe,X,J)}return}T(ce,G,X,J,ie,ae,le)},S=(G,X,J)=>{const ne=X.component=G.component;if(m2(G,X,J))if(ne.asyncDep&&!ne.asyncResolved){E(ne,X,J);return}else ne.next=X,f2(ne.update),ne.update();else X.el=G.el,ne.vnode=X},T=(G,X,J,ne,ie,ae,le)=>{const ce=()=>{if(G.isMounted){let{next:me,bu:ve,u:Me,parent:_e,vnode:we}=G,oe=me,se;Bu(G,!1),me?(me.el=we.el,E(G,me,le)):me=we,ve&&Ip(ve),(se=me.props&&me.props.onVnodeBeforeUpdate)&&Ol(se,_e,me,we),Bu(G,!0);const de=Rp(G),Ee=G.subTree;G.subTree=de,i(Ee,de,w(Ee.el),j(Ee),G,ie,ae),me.el=de.el,oe===null&&y2(G,de.el),Me&&ss(Me,ie),(se=me.props&&me.props.onVnodeUpdated)&&ss(()=>Ol(se,_e,me,we),ie)}else{let me;const{el:ve,props:Me}=X,{bm:_e,m:we,parent:oe}=G,se=yh(X);if(Bu(G,!1),_e&&Ip(_e),!se&&(me=Me&&Me.onVnodeBeforeMount)&&Ol(me,oe,X),Bu(G,!0),ve&&$){const de=()=>{G.subTree=Rp(G),$(ve,G.subTree,G,ie,null)};se?X.type.__asyncLoader().then(()=>!G.isUnmounted&&de()):de()}else{const de=G.subTree=Rp(G);i(null,de,J,ne,G,ie,ae),X.el=de.el}if(we&&ss(we,ie),!se&&(me=Me&&Me.onVnodeMounted)){const de=X;ss(()=>Ol(me,oe,de),ie)}(X.shapeFlag&256||oe&&yh(oe.vnode)&&oe.vnode.shapeFlag&256)&&G.a&&ss(G.a,ie),G.isMounted=!0,X=J=ne=null}},pe=G.effect=new pd(ce,()=>wd(ge),G.scope),ge=G.update=()=>pe.run();ge.id=G.uid,Bu(G,!0),ge()},E=(G,X,J)=>{X.component=G;const ne=G.vnode.props;G.vnode=X,G.next=null,q2(G,X.props,ne,J),Y2(G,X.children,J),Pc(),A1(),Oc()},C=(G,X,J,ne,ie,ae,le,ce,pe=!1)=>{const ge=G&&G.children,me=G?G.shapeFlag:0,ve=X.children,{patchFlag:Me,shapeFlag:_e}=X;if(Me>0){if(Me&128){I(ge,ve,J,ne,ie,ae,le,ce,pe);return}else if(Me&256){O(ge,ve,J,ne,ie,ae,le,ce,pe);return}}_e&8?(me&16&&F(ge,ie,ae),ve!==ge&&a(J,ve)):me&16?_e&16?I(ge,ve,J,ne,ie,ae,le,ce,pe):F(ge,ie,ae,!0):(me&8&&a(J,""),_e&16&&g(ve,J,ne,ie,ae,le,ce,pe))},O=(G,X,J,ne,ie,ae,le,ce,pe)=>{G=G||bc,X=X||bc;const ge=G.length,me=X.length,ve=Math.min(ge,me);let Me;for(Me=0;Me<ve;Me++){const _e=X[Me]=pe?pu(X[Me]):Rl(X[Me]);i(G[Me],_e,J,null,ie,ae,le,ce,pe)}ge>me?F(G,ie,ae,!0,!1,ve):g(X,J,ne,ie,ae,le,ce,pe,ve)},I=(G,X,J,ne,ie,ae,le,ce,pe)=>{let ge=0;const me=X.length;let ve=G.length-1,Me=me-1;for(;ge<=ve&&ge<=Me;){const _e=G[ge],we=X[ge]=pe?pu(X[ge]):Rl(X[ge]);if(Uu(_e,we))i(_e,we,J,null,ie,ae,le,ce,pe);else break;ge++}for(;ge<=ve&&ge<=Me;){const _e=G[ve],we=X[Me]=pe?pu(X[Me]):Rl(X[Me]);if(Uu(_e,we))i(_e,we,J,null,ie,ae,le,ce,pe);else break;ve--,Me--}if(ge>ve){if(ge<=Me){const _e=Me+1,we=_e<me?X[_e].el:ne;for(;ge<=Me;)i(null,X[ge]=pe?pu(X[ge]):Rl(X[ge]),J,we,ie,ae,le,ce,pe),ge++}}else if(ge>Me)for(;ge<=ve;)U(G[ge],ie,ae,!0),ge++;else{const _e=ge,we=ge,oe=new Map;for(ge=we;ge<=Me;ge++){const he=X[ge]=pe?pu(X[ge]):Rl(X[ge]);he.key!=null&&oe.set(he.key,ge)}let se,de=0;const Ee=Me-we+1;let Te=!1,Se=0;const Le=new Array(Ee);for(ge=0;ge<Ee;ge++)Le[ge]=0;for(ge=_e;ge<=ve;ge++){const he=G[ge];if(de>=Ee){U(he,ie,ae,!0);continue}let xe;if(he.key!=null)xe=oe.get(he.key);else for(se=we;se<=Me;se++)if(Le[se-we]===0&&Uu(he,X[se])){xe=se;break}xe===void 0?U(he,ie,ae,!0):(Le[xe-we]=ge+1,xe>=Se?Se=xe:Te=!0,i(he,X[xe],J,null,ie,ae,le,ce,pe),de++)}const Oe=Te?$2(Le):bc;for(se=Oe.length-1,ge=Ee-1;ge>=0;ge--){const he=we+ge,xe=X[he],ke=he+1<me?X[he+1].el:ne;Le[ge]===0?i(null,xe,J,ke,ie,ae,le,ce,pe):Te&&(se<0||ge!==Oe[se]?z(xe,J,ke,2):se--)}}},z=(G,X,J,ne,ie=null)=>{const{el:ae,type:le,transition:ce,children:pe,shapeFlag:ge}=G;if(ge&6){z(G.component.subTree,X,J,ne);return}if(ge&128){G.suspense.move(X,J,ne);return}if(ge&64){le.move(G,X,J,te);return}if(le===ls){gt(ae,X,J);for(let ve=0;ve<pe.length;ve++)z(pe[ve],X,J,ne);gt(G.anchor,X,J);return}if(le===xh){l(G,X,J);return}if(ne!==2&&ge&1&&ce)if(ne===0)ce.beforeEnter(ae),gt(ae,X,J),ss(()=>ce.enter(ae),ie);else{const{leave:ve,delayLeave:Me,afterLeave:_e}=ce,we=()=>gt(ae,X,J),oe=()=>{ve(ae,()=>{we(),_e&&_e()})};Me?Me(ae,we,oe):oe()}else gt(ae,X,J)},U=(G,X,J,ne=!1,ie=!1)=>{const{type:ae,props:le,ref:ce,children:pe,dynamicChildren:ge,shapeFlag:me,patchFlag:ve,dirs:Me}=G;if(ce!=null&&$p(ce,null,J,G,!0),me&256){X.ctx.deactivate(G);return}const _e=me&1&&Me,we=!yh(G);let oe;if(we&&(oe=le&&le.onVnodeBeforeUnmount)&&Ol(oe,X,G),me&6)Z(G.component,J,ne);else{if(me&128){G.suspense.unmount(J,ne);return}_e&&Fu(G,null,X,"beforeUnmount"),me&64?G.type.remove(G,X,J,ie,te,ne):ge&&(ae!==ls||ve>0&&ve&64)?F(ge,X,J,!1,!0):(ae===ls&&ve&384||!ie&&me&16)&&F(pe,X,J),ne&&D(G)}(we&&(oe=le&&le.onVnodeUnmounted)||_e)&&ss(()=>{oe&&Ol(oe,X,G),_e&&Fu(G,null,X,"unmounted")},J)},D=G=>{const{type:X,el:J,anchor:ne,transition:ie}=G;if(X===ls){B(J,ne);return}if(X===xh){u(G);return}const ae=()=>{kt(J),ie&&!ie.persisted&&ie.afterLeave&&ie.afterLeave()};if(G.shapeFlag&1&&ie&&!ie.persisted){const{leave:le,delayLeave:ce}=ie,pe=()=>le(J,ae);ce?ce(G.el,ae,pe):pe()}else ae()},B=(G,X)=>{let J;for(;G!==X;)J=b(G),kt(G),G=J;kt(X)},Z=(G,X,J)=>{const{bum:ne,scope:ie,update:ae,subTree:le,um:ce}=G;ne&&Ip(ne),ie.stop(),ae&&(ae.active=!1,U(le,G,X,J)),ce&&ss(ce,X),ss(()=>{G.isUnmounted=!0},X),X&&X.pendingBranch&&!X.isUnmounted&&G.asyncDep&&!G.asyncResolved&&G.suspenseId===X.pendingId&&(X.deps--,X.deps===0&&X.resolve())},F=(G,X,J,ne=!1,ie=!1,ae=0)=>{for(let le=ae;le<G.length;le++)U(G[le],X,J,ne,ie)},j=G=>G.shapeFlag&6?j(G.component.subTree):G.shapeFlag&128?G.suspense.next():b(G.anchor||G.el),V=(G,X,J)=>{G==null?X._vnode&&U(X._vnode,null,null,!0):i(X._vnode||null,G,X,null,null,null,J),A1(),Fg(),X._vnode=G},te={p:i,um:U,m:z,r:D,mt:f,mc:g,pc:C,pbc:v,n:j,o:be};let Q,$;return Ve&&([Q,$]=Ve(te)),{render:V,hydrate:Q,createApp:X2(V,Q)}}function Bu({effect:be,update:Ve},rt){be.allowRecurse=Ve.allowRecurse=rt}function tv(be,Ve,rt=!1){const gt=be.children,kt=Ve.children;if(Yr(gt)&&Yr(kt))for(let Y=0;Y<gt.length;Y++){const P=gt[Y];let e=kt[Y];e.shapeFlag&1&&!e.dynamicChildren&&((e.patchFlag<=0||e.patchFlag===32)&&(e=kt[Y]=pu(kt[Y]),e.el=P.el),rt||tv(P,e))}}function $2(be){const Ve=be.slice(),rt=[0];let gt,kt,Y,P,e;const A=be.length;for(gt=0;gt<A;gt++){const k=be[gt];if(k!==0){if(kt=rt[rt.length-1],be[kt]<k){Ve[gt]=kt,rt.push(gt);continue}for(Y=0,P=rt.length-1;Y<P;)e=Y+P>>1,be[rt[e]]<k?Y=e+1:P=e;k<be[rt[Y]]&&(Y>0&&(Ve[gt]=rt[Y-1]),rt[Y]=gt)}}for(Y=rt.length,P=rt[Y-1];Y-- >0;)rt[Y]=P,P=Ve[P];return rt}const Q2=be=>be.__isTeleport,ls=Symbol(void 0),Ed=Symbol(void 0),pl=Symbol(void 0),xh=Symbol(void 0),hf=[];let fl=null;function Si(be=!1){hf.push(fl=be?null:[])}function ex(){hf.pop(),fl=hf[hf.length-1]||null}let bf=1;function D1(be){bf+=be}function nv(be){return be.dynamicChildren=bf>0?fl||bc:null,ex(),bf>0&&fl&&fl.push(be),be}function Hi(be,Ve,rt,gt,kt,Y){return nv(Kn(be,Ve,rt,gt,kt,Y,!0))}function Ld(be,Ve,rt,gt,kt){return nv(qi(be,Ve,rt,gt,kt,!0))}function Qp(be){return be?be.__v_isVNode===!0:!1}function Uu(be,Ve){return be.type===Ve.type&&be.key===Ve.key}const Fh="__vInternal",rv=({key:be})=>be!=null?be:null,bh=({ref:be,ref_key:Ve,ref_for:rt})=>be!=null?$a(be)||Pa(be)||ii(be)?{i:zl,r:be,k:Ve,f:!!rt}:be:null;function Kn(be,Ve=null,rt=null,gt=0,kt=null,Y=be===ls?0:1,P=!1,e=!1){const A={__v_isVNode:!0,__v_skip:!0,type:be,props:Ve,key:Ve&&rv(Ve),ref:Ve&&bh(Ve),scopeId:Ih,slotScopeIds:null,children:rt,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:Y,patchFlag:gt,dynamicProps:kt,dynamicChildren:null,appContext:null};return e?(Cd(A,rt),Y&128&&be.normalize(A)):rt&&(A.shapeFlag|=$a(rt)?8:16),bf>0&&!P&&fl&&(A.patchFlag>0||Y&6)&&A.patchFlag!==32&&fl.push(A),A}const qi=tx;function tx(be,Ve=null,rt=null,gt=0,kt=null,Y=!1){if((!be||be===D2)&&(be=pl),Qp(be)){const e=xu(be,Ve,!0);return rt&&Cd(e,rt),bf>0&&!Y&&fl&&(e.shapeFlag&6?fl[fl.indexOf(be)]=e:fl.push(e)),e.patchFlag|=-2,e}if(fx(be)&&(be=be.__vccOpts),Ve){Ve=nx(Ve);let{class:e,style:A}=Ve;e&&!$a(e)&&(Ve.class=Lc(e)),ua(A)&&(Lg(A)&&!Yr(A)&&(A=Mo({},A)),Ve.style=Hu(A))}const P=$a(be)?1:x2(be)?128:Q2(be)?64:ua(be)?4:ii(be)?2:0;return Kn(be,Ve,rt,gt,kt,P,Y,!0)}function nx(be){return be?Lg(be)||Fh in be?Mo({},be):be:null}function xu(be,Ve,rt=!1){const{props:gt,ref:kt,patchFlag:Y,children:P}=be,e=Ve?rx(gt||{},Ve):gt;return{__v_isVNode:!0,__v_skip:!0,type:be.type,props:e,key:e&&rv(e),ref:Ve&&Ve.ref?rt&&kt?Yr(kt)?kt.concat(bh(Ve)):[kt,bh(Ve)]:bh(Ve):kt,scopeId:be.scopeId,slotScopeIds:be.slotScopeIds,children:P,target:be.target,targetAnchor:be.targetAnchor,staticCount:be.staticCount,shapeFlag:be.shapeFlag,patchFlag:Ve&&be.type!==ls?Y===-1?16:Y|16:Y,dynamicProps:be.dynamicProps,dynamicChildren:be.dynamicChildren,appContext:be.appContext,dirs:be.dirs,transition:be.transition,component:be.component,suspense:be.suspense,ssContent:be.ssContent&&xu(be.ssContent),ssFallback:be.ssFallback&&xu(be.ssFallback),el:be.el,anchor:be.anchor}}function Oa(be=" ",Ve=0){return qi(Ed,null,be,Ve)}function Yu(be,Ve){const rt=qi(xh,null,be);return rt.staticCount=Ve,rt}function Gu(be="",Ve=!1){return Ve?(Si(),Ld(pl,null,be)):qi(pl,null,be)}function Rl(be){return be==null||typeof be=="boolean"?qi(pl):Yr(be)?qi(ls,null,be.slice()):typeof be=="object"?pu(be):qi(Ed,null,String(be))}function pu(be){return be.el===null||be.memo?be:xu(be)}function Cd(be,Ve){let rt=0;const{shapeFlag:gt}=be;if(Ve==null)Ve=null;else if(Yr(Ve))rt=16;else if(typeof Ve=="object")if(gt&65){const kt=Ve.default;kt&&(kt._c&&(kt._d=!1),Cd(be,kt()),kt._c&&(kt._d=!0));return}else{rt=32;const kt=Ve._;!kt&&!(Fh in Ve)?Ve._ctx=zl:kt===3&&zl&&(zl.slots._===1?Ve._=1:(Ve._=2,be.patchFlag|=1024))}else ii(Ve)?(Ve={default:Ve,_ctx:zl},rt=32):(Ve=String(Ve),gt&64?(rt=16,Ve=[Oa(Ve)]):rt=8);be.children=Ve,be.shapeFlag|=rt}function rx(...be){const Ve={};for(let rt=0;rt<be.length;rt++){const gt=be[rt];for(const kt in gt)if(kt==="class")Ve.class!==gt.class&&(Ve.class=Lc([Ve.class,gt.class]));else if(kt==="style")Ve.style=Hu([Ve.style,gt.style]);else if(Sh(kt)){const Y=Ve[kt],P=gt[kt];P&&Y!==P&&!(Yr(Y)&&Y.includes(P))&&(Ve[kt]=Y?[].concat(Y,P):P)}else kt!==""&&(Ve[kt]=gt[kt])}return Ve}function Ol(be,Ve,rt,gt=null){qs(be,Ve,7,[rt,gt])}const ix=ev();let ax=0;function ox(be,Ve,rt){const gt=be.type,kt=(Ve?Ve.appContext:be.appContext)||ix,Y={uid:ax++,vnode:be,type:gt,parent:Ve,appContext:kt,root:null,next:null,subTree:null,effect:null,update:null,scope:new vg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:Ve?Ve.provides:Object.create(kt.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Kg(gt,kt),emitsOptions:Ng(gt,kt),emit:null,emitted:null,propsDefaults:ra,inheritAttrs:gt.inheritAttrs,ctx:ra,data:ra,props:ra,attrs:ra,slots:ra,refs:ra,setupState:ra,setupContext:null,suspense:rt,suspenseId:rt?rt.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return Y.ctx={_:Y},Y.root=Ve?Ve.root:Y,Y.emit=d2.bind(null,Y),be.ce&&be.ce(Y),Y}let ho=null;const Pd=()=>ho||zl,Mc=be=>{ho=be,be.scope.on()},Wu=()=>{ho&&ho.scope.off(),ho=null};function iv(be){return be.vnode.shapeFlag&4}let _f=!1;function sx(be,Ve=!1){_f=Ve;const{props:rt,children:gt}=be.vnode,kt=iv(be);H2(be,rt,kt,Ve),W2(be,gt);const Y=kt?lx(be,Ve):void 0;return _f=!1,Y}function lx(be,Ve){const rt=be.type;be.accessCache=Object.create(null),be.proxy=Ac(new Proxy(be.ctx,F2));const{setup:gt}=rt;if(gt){const kt=be.setupContext=gt.length>1?cx(be):null;Mc(be),Pc();const Y=mu(gt,be,0,[be.props,kt]);if(Oc(),Wu(),hg(Y)){if(Y.then(Wu,Wu),Ve)return Y.then(P=>{z1(be,P,Ve)}).catch(P=>{Ph(P,be,0)});be.asyncDep=Y}else z1(be,Y,Ve)}else av(be,Ve)}function z1(be,Ve,rt){ii(Ve)?be.type.__ssrInlineRender?be.ssrRender=Ve:be.render=Ve:ua(Ve)&&(be.setupState=Ig(Ve)),av(be,rt)}let F1;function av(be,Ve,rt){const gt=be.type;if(!be.render){if(!Ve&&F1&&!gt.render){const kt=gt.template||Md(be).template;if(kt){const{isCustomElement:Y,compilerOptions:P}=be.appContext.config,{delimiters:e,compilerOptions:A}=gt,k=Mo(Mo({isCustomElement:Y,delimiters:e},P),A);gt.render=F1(kt,k)}}be.render=gt.render||hl}Mc(be),Pc(),B2(be),Oc(),Wu()}function ux(be){return new Proxy(be.attrs,{get(Ve,rt){return Ms(be,"get","$attrs"),Ve[rt]}})}function cx(be){const Ve=gt=>{be.exposed=gt||{}};let rt;return{get attrs(){return rt||(rt=ux(be))},slots:be.slots,emit:be.emit,expose:Ve}}function Od(be){if(be.exposed)return be.exposeProxy||(be.exposeProxy=new Proxy(Ig(Ac(be.exposed)),{get(Ve,rt){if(rt in Ve)return Ve[rt];if(rt in kh)return kh[rt](be)}}))}function fx(be){return ii(be)&&"__vccOpts"in be}const As=(be,Ve)=>l2(be,Ve,_f);function ov(be,Ve,rt){const gt=arguments.length;return gt===2?ua(Ve)&&!Yr(Ve)?Qp(Ve)?qi(be,null,[Ve]):qi(be,Ve):qi(be,null,Ve):(gt>3?rt=Array.prototype.slice.call(arguments,2):gt===3&&Qp(rt)&&(rt=[rt]),qi(be,Ve,rt))}const hx="3.2.39",px="http://www.w3.org/2000/svg",Vu=typeof document<"u"?document:null,B1=Vu&&Vu.createElement("template"),dx={insert:(be,Ve,rt)=>{Ve.insertBefore(be,rt||null)},remove:be=>{const Ve=be.parentNode;Ve&&Ve.removeChild(be)},createElement:(be,Ve,rt,gt)=>{const kt=Ve?Vu.createElementNS(px,be):Vu.createElement(be,rt?{is:rt}:void 0);return be==="select"&&gt&&gt.multiple!=null&&kt.setAttribute("multiple",gt.multiple),kt},createText:be=>Vu.createTextNode(be),createComment:be=>Vu.createComment(be),setText:(be,Ve)=>{be.nodeValue=Ve},setElementText:(be,Ve)=>{be.textContent=Ve},parentNode:be=>be.parentNode,nextSibling:be=>be.nextSibling,querySelector:be=>Vu.querySelector(be),setScopeId(be,Ve){be.setAttribute(Ve,"")},cloneNode(be){const Ve=be.cloneNode(!0);return"_value"in be&&(Ve._value=be._value),Ve},insertStaticContent(be,Ve,rt,gt,kt,Y){const P=rt?rt.previousSibling:Ve.lastChild;if(kt&&(kt===Y||kt.nextSibling))for(;Ve.insertBefore(kt.cloneNode(!0),rt),!(kt===Y||!(kt=kt.nextSibling)););else{B1.innerHTML=gt?`<svg>${be}</svg>`:be;const e=B1.content;if(gt){const A=e.firstChild;for(;A.firstChild;)e.appendChild(A.firstChild);e.removeChild(A)}Ve.insertBefore(e,rt)}return[P?P.nextSibling:Ve.firstChild,rt?rt.previousSibling:Ve.lastChild]}};function gx(be,Ve,rt){const gt=be._vtc;gt&&(Ve=(Ve?[Ve,...gt]:[...gt]).join(" ")),Ve==null?be.removeAttribute("class"):rt?be.setAttribute("class",Ve):be.className=Ve}function vx(be,Ve,rt){const gt=be.style,kt=$a(rt);if(rt&&!kt){for(const Y in rt)ed(gt,Y,rt[Y]);if(Ve&&!$a(Ve))for(const Y in Ve)rt[Y]==null&&ed(gt,Y,"")}else{const Y=gt.display;kt?Ve!==rt&&(gt.cssText=rt):Ve&&be.removeAttribute("style"),"_vod"in be&&(gt.display=Y)}}const N1=/\s*!important$/;function ed(be,Ve,rt){if(Yr(rt))rt.forEach(gt=>ed(be,Ve,gt));else if(rt==null&&(rt=""),Ve.startsWith("--"))be.setProperty(Ve,rt);else{const gt=mx(be,Ve);N1.test(rt)?be.setProperty(Cc(gt),rt.replace(N1,""),"important"):be[gt]=rt}}const j1=["Webkit","Moz","ms"],zp={};function mx(be,Ve){const rt=zp[Ve];if(rt)return rt;let gt=Tc(Ve);if(gt!=="filter"&&gt in be)return zp[Ve]=gt;gt=gg(gt);for(let kt=0;kt<j1.length;kt++){const Y=j1[kt]+gt;if(Y in be)return zp[Ve]=Y}return Ve}const U1="http://www.w3.org/1999/xlink";function yx(be,Ve,rt,gt,kt){if(gt&&Ve.startsWith("xlink:"))rt==null?be.removeAttributeNS(U1,Ve.slice(6,Ve.length)):be.setAttributeNS(U1,Ve,rt);else{const Y=vy(Ve);rt==null||Y&&!ug(rt)?be.removeAttribute(Ve):be.setAttribute(Ve,Y?"":rt)}}function xx(be,Ve,rt,gt,kt,Y,P){if(Ve==="innerHTML"||Ve==="textContent"){gt&&P(gt,kt,Y),be[Ve]=rt==null?"":rt;return}if(Ve==="value"&&be.tagName!=="PROGRESS"&&!be.tagName.includes("-")){be._value=rt;const A=rt==null?"":rt;(be.value!==A||be.tagName==="OPTION")&&(be.value=A),rt==null&&be.removeAttribute(Ve);return}let e=!1;if(rt===""||rt==null){const A=typeof be[Ve];A==="boolean"?rt=ug(rt):rt==null&&A==="string"?(rt="",e=!0):A==="number"&&(rt=0,e=!0)}try{be[Ve]=rt}catch{}e&&be.removeAttribute(Ve)}const[sv,bx]=(()=>{let be=Date.now,Ve=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(be=performance.now.bind(performance));const rt=navigator.userAgent.match(/firefox\/(\d+)/i);Ve=!!(rt&&Number(rt[1])<=53)}return[be,Ve]})();let td=0;const _x=Promise.resolve(),wx=()=>{td=0},Tx=()=>td||(_x.then(wx),td=sv());function kx(be,Ve,rt,gt){be.addEventListener(Ve,rt,gt)}function Ax(be,Ve,rt,gt){be.removeEventListener(Ve,rt,gt)}function Mx(be,Ve,rt,gt,kt=null){const Y=be._vei||(be._vei={}),P=Y[Ve];if(gt&&P)P.value=gt;else{const[e,A]=Sx(Ve);if(gt){const k=Y[Ve]=Ex(gt,kt);kx(be,e,k,A)}else P&&(Ax(be,e,P,A),Y[Ve]=void 0)}}const V1=/(?:Once|Passive|Capture)$/;function Sx(be){let Ve;if(V1.test(be)){Ve={};let gt;for(;gt=be.match(V1);)be=be.slice(0,be.length-gt[0].length),Ve[gt[0].toLowerCase()]=!0}return[be[2]===":"?be.slice(3):Cc(be.slice(2)),Ve]}function Ex(be,Ve){const rt=gt=>{const kt=gt.timeStamp||sv();(bx||kt>=rt.attached-1)&&qs(Lx(gt,rt.value),Ve,5,[gt])};return rt.value=be,rt.attached=Tx(),rt}function Lx(be,Ve){if(Yr(Ve)){const rt=be.stopImmediatePropagation;return be.stopImmediatePropagation=()=>{rt.call(be),be._stopped=!0},Ve.map(gt=>kt=>!kt._stopped&&gt&&gt(kt))}else return Ve}const H1=/^on[a-z]/,Cx=(be,Ve,rt,gt,kt=!1,Y,P,e,A)=>{Ve==="class"?gx(be,gt,kt):Ve==="style"?vx(be,rt,gt):Sh(Ve)?ld(Ve)||Mx(be,Ve,rt,gt,P):(Ve[0]==="."?(Ve=Ve.slice(1),!0):Ve[0]==="^"?(Ve=Ve.slice(1),!1):Px(be,Ve,gt,kt))?xx(be,Ve,gt,Y,P,e,A):(Ve==="true-value"?be._trueValue=gt:Ve==="false-value"&&(be._falseValue=gt),yx(be,Ve,gt,kt))};function Px(be,Ve,rt,gt){return gt?!!(Ve==="innerHTML"||Ve==="textContent"||Ve in be&&H1.test(Ve)&&ii(rt)):Ve==="spellcheck"||Ve==="draggable"||Ve==="translate"||Ve==="form"||Ve==="list"&&be.tagName==="INPUT"||Ve==="type"&&be.tagName==="TEXTAREA"||H1.test(Ve)&&$a(rt)?!1:Ve in be}const Ox={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};k2.props;const Ix=["ctrl","shift","alt","meta"],Rx={stop:be=>be.stopPropagation(),prevent:be=>be.preventDefault(),self:be=>be.target!==be.currentTarget,ctrl:be=>!be.ctrlKey,shift:be=>!be.shiftKey,alt:be=>!be.altKey,meta:be=>!be.metaKey,left:be=>"button"in be&&be.button!==0,middle:be=>"button"in be&&be.button!==1,right:be=>"button"in be&&be.button!==2,exact:(be,Ve)=>Ix.some(rt=>be[`${rt}Key`]&&!Ve.includes(rt))},Dx=(be,Ve)=>(rt,...gt)=>{for(let kt=0;kt<Ve.length;kt++){const Y=Rx[Ve[kt]];if(Y&&Y(rt,Ve))return}return be(rt,...gt)},zx=Mo({patchProp:Cx},dx);let q1;function Fx(){return q1||(q1=K2(zx))}const Bx=(...be)=>{const Ve=Fx().createApp(...be),{mount:rt}=Ve;return Ve.mount=gt=>{const kt=Nx(gt);if(!kt)return;const Y=Ve._component;!ii(Y)&&!Y.render&&!Y.template&&(Y.template=kt.innerHTML),kt.innerHTML="";const P=rt(kt,!1,kt instanceof SVGElement);return kt instanceof Element&&(kt.removeAttribute("v-cloak"),kt.setAttribute("data-v-app","")),P},Ve};function Nx(be){return $a(be)?document.querySelector(be):be}var jx=!1;/*!
  * pinia v2.0.22
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let lv;const Bh=be=>lv=be,uv=Symbol();function nd(be){return be&&typeof be=="object"&&Object.prototype.toString.call(be)==="[object Object]"&&typeof be.toJSON!="function"}var pf;(function(be){be.direct="direct",be.patchObject="patch object",be.patchFunction="patch function"})(pf||(pf={}));function Ux(){const be=mg(!0),Ve=be.run(()=>xd({}));let rt=[],gt=[];const kt=Ac({install(Y){Bh(kt),kt._a=Y,Y.provide(uv,kt),Y.config.globalProperties.$pinia=kt,gt.forEach(P=>rt.push(P)),gt=[]},use(Y){return!this._a&&!jx?gt.push(Y):rt.push(Y),this},_p:rt,_a:null,_e:be,_s:new Map,state:Ve});return kt}const cv=()=>{};function G1(be,Ve,rt,gt=cv){be.push(Ve);const kt=()=>{const Y=be.indexOf(Ve);Y>-1&&(be.splice(Y,1),gt())};return!rt&&Pd()&&Ad(kt),kt}function vc(be,...Ve){be.slice().forEach(rt=>{rt(...Ve)})}function rd(be,Ve){be instanceof Map&&Ve instanceof Map&&Ve.forEach((rt,gt)=>be.set(gt,rt)),be instanceof Set&&Ve instanceof Set&&Ve.forEach(be.add,be);for(const rt in Ve){if(!Ve.hasOwnProperty(rt))continue;const gt=Ve[rt],kt=be[rt];nd(kt)&&nd(gt)&&be.hasOwnProperty(rt)&&!Pa(gt)&&!vu(gt)?be[rt]=rd(kt,gt):be[rt]=gt}return be}const Vx=Symbol();function Hx(be){return!nd(be)||!be.hasOwnProperty(Vx)}const{assign:Xl}=Object;function qx(be){return!!(Pa(be)&&be.effect)}function Gx(be,Ve,rt,gt){const{state:kt,actions:Y,getters:P}=Ve,e=rt.state.value[be];let A;function k(){e||(rt.state.value[be]=kt?kt():{});const a=i2(rt.state.value[be]);return Xl(a,Y,Object.keys(P||{}).reduce((w,b)=>(w[b]=Ac(As(()=>{Bh(rt);const h=rt._s.get(be);return P[b].call(h,h)})),w),{}))}return A=fv(be,k,Ve,rt,gt,!0),A.$reset=function(){const w=kt?kt():{};this.$patch(b=>{Xl(b,w)})},A}function fv(be,Ve,rt={},gt,kt,Y){let P;const e=Xl({actions:{}},rt),A={deep:!0};let k,a,w=Ac([]),b=Ac([]),h;const o=gt.state.value[be];!Y&&!o&&(gt.state.value[be]={}),xd({});let t;function i(c){let x;k=a=!1,typeof c=="function"?(c(gt.state.value[be]),x={type:pf.patchFunction,storeId:be,events:h}):(rd(gt.state.value[be],c),x={type:pf.patchObject,payload:c,storeId:be,events:h});const g=t=Symbol();_d().then(()=>{t===g&&(k=!0)}),a=!0,vc(w,x,gt.state.value[be])}const n=cv;function r(){P.stop(),w=[],b=[],gt._s.delete(be)}function s(c,x){return function(){Bh(gt);const g=Array.from(arguments),p=[],v=[];function y(f){p.push(f)}function m(f){v.push(f)}vc(b,{args:g,name:c,store:u,after:y,onError:m});let _;try{_=x.apply(this&&this.$id===be?this:u,g)}catch(f){throw vc(v,f),f}return _ instanceof Promise?_.then(f=>(vc(p,f),f)).catch(f=>(vc(v,f),Promise.reject(f))):(vc(p,_),_)}}const l={_p:gt,$id:be,$onAction:G1.bind(null,b),$patch:i,$reset:n,$subscribe(c,x={}){const g=G1(w,c,x.detached,()=>p()),p=P.run(()=>ff(()=>gt.state.value[be],v=>{(x.flush==="sync"?a:k)&&c({storeId:be,type:pf.direct,events:h},v)},Xl({},A,x)));return g},$dispose:r},u=Ic(Xl({},l));gt._s.set(be,u);const d=gt._e.run(()=>(P=mg(),P.run(()=>Ve())));for(const c in d){const x=d[c];if(Pa(x)&&!qx(x)||vu(x))Y||(o&&Hx(x)&&(Pa(x)?x.value=o[c]:rd(x,o[c])),gt.state.value[be][c]=x);else if(typeof x=="function"){const g=s(c,x);d[c]=g,e.actions[c]=x}}return Xl(u,d),Xl(Ei(u),d),Object.defineProperty(u,"$state",{get:()=>gt.state.value[be],set:c=>{i(x=>{Xl(x,c)})}}),gt._p.forEach(c=>{Xl(u,P.run(()=>c({store:u,app:gt._a,pinia:gt,options:e})))}),o&&Y&&rt.hydrate&&rt.hydrate(u.$state,o),k=!0,a=!0,u}function Wx(be,Ve,rt){let gt,kt;const Y=typeof Ve=="function";typeof be=="string"?(gt=be,kt=Y?rt:Ve):(kt=be,gt=be.id);function P(e,A){const k=Pd();return e=e||k&&Fl(uv),e&&Bh(e),e=lv,e._s.has(gt)||(Y?fv(gt,Ve,kt,e):Gx(gt,kt,e)),e._s.get(gt)}return P.$id=gt,P}/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const yc=typeof window<"u";function Yx(be){return be.__esModule||be[Symbol.toStringTag]==="Module"}const Vi=Object.assign;function Fp(be,Ve){const rt={};for(const gt in Ve){const kt=Ve[gt];rt[gt]=dl(kt)?kt.map(be):be(kt)}return rt}const df=()=>{},dl=Array.isArray,Zx=/\/$/,Xx=be=>be.replace(Zx,"");function Bp(be,Ve,rt="/"){let gt,kt={},Y="",P="";const e=Ve.indexOf("#");let A=Ve.indexOf("?");return e<A&&e>=0&&(A=-1),A>-1&&(gt=Ve.slice(0,A),Y=Ve.slice(A+1,e>-1?e:Ve.length),kt=be(Y)),e>-1&&(gt=gt||Ve.slice(0,e),P=Ve.slice(e,Ve.length)),gt=Qx(gt!=null?gt:Ve,rt),{fullPath:gt+(Y&&"?")+Y+P,path:gt,query:kt,hash:P}}function Kx(be,Ve){const rt=Ve.query?be(Ve.query):"";return Ve.path+(rt&&"?")+rt+(Ve.hash||"")}function W1(be,Ve){return!Ve||!be.toLowerCase().startsWith(Ve.toLowerCase())?be:be.slice(Ve.length)||"/"}function Jx(be,Ve,rt){const gt=Ve.matched.length-1,kt=rt.matched.length-1;return gt>-1&&gt===kt&&Sc(Ve.matched[gt],rt.matched[kt])&&hv(Ve.params,rt.params)&&be(Ve.query)===be(rt.query)&&Ve.hash===rt.hash}function Sc(be,Ve){return(be.aliasOf||be)===(Ve.aliasOf||Ve)}function hv(be,Ve){if(Object.keys(be).length!==Object.keys(Ve).length)return!1;for(const rt in be)if(!$x(be[rt],Ve[rt]))return!1;return!0}function $x(be,Ve){return dl(be)?Y1(be,Ve):dl(Ve)?Y1(Ve,be):be===Ve}function Y1(be,Ve){return dl(Ve)?be.length===Ve.length&&be.every((rt,gt)=>rt===Ve[gt]):be.length===1&&be[0]===Ve}function Qx(be,Ve){if(be.startsWith("/"))return be;if(!be)return Ve;const rt=Ve.split("/"),gt=be.split("/");let kt=rt.length-1,Y,P;for(Y=0;Y<gt.length;Y++)if(P=gt[Y],P!==".")if(P==="..")kt>1&&kt--;else break;return rt.slice(0,kt).join("/")+"/"+gt.slice(Y-(Y===gt.length?1:0)).join("/")}var wf;(function(be){be.pop="pop",be.push="push"})(wf||(wf={}));var gf;(function(be){be.back="back",be.forward="forward",be.unknown=""})(gf||(gf={}));function eb(be){if(!be)if(yc){const Ve=document.querySelector("base");be=Ve&&Ve.getAttribute("href")||"/",be=be.replace(/^\w+:\/\/[^\/]+/,"")}else be="/";return be[0]!=="/"&&be[0]!=="#"&&(be="/"+be),Xx(be)}const tb=/^[^#]+#/;function nb(be,Ve){return be.replace(tb,"#")+Ve}function rb(be,Ve){const rt=document.documentElement.getBoundingClientRect(),gt=be.getBoundingClientRect();return{behavior:Ve.behavior,left:gt.left-rt.left-(Ve.left||0),top:gt.top-rt.top-(Ve.top||0)}}const Nh=()=>({left:window.pageXOffset,top:window.pageYOffset});function ib(be){let Ve;if("el"in be){const rt=be.el,gt=typeof rt=="string"&&rt.startsWith("#"),kt=typeof rt=="string"?gt?document.getElementById(rt.slice(1)):document.querySelector(rt):rt;if(!kt)return;Ve=rb(kt,be)}else Ve=be;"scrollBehavior"in document.documentElement.style?window.scrollTo(Ve):window.scrollTo(Ve.left!=null?Ve.left:window.pageXOffset,Ve.top!=null?Ve.top:window.pageYOffset)}function Z1(be,Ve){return(history.state?history.state.position-Ve:-1)+be}const id=new Map;function ab(be,Ve){id.set(be,Ve)}function ob(be){const Ve=id.get(be);return id.delete(be),Ve}let sb=()=>location.protocol+"//"+location.host;function pv(be,Ve){const{pathname:rt,search:gt,hash:kt}=Ve,Y=be.indexOf("#");if(Y>-1){let e=kt.includes(be.slice(Y))?be.slice(Y).length:1,A=kt.slice(e);return A[0]!=="/"&&(A="/"+A),W1(A,"")}return W1(rt,be)+gt+kt}function lb(be,Ve,rt,gt){let kt=[],Y=[],P=null;const e=({state:b})=>{const h=pv(be,location),o=rt.value,t=Ve.value;let i=0;if(b){if(rt.value=h,Ve.value=b,P&&P===o){P=null;return}i=t?b.position-t.position:0}else gt(h);kt.forEach(n=>{n(rt.value,o,{delta:i,type:wf.pop,direction:i?i>0?gf.forward:gf.back:gf.unknown})})};function A(){P=rt.value}function k(b){kt.push(b);const h=()=>{const o=kt.indexOf(b);o>-1&&kt.splice(o,1)};return Y.push(h),h}function a(){const{history:b}=window;!b.state||b.replaceState(Vi({},b.state,{scroll:Nh()}),"")}function w(){for(const b of Y)b();Y=[],window.removeEventListener("popstate",e),window.removeEventListener("beforeunload",a)}return window.addEventListener("popstate",e),window.addEventListener("beforeunload",a),{pauseListeners:A,listen:k,destroy:w}}function X1(be,Ve,rt,gt=!1,kt=!1){return{back:be,current:Ve,forward:rt,replaced:gt,position:window.history.length,scroll:kt?Nh():null}}function ub(be){const{history:Ve,location:rt}=window,gt={value:pv(be,rt)},kt={value:Ve.state};kt.value||Y(gt.value,{back:null,current:gt.value,forward:null,position:Ve.length-1,replaced:!0,scroll:null},!0);function Y(A,k,a){const w=be.indexOf("#"),b=w>-1?(rt.host&&document.querySelector("base")?be:be.slice(w))+A:sb()+be+A;try{Ve[a?"replaceState":"pushState"](k,"",b),kt.value=k}catch(h){console.error(h),rt[a?"replace":"assign"](b)}}function P(A,k){const a=Vi({},Ve.state,X1(kt.value.back,A,kt.value.forward,!0),k,{position:kt.value.position});Y(A,a,!0),gt.value=A}function e(A,k){const a=Vi({},kt.value,Ve.state,{forward:A,scroll:Nh()});Y(a.current,a,!0);const w=Vi({},X1(gt.value,A,null),{position:a.position+1},k);Y(A,w,!1),gt.value=A}return{location:gt,state:kt,push:e,replace:P}}function cb(be){be=eb(be);const Ve=ub(be),rt=lb(be,Ve.state,Ve.location,Ve.replace);function gt(Y,P=!0){P||rt.pauseListeners(),history.go(Y)}const kt=Vi({location:"",base:be,go:gt,createHref:nb.bind(null,be)},Ve,rt);return Object.defineProperty(kt,"location",{enumerable:!0,get:()=>Ve.location.value}),Object.defineProperty(kt,"state",{enumerable:!0,get:()=>Ve.state.value}),kt}function fb(be){return be=location.host?be||location.pathname+location.search:"",be.includes("#")||(be+="#"),cb(be)}function hb(be){return typeof be=="string"||be&&typeof be=="object"}function dv(be){return typeof be=="string"||typeof be=="symbol"}const hu={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},gv=Symbol("");var K1;(function(be){be[be.aborted=4]="aborted",be[be.cancelled=8]="cancelled",be[be.duplicated=16]="duplicated"})(K1||(K1={}));function Ec(be,Ve){return Vi(new Error,{type:be,[gv]:!0},Ve)}function Yl(be,Ve){return be instanceof Error&&gv in be&&(Ve==null||!!(be.type&Ve))}const J1="[^/]+?",pb={sensitive:!1,strict:!1,start:!0,end:!0},db=/[.+*?^${}()[\]/\\]/g;function gb(be,Ve){const rt=Vi({},pb,Ve),gt=[];let kt=rt.start?"^":"";const Y=[];for(const k of be){const a=k.length?[]:[90];rt.strict&&!k.length&&(kt+="/");for(let w=0;w<k.length;w++){const b=k[w];let h=40+(rt.sensitive?.25:0);if(b.type===0)w||(kt+="/"),kt+=b.value.replace(db,"\\$&"),h+=40;else if(b.type===1){const{value:o,repeatable:t,optional:i,regexp:n}=b;Y.push({name:o,repeatable:t,optional:i});const r=n||J1;if(r!==J1){h+=10;try{new RegExp(`(${r})`)}catch(l){throw new Error(`Invalid custom RegExp for param "${o}" (${r}): `+l.message)}}let s=t?`((?:${r})(?:/(?:${r}))*)`:`(${r})`;w||(s=i&&k.length<2?`(?:/${s})`:"/"+s),i&&(s+="?"),kt+=s,h+=20,i&&(h+=-8),t&&(h+=-20),r===".*"&&(h+=-50)}a.push(h)}gt.push(a)}if(rt.strict&&rt.end){const k=gt.length-1;gt[k][gt[k].length-1]+=.7000000000000001}rt.strict||(kt+="/?"),rt.end?kt+="$":rt.strict&&(kt+="(?:/|$)");const P=new RegExp(kt,rt.sensitive?"":"i");function e(k){const a=k.match(P),w={};if(!a)return null;for(let b=1;b<a.length;b++){const h=a[b]||"",o=Y[b-1];w[o.name]=h&&o.repeatable?h.split("/"):h}return w}function A(k){let a="",w=!1;for(const b of be){(!w||!a.endsWith("/"))&&(a+="/"),w=!1;for(const h of b)if(h.type===0)a+=h.value;else if(h.type===1){const{value:o,repeatable:t,optional:i}=h,n=o in k?k[o]:"";if(dl(n)&&!t)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const r=dl(n)?n.join("/"):n;if(!r)if(i)b.length<2&&(a.endsWith("/")?a=a.slice(0,-1):w=!0);else throw new Error(`Missing required param "${o}"`);a+=r}}return a||"/"}return{re:P,score:gt,keys:Y,parse:e,stringify:A}}function vb(be,Ve){let rt=0;for(;rt<be.length&&rt<Ve.length;){const gt=Ve[rt]-be[rt];if(gt)return gt;rt++}return be.length<Ve.length?be.length===1&&be[0]===40+40?-1:1:be.length>Ve.length?Ve.length===1&&Ve[0]===40+40?1:-1:0}function mb(be,Ve){let rt=0;const gt=be.score,kt=Ve.score;for(;rt<gt.length&&rt<kt.length;){const Y=vb(gt[rt],kt[rt]);if(Y)return Y;rt++}if(Math.abs(kt.length-gt.length)===1){if($1(gt))return 1;if($1(kt))return-1}return kt.length-gt.length}function $1(be){const Ve=be[be.length-1];return be.length>0&&Ve[Ve.length-1]<0}const yb={type:0,value:""},xb=/[a-zA-Z0-9_]/;function bb(be){if(!be)return[[]];if(be==="/")return[[yb]];if(!be.startsWith("/"))throw new Error(`Invalid path "${be}"`);function Ve(h){throw new Error(`ERR (${rt})/"${k}": ${h}`)}let rt=0,gt=rt;const kt=[];let Y;function P(){Y&&kt.push(Y),Y=[]}let e=0,A,k="",a="";function w(){!k||(rt===0?Y.push({type:0,value:k}):rt===1||rt===2||rt===3?(Y.length>1&&(A==="*"||A==="+")&&Ve(`A repeatable param (${k}) must be alone in its segment. eg: '/:ids+.`),Y.push({type:1,value:k,regexp:a,repeatable:A==="*"||A==="+",optional:A==="*"||A==="?"})):Ve("Invalid state to consume buffer"),k="")}function b(){k+=A}for(;e<be.length;){if(A=be[e++],A==="\\"&&rt!==2){gt=rt,rt=4;continue}switch(rt){case 0:A==="/"?(k&&w(),P()):A===":"?(w(),rt=1):b();break;case 4:b(),rt=gt;break;case 1:A==="("?rt=2:xb.test(A)?b():(w(),rt=0,A!=="*"&&A!=="?"&&A!=="+"&&e--);break;case 2:A===")"?a[a.length-1]=="\\"?a=a.slice(0,-1)+A:rt=3:a+=A;break;case 3:w(),rt=0,A!=="*"&&A!=="?"&&A!=="+"&&e--,a="";break;default:Ve("Unknown state");break}}return rt===2&&Ve(`Unfinished custom RegExp for param "${k}"`),w(),P(),kt}function _b(be,Ve,rt){const gt=gb(bb(be.path),rt),kt=Vi(gt,{record:be,parent:Ve,children:[],alias:[]});return Ve&&!kt.record.aliasOf==!Ve.record.aliasOf&&Ve.children.push(kt),kt}function wb(be,Ve){const rt=[],gt=new Map;Ve=tg({strict:!1,end:!0,sensitive:!1},Ve);function kt(a){return gt.get(a)}function Y(a,w,b){const h=!b,o=Tb(a);o.aliasOf=b&&b.record;const t=tg(Ve,a),i=[o];if("alias"in a){const s=typeof a.alias=="string"?[a.alias]:a.alias;for(const l of s)i.push(Vi({},o,{components:b?b.record.components:o.components,path:l,aliasOf:b?b.record:o}))}let n,r;for(const s of i){const{path:l}=s;if(w&&l[0]!=="/"){const u=w.record.path,d=u[u.length-1]==="/"?"":"/";s.path=w.record.path+(l&&d+l)}if(n=_b(s,w,t),b?b.alias.push(n):(r=r||n,r!==n&&r.alias.push(n),h&&a.name&&!eg(n)&&P(a.name)),o.children){const u=o.children;for(let d=0;d<u.length;d++)Y(u[d],n,b&&b.children[d])}b=b||n,A(n)}return r?()=>{P(r)}:df}function P(a){if(dv(a)){const w=gt.get(a);w&&(gt.delete(a),rt.splice(rt.indexOf(w),1),w.children.forEach(P),w.alias.forEach(P))}else{const w=rt.indexOf(a);w>-1&&(rt.splice(w,1),a.record.name&&gt.delete(a.record.name),a.children.forEach(P),a.alias.forEach(P))}}function e(){return rt}function A(a){let w=0;for(;w<rt.length&&mb(a,rt[w])>=0&&(a.record.path!==rt[w].record.path||!vv(a,rt[w]));)w++;rt.splice(w,0,a),a.record.name&&!eg(a)&&gt.set(a.record.name,a)}function k(a,w){let b,h={},o,t;if("name"in a&&a.name){if(b=gt.get(a.name),!b)throw Ec(1,{location:a});t=b.record.name,h=Vi(Q1(w.params,b.keys.filter(r=>!r.optional).map(r=>r.name)),a.params&&Q1(a.params,b.keys.map(r=>r.name))),o=b.stringify(h)}else if("path"in a)o=a.path,b=rt.find(r=>r.re.test(o)),b&&(h=b.parse(o),t=b.record.name);else{if(b=w.name?gt.get(w.name):rt.find(r=>r.re.test(w.path)),!b)throw Ec(1,{location:a,currentLocation:w});t=b.record.name,h=Vi({},w.params,a.params),o=b.stringify(h)}const i=[];let n=b;for(;n;)i.unshift(n.record),n=n.parent;return{name:t,path:o,params:h,matched:i,meta:Ab(i)}}return be.forEach(a=>Y(a)),{addRoute:Y,resolve:k,removeRoute:P,getRoutes:e,getRecordMatcher:kt}}function Q1(be,Ve){const rt={};for(const gt of Ve)gt in be&&(rt[gt]=be[gt]);return rt}function Tb(be){return{path:be.path,redirect:be.redirect,name:be.name,meta:be.meta||{},aliasOf:void 0,beforeEnter:be.beforeEnter,props:kb(be),children:be.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in be?be.components||null:be.component&&{default:be.component}}}function kb(be){const Ve={},rt=be.props||!1;if("component"in be)Ve.default=rt;else for(const gt in be.components)Ve[gt]=typeof rt=="boolean"?rt:rt[gt];return Ve}function eg(be){for(;be;){if(be.record.aliasOf)return!0;be=be.parent}return!1}function Ab(be){return be.reduce((Ve,rt)=>Vi(Ve,rt.meta),{})}function tg(be,Ve){const rt={};for(const gt in be)rt[gt]=gt in Ve?Ve[gt]:be[gt];return rt}function vv(be,Ve){return Ve.children.some(rt=>rt===be||vv(be,rt))}const mv=/#/g,Mb=/&/g,Sb=/\//g,Eb=/=/g,Lb=/\?/g,yv=/\+/g,Cb=/%5B/g,Pb=/%5D/g,xv=/%5E/g,Ob=/%60/g,bv=/%7B/g,Ib=/%7C/g,_v=/%7D/g,Rb=/%20/g;function Id(be){return encodeURI(""+be).replace(Ib,"|").replace(Cb,"[").replace(Pb,"]")}function Db(be){return Id(be).replace(bv,"{").replace(_v,"}").replace(xv,"^")}function ad(be){return Id(be).replace(yv,"%2B").replace(Rb,"+").replace(mv,"%23").replace(Mb,"%26").replace(Ob,"`").replace(bv,"{").replace(_v,"}").replace(xv,"^")}function zb(be){return ad(be).replace(Eb,"%3D")}function Fb(be){return Id(be).replace(mv,"%23").replace(Lb,"%3F")}function Bb(be){return be==null?"":Fb(be).replace(Sb,"%2F")}function Mh(be){try{return decodeURIComponent(""+be)}catch{}return""+be}function Nb(be){const Ve={};if(be===""||be==="?")return Ve;const gt=(be[0]==="?"?be.slice(1):be).split("&");for(let kt=0;kt<gt.length;++kt){const Y=gt[kt].replace(yv," "),P=Y.indexOf("="),e=Mh(P<0?Y:Y.slice(0,P)),A=P<0?null:Mh(Y.slice(P+1));if(e in Ve){let k=Ve[e];dl(k)||(k=Ve[e]=[k]),k.push(A)}else Ve[e]=A}return Ve}function ng(be){let Ve="";for(let rt in be){const gt=be[rt];if(rt=zb(rt),gt==null){gt!==void 0&&(Ve+=(Ve.length?"&":"")+rt);continue}(dl(gt)?gt.map(Y=>Y&&ad(Y)):[gt&&ad(gt)]).forEach(Y=>{Y!==void 0&&(Ve+=(Ve.length?"&":"")+rt,Y!=null&&(Ve+="="+Y))})}return Ve}function jb(be){const Ve={};for(const rt in be){const gt=be[rt];gt!==void 0&&(Ve[rt]=dl(gt)?gt.map(kt=>kt==null?null:""+kt):gt==null?gt:""+gt)}return Ve}const Ub=Symbol(""),rg=Symbol(""),Rd=Symbol(""),Dd=Symbol(""),od=Symbol("");function uf(){let be=[];function Ve(gt){return be.push(gt),()=>{const kt=be.indexOf(gt);kt>-1&&be.splice(kt,1)}}function rt(){be=[]}return{add:Ve,list:()=>be,reset:rt}}function du(be,Ve,rt,gt,kt){const Y=gt&&(gt.enterCallbacks[kt]=gt.enterCallbacks[kt]||[]);return()=>new Promise((P,e)=>{const A=w=>{w===!1?e(Ec(4,{from:rt,to:Ve})):w instanceof Error?e(w):hb(w)?e(Ec(2,{from:Ve,to:w})):(Y&&gt.enterCallbacks[kt]===Y&&typeof w=="function"&&Y.push(w),P())},k=be.call(gt&&gt.instances[kt],Ve,rt,A);let a=Promise.resolve(k);be.length<3&&(a=a.then(A)),a.catch(w=>e(w))})}function Np(be,Ve,rt,gt){const kt=[];for(const Y of be)for(const P in Y.components){let e=Y.components[P];if(!(Ve!=="beforeRouteEnter"&&!Y.instances[P]))if(Vb(e)){const k=(e.__vccOpts||e)[Ve];k&&kt.push(du(k,rt,gt,Y,P))}else{let A=e();kt.push(()=>A.then(k=>{if(!k)return Promise.reject(new Error(`Couldn't resolve component "${P}" at "${Y.path}"`));const a=Yx(k)?k.default:k;Y.components[P]=a;const b=(a.__vccOpts||a)[Ve];return b&&du(b,rt,gt,Y,P)()}))}}return kt}function Vb(be){return typeof be=="object"||"displayName"in be||"props"in be||"__vccOpts"in be}function ig(be){const Ve=Fl(Rd),rt=Fl(Dd),gt=As(()=>Ve.resolve(Yi(be.to))),kt=As(()=>{const{matched:A}=gt.value,{length:k}=A,a=A[k-1],w=rt.matched;if(!a||!w.length)return-1;const b=w.findIndex(Sc.bind(null,a));if(b>-1)return b;const h=ag(A[k-2]);return k>1&&ag(a)===h&&w[w.length-1].path!==h?w.findIndex(Sc.bind(null,A[k-2])):b}),Y=As(()=>kt.value>-1&&Gb(rt.params,gt.value.params)),P=As(()=>kt.value>-1&&kt.value===rt.matched.length-1&&hv(rt.params,gt.value.params));function e(A={}){return qb(A)?Ve[Yi(be.replace)?"replace":"push"](Yi(be.to)).catch(df):Promise.resolve()}return{route:gt,href:As(()=>gt.value.href),isActive:Y,isExactActive:P,navigate:e}}const Hb=qg({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ig,setup(be,{slots:Ve}){const rt=Ic(ig(be)),{options:gt}=Fl(Rd),kt=As(()=>({[og(be.activeClass,gt.linkActiveClass,"router-link-active")]:rt.isActive,[og(be.exactActiveClass,gt.linkExactActiveClass,"router-link-exact-active")]:rt.isExactActive}));return()=>{const Y=Ve.default&&Ve.default(rt);return be.custom?Y:ov("a",{"aria-current":rt.isExactActive?be.ariaCurrentValue:null,href:rt.href,onClick:rt.navigate,class:kt.value},Y)}}}),jh=Hb;function qb(be){if(!(be.metaKey||be.altKey||be.ctrlKey||be.shiftKey)&&!be.defaultPrevented&&!(be.button!==void 0&&be.button!==0)){if(be.currentTarget&&be.currentTarget.getAttribute){const Ve=be.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(Ve))return}return be.preventDefault&&be.preventDefault(),!0}}function Gb(be,Ve){for(const rt in Ve){const gt=Ve[rt],kt=be[rt];if(typeof gt=="string"){if(gt!==kt)return!1}else if(!dl(kt)||kt.length!==gt.length||gt.some((Y,P)=>Y!==kt[P]))return!1}return!0}function ag(be){return be?be.aliasOf?be.aliasOf.path:be.path:""}const og=(be,Ve,rt)=>be!=null?be:Ve!=null?Ve:rt,Wb=qg({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(be,{attrs:Ve,slots:rt}){const gt=Fl(od),kt=As(()=>be.route||gt.value),Y=Fl(rg,0),P=As(()=>{let k=Yi(Y);const{matched:a}=kt.value;let w;for(;(w=a[k])&&!w.components;)k++;return k}),e=As(()=>kt.value.matched[P.value]);mh(rg,As(()=>P.value+1)),mh(Ub,e),mh(od,kt);const A=xd();return ff(()=>[A.value,e.value,be.name],([k,a,w],[b,h,o])=>{a&&(a.instances[w]=k,h&&h!==a&&k&&k===b&&(a.leaveGuards.size||(a.leaveGuards=h.leaveGuards),a.updateGuards.size||(a.updateGuards=h.updateGuards))),k&&a&&(!h||!Sc(a,h)||!b)&&(a.enterCallbacks[w]||[]).forEach(t=>t(k))},{flush:"post"}),()=>{const k=kt.value,a=be.name,w=e.value,b=w&&w.components[a];if(!b)return sg(rt.default,{Component:b,route:k});const h=w.props[a],o=h?h===!0?k.params:typeof h=="function"?h(k):h:null,i=ov(b,Vi({},o,Ve,{onVnodeUnmounted:n=>{n.component.isUnmounted&&(w.instances[a]=null)},ref:A}));return sg(rt.default,{Component:i,route:k})||i}}});function sg(be,Ve){if(!be)return null;const rt=be(Ve);return rt.length===1?rt[0]:rt}const wv=Wb;function Yb(be){const Ve=wb(be.routes,be),rt=be.parseQuery||Nb,gt=be.stringifyQuery||ng,kt=be.history,Y=uf(),P=uf(),e=uf(),A=t2(hu);let k=hu;yc&&be.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const a=Fp.bind(null,B=>""+B),w=Fp.bind(null,Bb),b=Fp.bind(null,Mh);function h(B,Z){let F,j;return dv(B)?(F=Ve.getRecordMatcher(B),j=Z):j=B,Ve.addRoute(j,F)}function o(B){const Z=Ve.getRecordMatcher(B);Z&&Ve.removeRoute(Z)}function t(){return Ve.getRoutes().map(B=>B.record)}function i(B){return!!Ve.getRecordMatcher(B)}function n(B,Z){if(Z=Vi({},Z||A.value),typeof B=="string"){const $=Bp(rt,B,Z.path),G=Ve.resolve({path:$.path},Z),X=kt.createHref($.fullPath);return Vi($,G,{params:b(G.params),hash:Mh($.hash),redirectedFrom:void 0,href:X})}let F;if("path"in B)F=Vi({},B,{path:Bp(rt,B.path,Z.path).path});else{const $=Vi({},B.params);for(const G in $)$[G]==null&&delete $[G];F=Vi({},B,{params:w(B.params)}),Z.params=w(Z.params)}const j=Ve.resolve(F,Z),V=B.hash||"";j.params=a(b(j.params));const te=Kx(gt,Vi({},B,{hash:Db(V),path:j.path})),Q=kt.createHref(te);return Vi({fullPath:te,hash:V,query:gt===ng?jb(B.query):B.query||{}},j,{redirectedFrom:void 0,href:Q})}function r(B){return typeof B=="string"?Bp(rt,B,A.value.path):Vi({},B)}function s(B,Z){if(k!==B)return Ec(8,{from:Z,to:B})}function l(B){return c(B)}function u(B){return l(Vi(r(B),{replace:!0}))}function d(B){const Z=B.matched[B.matched.length-1];if(Z&&Z.redirect){const{redirect:F}=Z;let j=typeof F=="function"?F(B):F;return typeof j=="string"&&(j=j.includes("?")||j.includes("#")?j=r(j):{path:j},j.params={}),Vi({query:B.query,hash:B.hash,params:"path"in j?{}:B.params},j)}}function c(B,Z){const F=k=n(B),j=A.value,V=B.state,te=B.force,Q=B.replace===!0,$=d(F);if($)return c(Vi(r($),{state:typeof $=="object"?Vi({},V,$.state):V,force:te,replace:Q}),Z||F);const G=F;G.redirectedFrom=Z;let X;return!te&&Jx(gt,j,F)&&(X=Ec(16,{to:G,from:j}),O(j,j,!0,!1)),(X?Promise.resolve(X):g(G,j)).catch(J=>Yl(J)?Yl(J,2)?J:C(J):T(J,G,j)).then(J=>{if(J){if(Yl(J,2))return c(Vi({replace:Q},r(J.to),{state:typeof J.to=="object"?Vi({},V,J.to.state):V,force:te}),Z||G)}else J=v(G,j,!0,Q,V);return p(G,j,J),J})}function x(B,Z){const F=s(B,Z);return F?Promise.reject(F):Promise.resolve()}function g(B,Z){let F;const[j,V,te]=Zb(B,Z);F=Np(j.reverse(),"beforeRouteLeave",B,Z);for(const $ of j)$.leaveGuards.forEach(G=>{F.push(du(G,B,Z))});const Q=x.bind(null,B,Z);return F.push(Q),mc(F).then(()=>{F=[];for(const $ of Y.list())F.push(du($,B,Z));return F.push(Q),mc(F)}).then(()=>{F=Np(V,"beforeRouteUpdate",B,Z);for(const $ of V)$.updateGuards.forEach(G=>{F.push(du(G,B,Z))});return F.push(Q),mc(F)}).then(()=>{F=[];for(const $ of B.matched)if($.beforeEnter&&!Z.matched.includes($))if(dl($.beforeEnter))for(const G of $.beforeEnter)F.push(du(G,B,Z));else F.push(du($.beforeEnter,B,Z));return F.push(Q),mc(F)}).then(()=>(B.matched.forEach($=>$.enterCallbacks={}),F=Np(te,"beforeRouteEnter",B,Z),F.push(Q),mc(F))).then(()=>{F=[];for(const $ of P.list())F.push(du($,B,Z));return F.push(Q),mc(F)}).catch($=>Yl($,8)?$:Promise.reject($))}function p(B,Z,F){for(const j of e.list())j(B,Z,F)}function v(B,Z,F,j,V){const te=s(B,Z);if(te)return te;const Q=Z===hu,$=yc?history.state:{};F&&(j||Q?kt.replace(B.fullPath,Vi({scroll:Q&&$&&$.scroll},V)):kt.push(B.fullPath,V)),A.value=B,O(B,Z,F,Q),C()}let y;function m(){y||(y=kt.listen((B,Z,F)=>{if(!D.listening)return;const j=n(B),V=d(j);if(V){c(Vi(V,{replace:!0}),j).catch(df);return}k=j;const te=A.value;yc&&ab(Z1(te.fullPath,F.delta),Nh()),g(j,te).catch(Q=>Yl(Q,12)?Q:Yl(Q,2)?(c(Q.to,j).then($=>{Yl($,20)&&!F.delta&&F.type===wf.pop&&kt.go(-1,!1)}).catch(df),Promise.reject()):(F.delta&&kt.go(-F.delta,!1),T(Q,j,te))).then(Q=>{Q=Q||v(j,te,!1),Q&&(F.delta&&!Yl(Q,8)?kt.go(-F.delta,!1):F.type===wf.pop&&Yl(Q,20)&&kt.go(-1,!1)),p(j,te,Q)}).catch(df)}))}let _=uf(),f=uf(),S;function T(B,Z,F){C(B);const j=f.list();return j.length?j.forEach(V=>V(B,Z,F)):console.error(B),Promise.reject(B)}function E(){return S&&A.value!==hu?Promise.resolve():new Promise((B,Z)=>{_.add([B,Z])})}function C(B){return S||(S=!B,m(),_.list().forEach(([Z,F])=>B?F(B):Z()),_.reset()),B}function O(B,Z,F,j){const{scrollBehavior:V}=be;if(!yc||!V)return Promise.resolve();const te=!F&&ob(Z1(B.fullPath,0))||(j||!F)&&history.state&&history.state.scroll||null;return _d().then(()=>V(B,Z,te)).then(Q=>Q&&ib(Q)).catch(Q=>T(Q,B,Z))}const I=B=>kt.go(B);let z;const U=new Set,D={currentRoute:A,listening:!0,addRoute:h,removeRoute:o,hasRoute:i,getRoutes:t,resolve:n,options:be,push:l,replace:u,go:I,back:()=>I(-1),forward:()=>I(1),beforeEach:Y.add,beforeResolve:P.add,afterEach:e.add,onError:f.add,isReady:E,install(B){const Z=this;B.component("RouterLink",jh),B.component("RouterView",wv),B.config.globalProperties.$router=Z,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>Yi(A)}),yc&&!z&&A.value===hu&&(z=!0,l(kt.location).catch(V=>{}));const F={};for(const V in hu)F[V]=As(()=>A.value[V]);B.provide(Rd,Z),B.provide(Dd,Ic(F)),B.provide(od,A);const j=B.unmount;U.add(B),B.unmount=function(){U.delete(B),U.size<1&&(k=hu,y&&y(),y=null,A.value=hu,z=!1,S=!1),j()}}};return D}function mc(be){return be.reduce((Ve,rt)=>Ve.then(()=>rt()),Promise.resolve())}function Zb(be,Ve){const rt=[],gt=[],kt=[],Y=Math.max(Ve.matched.length,be.matched.length);for(let P=0;P<Y;P++){const e=Ve.matched[P];e&&(be.matched.find(k=>Sc(k,e))?gt.push(e):rt.push(e));const A=be.matched[P];A&&(Ve.matched.find(k=>Sc(k,A))||kt.push(A))}return[rt,gt,kt]}function Xb(){return Fl(Dd)}const Kb={__name:"App",setup(be){return(Ve,rt)=>(Si(),Ld(Yi(wv)))}},Jb={class:"top-section"},$b=Kn("div",null,[Kn("p",null,"Tuesday, 30 Jan 2023")],-1),Qb=Oa("Log out"),zd={__name:"TopSection",setup(be){return(Ve,rt)=>(Si(),Hi("div",Jb,[$b,Kn("div",null,[qi(Yi(jh),{to:"/login"},{default:Rh(()=>[Qb]),_:1})])]))}},e_="/logo.svg";const Rc=(be,Ve)=>{const rt=be.__vccOpts||be;for(const[gt,kt]of Ve)rt[gt]=kt;return rt},t_=["innerHTML"],n_=["src","alt"],r_={__name:"SidebarLinkList",props:{status:{type:String,required:!0},heading:{type:String,required:!0},patients:{type:Object,required:!0}},setup(be){return(Ve,rt)=>(Si(),Hi(ls,null,[Kn("h3",{innerHTML:be.heading},null,8,t_),Kn("ul",null,[(Si(!0),Hi(ls,null,z2(be.patients.filter(gt=>gt.status===be.status),gt=>(Si(),Hi("li",{key:gt.id},[qi(Yi(jh),{to:"/patient/"+gt.id,class:Lc([{good:gt.status=="Good"},{"needs-to-be-contacted":gt.status=="Needs to be contacted"},{contacted:gt.status=="Contacted"}])},{default:Rh(()=>[Kn("img",{src:gt.image,alt:gt.name},null,8,n_),Kn("div",null,[Kn("h4",null,Ki(gt.name),1),Kn("p",null,Ki(gt.gender)+", "+Ki(gt.age)+" years old",1)])]),_:2},1032,["to","class"])]))),128))])],64))}},jp=Rc(r_,[["__scopeId","data-v-32d328ba"]]);const Tf=be=>(Td("data-v-6465a805"),be=be(),kd(),be),i_={class:"sidebar"},a_=Tf(()=>Kn("div",{class:"sidebar__logo"},[Kn("img",{src:e_,alt:"Happ Bob logo"})],-1)),o_={key:0,class:"sidebar__patients"},s_=Tf(()=>Kn("h2",null,"Patients",-1)),l_=Tf(()=>Kn("input",{type:"text",placeholder:"Search",disabled:""},null,-1)),u_=Tf(()=>Kn("hr",null,null,-1)),c_=Tf(()=>Kn("hr",null,null,-1)),f_=Oa("Settings"),h_={__name:"Sidebar",props:{patients:{type:Object,required:!0}},setup(be){return(Ve,rt)=>(Si(),Hi("div",i_,[a_,be.patients?(Si(),Hi("div",o_,[s_,l_,qi(jp,{status:"Needs to be contacted",heading:"Needs to be contacted",patients:be.patients},null,8,["patients"]),u_,qi(jp,{status:"Contacted",heading:"Contacted",patients:be.patients},null,8,["patients"]),c_,qi(jp,{status:"Good",heading:"Doing good",patients:be.patients},null,8,["patients"])])):Gu("",!0),qi(Yi(jh),{to:"/doctors-settings",class:"btn btn--settings"},{default:Rh(()=>[f_]),_:1})]))}},Tv=Rc(h_,[["__scopeId","data-v-6465a805"]]),Uh="/steps.svg",kf="/mood-all-good.svg",Vh="/mood-contacted.svg",Hh="/stars-collected.svg",qh="/activity-in-groups.svg",p_="/weekly-time-in-range.png";function d_(be){return be&&be.__esModule&&Object.prototype.hasOwnProperty.call(be,"default")?be.default:be}var kv={exports:{}};(function(be,Ve){/*! For license information please see plotly.min.js.LICENSE.txt */(function(rt,gt){be.exports=gt()})(self,function(){return function(){var rt={79288:function(Y,P,e){var A=e(3400),k={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in k){var w=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");A.addStyleRule(w,k[a])}},86712:function(Y,P,e){Y.exports=e(84224)},37240:function(Y,P,e){Y.exports=e(51132)},29744:function(Y,P,e){Y.exports=e(94456)},29352:function(Y,P,e){Y.exports=e(67244)},96144:function(Y,P,e){Y.exports=e(97776)},53219:function(Y,P,e){Y.exports=e(61712)},4624:function(Y,P,e){Y.exports=e(95856)},54543:function(Y,P,e){Y.exports=e(54272)},45e3:function(Y,P,e){Y.exports=e(85404)},62300:function(Y,P,e){Y.exports=e(26048)},6920:function(Y,P,e){Y.exports=e(66240)},10264:function(Y,P,e){Y.exports=e(40448)},32016:function(Y,P,e){Y.exports=e(64884)},27528:function(Y,P,e){Y.exports=e(15088)},75556:function(Y,P,e){Y.exports=e(76744)},39204:function(Y,P,e){Y.exports=e(94704)},73996:function(Y,P,e){Y.exports=e(62396)},16489:function(Y,P,e){Y.exports=e(32028)},5e3:function(Y,P,e){Y.exports=e(81932)},77280:function(Y,P,e){Y.exports=e(45536)},33992:function(Y,P,e){Y.exports=e(42600)},17600:function(Y,P,e){Y.exports=e(21536)},49116:function(Y,P,e){Y.exports=e(65664)},46808:function(Y,P,e){Y.exports=e(29044)},36168:function(Y,P,e){Y.exports=e(48928)},13792:function(Y,P,e){var A=e(32016);A.register([e(37240),e(29352),e(5e3),e(33992),e(17600),e(49116),e(6920),e(67484),e(79440),e(39204),e(83096),e(36168),e(20260),e(63560),e(65832),e(46808),e(73996),e(48824),e(89904),e(25120),e(13752),e(4340),e(62300),e(29800),e(8363),e(54543),e(86636),e(42192),e(32140),e(77280),e(89296),e(56816),e(70192),e(45e3),e(27528),e(84764),e(3920),e(50248),e(4624),e(69967),e(10264),e(86152),e(53219),e(81604),e(63796),e(29744),e(89336),e(86712),e(75556),e(16489),e(97312),e(96144)]),Y.exports=A},3920:function(Y,P,e){Y.exports=e(43480)},25120:function(Y,P,e){Y.exports=e(6296)},4340:function(Y,P,e){Y.exports=e(7404)},86152:function(Y,P,e){Y.exports=e(65456)},56816:function(Y,P,e){Y.exports=e(22020)},89296:function(Y,P,e){Y.exports=e(29928)},20260:function(Y,P,e){Y.exports=e(75792)},32140:function(Y,P,e){Y.exports=e(156)},84764:function(Y,P,e){Y.exports=e(45499)},48824:function(Y,P,e){Y.exports=e(3296)},69967:function(Y,P,e){Y.exports=e(4184)},8363:function(Y,P,e){Y.exports=e(36952)},86636:function(Y,P,e){Y.exports=e(38983)},70192:function(Y,P,e){Y.exports=e(11572)},81604:function(Y,P,e){Y.exports=e(76924)},63796:function(Y,P,e){Y.exports=e(62944)},89336:function(Y,P,e){Y.exports=e(95443)},67484:function(Y,P,e){Y.exports=e(34864)},97312:function(Y,P,e){Y.exports=e(76272)},42192:function(Y,P,e){Y.exports=e(97924)},29800:function(Y,P,e){Y.exports=e(15436)},63560:function(Y,P,e){Y.exports=e(5621)},89904:function(Y,P,e){Y.exports=e(91304)},50248:function(Y,P,e){Y.exports=e(41724)},65832:function(Y,P,e){Y.exports=e(31991)},79440:function(Y,P,e){Y.exports=e(22869)},13752:function(Y,P,e){Y.exports=e(67776)},83096:function(Y,P,e){Y.exports=e(95952)},72196:function(Y){Y.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},13916:function(Y,P,e){var A=e(72196),k=e(25376),a=e(33816),w=e(31780).templatedArray;e(36208),Y.exports=w("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:k({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:A.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:A.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:k({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},90272:function(Y,P,e){var A=e(3400),k=e(54460),a=e(23816).draw;function w(h){var o=h._fullLayout;A.filterVisible(o.annotations).forEach(function(t){var i=k.getFromId(h,t.xref),n=k.getFromId(h,t.yref),r=k.getRefType(t.xref),s=k.getRefType(t.yref);t._extremes={},r==="range"&&b(t,i),s==="range"&&b(t,n)})}function b(h,o){var t,i=o._id,n=i.charAt(0),r=h[n],s=h["a"+n],l=h[n+"ref"],u=h["a"+n+"ref"],d=h["_"+n+"padplus"],c=h["_"+n+"padminus"],x={x:1,y:-1}[n]*h[n+"shift"],g=3*h.arrowsize*h.arrowwidth||0,p=g+x,v=g-x,y=3*h.startarrowsize*h.arrowwidth||0,m=y+x,_=y-x;if(u===l){var f=k.findExtremes(o,[o.r2c(r)],{ppadplus:p,ppadminus:v}),S=k.findExtremes(o,[o.r2c(s)],{ppadplus:Math.max(d,m),ppadminus:Math.max(c,_)});t={min:[f.min[0],S.min[0]],max:[f.max[0],S.max[0]]}}else m=s?m+s:m,_=s?_-s:_,t=k.findExtremes(o,[o.r2c(r)],{ppadplus:Math.max(d,p,m),ppadminus:Math.max(c,v,_)});h._extremes[i]=t}Y.exports=function(h){var o=h._fullLayout;if(A.filterVisible(o.annotations).length&&h._fullData.length)return A.syncOrAsync([a,w],h)}},42300:function(Y,P,e){var A=e(3400),k=e(24040),a=e(31780).arrayEditor;function w(h,o){var t,i,n,r,s,l,u,d=h._fullLayout.annotations,c=[],x=[],g=[],p=(o||[]).length;for(t=0;t<d.length;t++)if(r=(n=d[t]).clicktoshow){for(i=0;i<p;i++)if(l=(s=o[i]).xaxis,u=s.yaxis,l._id===n.xref&&u._id===n.yref&&l.d2r(s.x)===b(n._xclick,l)&&u.d2r(s.y)===b(n._yclick,u)){(n.visible?r==="onout"?x:g:c).push(t);break}i===p&&n.visible&&r==="onout"&&x.push(t)}return{on:c,off:x,explicitOff:g}}function b(h,o){return o.type==="log"?o.l2r(h):o.d2r(h)}Y.exports={hasClickToShow:function(h,o){var t=w(h,o);return t.on.length>0||t.explicitOff.length>0},onClick:function(h,o){var t,i,n=w(h,o),r=n.on,s=n.off.concat(n.explicitOff),l={},u=h._fullLayout.annotations;if(r.length||s.length){for(t=0;t<r.length;t++)(i=a(h.layout,"annotations",u[r[t]])).modifyItem("visible",!0),A.extendFlat(l,i.getUpdateObj());for(t=0;t<s.length;t++)(i=a(h.layout,"annotations",u[s[t]])).modifyItem("visible",!1),A.extendFlat(l,i.getUpdateObj());return k.call("update",h,{},l)}}}},87192:function(Y,P,e){var A=e(3400),k=e(76308);Y.exports=function(a,w,b,h){h("opacity");var o=h("bgcolor"),t=h("bordercolor"),i=k.opacity(t);h("borderpad");var n=h("borderwidth"),r=h("showarrow");if(h("text",r?" ":b._dfltTitle.annotation),h("textangle"),A.coerceFont(h,"font",b.font),h("width"),h("align"),h("height")&&h("valign"),r){var s,l,u=h("arrowside");u.indexOf("end")!==-1&&(s=h("arrowhead"),l=h("arrowsize")),u.indexOf("start")!==-1&&(h("startarrowhead",s),h("startarrowsize",l)),h("arrowcolor",i?w.bordercolor:k.defaultLine),h("arrowwidth",2*(i&&n||1)),h("standoff"),h("startstandoff")}var d=h("hovertext"),c=b.hoverlabel||{};if(d){var x=h("hoverlabel.bgcolor",c.bgcolor||(k.opacity(o)?k.rgb(o):k.defaultLine)),g=h("hoverlabel.bordercolor",c.bordercolor||k.contrast(x));A.coerceFont(h,"hoverlabel.font",{family:c.font.family,size:c.font.size,color:c.font.color||g})}h("captureevents",!!d)}},26828:function(Y,P,e){var A=e(38248),k=e(36896);Y.exports=function(a,w,b,h){w=w||{};var o=b==="log"&&w.type==="linear",t=b==="linear"&&w.type==="log";if(o||t)for(var i,n,r=a._fullLayout.annotations,s=w._id.charAt(0),l=0;l<r.length;l++)i=r[l],n="annotations["+l+"].",i[s+"ref"]===w._id&&u(s),i["a"+s+"ref"]===w._id&&u("a"+s);function u(d){var c=i[d],x=null;x=o?k(c,w.range):Math.pow(10,c),A(x)||(x=null),h(n+d,x)}}},45216:function(Y,P,e){var A=e(3400),k=e(54460),a=e(51272),w=e(87192),b=e(13916);function h(o,t,i){function n(S,T){return A.coerce(o,t,b,S,T)}var r=n("visible"),s=n("clicktoshow");if(r||s){w(o,t,i,n);for(var l=t.showarrow,u=["x","y"],d=[-10,-30],c={_fullLayout:i},x=0;x<2;x++){var g=u[x],p=k.coerceRef(o,t,c,g,"","paper");if(p!=="paper"&&k.getFromId(c,p)._annIndices.push(t._index),k.coercePosition(t,c,n,p,g,.5),l){var v="a"+g,y=k.coerceRef(o,t,c,v,"pixel",["pixel","paper"]);y!=="pixel"&&y!==p&&(y=t[v]="pixel");var m=y==="pixel"?d[x]:.4;k.coercePosition(t,c,n,y,v,m)}n(g+"anchor"),n(g+"shift")}if(A.noneOrAll(o,t,["x","y"]),l&&A.noneOrAll(o,t,["ax","ay"]),s){var _=n("xclick"),f=n("yclick");t._xclick=_===void 0?t.x:k.cleanPosition(_,c,t.xref),t._yclick=f===void 0?t.y:k.cleanPosition(f,c,t.yref)}}}Y.exports=function(o,t){a(o,t,{name:"annotations",handleItemDefaults:h})}},23816:function(Y,P,e){var A=e(33428),k=e(24040),a=e(7316),w=e(3400),b=w.strTranslate,h=e(54460),o=e(76308),t=e(43616),i=e(93024),n=e(72736),r=e(93972),s=e(86476),l=e(31780).arrayEditor,u=e(33652);function d(g,p){var v=g._fullLayout.annotations[p]||{},y=h.getFromId(g,v.xref),m=h.getFromId(g,v.yref);y&&y.setScale(),m&&m.setScale(),x(g,v,p,!1,y,m)}function c(g,p,v,y,m){var _=m[v],f=m[v+"ref"],S=v.indexOf("y")!==-1,T=h.getRefType(f)==="domain",E=S?y.h:y.w;return g?T?_+(S?-p:p)/g._length:g.p2r(g.r2p(_)+p):_+(S?-p:p)/E}function x(g,p,v,y,m,_){var f,S,T=g._fullLayout,E=g._fullLayout._size,C=g._context.edits;y?(f="annotation-"+y,S=y+".annotations"):(f="annotation",S="annotations");var O=l(g.layout,S,p),I=O.modifyBase,z=O.modifyItem,U=O.getUpdateObj;T._infolayer.selectAll("."+f+'[data-index="'+v+'"]').remove();var D="clip"+T._uid+"_ann"+v;if(p._input&&p.visible!==!1){var B={x:{},y:{}},Z=+p.textangle||0,F=T._infolayer.append("g").classed(f,!0).attr("data-index",String(v)).style("opacity",p.opacity),j=F.append("g").classed("annotation-text-g",!0),V=C[p.showarrow?"annotationTail":"annotationPosition"],te=p.captureevents||C.annotationText||V,Q=j.append("g").style("pointer-events",te?"all":null).call(r,"pointer").on("click",function(){g._dragging=!1,g.emit("plotly_clickannotation",pe(A.event))});p.hovertext&&Q.on("mouseover",function(){var ve=p.hoverlabel,Me=ve.font,_e=this.getBoundingClientRect(),we=g.getBoundingClientRect();i.loneHover({x0:_e.left-we.left,x1:_e.right-we.left,y:(_e.top+_e.bottom)/2-we.top,text:p.hovertext,color:ve.bgcolor,borderColor:ve.bordercolor,fontFamily:Me.family,fontSize:Me.size,fontColor:Me.color},{container:T._hoverlayer.node(),outerContainer:T._paper.node(),gd:g})}).on("mouseout",function(){i.loneUnhover(T._hoverlayer.node())});var $=p.borderwidth,G=p.borderpad,X=$+G,J=Q.append("rect").attr("class","bg").style("stroke-width",$+"px").call(o.stroke,p.bordercolor).call(o.fill,p.bgcolor),ne=p.width||p.height,ie=T._topclips.selectAll("#"+D).data(ne?[0]:[]);ie.enter().append("clipPath").classed("annclip",!0).attr("id",D).append("rect"),ie.exit().remove();var ae=p.font,le=T._meta?w.templateString(p.text,T._meta):p.text,ce=Q.append("text").classed("annotation-text",!0).text(le);C.annotationText?ce.call(n.makeEditable,{delegate:Q,gd:g}).call(ge).on("edit",function(ve){p.text=ve,this.call(ge),z("text",ve),m&&m.autorange&&I(m._name+".autorange",!0),_&&_.autorange&&I(_._name+".autorange",!0),k.call("_guiRelayout",g,U())}):ce.call(ge)}else A.selectAll("#"+D).remove();function pe(ve){var Me={index:v,annotation:p._input,fullAnnotation:p,event:ve};return y&&(Me.subplotId=y),Me}function ge(ve){return ve.call(t.font,ae).attr({"text-anchor":{left:"start",right:"end"}[p.align]||"middle"}),n.convertToTspans(ve,g,me),ve}function me(){var ve=ce.selectAll("a");ve.size()===1&&ve.text()===ce.text()&&Q.insert("a",":first-child").attr({"xlink:xlink:href":ve.attr("xlink:href"),"xlink:xlink:show":ve.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(J.node());var Me=Q.select(".annotation-text-math-group"),_e=!Me.empty(),we=t.bBox((_e?Me:ce).node()),oe=we.width,se=we.height,de=p.width||oe,Ee=p.height||se,Te=Math.round(de+2*X),Se=Math.round(Ee+2*X);function Le(yt,ht){return ht==="auto"&&(ht=yt<.3333333333333333?"left":yt>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[ht]}for(var Oe=!1,he=["x","y"],xe=0;xe<he.length;xe++){var ke,Re,ze,Ie,He,qe=he[xe],Je=p[qe+"ref"]||qe,st=p["a"+qe+"ref"],it={x:m,y:_}[qe],vt=(Z+(qe==="x"?0:-90))*Math.PI/180,_t=Te*Math.cos(vt),xt=Se*Math.sin(vt),et=Math.abs(_t)+Math.abs(xt),nt=p[qe+"anchor"],Mt=p[qe+"shift"]*(qe==="x"?1:-1),zt=B[qe],Ft=h.getRefType(Je);if(it&&Ft!=="domain"){var Rt=it.r2fraction(p[qe]);(Rt<0||Rt>1)&&(st===Je?((Rt=it.r2fraction(p["a"+qe]))<0||Rt>1)&&(Oe=!0):Oe=!0),ke=it._offset+it.r2p(p[qe]),Ie=.5}else{var We=Ft==="domain";qe==="x"?(ze=p[qe],ke=We?it._offset+it._length*ze:ke=E.l+E.w*ze):(ze=1-p[qe],ke=We?it._offset+it._length*ze:ke=E.t+E.h*ze),Ie=p.showarrow?.5:ze}if(p.showarrow){zt.head=ke;var Ze=p["a"+qe];if(He=_t*Le(.5,p.xanchor)-xt*Le(.5,p.yanchor),st===Je){var Ne=h.getRefType(st);Ne==="domain"?(qe==="y"&&(Ze=1-Ze),zt.tail=it._offset+it._length*Ze):Ne==="paper"?qe==="y"?(Ze=1-Ze,zt.tail=E.t+E.h*Ze):zt.tail=E.l+E.w*Ze:zt.tail=it._offset+it.r2p(Ze),Re=He}else zt.tail=ke+Ze,Re=He+Ze;zt.text=zt.tail+He;var Ye=T[qe==="x"?"width":"height"];if(Je==="paper"&&(zt.head=w.constrain(zt.head,1,Ye-1)),st==="pixel"){var lt=-Math.max(zt.tail-3,zt.text),at=Math.min(zt.tail+3,zt.text)-Ye;lt>0?(zt.tail+=lt,zt.text+=lt):at>0&&(zt.tail-=at,zt.text-=at)}zt.tail+=Mt,zt.head+=Mt}else Re=He=et*Le(Ie,nt),zt.text=ke+He;zt.text+=Mt,He+=Mt,Re+=Mt,p["_"+qe+"padplus"]=et/2+Re,p["_"+qe+"padminus"]=et/2-Re,p["_"+qe+"size"]=et,p["_"+qe+"shift"]=He}if(Oe)Q.remove();else{var Fe=0,Be=0;if(p.align!=="left"&&(Fe=(de-oe)*(p.align==="center"?.5:1)),p.valign!=="top"&&(Be=(Ee-se)*(p.valign==="middle"?.5:1)),_e)Me.select("svg").attr({x:X+Fe-1,y:X+Be}).call(t.setClipUrl,ne?D:null,g);else{var ot=X+Be-we.top,Xe=X+Fe-we.left;ce.call(n.positionText,Xe,ot).call(t.setClipUrl,ne?D:null,g)}ie.select("rect").call(t.setRect,X,X,de,Ee),J.call(t.setRect,$/2,$/2,Te-$,Se-$),Q.call(t.setTranslate,Math.round(B.x.text-Te/2),Math.round(B.y.text-Se/2)),j.attr({transform:"rotate("+Z+","+B.x.text+","+B.y.text+")"});var pt,mt=function(yt,ht){F.selectAll(".annotation-arrow-g").remove();var Lt=B.x.head,Tt=B.y.head,bt=B.x.tail+yt,Pt=B.y.tail+ht,Ot=B.x.text+yt,Bt=B.y.text+ht,Kt=w.rotationXYMatrix(Z,Ot,Bt),on=w.apply2DTransform(Kt),qt=w.apply2DTransform2(Kt),Wt=+J.attr("width"),nn=+J.attr("height"),En=Ot-.5*Wt,Mn=En+Wt,dn=Bt-.5*nn,Jt=dn+nn,un=[[En,dn,En,Jt],[En,Jt,Mn,Jt],[Mn,Jt,Mn,dn],[Mn,dn,En,dn]].map(qt);if(!un.reduce(function(cr,er){return cr^!!w.segmentsIntersect(Lt,Tt,Lt+1e6,Tt+1e6,er[0],er[1],er[2],er[3])},!1)){un.forEach(function(cr){var er=w.segmentsIntersect(bt,Pt,Lt,Tt,cr[0],cr[1],cr[2],cr[3]);er&&(bt=er.x,Pt=er.y)});var rn=p.arrowwidth,hn=p.arrowcolor,kn=p.arrowside,Ln=F.append("g").style({opacity:o.opacity(hn)}).classed("annotation-arrow-g",!0),Dn=Ln.append("path").attr("d","M"+bt+","+Pt+"L"+Lt+","+Tt).style("stroke-width",rn+"px").call(o.stroke,o.rgb(hn));if(u(Dn,kn,p),C.annotationPosition&&Dn.node().parentNode&&!y){var zn=Lt,On=Tt;if(p.standoff){var Hn=Math.sqrt(Math.pow(Lt-bt,2)+Math.pow(Tt-Pt,2));zn+=p.standoff*(bt-Lt)/Hn,On+=p.standoff*(Pt-Tt)/Hn}var jn,ar,ur=Ln.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(bt-zn)+","+(Pt-On),transform:b(zn,On)}).style("stroke-width",rn+6+"px").call(o.stroke,"rgba(0,0,0,0)").call(o.fill,"rgba(0,0,0,0)");s.init({element:ur.node(),gd:g,prepFn:function(){var cr=t.getTranslate(Q);jn=cr.x,ar=cr.y,m&&m.autorange&&I(m._name+".autorange",!0),_&&_.autorange&&I(_._name+".autorange",!0)},moveFn:function(cr,er){var Tr=on(jn,ar),Ht=Tr[0]+cr,an=Tr[1]+er;Q.call(t.setTranslate,Ht,an),z("x",c(m,cr,"x",E,p)),z("y",c(_,er,"y",E,p)),p.axref===p.xref&&z("ax",c(m,cr,"ax",E,p)),p.ayref===p.yref&&z("ay",c(_,er,"ay",E,p)),Ln.attr("transform",b(cr,er)),j.attr({transform:"rotate("+Z+","+Ht+","+an+")"})},doneFn:function(){k.call("_guiRelayout",g,U());var cr=document.querySelector(".js-notes-box-panel");cr&&cr.redraw(cr.selectedObj)}})}}};p.showarrow&&mt(0,0),V&&s.init({element:Q.node(),gd:g,prepFn:function(){pt=j.attr("transform")},moveFn:function(yt,ht){var Lt="pointer";if(p.showarrow)p.axref===p.xref?z("ax",c(m,yt,"ax",E,p)):z("ax",p.ax+yt),p.ayref===p.yref?z("ay",c(_,ht,"ay",E.w,p)):z("ay",p.ay+ht),mt(yt,ht);else{if(y)return;var Tt,bt;if(m)Tt=c(m,yt,"x",E,p);else{var Pt=p._xsize/E.w,Ot=p.x+(p._xshift-p.xshift)/E.w-Pt/2;Tt=s.align(Ot+yt/E.w,Pt,0,1,p.xanchor)}if(_)bt=c(_,ht,"y",E,p);else{var Bt=p._ysize/E.h,Kt=p.y-(p._yshift+p.yshift)/E.h-Bt/2;bt=s.align(Kt-ht/E.h,Bt,0,1,p.yanchor)}z("x",Tt),z("y",bt),m&&_||(Lt=s.getCursor(m?.5:Tt,_?.5:bt,p.xanchor,p.yanchor))}j.attr({transform:b(yt,ht)+pt}),r(Q,Lt)},clickFn:function(yt,ht){p.captureevents&&g.emit("plotly_clickannotation",pe(ht))},doneFn:function(){r(Q),k.call("_guiRelayout",g,U());var yt=document.querySelector(".js-notes-box-panel");yt&&yt.redraw(yt.selectedObj)}})}}}Y.exports={draw:function(g){var p=g._fullLayout;p._infolayer.selectAll(".annotation").remove();for(var v=0;v<p.annotations.length;v++)p.annotations[v].visible&&d(g,v);return a.previousPromises(g)},drawOne:d,drawRaw:x}},33652:function(Y,P,e){var A=e(33428),k=e(76308),a=e(72196),w=e(3400),b=w.strScale,h=w.strRotate,o=w.strTranslate;Y.exports=function(t,i,n){var r,s,l,u,d=t.node(),c=a[n.arrowhead||0],x=a[n.startarrowhead||0],g=(n.arrowwidth||1)*(n.arrowsize||1),p=(n.arrowwidth||1)*(n.startarrowsize||1),v=i.indexOf("start")>=0,y=i.indexOf("end")>=0,m=c.backoff*g+n.standoff,_=x.backoff*p+n.startstandoff;if(d.nodeName==="line"){r={x:+t.attr("x1"),y:+t.attr("y1")},s={x:+t.attr("x2"),y:+t.attr("y2")};var f=r.x-s.x,S=r.y-s.y;if(u=(l=Math.atan2(S,f))+Math.PI,m&&_&&m+_>Math.sqrt(f*f+S*S))return void F();if(m){if(m*m>f*f+S*S)return void F();var T=m*Math.cos(l),E=m*Math.sin(l);s.x+=T,s.y+=E,t.attr({x2:s.x,y2:s.y})}if(_){if(_*_>f*f+S*S)return void F();var C=_*Math.cos(l),O=_*Math.sin(l);r.x-=C,r.y-=O,t.attr({x1:r.x,y1:r.y})}}else if(d.nodeName==="path"){var I=d.getTotalLength(),z="";if(I<m+_)return void F();var U=d.getPointAtLength(0),D=d.getPointAtLength(.1);l=Math.atan2(U.y-D.y,U.x-D.x),r=d.getPointAtLength(Math.min(_,I)),z="0px,"+_+"px,";var B=d.getPointAtLength(I),Z=d.getPointAtLength(I-.1);u=Math.atan2(B.y-Z.y,B.x-Z.x),s=d.getPointAtLength(Math.max(0,I-m)),z+=I-(z?_+m:m)+"px,"+I+"px",t.style("stroke-dasharray",z)}function F(){t.style("stroke-dasharray","0px,100px")}function j(V,te,Q,$){V.path&&(V.noRotate&&(Q=0),A.select(d.parentNode).append("path").attr({class:t.attr("class"),d:V.path,transform:o(te.x,te.y)+h(180*Q/Math.PI)+b($)}).style({fill:k.rgb(n.arrowcolor),"stroke-width":0}))}v&&j(x,r,l,p),y&&j(c,s,u,g)}},79180:function(Y,P,e){var A=e(23816),k=e(42300);Y.exports={moduleType:"component",name:"annotations",layoutAttributes:e(13916),supplyLayoutDefaults:e(45216),includeBasePlot:e(36632)("annotations"),calcAutorange:e(90272),draw:A.draw,drawOne:A.drawOne,drawRaw:A.drawRaw,hasClickToShow:k.hasClickToShow,onClick:k.onClick,convertCoords:e(26828)}},45899:function(Y,P,e){var A=e(13916),k=e(67824).overrideAll,a=e(31780).templatedArray;Y.exports=k(a("annotation",{visible:A.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:A.xanchor,xshift:A.xshift,yanchor:A.yanchor,yshift:A.yshift,text:A.text,textangle:A.textangle,font:A.font,width:A.width,height:A.height,opacity:A.opacity,align:A.align,valign:A.valign,bgcolor:A.bgcolor,bordercolor:A.bordercolor,borderpad:A.borderpad,borderwidth:A.borderwidth,showarrow:A.showarrow,arrowcolor:A.arrowcolor,arrowhead:A.arrowhead,startarrowhead:A.startarrowhead,arrowside:A.arrowside,arrowsize:A.arrowsize,startarrowsize:A.startarrowsize,arrowwidth:A.arrowwidth,standoff:A.standoff,startstandoff:A.startstandoff,hovertext:A.hovertext,hoverlabel:A.hoverlabel,captureevents:A.captureevents}),"calc","from-root")},42456:function(Y,P,e){var A=e(3400),k=e(54460);function a(w,b){var h=b.fullSceneLayout.domain,o=b.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};w._xa={},A.extendFlat(w._xa,t),k.setConvert(w._xa),w._xa._offset=o.l+h.x[0]*o.w,w._xa.l2p=function(){return .5*(1+w._pdata[0]/w._pdata[3])*o.w*(h.x[1]-h.x[0])},w._ya={},A.extendFlat(w._ya,t),k.setConvert(w._ya),w._ya._offset=o.t+(1-h.y[1])*o.h,w._ya.l2p=function(){return .5*(1-w._pdata[1]/w._pdata[3])*o.h*(h.y[1]-h.y[0])}}Y.exports=function(w){for(var b=w.fullSceneLayout.annotations,h=0;h<b.length;h++)a(b[h],w);w.fullLayout._infolayer.selectAll(".annotation-"+w.id).remove()}},52808:function(Y,P,e){var A=e(3400),k=e(54460),a=e(51272),w=e(87192),b=e(45899);function h(o,t,i,n){function r(l,u){return A.coerce(o,t,b,l,u)}function s(l){var u=l+"axis",d={_fullLayout:{}};return d._fullLayout[u]=i[u],k.coercePosition(t,d,r,l,l,.5)}r("visible")&&(w(o,t,n.fullLayout,r),s("x"),s("y"),s("z"),A.noneOrAll(o,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",r("xanchor"),r("yanchor"),r("xshift"),r("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",r("ax",-10),r("ay",-30),A.noneOrAll(o,t,["ax","ay"])))}Y.exports=function(o,t,i){a(o,t,{name:"annotations",handleItemDefaults:h,fullLayout:i.fullLayout})}},71836:function(Y,P,e){var A=e(23816).drawRaw,k=e(94424),a=["x","y","z"];Y.exports=function(w){for(var b=w.fullSceneLayout,h=w.dataScale,o=b.annotations,t=0;t<o.length;t++){for(var i=o[t],n=!1,r=0;r<3;r++){var s=a[r],l=i[s],u=b[s+"axis"].r2fraction(l);if(u<0||u>1){n=!0;break}}n?w.fullLayout._infolayer.select(".annotation-"+w.id+'[data-index="'+t+'"]').remove():(i._pdata=k(w.glplot.cameraParams,[b.xaxis.r2l(i.x)*h[0],b.yaxis.r2l(i.y)*h[1],b.zaxis.r2l(i.z)*h[2]]),A(w.graphDiv,i,t,w.id,i._xa,i._ya))}}},56864:function(Y,P,e){var A=e(24040),k=e(3400);Y.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(45899)}}},layoutAttributes:e(45899),handleDefaults:e(52808),includeBasePlot:function(a,w){var b=A.subplotsRegistry.gl3d;if(b)for(var h=b.attrRegex,o=Object.keys(a),t=0;t<o.length;t++){var i=o[t];h.test(i)&&(a[i].annotations||[]).length&&(k.pushUnique(w._basePlotModules,b),k.pushUnique(w._subplots.gl3d,i))}},convert:e(42456),draw:e(71836)}},54976:function(Y,P,e){Y.exports=e(38700),e(15168),e(67020),e(89792),e(55668),e(65168),e(2084),e(26368),e(24747),e(65616),e(30632),e(73040),e(1104),e(51456),e(4592),e(45348)},97776:function(Y,P,e){var A=e(54976),k=e(3400),a=e(39032),w=a.EPOCHJD,b=a.ONEDAY,h={valType:"enumerated",values:k.sortObjectKeys(A.calendars),editType:"calc",dflt:"gregorian"},o=function(g,p,v,y){var m={};return m[v]=h,k.coerce(g,p,m,v,y)},t="##",i={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:t,w:t,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},n={};function r(g){var p=n[g];return p||(n[g]=A.instance(g))}function s(g){return k.extendFlat({},h,{description:g})}function l(g){return"Sets the calendar system to use with `"+g+"` date data."}var u={xcalendar:s(l("x"))},d=k.extendFlat({},u,{ycalendar:s(l("y"))}),c=k.extendFlat({},d,{zcalendar:s(l("z"))}),x=s(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));Y.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:c,surface:c,mesh3d:c,scattergl:d,ohlc:u,candlestick:u},layout:{calendar:s(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:x},yaxis:{calendar:x},scene:{xaxis:{calendar:x},yaxis:{calendar:x},zaxis:{calendar:x}},polar:{radialaxis:{calendar:x}}},transforms:{filter:{valuecalendar:s(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:s(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:h,handleDefaults:o,handleTraceDefaults:function(g,p,v,y){for(var m=0;m<v.length;m++)o(g,p,v[m]+"calendar",y.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:r,worldCalFmt:function(g,p,v){for(var y,m,_,f,S,T=Math.floor((p+.05)/b)+w,E=r(v).fromJD(T),C=0;(C=g.indexOf("%",C))!==-1;)(y=g.charAt(C+1))==="0"||y==="-"||y==="_"?(_=3,m=g.charAt(C+2),y==="_"&&(y="-")):(m=y,y="0",_=2),(f=i[m])?(S=f===t?t:E.formatDate(f[y]),g=g.substr(0,C)+S+g.substr(C+_),C+=S.length):C+=_;return g}}},22548:function(Y,P){P.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],P.defaultLine="#444",P.lightLine="#eee",P.background="#fff",P.borderLine="#BEC8D9",P.lightFraction=90.9090909090909},76308:function(Y,P,e){var A=e(49760),k=e(38248),a=e(38116).isTypedArray,w=Y.exports={},b=e(22548);w.defaults=b.defaults;var h=w.defaultLine=b.defaultLine;w.lightLine=b.lightLine;var o=w.background=b.background;function t(i){if(k(i)||typeof i!="string")return i;var n=i.trim();if(n.substr(0,3)!=="rgb")return i;var r=n.match(/^rgba?\s*\(([^()]*)\)$/);if(!r)return i;var s=r[1].trim().split(/\s*[\s,]\s*/),l=n.charAt(3)==="a"&&s.length===4;if(!l&&s.length!==3)return i;for(var u=0;u<s.length;u++){if(!s[u].length||(s[u]=Number(s[u]),!(s[u]>=0)))return i;if(u===3)s[u]>1&&(s[u]=1);else if(s[u]>=1)return i}var d=Math.round(255*s[0])+", "+Math.round(255*s[1])+", "+Math.round(255*s[2]);return l?"rgba("+d+", "+s[3]+")":"rgb("+d+")"}w.tinyRGB=function(i){var n=i.toRgb();return"rgb("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+")"},w.rgb=function(i){return w.tinyRGB(A(i))},w.opacity=function(i){return i?A(i).getAlpha():0},w.addOpacity=function(i,n){var r=A(i).toRgb();return"rgba("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+", "+n+")"},w.combine=function(i,n){var r=A(i).toRgb();if(r.a===1)return A(i).toRgbString();var s=A(n||o).toRgb(),l=s.a===1?s:{r:255*(1-s.a)+s.r*s.a,g:255*(1-s.a)+s.g*s.a,b:255*(1-s.a)+s.b*s.a},u={r:l.r*(1-r.a)+r.r*r.a,g:l.g*(1-r.a)+r.g*r.a,b:l.b*(1-r.a)+r.b*r.a};return A(u).toRgbString()},w.contrast=function(i,n,r){var s=A(i);return s.getAlpha()!==1&&(s=A(w.combine(i,o))),(s.isDark()?n?s.lighten(n):o:r?s.darken(r):h).toString()},w.stroke=function(i,n){var r=A(n);i.style({stroke:w.tinyRGB(r),"stroke-opacity":r.getAlpha()})},w.fill=function(i,n){var r=A(n);i.style({fill:w.tinyRGB(r),"fill-opacity":r.getAlpha()})},w.clean=function(i){if(i&&typeof i=="object"){var n,r,s,l,u=Object.keys(i);for(n=0;n<u.length;n++)if(l=i[s=u[n]],s.substr(s.length-5)==="color")if(Array.isArray(l))for(r=0;r<l.length;r++)l[r]=t(l[r]);else i[s]=t(l);else if(s.substr(s.length-10)==="colorscale"&&Array.isArray(l))for(r=0;r<l.length;r++)Array.isArray(l[r])&&(l[r][1]=t(l[r][1]));else if(Array.isArray(l)){var d=l[0];if(!Array.isArray(d)&&d&&typeof d=="object")for(r=0;r<l.length;r++)w.clean(l[r])}else l&&typeof l=="object"&&!a(l)&&w.clean(l)}}},42996:function(Y,P,e){var A=e(94724),k=e(25376),a=e(92880).extendFlat,w=e(67824).overrideAll;Y.exports=w({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:A.linecolor,outlinewidth:A.linewidth,bordercolor:A.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:A.minor.tickmode,nticks:A.nticks,tick0:A.tick0,dtick:A.dtick,tickvals:A.tickvals,ticktext:A.ticktext,ticks:a({},A.ticks,{dflt:""}),ticklabeloverflow:a({},A.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:A.ticklen,tickwidth:A.tickwidth,tickcolor:A.tickcolor,ticklabelstep:A.ticklabelstep,showticklabels:A.showticklabels,labelalias:A.labelalias,tickfont:k({}),tickangle:A.tickangle,tickformat:A.tickformat,tickformatstops:A.tickformatstops,tickprefix:A.tickprefix,showtickprefix:A.showtickprefix,ticksuffix:A.ticksuffix,showticksuffix:A.showticksuffix,separatethousands:A.separatethousands,exponentformat:A.exponentformat,minexponent:A.minexponent,showexponent:A.showexponent,title:{text:{valType:"string"},font:k({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:k({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},63964:function(Y){Y.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},64013:function(Y,P,e){var A=e(3400),k=e(31780),a=e(26332),w=e(25404),b=e(95936),h=e(42568),o=e(42996);Y.exports=function(t,i,n){var r=k.newContainer(i,"colorbar"),s=t.colorbar||{};function l(z,U){return A.coerce(s,r,o,z,U)}var u=n.margin||{t:0,b:0,l:0,r:0},d=n.width-u.l-u.r,c=n.height-u.t-u.b,x=l("orientation")==="v",g=l("thicknessmode");l("thickness",g==="fraction"?30/(x?d:c):30);var p=l("lenmode");l("len",p==="fraction"?1:x?c:d);var v,y,m,_=l("yref")==="paper",f=l("xref")==="paper",S="left";x?(m="middle",S=f?"left":"right",v=f?1.02:1,y=.5):(m=_?"bottom":"top",S="center",v=.5,y=_?1.02:1),A.coerce(s,r,{x:{valType:"number",min:f?-2:0,max:f?3:1,dflt:v}},"x"),A.coerce(s,r,{y:{valType:"number",min:_?-2:0,max:_?3:1,dflt:y}},"y"),l("xanchor",S),l("xpad"),l("yanchor",m),l("ypad"),A.noneOrAll(s,r,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor");var T=A.coerce(s,r,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:x?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");l("ticklabeloverflow",T.indexOf("inside")!==-1?"hide past domain":"hide past div"),a(s,r,l,"linear");var E=n.font,C={noAutotickangles:!0,outerTicks:!1,font:E};T.indexOf("inside")!==-1&&(C.bgColor="black"),h(s,r,l,"linear",C),b(s,r,l,"linear",C),w(s,r,l,"linear",C),l("title.text",n._dfltTitle.colorbar);var O=r.showticklabels?r.tickfont:E,I=A.extendFlat({},O,{color:E.color,size:A.bigFont(O.size)});A.coerceFont(l,"title.font",I),l("title.side",x?"top":"right")}},37848:function(Y,P,e){var A=e(33428),k=e(49760),a=e(7316),w=e(24040),b=e(54460),h=e(86476),o=e(3400),t=o.strTranslate,i=e(92880).extendFlat,n=e(93972),r=e(43616),s=e(76308),l=e(81668),u=e(72736),d=e(94288).flipScale,c=e(28336),x=e(37668),g=e(94724),p=e(84284),v=p.LINE_SPACING,y=p.FROM_TL,m=p.FROM_BR,_=e(63964).cn;Y.exports={draw:function(f){var S=f._fullLayout._infolayer.selectAll("g."+_.colorbar).data(function(T){var E,C,O,I,z=T._fullLayout,U=T.calcdata,D=[];function B(ne){return i(ne,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function Z(){typeof I.calc=="function"?I.calc(T,O,E):(E._fillgradient=C.reversescale?d(C.colorscale):C.colorscale,E._zrange=[C[I.min],C[I.max]])}for(var F=0;F<U.length;F++){var j=U[F];if((O=j[0].trace)._module){var V=O._module.colorbar;if(O.visible===!0&&V)for(var te=Array.isArray(V),Q=te?V:[V],$=0;$<Q.length;$++){var G=(I=Q[$]).container;(C=G?O[G]:O)&&C.showscale&&((E=B(C.colorbar))._id="cb"+O.uid+(te&&G?"-"+G:""),E._traceIndex=O.index,E._propPrefix=(G?G+".":"")+"colorbar.",E._meta=O._meta,Z(),D.push(E))}}}for(var X in z._colorAxes)if((C=z[X]).showscale){var J=z._colorAxes[X];(E=B(C.colorbar))._id="cb"+X,E._propPrefix=X+".colorbar.",E._meta=z._meta,I={min:"cmin",max:"cmax"},J[0]!=="heatmap"&&(O=J[1],I.calc=O._module.colorbar.calc),Z(),D.push(E)}return D}(f),function(T){return T._id});S.enter().append("g").attr("class",function(T){return T._id}).classed(_.colorbar,!0),S.each(function(T){var E=A.select(this);o.ensureSingle(E,"rect",_.cbbg),o.ensureSingle(E,"g",_.cbfills),o.ensureSingle(E,"g",_.cblines),o.ensureSingle(E,"g",_.cbaxis,function(O){O.classed(_.crisp,!0)}),o.ensureSingle(E,"g",_.cbtitleunshift,function(O){O.append("g").classed(_.cbtitle,!0)}),o.ensureSingle(E,"rect",_.cboutline);var C=function(O,I,z){var U=I.orientation==="v",D=I.len,B=I.lenmode,Z=I.thickness,F=I.thicknessmode,j=I.outlinewidth,V=I.borderwidth,te=I.bgcolor,Q=I.xanchor,$=I.yanchor,G=I.xpad,X=I.ypad,J=I.x,ne=U?I.y:1-I.y,ie=I.yref==="paper",ae=I.xref==="paper",le=z._fullLayout,ce=le._size,pe=I._fillcolor,ge=I._line,me=I.title,ve=me.side,Me=I._zrange||A.extent((typeof pe=="function"?pe:ge.color).domain()),_e=typeof ge.color=="function"?ge.color:function(){return ge.color},we=typeof pe=="function"?pe:function(){return pe},oe=I._levels,se=function(Ne,Ye,lt){var at,Fe,Be=Ye._levels,ot=[],Xe=[],pt=Be.end+Be.size/100,mt=Be.size,yt=1.001*lt[0]-.001*lt[1],ht=1.001*lt[1]-.001*lt[0];for(Fe=0;Fe<1e5&&(at=Be.start+Fe*mt,!(mt>0?at>=pt:at<=pt));Fe++)at>yt&&at<ht&&ot.push(at);if(Ye._fillgradient)Xe=[0];else if(typeof Ye._fillcolor=="function"){var Lt=Ye._filllevels;if(Lt)for(pt=Lt.end+Lt.size/100,mt=Lt.size,Fe=0;Fe<1e5&&(at=Lt.start+Fe*mt,!(mt>0?at>=pt:at<=pt));Fe++)at>lt[0]&&at<lt[1]&&Xe.push(at);else(Xe=ot.map(function(Tt){return Tt-Be.size/2})).push(Xe[Xe.length-1]+Be.size)}else Ye._fillcolor&&typeof Ye._fillcolor=="string"&&(Xe=[0]);return Be.size<0&&(ot.reverse(),Xe.reverse()),{line:ot,fill:Xe}}(0,I,Me),de=se.fill,Ee=se.line,Te=Math.round(Z*(F==="fraction"?U?ce.w:ce.h:1)),Se=Te/(U?ce.w:ce.h),Le=Math.round(D*(B==="fraction"?U?ce.h:ce.w:1)),Oe=Le/(U?ce.h:ce.w),he=ae?ce.w:z._fullLayout.width,xe=ie?ce.h:z._fullLayout.height,ke=Math.round(U?J*he+G:ne*xe+X),Re={center:.5,right:1}[Q]||0,ze={top:1,middle:.5}[$]||0,Ie=U?J-Re*Se:ne-ze*Se,He=U?ne-ze*Oe:J-Re*Oe,qe=Math.round(U?xe*(1-He):he*He);I._lenFrac=Oe,I._thickFrac=Se,I._uFrac=Ie,I._vFrac=He;var Je=I._axis=function(Ne,Ye,lt){var at=Ne._fullLayout,Fe=Ye.orientation==="v",Be={type:"linear",range:lt,tickmode:Ye.tickmode,nticks:Ye.nticks,tick0:Ye.tick0,dtick:Ye.dtick,tickvals:Ye.tickvals,ticktext:Ye.ticktext,ticks:Ye.ticks,ticklen:Ye.ticklen,tickwidth:Ye.tickwidth,tickcolor:Ye.tickcolor,showticklabels:Ye.showticklabels,labelalias:Ye.labelalias,ticklabelposition:Ye.ticklabelposition,ticklabeloverflow:Ye.ticklabeloverflow,ticklabelstep:Ye.ticklabelstep,tickfont:Ye.tickfont,tickangle:Ye.tickangle,tickformat:Ye.tickformat,exponentformat:Ye.exponentformat,minexponent:Ye.minexponent,separatethousands:Ye.separatethousands,showexponent:Ye.showexponent,showtickprefix:Ye.showtickprefix,tickprefix:Ye.tickprefix,showticksuffix:Ye.showticksuffix,ticksuffix:Ye.ticksuffix,title:Ye.title,showline:!0,anchor:"free",side:Fe?"right":"bottom",position:1},ot=Fe?"y":"x",Xe={type:"linear",_id:ot+Ye._id},pt={letter:ot,font:at.font,noAutotickangles:ot==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:at.calendar};function mt(yt,ht){return o.coerce(Be,Xe,g,yt,ht)}return c(Be,Xe,mt,pt,at),x(Be,Xe,mt,pt),Xe}(z,I,Me);Je.position=Se+(U?J+G/ce.w:ne+X/ce.h);var st=["top","bottom"].indexOf(ve)!==-1;if(U&&st&&(Je.title.side=ve,Je.titlex=J+G/ce.w,Je.titley=He+(me.side==="top"?Oe-X/ce.h:X/ce.h)),U||st||(Je.title.side=ve,Je.titley=ne+X/ce.h,Je.titlex=He+G/ce.w),ge.color&&I.tickmode==="auto"){Je.tickmode="linear",Je.tick0=oe.start;var it=oe.size,vt=o.constrain(Le/50,4,15)+1,_t=(Me[1]-Me[0])/((I.nticks||vt)*it);if(_t>1){var xt=Math.pow(10,Math.floor(Math.log(_t)/Math.LN10));it*=xt*o.roundUp(_t/xt,[2,5,10]),(Math.abs(oe.start)/oe.size+1e-6)%1<2e-6&&(Je.tick0=0)}Je.dtick=it}Je.domain=U?[He+X/ce.h,He+Oe-X/ce.h]:[He+G/ce.w,He+Oe-G/ce.w],Je.setScale(),O.attr("transform",t(Math.round(ce.l),Math.round(ce.t)));var et,nt=O.select("."+_.cbtitleunshift).attr("transform",t(-Math.round(ce.l),-Math.round(ce.t))),Mt=Je.ticklabelposition,zt=Je.title.font.size,Ft=O.select("."+_.cbaxis),Rt=0,We=0;function Ze(Ne,Ye){var lt={propContainer:Je,propName:I._propPrefix+"title",traceIndex:I._traceIndex,_meta:I._meta,placeholder:le._dfltTitle.colorbar,containerGroup:O.select("."+_.cbtitle)},at=Ne.charAt(0)==="h"?Ne.substr(1):"h"+Ne;O.selectAll("."+at+",."+at+"-math-group").remove(),l.draw(z,Ne,i(lt,Ye||{}))}return o.syncOrAsync([a.previousPromises,function(){var Ne,Ye;(U&&st||!U&&!st)&&(ve==="top"&&(Ne=G+ce.l+he*J,Ye=X+ce.t+xe*(1-He-Oe)+3+.75*zt),ve==="bottom"&&(Ne=G+ce.l+he*J,Ye=X+ce.t+xe*(1-He)-3-.25*zt),ve==="right"&&(Ye=X+ce.t+xe*ne+3+.75*zt,Ne=G+ce.l+he*He),Ze(Je._id+"title",{attributes:{x:Ne,y:Ye,"text-anchor":U?"start":"middle"}}))},function(){if(!U&&!st||U&&st){var Ne,Ye=O.select("."+_.cbtitle),lt=Ye.select("text"),at=[-j/2,j/2],Fe=Ye.select(".h"+Je._id+"title-math-group").node(),Be=15.6;if(lt.node()&&(Be=parseInt(lt.node().style.fontSize,10)*v),Fe?(Ne=r.bBox(Fe),We=Ne.width,(Rt=Ne.height)>Be&&(at[1]-=(Rt-Be)/2)):lt.node()&&!lt.classed(_.jsPlaceholder)&&(Ne=r.bBox(lt.node()),We=Ne.width,Rt=Ne.height),U){if(Rt){if(Rt+=5,ve==="top")Je.domain[1]-=Rt/ce.h,at[1]*=-1;else{Je.domain[0]+=Rt/ce.h;var ot=u.lineCount(lt);at[1]+=(1-ot)*Be}Ye.attr("transform",t(at[0],at[1])),Je.setScale()}}else We&&(ve==="right"&&(Je.domain[0]+=(We+zt/2)/ce.w),Ye.attr("transform",t(at[0],at[1])),Je.setScale())}O.selectAll("."+_.cbfills+",."+_.cblines).attr("transform",U?t(0,Math.round(ce.h*(1-Je.domain[1]))):t(Math.round(ce.w*Je.domain[0]),0)),Ft.attr("transform",U?t(0,Math.round(-ce.t)):t(Math.round(-ce.l),0));var Xe=O.select("."+_.cbfills).selectAll("rect."+_.cbfill).attr("style","").data(de);Xe.enter().append("rect").classed(_.cbfill,!0).attr("style",""),Xe.exit().remove();var pt=Me.map(Je.c2p).map(Math.round).sort(function(Tt,bt){return Tt-bt});Xe.each(function(Tt,bt){var Pt=[bt===0?Me[0]:(de[bt]+de[bt-1])/2,bt===de.length-1?Me[1]:(de[bt]+de[bt+1])/2].map(Je.c2p).map(Math.round);U&&(Pt[1]=o.constrain(Pt[1]+(Pt[1]>Pt[0])?1:-1,pt[0],pt[1]));var Ot=A.select(this).attr(U?"x":"y",ke).attr(U?"y":"x",A.min(Pt)).attr(U?"width":"height",Math.max(Te,2)).attr(U?"height":"width",Math.max(A.max(Pt)-A.min(Pt),2));if(I._fillgradient)r.gradient(Ot,z,I._id,U?"vertical":"horizontalreversed",I._fillgradient,"fill");else{var Bt=we(Tt).replace("e-","");Ot.attr("fill",k(Bt).toHexString())}});var mt=O.select("."+_.cblines).selectAll("path."+_.cbline).data(ge.color&&ge.width?Ee:[]);mt.enter().append("path").classed(_.cbline,!0),mt.exit().remove(),mt.each(function(Tt){var bt=ke,Pt=Math.round(Je.c2p(Tt))+ge.width/2%1;A.select(this).attr("d","M"+(U?bt+","+Pt:Pt+","+bt)+(U?"h":"v")+Te).call(r.lineGroupStyle,ge.width,_e(Tt),ge.dash)}),Ft.selectAll("g."+Je._id+"tick,path").remove();var yt=ke+Te+(j||0)/2-(I.ticks==="outside"?1:0),ht=b.calcTicks(Je),Lt=b.getTickSigns(Je)[2];return b.drawTicks(z,Je,{vals:Je.ticks==="inside"?b.clipEnds(Je,ht):ht,layer:Ft,path:b.makeTickPath(Je,yt,Lt),transFn:b.makeTransTickFn(Je)}),b.drawLabels(z,Je,{vals:ht,layer:Ft,transFn:b.makeTransTickLabelFn(Je),labelFns:b.makeLabelFns(Je,yt)})},function(){if(U&&!st||!U&&st){var Ne,Ye,lt=Je.position||0,at=Je._offset+Je._length/2;if(ve==="right")Ye=at,Ne=ce.l+he*lt+10+zt*(Je.showticklabels?1:.5);else if(Ne=at,ve==="bottom"&&(Ye=ce.t+xe*lt+10+(Mt.indexOf("inside")===-1?Je.tickfont.size:0)+(Je.ticks!=="intside"&&I.ticklen||0)),ve==="top"){var Fe=me.text.split("<br>").length;Ye=ce.t+xe*lt+10-Te-v*zt*Fe}Ze((U?"h":"v")+Je._id+"title",{avoid:{selection:A.select(z).selectAll("g."+Je._id+"tick"),side:ve,offsetTop:U?0:ce.t,offsetLeft:U?ce.l:0,maxShift:U?le.width:le.height},attributes:{x:Ne,y:Ye,"text-anchor":"middle"},transform:{rotate:U?-90:0,offset:0}})}},a.previousPromises,function(){var Ne,Ye=Te+j/2;Mt.indexOf("inside")===-1&&(Ne=r.bBox(Ft.node()),Ye+=U?Ne.width:Ne.height),et=nt.select("text");var lt=0,at=U&&ve==="top",Fe=!U&&ve==="right",Be=0;if(et.node()&&!et.classed(_.jsPlaceholder)){var ot,Xe=nt.select(".h"+Je._id+"title-math-group").node();Xe&&(U&&st||!U&&!st)?(lt=(Ne=r.bBox(Xe)).width,ot=Ne.height):(lt=(Ne=r.bBox(nt.node())).right-ce.l-(U?ke:qe),ot=Ne.bottom-ce.t-(U?qe:ke),U||ve!=="top"||(Ye+=Ne.height,Be=Ne.height)),Fe&&(et.attr("transform",t(lt/2+zt/2,0)),lt*=2),Ye=Math.max(Ye,U?lt:ot)}var pt=2*(U?G:X)+Ye+V+j/2,mt=0;!U&&me.text&&$==="bottom"&&ne<=0&&(pt+=mt=pt/2,Be+=mt),le._hColorbarMoveTitle=mt,le._hColorbarMoveCBTitle=Be;var yt=V+j,ht=(U?ke:qe)-yt/2-(U?G:0),Lt=(U?qe:ke)-(U?Le:X+Be-mt);O.select("."+_.cbbg).attr("x",ht).attr("y",Lt).attr(U?"width":"height",Math.max(pt-mt,2)).attr(U?"height":"width",Math.max(Le+yt,2)).call(s.fill,te).call(s.stroke,I.bordercolor).style("stroke-width",V);var Tt=Fe?Math.max(lt-10,0):0;O.selectAll("."+_.cboutline).attr("x",(U?ke:qe+G)+Tt).attr("y",(U?qe+X-Le:ke)+(at?Rt:0)).attr(U?"width":"height",Math.max(Te,2)).attr(U?"height":"width",Math.max(Le-(U?2*X+Rt:2*G+Tt),2)).call(s.stroke,I.outlinecolor).style({fill:"none","stroke-width":j});var bt=U?Re*pt:0,Pt=U?0:(1-ze)*pt-Be;if(bt=ae?ce.l-bt:-bt,Pt=ie?ce.t-Pt:-Pt,O.attr("transform",t(bt,Pt)),!U&&(V||k(te).getAlpha()&&!k.equals(le.paper_bgcolor,te))){var Ot=Ft.selectAll("text"),Bt=Ot[0].length,Kt=O.select("."+_.cbbg).node(),on=r.bBox(Kt),qt=r.getTranslate(O);Ot.each(function(kn,Ln){var Dn=Bt-1;if(Ln===0||Ln===Dn){var zn,On=r.bBox(this),Hn=r.getTranslate(this);if(Ln===Dn){var jn=On.right+Hn.x;(zn=on.right+qt.x+qe-V-2+J-jn)>0&&(zn=0)}else if(Ln===0){var ar=On.left+Hn.x;(zn=on.left+qt.x+qe+V+2-ar)<0&&(zn=0)}zn&&(Bt<3?this.setAttribute("transform","translate("+zn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Wt={},nn=y[Q],En=m[Q],Mn=y[$],dn=m[$],Jt=pt-Te;U?(B==="pixels"?(Wt.y=ne,Wt.t=Le*Mn,Wt.b=Le*dn):(Wt.t=Wt.b=0,Wt.yt=ne+D*Mn,Wt.yb=ne-D*dn),F==="pixels"?(Wt.x=J,Wt.l=pt*nn,Wt.r=pt*En):(Wt.l=Jt*nn,Wt.r=Jt*En,Wt.xl=J-Z*nn,Wt.xr=J+Z*En)):(B==="pixels"?(Wt.x=J,Wt.l=Le*nn,Wt.r=Le*En):(Wt.l=Wt.r=0,Wt.xl=J+D*nn,Wt.xr=J-D*En),F==="pixels"?(Wt.y=1-ne,Wt.t=pt*Mn,Wt.b=pt*dn):(Wt.t=Jt*Mn,Wt.b=Jt*dn,Wt.yt=ne-Z*Mn,Wt.yb=ne+Z*dn));var un=I.y<.5?"b":"t",rn=I.x<.5?"l":"r";z._fullLayout._reservedMargin[I._id]={};var hn={r:le.width-ht-bt,l:ht+Wt.r,b:le.height-Lt-Pt,t:Lt+Wt.b};ae&&ie?a.autoMargin(z,I._id,Wt):ae?z._fullLayout._reservedMargin[I._id][un]=hn[un]:ie||U?z._fullLayout._reservedMargin[I._id][rn]=hn[rn]:z._fullLayout._reservedMargin[I._id][un]=hn[un]}],z)}(E,T,f);C&&C.then&&(f._promises||[]).push(C),f._context.edits.colorbarPosition&&function(O,I,z){var U,D,B,Z=I.orientation==="v",F=z._fullLayout._size;h.init({element:O.node(),gd:z,prepFn:function(){U=O.attr("transform"),n(O)},moveFn:function(j,V){O.attr("transform",U+t(j,V)),D=h.align((Z?I._uFrac:I._vFrac)+j/F.w,Z?I._thickFrac:I._lenFrac,0,1,I.xanchor),B=h.align((Z?I._vFrac:1-I._uFrac)-V/F.h,Z?I._lenFrac:I._thickFrac,0,1,I.yanchor);var te=h.getCursor(D,B,I.xanchor,I.yanchor);n(O,te)},doneFn:function(){if(n(O),D!==void 0&&B!==void 0){var j={};j[I._propPrefix+"x"]=D,j[I._propPrefix+"y"]=B,I._traceIndex!==void 0?w.call("_guiRestyle",z,j,I._traceIndex):w.call("_guiRelayout",z,j)}}})}(E,T,f)}),S.exit().each(function(T){a.autoMargin(f,T._id)}).remove(),S.order()}}},90553:function(Y,P,e){var A=e(3400);Y.exports=function(k){return A.isPlainObject(k.colorbar)}},55080:function(Y,P,e){Y.exports={moduleType:"component",name:"colorbar",attributes:e(42996),supplyDefaults:e(64013),draw:e(37848).draw,hasColorbar:e(90553)}},49084:function(Y,P,e){var A=e(42996),k=e(53756).counter,a=e(95376),w=e(88304).scales;function b(h){return"`"+h+"`"}a(w),Y.exports=function(h,o){h=h||"";var t,i=(o=o||{}).cLetter||"c",n=("onlyIfNumerical"in o?o.onlyIfNumerical:Boolean(h),"noScale"in o?o.noScale:h==="marker.line"),r="showScaleDflt"in o?o.showScaleDflt:i==="z",s=typeof o.colorscaleDflt=="string"?w[o.colorscaleDflt]:null,l=o.editTypeOverride||"",u=h?h+".":"";"colorAttr"in o?(t=o.colorAttr,o.colorAttr):b(u+(t={z:"z",c:"color"}[i]));var d=i+"auto",c=i+"min",x=i+"max",g=i+"mid",p={};p[c]=p[x]=void 0;var v={};v[d]=!1;var y={};return t==="color"&&(y.color={valType:"color",arrayOk:!0,editType:l||"style"},o.anim&&(y.color.anim=!0)),y[d]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:p},y[c]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:v},y[x]={valType:"number",dflt:null,editType:l||"plot",impliedEdits:v},y[g]={valType:"number",dflt:null,editType:"calc",impliedEdits:p},y.colorscale={valType:"colorscale",editType:"calc",dflt:s,impliedEdits:{autocolorscale:!1}},y.autocolorscale={valType:"boolean",dflt:o.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},y.reversescale={valType:"boolean",dflt:!1,editType:"plot"},n||(y.showscale={valType:"boolean",dflt:r,editType:"calc"},y.colorbar=A),o.noColorAxis||(y.coloraxis={valType:"subplotid",regex:k("coloraxis"),dflt:null,editType:"calc"}),y}},47128:function(Y,P,e){var A=e(38248),k=e(3400),a=e(94288).extractOpts;Y.exports=function(w,b,h){var o,t=w._fullLayout,i=h.vals,n=h.containerStr,r=n?k.nestedProperty(b,n).get():b,s=a(r),l=s.auto!==!1,u=s.min,d=s.max,c=s.mid,x=function(){return k.aggNums(Math.min,null,i)},g=function(){return k.aggNums(Math.max,null,i)};u===void 0?u=x():l&&(u=r._colorAx&&A(u)?Math.min(u,x()):x()),d===void 0?d=g():l&&(d=r._colorAx&&A(d)?Math.max(d,g()):g()),l&&c!==void 0&&(d-c>c-u?u=c-(d-c):d-c<c-u&&(d=c+(c-u))),u===d&&(u-=.5,d+=.5),s._sync("min",u),s._sync("max",d),s.autocolorscale&&(o=u*d<0?t.colorscale.diverging:u>=0?t.colorscale.sequential:t.colorscale.sequentialminus,s._sync("colorscale",o))}},95504:function(Y,P,e){var A=e(3400),k=e(94288).hasColorscale,a=e(94288).extractOpts;Y.exports=function(w,b){function h(l,u){var d=l["_"+u];d!==void 0&&(l[u]=d)}function o(l,u){var d=u.container?A.nestedProperty(l,u.container).get():l;if(d)if(d.coloraxis)d._colorAx=b[d.coloraxis];else{var c=a(d),x=c.auto;(x||c.min===void 0)&&h(d,u.min),(x||c.max===void 0)&&h(d,u.max),c.autocolorscale&&h(d,"colorscale")}}for(var t=0;t<w.length;t++){var i=w[t],n=i._module.colorbar;if(n)if(Array.isArray(n))for(var r=0;r<n.length;r++)o(i,n[r]);else o(i,n);k(i,"marker.line")&&o(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var s in b._colorAxes)o(b[s],{min:"cmin",max:"cmax"})}},27260:function(Y,P,e){var A=e(38248),k=e(3400),a=e(90553),w=e(64013),b=e(88304).isValid,h=e(24040).traceIs;function o(t,i){var n=i.slice(0,i.length-1);return i?k.nestedProperty(t,n).get()||{}:t}Y.exports=function t(i,n,r,s,l){var u=l.prefix,d=l.cLetter,c="_module"in n,x=o(i,u),g=o(n,u),p=o(n._template||{},u)||{},v=function(){return delete i.coloraxis,delete n.coloraxis,t(i,n,r,s,l)};if(c){var y=r._colorAxes||{},m=s(u+"coloraxis");if(m){var _=h(n,"contour")&&k.nestedProperty(n,"contours.coloring").get()||"heatmap",f=y[m];return void(f?(f[2].push(v),f[0]!==_&&(f[0]=!1,k.warn(["Ignoring coloraxis:",m,"setting","as it is linked to incompatible colorscales."].join(" ")))):y[m]=[_,n,[v]])}}var S=x[d+"min"],T=x[d+"max"],E=A(S)&&A(T)&&S<T;s(u+d+"auto",!E)?s(u+d+"mid"):(s(u+d+"min"),s(u+d+"max"));var C,O,I=x.colorscale,z=p.colorscale;I!==void 0&&(C=!b(I)),z!==void 0&&(C=!b(z)),s(u+"autocolorscale",C),s(u+"colorscale"),s(u+"reversescale"),u!=="marker.line."&&(u&&c&&(O=a(x)),s(u+"showscale",O)&&(u&&p&&(g._template=p),w(x,g,r)))}},94288:function(Y,P,e){var A=e(33428),k=e(49760),a=e(38248),w=e(3400),b=e(76308),h=e(88304).isValid,o=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function i(u){var d,c,x,g=u._colorAx,p=g||u,v={};for(c=0;c<o.length;c++)v[x=o[c]]=p[x];if(g)for(d="c",c=0;c<t.length;c++)v[x=t[c]]=p["c"+x];else{var y;for(c=0;c<t.length;c++)((y="c"+(x=t[c]))in p||(y="z"+x)in p)&&(v[x]=p[y]);d=y.charAt(0)}return v._sync=function(m,_){var f=t.indexOf(m)!==-1?d+m:m;p[f]=p["_"+f]=_},v}function n(u){for(var d=i(u),c=d.min,x=d.max,g=d.reversescale?r(d.colorscale):d.colorscale,p=g.length,v=new Array(p),y=new Array(p),m=0;m<p;m++){var _=g[m];v[m]=c+_[0]*(x-c),y[m]=_[1]}return{domain:v,range:y}}function r(u){for(var d=u.length,c=new Array(d),x=d-1,g=0;x>=0;x--,g++){var p=u[x];c[g]=[1-p[0],p[1]]}return c}function s(u,d){d=d||{};for(var c=u.domain,x=u.range,g=x.length,p=new Array(g),v=0;v<g;v++){var y=k(x[v]).toRgb();p[v]=[y.r,y.g,y.b,y.a]}var m,_=A.scale.linear().domain(c).range(p).clamp(!0),f=d.noNumericCheck,S=d.returnArray;return(m=f&&S?_:f?function(T){return l(_(T))}:S?function(T){return a(T)?_(T):k(T).isValid()?T:b.defaultLine}:function(T){return a(T)?l(_(T)):k(T).isValid()?T:b.defaultLine}).domain=_.domain,m.range=function(){return x},m}function l(u){var d={r:u[0],g:u[1],b:u[2],a:u[3]};return k(d).toRgbString()}Y.exports={hasColorscale:function(u,d,c){var x=d?w.nestedProperty(u,d).get()||{}:u,g=x[c||"color"];g&&g._inputArray&&(g=g._inputArray);var p=!1;if(w.isArrayOrTypedArray(g)){for(var v=0;v<g.length;v++)if(a(g[v])){p=!0;break}}return w.isPlainObject(x)&&(p||x.showscale===!0||a(x.cmin)&&a(x.cmax)||h(x.colorscale)||w.isPlainObject(x.colorbar))},extractOpts:i,extractScale:n,flipScale:r,makeColorScaleFunc:s,makeColorScaleFuncFromTrace:function(u,d){return s(n(u),d)}}},8932:function(Y,P,e){var A=e(88304),k=e(94288);Y.exports={moduleType:"component",name:"colorscale",attributes:e(49084),layoutAttributes:e(92332),supplyLayoutDefaults:e(51608),handleDefaults:e(27260),crossTraceDefaults:e(95504),calc:e(47128),scales:A.scales,defaultScale:A.defaultScale,getScale:A.get,isValidScale:A.isValid,hasColorscale:k.hasColorscale,extractOpts:k.extractOpts,extractScale:k.extractScale,flipScale:k.flipScale,makeColorScaleFunc:k.makeColorScaleFunc,makeColorScaleFuncFromTrace:k.makeColorScaleFuncFromTrace}},92332:function(Y,P,e){var A=e(92880).extendFlat,k=e(49084),a=e(88304).scales;Y.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:A({_isSubplotObj:!0,editType:"calc"},k("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},51608:function(Y,P,e){var A=e(3400),k=e(31780),a=e(92332),w=e(27260);Y.exports=function(b,h){function o(d,c){return A.coerce(b,h,a,d,c)}o("colorscale.sequential"),o("colorscale.sequentialminus"),o("colorscale.diverging");var t,i,n=h._colorAxes;function r(d,c){return A.coerce(t,i,a.coloraxis,d,c)}for(var s in n){var l=n[s];if(l[0])t=b[s]||{},(i=k.newContainer(h,s,"coloraxis"))._name=s,w(t,i,h,r,{prefix:"",cLetter:"c"});else{for(var u=0;u<l[2].length;u++)l[2][u]();delete h._colorAxes[s]}}}},88304:function(Y,P,e){var A=e(49760),k={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=k.RdBu;function w(b){var h=0;if(!Array.isArray(b)||b.length<2||!b[0]||!b[b.length-1]||+b[0][0]!=0||+b[b.length-1][0]!=1)return!1;for(var o=0;o<b.length;o++){var t=b[o];if(t.length!==2||+t[0]<h||!A(t[1]).isValid())return!1;h=+t[0]}return!0}Y.exports={scales:k,defaultScale:a,get:function(b,h){if(h||(h=a),!b)return h;function o(){try{b=k[b]||JSON.parse(b)}catch{b=h}}return typeof b=="string"&&(o(),typeof b=="string"&&o()),w(b)?b:h},isValid:function(b){return k[b]!==void 0||w(b)}}},78316:function(Y){Y.exports=function(P,e,A,k,a){var w=(P-A)/(k-A),b=w+e/(k-A),h=(w+b)/2;return a==="left"||a==="bottom"?w:a==="center"||a==="middle"?h:a==="right"||a==="top"?b:w<.6666666666666666-h?w:b>1.3333333333333333-h?b:h}},67416:function(Y,P,e){var A=e(3400),k=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];Y.exports=function(a,w,b,h){return a=b==="left"?0:b==="center"?1:b==="right"?2:A.constrain(Math.floor(3*a),0,2),w=h==="bottom"?0:h==="middle"?1:h==="top"?2:A.constrain(Math.floor(3*w),0,2),k[w][a]}},72760:function(Y,P){P.selectMode=function(e){return e==="lasso"||e==="select"},P.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},P.openMode=function(e){return e==="drawline"||e==="drawopenpath"},P.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},P.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},P.selectingOrDrawing=function(e){return P.freeMode(e)||P.rectMode(e)}},86476:function(Y,P,e){var A=e(29128),k=e(52264),a=e(89184),w=e(3400).removeElement,b=e(33816),h=Y.exports={};h.align=e(78316),h.getCursor=e(67416);var o=e(2616);function t(){var n=document.createElement("div");n.className="dragcover";var r=n.style;return r.position="fixed",r.left=0,r.right=0,r.top=0,r.bottom=0,r.zIndex=999999999,r.background="none",document.body.appendChild(n),n}function i(n){return A(n.changedTouches?n.changedTouches[0]:n,document.body)}h.unhover=o.wrapped,h.unhoverRaw=o.raw,h.init=function(n){var r,s,l,u,d,c,x,g,p=n.gd,v=1,y=p._context.doubleClickDelay,m=n.element;p._mouseDownTime||(p._mouseDownTime=0),m.style.pointerEvents="all",m.onmousedown=f,a?(m._ontouchstart&&m.removeEventListener("touchstart",m._ontouchstart),m._ontouchstart=f,m.addEventListener("touchstart",f,{passive:!1})):m.ontouchstart=f;var _=n.clampFn||function(E,C,O){return Math.abs(E)<O&&(E=0),Math.abs(C)<O&&(C=0),[E,C]};function f(E){p._dragged=!1,p._dragging=!0;var C=i(E);r=C[0],s=C[1],x=E.target,c=E,g=E.buttons===2||E.ctrlKey,E.clientX===void 0&&E.clientY===void 0&&(E.clientX=r,E.clientY=s),(l=new Date().getTime())-p._mouseDownTime<y?v+=1:(v=1,p._mouseDownTime=l),n.prepFn&&n.prepFn(E,r,s),k&&!g?(d=t()).style.cursor=window.getComputedStyle(m).cursor:k||(d=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(m).cursor),document.addEventListener("mouseup",T),document.addEventListener("touchend",T),n.dragmode!==!1&&(E.preventDefault(),document.addEventListener("mousemove",S),document.addEventListener("touchmove",S,{passive:!1}))}function S(E){E.preventDefault();var C=i(E),O=n.minDrag||b.MINDRAG,I=_(C[0]-r,C[1]-s,O),z=I[0],U=I[1];(z||U)&&(p._dragged=!0,h.unhover(p,E)),p._dragged&&n.moveFn&&!g&&(p._dragdata={element:m,dx:z,dy:U},n.moveFn(z,U))}function T(E){if(delete p._dragdata,n.dragmode!==!1&&(E.preventDefault(),document.removeEventListener("mousemove",S),document.removeEventListener("touchmove",S)),document.removeEventListener("mouseup",T),document.removeEventListener("touchend",T),k?w(d):u&&(d.documentElement.style.cursor=u,u=null),p._dragging){if(p._dragging=!1,new Date().getTime()-p._mouseDownTime>y&&(v=Math.max(v-1,1)),p._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(v,c),!g){var C;try{C=new MouseEvent("click",E)}catch{var O=i(E);(C=document.createEvent("MouseEvents")).initMouseEvent("click",E.bubbles,E.cancelable,E.view,E.detail,E.screenX,E.screenY,O[0],O[1],E.ctrlKey,E.altKey,E.shiftKey,E.metaKey,E.button,E.relatedTarget)}x.dispatchEvent(C)}p._dragging=!1,p._dragged=!1}else p._dragged=!1}},h.coverSlip=t},2616:function(Y,P,e){var A=e(95924),k=e(91200),a=e(52200).getGraphDiv,w=e(92456),b=Y.exports={};b.wrapped=function(h,o,t){(h=a(h))._fullLayout&&k.clear(h._fullLayout._uid+w.HOVERID),b.raw(h,o,t)},b.raw=function(h,o){var t=h._fullLayout,i=h._hoverdata;o||(o={}),o.target&&!h._dragged&&A.triggerHandler(h,"plotly_beforehover",o)===!1||(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),h._hoverdata=void 0,o.target&&i&&h.emit("plotly_unhover",{event:o,points:i}))}},98192:function(Y,P){P.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},P.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},43616:function(Y,P,e){var A=e(33428),k=e(3400),a=k.numberFormat,w=e(38248),b=e(49760),h=e(24040),o=e(76308),t=e(8932),i=k.strTranslate,n=e(72736),r=e(9616),s=e(84284).LINE_SPACING,l=e(13448).DESELECTDIM,u=e(43028),d=e(7152),c=e(10624).appendArrayPointValue,x=Y.exports={};function g(_e,we,oe){var se=we.fillpattern,de=se&&x.getPatternAttr(se.shape,0,"");if(de){var Ee=x.getPatternAttr(se.bgcolor,0,null),Te=x.getPatternAttr(se.fgcolor,0,null),Se=se.fgopacity,Le=x.getPatternAttr(se.size,0,8),Oe=x.getPatternAttr(se.solidity,0,.3),he=we.uid;x.pattern(_e,"point",oe,he,de,Le,Oe,void 0,se.fillmode,Ee,Te,Se)}else we.fillcolor&&_e.call(o.fill,we.fillcolor)}x.font=function(_e,we,oe,se){k.isPlainObject(we)&&(se=we.color,oe=we.size,we=we.family),we&&_e.style("font-family",we),oe+1&&_e.style("font-size",oe+"px"),se&&_e.call(o.fill,se)},x.setPosition=function(_e,we,oe){_e.attr("x",we).attr("y",oe)},x.setSize=function(_e,we,oe){_e.attr("width",we).attr("height",oe)},x.setRect=function(_e,we,oe,se,de){_e.call(x.setPosition,we,oe).call(x.setSize,se,de)},x.translatePoint=function(_e,we,oe,se){var de=oe.c2p(_e.x),Ee=se.c2p(_e.y);return!!(w(de)&&w(Ee)&&we.node())&&(we.node().nodeName==="text"?we.attr("x",de).attr("y",Ee):we.attr("transform",i(de,Ee)),!0)},x.translatePoints=function(_e,we,oe){_e.each(function(se){var de=A.select(this);x.translatePoint(se,de,we,oe)})},x.hideOutsideRangePoint=function(_e,we,oe,se,de,Ee){we.attr("display",oe.isPtWithinRange(_e,de)&&se.isPtWithinRange(_e,Ee)?null:"none")},x.hideOutsideRangePoints=function(_e,we){if(we._hasClipOnAxisFalse){var oe=we.xaxis,se=we.yaxis;_e.each(function(de){var Ee=de[0].trace,Te=Ee.xcalendar,Se=Ee.ycalendar,Le=h.traceIs(Ee,"bar-like")?".bartext":".point,.textpoint";_e.selectAll(Le).each(function(Oe){x.hideOutsideRangePoint(Oe,A.select(this),oe,se,Te,Se)})})}},x.crispRound=function(_e,we,oe){return we&&w(we)?_e._context.staticPlot?we:we<1?1:Math.round(we):oe||0},x.singleLineStyle=function(_e,we,oe,se,de){we.style("fill","none");var Ee=(((_e||[])[0]||{}).trace||{}).line||{},Te=oe||Ee.width||0,Se=de||Ee.dash||"";o.stroke(we,se||Ee.color),x.dashLine(we,Se,Te)},x.lineGroupStyle=function(_e,we,oe,se){_e.style("fill","none").each(function(de){var Ee=(((de||[])[0]||{}).trace||{}).line||{},Te=we||Ee.width||0,Se=se||Ee.dash||"";A.select(this).call(o.stroke,oe||Ee.color).call(x.dashLine,Se,Te)})},x.dashLine=function(_e,we,oe){oe=+oe||0,we=x.dashStyle(we,oe),_e.style({"stroke-dasharray":we,"stroke-width":oe+"px"})},x.dashStyle=function(_e,we){we=+we||1;var oe=Math.max(we,3);return _e==="solid"?_e="":_e==="dot"?_e=oe+"px,"+oe+"px":_e==="dash"?_e=3*oe+"px,"+3*oe+"px":_e==="longdash"?_e=5*oe+"px,"+5*oe+"px":_e==="dashdot"?_e=3*oe+"px,"+oe+"px,"+oe+"px,"+oe+"px":_e==="longdashdot"&&(_e=5*oe+"px,"+2*oe+"px,"+oe+"px,"+2*oe+"px"),_e},x.singleFillStyle=function(_e,we){var oe=A.select(_e.node());g(_e,((oe.data()[0]||[])[0]||{}).trace||{},we)},x.fillGroupStyle=function(_e,we){_e.style("stroke-width",0).each(function(oe){var se=A.select(this);oe[0].trace&&g(se,oe[0].trace,we)})};var p=e(71984);x.symbolNames=[],x.symbolFuncs=[],x.symbolBackOffs=[],x.symbolNeedLines={},x.symbolNoDot={},x.symbolNoFill={},x.symbolList=[],Object.keys(p).forEach(function(_e){var we=p[_e],oe=we.n;x.symbolList.push(oe,String(oe),_e,oe+100,String(oe+100),_e+"-open"),x.symbolNames[oe]=_e,x.symbolFuncs[oe]=we.f,x.symbolBackOffs[oe]=we.backoff||0,we.needLine&&(x.symbolNeedLines[oe]=!0),we.noDot?x.symbolNoDot[oe]=!0:x.symbolList.push(oe+200,String(oe+200),_e+"-dot",oe+300,String(oe+300),_e+"-open-dot"),we.noFill&&(x.symbolNoFill[oe]=!0)});var v=x.symbolNames.length;function y(_e,we,oe,se){var de=_e%100;return x.symbolFuncs[de](we,oe,se)+(_e>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}x.symbolNumber=function(_e){if(w(_e))_e=+_e;else if(typeof _e=="string"){var we=0;_e.indexOf("-open")>0&&(we=100,_e=_e.replace("-open","")),_e.indexOf("-dot")>0&&(we+=200,_e=_e.replace("-dot","")),(_e=x.symbolNames.indexOf(_e))>=0&&(_e+=we)}return _e%100>=v||_e>=400?0:Math.floor(Math.max(_e,0))};var m={x1:1,x2:0,y1:0,y2:0},_={x1:0,x2:0,y1:1,y2:0},f=a("~f"),S={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:m},horizontalreversed:{node:"linearGradient",attrs:m,reversed:!0},vertical:{node:"linearGradient",attrs:_},verticalreversed:{node:"linearGradient",attrs:_,reversed:!0}};x.gradient=function(_e,we,oe,se,de,Ee){for(var Te=de.length,Se=S[se],Le=new Array(Te),Oe=0;Oe<Te;Oe++)Se.reversed?Le[Te-1-Oe]=[f(100*(1-de[Oe][0])),de[Oe][1]]:Le[Oe]=[f(100*de[Oe][0]),de[Oe][1]];var he=we._fullLayout,xe="g"+he._uid+"-"+oe,ke=he._defs.select(".gradients").selectAll("#"+xe).data([se+Le.join(";")],k.identity);ke.exit().remove(),ke.enter().append(Se.node).each(function(){var Re=A.select(this);Se.attrs&&Re.attr(Se.attrs),Re.attr("id",xe);var ze=Re.selectAll("stop").data(Le);ze.exit().remove(),ze.enter().append("stop"),ze.each(function(Ie){var He=b(Ie[1]);A.select(this).attr({offset:Ie[0]+"%","stop-color":o.tinyRGB(He),"stop-opacity":He.getAlpha()})})}),_e.style(Ee,Q(xe,we)).style(Ee+"-opacity",null),_e.classed("gradient_filled",!0)},x.pattern=function(_e,we,oe,se,de,Ee,Te,Se,Le,Oe,he,xe){var ke=we==="legend";Se&&(Le==="overlay"?(Oe=Se,he=o.contrast(Oe)):(Oe=void 0,he=Se));var Re,ze,Ie,He,qe,Je,st,it,vt,_t=oe._fullLayout,xt="p"+_t._uid+"-"+se,et={},nt=b(he),Mt=o.tinyRGB(nt),zt=xe*nt.getAlpha();switch(de){case"/":Re=Ee*Math.sqrt(2),ze=Ee*Math.sqrt(2),Je="path",et={d:Ie="M-"+Re/4+","+ze/4+"l"+Re/2+",-"+ze/2+"M0,"+ze+"L"+Re+",0M"+Re/4*3+","+ze/4*5+"l"+Re/2+",-"+ze/2,opacity:zt,stroke:Mt,"stroke-width":(He=Te*Ee)+"px"};break;case"\\":Re=Ee*Math.sqrt(2),ze=Ee*Math.sqrt(2),Je="path",et={d:Ie="M"+Re/4*3+",-"+ze/4+"l"+Re/2+","+ze/2+"M0,0L"+Re+","+ze+"M-"+Re/4+","+ze/4*3+"l"+Re/2+","+ze/2,opacity:zt,stroke:Mt,"stroke-width":(He=Te*Ee)+"px"};break;case"x":Re=Ee*Math.sqrt(2),ze=Ee*Math.sqrt(2),Ie="M-"+Re/4+","+ze/4+"l"+Re/2+",-"+ze/2+"M0,"+ze+"L"+Re+",0M"+Re/4*3+","+ze/4*5+"l"+Re/2+",-"+ze/2+"M"+Re/4*3+",-"+ze/4+"l"+Re/2+","+ze/2+"M0,0L"+Re+","+ze+"M-"+Re/4+","+ze/4*3+"l"+Re/2+","+ze/2,He=Ee-Ee*Math.sqrt(1-Te),Je="path",et={d:Ie,opacity:zt,stroke:Mt,"stroke-width":He+"px"};break;case"|":Je="path",Je="path",et={d:Ie="M"+(Re=Ee)/2+",0L"+Re/2+","+(ze=Ee),opacity:zt,stroke:Mt,"stroke-width":(He=Te*Ee)+"px"};break;case"-":Je="path",Je="path",et={d:Ie="M0,"+(ze=Ee)/2+"L"+(Re=Ee)+","+ze/2,opacity:zt,stroke:Mt,"stroke-width":(He=Te*Ee)+"px"};break;case"+":Je="path",Ie="M"+(Re=Ee)/2+",0L"+Re/2+","+(ze=Ee)+"M0,"+ze/2+"L"+Re+","+ze/2,He=Ee-Ee*Math.sqrt(1-Te),Je="path",et={d:Ie,opacity:zt,stroke:Mt,"stroke-width":He+"px"};break;case".":Re=Ee,ze=Ee,Te<Math.PI/4?qe=Math.sqrt(Te*Ee*Ee/Math.PI):(st=Te,it=Math.PI/4,qe=(vt=Ee/2)+(Ee/Math.sqrt(2)-vt)*(st-it)/(1-it)),Je="circle",et={cx:Re/2,cy:ze/2,r:qe,opacity:zt,fill:Mt}}var Ft=[de||"noSh",Oe||"noBg",he||"noFg",Ee,Te].join(";"),Rt=_t._defs.select(".patterns").selectAll("#"+xt).data([Ft],k.identity);Rt.exit().remove(),Rt.enter().append("pattern").each(function(){var We=A.select(this);if(We.attr({id:xt,width:Re+"px",height:ze+"px",patternUnits:"userSpaceOnUse",patternTransform:ke?"scale(0.8)":""}),Oe){var Ze=b(Oe),Ne=o.tinyRGB(Ze),Ye=Ze.getAlpha(),lt=We.selectAll("rect").data([0]);lt.exit().remove(),lt.enter().append("rect").attr({width:Re+"px",height:ze+"px",fill:Ne,"fill-opacity":Ye})}var at=We.selectAll(Je).data([0]);at.exit().remove(),at.enter().append(Je).attr(et)}),_e.style("fill",Q(xt,oe)).style("fill-opacity",null),_e.classed("pattern_filled",!0)},x.initGradients=function(_e){var we=_e._fullLayout;k.ensureSingle(we._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),A.select(_e).selectAll(".gradient_filled").classed("gradient_filled",!1)},x.initPatterns=function(_e){var we=_e._fullLayout;k.ensureSingle(we._defs,"g","patterns").selectAll("pattern").remove(),A.select(_e).selectAll(".pattern_filled").classed("pattern_filled",!1)},x.getPatternAttr=function(_e,we,oe){return _e&&k.isArrayOrTypedArray(_e)?we<_e.length?_e[we]:oe:_e},x.pointStyle=function(_e,we,oe,se){if(_e.size()){var de=x.makePointStyleFns(we);_e.each(function(Ee){x.singlePointStyle(Ee,A.select(this),we,de,oe,se)})}},x.singlePointStyle=function(_e,we,oe,se,de,Ee){var Te=oe.marker,Se=Te.line;if(Ee&&Ee.i>=0&&_e.i===void 0&&(_e.i=Ee.i),we.style("opacity",se.selectedOpacityFn?se.selectedOpacityFn(_e):_e.mo===void 0?Te.opacity:_e.mo),se.ms2mrc){var Le;Le=_e.ms==="various"||Te.size==="various"?3:se.ms2mrc(_e.ms),_e.mrc=Le,se.selectedSizeFn&&(Le=_e.mrc=se.selectedSizeFn(_e));var Oe=x.symbolNumber(_e.mx||Te.symbol)||0;_e.om=Oe%200>=100;var he=Me(_e,oe),xe=X(_e,oe);we.attr("d",y(Oe,Le,he,xe))}var ke,Re,ze,Ie=!1;if(_e.so)ze=Se.outlierwidth,Re=Se.outliercolor,ke=Te.outliercolor;else{var He=(Se||{}).width;ze=(_e.mlw+1||He+1||(_e.trace?(_e.trace.marker.line||{}).width:0)+1)-1||0,Re="mlc"in _e?_e.mlcc=se.lineScale(_e.mlc):k.isArrayOrTypedArray(Se.color)?o.defaultLine:Se.color,k.isArrayOrTypedArray(Te.color)&&(ke=o.defaultLine,Ie=!0),ke="mc"in _e?_e.mcc=se.markerScale(_e.mc):Te.color||Te.colors||"rgba(0,0,0,0)",se.selectedColorFn&&(ke=se.selectedColorFn(_e))}if(_e.om)we.call(o.stroke,ke).style({"stroke-width":(ze||1)+"px",fill:"none"});else{we.style("stroke-width",(_e.isBlank?0:ze)+"px");var qe=Te.gradient,Je=_e.mgt;Je?Ie=!0:Je=qe&&qe.type,k.isArrayOrTypedArray(Je)&&(Je=Je[0],S[Je]||(Je=0));var st=Te.pattern,it=st&&x.getPatternAttr(st.shape,_e.i,"");if(Je&&Je!=="none"){var vt=_e.mgc;vt?Ie=!0:vt=qe.color;var _t=oe.uid;Ie&&(_t+="-"+_e.i),x.gradient(we,de,_t,Je,[[0,vt],[1,ke]],"fill")}else if(it){var xt=!1,et=st.fgcolor;!et&&Ee&&Ee.color&&(et=Ee.color,xt=!0);var nt=x.getPatternAttr(et,_e.i,Ee&&Ee.color||null),Mt=x.getPatternAttr(st.bgcolor,_e.i,null),zt=st.fgopacity,Ft=x.getPatternAttr(st.size,_e.i,8),Rt=x.getPatternAttr(st.solidity,_e.i,.3);xt=xt||_e.mcc||k.isArrayOrTypedArray(st.shape)||k.isArrayOrTypedArray(st.bgcolor)||k.isArrayOrTypedArray(st.fgcolor)||k.isArrayOrTypedArray(st.size)||k.isArrayOrTypedArray(st.solidity);var We=oe.uid;xt&&(We+="-"+_e.i),x.pattern(we,"point",de,We,it,Ft,Rt,_e.mcc,st.fillmode,Mt,nt,zt)}else k.isArrayOrTypedArray(ke)?o.fill(we,ke[_e.i]):o.fill(we,ke);ze&&o.stroke(we,Re)}},x.makePointStyleFns=function(_e){var we={},oe=_e.marker;return we.markerScale=x.tryColorscale(oe,""),we.lineScale=x.tryColorscale(oe,"line"),h.traceIs(_e,"symbols")&&(we.ms2mrc=u.isBubble(_e)?d(_e):function(){return(oe.size||6)/2}),_e.selectedpoints&&k.extendFlat(we,x.makeSelectedPointStyleFns(_e)),we},x.makeSelectedPointStyleFns=function(_e){var we={},oe=_e.selected||{},se=_e.unselected||{},de=_e.marker||{},Ee=oe.marker||{},Te=se.marker||{},Se=de.opacity,Le=Ee.opacity,Oe=Te.opacity,he=Le!==void 0,xe=Oe!==void 0;(k.isArrayOrTypedArray(Se)||he||xe)&&(we.selectedOpacityFn=function(it){var vt=it.mo===void 0?de.opacity:it.mo;return it.selected?he?Le:vt:xe?Oe:l*vt});var ke=de.color,Re=Ee.color,ze=Te.color;(Re||ze)&&(we.selectedColorFn=function(it){var vt=it.mcc||ke;return it.selected?Re||vt:ze||vt});var Ie=de.size,He=Ee.size,qe=Te.size,Je=He!==void 0,st=qe!==void 0;return h.traceIs(_e,"symbols")&&(Je||st)&&(we.selectedSizeFn=function(it){var vt=it.mrc||Ie/2;return it.selected?Je?He/2:vt:st?qe/2:vt}),we},x.makeSelectedTextStyleFns=function(_e){var we={},oe=_e.selected||{},se=_e.unselected||{},de=_e.textfont||{},Ee=oe.textfont||{},Te=se.textfont||{},Se=de.color,Le=Ee.color,Oe=Te.color;return we.selectedTextColorFn=function(he){var xe=he.tc||Se;return he.selected?Le||xe:Oe||(Le?xe:o.addOpacity(xe,l))},we},x.selectedPointStyle=function(_e,we){if(_e.size()&&we.selectedpoints){var oe=x.makeSelectedPointStyleFns(we),se=we.marker||{},de=[];oe.selectedOpacityFn&&de.push(function(Ee,Te){Ee.style("opacity",oe.selectedOpacityFn(Te))}),oe.selectedColorFn&&de.push(function(Ee,Te){o.fill(Ee,oe.selectedColorFn(Te))}),oe.selectedSizeFn&&de.push(function(Ee,Te){var Se=Te.mx||se.symbol||0,Le=oe.selectedSizeFn(Te);Ee.attr("d",y(x.symbolNumber(Se),Le,Me(Te,we),X(Te,we))),Te.mrc2=Le}),de.length&&_e.each(function(Ee){for(var Te=A.select(this),Se=0;Se<de.length;Se++)de[Se](Te,Ee)})}},x.tryColorscale=function(_e,we){var oe=we?k.nestedProperty(_e,we).get():_e;if(oe){var se=oe.color;if((oe.colorscale||oe._colorAx)&&k.isArrayOrTypedArray(se))return t.makeColorScaleFuncFromTrace(oe)}return k.identity};var T,E,C={start:1,end:-1,middle:0,bottom:1,top:-1};function O(_e,we,oe,se,de){var Ee=A.select(_e.node().parentNode),Te=we.indexOf("top")!==-1?"top":we.indexOf("bottom")!==-1?"bottom":"middle",Se=we.indexOf("left")!==-1?"end":we.indexOf("right")!==-1?"start":"middle",Le=se?se/.8+1:0,Oe=(n.lineCount(_e)-1)*s+1,he=C[Se]*Le,xe=.75*oe+C[Te]*Le+(C[Te]-1)*Oe*oe/2;_e.attr("text-anchor",Se),de||Ee.attr("transform",i(he,xe))}function I(_e,we){var oe=_e.ts||we.textfont.size;return w(oe)&&oe>0?oe:0}function z(_e,we,oe){return oe&&(_e=j(_e)),we?D(_e[1]):U(_e[0])}function U(_e){var we=A.round(_e,2);return T=we,we}function D(_e){var we=A.round(_e,2);return E=we,we}function B(_e,we,oe,se){var de=_e[0]-we[0],Ee=_e[1]-we[1],Te=oe[0]-we[0],Se=oe[1]-we[1],Le=Math.pow(de*de+Ee*Ee,.25),Oe=Math.pow(Te*Te+Se*Se,.25),he=(Oe*Oe*de-Le*Le*Te)*se,xe=(Oe*Oe*Ee-Le*Le*Se)*se,ke=3*Oe*(Le+Oe),Re=3*Le*(Le+Oe);return[[U(we[0]+(ke&&he/ke)),D(we[1]+(ke&&xe/ke))],[U(we[0]-(Re&&he/Re)),D(we[1]-(Re&&xe/Re))]]}x.textPointStyle=function(_e,we,oe){if(_e.size()){var se;if(we.selectedpoints){var de=x.makeSelectedTextStyleFns(we);se=de.selectedTextColorFn}var Ee=we.texttemplate,Te=oe._fullLayout;_e.each(function(Se){var Le=A.select(this),Oe=Ee?k.extractOption(Se,we,"txt","texttemplate"):k.extractOption(Se,we,"tx","text");if(Oe||Oe===0){if(Ee){var he=we._module.formatLabels,xe=he?he(Se,we,Te):{},ke={};c(ke,we,Se.i);var Re=we._meta||{};Oe=k.texttemplateString(Oe,xe,Te._d3locale,ke,Se,Re)}var ze=Se.tp||we.textposition,Ie=I(Se,we),He=se?se(Se):Se.tc||we.textfont.color;Le.call(x.font,Se.tf||we.textfont.family,Ie,He).text(Oe).call(n.convertToTspans,oe).call(O,ze,Ie,Se.mrc)}else Le.remove()})}},x.selectedTextStyle=function(_e,we){if(_e.size()&&we.selectedpoints){var oe=x.makeSelectedTextStyleFns(we);_e.each(function(se){var de=A.select(this),Ee=oe.selectedTextColorFn(se),Te=se.tp||we.textposition,Se=I(se,we);o.fill(de,Ee);var Le=h.traceIs(we,"bar-like");O(de,Te,Se,se.mrc2||se.mrc,Le)})}},x.smoothopen=function(_e,we){if(_e.length<3)return"M"+_e.join("L");var oe,se="M"+_e[0],de=[];for(oe=1;oe<_e.length-1;oe++)de.push(B(_e[oe-1],_e[oe],_e[oe+1],we));for(se+="Q"+de[0][0]+" "+_e[1],oe=2;oe<_e.length-1;oe++)se+="C"+de[oe-2][1]+" "+de[oe-1][0]+" "+_e[oe];return se+"Q"+de[_e.length-3][1]+" "+_e[_e.length-1]},x.smoothclosed=function(_e,we){if(_e.length<3)return"M"+_e.join("L")+"Z";var oe,se="M"+_e[0],de=_e.length-1,Ee=[B(_e[de],_e[0],_e[1],we)];for(oe=1;oe<de;oe++)Ee.push(B(_e[oe-1],_e[oe],_e[oe+1],we));for(Ee.push(B(_e[de-1],_e[de],_e[0],we)),oe=1;oe<=de;oe++)se+="C"+Ee[oe-1][1]+" "+Ee[oe][0]+" "+_e[oe];return se+"C"+Ee[de][1]+" "+Ee[0][0]+" "+_e[0]+"Z"};var Z={hv:function(_e,we,oe){return"H"+U(we[0])+"V"+z(we,1,oe)},vh:function(_e,we,oe){return"V"+D(we[1])+"H"+z(we,0,oe)},hvh:function(_e,we,oe){return"H"+U((_e[0]+we[0])/2)+"V"+D(we[1])+"H"+z(we,0,oe)},vhv:function(_e,we,oe){return"V"+D((_e[1]+we[1])/2)+"H"+U(we[0])+"V"+z(we,1,oe)}},F=function(_e,we,oe){return"L"+z(we,0,oe)+","+z(we,1,oe)};function j(_e,we){var oe=_e.backoff,se=_e.trace,de=_e.d,Ee=_e.i;if(oe&&se&&se.marker&&se.marker.angle%360==0&&se.line&&se.line.shape!=="spline"){var Te=k.isArrayOrTypedArray(oe),Se=_e,Le=we?we[0]:T||0,Oe=we?we[1]:E||0,he=Se[0],xe=Se[1],ke=he-Le,Re=xe-Oe,ze=Math.atan2(Re,ke),Ie=Te?oe[Ee]:oe;if(Ie==="auto"){var He=Se.i;se.type==="scatter"&&He--;var qe=Se.marker,Je=qe.symbol;k.isArrayOrTypedArray(Je)&&(Je=Je[He]);var st=qe.size;k.isArrayOrTypedArray(st)&&(st=st[He]),Ie=qe?x.symbolBackOffs[x.symbolNumber(Je)]*st:0,Ie+=x.getMarkerStandoff(de[He],se)||0}var it=he-Ie*Math.cos(ze),vt=xe-Ie*Math.sin(ze);(it<=he&&it>=Le||it>=he&&it<=Le)&&(vt<=xe&&vt>=Oe||vt>=xe&&vt<=Oe)&&(_e=[it,vt])}return _e}x.steps=function(_e){var we=Z[_e]||F;return function(oe){for(var se="M"+U(oe[0][0])+","+D(oe[0][1]),de=oe.length,Ee=1;Ee<de;Ee++)se+=we(oe[Ee-1],oe[Ee],Ee===de-1);return se}},x.applyBackoff=j,x.makeTester=function(){var _e=k.ensureSingleById(A.select("body"),"svg","js-plotly-tester",function(oe){oe.attr(r.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),we=k.ensureSingle(_e,"path","js-reference-point",function(oe){oe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});x.tester=_e,x.testref=we},x.savedBBoxes={};var V=0;function te(_e){var we=_e.getAttribute("data-unformatted");if(we!==null)return we+_e.getAttribute("data-math")+_e.getAttribute("text-anchor")+_e.getAttribute("style")}function Q(_e,we){if(!_e)return null;var oe=we._context,se=oe._exportedPlot?"":oe._baseUrl||"";return se?"url('"+se+"#"+_e+"')":"url(#"+_e+")"}x.bBox=function(_e,we,oe){var se,de,Ee;if(oe||(oe=te(_e)),oe){if(se=x.savedBBoxes[oe])return k.extendFlat({},se)}else if(_e.childNodes.length===1){var Te=_e.childNodes[0];if(oe=te(Te)){var Se=+Te.getAttribute("x")||0,Le=+Te.getAttribute("y")||0,Oe=Te.getAttribute("transform");if(!Oe){var he=x.bBox(Te,!1,oe);return Se&&(he.left+=Se,he.right+=Se),Le&&(he.top+=Le,he.bottom+=Le),he}if(oe+="~"+Se+"~"+Le+"~"+Oe,se=x.savedBBoxes[oe])return k.extendFlat({},se)}}we?de=_e:(Ee=x.tester.node(),de=_e.cloneNode(!0),Ee.appendChild(de)),A.select(de).attr("transform",null).call(n.positionText,0,0);var xe=de.getBoundingClientRect(),ke=x.testref.node().getBoundingClientRect();we||Ee.removeChild(de);var Re={height:xe.height,width:xe.width,left:xe.left-ke.left,top:xe.top-ke.top,right:xe.right-ke.left,bottom:xe.bottom-ke.top};return V>=1e4&&(x.savedBBoxes={},V=0),oe&&(x.savedBBoxes[oe]=Re),V++,k.extendFlat({},Re)},x.setClipUrl=function(_e,we,oe){_e.attr("clip-path",Q(we,oe))},x.getTranslate=function(_e){var we=(_e[_e.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(oe,se,de){return[se,de].join(" ")}).split(" ");return{x:+we[0]||0,y:+we[1]||0}},x.setTranslate=function(_e,we,oe){var se=_e.attr?"attr":"getAttribute",de=_e.attr?"attr":"setAttribute",Ee=_e[se]("transform")||"";return we=we||0,oe=oe||0,Ee=Ee.replace(/(\btranslate\(.*?\);?)/,"").trim(),Ee=(Ee+=i(we,oe)).trim(),_e[de]("transform",Ee),Ee},x.getScale=function(_e){var we=(_e[_e.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(oe,se,de){return[se,de].join(" ")}).split(" ");return{x:+we[0]||1,y:+we[1]||1}},x.setScale=function(_e,we,oe){var se=_e.attr?"attr":"getAttribute",de=_e.attr?"attr":"setAttribute",Ee=_e[se]("transform")||"";return we=we||1,oe=oe||1,Ee=Ee.replace(/(\bscale\(.*?\);?)/,"").trim(),Ee=(Ee+="scale("+we+","+oe+")").trim(),_e[de]("transform",Ee),Ee};var $=/\s*sc.*/;x.setPointGroupScale=function(_e,we,oe){if(we=we||1,oe=oe||1,_e){var se=we===1&&oe===1?"":"scale("+we+","+oe+")";_e.each(function(){var de=(this.getAttribute("transform")||"").replace($,"");de=(de+=se).trim(),this.setAttribute("transform",de)})}};var G=/translate\([^)]*\)\s*$/;function X(_e,we){var oe;return _e&&(oe=_e.mf),oe===void 0&&(oe=we.marker&&we.marker.standoff||0),we._geo||we._xA?oe:-oe}x.setTextPointsScale=function(_e,we,oe){_e&&_e.each(function(){var se,de=A.select(this),Ee=de.select("text");if(Ee.node()){var Te=parseFloat(Ee.attr("x")||0),Se=parseFloat(Ee.attr("y")||0),Le=(de.attr("transform")||"").match(G);se=we===1&&oe===1?[]:[i(Te,Se),"scale("+we+","+oe+")",i(-Te,-Se)],Le&&se.push(Le),de.attr("transform",se.join(""))}})},x.getMarkerStandoff=X;var J,ne,ie,ae,le,ce,pe=Math.atan2,ge=Math.cos,me=Math.sin;function ve(_e,we){var oe=we[0],se=we[1];return[oe*ge(_e)-se*me(_e),oe*me(_e)+se*ge(_e)]}function Me(_e,we){var oe,se,de=_e.ma;de===void 0&&((de=we.marker.angle)&&!k.isArrayOrTypedArray(de)||(de=0));var Ee=we.marker.angleref;if(Ee==="previous"||Ee==="north"){if(we._geo){var Te=we._geo.project(_e.lonlat);oe=Te[0],se=Te[1]}else{var Se=we._xA,Le=we._yA;if(!Se||!Le)return 90;oe=Se.c2p(_e.x),se=Le.c2p(_e.y)}if(we._geo){var Oe,he=_e.lonlat[0],xe=_e.lonlat[1],ke=we._geo.project([he,xe+1e-5]),Re=we._geo.project([he+1e-5,xe]),ze=pe(Re[1]-se,Re[0]-oe),Ie=pe(ke[1]-se,ke[0]-oe);if(Ee==="north")Oe=de/180*Math.PI;else if(Ee==="previous"){var He=he/180*Math.PI,qe=xe/180*Math.PI,Je=J/180*Math.PI,st=ne/180*Math.PI,it=Je-He,vt=ge(st)*me(it),_t=me(st)*ge(qe)-ge(st)*me(qe)*ge(it);Oe=-pe(vt,_t)-Math.PI,J=he,ne=xe}var xt=ve(ze,[ge(Oe),0]),et=ve(Ie,[me(Oe),0]);de=pe(xt[1]+et[1],xt[0]+et[0])/Math.PI*180,Ee!=="previous"||ce===we.uid&&_e.i===le+1||(de=null)}if(Ee==="previous"&&!we._geo)if(ce===we.uid&&_e.i===le+1&&w(oe)&&w(se)){var nt=oe-ie,Mt=se-ae,zt=we.line&&we.line.shape||"",Ft=zt.slice(zt.length-1);Ft==="h"&&(Mt=0),Ft==="v"&&(nt=0),de+=pe(Mt,nt)/Math.PI*180+90}else de=null}return ie=oe,ae=se,le=_e.i,ce=we.uid,de}x.getMarkerAngle=Me},71984:function(Y,P,e){var A,k,a,w,b=e(21984),h=e(33428).round,o="M0,0Z",t=Math.sqrt(2),i=Math.sqrt(3),n=Math.PI,r=Math.cos,s=Math.sin;function l(d){return d===null}function u(d,c,x){if(!(d&&d%360!=0||c))return x;if(a===d&&w===c&&A===x)return k;function g(z,U){var D=r(z),B=s(z),Z=U[0],F=U[1]+(c||0);return[Z*D-F*B,Z*B+F*D]}a=d,w=c,A=x;for(var p=d/180*n,v=0,y=0,m=b(x),_="",f=0;f<m.length;f++){var S=m[f],T=S[0],E=v,C=y;if(T==="M"||T==="L")v=+S[1],y=+S[2];else if(T==="m"||T==="l")v+=+S[1],y+=+S[2];else if(T==="H")v=+S[1];else if(T==="h")v+=+S[1];else if(T==="V")y=+S[1];else if(T==="v")y+=+S[1];else if(T==="A"){v=+S[1],y=+S[2];var O=g(p,[+S[6],+S[7]]);S[6]=O[0],S[7]=O[1],S[3]=+S[3]+d}T!=="H"&&T!=="V"||(T="L"),T!=="h"&&T!=="v"||(T="l"),T!=="m"&&T!=="l"||(v-=E,y-=C);var I=g(p,[v,y]);T!=="H"&&T!=="V"||(T="L"),T!=="M"&&T!=="L"&&T!=="m"&&T!=="l"||(S[1]=I[0],S[2]=I[1]),S[0]=T,_+=S[0]+S.slice(1).join(",")}return k=_,_}Y.exports={circle:{n:0,f:function(d,c,x){if(l(c))return o;var g=h(d,2),p="M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+g+" 0 0,1 "+g+",0Z";return x?u(c,x,p):p}},square:{n:1,f:function(d,c,x){if(l(c))return o;var g=h(d,2);return u(c,x,"M"+g+","+g+"H-"+g+"V-"+g+"H"+g+"Z")}},diamond:{n:2,f:function(d,c,x){if(l(c))return o;var g=h(1.3*d,2);return u(c,x,"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"Z")}},cross:{n:3,f:function(d,c,x){if(l(c))return o;var g=h(.4*d,2),p=h(1.2*d,2);return u(c,x,"M"+p+","+g+"H"+g+"V"+p+"H-"+g+"V"+g+"H-"+p+"V-"+g+"H-"+g+"V-"+p+"H"+g+"V-"+g+"H"+p+"Z")}},x:{n:4,f:function(d,c,x){if(l(c))return o;var g=h(.8*d/t,2),p="l"+g+","+g,v="l"+g+",-"+g,y="l-"+g+",-"+g,m="l-"+g+","+g;return u(c,x,"M0,"+g+p+v+y+v+y+m+y+m+p+m+p+"Z")}},"triangle-up":{n:5,f:function(d,c,x){if(l(c))return o;var g=h(2*d/i,2);return u(c,x,"M-"+g+","+h(d/2,2)+"H"+g+"L0,-"+h(d,2)+"Z")}},"triangle-down":{n:6,f:function(d,c,x){if(l(c))return o;var g=h(2*d/i,2);return u(c,x,"M-"+g+",-"+h(d/2,2)+"H"+g+"L0,"+h(d,2)+"Z")}},"triangle-left":{n:7,f:function(d,c,x){if(l(c))return o;var g=h(2*d/i,2);return u(c,x,"M"+h(d/2,2)+",-"+g+"V"+g+"L-"+h(d,2)+",0Z")}},"triangle-right":{n:8,f:function(d,c,x){if(l(c))return o;var g=h(2*d/i,2);return u(c,x,"M-"+h(d/2,2)+",-"+g+"V"+g+"L"+h(d,2)+",0Z")}},"triangle-ne":{n:9,f:function(d,c,x){if(l(c))return o;var g=h(.6*d,2),p=h(1.2*d,2);return u(c,x,"M-"+p+",-"+g+"H"+g+"V"+p+"Z")}},"triangle-se":{n:10,f:function(d,c,x){if(l(c))return o;var g=h(.6*d,2),p=h(1.2*d,2);return u(c,x,"M"+g+",-"+p+"V"+g+"H-"+p+"Z")}},"triangle-sw":{n:11,f:function(d,c,x){if(l(c))return o;var g=h(.6*d,2),p=h(1.2*d,2);return u(c,x,"M"+p+","+g+"H-"+g+"V-"+p+"Z")}},"triangle-nw":{n:12,f:function(d,c,x){if(l(c))return o;var g=h(.6*d,2),p=h(1.2*d,2);return u(c,x,"M-"+g+","+p+"V-"+g+"H"+p+"Z")}},pentagon:{n:13,f:function(d,c,x){if(l(c))return o;var g=h(.951*d,2),p=h(.588*d,2),v=h(-d,2),y=h(-.309*d,2);return u(c,x,"M"+g+","+y+"L"+p+","+h(.809*d,2)+"H-"+p+"L-"+g+","+y+"L0,"+v+"Z")}},hexagon:{n:14,f:function(d,c,x){if(l(c))return o;var g=h(d,2),p=h(d/2,2),v=h(d*i/2,2);return u(c,x,"M"+v+",-"+p+"V"+p+"L0,"+g+"L-"+v+","+p+"V-"+p+"L0,-"+g+"Z")}},hexagon2:{n:15,f:function(d,c,x){if(l(c))return o;var g=h(d,2),p=h(d/2,2),v=h(d*i/2,2);return u(c,x,"M-"+p+","+v+"H"+p+"L"+g+",0L"+p+",-"+v+"H-"+p+"L-"+g+",0Z")}},octagon:{n:16,f:function(d,c,x){if(l(c))return o;var g=h(.924*d,2),p=h(.383*d,2);return u(c,x,"M-"+p+",-"+g+"H"+p+"L"+g+",-"+p+"V"+p+"L"+p+","+g+"H-"+p+"L-"+g+","+p+"V-"+p+"Z")}},star:{n:17,f:function(d,c,x){if(l(c))return o;var g=1.4*d,p=h(.225*g,2),v=h(.951*g,2),y=h(.363*g,2),m=h(.588*g,2),_=h(-g,2),f=h(-.309*g,2),S=h(.118*g,2),T=h(.809*g,2);return u(c,x,"M"+p+","+f+"H"+v+"L"+y+","+S+"L"+m+","+T+"L0,"+h(.382*g,2)+"L-"+m+","+T+"L-"+y+","+S+"L-"+v+","+f+"H-"+p+"L0,"+_+"Z")}},hexagram:{n:18,f:function(d,c,x){if(l(c))return o;var g=h(.66*d,2),p=h(.38*d,2),v=h(.76*d,2);return u(c,x,"M-"+v+",0l-"+p+",-"+g+"h"+v+"l"+p+",-"+g+"l"+p+","+g+"h"+v+"l-"+p+","+g+"l"+p+","+g+"h-"+v+"l-"+p+","+g+"l-"+p+",-"+g+"h-"+v+"Z")}},"star-triangle-up":{n:19,f:function(d,c,x){if(l(c))return o;var g=h(d*i*.8,2),p=h(.8*d,2),v=h(1.6*d,2),y=h(4*d,2),m="A "+y+","+y+" 0 0 1 ";return u(c,x,"M-"+g+","+p+m+g+","+p+m+"0,-"+v+m+"-"+g+","+p+"Z")}},"star-triangle-down":{n:20,f:function(d,c,x){if(l(c))return o;var g=h(d*i*.8,2),p=h(.8*d,2),v=h(1.6*d,2),y=h(4*d,2),m="A "+y+","+y+" 0 0 1 ";return u(c,x,"M"+g+",-"+p+m+"-"+g+",-"+p+m+"0,"+v+m+g+",-"+p+"Z")}},"star-square":{n:21,f:function(d,c,x){if(l(c))return o;var g=h(1.1*d,2),p=h(2*d,2),v="A "+p+","+p+" 0 0 1 ";return u(c,x,"M-"+g+",-"+g+v+"-"+g+","+g+v+g+","+g+v+g+",-"+g+v+"-"+g+",-"+g+"Z")}},"star-diamond":{n:22,f:function(d,c,x){if(l(c))return o;var g=h(1.4*d,2),p=h(1.9*d,2),v="A "+p+","+p+" 0 0 1 ";return u(c,x,"M-"+g+",0"+v+"0,"+g+v+g+",0"+v+"0,-"+g+v+"-"+g+",0Z")}},"diamond-tall":{n:23,f:function(d,c,x){if(l(c))return o;var g=h(.7*d,2),p=h(1.4*d,2);return u(c,x,"M0,"+p+"L"+g+",0L0,-"+p+"L-"+g+",0Z")}},"diamond-wide":{n:24,f:function(d,c,x){if(l(c))return o;var g=h(1.4*d,2),p=h(.7*d,2);return u(c,x,"M0,"+p+"L"+g+",0L0,-"+p+"L-"+g+",0Z")}},hourglass:{n:25,f:function(d,c,x){if(l(c))return o;var g=h(d,2);return u(c,x,"M"+g+","+g+"H-"+g+"L"+g+",-"+g+"H-"+g+"Z")},noDot:!0},bowtie:{n:26,f:function(d,c,x){if(l(c))return o;var g=h(d,2);return u(c,x,"M"+g+","+g+"V-"+g+"L-"+g+","+g+"V-"+g+"Z")},noDot:!0},"circle-cross":{n:27,f:function(d,c,x){if(l(c))return o;var g=h(d,2);return u(c,x,"M0,"+g+"V-"+g+"M"+g+",0H-"+g+"M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+g+" 0 0,1 "+g+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(d,c,x){if(l(c))return o;var g=h(d,2),p=h(d/t,2);return u(c,x,"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p+"M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+g+" 0 0,1 "+g+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(d,c,x){if(l(c))return o;var g=h(d,2);return u(c,x,"M0,"+g+"V-"+g+"M"+g+",0H-"+g+"M"+g+","+g+"H-"+g+"V-"+g+"H"+g+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(d,c,x){if(l(c))return o;var g=h(d,2);return u(c,x,"M"+g+","+g+"L-"+g+",-"+g+"M"+g+",-"+g+"L-"+g+","+g+"M"+g+","+g+"H-"+g+"V-"+g+"H"+g+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(d,c,x){if(l(c))return o;var g=h(1.3*d,2);return u(c,x,"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"ZM0,-"+g+"V"+g+"M-"+g+",0H"+g)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(d,c,x){if(l(c))return o;var g=h(1.3*d,2),p=h(.65*d,2);return u(c,x,"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"ZM-"+p+",-"+p+"L"+p+","+p+"M-"+p+","+p+"L"+p+",-"+p)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(d,c,x){if(l(c))return o;var g=h(1.4*d,2);return u(c,x,"M0,"+g+"V-"+g+"M"+g+",0H-"+g)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(d,c,x){if(l(c))return o;var g=h(d,2);return u(c,x,"M"+g+","+g+"L-"+g+",-"+g+"M"+g+",-"+g+"L-"+g+","+g)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(d,c,x){if(l(c))return o;var g=h(1.2*d,2),p=h(.85*d,2);return u(c,x,"M0,"+g+"V-"+g+"M"+g+",0H-"+g+"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(d,c,x){if(l(c))return o;var g=h(d/2,2),p=h(d,2);return u(c,x,"M"+g+","+p+"V-"+p+"M"+(g-p)+",-"+p+"V"+p+"M"+p+","+g+"H-"+p+"M-"+p+","+(g-p)+"H"+p)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(d,c,x){if(l(c))return o;var g=h(1.2*d,2),p=h(1.6*d,2),v=h(.8*d,2);return u(c,x,"M-"+g+","+v+"L0,0M"+g+","+v+"L0,0M0,-"+p+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(d,c,x){if(l(c))return o;var g=h(1.2*d,2),p=h(1.6*d,2),v=h(.8*d,2);return u(c,x,"M-"+g+",-"+v+"L0,0M"+g+",-"+v+"L0,0M0,"+p+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(d,c,x){if(l(c))return o;var g=h(1.2*d,2),p=h(1.6*d,2),v=h(.8*d,2);return u(c,x,"M"+v+","+g+"L0,0M"+v+",-"+g+"L0,0M-"+p+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(d,c,x){if(l(c))return o;var g=h(1.2*d,2),p=h(1.6*d,2),v=h(.8*d,2);return u(c,x,"M-"+v+","+g+"L0,0M-"+v+",-"+g+"L0,0M"+p+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(d,c,x){if(l(c))return o;var g=h(1.4*d,2);return u(c,x,"M"+g+",0H-"+g)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(d,c,x){if(l(c))return o;var g=h(1.4*d,2);return u(c,x,"M0,"+g+"V-"+g)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(d,c,x){if(l(c))return o;var g=h(d,2);return u(c,x,"M"+g+",-"+g+"L-"+g+","+g)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(d,c,x){if(l(c))return o;var g=h(d,2);return u(c,x,"M"+g+","+g+"L-"+g+",-"+g)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(d,c,x){if(l(c))return o;var g=h(d,2);return u(c,x,"M0,0L-"+g+","+h(2*d,2)+"H"+g+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(d,c,x){if(l(c))return o;var g=h(d,2);return u(c,x,"M0,0L-"+g+",-"+h(2*d,2)+"H"+g+"Z")},noDot:!0},"arrow-left":{n:47,f:function(d,c,x){if(l(c))return o;var g=h(2*d,2),p=h(d,2);return u(c,x,"M0,0L"+g+",-"+p+"V"+p+"Z")},noDot:!0},"arrow-right":{n:48,f:function(d,c,x){if(l(c))return o;var g=h(2*d,2),p=h(d,2);return u(c,x,"M0,0L-"+g+",-"+p+"V"+p+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(d,c,x){if(l(c))return o;var g=h(d,2);return u(c,x,"M-"+g+",0H"+g+"M0,0L-"+g+","+h(2*d,2)+"H"+g+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(d,c,x){if(l(c))return o;var g=h(d,2);return u(c,x,"M-"+g+",0H"+g+"M0,0L-"+g+",-"+h(2*d,2)+"H"+g+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(d,c,x){if(l(c))return o;var g=h(2*d,2),p=h(d,2);return u(c,x,"M0,-"+p+"V"+p+"M0,0L"+g+",-"+p+"V"+p+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(d,c,x){if(l(c))return o;var g=h(2*d,2),p=h(d,2);return u(c,x,"M0,-"+p+"V"+p+"M0,0L-"+g+",-"+p+"V"+p+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(d,c,x){if(l(c))return o;var g=n/2.5,p=2*d*r(g),v=2*d*s(g);return u(c,x,"M0,0L"+-p+","+v+"L"+p+","+v+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(d,c,x){if(l(c))return o;var g=n/4,p=2*d*r(g),v=2*d*s(g);return u(c,x,"M0,0L"+-p+","+v+"A "+2*d+","+2*d+" 0 0 1 "+p+","+v+"Z")},backoff:.4,noDot:!0}}},97644:function(Y){Y.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},14880:function(Y,P,e){var A=e(38248),k=e(24040),a=e(54460),w=e(3400),b=e(93792);function h(o,t,i,n){var r=t["error_"+n]||{},s=[];if(r.visible&&["linear","log"].indexOf(i.type)!==-1){for(var l=b(r),u=0;u<o.length;u++){var d=o[u],c=d.i;if(c===void 0)c=u;else if(c===null)continue;var x=d[n];if(A(i.c2l(x))){var g=l(x,c);if(A(g[0])&&A(g[1])){var p=d[n+"s"]=x-g[0],v=d[n+"h"]=x+g[1];s.push(p,v)}}}var y=i._id,m=t._extremes[y],_=a.findExtremes(i,s,w.extendFlat({tozero:m.opts.tozero},{padded:!0}));m.min=m.min.concat(_.min),m.max=m.max.concat(_.max)}}Y.exports=function(o){for(var t=o.calcdata,i=0;i<t.length;i++){var n=t[i],r=n[0].trace;if(r.visible===!0&&k.traceIs(r,"errorBarsOK")){var s=a.getFromId(o,r.xaxis),l=a.getFromId(o,r.yaxis);h(n,r,s,"x"),h(n,r,l,"y")}}}},93792:function(Y){function P(e,A){return e==="percent"?function(k){return Math.abs(k*A/100)}:e==="constant"?function(){return Math.abs(A)}:e==="sqrt"?function(k){return Math.sqrt(Math.abs(k))}:void 0}Y.exports=function(e){var A=e.type,k=e.symmetric;if(A==="data"){var a=e.array||[];if(k)return function(o,t){var i=+a[t];return[i,i]};var w=e.arrayminus||[];return function(o,t){var i=+a[t],n=+w[t];return isNaN(i)&&isNaN(n)?[NaN,NaN]:[n||0,i||0]}}var b=P(A,e.value),h=P(A,e.valueminus);return k||e.valueminus===void 0?function(o){var t=b(o);return[t,t]}:function(o){return[h(o),b(o)]}}},65200:function(Y,P,e){var A=e(38248),k=e(24040),a=e(3400),w=e(31780),b=e(97644);Y.exports=function(h,o,t,i){var n="error_"+i.axis,r=w.newContainer(o,n),s=h[n]||{};function l(x,g){return a.coerce(s,r,b,x,g)}if(l("visible",s.array!==void 0||s.value!==void 0||s.type==="sqrt")!==!1){var u=l("type","array"in s?"data":"percent"),d=!0;u!=="sqrt"&&(d=l("symmetric",!((u==="data"?"arrayminus":"valueminus")in s))),u==="data"?(l("array"),l("traceref"),d||(l("arrayminus"),l("tracerefminus"))):u!=="percent"&&u!=="constant"||(l("value"),d||l("valueminus"));var c="copy_"+i.inherit+"style";i.inherit&&(o["error_"+i.inherit]||{}).visible&&l(c,!(s.color||A(s.thickness)||A(s.width))),i.inherit&&r[c]||(l("color",t),l("thickness"),l("width",k.traceIs(o,"gl3d")?0:4))}}},64968:function(Y,P,e){var A=e(3400),k=e(67824).overrideAll,a=e(97644),w={error_x:A.extendFlat({},a),error_y:A.extendFlat({},a)};delete w.error_x.copy_zstyle,delete w.error_y.copy_zstyle,delete w.error_y.copy_ystyle;var b={error_x:A.extendFlat({},a),error_y:A.extendFlat({},a),error_z:A.extendFlat({},a)};delete b.error_x.copy_ystyle,delete b.error_y.copy_ystyle,delete b.error_z.copy_ystyle,delete b.error_z.copy_zstyle,Y.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:w,bar:w,histogram:w,scatter3d:k(b,"calc","nested"),scattergl:k(w,"calc","nested")}},supplyDefaults:e(65200),calc:e(14880),makeComputeError:e(93792),plot:e(78512),style:e(92036),hoverInfo:function(h,o,t){(o.error_y||{}).visible&&(t.yerr=h.yh-h.y,o.error_y.symmetric||(t.yerrneg=h.y-h.ys)),(o.error_x||{}).visible&&(t.xerr=h.xh-h.x,o.error_x.symmetric||(t.xerrneg=h.x-h.xs))}}},78512:function(Y,P,e){var A=e(33428),k=e(38248),a=e(43616),w=e(43028);Y.exports=function(b,h,o,t){var i=o.xaxis,n=o.yaxis,r=t&&t.duration>0,s=b._context.staticPlot;h.each(function(l){var u,d=l[0].trace,c=d.error_x||{},x=d.error_y||{};d.ids&&(u=function(y){return y.id});var g=w.hasMarkers(d)&&d.marker.maxdisplayed>0;x.visible||c.visible||(l=[]);var p=A.select(this).selectAll("g.errorbar").data(l,u);if(p.exit().remove(),l.length){c.visible||p.selectAll("path.xerror").remove(),x.visible||p.selectAll("path.yerror").remove(),p.style("opacity",1);var v=p.enter().append("g").classed("errorbar",!0);r&&v.style("opacity",0).transition().duration(t.duration).style("opacity",1),a.setClipUrl(p,o.layerClipId,b),p.each(function(y){var m=A.select(this),_=function(O,I,z){var U={x:I.c2p(O.x),y:z.c2p(O.y)};return O.yh!==void 0&&(U.yh=z.c2p(O.yh),U.ys=z.c2p(O.ys),k(U.ys)||(U.noYS=!0,U.ys=z.c2p(O.ys,!0))),O.xh!==void 0&&(U.xh=I.c2p(O.xh),U.xs=I.c2p(O.xs),k(U.xs)||(U.noXS=!0,U.xs=I.c2p(O.xs,!0))),U}(y,i,n);if(!g||y.vis){var f,S=m.select("path.yerror");if(x.visible&&k(_.x)&&k(_.yh)&&k(_.ys)){var T=x.width;f="M"+(_.x-T)+","+_.yh+"h"+2*T+"m-"+T+",0V"+_.ys,_.noYS||(f+="m-"+T+",0h"+2*T),S.size()?r&&(S=S.transition().duration(t.duration).ease(t.easing)):S=m.append("path").style("vector-effect",s?"none":"non-scaling-stroke").classed("yerror",!0),S.attr("d",f)}else S.remove();var E=m.select("path.xerror");if(c.visible&&k(_.y)&&k(_.xh)&&k(_.xs)){var C=(c.copy_ystyle?x:c).width;f="M"+_.xh+","+(_.y-C)+"v"+2*C+"m0,-"+C+"H"+_.xs,_.noXS||(f+="m0,-"+C+"v"+2*C),E.size()?r&&(E=E.transition().duration(t.duration).ease(t.easing)):E=m.append("path").style("vector-effect",s?"none":"non-scaling-stroke").classed("xerror",!0),E.attr("d",f)}else E.remove()}})}})}},92036:function(Y,P,e){var A=e(33428),k=e(76308);Y.exports=function(a){a.each(function(w){var b=w[0].trace,h=b.error_y||{},o=b.error_x||{},t=A.select(this);t.selectAll("path.yerror").style("stroke-width",h.thickness+"px").call(k.stroke,h.color),o.copy_ystyle&&(o=h),t.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call(k.stroke,o.color)})}},55756:function(Y,P,e){var A=e(25376),k=e(65460).hoverlabel,a=e(92880).extendFlat;Y.exports={hoverlabel:{bgcolor:a({},k.bgcolor,{arrayOk:!0}),bordercolor:a({},k.bordercolor,{arrayOk:!0}),font:A({arrayOk:!0,editType:"none"}),align:a({},k.align,{arrayOk:!0}),namelength:a({},k.namelength,{arrayOk:!0}),editType:"none"}}},55056:function(Y,P,e){var A=e(3400),k=e(24040);function a(w,b,h,o){o=o||A.identity,Array.isArray(w)&&(b[0][h]=o(w))}Y.exports=function(w){var b=w.calcdata,h=w._fullLayout;function o(s){return function(l){return A.coerceHoverinfo({hoverinfo:l},{_module:s._module},h)}}for(var t=0;t<b.length;t++){var i=b[t],n=i[0].trace;if(!k.traceIs(n,"pie-like")){var r=k.traceIs(n,"2dMap")?a:A.fillArray;r(n.hoverinfo,i,"hi",o(n)),n.hovertemplate&&r(n.hovertemplate,i,"ht"),n.hoverlabel&&(r(n.hoverlabel.bgcolor,i,"hbg"),r(n.hoverlabel.bordercolor,i,"hbc"),r(n.hoverlabel.font.size,i,"hts"),r(n.hoverlabel.font.color,i,"htc"),r(n.hoverlabel.font.family,i,"htf"),r(n.hoverlabel.namelength,i,"hnl"),r(n.hoverlabel.align,i,"hta"))}}}},62376:function(Y,P,e){var A=e(24040),k=e(83292).hover;Y.exports=function(a,w,b){var h=A.getComponentMethod("annotations","onClick")(a,a._hoverdata);function o(){a.emit("plotly_click",{points:a._hoverdata,event:w})}b!==void 0&&k(a,w,b,!0),a._hoverdata&&w&&w.target&&(h&&h.then?h.then(o):o(),w.stopImmediatePropagation&&w.stopImmediatePropagation())}},92456:function(Y){Y.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},95448:function(Y,P,e){var A=e(3400),k=e(55756),a=e(16132);Y.exports=function(w,b,h,o){var t=A.extendFlat({},o.hoverlabel);b.hovertemplate&&(t.namelength=-1),a(w,b,function(i,n){return A.coerce(w,b,k,i,n)},t)}},10624:function(Y,P,e){var A=e(3400);P.getSubplot=function(o){return o.subplot||o.xaxis+o.yaxis||o.geo},P.isTraceInSubplots=function(o,t){if(o.type==="splom"){for(var i=o.xaxes||[],n=o.yaxes||[],r=0;r<i.length;r++)for(var s=0;s<n.length;s++)if(t.indexOf(i[r]+n[s])!==-1)return!0;return!1}return t.indexOf(P.getSubplot(o))!==-1},P.flat=function(o,t){for(var i=new Array(o.length),n=0;n<o.length;n++)i[n]=t;return i},P.p2c=function(o,t){for(var i=new Array(o.length),n=0;n<o.length;n++)i[n]=o[n].p2c(t);return i},P.getDistanceFunction=function(o,t,i,n){return o==="closest"?n||P.quadrature(t,i):o.charAt(0)==="x"?t:i},P.getClosest=function(o,t,i){if(i.index!==!1)i.index>=0&&i.index<o.length?i.distance=0:i.index=!1;else for(var n=0;n<o.length;n++){var r=t(o[n]);r<=i.distance&&(i.index=n,i.distance=r)}return i},P.inbox=function(o,t,i){return o*t<0||o===0?i:1/0},P.quadrature=function(o,t){return function(i){var n=o(i),r=t(i);return Math.sqrt(n*n+r*r)}},P.makeEventData=function(o,t,i){var n="index"in o?o.index:o.pointNumber,r={data:t._input,fullData:t,curveNumber:t.index,pointNumber:n};if(t._indexToPoints){var s=t._indexToPoints[n];s.length===1?r.pointIndex=s[0]:r.pointIndices=s}else r.pointIndex=n;return t._module.eventData?r=t._module.eventData(r,o,t,i,n):("xVal"in o?r.x=o.xVal:"x"in o&&(r.x=o.x),"yVal"in o?r.y=o.yVal:"y"in o&&(r.y=o.y),o.xa&&(r.xaxis=o.xa),o.ya&&(r.yaxis=o.ya),o.zLabelVal!==void 0&&(r.z=o.zLabelVal)),P.appendArrayPointValue(r,t,n),r},P.appendArrayPointValue=function(o,t,i){var n=t._arrayAttrs;if(n)for(var r=0;r<n.length;r++){var s=n[r],l=a(s);if(o[l]===void 0){var u=w(A.nestedProperty(t,s).get(),i);u!==void 0&&(o[l]=u)}}},P.appendArrayMultiPointValues=function(o,t,i){var n=t._arrayAttrs;if(n)for(var r=0;r<n.length;r++){var s=n[r],l=a(s);if(o[l]===void 0){for(var u=A.nestedProperty(t,s).get(),d=new Array(i.length),c=0;c<i.length;c++)d[c]=w(u,i[c]);o[l]=d}}};var k={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(o){return k[o]||o}function w(o,t){return Array.isArray(t)?Array.isArray(o)&&Array.isArray(o[t[0]])?o[t[0]][t[1]]:void 0:o[t]}var b={x:!0,y:!0},h={"x unified":!0,"y unified":!0};P.isUnifiedHover=function(o){return typeof o=="string"&&!!h[o]},P.isXYhover=function(o){return typeof o=="string"&&!!b[o]}},83292:function(Y,P,e){var A=e(33428),k=e(38248),a=e(49760),w=e(3400),b=w.strTranslate,h=w.strRotate,o=e(95924),t=e(72736),i=e(72213),n=e(43616),r=e(76308),s=e(86476),l=e(54460),u=e(24040),d=e(10624),c=e(92456),x=e(77864),g=e(31140),p=c.YANGLE,v=Math.PI*p/180,y=1/Math.sin(v),m=Math.cos(v),_=Math.sin(v),f=c.HOVERARROWSIZE,S=c.HOVERTEXTPAD,T={box:!0,ohlc:!0,violin:!0,candlestick:!0},E={scatter:!0,scattergl:!0,splom:!0};function C(G){return[G.trace.index,G.index,G.x0,G.y0,G.name,G.attr,G.xa?G.xa._id:"",G.ya?G.ya._id:""].join(",")}P.hover=function(G,X,J,ne){G=w.getGraphDiv(G);var ie=X.target;w.throttle(G._fullLayout._uid+c.HOVERID,c.HOVERMINTIME,function(){(function(ae,le,ce,pe,ge){ce||(ce="xy");var me=Array.isArray(ce)?ce:[ce],ve=ae._fullLayout,Me=ve._plots||[],_e=Me[ce],we=ve._has("cartesian");if(_e){var oe=_e.overlays.map(function(Ht){return Ht.id});me=me.concat(oe)}for(var se=me.length,de=new Array(se),Ee=new Array(se),Te=!1,Se=0;Se<se;Se++){var Le=me[Se];if(Me[Le])Te=!0,de[Se]=Me[Le].xaxis,Ee[Se]=Me[Le].yaxis;else{if(!ve[Le]||!ve[Le]._subplot)return void w.warn("Unrecognized subplot: "+Le);var Oe=ve[Le]._subplot;de[Se]=Oe.xaxis,Ee[Se]=Oe.yaxis}}var he=le.hovermode||ve.hovermode;if(he&&!Te&&(he="closest"),["x","y","closest","x unified","y unified"].indexOf(he)===-1||!ae.calcdata||ae.querySelector(".zoombox")||ae._dragging)return s.unhoverRaw(ae,le);var xe=ve.hoverdistance;xe===-1&&(xe=1/0);var ke=ve.spikedistance;ke===-1&&(ke=1/0);var Re,ze,Ie,He,qe,Je,st,it,vt,_t,xt,et,nt,Mt=[],zt=[],Ft={hLinePoint:null,vLinePoint:null},Rt=!1;if(Array.isArray(le))for(he="array",Ie=0;Ie<le.length;Ie++)(qe=ae.calcdata[le[Ie].curveNumber||0])&&(Je=qe[0].trace,qe[0].trace.hoverinfo!=="skip"&&(zt.push(qe),Je.orientation==="h"&&(Rt=!0)));else{for(He=0;He<ae.calcdata.length;He++)qe=ae.calcdata[He],(Je=qe[0].trace).hoverinfo!=="skip"&&d.isTraceInSubplots(Je,me)&&(zt.push(qe),Je.orientation==="h"&&(Rt=!0));var We,Ze;if(ge){if(o.triggerHandler(ae,"plotly_beforehover",le)===!1)return;var Ne=ge.getBoundingClientRect();We=le.clientX-Ne.left,Ze=le.clientY-Ne.top,ve._calcInverseTransform(ae);var Ye=w.apply3DTransform(ve._invTransform)(We,Ze);if(We=Ye[0],Ze=Ye[1],We<0||We>de[0]._length||Ze<0||Ze>Ee[0]._length)return s.unhoverRaw(ae,le)}else We="xpx"in le?le.xpx:de[0]._length/2,Ze="ypx"in le?le.ypx:Ee[0]._length/2;if(le.pointerX=We+de[0]._offset,le.pointerY=Ze+Ee[0]._offset,Re="xval"in le?d.flat(me,le.xval):d.p2c(de,We),ze="yval"in le?d.flat(me,le.yval):d.p2c(Ee,Ze),!k(Re[0])||!k(ze[0]))return w.warn("Fx.hover failed",le,ae),s.unhoverRaw(ae,le)}var lt=1/0;function at(Ht,an){for(He=0;He<zt.length;He++)if((qe=zt[He])&&qe[0]&&qe[0].trace&&(Je=qe[0].trace).visible===!0&&Je._length!==0&&["carpet","contourcarpet"].indexOf(Je._module.name)===-1){if(Je.type==="splom"?st=me[it=0]:(st=d.getSubplot(Je),it=me.indexOf(st)),vt=he,d.isUnifiedHover(vt)&&(vt=vt.charAt(0)),et={cd:qe,trace:Je,xa:de[it],ya:Ee[it],maxHoverDistance:xe,maxSpikeDistance:ke,index:!1,distance:Math.min(lt,xe),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:r.defaultLine,name:Je.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},ve[st]&&(et.subplot=ve[st]._subplot),ve._splomScenes&&ve._splomScenes[Je.uid]&&(et.scene=ve._splomScenes[Je.uid]),nt=Mt.length,vt==="array"){var _n=le[He];"pointNumber"in _n?(et.index=_n.pointNumber,vt="closest"):(vt="","xval"in _n&&(_t=_n.xval,vt="x"),"yval"in _n&&(xt=_n.yval,vt=vt?"closest":"y"))}else Ht!==void 0&&an!==void 0?(_t=Ht,xt=an):(_t=Re[it],xt=ze[it]);if(xe!==0)if(Je._module&&Je._module.hoverPoints){var vn=Je._module.hoverPoints(et,_t,xt,vt,{finiteRange:!0,hoverLayer:ve._hoverlayer});if(vn)for(var Cn,Gn=0;Gn<vn.length;Gn++)Cn=vn[Gn],k(Cn.x0)&&k(Cn.y0)&&Mt.push(B(Cn,he))}else w.log("Unrecognized trace type in hover:",Je);if(he==="closest"&&Mt.length>nt&&(Mt.splice(0,nt),lt=Mt[0].distance),we&&ke!==0&&Mt.length===0){et.distance=ke,et.index=!1;var Fn=Je._module.hoverPoints(et,_t,xt,"closest",{hoverLayer:ve._hoverlayer});if(Fn&&(Fn=Fn.filter(function(Xt){return Xt.spikeDistance<=ke})),Fn&&Fn.length){var Nn,rr=Fn.filter(function(Xt){return Xt.xa.showspikes&&Xt.xa.spikesnap!=="hovered data"});if(rr.length){var Zt=rr[0];k(Zt.x0)&&k(Zt.y0)&&(Nn=Be(Zt),(!Ft.vLinePoint||Ft.vLinePoint.spikeDistance>Nn.spikeDistance)&&(Ft.vLinePoint=Nn))}var mn=Fn.filter(function(Xt){return Xt.ya.showspikes&&Xt.ya.spikesnap!=="hovered data"});if(mn.length){var It=mn[0];k(It.x0)&&k(It.y0)&&(Nn=Be(It),(!Ft.hLinePoint||Ft.hLinePoint.spikeDistance>Nn.spikeDistance)&&(Ft.hLinePoint=Nn))}}}}}function Fe(Ht,an,_n){for(var vn,Cn=null,Gn=1/0,Fn=0;Fn<Ht.length;Fn++)vn=Ht[Fn].spikeDistance,_n&&Fn===0&&(vn=-1/0),vn<=Gn&&vn<=an&&(Cn=Ht[Fn],Gn=vn);return Cn}function Be(Ht){return Ht?{xa:Ht.xa,ya:Ht.ya,x:Ht.xSpike!==void 0?Ht.xSpike:(Ht.x0+Ht.x1)/2,y:Ht.ySpike!==void 0?Ht.ySpike:(Ht.y0+Ht.y1)/2,distance:Ht.distance,spikeDistance:Ht.spikeDistance,curveNumber:Ht.trace.index,color:Ht.color,pointNumber:Ht.index}:null}at();var ot={fullLayout:ve,container:ve._hoverlayer,event:le},Xe=ae._spikepoints,pt={vLinePoint:Ft.vLinePoint,hLinePoint:Ft.hLinePoint};ae._spikepoints=pt;var mt=function(){Mt.sort(function(Ht,an){return Ht.distance-an.distance}),Mt=function(Ht,an){for(var _n=an.charAt(0),vn=[],Cn=[],Gn=[],Fn=0;Fn<Ht.length;Fn++){var Nn=Ht[Fn];u.traceIs(Nn.trace,"bar-like")||u.traceIs(Nn.trace,"box-violin")?Gn.push(Nn):Nn.trace[_n+"period"]?Cn.push(Nn):vn.push(Nn)}return vn.concat(Cn).concat(Gn)}(Mt,he)};mt();var yt=he.charAt(0),ht=(yt==="x"||yt==="y")&&Mt[0]&&E[Mt[0].trace.type];if(we&&ke!==0&&Mt.length!==0){var Lt=Fe(Mt.filter(function(Ht){return Ht.ya.showspikes}),ke,ht);Ft.hLinePoint=Be(Lt);var Tt=Fe(Mt.filter(function(Ht){return Ht.xa.showspikes}),ke,ht);Ft.vLinePoint=Be(Tt)}if(Mt.length===0){var bt=s.unhoverRaw(ae,le);return!we||Ft.hLinePoint===null&&Ft.vLinePoint===null||F(Xe)&&Z(ae,Ft,ot),bt}if(we&&F(Xe)&&Z(ae,Ft,ot),d.isXYhover(vt)&&Mt[0].length!==0&&Mt[0].trace.type!=="splom"){var Pt=Mt[0],Ot=(Mt=T[Pt.trace.type]?Mt.filter(function(Ht){return Ht.trace.index===Pt.trace.index}):[Pt]).length;at(V("x",Pt,ve),V("y",Pt,ve));var Bt,Kt=[],on={},qt=0,Wt=function(Ht){var an=T[Ht.trace.type]?C(Ht):Ht.trace.index;if(on[an]){var _n=on[an]-1,vn=Kt[_n];_n>0&&Math.abs(Ht.distance)<Math.abs(vn.distance)&&(Kt[_n]=Ht)}else qt++,on[an]=qt,Kt.push(Ht)};for(Bt=0;Bt<Ot;Bt++)Wt(Mt[Bt]);for(Bt=Mt.length-1;Bt>Ot-1;Bt--)Wt(Mt[Bt]);Mt=Kt,mt()}var nn=ae._hoverdata,En=[],Mn=te(ae),dn=Q(ae);for(Ie=0;Ie<Mt.length;Ie++){var Jt=Mt[Ie],un=d.makeEventData(Jt,Jt.trace,Jt.cd);if(Jt.hovertemplate!==!1){var rn=!1;Jt.cd[Jt.index]&&Jt.cd[Jt.index].ht&&(rn=Jt.cd[Jt.index].ht),Jt.hovertemplate=rn||Jt.trace.hovertemplate||!1}if(Jt.xa&&Jt.ya){var hn=Jt.x0+Jt.xa._offset,kn=Jt.x1+Jt.xa._offset,Ln=Jt.y0+Jt.ya._offset,Dn=Jt.y1+Jt.ya._offset,zn=Math.min(hn,kn),On=Math.max(hn,kn),Hn=Math.min(Ln,Dn),jn=Math.max(Ln,Dn);un.bbox={x0:zn+dn,x1:On+dn,y0:Hn+Mn,y1:jn+Mn}}Jt.eventData=[un],En.push(un)}ae._hoverdata=En;var ar=he==="y"&&(zt.length>1||Mt.length>1)||he==="closest"&&Rt&&Mt.length>1,ur=r.combine(ve.plot_bgcolor||r.background,ve.paper_bgcolor),cr=I(Mt,{gd:ae,hovermode:he,rotateLabels:ar,bgColor:ur,container:ve._hoverlayer,outerContainer:ve._paper.node(),commonLabelOpts:ve.hoverlabel,hoverdistance:ve.hoverdistance}),er=cr.hoverLabels;if(d.isUnifiedHover(he)||(function(Ht,an,_n,vn){var Cn,Gn,Fn,Nn,rr,Zt,mn,It=an?"xa":"ya",Xt=an?"ya":"xa",tn=0,bn=1,yn=Ht.size(),Tn=new Array(yn),fn=0,Qt=vn.minX,en=vn.maxX,ln=vn.minY,pn=vn.maxY,Sn=function(fr){return fr*_n._invScaleX},In=function(fr){return fr*_n._invScaleY};function Vn(fr){var dr=fr[0],sr=fr[fr.length-1];if(Gn=dr.pmin-dr.pos-dr.dp+dr.size,Fn=sr.pos+sr.dp+sr.size-dr.pmax,Gn>.01){for(rr=fr.length-1;rr>=0;rr--)fr[rr].dp+=Gn;Cn=!1}if(!(Fn<.01)){if(Gn<-.01){for(rr=fr.length-1;rr>=0;rr--)fr[rr].dp-=Fn;Cn=!1}if(Cn){var xr=0;for(Nn=0;Nn<fr.length;Nn++)(Zt=fr[Nn]).pos+Zt.dp+Zt.size>dr.pmax&&xr++;for(Nn=fr.length-1;Nn>=0&&!(xr<=0);Nn--)(Zt=fr[Nn]).pos>dr.pmax-1&&(Zt.del=!0,xr--);for(Nn=0;Nn<fr.length&&!(xr<=0);Nn++)if((Zt=fr[Nn]).pos<dr.pmin+1)for(Zt.del=!0,xr--,Fn=2*Zt.size,rr=fr.length-1;rr>=0;rr--)fr[rr].dp-=Fn;for(Nn=fr.length-1;Nn>=0&&!(xr<=0);Nn--)(Zt=fr[Nn]).pos+Zt.dp+Zt.size>dr.pmax&&(Zt.del=!0,xr--)}}}for(Ht.each(function(fr){var dr=fr[It],sr=fr[Xt],xr=dr._id.charAt(0)==="x",Sr=dr.range;fn===0&&Sr&&Sr[0]>Sr[1]!==xr&&(bn=-1);var Br=0,hi=xr?_n.width:_n.height;if(_n.hovermode==="x"||_n.hovermode==="y"){var di,Gi,ui=U(fr,an),Ri=fr.anchor,_a=Ri==="end"?-1:1;if(Ri==="middle")Gi=(di=fr.crossPos+(xr?In(ui.y-fr.by/2):Sn(fr.bx/2+fr.tx2width/2)))+(xr?In(fr.by):Sn(fr.bx));else if(xr)Gi=(di=fr.crossPos+In(f+ui.y)-In(fr.by/2-f))+In(fr.by);else{var wa=Sn(_a*f+ui.x),us=wa+Sn(_a*fr.bx);di=fr.crossPos+Math.min(wa,us),Gi=fr.crossPos+Math.max(wa,us)}xr?ln!==void 0&&pn!==void 0&&Math.min(Gi,pn)-Math.max(di,ln)>1&&(sr.side==="left"?(Br=sr._mainLinePosition,hi=_n.width):hi=sr._mainLinePosition):Qt!==void 0&&en!==void 0&&Math.min(Gi,en)-Math.max(di,Qt)>1&&(sr.side==="top"?(Br=sr._mainLinePosition,hi=_n.height):hi=sr._mainLinePosition)}Tn[fn++]=[{datum:fr,traceIndex:fr.trace.index,dp:0,pos:fr.pos,posref:fr.posref,size:fr.by*(xr?y:1)/2,pmin:Br,pmax:hi}]}),Tn.sort(function(fr,dr){return fr[0].posref-dr[0].posref||bn*(dr[0].traceIndex-fr[0].traceIndex)});!Cn&&tn<=yn;){for(tn++,Cn=!0,Nn=0;Nn<Tn.length-1;){var qn=Tn[Nn],$n=Tn[Nn+1],Zn=qn[qn.length-1],or=$n[0];if((Gn=Zn.pos+Zn.dp+Zn.size-or.pos-or.dp+or.size)>.01&&Zn.pmin===or.pmin&&Zn.pmax===or.pmax){for(rr=$n.length-1;rr>=0;rr--)$n[rr].dp+=Gn;for(qn.push.apply(qn,$n),Tn.splice(Nn+1,1),mn=0,rr=qn.length-1;rr>=0;rr--)mn+=qn[rr].dp;for(Fn=mn/qn.length,rr=qn.length-1;rr>=0;rr--)qn[rr].dp-=Fn;Cn=!1}else Nn++}Tn.forEach(Vn)}for(Nn=Tn.length-1;Nn>=0;Nn--){var tr=Tn[Nn];for(rr=tr.length-1;rr>=0;rr--){var Qn=tr[rr],mr=Qn.datum;mr.offset=Qn.dp,mr.del=Qn.del}}}(er,ar,ve,cr.commonLabelBoundingBox),D(er,ar,ve._invScaleX,ve._invScaleY)),ge&&ge.tagName){var Tr=u.getComponentMethod("annotations","hasClickToShow")(ae,En);i(A.select(ge),Tr?"pointer":"")}ge&&!pe&&function(Ht,an,_n){if(!_n||_n.length!==Ht._hoverdata.length)return!0;for(var vn=_n.length-1;vn>=0;vn--){var Cn=_n[vn],Gn=Ht._hoverdata[vn];if(Cn.curveNumber!==Gn.curveNumber||String(Cn.pointNumber)!==String(Gn.pointNumber)||String(Cn.pointNumbers)!==String(Gn.pointNumbers))return!0}return!1}(ae,0,nn)&&(nn&&ae.emit("plotly_unhover",{event:le,points:nn}),ae.emit("plotly_hover",{event:le,points:ae._hoverdata,xaxes:de,yaxes:Ee,xvals:Re,yvals:ze}))})(G,X,J,ne,ie)})},P.loneHover=function(G,X){var J=!0;Array.isArray(G)||(J=!1,G=[G]);var ne=X.gd,ie=te(ne),ae=Q(ne),le=I(G.map(function(ge){var me=ge._x0||ge.x0||ge.x||0,ve=ge._x1||ge.x1||ge.x||0,Me=ge._y0||ge.y0||ge.y||0,_e=ge._y1||ge.y1||ge.y||0,we=ge.eventData;if(we){var oe=Math.min(me,ve),se=Math.max(me,ve),de=Math.min(Me,_e),Ee=Math.max(Me,_e),Te=ge.trace;if(u.traceIs(Te,"gl3d")){var Se=ne._fullLayout[Te.scene]._scene.container,Le=Se.offsetLeft,Oe=Se.offsetTop;oe+=Le,se+=Le,de+=Oe,Ee+=Oe}we.bbox={x0:oe+ae,x1:se+ae,y0:de+ie,y1:Ee+ie},X.inOut_bbox&&X.inOut_bbox.push(we.bbox)}else we=!1;return{color:ge.color||r.defaultLine,x0:ge.x0||ge.x||0,x1:ge.x1||ge.x||0,y0:ge.y0||ge.y||0,y1:ge.y1||ge.y||0,xLabel:ge.xLabel,yLabel:ge.yLabel,zLabel:ge.zLabel,text:ge.text,name:ge.name,idealAlign:ge.idealAlign,borderColor:ge.borderColor,fontFamily:ge.fontFamily,fontSize:ge.fontSize,fontColor:ge.fontColor,nameLength:ge.nameLength,textAlign:ge.textAlign,trace:ge.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:ge.hovertemplate||!1,hovertemplateLabels:ge.hovertemplateLabels||!1,eventData:we}}),{gd:ne,hovermode:"closest",rotateLabels:!1,bgColor:X.bgColor||r.background,container:A.select(X.container),outerContainer:X.outerContainer||X.container}).hoverLabels,ce=0,pe=0;return le.sort(function(ge,me){return ge.y0-me.y0}).each(function(ge,me){var ve=ge.y0-ge.by/2;ge.offset=ve-5<ce?ce-ve+5:0,ce=ve+ge.by+ge.offset,me===X.anchorIndex&&(pe=ge.offset)}).each(function(ge){ge.offset-=pe}),D(le,!1,ne._fullLayout._invScaleX,ne._fullLayout._invScaleY),J?le:le.node()};var O=/<extra>([\s\S]*)<\/extra>/;function I(G,X){var J=X.gd,ne=J._fullLayout,ie=X.hovermode,ae=X.rotateLabels,le=X.bgColor,ce=X.container,pe=X.outerContainer,ge=X.commonLabelOpts||{};if(G.length===0)return[[]];var me=X.fontFamily||c.HOVERFONT,ve=X.fontSize||c.HOVERFONTSIZE,Me=G[0],_e=Me.xa,we=Me.ya,oe=ie.charAt(0),se=oe+"Label",de=Me[se];if(de===void 0&&_e.type==="multicategory")for(var Ee=0;Ee<G.length&&(de=G[Ee][se])===void 0;Ee++);var Te=$(J,pe),Se=Te.top,Le=Te.width,Oe=Te.height,he=de!==void 0&&Me.distance<=X.hoverdistance&&(ie==="x"||ie==="y");if(he){var xe,ke,Re=!0;for(xe=0;xe<G.length;xe++)if(Re&&G[xe].zLabel===void 0&&(Re=!1),ke=G[xe].hoverinfo||G[xe].trace.hoverinfo){var ze=Array.isArray(ke)?ke:ke.split("+");if(ze.indexOf("all")===-1&&ze.indexOf(ie)===-1){he=!1;break}}Re&&(he=!1)}var Ie=ce.selectAll("g.axistext").data(he?[0]:[]);Ie.enter().append("g").classed("axistext",!0),Ie.exit().remove();var He={minX:0,maxX:0,minY:0,maxY:0};if(Ie.each(function(){var bt=A.select(this),Pt=w.ensureSingle(bt,"path","",function(Hn){Hn.style({"stroke-width":"1px"})}),Ot=w.ensureSingle(bt,"text","",function(Hn){Hn.attr("data-notex",1)}),Bt=ge.bgcolor||r.defaultLine,Kt=ge.bordercolor||r.contrast(Bt),on=r.contrast(Bt),qt={family:ge.font.family||me,size:ge.font.size||ve,color:ge.font.color||on};Pt.style({fill:Bt,stroke:Kt}),Ot.text(de).call(n.font,qt).call(t.positionText,0,0).call(t.convertToTspans,J),bt.attr("transform","");var Wt,nn,En=$(J,Ot.node());if(ie==="x"){var Mn=_e.side==="top"?"-":"";Ot.attr("text-anchor","middle").call(t.positionText,0,_e.side==="top"?Se-En.bottom-f-S:Se-En.top+f+S),Wt=_e._offset+(Me.x0+Me.x1)/2,nn=we._offset+(_e.side==="top"?0:we._length);var dn=En.width/2+S;Wt<dn?(Wt=dn,Pt.attr("d","M-"+(dn-f)+",0L-"+(dn-2*f)+","+Mn+f+"H"+dn+"v"+Mn+(2*S+En.height)+"H-"+dn+"V"+Mn+f+"Z")):Wt>ne.width-dn?(Wt=ne.width-dn,Pt.attr("d","M"+(dn-f)+",0L"+dn+","+Mn+f+"v"+Mn+(2*S+En.height)+"H-"+dn+"V"+Mn+f+"H"+(dn-2*f)+"Z")):Pt.attr("d","M0,0L"+f+","+Mn+f+"H"+dn+"v"+Mn+(2*S+En.height)+"H-"+dn+"V"+Mn+f+"H-"+f+"Z"),He.minX=Wt-dn,He.maxX=Wt+dn,_e.side==="top"?(He.minY=nn-(2*S+En.height),He.maxY=nn-S):(He.minY=nn+S,He.maxY=nn+(2*S+En.height))}else{var Jt,un,rn;we.side==="right"?(Jt="start",un=1,rn="",Wt=_e._offset+_e._length):(Jt="end",un=-1,rn="-",Wt=_e._offset),nn=we._offset+(Me.y0+Me.y1)/2,Ot.attr("text-anchor",Jt),Pt.attr("d","M0,0L"+rn+f+","+f+"V"+(S+En.height/2)+"h"+rn+(2*S+En.width)+"V-"+(S+En.height/2)+"H"+rn+f+"V-"+f+"Z"),He.minY=nn-(S+En.height/2),He.maxY=nn+(S+En.height/2),we.side==="right"?(He.minX=Wt+f,He.maxX=Wt+f+(2*S+En.width)):(He.minX=Wt-f-(2*S+En.width),He.maxX=Wt-f);var hn,kn=En.height/2,Ln=Se-En.top-kn,Dn="clip"+ne._uid+"commonlabel"+we._id;if(Wt<En.width+2*S+f){hn="M-"+(f+S)+"-"+kn+"h-"+(En.width-S)+"V"+kn+"h"+(En.width-S)+"Z";var zn=En.width-Wt+S;t.positionText(Ot,zn,Ln),Jt==="end"&&Ot.selectAll("tspan").each(function(){var Hn=A.select(this),jn=n.tester.append("text").text(Hn.text()).call(n.font,qt),ar=$(J,jn.node());Math.round(ar.width)<Math.round(En.width)&&Hn.attr("x",zn-ar.width),jn.remove()})}else t.positionText(Ot,un*(S+f),Ln),hn=null;var On=ne._topclips.selectAll("#"+Dn).data(hn?[0]:[]);On.enter().append("clipPath").attr("id",Dn).append("path"),On.exit().remove(),On.select("path").attr("d",hn),n.setClipUrl(Ot,hn?Dn:null,J)}bt.attr("transform",b(Wt,nn))}),d.isUnifiedHover(ie)){ce.selectAll("g.hovertext").remove();var qe=G.filter(function(bt){return bt.hoverinfo!=="none"});if(qe.length===0)return[];var Je=ne.hoverlabel,st=Je.font,it={showlegend:!0,legend:{title:{text:de,font:st},font:st,bgcolor:Je.bgcolor,bordercolor:Je.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ne.legend?ne.legend.traceorder:void 0,orientation:"v"}},vt={font:st};x(it,vt,J._fullData);var _t=vt.legend;_t.entries=[];for(var xt=0;xt<qe.length;xt++){var et=qe[xt];if(et.hoverinfo!=="none"){var nt=z(et,!0,ie,ne,de),Mt=nt[0],zt=nt[1];et.name=zt,et.text=zt!==""?zt+" : "+Mt:Mt;var Ft=et.cd[et.index];Ft&&(Ft.mc&&(et.mc=Ft.mc),Ft.mcc&&(et.mc=Ft.mcc),Ft.mlc&&(et.mlc=Ft.mlc),Ft.mlcc&&(et.mlc=Ft.mlcc),Ft.mlw&&(et.mlw=Ft.mlw),Ft.mrc&&(et.mrc=Ft.mrc),Ft.dir&&(et.dir=Ft.dir)),et._distinct=!0,_t.entries.push([et])}}_t.entries.sort(function(bt,Pt){return bt[0].trace.index-Pt[0].trace.index}),_t.layer=ce,_t._inHover=!0,_t._groupTitleFont=Je.grouptitlefont,g(J,_t);var Rt,We,Ze,Ne,Ye=ce.select("g.legend"),lt=$(J,Ye.node()),at=lt.width+2*S,Fe=lt.height+2*S,Be=qe[0],ot=(Be.x0+Be.x1)/2,Xe=(Be.y0+Be.y1)/2,pt=!(u.traceIs(Be.trace,"bar-like")||u.traceIs(Be.trace,"box-violin"));oe==="y"?pt?(We=Xe-S,Rt=Xe+S):(We=Math.min.apply(null,qe.map(function(bt){return Math.min(bt.y0,bt.y1)})),Rt=Math.max.apply(null,qe.map(function(bt){return Math.max(bt.y0,bt.y1)}))):We=Rt=w.mean(qe.map(function(bt){return(bt.y0+bt.y1)/2}))-Fe/2,oe==="x"?pt?(Ze=ot+S,Ne=ot-S):(Ze=Math.max.apply(null,qe.map(function(bt){return Math.max(bt.x0,bt.x1)})),Ne=Math.min.apply(null,qe.map(function(bt){return Math.min(bt.x0,bt.x1)}))):Ze=Ne=w.mean(qe.map(function(bt){return(bt.x0+bt.x1)/2}))-at/2;var mt,yt,ht=_e._offset,Lt=we._offset;return Ne+=ht-at,We+=Lt-Fe,mt=(Ze+=ht)+at<Le&&Ze>=0?Ze:Ne+at<Le&&Ne>=0?Ne:ht+at<Le?ht:Ze-ot<ot-Ne+at?Le-at:0,mt+=S,yt=(Rt+=Lt)+Fe<Oe&&Rt>=0?Rt:We+Fe<Oe&&We>=0?We:Lt+Fe<Oe?Lt:Rt-Xe<Xe-We+Fe?Oe-Fe:0,yt+=S,Ye.attr("transform",b(mt-1,yt-1)),Ye}var Tt=ce.selectAll("g.hovertext").data(G,function(bt){return C(bt)});return Tt.enter().append("g").classed("hovertext",!0).each(function(){var bt=A.select(this);bt.append("rect").call(r.fill,r.addOpacity(le,.8)),bt.append("text").classed("name",!0),bt.append("path").style("stroke-width","1px"),bt.append("text").classed("nums",!0).call(n.font,me,ve)}),Tt.exit().remove(),Tt.each(function(bt){var Pt=A.select(this).attr("transform",""),Ot=bt.color;Array.isArray(Ot)&&(Ot=Ot[bt.eventData[0].pointNumber]);var Bt=bt.bgcolor||Ot,Kt=r.combine(r.opacity(Bt)?Bt:r.defaultLine,le),on=r.combine(r.opacity(Ot)?Ot:r.defaultLine,le),qt=bt.borderColor||r.contrast(Kt),Wt=z(bt,he,ie,ne,de,Pt),nn=Wt[0],En=Wt[1],Mn=Pt.select("text.nums").call(n.font,bt.fontFamily||me,bt.fontSize||ve,bt.fontColor||qt).text(nn).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,J),dn=Pt.select("text.name"),Jt=0,un=0;if(En&&En!==nn){dn.call(n.font,bt.fontFamily||me,bt.fontSize||ve,on).text(En).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,J);var rn=$(J,dn.node());Jt=rn.width+2*S,un=rn.height+2*S}else dn.remove(),Pt.select("rect").remove();Pt.select("path").style({fill:Kt,stroke:qt});var hn=bt.xa._offset+(bt.x0+bt.x1)/2,kn=bt.ya._offset+(bt.y0+bt.y1)/2,Ln=Math.abs(bt.x1-bt.x0),Dn=Math.abs(bt.y1-bt.y0),zn=$(J,Mn.node()),On=zn.width/ne._invScaleX,Hn=zn.height/ne._invScaleY;bt.ty0=(Se-zn.top)/ne._invScaleY,bt.bx=On+2*S,bt.by=Math.max(Hn+2*S,un),bt.anchor="start",bt.txwidth=On,bt.tx2width=Jt,bt.offset=0;var jn,ar,ur=(On+f+S+Jt)*ne._invScaleX;if(ae)bt.pos=hn,jn=kn+Dn/2+ur<=Oe,ar=kn-Dn/2-ur>=0,bt.idealAlign!=="top"&&jn||!ar?jn?(kn+=Dn/2,bt.anchor="start"):bt.anchor="middle":(kn-=Dn/2,bt.anchor="end"),bt.crossPos=kn;else{if(bt.pos=kn,jn=hn+Ln/2+ur<=Le,ar=hn-Ln/2-ur>=0,bt.idealAlign!=="left"&&jn||!ar)if(jn)hn+=Ln/2,bt.anchor="start";else{bt.anchor="middle";var cr=ur/2,er=hn+cr-Le,Tr=hn-cr;er>0&&(hn-=er),Tr<0&&(hn+=-Tr)}else hn-=Ln/2,bt.anchor="end";bt.crossPos=hn}Mn.attr("text-anchor",bt.anchor),Jt&&dn.attr("text-anchor",bt.anchor),Pt.attr("transform",b(hn,kn)+(ae?h(p):""))}),{hoverLabels:Tt,commonLabelBoundingBox:He}}function z(G,X,J,ne,ie,ae){var le="",ce="";G.nameOverride!==void 0&&(G.name=G.nameOverride),G.name&&(G.trace._meta&&(G.name=w.templateString(G.name,G.trace._meta)),le=j(G.name,G.nameLength));var pe=J.charAt(0),ge=pe==="x"?"y":"x";G.zLabel!==void 0?(G.xLabel!==void 0&&(ce+="x: "+G.xLabel+"<br>"),G.yLabel!==void 0&&(ce+="y: "+G.yLabel+"<br>"),G.trace.type!=="choropleth"&&G.trace.type!=="choroplethmapbox"&&(ce+=(ce?"z: ":"")+G.zLabel)):X&&G[pe+"Label"]===ie?ce=G[ge+"Label"]||"":G.xLabel===void 0?G.yLabel!==void 0&&G.trace.type!=="scattercarpet"&&(ce=G.yLabel):ce=G.yLabel===void 0?G.xLabel:"("+G.xLabel+", "+G.yLabel+")",!G.text&&G.text!==0||Array.isArray(G.text)||(ce+=(ce?"<br>":"")+G.text),G.extraText!==void 0&&(ce+=(ce?"<br>":"")+G.extraText),ae&&ce===""&&!G.hovertemplate&&(le===""&&ae.remove(),ce=le);var me=G.hovertemplate||!1;if(me){var ve=G.hovertemplateLabels||G;G[pe+"Label"]!==ie&&(ve[pe+"other"]=ve[pe+"Val"],ve[pe+"otherLabel"]=ve[pe+"Label"]),ce=(ce=w.hovertemplateString(me,ve,ne._d3locale,G.eventData[0]||{},G.trace._meta)).replace(O,function(Me,_e){return le=j(_e,G.nameLength),""})}return[ce,le]}function U(G,X){var J=0,ne=G.offset;return X&&(ne*=-_,J=G.offset*m),{x:J,y:ne}}function D(G,X,J,ne){var ie=function(le){return le*J},ae=function(le){return le*ne};G.each(function(le){var ce=A.select(this);if(le.del)return ce.remove();var pe,ge,me,ve,Me=ce.select("text.nums"),_e=le.anchor,we=_e==="end"?-1:1,oe=(ve=(me=(ge={start:1,end:-1,middle:0}[(pe=le).anchor])*(f+S))+ge*(pe.txwidth+S),pe.anchor==="middle"&&(me-=pe.tx2width/2,ve+=pe.txwidth/2+S),{alignShift:ge,textShiftX:me,text2ShiftX:ve}),se=U(le,X),de=se.x,Ee=se.y,Te=_e==="middle";ce.select("path").attr("d",Te?"M-"+ie(le.bx/2+le.tx2width/2)+","+ae(Ee-le.by/2)+"h"+ie(le.bx)+"v"+ae(le.by)+"h-"+ie(le.bx)+"Z":"M0,0L"+ie(we*f+de)+","+ae(f+Ee)+"v"+ae(le.by/2-f)+"h"+ie(we*le.bx)+"v-"+ae(le.by)+"H"+ie(we*f+de)+"V"+ae(Ee-f)+"Z");var Se=de+oe.textShiftX,Le=Ee+le.ty0-le.by/2+S,Oe=le.textAlign||"auto";Oe!=="auto"&&(Oe==="left"&&_e!=="start"?(Me.attr("text-anchor","start"),Se=Te?-le.bx/2-le.tx2width/2+S:-le.bx-S):Oe==="right"&&_e!=="end"&&(Me.attr("text-anchor","end"),Se=Te?le.bx/2-le.tx2width/2-S:le.bx+S)),Me.call(t.positionText,ie(Se),ae(Le)),le.tx2width&&(ce.select("text.name").call(t.positionText,ie(oe.text2ShiftX+oe.alignShift*S+de),ae(Ee+le.ty0-le.by/2+S)),ce.select("rect").call(n.setRect,ie(oe.text2ShiftX+(oe.alignShift-1)*le.tx2width/2+de),ae(Ee-le.by/2-1),ie(le.tx2width),ae(le.by+2)))})}function B(G,X){var J=G.index,ne=G.trace||{},ie=G.cd[0],ae=G.cd[J]||{};function le(Me){return Me||k(Me)&&Me===0}var ce=Array.isArray(J)?function(Me,_e){var we=w.castOption(ie,J,Me);return le(we)?we:w.extractOption({},ne,"",_e)}:function(Me,_e){return w.extractOption(ae,ne,Me,_e)};function pe(Me,_e,we){var oe=ce(_e,we);le(oe)&&(G[Me]=oe)}if(pe("hoverinfo","hi","hoverinfo"),pe("bgcolor","hbg","hoverlabel.bgcolor"),pe("borderColor","hbc","hoverlabel.bordercolor"),pe("fontFamily","htf","hoverlabel.font.family"),pe("fontSize","hts","hoverlabel.font.size"),pe("fontColor","htc","hoverlabel.font.color"),pe("nameLength","hnl","hoverlabel.namelength"),pe("textAlign","hta","hoverlabel.align"),G.posref=X==="y"||X==="closest"&&ne.orientation==="h"?G.xa._offset+(G.x0+G.x1)/2:G.ya._offset+(G.y0+G.y1)/2,G.x0=w.constrain(G.x0,0,G.xa._length),G.x1=w.constrain(G.x1,0,G.xa._length),G.y0=w.constrain(G.y0,0,G.ya._length),G.y1=w.constrain(G.y1,0,G.ya._length),G.xLabelVal!==void 0&&(G.xLabel="xLabel"in G?G.xLabel:l.hoverLabelText(G.xa,G.xLabelVal,ne.xhoverformat),G.xVal=G.xa.c2d(G.xLabelVal)),G.yLabelVal!==void 0&&(G.yLabel="yLabel"in G?G.yLabel:l.hoverLabelText(G.ya,G.yLabelVal,ne.yhoverformat),G.yVal=G.ya.c2d(G.yLabelVal)),G.zLabelVal!==void 0&&G.zLabel===void 0&&(G.zLabel=String(G.zLabelVal)),!(isNaN(G.xerr)||G.xa.type==="log"&&G.xerr<=0)){var ge=l.tickText(G.xa,G.xa.c2l(G.xerr),"hover").text;G.xerrneg!==void 0?G.xLabel+=" +"+ge+" / -"+l.tickText(G.xa,G.xa.c2l(G.xerrneg),"hover").text:G.xLabel+=" \xB1 "+ge,X==="x"&&(G.distance+=1)}if(!(isNaN(G.yerr)||G.ya.type==="log"&&G.yerr<=0)){var me=l.tickText(G.ya,G.ya.c2l(G.yerr),"hover").text;G.yerrneg!==void 0?G.yLabel+=" +"+me+" / -"+l.tickText(G.ya,G.ya.c2l(G.yerrneg),"hover").text:G.yLabel+=" \xB1 "+me,X==="y"&&(G.distance+=1)}var ve=G.hoverinfo||G.trace.hoverinfo;return ve&&ve!=="all"&&((ve=Array.isArray(ve)?ve:ve.split("+")).indexOf("x")===-1&&(G.xLabel=void 0),ve.indexOf("y")===-1&&(G.yLabel=void 0),ve.indexOf("z")===-1&&(G.zLabel=void 0),ve.indexOf("text")===-1&&(G.text=void 0),ve.indexOf("name")===-1&&(G.name=void 0)),G}function Z(G,X,J){var ne,ie,ae=J.container,le=J.fullLayout,ce=le._size,pe=J.event,ge=!!X.hLinePoint,me=!!X.vLinePoint;if(ae.selectAll(".spikeline").remove(),me||ge){var ve=r.combine(le.plot_bgcolor,le.paper_bgcolor);if(ge){var Me,_e,we=X.hLinePoint;ne=we&&we.xa,(ie=we&&we.ya).spikesnap==="cursor"?(Me=pe.pointerX,_e=pe.pointerY):(Me=ne._offset+we.x,_e=ie._offset+we.y);var oe,se,de=a.readability(we.color,ve)<1.5?r.contrast(ve):we.color,Ee=ie.spikemode,Te=ie.spikethickness,Se=ie.spikecolor||de,Le=l.getPxPosition(G,ie);if(Ee.indexOf("toaxis")!==-1||Ee.indexOf("across")!==-1){if(Ee.indexOf("toaxis")!==-1&&(oe=Le,se=Me),Ee.indexOf("across")!==-1){var Oe=ie._counterDomainMin,he=ie._counterDomainMax;ie.anchor==="free"&&(Oe=Math.min(Oe,ie.position),he=Math.max(he,ie.position)),oe=ce.l+Oe*ce.w,se=ce.l+he*ce.w}ae.insert("line",":first-child").attr({x1:oe,x2:se,y1:_e,y2:_e,"stroke-width":Te,stroke:Se,"stroke-dasharray":n.dashStyle(ie.spikedash,Te)}).classed("spikeline",!0).classed("crisp",!0),ae.insert("line",":first-child").attr({x1:oe,x2:se,y1:_e,y2:_e,"stroke-width":Te+2,stroke:ve}).classed("spikeline",!0).classed("crisp",!0)}Ee.indexOf("marker")!==-1&&ae.insert("circle",":first-child").attr({cx:Le+(ie.side!=="right"?Te:-Te),cy:_e,r:Te,fill:Se}).classed("spikeline",!0)}if(me){var xe,ke,Re=X.vLinePoint;ne=Re&&Re.xa,ie=Re&&Re.ya,ne.spikesnap==="cursor"?(xe=pe.pointerX,ke=pe.pointerY):(xe=ne._offset+Re.x,ke=ie._offset+Re.y);var ze,Ie,He=a.readability(Re.color,ve)<1.5?r.contrast(ve):Re.color,qe=ne.spikemode,Je=ne.spikethickness,st=ne.spikecolor||He,it=l.getPxPosition(G,ne);if(qe.indexOf("toaxis")!==-1||qe.indexOf("across")!==-1){if(qe.indexOf("toaxis")!==-1&&(ze=it,Ie=ke),qe.indexOf("across")!==-1){var vt=ne._counterDomainMin,_t=ne._counterDomainMax;ne.anchor==="free"&&(vt=Math.min(vt,ne.position),_t=Math.max(_t,ne.position)),ze=ce.t+(1-_t)*ce.h,Ie=ce.t+(1-vt)*ce.h}ae.insert("line",":first-child").attr({x1:xe,x2:xe,y1:ze,y2:Ie,"stroke-width":Je,stroke:st,"stroke-dasharray":n.dashStyle(ne.spikedash,Je)}).classed("spikeline",!0).classed("crisp",!0),ae.insert("line",":first-child").attr({x1:xe,x2:xe,y1:ze,y2:Ie,"stroke-width":Je+2,stroke:ve}).classed("spikeline",!0).classed("crisp",!0)}qe.indexOf("marker")!==-1&&ae.insert("circle",":first-child").attr({cx:xe,cy:it-(ne.side!=="top"?Je:-Je),r:Je,fill:st}).classed("spikeline",!0)}}}function F(G,X){return!X||X.vLinePoint!==G._spikepoints.vLinePoint||X.hLinePoint!==G._spikepoints.hLinePoint}function j(G,X){return t.plainText(G||"",{len:X,allowedTags:["br","sub","sup","b","i","em"]})}function V(G,X,J){var ne=X[G+"a"],ie=X[G+"Val"],ae=X.cd[0];if(ne.type==="category"||ne.type==="multicategory")ie=ne._categoriesMap[ie];else if(ne.type==="date"){var le=X.trace[G+"periodalignment"];if(le){var ce=X.cd[X.index],pe=ce[G+"Start"];pe===void 0&&(pe=ce[G]);var ge=ce[G+"End"];ge===void 0&&(ge=ce[G]);var me=ge-pe;le==="end"?ie+=me:le==="middle"&&(ie+=me/2)}ie=ne.d2c(ie)}return ae&&ae.t&&ae.t.posLetter===ne._id&&(J.boxmode!=="group"&&J.violinmode!=="group"||(ie+=ae.t.dPos)),ie}function te(G){return G.offsetTop+G.clientTop}function Q(G){return G.offsetLeft+G.clientLeft}function $(G,X){var J=G._fullLayout,ne=X.getBoundingClientRect(),ie=ne.left,ae=ne.top,le=ie+ne.width,ce=ae+ne.height,pe=w.apply3DTransform(J._invTransform)(ie,ae),ge=w.apply3DTransform(J._invTransform)(le,ce),me=pe[0],ve=pe[1],Me=ge[0],_e=ge[1];return{x:me,y:ve,width:Me-me,height:_e-ve,top:Math.min(ve,_e),left:Math.min(me,Me),right:Math.max(me,Me),bottom:Math.max(ve,_e)}}},16132:function(Y,P,e){var A=e(3400),k=e(76308),a=e(10624).isUnifiedHover;Y.exports=function(w,b,h,o){o=o||{};var t=b.legend;function i(n){o.font[n]||(o.font[n]=t?b.legend.font[n]:b.font[n])}b&&a(b.hovermode)&&(o.font||(o.font={}),i("size"),i("family"),i("color"),t?(o.bgcolor||(o.bgcolor=k.combine(b.legend.bgcolor,b.paper_bgcolor)),o.bordercolor||(o.bordercolor=b.legend.bordercolor)):o.bgcolor||(o.bgcolor=b.paper_bgcolor)),h("hoverlabel.bgcolor",o.bgcolor),h("hoverlabel.bordercolor",o.bordercolor),h("hoverlabel.namelength",o.namelength),A.coerceFont(h,"hoverlabel.font",o.font),h("hoverlabel.align",o.align)}},41008:function(Y,P,e){var A=e(3400),k=e(65460);Y.exports=function(a,w){function b(h,o){return w[h]!==void 0?w[h]:A.coerce(a,w,k,h,o)}return b("clickmode"),b("hovermode")}},93024:function(Y,P,e){var A=e(33428),k=e(3400),a=e(86476),w=e(10624),b=e(65460),h=e(83292);Y.exports={moduleType:"component",name:"fx",constants:e(92456),schema:{layout:b},attributes:e(55756),layoutAttributes:b,supplyLayoutGlobalDefaults:e(81976),supplyDefaults:e(95448),supplyLayoutDefaults:e(88336),calc:e(55056),getDistanceFunction:w.getDistanceFunction,getClosest:w.getClosest,inbox:w.inbox,quadrature:w.quadrature,appendArrayPointValue:w.appendArrayPointValue,castHoverOption:function(o,t,i){return k.castOption(o,t,"hoverlabel."+i)},castHoverinfo:function(o,t,i){return k.castOption(o,i,"hoverinfo",function(n){return k.coerceHoverinfo({hoverinfo:n},{_module:o._module},t)})},hover:h.hover,unhover:a.unhover,loneHover:h.loneHover,loneUnhover:function(o){var t=k.isD3Selection(o)?o:A.select(o);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:e(62376)}},65460:function(Y,P,e){var A=e(92456),k=e(25376),a=k({editType:"none"});a.family.dflt=A.HOVERFONT,a.size.dflt=A.HOVERFONTSIZE,Y.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,grouptitlefont:k({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},88336:function(Y,P,e){var A=e(3400),k=e(65460),a=e(41008),w=e(16132);Y.exports=function(b,h){function o(r,s){return A.coerce(b,h,k,r,s)}a(b,h)&&(o("hoverdistance"),o("spikedistance")),o("dragmode")==="select"&&o("selectdirection");var t=h._has("mapbox"),i=h._has("geo"),n=h._basePlotModules.length;h.dragmode==="zoom"&&((t||i)&&n===1||t&&i&&n===2)&&(h.dragmode="pan"),w(b,h,o),A.coerceFont(o,"hoverlabel.grouptitlefont",h.hoverlabel.font)}},81976:function(Y,P,e){var A=e(3400),k=e(16132),a=e(65460);Y.exports=function(w,b){k(w,b,function(h,o){return A.coerce(w,b,a,h,o)})}},12704:function(Y,P,e){var A=e(3400),k=e(53756).counter,a=e(86968).u,w=e(33816).idRegex,b=e(31780),h={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[k("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[w.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[w.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function o(n,r,s){var l=r[s+"axes"],u=Object.keys((n._splomAxes||{})[s]||{});return Array.isArray(l)?l:u.length?u:void 0}function t(n,r,s,l,u,d){var c=r(n+"gap",s),x=r("domain."+n);r(n+"side",l);for(var g=new Array(u),p=x[0],v=(x[1]-p)/(u-c),y=v*(1-c),m=0;m<u;m++){var _=p+v*m;g[d?u-1-m:m]=[_,_+y]}return g}function i(n,r,s,l,u){var d,c=new Array(s);function x(g,p){r.indexOf(p)!==-1&&l[p]===void 0?(c[g]=p,l[p]=g):c[g]=""}if(Array.isArray(n))for(d=0;d<s;d++)x(d,n[d]);else for(x(0,u),d=1;d<s;d++)x(d,u+(d+1));return c}Y.exports={moduleType:"component",name:"grid",schema:{layout:{grid:h}},layoutAttributes:h,sizeDefaults:function(n,r){var s=n.grid||{},l=o(r,s,"x"),u=o(r,s,"y");if(n.grid||l||u){var d,c,x=Array.isArray(s.subplots)&&Array.isArray(s.subplots[0]),g=Array.isArray(l),p=Array.isArray(u),v=g&&l!==s.xaxes&&p&&u!==s.yaxes;x?(d=s.subplots.length,c=s.subplots[0].length):(p&&(d=u.length),g&&(c=l.length));var y=b.newContainer(r,"grid"),m=O("rows",d),_=O("columns",c);if(m*_>1){x||g||p||O("pattern")==="independent"&&(x=!0),y._hasSubplotGrid=x;var f,S,T=O("roworder")==="top to bottom",E=x?.2:.1,C=x?.3:.1;v&&r._splomGridDflt&&(f=r._splomGridDflt.xside,S=r._splomGridDflt.yside),y._domains={x:t("x",O,E,f,_),y:t("y",O,C,S,m,T)}}else delete r.grid}function O(I,z){return A.coerce(s,y,h,I,z)}},contentDefaults:function(n,r){var s=r.grid;if(s&&s._domains){var l,u,d,c,x,g,p,v=n.grid||{},y=r._subplots,m=s._hasSubplotGrid,_=s.rows,f=s.columns,S=s.pattern==="independent",T=s._axisMap={};if(m){var E=v.subplots||[];g=s.subplots=new Array(_);var C=1;for(l=0;l<_;l++){var O=g[l]=new Array(f),I=E[l]||[];for(u=0;u<f;u++)if(S?(x=C===1?"xy":"x"+C+"y"+C,C++):x=I[u],O[u]="",y.cartesian.indexOf(x)!==-1){if(p=x.indexOf("y"),d=x.slice(0,p),c=x.slice(p),T[d]!==void 0&&T[d]!==u||T[c]!==void 0&&T[c]!==l)continue;O[u]=x,T[d]=u,T[c]=l}}}else{var z=o(r,v,"x"),U=o(r,v,"y");s.xaxes=i(z,y.xaxis,f,T,"x"),s.yaxes=i(U,y.yaxis,_,T,"y")}var D=s._anchors={},B=s.roworder==="top to bottom";for(var Z in T){var F,j,V,te=Z.charAt(0),Q=s[te+"side"];if(Q.length<8)D[Z]="free";else if(te==="x"){if(Q.charAt(0)==="t"===B?(F=0,j=1,V=_):(F=_-1,j=-1,V=-1),m){var $=T[Z];for(l=F;l!==V;l+=j)if((x=g[l][$])&&(p=x.indexOf("y"),x.slice(0,p)===Z)){D[Z]=x.slice(p);break}}else for(l=F;l!==V;l+=j)if(c=s.yaxes[l],y.cartesian.indexOf(Z+c)!==-1){D[Z]=c;break}}else if(Q.charAt(0)==="l"?(F=0,j=1,V=f):(F=f-1,j=-1,V=-1),m){var G=T[Z];for(l=F;l!==V;l+=j)if((x=g[G][l])&&(p=x.indexOf("y"),x.slice(p)===Z)){D[Z]=x.slice(0,p);break}}else for(l=F;l!==V;l+=j)if(d=s.xaxes[l],y.cartesian.indexOf(d+Z)!==-1){D[Z]=d;break}}}}}},65760:function(Y,P,e){var A=e(33816),k=e(31780).templatedArray;e(36208),Y.exports=k("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",A.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",A.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},63556:function(Y,P,e){var A=e(38248),k=e(36896);Y.exports=function(a,w,b,h){w=w||{};var o=b==="log"&&w.type==="linear",t=b==="linear"&&w.type==="log";if(o||t){for(var i,n,r=a._fullLayout.images,s=w._id.charAt(0),l=0;l<r.length;l++)if(n="images["+l+"].",(i=r[l])[s+"ref"]===w._id){var u=i[s],d=i["size"+s],c=null,x=null;if(o){c=k(u,w.range);var g=d/Math.pow(10,c)/2;x=2*Math.log(g+Math.sqrt(1+g*g))/Math.LN10}else x=(c=Math.pow(10,u))*(Math.pow(10,d/2)-Math.pow(10,-d/2));A(c)?A(x)||(x=null):(c=null,x=null),h(n+s,c),h(n+"size"+s,x)}}}},25024:function(Y,P,e){var A=e(3400),k=e(54460),a=e(51272),w=e(65760);function b(h,o,t){function i(c,x){return A.coerce(h,o,w,c,x)}var n=i("source");if(!i("visible",!!n))return o;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var r={_fullLayout:t},s=["x","y"],l=0;l<2;l++){var u=s[l],d=k.coerceRef(h,o,r,u,"paper",void 0);d!=="paper"&&k.getFromId(r,d)._imgIndices.push(o._index),k.coercePosition(o,r,i,d,u,0)}return o}Y.exports=function(h,o){a(h,o,{name:"images",handleItemDefaults:b})}},60963:function(Y,P,e){var A=e(33428),k=e(43616),a=e(54460),w=e(79811),b=e(9616);Y.exports=function(h){var o,t,i=h._fullLayout,n=[],r={},s=[];for(t=0;t<i.images.length;t++){var l=i.images[t];if(l.visible)if(l.layer==="below"&&l.xref!=="paper"&&l.yref!=="paper"){o=w.ref2id(l.xref)+w.ref2id(l.yref);var u=i._plots[o];if(!u){s.push(l);continue}u.mainplot&&(o=u.mainplot.id),r[o]||(r[o]=[]),r[o].push(l)}else l.layer==="above"?n.push(l):s.push(l)}var d={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},c={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function x(f){var S=A.select(this);if(this._imgSrc!==f.source)if(S.attr("xmlns",b.svg),f.source&&f.source.slice(0,5)==="data:")S.attr("xlink:href",f.source),this._imgSrc=f.source;else{var T=new Promise(function(E){var C=new Image;function O(){S.remove(),E()}this.img=C,C.setAttribute("crossOrigin","anonymous"),C.onerror=O,C.onload=function(){var I=document.createElement("canvas");I.width=this.width,I.height=this.height,I.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var z=I.toDataURL("image/png");S.attr("xlink:href",z),E()},S.on("error",O),C.src=f.source,this._imgSrc=f.source}.bind(this));h._promises.push(T)}}function g(f){var S,T,E=A.select(this),C=a.getFromId(h,f.xref),O=a.getFromId(h,f.yref),I=a.getRefType(f.xref)==="domain",z=a.getRefType(f.yref)==="domain",U=i._size;S=C!==void 0?typeof f.xref=="string"&&I?C._length*f.sizex:Math.abs(C.l2p(f.sizex)-C.l2p(0)):f.sizex*U.w,T=O!==void 0?typeof f.yref=="string"&&z?O._length*f.sizey:Math.abs(O.l2p(f.sizey)-O.l2p(0)):f.sizey*U.h;var D,B,Z=S*d[f.xanchor].offset,F=T*c[f.yanchor].offset,j=d[f.xanchor].sizing+c[f.yanchor].sizing;switch(D=C!==void 0?typeof f.xref=="string"&&I?C._length*f.x+C._offset:C.r2p(f.x)+C._offset:f.x*U.w+U.l,D+=Z,B=O!==void 0?typeof f.yref=="string"&&z?O._length*(1-f.y)+O._offset:O.r2p(f.y)+O._offset:U.h-f.y*U.h+U.t,B+=F,f.sizing){case"fill":j+=" slice";break;case"stretch":j="none"}E.attr({x:D,y:B,width:S,height:T,preserveAspectRatio:j,opacity:f.opacity});var V=(C&&a.getRefType(f.xref)!=="domain"?C._id:"")+(O&&a.getRefType(f.yref)!=="domain"?O._id:"");k.setClipUrl(E,V?"clip"+i._uid+V:null,h)}var p=i._imageLowerLayer.selectAll("image").data(s),v=i._imageUpperLayer.selectAll("image").data(n);p.enter().append("image"),v.enter().append("image"),p.exit().remove(),v.exit().remove(),p.each(function(f){x.bind(this)(f),g.bind(this)(f)}),v.each(function(f){x.bind(this)(f),g.bind(this)(f)});var y=Object.keys(i._plots);for(t=0;t<y.length;t++){o=y[t];var m=i._plots[o];if(m.imagelayer){var _=m.imagelayer.selectAll("image").data(r[o]||[]);_.enter().append("image"),_.exit().remove(),_.each(function(f){x.bind(this)(f),g.bind(this)(f)})}}}},7402:function(Y,P,e){Y.exports={moduleType:"component",name:"images",layoutAttributes:e(65760),supplyLayoutDefaults:e(25024),includeBasePlot:e(36632)("images"),draw:e(60963),convertCoords:e(63556)}},3800:function(Y,P,e){var A=e(25376),k=e(22548);Y.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:k.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:A({editType:"legend"}),grouptitlefont:A({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:A({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},65196:function(Y){Y.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},77864:function(Y,P,e){var A=e(24040),k=e(3400),a=e(31780),w=e(45464),b=e(3800),h=e(64859),o=e(42451);function t(i,n,r,s){var l=n[i]||{},u=a.newContainer(r,i);function d(j,V){return k.coerce(l,u,b,j,V)}var c=k.coerceFont(d,"font",r.font);if(d("bgcolor",r.paper_bgcolor),d("bordercolor"),d("visible")){for(var x,g=function(j,V){var te=x._input,Q=x;return k.coerce(te,Q,w,j,V)},p=r.font||{},v=k.coerceFont(d,"grouptitlefont",k.extendFlat({},p,{size:Math.round(1.1*p.size)})),y=0,m=!1,_="normal",f=(r.shapes||[]).filter(function(j){return j.showlegend}),S=s.concat(f).filter(function(j){return i===(j.legend||"legend")}),T=0;T<S.length;T++)if((x=S[T]).visible){var E=x._isShape;(x.showlegend||x._dfltShowLegend&&!(x._module&&x._module.attributes&&x._module.attributes.showlegend&&x._module.attributes.showlegend.dflt===!1))&&(y++,x.showlegend&&(m=!0,(!E&&A.traceIs(x,"pie-like")||x._input.showlegend===!0)&&y++),k.coerceFont(g,"legendgrouptitle.font",v)),(!E&&A.traceIs(x,"bar")&&r.barmode==="stack"||["tonextx","tonexty"].indexOf(x.fill)!==-1)&&(_=o.isGrouped({traceorder:_})?"grouped+reversed":"reversed"),x.legendgroup!==void 0&&x.legendgroup!==""&&(_=o.isReversed({traceorder:_})?"reversed+grouped":"grouped")}var C=k.coerce(n,r,h,"showlegend",m&&y>(i==="legend"?1:0));if(C===!1&&(r[i]=void 0),(C!==!1||l.uirevision)&&(d("uirevision",r.uirevision),C!==!1)){d("borderwidth");var O,I,z,U=d("orientation")==="h",D=d("yref")==="paper",B=d("xref")==="paper",Z="left";if(U?(O=0,A.getComponentMethod("rangeslider","isVisible")(n.xaxis)?D?(I=1.1,z="bottom"):(I=1,z="top"):D?(I=-.1,z="top"):(I=0,z="bottom")):(I=1,z="auto",B?O=1.02:(O=1,Z="right")),k.coerce(l,u,{x:{valType:"number",editType:"legend",min:B?-2:0,max:B?3:1,dflt:O}},"x"),k.coerce(l,u,{y:{valType:"number",editType:"legend",min:D?-2:0,max:D?3:1,dflt:I}},"y"),d("traceorder",_),o.isGrouped(r[i])&&d("tracegroupgap"),d("entrywidth"),d("entrywidthmode"),d("itemsizing"),d("itemwidth"),d("itemclick"),d("itemdoubleclick"),d("groupclick"),d("xanchor",Z),d("yanchor",z),d("valign"),k.noneOrAll(l,u,["x","y"]),d("title.text")){d("title.side",U?"left":"top");var F=k.extendFlat({},c,{size:k.bigFont(c.size)});k.coerceFont(d,"title.font",F)}}}}Y.exports=function(i,n,r){var s,l=r.slice(),u=n.shapes;if(u)for(s=0;s<u.length;s++){var d=u[s];if(d.showlegend){var c={_input:d._input,visible:d.visible,showlegend:d.showlegend,legend:d.legend};l.push(c)}}var x=["legend"];for(s=0;s<l.length;s++)k.pushUnique(x,l[s].legend);for(n._legends=[],s=0;s<x.length;s++){var g=x[s];t(g,i,n,l),n[g]&&n[g].visible&&(n[g]._id=g),n._legends.push(g)}}},31140:function(Y,P,e){var A=e(33428),k=e(3400),a=e(7316),w=e(24040),b=e(95924),h=e(86476),o=e(43616),t=e(76308),i=e(72736),n=e(33048),r=e(65196),s=e(84284),l=s.LINE_SPACING,u=s.FROM_TL,d=s.FROM_BR,c=e(35456),x=e(2012),g=e(42451),p=1,v=/^legend[0-9]*$/;function y(z,U){var D,B,Z=U||{},F=z._fullLayout,j=I(Z),V=Z._inHover;if(V?(B=Z.layer,D="hover"):(B=F._infolayer,D=j),B){var te;if(D+=F._uid,z._legendMouseDownTime||(z._legendMouseDownTime=0),V){if(!Z.entries)return;te=c(Z.entries,Z)}else{for(var Q=(z.calcdata||[]).slice(),$=F.shapes,G=0;G<$.length;G++){var X=$[G];if(X.showlegend){var J={_isShape:!0,_fullInput:X,index:X._index,name:X.name||X.label.text||"shape "+X._index,legend:X.legend,legendgroup:X.legendgroup,legendgrouptitle:X.legendgrouptitle,legendrank:X.legendrank,legendwidth:X.legendwidth,showlegend:X.showlegend,visible:X.visible,opacity:X.opacity,mode:X.type==="line"?"lines":"markers",line:X.line,marker:{line:X.line,color:X.fillcolor,size:12,symbol:X.type==="rect"?"square":X.type==="circle"?"circle":"hexagon2"}};Q.push([{trace:J}])}}te=F.showlegend&&c(Q,Z,F._legends.length>1)}var ne=F.hiddenlabels||[];if(!(V||F.showlegend&&te.length))return B.selectAll("."+j).remove(),F._topdefs.select("#"+D).remove(),a.autoMargin(z,j);var ie=k.ensureSingle(B,"g",j,function(_e){V||_e.attr("pointer-events","all")}),ae=k.ensureSingleById(F._topdefs,"clipPath",D,function(_e){_e.append("rect")}),le=k.ensureSingle(ie,"rect","bg",function(_e){_e.attr("shape-rendering","crispEdges")});le.call(t.stroke,Z.bordercolor).call(t.fill,Z.bgcolor).style("stroke-width",Z.borderwidth+"px");var ce,pe=k.ensureSingle(ie,"g","scrollbox"),ge=Z.title;Z._titleWidth=0,Z._titleHeight=0,ge.text?((ce=k.ensureSingle(pe,"text",j+"titletext")).attr("text-anchor","start").call(o.font,ge.font).text(ge.text),E(ce,pe,z,Z,p)):pe.selectAll("."+j+"titletext").remove();var me=k.ensureSingle(ie,"rect","scrollbar",function(_e){_e.attr(r.scrollBarEnterAttrs).call(t.fill,r.scrollBarColor)}),ve=pe.selectAll("g.groups").data(te);ve.enter().append("g").attr("class","groups"),ve.exit().remove();var Me=ve.selectAll("g.traces").data(k.identity);Me.enter().append("g").attr("class","traces"),Me.exit().remove(),Me.style("opacity",function(_e){var we=_e[0].trace;return w.traceIs(we,"pie-like")?ne.indexOf(_e[0].label)!==-1?.5:1:we.visible==="legendonly"?.5:1}).each(function(){A.select(this).call(f,z,Z)}).call(x,z,Z).each(function(){V||A.select(this).call(T,z,j)}),k.syncOrAsync([a.previousPromises,function(){return function(_e,we,oe,se){var de=_e._fullLayout,Ee=I(se);se||(se=de[Ee]);var Te=de._size,Se=g.isVertical(se),Le=g.isGrouped(se),Oe=se.entrywidthmode==="fraction",he=se.borderwidth,xe=2*he,ke=r.itemGap,Re=se.itemwidth+2*ke,ze=2*(he+ke),Ie=O(se),He=se.y<0||se.y===0&&Ie==="top",qe=se.y>1||se.y===1&&Ie==="bottom",Je=se.tracegroupgap,st={};se._maxHeight=Math.max(He||qe?de.height/2:Te.h,30);var it=0;se._width=0,se._height=0;var vt=function(mt){var yt=0,ht=0,Lt=mt.title.side;return Lt&&(Lt.indexOf("left")!==-1&&(yt=mt._titleWidth),Lt.indexOf("top")!==-1&&(ht=mt._titleHeight)),[yt,ht]}(se);if(Se)oe.each(function(mt){var yt=mt[0].height;o.setTranslate(this,he+vt[0],he+vt[1]+se._height+yt/2+ke),se._height+=yt,se._width=Math.max(se._width,mt[0].width)}),it=Re+se._width,se._width+=ke+Re+xe,se._height+=ze,Le&&(we.each(function(mt,yt){o.setTranslate(this,0,yt*se.tracegroupgap)}),se._height+=(se._lgroupsLength-1)*se.tracegroupgap);else{var _t=C(se),xt=se.x<0||se.x===0&&_t==="right",et=se.x>1||se.x===1&&_t==="left",nt=qe||He,Mt=de.width/2;se._maxWidth=Math.max(xt?nt&&_t==="left"?Te.l+Te.w:Mt:et?nt&&_t==="right"?Te.r+Te.w:Mt:Te.w,2*Re);var zt=0,Ft=0;oe.each(function(mt){var yt=m(mt,se,Re);zt=Math.max(zt,yt),Ft+=yt}),it=null;var Rt=0;if(Le){var We=0,Ze=0,Ne=0;we.each(function(){var mt=0,yt=0;A.select(this).selectAll("g.traces").each(function(Lt){var Tt=m(Lt,se,Re),bt=Lt[0].height;o.setTranslate(this,vt[0],vt[1]+he+ke+bt/2+yt),yt+=bt,mt=Math.max(mt,Tt),st[Lt[0].trace.legendgroup]=mt});var ht=mt+ke;Ze>0&&ht+he+Ze>se._maxWidth?(Rt=Math.max(Rt,Ze),Ze=0,Ne+=We+Je,We=yt):We=Math.max(We,yt),o.setTranslate(this,Ze,Ne),Ze+=ht}),se._width=Math.max(Rt,Ze)+he,se._height=Ne+We+ze}else{var Ye=oe.size(),lt=Ft+xe+(Ye-1)*ke<se._maxWidth,at=0,Fe=0,Be=0,ot=0;oe.each(function(mt){var yt=mt[0].height,ht=m(mt,se,Re),Lt=lt?ht:zt;Oe||(Lt+=ke),Lt+he+Fe-ke>=se._maxWidth&&(Rt=Math.max(Rt,ot),Fe=0,Be+=at,se._height+=at,at=0),o.setTranslate(this,vt[0]+he+Fe,vt[1]+he+Be+yt/2+ke),ot=Fe+ht+ke,Fe+=Lt,at=Math.max(at,yt)}),lt?(se._width=Fe+xe,se._height=at+ze):(se._width=Math.max(Rt,ot)+xe,se._height+=at+ze)}}se._width=Math.ceil(Math.max(se._width+vt[0],se._titleWidth+2*(he+r.titlePad))),se._height=Math.ceil(Math.max(se._height+vt[1],se._titleHeight+2*(he+r.itemGap))),se._effHeight=Math.min(se._height,se._maxHeight);var Xe=_e._context.edits,pt=Xe.legendText||Xe.legendPosition;oe.each(function(mt){var yt=A.select(this).select("."+Ee+"toggle"),ht=mt[0].height,Lt=mt[0].trace.legendgroup,Tt=m(mt,se,Re);Le&&Lt!==""&&(Tt=st[Lt]);var bt=pt?Re:it||Tt;Se||Oe||(bt+=ke/2),o.setRect(yt,0,-ht/2,bt,ht)})}(z,ve,Me,Z)},function(){var _e,we,oe,se,de=F._size,Ee=Z.borderwidth,Te=Z.xref==="paper",Se=Z.yref==="paper";if(ge.text&&function(nt,Mt,zt){if(Mt.title.side==="top center"||Mt.title.side==="top right"){var Ft=Mt.title.font.size*l,Rt=0,We=nt.node(),Ze=o.bBox(We).width;Mt.title.side==="top center"?Rt=.5*(Mt._width-2*zt-2*r.titlePad-Ze):Mt.title.side==="top right"&&(Rt=Mt._width-2*zt-2*r.titlePad-Ze),i.positionText(nt,zt+r.titlePad+Rt,zt+Ft)}}(ce,Z,Ee),!V){var Le,Oe;Le=Te?de.l+de.w*Z.x-u[C(Z)]*Z._width:F.width*Z.x-u[C(Z)]*Z._width,Oe=Se?de.t+de.h*(1-Z.y)-u[O(Z)]*Z._effHeight:F.height*(1-Z.y)-u[O(Z)]*Z._effHeight;var he=function(nt,Mt,zt,Ft){var Rt=nt._fullLayout,We=Rt[Mt],Ze=C(We),Ne=O(We),Ye=We.xref==="paper",lt=We.yref==="paper";nt._fullLayout._reservedMargin[Mt]={};var at=We.y<.5?"b":"t",Fe=We.x<.5?"l":"r",Be={r:Rt.width-zt,l:zt+We._width,b:Rt.height-Ft,t:Ft+We._effHeight};if(Ye&&lt)return a.autoMargin(nt,Mt,{x:We.x,y:We.y,l:We._width*u[Ze],r:We._width*d[Ze],b:We._effHeight*d[Ne],t:We._effHeight*u[Ne]});Ye?nt._fullLayout._reservedMargin[Mt][at]=Be[at]:lt||We.orientation==="v"?nt._fullLayout._reservedMargin[Mt][Fe]=Be[Fe]:nt._fullLayout._reservedMargin[Mt][at]=Be[at]}(z,j,Le,Oe);if(he)return;if(F.margin.autoexpand){var xe=Le,ke=Oe;Le=Te?k.constrain(Le,0,F.width-Z._width):xe,Oe=Se?k.constrain(Oe,0,F.height-Z._effHeight):ke,Le!==xe&&k.log("Constrain "+j+".x to make legend fit inside graph"),Oe!==ke&&k.log("Constrain "+j+".y to make legend fit inside graph")}o.setTranslate(ie,Le,Oe)}if(me.on(".drag",null),ie.on("wheel",null),V||Z._height<=Z._maxHeight||z._context.staticPlot){var Re=Z._effHeight;V&&(Re=Z._height),le.attr({width:Z._width-Ee,height:Re-Ee,x:Ee/2,y:Ee/2}),o.setTranslate(pe,0,0),ae.select("rect").attr({width:Z._width-2*Ee,height:Re-2*Ee,x:Ee,y:Ee}),o.setClipUrl(pe,D,z),o.setRect(me,0,0,0,0),delete Z._scrollY}else{var ze,Ie,He,qe=Math.max(r.scrollBarMinHeight,Z._effHeight*Z._effHeight/Z._height),Je=Z._effHeight-qe-2*r.scrollBarMargin,st=Z._height-Z._effHeight,it=Je/st,vt=Math.min(Z._scrollY||0,st);le.attr({width:Z._width-2*Ee+r.scrollBarWidth+r.scrollBarMargin,height:Z._effHeight-Ee,x:Ee/2,y:Ee/2}),ae.select("rect").attr({width:Z._width-2*Ee+r.scrollBarWidth+r.scrollBarMargin,height:Z._effHeight-2*Ee,x:Ee,y:Ee+vt}),o.setClipUrl(pe,D,z),et(vt,qe,it),ie.on("wheel",function(){et(vt=k.constrain(Z._scrollY+A.event.deltaY/Je*st,0,st),qe,it),vt!==0&&vt!==st&&A.event.preventDefault()});var _t=A.behavior.drag().on("dragstart",function(){var nt=A.event.sourceEvent;ze=nt.type==="touchstart"?nt.changedTouches[0].clientY:nt.clientY,He=vt}).on("drag",function(){var nt=A.event.sourceEvent;nt.buttons===2||nt.ctrlKey||(Ie=nt.type==="touchmove"?nt.changedTouches[0].clientY:nt.clientY,vt=function(Mt,zt,Ft){var Rt=(Ft-zt)/it+Mt;return k.constrain(Rt,0,st)}(He,ze,Ie),et(vt,qe,it))});me.call(_t);var xt=A.behavior.drag().on("dragstart",function(){var nt=A.event.sourceEvent;nt.type==="touchstart"&&(ze=nt.changedTouches[0].clientY,He=vt)}).on("drag",function(){var nt=A.event.sourceEvent;nt.type==="touchmove"&&(Ie=nt.changedTouches[0].clientY,vt=function(Mt,zt,Ft){var Rt=(zt-Ft)/it+Mt;return k.constrain(Rt,0,st)}(He,ze,Ie),et(vt,qe,it))});pe.call(xt)}function et(nt,Mt,zt){Z._scrollY=z._fullLayout[j]._scrollY=nt,o.setTranslate(pe,0,-nt),o.setRect(me,Z._width,r.scrollBarMargin+nt*zt,r.scrollBarWidth,Mt),ae.select("rect").attr("y",Ee+nt)}z._context.edits.legendPosition&&(ie.classed("cursor-move",!0),h.init({element:ie.node(),gd:z,prepFn:function(){var nt=o.getTranslate(ie);oe=nt.x,se=nt.y},moveFn:function(nt,Mt){var zt=oe+nt,Ft=se+Mt;o.setTranslate(ie,zt,Ft),_e=h.align(zt,Z._width,de.l,de.l+de.w,Z.xanchor),we=h.align(Ft+Z._height,-Z._height,de.t+de.h,de.t,Z.yanchor)},doneFn:function(){if(_e!==void 0&&we!==void 0){var nt={};nt[j+".x"]=_e,nt[j+".y"]=we,w.call("_guiRelayout",z,nt)}},clickFn:function(nt,Mt){var zt=B.selectAll("g.traces").filter(function(){var Ft=this.getBoundingClientRect();return Mt.clientX>=Ft.left&&Mt.clientX<=Ft.right&&Mt.clientY>=Ft.top&&Mt.clientY<=Ft.bottom});zt.size()>0&&_(z,ie,zt,nt,Mt)}}))}],z)}}function m(z,U,D){var B=z[0],Z=B.width,F=U.entrywidthmode,j=B.trace.legendwidth||U.entrywidth;return F==="fraction"?U._maxWidth*j:D+(j||Z)}function _(z,U,D,B,Z){var F=D.data()[0][0].trace,j={event:Z,node:D.node(),curveNumber:F.index,expandedIndex:F._expandedIndex,data:z.data,layout:z.layout,frames:z._transitionData._frames,config:z._context,fullData:z._fullData,fullLayout:z._fullLayout};F._group&&(j.group=F._group),w.traceIs(F,"pie-like")&&(j.label=D.datum()[0].label);var V=b.triggerHandler(z,"plotly_legendclick",j);if(B===1){if(V===!1)return;U._clickTimeout=setTimeout(function(){z._fullLayout&&n(D,z,B)},z._context.doubleClickDelay)}else B===2&&(U._clickTimeout&&clearTimeout(U._clickTimeout),z._legendMouseDownTime=0,b.triggerHandler(z,"plotly_legenddoubleclick",j)!==!1&&V!==!1&&n(D,z,B))}function f(z,U,D){var B,Z,F=I(D),j=z.data()[0][0],V=j.trace,te=w.traceIs(V,"pie-like"),Q=!D._inHover&&U._context.edits.legendText&&!te,$=D._maxNameLength;j.groupTitle?(B=j.groupTitle.text,Z=j.groupTitle.font):(Z=D.font,D.entries?B=j.text:(B=te?j.label:V.name,V._meta&&(B=k.templateString(B,V._meta))));var G=k.ensureSingle(z,"text",F+"text");G.attr("text-anchor","start").call(o.font,Z).text(Q?S(B,$):B);var X=D.itemwidth+2*r.itemGap;i.positionText(G,X,0),Q?G.call(i.makeEditable,{gd:U,text:B}).call(E,z,U,D).on("edit",function(J){this.text(S(J,$)).call(E,z,U,D);var ne=j.trace._fullInput||{},ie={};if(w.hasTransform(ne,"groupby")){var ae=w.getTransformIndices(ne,"groupby"),le=ae[ae.length-1],ce=k.keyedContainer(ne,"transforms["+le+"].styles","target","value.name");ce.set(j.trace._group,J),ie=ce.constructUpdate()}else ie.name=J;return ne._isShape?w.call("_guiRelayout",U,"shapes["+V.index+"].name",ie.name):w.call("_guiRestyle",U,ie,V.index)}):E(G,z,U,D)}function S(z,U){var D=Math.max(4,U);if(z&&z.trim().length>=D/2)return z;for(var B=D-(z=z||"").length;B>0;B--)z+=" ";return z}function T(z,U,D){var B,Z=U._context.doubleClickDelay,F=1,j=k.ensureSingle(z,"rect",D+"toggle",function(V){U._context.staticPlot||V.style("cursor","pointer").attr("pointer-events","all"),V.call(t.fill,"rgba(0,0,0,0)")});U._context.staticPlot||(j.on("mousedown",function(){(B=new Date().getTime())-U._legendMouseDownTime<Z?F+=1:(F=1,U._legendMouseDownTime=B)}),j.on("mouseup",function(){if(!U._dragged&&!U._editing){var V=U._fullLayout[D];new Date().getTime()-U._legendMouseDownTime>Z&&(F=Math.max(F-1,1)),_(U,V,z,F,A.event)}}))}function E(z,U,D,B,Z){B._inHover&&z.attr("data-notex",!0),i.convertToTspans(z,D,function(){(function(F,j,V,te){var Q=F.data()[0][0];if(V._inHover||!Q||Q.trace.showlegend){var $=F.select("g[class*=math-group]"),G=$.node(),X=I(V);V||(V=j._fullLayout[X]);var J,ne,ie=V.borderwidth,ae=(te===p?V.title.font:Q.groupTitle?Q.groupTitle.font:V.font).size*l;if(G){var le=o.bBox(G);J=le.height,ne=le.width,te===p?o.setTranslate($,ie,ie+.75*J):o.setTranslate($,0,.25*J)}else{var ce="."+X+(te===p?"title":"")+"text",pe=F.select(ce),ge=i.lineCount(pe),me=pe.node();if(J=ae*ge,ne=me?o.bBox(me).width:0,te===p)V.title.side==="left"&&(ne+=2*r.itemGap),i.positionText(pe,ie+r.titlePad,ie+ae);else{var ve=2*r.itemGap+V.itemwidth;Q.groupTitle&&(ve=r.itemGap,ne-=V.itemwidth),i.positionText(pe,ve,-ae*((ge-1)/2-.3))}}te===p?(V._titleWidth=ne,V._titleHeight=J):(Q.lineHeight=ae,Q.height=Math.max(J,16)+3,Q.width=ne)}else F.remove()})(U,D,B,Z)})}function C(z){return k.isRightAnchor(z)?"right":k.isCenterAnchor(z)?"center":"left"}function O(z){return k.isBottomAnchor(z)?"bottom":k.isMiddleAnchor(z)?"middle":"top"}function I(z){return z._id||"legend"}Y.exports=function(z,U){if(U)y(z,U);else{var D=z._fullLayout,B=D._legends;D._infolayer.selectAll('[class^="legend"]').each(function(){var j=A.select(this),V=j.attr("class").split(" ")[0];V.match(v)&&B.indexOf(V)===-1&&j.remove()});for(var Z=0;Z<B.length;Z++){var F=B[Z];y(z,z._fullLayout[F])}}}},35456:function(Y,P,e){var A=e(24040),k=e(42451);Y.exports=function(a,w,b){var h,o,t=w._inHover,i=k.isGrouped(w),n=k.isReversed(w),r={},s=[],l=!1,u={},d=0,c=0;function x(B,Z,F){if(w.visible!==!1&&(!b||B===w._id))if(Z!==""&&k.isGrouped(w))s.indexOf(Z)===-1?(s.push(Z),l=!0,r[Z]=[F]):r[Z].push(F);else{var j="~~i"+d;s.push(j),r[j]=[F],d++}}for(h=0;h<a.length;h++){var g=a[h],p=g[0],v=p.trace,y=v.legend,m=v.legendgroup;if(t||v.visible&&v.showlegend)if(A.traceIs(v,"pie-like"))for(u[m]||(u[m]={}),o=0;o<g.length;o++){var _=g[o].label;u[m][_]||(x(y,m,{label:_,color:g[o].color,i:g[o].i,trace:v,pts:g[o].pts}),u[m][_]=!0,c=Math.max(c,(_||"").length))}else x(y,m,p),c=Math.max(c,(v.name||"").length)}if(!s.length)return[];var f=!l||!i,S=[];for(h=0;h<s.length;h++){var T=r[s[h]];f?S.push(T[0]):S.push(T)}for(f&&(S=[S]),h=0;h<S.length;h++){var E=1/0;for(o=0;o<S[h].length;o++){var C=S[h][o].trace.legendrank;E>C&&(E=C)}S[h][0]._groupMinRank=E,S[h][0]._preGroupSort=h}var O=function(B,Z){return B.trace.legendrank-Z.trace.legendrank||B._preSort-Z._preSort};for(S.forEach(function(B,Z){B[0]._preGroupSort=Z}),S.sort(function(B,Z){return B[0]._groupMinRank-Z[0]._groupMinRank||B[0]._preGroupSort-Z[0]._preGroupSort}),h=0;h<S.length;h++){S[h].forEach(function(B,Z){B._preSort=Z}),S[h].sort(O);var I=S[h][0].trace,z=null;for(o=0;o<S[h].length;o++){var U=S[h][o].trace.legendgrouptitle;if(U&&U.text){z=U,t&&(U.font=w._groupTitleFont);break}}if(n&&S[h].reverse(),z){var D=!1;for(o=0;o<S[h].length;o++)if(A.traceIs(S[h][o].trace,"pie-like")){D=!0;break}S[h].unshift({i:-1,groupTitle:z,noClick:D,trace:{showlegend:I.showlegend,legendgroup:I.legendgroup,visible:w.groupclick==="toggleitem"||I.visible}})}for(o=0;o<S[h].length;o++)S[h][o]=[S[h][o]]}return w._lgroupsLength=S.length,w._maxNameLength=c,S}},33048:function(Y,P,e){var A=e(24040),k=e(3400),a=k.pushUnique,w=!0;Y.exports=function(b,h,o){var t=h._fullLayout;if(!h._dragged&&!h._editing){var i,n=t.legend.itemclick,r=t.legend.itemdoubleclick,s=t.legend.groupclick;if(o===1&&n==="toggle"&&r==="toggleothers"&&w&&h.data&&h._context.showTips&&k.notifier(k._(h,"Double-click on legend to isolate one trace"),"long"),w=!1,o===1?i=n:o===2&&(i=r),i){var l=s==="togglegroup",u=t.hiddenlabels?t.hiddenlabels.slice():[],d=b.data()[0][0];if(!d.groupTitle||!d.noClick){var c=h._fullData,x=(t.shapes||[]).filter(function(we){return we.showlegend}),g=c.concat(x),p=d.trace;p._isShape&&(p=p._fullInput);var v,y,m,_,f,S=p.legendgroup,T={},E=[],C=[],O=[],I=(t.shapes||[]).map(function(we){return we._input}),z=!1,U=p.legend,D=p._fullInput;if(D&&D._isShape||!A.traceIs(p,"pie-like")){var B,Z=S&&S.length,F=[];if(Z)for(v=0;v<g.length;v++)(B=g[v]).visible&&B.legendgroup===S&&F.push(v);if(i==="toggle"){var j;switch(p.visible){case!0:j="legendonly";break;case!1:j=!1;break;case"legendonly":j=!0}if(Z)if(l)for(v=0;v<g.length;v++){var V=g[v];V.visible!==!1&&V.legendgroup===S&&_e(V,j)}else _e(p,j);else _e(p,j)}else if(i==="toggleothers"){var te,Q,$,G,X=!0;for(v=0;v<g.length;v++)if(te=(G=g[v])===p,Q=G.showlegend!==!0,!(te||Q||Z&&G.legendgroup===S||G.legend!==U||G.visible!==!0||A.traceIs(G,"notLegendIsolatable"))){X=!1;break}for(v=0;v<g.length;v++)if((G=g[v]).visible!==!1&&G.legend===U&&!A.traceIs(G,"notLegendIsolatable"))switch(p.visible){case"legendonly":_e(G,!0);break;case!0:$=!!X||"legendonly",te=G===p,Q=G.showlegend!==!0&&!G.legendgroup,_e(G,!!(te||Z&&G.legendgroup===S||Q)||$)}}for(v=0;v<C.length;v++)if(m=C[v]){var J=m.constructUpdate(),ne=Object.keys(J);for(y=0;y<ne.length;y++)_=ne[y],(T[_]=T[_]||[])[O[v]]=J[_]}for(f=Object.keys(T),v=0;v<f.length;v++)for(_=f[v],y=0;y<E.length;y++)T[_].hasOwnProperty(y)||(T[_][y]=void 0);z?A.call("_guiUpdate",h,T,{shapes:I},E):A.call("_guiRestyle",h,T,E)}else{var ie=d.label,ae=u.indexOf(ie);if(i==="toggle")ae===-1?u.push(ie):u.splice(ae,1);else if(i==="toggleothers"){var le=ae!==-1,ce=[];for(v=0;v<h.calcdata.length;v++){var pe=h.calcdata[v];for(y=0;y<pe.length;y++){var ge=pe[y].label;U===pe[0].trace.legend&&ie!==ge&&(u.indexOf(ge)===-1&&(le=!0),a(u,ge),ce.push(ge))}}if(!le)for(var me=0;me<ce.length;me++){var ve=u.indexOf(ce[me]);ve!==-1&&u.splice(ve,1)}}A.call("_guiRelayout",h,"hiddenlabels",u)}}}}function Me(we,oe){var se=E.indexOf(we),de=T.visible;return de||(de=T.visible=[]),E.indexOf(we)===-1&&(E.push(we),se=E.length-1),de[se]=oe,se}function _e(we,oe){if(!d.groupTitle||l){var se,de=we._fullInput||we,Ee=de._isShape,Te=de.index;if(Te===void 0&&(Te=de._index),A.hasTransform(de,"groupby")){var Se=C[Te];if(!Se){var Le=A.getTransformIndices(de,"groupby"),Oe=Le[Le.length-1];Se=k.keyedContainer(de,"transforms["+Oe+"].styles","target","value.visible"),C[Te]=Se}var he=Se.get(we._group);he===void 0&&(he=!0),he!==!1&&Se.set(we._group,oe),O[Te]=Me(Te,de.visible!==!1)}else{var xe=de.visible!==!1&&oe;Ee?(se=xe,I[Te].visible=se,z=!0):Me(Te,xe)}}}}},42451:function(Y,P){P.isGrouped=function(e){return(e.traceorder||"").indexOf("grouped")!==-1},P.isVertical=function(e){return e.orientation!=="h"},P.isReversed=function(e){return(e.traceorder||"").indexOf("reversed")!==-1}},2780:function(Y,P,e){Y.exports={moduleType:"component",name:"legend",layoutAttributes:e(3800),supplyLayoutDefaults:e(77864),draw:e(31140),style:e(2012)}},2012:function(Y,P,e){var A=e(33428),k=e(24040),a=e(3400),w=a.strTranslate,b=e(43616),h=e(76308),o=e(94288).extractOpts,t=e(43028),i=e(10528),n=e(69656).castOption,r=e(65196);function s(d,c){return(c?"radial":"horizontal")+(d?"":"reversed")}function l(d){var c=d[0].trace,x=c.contours,g=t.hasLines(c),p=t.hasMarkers(c),v=c.visible&&c.fill&&c.fill!=="none",y=!1,m=!1;if(x){var _=x.coloring;_==="lines"?y=!0:g=_==="none"||_==="heatmap"||x.showlines,x.type==="constraint"?v=x._operation!=="=":_!=="fill"&&_!=="heatmap"||(m=!0)}return{showMarker:p,showLine:g,showFill:v,showGradientLine:y,showGradientFill:m,anyLine:g||y,anyFill:v||m}}function u(d,c,x){return d&&a.isArrayOrTypedArray(d)?c:d>x?x:d}Y.exports=function(d,c,x){var g=c._fullLayout;x||(x=g.legend);var p=x.itemsizing==="constant",v=x.itemwidth,y=(v+2*r.itemGap)/2,m=w(y,0),_=function(T,E,C,O){var I;if(T+1)I=T;else{if(!(E&&E.width>0))return 0;I=E.width}return p?O:Math.min(I,C)};function f(T,E,C){var O=T[0].trace,I=O.marker||{},z=I.line||{},U=I.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",D=C?O.visible&&O.type===C:k.traceIs(O,"bar"),B=A.select(E).select("g.legendpoints").selectAll("path.legend"+C).data(D?[T]:[]);B.enter().append("path").classed("legend"+C,!0).attr("d",U).attr("transform",m),B.exit().remove(),B.each(function(Z){var F=A.select(this),j=Z[0],V=_(j.mlw,I.line,5,2);F.style("stroke-width",V+"px");var te=j.mcc;if(!x._inHover&&"mc"in j){var Q=o(I),$=Q.mid;$===void 0&&($=(Q.max+Q.min)/2),te=b.tryColorscale(I,"")($)}var G=te||j.mc||I.color,X=I.pattern,J=X&&b.getPatternAttr(X.shape,0,"");if(J){var ne=b.getPatternAttr(X.bgcolor,0,null),ie=b.getPatternAttr(X.fgcolor,0,null),ae=X.fgopacity,le=u(X.size,8,10),ce=u(X.solidity,.5,1),pe="legend-"+O.uid;F.call(b.pattern,"legend",c,pe,J,le,ce,te,X.fillmode,ne,ie,ae)}else F.call(h.fill,G);V&&h.stroke(F,j.mlc||z.color)})}function S(T,E,C){var O=T[0],I=O.trace,z=C?I.visible&&I.type===C:k.traceIs(I,C),U=A.select(E).select("g.legendpoints").selectAll("path.legend"+C).data(z?[T]:[]);if(U.enter().append("path").classed("legend"+C,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",m),U.exit().remove(),U.size()){var D=I.marker||{},B=_(n(D.line.width,O.pts),D.line,5,2),Z="pieLike",F=a.minExtend(I,{marker:{line:{width:B}}},Z),j=a.minExtend(O,{trace:F},Z);i(U,j,F,c)}}d.each(function(T){var E=A.select(this),C=a.ensureSingle(E,"g","layers");C.style("opacity",T[0].trace.opacity);var O=x.valign,I=T[0].lineHeight,z=T[0].height;if(O!=="middle"&&I&&z){var U={top:1,bottom:-1}[O]*(.5*(I-z+3));C.attr("transform",w(0,U))}else C.attr("transform",null);C.selectAll("g.legendfill").data([T]).enter().append("g").classed("legendfill",!0),C.selectAll("g.legendlines").data([T]).enter().append("g").classed("legendlines",!0);var D=C.selectAll("g.legendsymbols").data([T]);D.enter().append("g").classed("legendsymbols",!0),D.selectAll("g.legendpoints").data([T]).enter().append("g").classed("legendpoints",!0)}).each(function(T){var E,C=T[0].trace,O=[];if(C.visible)switch(C.type){case"histogram2d":case"heatmap":O=[["M-15,-2V4H15V-2Z"]],E=!0;break;case"choropleth":case"choroplethmapbox":O=[["M-6,-6V6H6V-6Z"]],E=!0;break;case"densitymapbox":O=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],E="radial";break;case"cone":O=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],E=!1;break;case"streamtube":O=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],E=!1;break;case"surface":O=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],E=!0;break;case"mesh3d":O=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],E=!1;break;case"volume":O=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],E=!0;break;case"isosurface":O=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],E=!1}var I=A.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(O);I.enter().append("path").classed("legend3dandfriends",!0).attr("transform",m).style("stroke-miterlimit",1),I.exit().remove(),I.each(function(z,U){var D,B=A.select(this),Z=o(C),F=Z.colorscale,j=Z.reversescale;if(F){if(!E){var V=F.length;D=U===0?F[j?V-1:0][1]:U===1?F[j?0:V-1][1]:F[Math.floor((V-1)/2)][1]}}else{var te=C.vertexcolor||C.facecolor||C.color;D=a.isArrayOrTypedArray(te)?te[U]||te[0]:te}B.attr("d",z[0]),D?B.call(h.fill,D):B.call(function(Q){if(Q.size()){var $="legendfill-"+C.uid;b.gradient(Q,c,$,s(j,E==="radial"),F,"fill")}})})}).each(function(T){var E=T[0].trace,C=E.type==="waterfall";if(T[0]._distinct&&C){var O=T[0].trace[T[0].dir].marker;return T[0].mc=O.color,T[0].mlw=O.line.width,T[0].mlc=O.line.color,f(T,this,"waterfall")}var I=[];E.visible&&C&&(I=T[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var z=A.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(I);z.enter().append("path").classed("legendwaterfall",!0).attr("transform",m).style("stroke-miterlimit",1),z.exit().remove(),z.each(function(U){var D=A.select(this),B=E[U[0]].marker,Z=_(void 0,B.line,5,2);D.attr("d",U[1]).style("stroke-width",Z+"px").call(h.fill,B.color),Z&&D.call(h.stroke,B.line.color)})}).each(function(T){f(T,this,"funnel")}).each(function(T){f(T,this)}).each(function(T){var E=T[0].trace,C=A.select(this).select("g.legendpoints").selectAll("path.legendbox").data(E.visible&&k.traceIs(E,"box-violin")?[T]:[]);C.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",m),C.exit().remove(),C.each(function(){var O=A.select(this);if(E.boxpoints!=="all"&&E.points!=="all"||h.opacity(E.fillcolor)!==0||h.opacity((E.line||{}).color)!==0){var I=_(void 0,E.line,5,2);O.style("stroke-width",I+"px").call(h.fill,E.fillcolor),I&&h.stroke(O,E.line.color)}else{var z=a.minExtend(E,{marker:{size:p?12:a.constrain(E.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});C.call(b.pointStyle,z,c)}})}).each(function(T){S(T,this,"funnelarea")}).each(function(T){S(T,this,"pie")}).each(function(T){var E,C,O=l(T),I=O.showFill,z=O.showLine,U=O.showGradientLine,D=O.showGradientFill,B=O.anyFill,Z=O.anyLine,F=T[0],j=F.trace,V=o(j),te=V.colorscale,Q=V.reversescale,$=t.hasMarkers(j)||!B?"M5,0":Z?"M5,-2":"M5,-3",G=A.select(this),X=G.select(".legendfill").selectAll("path").data(I||D?[T]:[]);if(X.enter().append("path").classed("js-fill",!0),X.exit().remove(),X.attr("d",$+"h"+v+"v6h-"+v+"z").call(function(ie){if(ie.size())if(I)b.fillGroupStyle(ie,c);else{var ae="legendfill-"+j.uid;b.gradient(ie,c,ae,s(Q),te,"fill")}}),z||U){var J=_(void 0,j.line,10,5);C=a.minExtend(j,{line:{width:J}}),E=[a.minExtend(F,{trace:C})]}var ne=G.select(".legendlines").selectAll("path").data(z||U?[E]:[]);ne.enter().append("path").classed("js-line",!0),ne.exit().remove(),ne.attr("d",$+(U?"l"+v+",0.0001":"h"+v)).call(z?b.lineGroupStyle:function(ie){if(ie.size()){var ae="legendline-"+j.uid;b.lineGroupStyle(ie),b.gradient(ie,c,ae,s(Q),te,"stroke")}})}).each(function(T){var E,C,O=l(T),I=O.anyFill,z=O.anyLine,U=O.showLine,D=O.showMarker,B=T[0],Z=B.trace,F=!D&&!z&&!I&&t.hasText(Z);function j(ne,ie,ae,le){var ce=a.nestedProperty(Z,ne).get(),pe=a.isArrayOrTypedArray(ce)&&ie?ie(ce):ce;if(p&&pe&&le!==void 0&&(pe=le),ae){if(pe<ae[0])return ae[0];if(pe>ae[1])return ae[1]}return pe}function V(ne){return B._distinct&&B.index&&ne[B.index]?ne[B.index]:ne[0]}if(D||F||U){var te={},Q={};if(D){te.mc=j("marker.color",V),te.mx=j("marker.symbol",V),te.mo=j("marker.opacity",a.mean,[.2,1]),te.mlc=j("marker.line.color",V),te.mlw=j("marker.line.width",a.mean,[0,5],2),Q.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var $=j("marker.size",a.mean,[2,16],12);te.ms=$,Q.marker.size=$}U&&(Q.line={width:j("line.width",V,[0,10],5)}),F&&(te.tx="Aa",te.tp=j("textposition",V),te.ts=10,te.tc=j("textfont.color",V),te.tf=j("textfont.family",V)),E=[a.minExtend(B,te)],(C=a.minExtend(Z,Q)).selectedpoints=null,C.texttemplate=null}var G=A.select(this).select("g.legendpoints"),X=G.selectAll("path.scatterpts").data(D?E:[]);X.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",m),X.exit().remove(),X.call(b.pointStyle,C,c),D&&(E[0].mrc=3);var J=G.selectAll("g.pointtext").data(F?E:[]);J.enter().append("g").classed("pointtext",!0).append("text").attr("transform",m),J.exit().remove(),J.selectAll("text").call(b.textPointStyle,C,c)}).each(function(T){var E=T[0].trace,C=A.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(E.visible&&E.type==="candlestick"?[T,T]:[]);C.enter().append("path").classed("legendcandle",!0).attr("d",function(O,I){return I?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",m).style("stroke-miterlimit",1),C.exit().remove(),C.each(function(O,I){var z=A.select(this),U=E[I?"increasing":"decreasing"],D=_(void 0,U.line,5,2);z.style("stroke-width",D+"px").call(h.fill,U.fillcolor),D&&h.stroke(z,U.line.color)})}).each(function(T){var E=T[0].trace,C=A.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(E.visible&&E.type==="ohlc"?[T,T]:[]);C.enter().append("path").classed("legendohlc",!0).attr("d",function(O,I){return I?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",m).style("stroke-miterlimit",1),C.exit().remove(),C.each(function(O,I){var z=A.select(this),U=E[I?"increasing":"decreasing"],D=_(void 0,U.line,5,2);z.style("fill","none").call(b.dashLine,U.line.dash,D),D&&h.stroke(z,U.line.color)})})}},66540:function(Y,P,e){e(76052),Y.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},44248:function(Y,P,e){var A=e(24040),k=e(7316),a=e(79811),w=e(9224),b=e(4016).eraseActiveShape,h=e(3400),o=h._,t=Y.exports={};function i(g,p){var v,y,m=p.currentTarget,_=m.getAttribute("data-attr"),f=m.getAttribute("data-val")||!0,S=g._fullLayout,T={},E=a.list(g,null,!0),C=S._cartesianSpikesEnabled;if(_==="zoom"){var O,I=f==="in"?.5:2,z=(1+I)/2,U=(1-I)/2;for(y=0;y<E.length;y++)if(!(v=E[y]).fixedrange)if(O=v._name,f==="auto")T[O+".autorange"]=!0;else if(f==="reset")v._rangeInitial0===void 0&&v._rangeInitial1===void 0?T[O+".autorange"]=!0:v._rangeInitial0===void 0?(T[O+".autorange"]=v._autorangeInitial,T[O+".range"]=[null,v._rangeInitial1]):v._rangeInitial1===void 0?(T[O+".range"]=[v._rangeInitial0,null],T[O+".autorange"]=v._autorangeInitial):T[O+".range"]=[v._rangeInitial0,v._rangeInitial1],v._showSpikeInitial!==void 0&&(T[O+".showspikes"]=v._showSpikeInitial,C!=="on"||v._showSpikeInitial||(C="off"));else{var D=[v.r2l(v.range[0]),v.r2l(v.range[1])],B=[z*D[0]+U*D[1],z*D[1]+U*D[0]];T[O+".range[0]"]=v.l2r(B[0]),T[O+".range[1]"]=v.l2r(B[1])}}else _!=="hovermode"||f!=="x"&&f!=="y"||(f=S._isHoriz?"y":"x",m.setAttribute("data-val",f)),T[_]=f;S._cartesianSpikesEnabled=C,A.call("_guiRelayout",g,T)}function n(g,p){for(var v=p.currentTarget,y=v.getAttribute("data-attr"),m=v.getAttribute("data-val")||!0,_=g._fullLayout._subplots.gl3d||[],f={},S=y.split("."),T=0;T<_.length;T++)f[_[T]+"."+S[1]]=m;var E=m==="pan"?m:"zoom";f.dragmode=E,A.call("_guiRelayout",g,f)}function r(g,p){for(var v=p.currentTarget.getAttribute("data-attr"),y=v==="resetLastSave",m=v==="resetDefault",_=g._fullLayout,f=_._subplots.gl3d||[],S={},T=0;T<f.length;T++){var E,C=f[T],O=C+".camera",I=C+".aspectratio",z=C+".aspectmode",U=_[C]._scene;y?(S[O+".up"]=U.viewInitial.up,S[O+".eye"]=U.viewInitial.eye,S[O+".center"]=U.viewInitial.center,E=!0):m&&(S[O+".up"]=null,S[O+".eye"]=null,S[O+".center"]=null,E=!0),E&&(S[I+".x"]=U.viewInitial.aspectratio.x,S[I+".y"]=U.viewInitial.aspectratio.y,S[I+".z"]=U.viewInitial.aspectratio.z,S[z]=U.viewInitial.aspectmode)}A.call("_guiRelayout",g,S)}function s(g,p){var v=p.currentTarget,y=v._previousVal,m=g._fullLayout,_=m._subplots.gl3d||[],f=["xaxis","yaxis","zaxis"],S={},T={};if(y)T=y,v._previousVal=null;else{for(var E=0;E<_.length;E++){var C=_[E],O=m[C],I=C+".hovermode";S[I]=O.hovermode,T[I]=!1;for(var z=0;z<3;z++){var U=f[z],D=C+"."+U+".showspikes";T[D]=!1,S[D]=O[U].showspikes}}v._previousVal=S}return T}function l(g,p){for(var v=p.currentTarget,y=v.getAttribute("data-attr"),m=v.getAttribute("data-val")||!0,_=g._fullLayout,f=_._subplots.geo||[],S=0;S<f.length;S++){var T=f[S],E=_[T];if(y==="zoom"){var C=E.projection.scale,O=m==="in"?2*C:.5*C;A.call("_guiRelayout",g,T+".projection.scale",O)}}y==="reset"&&x(g,"geo")}function u(g){var p=g._fullLayout;return!p.hovermode&&(p._has("cartesian")?p._isHoriz?"y":"x":"closest")}function d(g){var p=u(g);A.call("_guiRelayout",g,"hovermode",p)}function c(g,p){for(var v=p.currentTarget.getAttribute("data-val"),y=g._fullLayout,m=y._subplots.mapbox||[],_={},f=0;f<m.length;f++){var S=m[f],T=y[S].zoom,E=v==="in"?1.05*T:T/1.05;_[S+".zoom"]=E}A.call("_guiRelayout",g,_)}function x(g,p){for(var v=g._fullLayout,y=v._subplots[p]||[],m={},_=0;_<y.length;_++)for(var f=y[_],S=v[f]._subplot.viewInitial,T=Object.keys(S),E=0;E<T.length;E++){var C=T[E];m[f+"."+C]=S[C]}A.call("_guiRelayout",g,m)}t.toImage={name:"toImage",title:function(g){var p=(g._context.toImageButtonOptions||{}).format||"png";return o(g,p==="png"?"Download plot as a png":"Download plot")},icon:w.camera,click:function(g){var p=g._context.toImageButtonOptions,v={format:p.format||"png"};h.notifier(o(g,"Taking snapshot - this may take a few seconds"),"long"),v.format!=="svg"&&h.isIE()&&(h.notifier(o(g,"IE only supports svg.  Changing format to svg."),"long"),v.format="svg"),["filename","width","height","scale"].forEach(function(y){y in p&&(v[y]=p[y])}),A.call("downloadImage",g,v).then(function(y){h.notifier(o(g,"Snapshot succeeded")+" - "+y,"long")}).catch(function(){h.notifier(o(g,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(g){return o(g,"Edit in Chart Studio")},icon:w.disk,click:function(g){k.sendDataToCloud(g)}},t.editInChartStudio={name:"editInChartStudio",title:function(g){return o(g,"Edit in Chart Studio")},icon:w.pencil,click:function(g){k.sendDataToCloud(g)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(g){return o(g,"Zoom")},attr:"dragmode",val:"zoom",icon:w.zoombox,click:i},t.pan2d={name:"pan2d",_cat:"pan",title:function(g){return o(g,"Pan")},attr:"dragmode",val:"pan",icon:w.pan,click:i},t.select2d={name:"select2d",_cat:"select",title:function(g){return o(g,"Box Select")},attr:"dragmode",val:"select",icon:w.selectbox,click:i},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(g){return o(g,"Lasso Select")},attr:"dragmode",val:"lasso",icon:w.lasso,click:i},t.drawclosedpath={name:"drawclosedpath",title:function(g){return o(g,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:w.drawclosedpath,click:i},t.drawopenpath={name:"drawopenpath",title:function(g){return o(g,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:w.drawopenpath,click:i},t.drawline={name:"drawline",title:function(g){return o(g,"Draw line")},attr:"dragmode",val:"drawline",icon:w.drawline,click:i},t.drawrect={name:"drawrect",title:function(g){return o(g,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:w.drawrect,click:i},t.drawcircle={name:"drawcircle",title:function(g){return o(g,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:w.drawcircle,click:i},t.eraseshape={name:"eraseshape",title:function(g){return o(g,"Erase active shape")},icon:w.eraseshape,click:b},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(g){return o(g,"Zoom in")},attr:"zoom",val:"in",icon:w.zoom_plus,click:i},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(g){return o(g,"Zoom out")},attr:"zoom",val:"out",icon:w.zoom_minus,click:i},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(g){return o(g,"Autoscale")},attr:"zoom",val:"auto",icon:w.autoscale,click:i},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(g){return o(g,"Reset axes")},attr:"zoom",val:"reset",icon:w.home,click:i},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(g){return o(g,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:w.tooltip_basic,gravity:"ne",click:i},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(g){return o(g,"Compare data on hover")},attr:"hovermode",val:function(g){return g._fullLayout._isHoriz?"y":"x"},icon:w.tooltip_compare,gravity:"ne",click:i},t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(g){return o(g,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:w.zoombox,click:n},t.pan3d={name:"pan3d",_cat:"pan",title:function(g){return o(g,"Pan")},attr:"scene.dragmode",val:"pan",icon:w.pan,click:n},t.orbitRotation={name:"orbitRotation",title:function(g){return o(g,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:w["3d_rotate"],click:n},t.tableRotation={name:"tableRotation",title:function(g){return o(g,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:w["z-axis"],click:n},t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(g){return o(g,"Reset camera to default")},attr:"resetDefault",icon:w.home,click:r},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(g){return o(g,"Reset camera to last save")},attr:"resetLastSave",icon:w.movie,click:r},t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(g){return o(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:w.tooltip_basic,gravity:"ne",click:function(g,p){var v=s(g,p);A.call("_guiRelayout",g,v)}},t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(g){return o(g,"Zoom in")},attr:"zoom",val:"in",icon:w.zoom_plus,click:l},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(g){return o(g,"Zoom out")},attr:"zoom",val:"out",icon:w.zoom_minus,click:l},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(g){return o(g,"Reset")},attr:"reset",val:null,icon:w.autoscale,click:l},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(g){return o(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:w.tooltip_basic,gravity:"ne",click:d},t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(g){return o(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:w.tooltip_basic,gravity:"ne",click:d},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(g){return o(g,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:w.tooltip_basic,gravity:"ne",click:d},t.resetViewSankey={name:"resetSankeyGroup",title:function(g){return o(g,"Reset view")},icon:w.home,click:function(g){for(var p={"node.groups":[],"node.x":[],"node.y":[]},v=0;v<g._fullData.length;v++){var y=g._fullData[v]._viewInitial;p["node.groups"].push(y.node.groups.slice()),p["node.x"].push(y.node.x.slice()),p["node.y"].push(y.node.y.slice())}A.call("restyle",g,p)}},t.toggleHover={name:"toggleHover",title:function(g){return o(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:w.tooltip_basic,gravity:"ne",click:function(g,p){var v=s(g,p);v.hovermode=u(g),A.call("_guiRelayout",g,v)}},t.resetViews={name:"resetViews",title:function(g){return o(g,"Reset views")},icon:w.home,click:function(g,p){var v=p.currentTarget;v.setAttribute("data-attr","zoom"),v.setAttribute("data-val","reset"),i(g,p),v.setAttribute("data-attr","resetLastSave"),r(g,p),x(g,"geo"),x(g,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(g){return o(g,"Toggle Spike Lines")},icon:w.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(g){var p=g._fullLayout,v=p._cartesianSpikesEnabled;p._cartesianSpikesEnabled=v==="on"?"off":"on",A.call("_guiRelayout",g,function(y){for(var m=y._fullLayout._cartesianSpikesEnabled==="on",_=a.list(y,null,!0),f={},S=0;S<_.length;S++){var T=_[S];f[T._name+".showspikes"]=!!m||T._showSpikeInitial}return f}(g))}},t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(g){return o(g,"Reset view")},attr:"reset",icon:w.home,click:function(g){x(g,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(g){return o(g,"Zoom in")},attr:"zoom",val:"in",icon:w.zoom_plus,click:c},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(g){return o(g,"Zoom out")},attr:"zoom",val:"out",icon:w.zoom_minus,click:c}},76052:function(Y,P,e){var A=e(44248),k=Object.keys(A),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],w=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),b=[];k.forEach(function(h){(function(o){if(w.indexOf(o._cat||o.name)===-1){var t=o.name,i=(o._cat||o.name).toLowerCase();b.indexOf(t)===-1&&b.push(t),b.indexOf(i)===-1&&b.push(i)}})(A[h])}),b.sort(),Y.exports={DRAW_MODES:a,backButtons:w,foreButtons:b}},90824:function(Y,P,e){var A=e(3400),k=e(76308),a=e(31780),w=e(66540);Y.exports=function(b,h){var o=b.modebar||{},t=a.newContainer(h,"modebar");function i(r,s){return A.coerce(o,t,w,r,s)}i("orientation"),i("bgcolor",k.addOpacity(h.paper_bgcolor,.5));var n=k.contrast(k.rgb(h.modebar.bgcolor));i("color",k.addOpacity(n,.3)),i("activecolor",k.addOpacity(n,.7)),i("uirevision",h.uirevision),i("add"),i("remove")}},45460:function(Y,P,e){Y.exports={moduleType:"component",name:"modebar",layoutAttributes:e(66540),supplyLayoutDefaults:e(90824),manage:e(18816)}},18816:function(Y,P,e){var A=e(79811),k=e(43028),a=e(24040),w=e(10624).isUnifiedHover,b=e(66400),h=e(44248),o=e(76052).DRAW_MODES,t=e(3400).extendDeep;Y.exports=function(i){var n=i._fullLayout,r=i._context,s=n._modeBar;if(r.displayModeBar||r.watermark){if(!Array.isArray(r.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(r.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var l,u=r.modeBarButtons;l=Array.isArray(u)&&u.length?function(d){for(var c=t([],d),x=0;x<c.length;x++)for(var g=c[x],p=0;p<g.length;p++){var v=g[p];if(typeof v=="string"){if(h[v]===void 0)throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));c[x][p]=h[v]}}return c}(u):!r.displayModeBar&&r.watermark?[]:function(d){var c=d._fullLayout,x=d._fullData,g=d._context;function p(ce,pe){if(typeof pe=="string"){if(pe.toLowerCase()===ce.toLowerCase())return!0}else{var ge=pe.name,me=pe._cat||pe.name;if(ge===ce||me===ce.toLowerCase())return!0}return!1}var v=c.modebar.add;typeof v=="string"&&(v=[v]);var y=c.modebar.remove;typeof y=="string"&&(y=[y]);var m=g.modeBarButtonsToAdd.concat(v.filter(function(ce){for(var pe=0;pe<g.modeBarButtonsToRemove.length;pe++)if(p(ce,g.modeBarButtonsToRemove[pe]))return!1;return!0})),_=g.modeBarButtonsToRemove.concat(y.filter(function(ce){for(var pe=0;pe<g.modeBarButtonsToAdd.length;pe++)if(p(ce,g.modeBarButtonsToAdd[pe]))return!1;return!0})),f=c._has("cartesian"),S=c._has("gl3d"),T=c._has("geo"),E=c._has("pie"),C=c._has("funnelarea"),O=c._has("gl2d"),I=c._has("ternary"),z=c._has("mapbox"),U=c._has("polar"),D=c._has("smith"),B=c._has("sankey"),Z=function(ce){for(var pe=A.list({_fullLayout:ce},null,!0),ge=0;ge<pe.length;ge++)if(!pe[ge].fixedrange)return!1;return!0}(c),F=w(c.hovermode),j=[];function V(ce){if(ce.length){for(var pe=[],ge=0;ge<ce.length;ge++){for(var me=ce[ge],ve=h[me],Me=ve.name.toLowerCase(),_e=(ve._cat||ve.name).toLowerCase(),we=!1,oe=0;oe<_.length;oe++){var se=_[oe].toLowerCase();if(se===Me||se===_e){we=!0;break}}we||pe.push(h[me])}j.push(pe)}}var te=["toImage"];g.showEditInChartStudio?te.push("editInChartStudio"):g.showSendToCloud&&te.push("sendDataToCloud"),V(te);var Q=[],$=[],G=[],X=[];(f||O||E||C||I)+T+S+z+U+D>1?($=["toggleHover"],G=["resetViews"]):T?(Q=["zoomInGeo","zoomOutGeo"],$=["hoverClosestGeo"],G=["resetGeo"]):S?($=["hoverClosest3d"],G=["resetCameraDefault3d","resetCameraLastSave3d"]):z?(Q=["zoomInMapbox","zoomOutMapbox"],$=["toggleHover"],G=["resetViewMapbox"]):O?$=["hoverClosestGl2d"]:E?$=["hoverClosestPie"]:B?($=["hoverClosestCartesian","hoverCompareCartesian"],G=["resetViewSankey"]):$=["toggleHover"],f&&($=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(ce){for(var pe=0;pe<ce.length;pe++)if(!a.traceIs(ce[pe],"noHover"))return!1;return!0}(x)||F)&&($=[]),!f&&!O||Z||(Q=["zoomIn2d","zoomOut2d","autoScale2d"],G[0]!=="resetViews"&&(G=["resetScale2d"])),S?X=["zoom3d","pan3d","orbitRotation","tableRotation"]:(f||O)&&!Z||I?X=["zoom2d","pan2d"]:z||T?X=["pan2d"]:U&&(X=["zoom2d"]),function(ce){for(var pe=!1,ge=0;ge<ce.length&&!pe;ge++){var me=ce[ge];me._module&&me._module.selectPoints&&(a.traceIs(me,"scatter-like")?(k.hasMarkers(me)||k.hasText(me))&&(pe=!0):a.traceIs(me,"box-violin")&&me.boxpoints!=="all"&&me.points!=="all"||(pe=!0))}return pe}(x)&&X.push("select2d","lasso2d");var J=[],ne=function(ce){J.indexOf(ce)===-1&&$.indexOf(ce)!==-1&&J.push(ce)};if(Array.isArray(m)){for(var ie=[],ae=0;ae<m.length;ae++){var le=m[ae];typeof le=="string"?(le=le.toLowerCase(),o.indexOf(le)!==-1?(c._has("mapbox")||c._has("cartesian"))&&X.push(le):le==="togglespikelines"?ne("toggleSpikelines"):le==="togglehover"?ne("toggleHover"):le==="hovercompare"?ne("hoverCompareCartesian"):le==="hoverclosest"?(ne("hoverClosestCartesian"),ne("hoverClosestGeo"),ne("hoverClosest3d"),ne("hoverClosestGl2d"),ne("hoverClosestPie")):le==="v1hovermode"&&(ne("toggleHover"),ne("hoverClosestCartesian"),ne("hoverCompareCartesian"),ne("hoverClosestGeo"),ne("hoverClosest3d"),ne("hoverClosestGl2d"),ne("hoverClosestPie"))):ie.push(le)}m=ie}return V(X),V(Q.concat(G)),V(J),function(ce,pe){if(pe.length)if(Array.isArray(pe[0]))for(var ge=0;ge<pe.length;ge++)ce.push(pe[ge]);else ce.push(pe);return ce}(j,m)}(i),s?s.update(i,l):n._modeBar=b(i,l)}else s&&(s.destroy(),delete n._modeBar)}},66400:function(Y,P,e){var A=e(33428),k=e(38248),a=e(3400),w=e(9224),b=e(25788).version,h=new DOMParser;function o(i){this.container=i.container,this.element=document.createElement("div"),this.update(i.graphInfo,i.buttons),this.container.appendChild(this.element)}var t=o.prototype;t.update=function(i,n){this.graphInfo=i;var r=this.graphInfo._context,s=this.graphInfo._fullLayout,l="modebar-"+s._uid;this.element.setAttribute("id",l),this._uid=l,this.element.className="modebar",r.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),s.modebar.orientation==="v"&&(this.element.className+=" vertical",n=n.reverse());var u=s.modebar,d=r.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(l),a.addRelatedStyleRule(l,d+"#"+l+" .modebar-group","background-color: "+u.bgcolor),a.addRelatedStyleRule(l,"#"+l+" .modebar-btn .icon path","fill: "+u.color),a.addRelatedStyleRule(l,"#"+l+" .modebar-btn:hover .icon path","fill: "+u.activecolor),a.addRelatedStyleRule(l,"#"+l+" .modebar-btn.active .icon path","fill: "+u.activecolor);var c=!this.hasButtons(n),x=this.hasLogo!==r.displaylogo,g=this.locale!==r.locale;if(this.locale=r.locale,(c||x||g)&&(this.removeAllButtons(),this.updateButtons(n),r.watermark||r.displaylogo)){var p=this.getLogo();r.watermark&&(p.className=p.className+" watermark"),s.modebar.orientation==="v"?this.element.insertBefore(p,this.element.childNodes[0]):this.element.appendChild(p),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(i){var n=this;this.buttons=i,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(r){var s=n.createGroup();r.forEach(function(l){var u=l.name;if(!u)throw new Error("must provide button 'name' in button config");if(n.buttonsNames.indexOf(u)!==-1)throw new Error("button name '"+u+"' is taken");n.buttonsNames.push(u);var d=n.createButton(l);n.buttonElements.push(d),s.appendChild(d)}),n.element.appendChild(s)})},t.createGroup=function(){var i=document.createElement("div");return i.className="modebar-group",i},t.createButton=function(i){var n=this,r=document.createElement("a");r.setAttribute("rel","tooltip"),r.className="modebar-btn";var s=i.title;s===void 0?s=i.name:typeof s=="function"&&(s=s(this.graphInfo)),(s||s===0)&&r.setAttribute("data-title",s),i.attr!==void 0&&r.setAttribute("data-attr",i.attr);var l=i.val;if(l!==void 0&&(typeof l=="function"&&(l=l(this.graphInfo)),r.setAttribute("data-val",l)),typeof i.click!="function")throw new Error("must provide button 'click' function in button config");r.addEventListener("click",function(d){i.click(n.graphInfo,d),n.updateActiveButton(d.currentTarget)}),r.setAttribute("data-toggle",i.toggle||!1),i.toggle&&A.select(r).classed("active",!0);var u=i.icon;return typeof u=="function"?r.appendChild(u()):r.appendChild(this.createIcon(u||w.question)),r.setAttribute("data-gravity",i.gravity||"n"),r},t.createIcon=function(i){var n,r=k(i.height)?Number(i.height):i.ascent-i.descent,s="http://www.w3.org/2000/svg";if(i.path){(n=document.createElementNS(s,"svg")).setAttribute("viewBox",[0,0,i.width,r].join(" ")),n.setAttribute("class","icon");var l=document.createElementNS(s,"path");l.setAttribute("d",i.path),i.transform?l.setAttribute("transform",i.transform):i.ascent!==void 0&&l.setAttribute("transform","matrix(1 0 0 -1 0 "+i.ascent+")"),n.appendChild(l)}return i.svg&&(n=h.parseFromString(i.svg,"application/xml").childNodes[0]),n.setAttribute("height","1em"),n.setAttribute("width","1em"),n},t.updateActiveButton=function(i){var n=this.graphInfo._fullLayout,r=i!==void 0?i.getAttribute("data-attr"):null;this.buttonElements.forEach(function(s){var l=s.getAttribute("data-val")||!0,u=s.getAttribute("data-attr"),d=s.getAttribute("data-toggle")==="true",c=A.select(s);if(d)u===r&&c.classed("active",!c.classed("active"));else{var x=u===null?u:a.nestedProperty(n,u).get();c.classed("active",x===l)}})},t.hasButtons=function(i){var n=this.buttons;if(!n||i.length!==n.length)return!1;for(var r=0;r<i.length;++r){if(i[r].length!==n[r].length)return!1;for(var s=0;s<i[r].length;s++)if(i[r][s].name!==n[r][s].name)return!1}return!0},t.getLogo=function(){var i=this.createGroup(),n=document.createElement("a");return n.href="https://plotly.com/",n.target="_blank",n.setAttribute("data-title",a._(this.graphInfo,"Produced with Plotly.js")+" (v"+b+")"),n.className="modebar-btn plotlyjsicon modebar-btn--logo",n.appendChild(this.createIcon(w.newplotlylogo)),i.appendChild(n),i},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)},Y.exports=function(i,n){var r=i._fullLayout,s=new o({graphInfo:i,container:r._modebardiv.node(),buttons:n});return r._privateplot&&A.select(s.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),s}},26680:function(Y,P,e){var A=e(25376),k=e(22548),a=(0,e(31780).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});Y.exports={visible:{valType:"boolean",editType:"plot"},buttons:a,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:A({editType:"plot"}),bgcolor:{valType:"color",dflt:k.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:k.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},85984:function(Y){Y.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},22148:function(Y,P,e){var A=e(3400),k=e(76308),a=e(31780),w=e(51272),b=e(26680),h=e(85984);function o(t,i,n,r){var s=r.calendar;function l(d,c){return A.coerce(t,i,b.buttons,d,c)}if(l("visible")){var u=l("step");u!=="all"&&(!s||s==="gregorian"||u!=="month"&&u!=="year"?l("stepmode"):i.stepmode="backward",l("count")),l("label")}}Y.exports=function(t,i,n,r,s){var l=t.rangeselector||{},u=a.newContainer(i,"rangeselector");function d(g,p){return A.coerce(l,u,b,g,p)}if(d("visible",w(l,u,{name:"buttons",handleItemDefaults:o,calendar:s}).length>0)){var c=function(g,p,v){for(var y=v.filter(function(S){return p[S].anchor===g._id}),m=0,_=0;_<y.length;_++){var f=p[y[_]].domain;f&&(m=Math.max(f[1],m))}return[g.domain[0],m+h.yPad]}(i,n,r);d("x",c[0]),d("y",c[1]),A.noneOrAll(t,i,["x","y"]),d("xanchor"),d("yanchor"),A.coerceFont(d,"font",n.font);var x=d("bgcolor");d("activecolor",k.contrast(x,h.lightAmount,h.darkAmount)),d("bordercolor"),d("borderwidth")}}},50216:function(Y,P,e){var A=e(33428),k=e(24040),a=e(7316),w=e(76308),b=e(43616),h=e(3400),o=h.strTranslate,t=e(72736),i=e(79811),n=e(84284),r=n.LINE_SPACING,s=n.FROM_TL,l=n.FROM_BR,u=e(85984),d=e(48040);function c(p){return p._id}function x(p,v,y){var m=h.ensureSingle(p,"rect","selector-rect",function(_){_.attr("shape-rendering","crispEdges")});m.attr({rx:u.rx,ry:u.ry}),m.call(w.stroke,v.bordercolor).call(w.fill,function(_,f){return f._isActive||f._isHovered?_.activecolor:_.bgcolor}(v,y)).style("stroke-width",v.borderwidth+"px")}function g(p,v,y,m){var _,f;h.ensureSingle(p,"text","selector-text",function(S){S.attr("text-anchor","middle")}).call(b.font,v.font).text((_=y,f=m._fullLayout._meta,_.label?f?h.templateString(_.label,f):_.label:_.step==="all"?"all":_.count+_.step.charAt(0))).call(function(S){t.convertToTspans(S,m)})}Y.exports=function(p){var v=p._fullLayout._infolayer.selectAll(".rangeselector").data(function(y){for(var m=i.list(y,"x",!0),_=[],f=0;f<m.length;f++){var S=m[f];S.rangeselector&&S.rangeselector.visible&&_.push(S)}return _}(p),c);v.enter().append("g").classed("rangeselector",!0),v.exit().remove(),v.style({cursor:"pointer","pointer-events":"all"}),v.each(function(y){var m=A.select(this),_=y,f=_.rangeselector,S=m.selectAll("g.button").data(h.filterVisible(f.buttons));S.enter().append("g").classed("button",!0),S.exit().remove(),S.each(function(T){var E=A.select(this),C=d(_,T);T._isActive=function(O,I,z){if(I.step==="all")return O.autorange===!0;var U=Object.keys(z);return O.range[0]===z[U[0]]&&O.range[1]===z[U[1]]}(_,T,C),E.call(x,f,T),E.call(g,f,T,p),E.on("click",function(){p._dragged||k.call("_guiRelayout",p,C)}),E.on("mouseover",function(){T._isHovered=!0,E.call(x,f,T)}),E.on("mouseout",function(){T._isHovered=!1,E.call(x,f,T)})}),function(T,E,C,O,I){var z=0,U=0,D=C.borderwidth;E.each(function(){var te=A.select(this).select(".selector-text"),Q=C.font.size*r,$=Math.max(Q*t.lineCount(te),16)+3;U=Math.max(U,$)}),E.each(function(){var te=A.select(this),Q=te.select(".selector-rect"),$=te.select(".selector-text"),G=$.node()&&b.bBox($.node()).width,X=C.font.size*r,J=t.lineCount($),ne=Math.max(G+10,u.minButtonWidth);te.attr("transform",o(D+z,D)),Q.attr({x:0,y:0,width:ne,height:U}),t.positionText($,ne/2,U/2-(J-1)*X/2+3),z+=ne+5});var B=T._fullLayout._size,Z=B.l+B.w*C.x,F=B.t+B.h*(1-C.y),j="left";h.isRightAnchor(C)&&(Z-=z,j="right"),h.isCenterAnchor(C)&&(Z-=z/2,j="center");var V="top";h.isBottomAnchor(C)&&(F-=U,V="bottom"),h.isMiddleAnchor(C)&&(F-=U/2,V="middle"),z=Math.ceil(z),U=Math.ceil(U),Z=Math.round(Z),F=Math.round(F),a.autoMargin(T,O+"-range-selector",{x:C.x,y:C.y,l:z*s[j],r:z*l[j],b:U*l[V],t:U*s[V]}),I.attr("transform",o(Z,F))}(p,S,f,_._name,m)})}},48040:function(Y,P,e){var A=e(73220),k=e(3400).titleCase;Y.exports=function(a,w){var b=a._name,h={};if(w.step==="all")h[b+".autorange"]=!0;else{var o=function(t,i){var n,r=t.range,s=new Date(t.r2l(r[1])),l=i.step,u=A["utc"+k(l)],d=i.count;switch(i.stepmode){case"backward":n=t.l2r(+u.offset(s,-d));break;case"todate":var c=u.offset(s,-d);n=t.l2r(+u.ceil(c))}return[n,r[1]]}(a,w);h[b+".range[0]"]=o[0],h[b+".range[1]"]=o[1]}return h}},41152:function(Y,P,e){Y.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(26680)}}},layoutAttributes:e(26680),handleDefaults:e(22148),draw:e(50216)}},11200:function(Y,P,e){var A=e(22548);Y.exports={bgcolor:{valType:"color",dflt:A.background,editType:"plot"},bordercolor:{valType:"color",dflt:A.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},26652:function(Y,P,e){var A=e(79811).list,k=e(19280).getAutoRange,a=e(74636);Y.exports=function(w){for(var b=A(w,"x",!0),h=0;h<b.length;h++){var o=b[h],t=o[a.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=k(w,o))}}},74636:function(Y){Y.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},94040:function(Y,P,e){var A=e(3400),k=e(31780),a=e(79811),w=e(11200),b=e(10936);Y.exports=function(h,o,t){var i=h[t],n=o[t];if(i.rangeslider||o._requestRangeslider[n._id]){A.isPlainObject(i.rangeslider)||(i.rangeslider={});var r,s,l=i.rangeslider,u=k.newContainer(n,"rangeslider");if(m("visible")){m("bgcolor",o.plot_bgcolor),m("bordercolor"),m("borderwidth"),m("thickness"),m("autorange",!n.isValidRange(l.range)),m("range");var d=o._subplots;if(d)for(var c=d.cartesian.filter(function(f){return f.substr(0,f.indexOf("y"))===a.name2id(t)}).map(function(f){return f.substr(f.indexOf("y"),f.length)}),x=A.simpleMap(c,a.id2name),g=0;g<x.length;g++){var p=x[g];r=l[p]||{},s=k.newContainer(u,p,"yaxis");var v,y=o[p];r.range&&y.isValidRange(r.range)&&(v="fixed"),_("rangemode",v)!=="match"&&_("range",y.range.slice())}u._input=l}}function m(f,S){return A.coerce(l,u,w,f,S)}function _(f,S){return A.coerce(r,s,b,f,S)}}},20060:function(Y,P,e){var A=e(33428),k=e(24040),a=e(7316),w=e(3400),b=w.strTranslate,h=e(43616),o=e(76308),t=e(81668),i=e(57952),n=e(79811),r=e(86476),s=e(93972),l=e(74636);function u(y){return typeof y.clientX=="number"?y.clientX:y.touches&&y.touches.length>0?y.touches[0].clientX:0}function d(y,m,_,f){var S=w.ensureSingle(y,"rect",l.bgClassName,function(O){O.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),T=f.borderwidth%2==0?f.borderwidth:f.borderwidth-1,E=-f._offsetShift,C=h.crispRound(m,f.borderwidth);S.attr({width:f._width+T,height:f._height+T,transform:b(E,E),"stroke-width":C}).call(o.stroke,f.bordercolor).call(o.fill,f.bgcolor)}function c(y,m,_,f){var S=m._fullLayout;w.ensureSingleById(S._topdefs,"clipPath",f._clipId,function(T){T.append("rect").attr({x:0,y:0})}).select("rect").attr({width:f._width,height:f._height})}function x(y,m,_,f){var S,T=m.calcdata,E=y.selectAll("g."+l.rangePlotClassName).data(_._subplotsWith,w.identity);E.enter().append("g").attr("class",function(C){return l.rangePlotClassName+" "+C}).call(h.setClipUrl,f._clipId,m),E.order(),E.exit().remove(),E.each(function(C,O){var I=A.select(this),z=O===0,U=n.getFromId(m,C,"y"),D=U._name,B=f[D],Z={data:[],layout:{xaxis:{type:_.type,domain:[0,1],range:f.range.slice(),calendar:_.calendar},width:f._width,height:f._height,margin:{t:0,b:0,l:0,r:0}},_context:m._context};_.rangebreaks&&(Z.layout.xaxis.rangebreaks=_.rangebreaks),Z.layout[D]={type:U.type,domain:[0,1],range:B.rangemode!=="match"?B.range.slice():U.range.slice(),calendar:U.calendar},U.rangebreaks&&(Z.layout[D].rangebreaks=U.rangebreaks),a.supplyDefaults(Z);var F=Z._fullLayout.xaxis,j=Z._fullLayout[D];F.clearCalc(),F.setScale(),j.clearCalc(),j.setScale();var V={id:C,plotgroup:I,xaxis:F,yaxis:j,isRangePlot:!0};z?S=V:(V.mainplot="xy",V.mainplotinfo=S),i.rangePlot(m,V,function(te,Q){for(var $=[],G=0;G<te.length;G++){var X=te[G],J=X[0].trace;J.xaxis+J.yaxis===Q&&$.push(X)}return $}(T,C))})}function g(y,m,_,f,S){w.ensureSingle(y,"rect",l.maskMinClassName,function(T){T.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",f._height).call(o.fill,l.maskColor),w.ensureSingle(y,"rect",l.maskMaxClassName,function(T){T.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",f._height).call(o.fill,l.maskColor),S.rangemode!=="match"&&(w.ensureSingle(y,"rect",l.maskMinOppAxisClassName,function(T){T.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",f._width).call(o.fill,l.maskOppAxisColor),w.ensureSingle(y,"rect",l.maskMaxOppAxisClassName,function(T){T.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",f._width).style("border-top",l.maskOppBorder).call(o.fill,l.maskOppAxisColor))}function p(y,m,_,f){m._context.staticPlot||w.ensureSingle(y,"rect",l.slideBoxClassName,function(S){S.attr({y:0,cursor:l.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:f._height,fill:l.slideBoxFill})}function v(y,m,_,f){var S=w.ensureSingle(y,"g",l.grabberMinClassName),T=w.ensureSingle(y,"g",l.grabberMaxClassName),E={x:0,width:l.handleWidth,rx:l.handleRadius,fill:o.background,stroke:o.defaultLine,"stroke-width":l.handleStrokeWidth,"shape-rendering":"crispEdges"},C={y:Math.round(f._height/4),height:Math.round(f._height/2)};w.ensureSingle(S,"rect",l.handleMinClassName,function(I){I.attr(E)}).attr(C),w.ensureSingle(T,"rect",l.handleMaxClassName,function(I){I.attr(E)}).attr(C);var O={width:l.grabAreaWidth,x:0,y:0,fill:l.grabAreaFill,cursor:m._context.staticPlot?void 0:l.grabAreaCursor};w.ensureSingle(S,"rect",l.grabAreaMinClassName,function(I){I.attr(O)}).attr("height",f._height),w.ensureSingle(T,"rect",l.grabAreaMaxClassName,function(I){I.attr(O)}).attr("height",f._height)}Y.exports=function(y){for(var m=y._fullLayout,_=m._rangeSliderData,f=0;f<_.length;f++){var S=_[f][l.name];S._clipId=S._id+"-"+m._uid}var T=m._infolayer.selectAll("g."+l.containerClassName).data(_,function(E){return E._name});T.exit().each(function(E){var C=E[l.name];m._topdefs.select("#"+C._clipId).remove()}).remove(),_.length!==0&&(T.enter().append("g").classed(l.containerClassName,!0).attr("pointer-events","all"),T.each(function(E){var C=A.select(this),O=E[l.name],I=m[n.id2name(E.anchor)],z=O[n.id2name(E.anchor)];if(O.range){var U,D=w.simpleMap(O.range,E.r2l),B=w.simpleMap(E.range,E.r2l);U=B[0]<B[1]?[Math.min(D[0],B[0]),Math.max(D[1],B[1])]:[Math.max(D[0],B[0]),Math.min(D[1],B[1])],O.range=O._input.range=w.simpleMap(U,E.l2r)}E.cleanRange("rangeslider.range");var Z=m._size,F=E.domain;O._width=Z.w*(F[1]-F[0]);var j=Math.round(Z.l+Z.w*F[0]),V=Math.round(Z.t+Z.h*(1-E._counterDomainMin)+(E.side==="bottom"?E._depth:0)+O._offsetShift+l.extraPad);C.attr("transform",b(j,V)),O._rl=w.simpleMap(O.range,E.r2l);var te=O._rl[0],Q=O._rl[1],$=Q-te;if(O.p2d=function(pe){return pe/O._width*$+te},O.d2p=function(pe){return(pe-te)/$*O._width},E.rangebreaks){var G=E.locateBreaks(te,Q);if(G.length){var X,J,ne=0;for(X=0;X<G.length;X++)ne+=(J=G[X]).max-J.min;var ie=O._width/(Q-te-ne),ae=[-ie*te];for(X=0;X<G.length;X++)J=G[X],ae.push(ae[ae.length-1]-ie*(J.max-J.min));for(O.d2p=function(pe){for(var ge=ae[0],me=0;me<G.length;me++){var ve=G[me];if(pe>=ve.max)ge=ae[me+1];else if(pe<ve.min)break}return ge+ie*pe},X=0;X<G.length;X++)(J=G[X]).pmin=O.d2p(J.min),J.pmax=O.d2p(J.max);O.p2d=function(pe){for(var ge=ae[0],me=0;me<G.length;me++){var ve=G[me];if(pe>=ve.pmax)ge=ae[me+1];else if(pe<ve.pmin)break}return(pe-ge)/ie}}}if(z.rangemode!=="match"){var le=I.r2l(z.range[0]),ce=I.r2l(z.range[1])-le;O.d2pOppAxis=function(pe){return(pe-le)/ce*O._height}}C.call(d,y,E,O).call(c,y,E,O).call(x,y,E,O).call(g,y,E,O,z).call(p,y,E,O).call(v,y,E,O),function(pe,ge,me,ve){if(!ge._context.staticPlot){var Me=pe.select("rect."+l.slideBoxClassName).node(),_e=pe.select("rect."+l.grabAreaMinClassName).node(),we=pe.select("rect."+l.grabAreaMaxClassName).node();pe.on("mousedown",oe),pe.on("touchstart",oe)}function oe(){var se=A.event,de=se.target,Ee=u(se),Te=Ee-pe.node().getBoundingClientRect().left,Se=ve.d2p(me._rl[0]),Le=ve.d2p(me._rl[1]),Oe=r.coverSlip();function he(ke){var Re,ze,Ie,He=+u(ke)-Ee;switch(de){case Me:if(Ie="ew-resize",Se+He>me._length||Le+He<0)return;Re=Se+He,ze=Le+He;break;case _e:if(Ie="col-resize",Se+He>me._length)return;Re=Se+He,ze=Le;break;case we:if(Ie="col-resize",Le+He<0)return;Re=Se,ze=Le+He;break;default:Ie="ew-resize",Re=Te,ze=Te+He}if(ze<Re){var qe=ze;ze=Re,Re=qe}ve._pixelMin=Re,ve._pixelMax=ze,s(A.select(Oe),Ie),function(Je,st,it,vt){function _t(nt){return it.l2r(w.constrain(nt,vt._rl[0],vt._rl[1]))}var xt=_t(vt.p2d(vt._pixelMin)),et=_t(vt.p2d(vt._pixelMax));window.requestAnimationFrame(function(){k.call("_guiRelayout",st,it._name+".range",[xt,et])})}(0,ge,me,ve)}function xe(){Oe.removeEventListener("mousemove",he),Oe.removeEventListener("mouseup",xe),this.removeEventListener("touchmove",he),this.removeEventListener("touchend",xe),w.removeElement(Oe)}this.addEventListener("touchmove",he),this.addEventListener("touchend",xe),Oe.addEventListener("mousemove",he),Oe.addEventListener("mouseup",xe)}}(C,y,E,O),function(pe,ge,me,ve,Me,_e){var we=l.handleWidth/2;function oe(ke){return w.constrain(ke,0,ve._width)}function se(ke){return w.constrain(ke,0,ve._height)}function de(ke){return w.constrain(ke,-we,ve._width+we)}var Ee=oe(ve.d2p(me._rl[0])),Te=oe(ve.d2p(me._rl[1]));if(pe.select("rect."+l.slideBoxClassName).attr("x",Ee).attr("width",Te-Ee),pe.select("rect."+l.maskMinClassName).attr("width",Ee),pe.select("rect."+l.maskMaxClassName).attr("x",Te).attr("width",ve._width-Te),_e.rangemode!=="match"){var Se=ve._height-se(ve.d2pOppAxis(Me._rl[1])),Le=ve._height-se(ve.d2pOppAxis(Me._rl[0]));pe.select("rect."+l.maskMinOppAxisClassName).attr("x",Ee).attr("height",Se).attr("width",Te-Ee),pe.select("rect."+l.maskMaxOppAxisClassName).attr("x",Ee).attr("y",Le).attr("height",ve._height-Le).attr("width",Te-Ee),pe.select("rect."+l.slideBoxClassName).attr("y",Se).attr("height",Le-Se)}var Oe=.5,he=Math.round(de(Ee-we))-Oe,xe=Math.round(de(Te-we))+Oe;pe.select("g."+l.grabberMinClassName).attr("transform",b(he,Oe)),pe.select("g."+l.grabberMaxClassName).attr("transform",b(xe,Oe))}(C,0,E,O,I,z),E.side==="bottom"&&t.draw(y,E._id+"title",{propContainer:E,propName:E._name+".title",placeholder:m._dfltTitle.x,attributes:{x:E._offset+E._length/2,y:V+O._height+O._offsetShift+10+1.5*E.title.font.size,"text-anchor":"middle"}})}))}},97944:function(Y,P,e){var A=e(79811),k=e(72736),a=e(74636),w=e(84284).LINE_SPACING,b=a.name;function h(o){var t=o&&o[b];return t&&t.visible}P.isVisible=h,P.makeData=function(o){var t=A.list({_fullLayout:o},"x",!0),i=o.margin,n=[];if(!o._has("gl2d"))for(var r=0;r<t.length;r++){var s=t[r];if(h(s)){n.push(s);var l=s[b];l._id=b+s._id,l._height=(o.height-i.b-i.t)*l.thickness,l._offsetShift=Math.floor(l.borderwidth/2)}}o._rangeSliderData=n},P.autoMarginOpts=function(o,t){var i=o._fullLayout,n=t[b],r=t._id.charAt(0),s=0,l=0;return t.side==="bottom"&&(s=t._depth,t.title.text!==i._dfltTitle[r]&&(l=1.5*t.title.font.size+10+n._offsetShift,l+=(t.title.text.match(k.BR_TAG_ALL)||[]).length*t.title.font.size*w)),{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:n._height+s+Math.max(i.margin.b,l),pad:a.extraPad+2*n._offsetShift}}},49692:function(Y,P,e){var A=e(3400),k=e(11200),a=e(10936),w=e(97944);Y.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:A.extendFlat({},k,{yaxis:a})}}},layoutAttributes:e(11200),handleDefaults:e(94040),calcAutorange:e(26652),draw:e(20060),isVisible:w.isVisible,makeData:w.makeData,autoMarginOpts:w.autoMarginOpts}},10936:function(Y){Y.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},93956:function(Y,P,e){var A=e(13916),k=e(52904).line,a=e(98192).u,w=e(92880).extendFlat,b=e(67824).overrideAll,h=e(31780).templatedArray;e(36208),Y.exports=b(h("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:w({},A.xref,{}),yref:w({},A.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:k.color,width:w({},k.width,{min:1,dflt:1}),dash:w({},a,{dflt:"dot"})}}),"arraydraw","from-root")},83280:function(Y){Y.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},74224:function(Y,P,e){var A=e(3400),k=e(54460),a=e(51272),w=e(93956),b=e(65152);function h(o,t,i){function n(E,C){return A.coerce(o,t,w,E,C)}var r=n("path"),s=n("type",r?"path":"rect")!=="path";s&&delete t.path,n("opacity"),n("line.color"),n("line.width"),n("line.dash");for(var l=["x","y"],u=0;u<2;u++){var d,c,x,g=l[u],p={_fullLayout:i},v=k.coerceRef(o,t,p,g);if((d=k.getFromId(p,v))._selectionIndices.push(t._index),x=b.rangeToShapePosition(d),c=b.shapePositionToRange(d),s){var y=g+"0",m=g+"1",_=o[y],f=o[m];o[y]=c(o[y],!0),o[m]=c(o[m],!0),k.coercePosition(t,p,n,v,y),k.coercePosition(t,p,n,v,m);var S=t[y],T=t[m];S!==void 0&&T!==void 0&&(t[y]=x(S),t[m]=x(T),o[y]=_,o[m]=f)}}s&&A.noneOrAll(o,t,["x0","x1","y0","y1"])}Y.exports=function(o,t){a(o,t,{name:"selections",handleItemDefaults:h});for(var i=t.selections,n=0;n<i.length;n++){var r=i[n];r&&r.path===void 0&&(r.x0!==void 0&&r.x1!==void 0&&r.y0!==void 0&&r.y1!==void 0||(t.selections[n]=null))}}},23640:function(Y,P,e){var A=e(9856).readPaths,k=e(55496),a=e(1936).clearOutlineControllers,w=e(76308),b=e(43616),h=e(31780).arrayEditor,o=e(65152),t=o.getPathString;function i(u){var d=u._fullLayout;for(var c in a(u),d._selectionLayer.selectAll("path").remove(),d._plots){var x=d._plots[c].selectionLayer;x&&x.selectAll("path").remove()}for(var g=0;g<d.selections.length;g++)r(u,g)}function n(u){return u._context.editSelection}function r(u,d){u._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+d+'"]').remove();var c=o.makeSelectionsOptionsAndPlotinfo(u,d),x=c.options,g=c.plotinfo;x._input&&function(p){var v=t(u,x),y={"data-index":d,"fill-rule":"evenodd",d:v},m=x.opacity,_="rgba(0,0,0,0)",f=x.line.color||w.contrast(u._fullLayout.plot_bgcolor),S=x.line.width,T=x.line.dash;S||(S=5,T="solid");var E=n(u)&&u._fullLayout._activeSelectionIndex===d;E&&(_=u._fullLayout.activeselection.fillcolor,m=u._fullLayout.activeselection.opacity);for(var C=[],O=1;O>=0;O--){var I=p.append("path").attr(y).style("opacity",O?.1:m).call(w.stroke,f).call(w.fill,_).call(b.dashLine,O?"solid":T,O?4+S:S);if(s(I,u,x),E){var z=h(u.layout,"selections",x);I.style({cursor:"move"});var U={element:I.node(),plotinfo:g,gd:u,editHelpers:z,isActiveSelection:!0},D=A(v,u);k(D,I,U)}else I.style("pointer-events",O?"all":"none");C[O]=I}var B=C[0];C[1].node().addEventListener("click",function(){return function(Z,F){if(n(Z)){var j=+F.node().getAttribute("data-index");if(j>=0){if(j===Z._fullLayout._activeSelectionIndex)return void l(Z);Z._fullLayout._activeSelectionIndex=j,Z._fullLayout._deactivateSelection=l,i(Z)}}}(u,B)})}(u._fullLayout._selectionLayer)}function s(u,d,c){var x=c.xref+c.yref;b.setClipUrl(u,"clip"+d._fullLayout._uid+x,d)}function l(u){n(u)&&u._fullLayout._activeSelectionIndex>=0&&(a(u),delete u._fullLayout._activeSelectionIndex,i(u))}Y.exports={draw:i,drawOne:r,activateLastSelection:function(u){if(n(u)){var d=u._fullLayout.selections.length-1;u._fullLayout._activeSelectionIndex=d,u._fullLayout._deactivateSelection=l,i(u)}}}},34200:function(Y,P,e){var A=e(98192).u,k=e(92880).extendFlat;Y.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:k({},A,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},81004:function(Y){Y.exports=function(P,e,A){A("newselection.mode"),A("newselection.line.width")&&(A("newselection.line.color"),A("newselection.line.dash")),A("activeselection.fillcolor"),A("activeselection.opacity")}},5968:function(Y,P,e){var A=e(72760).selectMode,k=e(1936).clearOutline,a=e(9856),w=a.readPaths,b=a.writePaths,h=a.fixDatesForPaths;Y.exports=function(o,t){if(o.length){var i=o[0][0];if(i){var n=i.getAttribute("d"),r=t.gd,s=r._fullLayout.newselection,l=t.plotinfo,u=l.xaxis,d=l.yaxis,c=t.isActiveSelection,x=t.dragmode,g=(r.layout||{}).selections||[];if(!A(x)&&c!==void 0){var p=r._fullLayout._activeSelectionIndex;if(p<g.length)switch(r._fullLayout.selections[p].type){case"rect":x="select";break;case"path":x="lasso"}}var v,y=w(n,r,l,c),m={xref:u._id,yref:d._id,opacity:s.opacity,line:{color:s.line.color,width:s.line.width,dash:s.line.dash}};y.length===1&&(v=y[0]),v&&v.length===5&&x==="select"?(m.type="rect",m.x0=v[0][1],m.y0=v[0][2],m.x1=v[2][1],m.y1=v[2][2]):(m.type="path",u&&d&&h(y,u,d),m.path=b(y),v=null),k(r);for(var _=t.editHelpers,f=(_||{}).modifyItem,S=[],T=0;T<g.length;T++){var E=r._fullLayout.selections[T];if(E){if(S[T]=E._input,c!==void 0&&T===r._fullLayout._activeSelectionIndex){var C=m;switch(E.type){case"rect":f("x0",C.x0),f("x1",C.x1),f("y0",C.y0),f("y1",C.y1);break;case"path":f("path",C.path)}}}else S[T]=E}return c===void 0?(S.push(m),S):_?_.getUpdateObj():{}}}}},5840:function(Y,P,e){var A=e(3400).strTranslate;function k(a,w){switch(a.type){case"log":return a.p2d(w);case"date":return a.p2r(w,0,a.calendar);default:return a.p2r(w)}}Y.exports={p2r:k,r2p:function(a,w){switch(a.type){case"log":return a.d2p(w);case"date":return a.r2p(w,0,a.calendar);default:return a.r2p(w)}},axValue:function(a){var w=a._id.charAt(0)==="y"?1:0;return function(b){return k(a,b[w])}},getTransform:function(a){return A(a.xaxis._offset,a.yaxis._offset)}}},22676:function(Y,P,e){var A=e(23640),k=e(43156);Y.exports={moduleType:"component",name:"selections",layoutAttributes:e(93956),supplyLayoutDefaults:e(74224),supplyDrawNewSelectionDefaults:e(81004),includeBasePlot:e(36632)("selections"),draw:A.draw,drawOne:A.drawOne,reselect:k.reselect,prepSelect:k.prepSelect,clearOutline:k.clearOutline,clearSelectionsCache:k.clearSelectionsCache,selectOnClick:k.selectOnClick}},43156:function(Y,P,e){var A=e(14756),k=e(61456),a=e(24040),w=e(43616).dashStyle,b=e(76308),h=e(93024),o=e(10624).makeEventData,t=e(72760),i=t.freeMode,n=t.rectMode,r=t.drawMode,s=t.openMode,l=t.selectMode,u=e(65152),d=e(85448),c=e(55496),x=e(1936).clearOutline,g=e(9856),p=g.handleEllipse,v=g.readPaths,y=e(93940).newShapes,m=e(5968),_=e(23640).activateLastSelection,f=e(3400),S=f.sorterAsc,T=e(92065),E=e(91200),C=e(79811).getFromId,O=e(73696),I=e(39172).redrawReglTraces,z=e(83280),U=z.MINSELECT,D=T.filter,B=T.tester,Z=e(5840),F=Z.p2r,j=Z.axValue,V=Z.getTransform;function te(he){return he.subplot!==void 0}function Q(he,xe,ke,Re,ze,Ie,He){var qe,Je,st,it,vt,_t,xt,et,nt,Mt=xe._hoverdata,zt=xe._fullLayout.clickmode.indexOf("event")>-1,Ft=[];if(function(Ye){return Ye&&Array.isArray(Ye)&&Ye[0].hoverOnBox!==!0}(Mt)){J(he,xe,Ie);var Rt=function(Ye,lt){var at,Fe,Be=Ye[0],ot=-1,Xe=[];for(Fe=0;Fe<lt.length;Fe++)if(at=lt[Fe],Be.fullData._expandedIndex===at.cd[0].trace._expandedIndex){if(Be.hoverOnBox===!0)break;Be.pointNumber!==void 0?ot=Be.pointNumber:Be.binNumber!==void 0&&(ot=Be.binNumber,Xe=Be.pointNumbers);break}return{pointNumber:ot,pointNumbers:Xe,searchInfo:at}}(Mt,qe=ae(xe,ke,Re,ze));if(Rt.pointNumbers.length>0?function(Ye,lt){var at,Fe,Be,ot=[];for(Be=0;Be<Ye.length;Be++)(at=Ye[Be]).cd[0].trace.selectedpoints&&at.cd[0].trace.selectedpoints.length>0&&ot.push(at);if(ot.length===1&&ot[0]===lt.searchInfo&&(Fe=lt.searchInfo.cd[0].trace).selectedpoints.length===lt.pointNumbers.length){for(Be=0;Be<lt.pointNumbers.length;Be++)if(Fe.selectedpoints.indexOf(lt.pointNumbers[Be])<0)return!1;return!0}return!1}(qe,Rt):function(Ye){var lt,at,Fe=0;for(at=0;at<Ye.length;at++)if((lt=Ye[at].cd[0].trace).selectedpoints&&(lt.selectedpoints.length>1||(Fe+=lt.selectedpoints.length)>1))return!1;return Fe===1}(qe)&&(_t=ce(Rt))){for(He&&He.remove(),nt=0;nt<qe.length;nt++)(Je=qe[nt])._module.selectPoints(Je,!1);pe(xe,qe),ne(Ie),zt&&Oe(xe)}else{for(xt=he.shiftKey&&(_t!==void 0?_t:ce(Rt)),st=function(Ye,lt,at){return{pointNumber:Ye,searchInfo:lt,subtract:!!at}}(Rt.pointNumber,Rt.searchInfo,xt),it=X(Ie.selectionDefs.concat([st])),nt=0;nt<qe.length;nt++)if(vt=me(qe[nt]._module.selectPoints(qe[nt],it),qe[nt]),Ft.length)for(var We=0;We<vt.length;We++)Ft.push(vt[We]);else Ft=vt;if(pe(xe,qe,et={points:Ft}),st&&Ie&&Ie.selectionDefs.push(st),He){var Ze=Ie.mergedPolygons,Ne=s(Ie.dragmode);c(ve(Ze,Ne),He,Ie)}zt&&Le(xe,et)}}}function $(he){return"pointNumber"in he&&"searchInfo"in he}function G(he){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(xe,ke,Re,ze){var Ie=he.searchInfo.cd[0].trace._expandedIndex;return ze.cd[0].trace._expandedIndex===Ie&&Re===he.pointNumber},isRect:!1,degenerate:!1,subtract:!!he.subtract}}function X(he){if(he.length){for(var xe=[],ke=$(he[0])?0:he[0][0][0],Re=ke,ze=$(he[0])?0:he[0][0][1],Ie=ze,He=0;He<he.length;He++)if($(he[He]))xe.push(G(he[He]));else{var qe=B(he[He]);qe.subtract=!!he[He].subtract,xe.push(qe),ke=Math.min(ke,qe.xmin),Re=Math.max(Re,qe.xmax),ze=Math.min(ze,qe.ymin),Ie=Math.max(Ie,qe.ymax)}return{xmin:ke,xmax:Re,ymin:ze,ymax:Ie,pts:[],contains:function(Je,st,it,vt){for(var _t=!1,xt=0;xt<xe.length;xt++)xe[xt].contains(Je,st,it,vt)&&(_t=!xe[xt].subtract);return _t},isRect:!1,degenerate:!1}}}function J(he,xe,ke){var Re=xe._fullLayout,ze=ke.plotinfo,Ie=ke.dragmode,He=Re._lastSelectedSubplot&&Re._lastSelectedSubplot===ze.id,qe=(he.shiftKey||he.altKey)&&!(r(Ie)&&s(Ie));He&&qe&&ze.selection&&ze.selection.selectionDefs&&!ke.selectionDefs?(ke.selectionDefs=ze.selection.selectionDefs,ke.mergedPolygons=ze.selection.mergedPolygons):qe&&ze.selection||ne(ke),He||(x(xe),Re._lastSelectedSubplot=ze.id)}function ne(he,xe){var ke=he.dragmode,Re=he.plotinfo,ze=he.gd;(function(vt){return vt._fullLayout._activeShapeIndex>=0})(ze)&&ze._fullLayout._deactivateShape(ze),function(vt){return vt._fullLayout._activeSelectionIndex>=0}(ze)&&ze._fullLayout._deactivateSelection(ze);var Ie=ze._fullLayout._zoomlayer,He=r(ke),qe=l(ke);if(He||qe){var Je,st,it=Ie.selectAll(".select-outline-"+Re.id);it&&ze._fullLayout._outlining&&(He&&(Je=y(it,he)),Je&&a.call("_guiRelayout",ze,{shapes:Je}),qe&&!te(he)&&(st=m(it,he)),st&&(ze._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",ze,{selections:st}).then(function(){xe&&_(ze)})),ze._fullLayout._outlining=!1)}Re.selection={},Re.selection.selectionDefs=he.selectionDefs=[],Re.selection.mergedPolygons=he.mergedPolygons=[]}function ie(he){return he._id}function ae(he,xe,ke,Re){if(!he.calcdata)return[];var ze,Ie,He,qe=[],Je=xe.map(ie),st=ke.map(ie);for(He=0;He<he.calcdata.length;He++)if((Ie=(ze=he.calcdata[He])[0].trace).visible===!0&&Ie._module&&Ie._module.selectPoints)if(!te({subplot:Re})||Ie.subplot!==Re&&Ie.geo!==Re)if(Ie.type==="splom"){if(Ie._xaxes[Je[0]]&&Ie._yaxes[st[0]]){var it=le(Ie._module,ze,xe[0],ke[0]);it.scene=he._fullLayout._splomScenes[Ie.uid],qe.push(it)}}else if(Ie.type==="sankey"){var vt=le(Ie._module,ze,xe[0],ke[0]);qe.push(vt)}else{if(!(Je.indexOf(Ie.xaxis)!==-1||Ie._xA&&Ie._xA.overlaying)||!(st.indexOf(Ie.yaxis)!==-1||Ie._yA&&Ie._yA.overlaying))continue;qe.push(le(Ie._module,ze,C(he,Ie.xaxis),C(he,Ie.yaxis)))}else qe.push(le(Ie._module,ze,xe[0],ke[0]));return qe}function le(he,xe,ke,Re){return{_module:he,cd:xe,xaxis:ke,yaxis:Re}}function ce(he){var xe=he.searchInfo.cd[0].trace,ke=he.pointNumber,Re=he.pointNumbers,ze=Re.length>0?Re[0]:ke;return!!xe.selectedpoints&&xe.selectedpoints.indexOf(ze)>-1}function pe(he,xe,ke){var Re,ze;for(Re=0;Re<xe.length;Re++){var Ie=xe[Re].cd[0].trace._fullInput,He=he._fullLayout._tracePreGUI[Ie.uid]||{};He.selectedpoints===void 0&&(He.selectedpoints=Ie._input.selectedpoints||null)}if(ke){var qe=ke.points||[];for(Re=0;Re<xe.length;Re++)(ze=xe[Re].cd[0].trace)._input.selectedpoints=ze._fullInput.selectedpoints=[],ze._fullInput!==ze&&(ze.selectedpoints=[]);for(var Je=0;Je<qe.length;Je++){var st=qe[Je],it=st.data,vt=st.fullData,_t=st.pointIndex,xt=st.pointIndices;xt?([].push.apply(it.selectedpoints,xt),ze._fullInput!==ze&&[].push.apply(vt.selectedpoints,xt)):(it.selectedpoints.push(_t),ze._fullInput!==ze&&vt.selectedpoints.push(_t))}}else for(Re=0;Re<xe.length;Re++)delete(ze=xe[Re].cd[0].trace).selectedpoints,delete ze._input.selectedpoints,ze._fullInput!==ze&&delete ze._fullInput.selectedpoints;(function(et,nt){for(var Mt=!1,zt=0;zt<nt.length;zt++){var Ft=nt[zt],Rt=Ft.cd;a.traceIs(Rt[0].trace,"regl")&&(Mt=!0);var We=Ft._module,Ze=We.styleOnSelect||We.style;Ze&&(Ze(et,Rt,Rt[0].node3),Rt[0].nodeRangePlot3&&Ze(et,Rt,Rt[0].nodeRangePlot3))}Mt&&(O(et),I(et))})(he,xe)}function ge(he,xe,ke){for(var Re=(ke?A.difference:A.union)({regions:he},{regions:[xe]}).regions.reverse(),ze=0;ze<Re.length;ze++){var Ie=Re[ze];Ie.subtract=de(Ie,Re.slice(0,ze))}return Re}function me(he,xe){if(Array.isArray(he))for(var ke=xe.cd,Re=xe.cd[0].trace,ze=0;ze<he.length;ze++)he[ze]=o(he[ze],Re,ke);return he}function ve(he,xe){for(var ke=[],Re=0;Re<he.length;Re++){ke[Re]=[];for(var ze=0;ze<he[Re].length;ze++){ke[Re][ze]=[],ke[Re][ze][0]=ze?"L":"M";for(var Ie=0;Ie<he[Re][ze].length;Ie++)ke[Re][ze].push(he[Re][ze][Ie])}xe||ke[Re].push(["Z",ke[Re][0][1],ke[Re][0][2]])}return ke}function Me(he,xe){for(var ke,Re,ze=[],Ie=[],He=0;He<xe.length;He++){var qe=xe[He];Re=qe._module.selectPoints(qe,he),Ie.push(Re),ke=me(Re,qe),ze=ze.concat(ke)}return ze}function _e(he,xe,ke,Re,ze){var Ie,He,qe,Je=!!Re;ze&&(Ie=ze.plotinfo,He=ze.xaxes[0]._id,qe=ze.yaxes[0]._id);var st=[],it=[],vt=se(he),_t=he._fullLayout;if(Ie){var xt=_t._zoomlayer,et=_t.dragmode,nt=r(et),Mt=l(et);if(nt||Mt){var zt=C(he,He,"x"),Ft=C(he,qe,"y");if(zt&&Ft){var Rt=xt.selectAll(".select-outline-"+Ie.id);if(Rt&&he._fullLayout._outlining&&Rt.length){for(var We=Rt[0][0].getAttribute("d"),Ze=v(We,he,Ie),Ne=[],Ye=0;Ye<Ze.length;Ye++){for(var lt=Ze[Ye],at=[],Fe=0;Fe<lt.length;Fe++)at.push([Ee(zt,lt[Fe][1]),Ee(Ft,lt[Fe][2])]);at.xref=He,at.yref=qe,at.subtract=de(at,Ne),Ne.push(at)}vt=vt.concat(Ne)}}}}var Be=He&&qe?[He+qe]:_t._subplots.cartesian;(function(Dn){var zn=Dn.calcdata;if(zn)for(var On=0;On<zn.length;On++){var Hn=zn[On][0].trace,jn=Dn._fullLayout._splomScenes;if(jn){var ar=jn[Hn.uid];ar&&(ar.selectBatch=[])}}})(he);for(var ot={},Xe=0;Xe<Be.length;Xe++){var pt=Be[Xe],mt=pt.indexOf("y"),yt=pt.slice(0,mt),ht=pt.slice(mt),Lt=He&&qe?ke:void 0;if(Lt=oe(vt,yt,ht,Lt)){var Tt=Re;if(!Je){var bt=C(he,yt,"x"),Pt=C(he,ht,"y");Tt=ae(he,[bt],[Pt],pt);for(var Ot=0;Ot<Tt.length;Ot++){var Bt=Tt[Ot],Kt=Bt.cd[0],on=Kt.trace;if(Bt._module.name==="scattergl"&&!Kt.t.xpx){var qt=on.x,Wt=on.y,nn=on._length;Kt.t.xpx=[],Kt.t.ypx=[];for(var En=0;En<nn;En++)Kt.t.xpx[En]=bt.c2p(qt[En]),Kt.t.ypx[En]=Pt.c2p(Wt[En])}Bt._module.name==="splom"&&(ot[on.uid]||(ot[on.uid]=!0))}}var Mn=Me(Lt,Tt);st=st.concat(Mn),it=it.concat(Tt)}}var dn={points:st};pe(he,it,dn);var Jt=_t.clickmode.indexOf("event")>-1&&xe;if(!Ie&&xe){var un=se(he,!0);if(un.length){var rn=un[0].xref,hn=un[0].yref;if(rn&&hn){var kn=Te(un);Se([C(he,rn,"x"),C(he,hn,"y")])(dn,kn)}}he._fullLayout._noEmitSelectedAtStart?he._fullLayout._noEmitSelectedAtStart=!1:Jt&&Le(he,dn),_t._reselect=!1}if(!Ie&&_t._deselect){var Ln=_t._deselect;(function(Dn,zn,On){for(var Hn=0;Hn<On.length;Hn++){var jn=On[Hn];if(jn.xaxis&&jn.xaxis._id===Dn&&jn.yaxis&&jn.yaxis._id===zn)return!0}return!1})(He=Ln.xref,qe=Ln.yref,it)||we(he,He,qe,Re),Jt&&(dn.points.length?Le(he,dn):Oe(he)),_t._deselect=!1}return{eventData:dn,selectionTesters:ke}}function we(he,xe,ke,Re){Re=ae(he,[C(he,xe,"x")],[C(he,ke,"y")],xe+ke);for(var ze=0;ze<Re.length;ze++){var Ie=Re[ze];Ie._module.selectPoints(Ie,!1)}pe(he,Re)}function oe(he,xe,ke,Re){for(var ze,Ie=0;Ie<he.length;Ie++){var He=he[Ie];xe===He.xref&&ke===He.yref&&(ze?Re=X(ze=ge(ze,He,!!He.subtract)):(ze=[He],Re=B(He)))}return Re}function se(he,xe){for(var ke=[],Re=he._fullLayout,ze=Re.selections,Ie=ze.length,He=0;He<Ie;He++)if(!xe||He===Re._activeSelectionIndex){var qe=ze[He];if(qe){var Je,st,it,vt,_t,xt=qe.xref,et=qe.yref,nt=C(he,xt,"x"),Mt=C(he,et,"y");if(qe.type==="rect"){_t=[];var zt=Ee(nt,qe.x0),Ft=Ee(nt,qe.x1),Rt=Ee(Mt,qe.y0),We=Ee(Mt,qe.y1);_t=[[zt,Rt],[zt,We],[Ft,We],[Ft,Rt]],Je=Math.min(zt,Ft),st=Math.max(zt,Ft),it=Math.min(Rt,We),vt=Math.max(Rt,We),_t.xmin=Je,_t.xmax=st,_t.ymin=it,_t.ymax=vt,_t.xref=xt,_t.yref=et,_t.subtract=!1,_t.isRect=!0,ke.push(_t)}else if(qe.type==="path")for(var Ze=qe.path.split("Z"),Ne=[],Ye=0;Ye<Ze.length;Ye++){var lt=Ze[Ye];if(lt){lt+="Z";var at=u.extractPathCoords(lt,d.paramIsX,"raw"),Fe=u.extractPathCoords(lt,d.paramIsY,"raw");Je=1/0,st=-1/0,it=1/0,vt=-1/0,_t=[];for(var Be=0;Be<at.length;Be++){var ot=Ee(nt,at[Be]),Xe=Ee(Mt,Fe[Be]);_t.push([ot,Xe]),Je=Math.min(ot,Je),st=Math.max(ot,st),it=Math.min(Xe,it),vt=Math.max(Xe,vt)}_t.xmin=Je,_t.xmax=st,_t.ymin=it,_t.ymax=vt,_t.xref=xt,_t.yref=et,_t.subtract=de(_t,Ne),Ne.push(_t),ke.push(_t)}}}}return ke}function de(he,xe){for(var ke=!1,Re=0;Re<xe.length;Re++)for(var ze=xe[Re],Ie=0;Ie<he.length;Ie++)if(k(he[Ie],ze)){ke=!ke;break}return ke}function Ee(he,xe){return he.type==="date"&&(xe=xe.replace("_"," ")),he.type==="log"?he.c2p(xe):he.r2p(xe,null,he.calendar)}function Te(he){for(var xe=he.length,ke=[],Re=0;Re<xe;Re++){var ze=he[Re];ke=(ke=ke.concat(ze)).concat([ze[0]])}return(Ie=ke).isRect=Ie.length===5&&Ie[0][0]===Ie[4][0]&&Ie[0][1]===Ie[4][1]&&Ie[0][0]===Ie[1][0]&&Ie[2][0]===Ie[3][0]&&Ie[0][1]===Ie[3][1]&&Ie[1][1]===Ie[2][1]||Ie[0][1]===Ie[1][1]&&Ie[2][1]===Ie[3][1]&&Ie[0][0]===Ie[3][0]&&Ie[1][0]===Ie[2][0],Ie.isRect&&(Ie.xmin=Math.min(Ie[0][0],Ie[2][0]),Ie.xmax=Math.max(Ie[0][0],Ie[2][0]),Ie.ymin=Math.min(Ie[0][1],Ie[2][1]),Ie.ymax=Math.max(Ie[0][1],Ie[2][1])),Ie;var Ie}function Se(he){return function(xe,ke){for(var Re,ze,Ie=0;Ie<he.length;Ie++){var He=he[Ie],qe=He._id,Je=qe.charAt(0);if(ke.isRect){Re||(Re={});var st=ke[Je+"min"],it=ke[Je+"max"];st!==void 0&&it!==void 0&&(Re[qe]=[F(He,st),F(He,it)].sort(S))}else ze||(ze={}),ze[qe]=ke.map(j(He))}Re&&(xe.range=Re),ze&&(xe.lassoPoints=ze)}}function Le(he,xe){xe&&(xe.selections=(he.layout||{}).selections||[]),he.emit("plotly_selected",xe)}function Oe(he){he.emit("plotly_deselect",null)}Y.exports={reselect:_e,prepSelect:function(he,xe,ke,Re,ze){var Ie=!te(Re),He=i(ze),qe=n(ze),Je=s(ze),st=r(ze),it=l(ze),vt=ze==="drawcircle",_t=ze==="drawline"||vt,xt=Re.gd,et=xt._fullLayout,nt=it&&et.newselection.mode==="immediate"&&Ie,Mt=et._zoomlayer,zt=Re.element.getBoundingClientRect(),Ft=Re.plotinfo,Rt=V(Ft),We=xe-zt.left,Ze=ke-zt.top;et._calcInverseTransform(xt);var Ne=f.apply3DTransform(et._invTransform)(We,Ze);We=Ne[0],Ze=Ne[1];var Ye,lt,at,Fe,Be,ot,Xe,pt=et._invScaleX,mt=et._invScaleY,yt=We,ht=Ze,Lt="M"+We+","+Ze,Tt=Re.xaxes[0],bt=Re.yaxes[0],Pt=Tt._length,Ot=bt._length,Bt=he.altKey&&!(r(ze)&&Je);J(he,xt,Re),He&&(Ye=D([[We,Ze]],z.BENDPX));var Kt=Mt.selectAll("path.select-outline-"+Ft.id).data([1]),on=st?et.newshape:et.newselection;st&&(Re.hasText=on.label.text||on.label.texttemplate);var qt=st&&!Je?on.fillcolor:"rgba(0,0,0,0)",Wt=on.line.color||(Ie?b.contrast(xt._fullLayout.plot_bgcolor):"#7f7f7f");Kt.enter().append("path").attr("class","select-outline select-outline-"+Ft.id).style({opacity:st?on.opacity/2:1,"stroke-dasharray":w(on.line.dash,on.line.width),"stroke-width":on.line.width+"px","shape-rendering":"crispEdges"}).call(b.stroke,Wt).call(b.fill,qt).attr("fill-rule","evenodd").classed("cursor-move",!!st).attr("transform",Rt).attr("d",Lt+"Z");var nn=Mt.append("path").attr("class","zoombox-corners").style({fill:b.background,stroke:b.defaultLine,"stroke-width":1}).attr("transform",Rt).attr("d","M0,0Z");if(st&&Re.hasText){var En=Mt.select(".label-temp");En.empty()&&(En=Mt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Mn=et._uid+z.SELECTID,dn=[],Jt=ae(xt,Re.xaxes,Re.yaxes,Re.subplot);nt&&!he.shiftKey&&(Re._clearSubplotSelections=function(){if(Ie){var rn=Tt._id,hn=bt._id;we(xt,rn,hn,Jt);for(var kn=(xt.layout||{}).selections||[],Ln=[],Dn=!1,zn=0;zn<kn.length;zn++){var On=et.selections[zn];On.xref!==rn||On.yref!==hn?Ln.push(kn[zn]):Dn=!0}Dn&&(xt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",xt,{selections:Ln}))}});var un=function(rn){return rn.plotinfo.fillRangeItems||Se(rn.xaxes.concat(rn.yaxes))}(Re);Re.moveFn=function(rn,hn){Re._clearSubplotSelections&&(Re._clearSubplotSelections(),Re._clearSubplotSelections=void 0),yt=Math.max(0,Math.min(Pt,pt*rn+We)),ht=Math.max(0,Math.min(Ot,mt*hn+Ze));var kn=Math.abs(yt-We),Ln=Math.abs(ht-Ze);if(qe){var Dn,zn,On;if(it){var Hn=et.selectdirection;switch(Dn=Hn==="any"?Ln<Math.min(.6*kn,U)?"h":kn<Math.min(.6*Ln,U)?"v":"d":Hn){case"h":zn=vt?Ot/2:0,On=Ot;break;case"v":zn=vt?Pt/2:0,On=Pt}}if(st)switch(et.newshape.drawdirection){case"vertical":Dn="h",zn=vt?Ot/2:0,On=Ot;break;case"horizontal":Dn="v",zn=vt?Pt/2:0,On=Pt;break;case"ortho":kn<Ln?(Dn="h",zn=Ze,On=ht):(Dn="v",zn=We,On=yt);break;default:Dn="d"}Dn==="h"?((Fe=_t?p(vt,[yt,zn],[yt,On]):[[We,zn],[We,On],[yt,On],[yt,zn]]).xmin=_t?yt:Math.min(We,yt),Fe.xmax=_t?yt:Math.max(We,yt),Fe.ymin=Math.min(zn,On),Fe.ymax=Math.max(zn,On),nn.attr("d","M"+Fe.xmin+","+(Ze-U)+"h-4v"+2*U+"h4ZM"+(Fe.xmax-1)+","+(Ze-U)+"h4v"+2*U+"h-4Z")):Dn==="v"?((Fe=_t?p(vt,[zn,ht],[On,ht]):[[zn,Ze],[zn,ht],[On,ht],[On,Ze]]).xmin=Math.min(zn,On),Fe.xmax=Math.max(zn,On),Fe.ymin=_t?ht:Math.min(Ze,ht),Fe.ymax=_t?ht:Math.max(Ze,ht),nn.attr("d","M"+(We-U)+","+Fe.ymin+"v-4h"+2*U+"v4ZM"+(We-U)+","+(Fe.ymax-1)+"v4h"+2*U+"v-4Z")):Dn==="d"&&((Fe=_t?p(vt,[We,Ze],[yt,ht]):[[We,Ze],[We,ht],[yt,ht],[yt,Ze]]).xmin=Math.min(We,yt),Fe.xmax=Math.max(We,yt),Fe.ymin=Math.min(Ze,ht),Fe.ymax=Math.max(Ze,ht),nn.attr("d","M0,0Z"))}else He&&(Ye.addPt([yt,ht]),Fe=Ye.filtered);if(Re.selectionDefs&&Re.selectionDefs.length?(at=ge(Re.mergedPolygons,Fe,Bt),Fe.subtract=Bt,lt=X(Re.selectionDefs.concat([Fe]))):(at=[Fe],lt=B(Fe)),c(ve(at,Je),Kt,Re),it){var jn,ar=_e(xt,!1),ur=ar.eventData?ar.eventData.points.slice():[];ar=_e(xt,!1,lt,Jt,Re),lt=ar.selectionTesters,Xe=ar.eventData,jn=Ye?Ye.filtered:Te(at),E.throttle(Mn,z.SELECTDELAY,function(){for(var cr=(dn=Me(lt,Jt)).slice(),er=0;er<ur.length;er++){for(var Tr=ur[er],Ht=!1,an=0;an<cr.length;an++)if(cr[an].curveNumber===Tr.curveNumber&&cr[an].pointNumber===Tr.pointNumber){Ht=!0;break}Ht||cr.push(Tr)}cr.length&&(Xe||(Xe={}),Xe.points=cr),un(Xe,jn),function(_n,vn){_n.emit("plotly_selecting",vn)}(xt,Xe)})}},Re.clickFn=function(rn,hn){if(nn.remove(),xt._fullLayout._activeShapeIndex>=0)xt._fullLayout._deactivateShape(xt);else if(!st){var kn=et.clickmode;E.done(Mn).then(function(){if(E.clear(Mn),rn===2){for(Kt.remove(),Be=0;Be<Jt.length;Be++)(ot=Jt[Be])._module.selectPoints(ot,!1);if(pe(xt,Jt),ne(Re),Oe(xt),Jt.length){var Ln=Jt[0].xaxis,Dn=Jt[0].yaxis;if(Ln&&Dn){for(var zn=[],On=xt._fullLayout.selections,Hn=0;Hn<On.length;Hn++){var jn=On[Hn];jn&&(jn.xref===Ln._id&&jn.yref===Dn._id||zn.push(jn))}zn.length<On.length&&(xt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",xt,{selections:zn}))}}}else kn.indexOf("select")>-1&&Q(hn,xt,Re.xaxes,Re.yaxes,Re.subplot,Re,Kt),kn==="event"&&Le(xt,void 0);h.click(xt,hn,Ft.id)}).catch(f.error)}},Re.doneFn=function(){nn.remove(),E.done(Mn).then(function(){E.clear(Mn),!nt&&Fe&&Re.selectionDefs&&(Fe.subtract=Bt,Re.selectionDefs.push(Fe),Re.mergedPolygons.length=0,[].push.apply(Re.mergedPolygons,at)),(nt||st)&&ne(Re,nt),Re.doneFnCompleted&&Re.doneFnCompleted(dn),it&&Le(xt,Xe)}).catch(f.error)}},clearOutline:x,clearSelectionsCache:ne,selectOnClick:Q}},46056:function(Y,P,e){var A=e(13916),k=e(25376),a=e(52904).line,w=e(98192).u,b=e(92880).extendFlat,h=e(31780).templatedArray,o=(e(36208),e(45464)),t=e(21776).ye,i=e(97728);Y.exports=h("shape",{visible:b({},o.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:b({},o.legend,{editType:"calc+arraydraw"}),legendgroup:b({},o.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:b({},o.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:k({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:b({},o.legendrank,{editType:"calc+arraydraw"}),legendwidth:b({},o.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:b({},A.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:b({},A.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:b({},a.color,{editType:"arraydraw"}),width:b({},a.width,{editType:"calc+arraydraw"}),dash:b({},w,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:t({},{keys:Object.keys(i)}),font:k({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},96084:function(Y,P,e){var A=e(3400),k=e(54460),a=e(85448),w=e(65152);function b(i){return o(i.line.width,i.xsizemode,i.x0,i.x1,i.path,!1)}function h(i){return o(i.line.width,i.ysizemode,i.y0,i.y1,i.path,!0)}function o(i,n,r,s,l,u){var d=i/2,c=u;if(n==="pixel"){var x=l?w.extractPathCoords(l,u?a.paramIsY:a.paramIsX):[r,s],g=A.aggNums(Math.max,null,x),p=A.aggNums(Math.min,null,x),v=p<0?Math.abs(p)+d:d,y=g>0?g+d:d;return{ppad:d,ppadplus:c?v:y,ppadminus:c?y:v}}return{ppad:d}}function t(i,n,r,s,l){var u=i.type==="category"||i.type==="multicategory"?i.r2c:i.d2c;if(n!==void 0)return[u(n),u(r)];if(s){var d,c,x,g,p=1/0,v=-1/0,y=s.match(a.segmentRE);for(i.type==="date"&&(u=w.decodeDate(u)),d=0;d<y.length;d++)(c=l[y[d].charAt(0)].drawn)!==void 0&&(!(x=y[d].substr(1).match(a.paramRE))||x.length<c||((g=u(x[c]))<p&&(p=g),g>v&&(v=g)));return v>=p?[p,v]:void 0}}Y.exports=function(i){var n=i._fullLayout,r=A.filterVisible(n.shapes);if(r.length&&i._fullData.length)for(var s=0;s<r.length;s++){var l,u,d=r[s];d._extremes={};var c=k.getRefType(d.xref),x=k.getRefType(d.yref);if(d.xref!=="paper"&&c!=="domain"){var g=d.xsizemode==="pixel"?d.xanchor:d.x0,p=d.xsizemode==="pixel"?d.xanchor:d.x1;(u=t(l=k.getFromId(i,d.xref),g,p,d.path,a.paramIsX))&&(d._extremes[l._id]=k.findExtremes(l,u,b(d)))}if(d.yref!=="paper"&&x!=="domain"){var v=d.ysizemode==="pixel"?d.yanchor:d.y0,y=d.ysizemode==="pixel"?d.yanchor:d.y1;(u=t(l=k.getFromId(i,d.yref),v,y,d.path,a.paramIsY))&&(d._extremes[l._id]=k.findExtremes(l,u,h(d)))}}}},85448:function(Y){Y.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},43712:function(Y,P,e){var A=e(3400),k=e(54460),a=e(51272),w=e(46056),b=e(65152);function h(o,t,i){function n(Z,F){return A.coerce(o,t,w,Z,F)}if(t._isShape=!0,n("visible")){n("showlegend")&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),A.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var r=n("path"),s=n("type",r?"path":"rect"),l=s!=="path";l&&delete t.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule"),n("line.width")&&(n("line.color"),n("line.dash"));for(var u=n("xsizemode"),d=n("ysizemode"),c=["x","y"],x=0;x<2;x++){var g,p,v,y=c[x],m=y+"anchor",_=y==="x"?u:d,f={_fullLayout:i},S=k.coerceRef(o,t,f,y,void 0,"paper");if(k.getRefType(S)==="range"?((g=k.getFromId(f,S))._shapeIndices.push(t._index),v=b.rangeToShapePosition(g),p=b.shapePositionToRange(g)):p=v=A.identity,l){var T=y+"0",E=y+"1",C=o[T],O=o[E];o[T]=p(o[T],!0),o[E]=p(o[E],!0),_==="pixel"?(n(T,0),n(E,10)):(k.coercePosition(t,f,n,S,T,.25),k.coercePosition(t,f,n,S,E,.75)),t[T]=v(t[T]),t[E]=v(t[E]),o[T]=C,o[E]=O}if(_==="pixel"){var I=o[m];o[m]=p(o[m],!0),k.coercePosition(t,f,n,S,m,.25),t[m]=v(t[m]),o[m]=I}}l&&A.noneOrAll(o,t,["x0","x1","y0","y1"]);var z,U,D=s==="line";if(l&&(z=n("label.texttemplate")),z||(U=n("label.text")),U||z){n("label.textangle");var B=n("label.textposition",D?"middle":"middle center");n("label.xanchor"),n("label.yanchor",function(Z,F){return Z?"bottom":F.indexOf("top")!==-1?"top":F.indexOf("bottom")!==-1?"bottom":"middle"}(D,B)),n("label.padding"),A.coerceFont(n,"label.font",i.font)}}}Y.exports=function(o,t){a(o,t,{name:"shapes",handleItemDefaults:h})}},60728:function(Y,P,e){var A=e(3400),k=e(54460),a=e(72736),w=e(43616),b=e(9856).readPaths,h=e(65152),o=h.getPathString,t=e(97728),i=e(84284).FROM_TL;Y.exports=function(n,r,s,l){if(l.selectAll(".shape-label").remove(),s.label.text||s.label.texttemplate){var u;if(s.label.texttemplate){var d={};if(s.type!=="path"){var c=k.getFromId(n,s.xref),x=k.getFromId(n,s.yref);for(var g in t){var p=t[g](s,c,x);p!==void 0&&(d[g]=p)}}u=A.texttemplateStringForShapes(s.label.texttemplate,{},n._fullLayout._d3locale,d)}else u=s.label.text;var v,y,m,_,f={"data-index":r},S=s.label.font,T=l.append("g").attr(f).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(u);if(s.path){var E=o(n,s),C=b(E,n);v=1/0,m=1/0,y=-1/0,_=-1/0;for(var O=0;O<C.length;O++)for(var I=0;I<C[O].length;I++)for(var z=C[O][I],U=1;U<z.length;U+=2){var D=z[U],B=z[U+1];v=Math.min(v,D),y=Math.max(y,D),m=Math.min(m,B),_=Math.max(_,B)}}else{var Z=k.getFromId(n,s.xref),F=k.getRefType(s.xref),j=k.getFromId(n,s.yref),V=k.getRefType(s.yref),te=h.getDataToPixel(n,Z,!1,F),Q=h.getDataToPixel(n,j,!0,V);v=te(s.x0),y=te(s.x1),m=Q(s.y0),_=Q(s.y1)}var $=s.label.textangle;$==="auto"&&($=s.type==="line"?function(ie,ae,le,ce){var pe,ge;return ge=Math.abs(le-ie),pe=le>=ie?ae-ce:ce-ae,-180/Math.PI*Math.atan2(pe,ge)}(v,m,y,_):0),T.call(function(ie){return ie.call(w.font,S).attr({}),a.convertToTspans(ie,n),ie});var G=function(ie,ae,le,ce,pe,ge,me){var ve,Me,_e,we,oe=pe.label.textposition,se=pe.label.textangle,de=pe.label.padding,Ee=pe.type,Te=Math.PI/180*ge,Se=Math.sin(Te),Le=Math.cos(Te),Oe=pe.label.xanchor,he=pe.label.yanchor;if(Ee==="line"){oe==="start"?(ve=ie,Me=ae):oe==="end"?(ve=le,Me=ce):(ve=(ie+le)/2,Me=(ae+ce)/2),Oe==="auto"&&(Oe=oe==="start"?se==="auto"?le>ie?"left":le<ie?"right":"center":le>ie?"right":le<ie?"left":"center":oe==="end"?se==="auto"?le>ie?"right":le<ie?"left":"center":le>ie?"left":le<ie?"right":"center":"center");var xe={bottom:-1,middle:0,top:1};if(se==="auto"){var ke=xe[he];_e=-de*Se*ke,we=de*Le*ke}else _e=de*{left:1,center:0,right:-1}[Oe],we=de*xe[he];ve+=_e,Me+=we}else _e=de+3,oe.indexOf("right")!==-1?(ve=Math.max(ie,le)-_e,Oe==="auto"&&(Oe="right")):oe.indexOf("left")!==-1?(ve=Math.min(ie,le)+_e,Oe==="auto"&&(Oe="left")):(ve=(ie+le)/2,Oe==="auto"&&(Oe="center")),Me=oe.indexOf("top")!==-1?Math.min(ae,ce):oe.indexOf("bottom")!==-1?Math.max(ae,ce):(ae+ce)/2,we=de,he==="bottom"?Me-=we:he==="top"&&(Me+=we);var Re=i[he],ze=pe.label.font.size,Ie=me.height;return{textx:ve+(Ie*Re-ze)*Se,texty:Me+-(Ie*Re-ze)*Le,xanchor:Oe}}(v,m,y,_,s,$,w.bBox(T.node())),X=G.textx,J=G.texty,ne=G.xanchor;T.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[ne],y:J,x:X,transform:"rotate("+$+","+X+","+J+")"}).call(a.positionText,X,J)}}},55496:function(Y,P,e){var A=e(3400).strTranslate,k=e(86476),a=e(72760),w=a.drawMode,b=a.selectMode,h=e(24040),o=e(76308),t=e(7e3),i=t.i000,n=t.i090,r=t.i180,s=t.i270,l=e(1936).clearOutlineControllers,u=e(9856),d=u.pointsOnRectangle,c=u.pointsOnEllipse,x=u.writePaths,g=e(93940).newShapes,p=e(93940).createShapeObj,v=e(5968),y=e(60728);function m(_,f){var S,T,E,C=_[f][1],O=_[f][2],I=_.length;return T=_[S=(f+1)%I][1],E=_[S][2],T===C&&E===O&&(T=_[S=(f+2)%I][1],E=_[S][2]),[S,T,E]}Y.exports=function _(f,S,T,E){E||(E=0);var C=T.gd;function O(){_(f,S,T,E++),(c(f[0])||T.hasText)&&I({redrawing:!0})}function I(pe){var ge={};T.isActiveShape!==void 0&&(T.isActiveShape=!1,ge=g(S,T)),T.isActiveSelection!==void 0&&(T.isActiveSelection=!1,ge=v(S,T),C._fullLayout._reselect=!0),Object.keys(ge).length&&h.call((pe||{}).redrawing?"relayout":"_guiRelayout",C,ge)}var z,U,D,B,Z,F=C._fullLayout._zoomlayer,j=T.dragmode,V=w(j),te=b(j);if((V||te)&&(C._fullLayout._outlining=!0),l(C),S.attr("d",x(f)),E||!T.isActiveShape&&!T.isActiveSelection||(Z=function(pe,ge){for(var me=0;me<ge.length;me++){var ve=ge[me];pe[me]=[];for(var Me=0;Me<ve.length;Me++){pe[me][Me]=[];for(var _e=0;_e<ve[Me].length;_e++)pe[me][Me][_e]=ve[Me][_e]}}return pe}([],f),function(pe){z=[];for(var ge=0;ge<f.length;ge++){var me=f[ge],ve=d(me),Me=!ve&&c(me);z[ge]=[];for(var _e=me.length,we=0;we<_e;we++)if(me[we][0]!=="Z"&&(!Me||we===i||we===n||we===r||we===s)){var oe,se=ve&&T.isActiveSelection;se&&(oe=m(me,we));var de=me[we][1],Ee=me[we][2],Te=pe.append(se?"rect":"circle").attr("data-i",ge).attr("data-j",we).style({fill:o.background,stroke:o.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(se){var Se=oe[1]-de,Le=oe[2]-Ee,Oe=Le?5:Math.max(Math.min(25,Math.abs(Se)-5),5),he=Se?5:Math.max(Math.min(25,Math.abs(Le)-5),5);Te.classed(Le?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Oe).attr("height",he).attr("x",de-Oe/2).attr("y",Ee-he/2).attr("transform",A(Se/2,Le/2))}else Te.classed("cursor-grab",!0).attr("r",5).attr("cx",de).attr("cy",Ee);z[ge][we]={element:Te.node(),gd:C,prepFn:G,doneFn:J,clickFn:ne},k.init(z[ge][we])}}}(F.append("g").attr("class","outline-controllers")),function(){U=[],f.length&&(U[0]={element:S[0][0],gd:C,prepFn:ae,doneFn:le,clickFn:ce},k.init(U[0]))}()),V&&T.hasText){var Q=F.select(".label-temp"),$=p(S,T,T.dragmode);y(C,"label-temp",$,Q)}function G(pe){D=+pe.srcElement.getAttribute("data-i"),B=+pe.srcElement.getAttribute("data-j"),z[D][B].moveFn=X}function X(pe,ge){if(f.length){var me=Z[D][B][1],ve=Z[D][B][2],Me=f[D],_e=Me.length;if(d(Me)){var we=pe,oe=ge;T.isActiveSelection&&(m(Me,B)[1]===Me[B][1]?oe=0:we=0);for(var se=0;se<_e;se++)if(se!==B){var de=Me[se];de[1]===Me[B][1]&&(de[1]=me+we),de[2]===Me[B][2]&&(de[2]=ve+oe)}if(Me[B][1]=me+we,Me[B][2]=ve+oe,!d(Me))for(var Ee=0;Ee<_e;Ee++)for(var Te=0;Te<Me[Ee].length;Te++)Me[Ee][Te]=Z[D][Ee][Te]}else Me[B][1]=me+pe,Me[B][2]=ve+ge;O()}}function J(){I()}function ne(pe,ge){if(pe===2){D=+ge.srcElement.getAttribute("data-i"),B=+ge.srcElement.getAttribute("data-j");var me=f[D];d(me)||c(me)||function(){if(f.length&&f[D]&&f[D].length){for(var ve=[],Me=0;Me<f[D].length;Me++)Me!==B&&ve.push(f[D][Me]);ve.length>1&&(ve.length!==2||ve[1][0]!=="Z")&&(B===0&&(ve[0][0]="M"),f[D]=ve,O(),I())}}()}}function ie(pe,ge){(function(me,ve){if(f.length)for(var Me=0;Me<f.length;Me++)for(var _e=0;_e<f[Me].length;_e++)for(var we=0;we+2<f[Me][_e].length;we+=2)f[Me][_e][we+1]=Z[Me][_e][we+1]+me,f[Me][_e][we+2]=Z[Me][_e][we+2]+ve})(pe,ge),O()}function ae(pe){(D=+pe.srcElement.getAttribute("data-i"))||(D=0),U[D].moveFn=ie}function le(){I()}function ce(pe){pe===2&&function(ge){if(b(ge._fullLayout.dragmode)){l(ge);var me=ge._fullLayout._activeSelectionIndex,ve=(ge.layout||{}).selections||[];if(me<ve.length){for(var Me=[],_e=0;_e<ve.length;_e++)_e!==me&&Me.push(ve[_e]);delete ge._fullLayout._activeSelectionIndex;var we=ge._fullLayout.selections[me];ge._fullLayout._deselect={xref:we.xref,yref:we.yref},h.call("_guiRelayout",ge,{selections:Me})}}}(C)}}},4016:function(Y,P,e){var A=e(33428),k=e(24040),a=e(3400),w=e(54460),b=e(9856).readPaths,h=e(55496),o=e(60728),t=e(1936).clearOutlineControllers,i=e(76308),n=e(43616),r=e(31780).arrayEditor,s=e(86476),l=e(93972),u=e(85448),d=e(65152),c=d.getPathString;function x(f){var S=f._fullLayout;for(var T in S._shapeUpperLayer.selectAll("path").remove(),S._shapeLowerLayer.selectAll("path").remove(),S._shapeUpperLayer.selectAll("text").remove(),S._shapeLowerLayer.selectAll("text").remove(),S._plots){var E=S._plots[T].shapelayer;E&&(E.selectAll("path").remove(),E.selectAll("text").remove())}for(var C=0;C<S.shapes.length;C++)S.shapes[C].visible===!0&&v(f,C)}function g(f){return!!f._fullLayout._outlining}function p(f){return!f._context.edits.shapePosition}function v(f,S){f._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+S+'"]').remove();var T=d.makeShapesOptionsAndPlotinfo(f,S),E=T.options,C=T.plotinfo;function O(I){var z=c(f,E),U={"data-index":S,"fill-rule":E.fillrule,d:z},D=E.opacity,B=E.fillcolor,Z=E.line.width?E.line.color:"rgba(0,0,0,0)",F=E.line.width,j=E.line.dash;F||E.editable!==!0||(F=5,j="solid");var V=z[z.length-1]!=="Z",te=p(f)&&E.editable&&f._fullLayout._activeShapeIndex===S;te&&(B=V?"rgba(0,0,0,0)":f._fullLayout.activeshape.fillcolor,D=f._fullLayout.activeshape.opacity);var Q,$=I.append("g").classed("shape-group",!0).attr({"data-index":S}),G=$.append("path").attr(U).style("opacity",D).call(i.stroke,Z).call(i.fill,B).call(n.dashLine,j,F);if(y($,f,E),o(f,S,E,$),(te||f._context.edits.shapePosition)&&(Q=r(f.layout,"shapes",E)),te){G.style({cursor:"move"});var X={element:G.node(),plotinfo:C,gd:f,editHelpers:Q,hasText:E.label.text||E.label.texttemplate,isActiveShape:!0},J=b(z,f);h(J,G,X)}else f._context.edits.shapePosition?function(ne,ie,ae,le,ce,pe){var ge,me,ve,Me,_e,we,oe,se,de,Ee,Te,Se,Le,Oe,he,xe,ke=10,Re=10,ze=ae.xsizemode==="pixel",Ie=ae.ysizemode==="pixel",He=ae.type==="line",qe=ae.type==="path",Je=pe.modifyItem,st=A.select(ie.node().parentNode),it=w.getFromId(ne,ae.xref),vt=w.getRefType(ae.xref),_t=w.getFromId(ne,ae.yref),xt=w.getRefType(ae.yref),et=d.getDataToPixel(ne,it,!1,vt),nt=d.getDataToPixel(ne,_t,!0,xt),Mt=d.getPixelToData(ne,it,!1,vt),zt=d.getPixelToData(ne,_t,!0,xt),Ft=He?function(){var at=10,Fe=Math.max(ae.line.width,at),Be=ce.append("g").attr("data-index",le).attr("drag-helper",!0);Be.append("path").attr("d",ie.attr("d")).style({cursor:"move","stroke-width":Fe,"stroke-opacity":"0"});var ot={"fill-opacity":"0"},Xe=Math.max(Fe/2,at);return Be.append("circle").attr({"data-line-point":"start-point",cx:ze?et(ae.xanchor)+ae.x0:et(ae.x0),cy:Ie?nt(ae.yanchor)-ae.y0:nt(ae.y0),r:Xe}).style(ot).classed("cursor-grab",!0),Be.append("circle").attr({"data-line-point":"end-point",cx:ze?et(ae.xanchor)+ae.x1:et(ae.x1),cy:Ie?nt(ae.yanchor)-ae.y1:nt(ae.y1),r:Xe}).style(ot).classed("cursor-grab",!0),Be}():ie,Rt={element:Ft.node(),gd:ne,prepFn:function(at){g(ne)||(ze&&(_e=et(ae.xanchor)),Ie&&(we=nt(ae.yanchor)),ae.type==="path"?he=ae.path:(ge=ze?ae.x0:et(ae.x0),me=Ie?ae.y0:nt(ae.y0),ve=ze?ae.x1:et(ae.x1),Me=Ie?ae.y1:nt(ae.y1)),ge<ve?(de=ge,Le="x0",Ee=ve,Oe="x1"):(de=ve,Le="x1",Ee=ge,Oe="x0"),!Ie&&me<Me||Ie&&me>Me?(oe=me,Te="y0",se=Me,Se="y1"):(oe=Me,Te="y1",se=me,Se="y0"),We(at),Ye(ce,ae),function(Fe,Be,ot){var Xe=Be.xref,pt=Be.yref,mt=w.getFromId(ot,Xe),yt=w.getFromId(ot,pt),ht="";Xe==="paper"||mt.autorange||(ht+=Xe),pt==="paper"||yt.autorange||(ht+=pt),n.setClipUrl(Fe,ht?"clip"+ot._fullLayout._uid+ht:null,ot)}(ie,ae,ne),Rt.moveFn=xe==="move"?Ze:Ne,Rt.altKey=at.altKey)},doneFn:function(){g(ne)||(l(ie),lt(ce),y(ie,ne,ae),k.call("_guiRelayout",ne,pe.getUpdateObj()))},clickFn:function(){g(ne)||lt(ce)}};function We(at){if(g(ne))xe=null;else if(He)xe=at.target.tagName==="path"?"move":at.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Fe=Rt.element.getBoundingClientRect(),Be=Fe.right-Fe.left,ot=Fe.bottom-Fe.top,Xe=at.clientX-Fe.left,pt=at.clientY-Fe.top,mt=!qe&&Be>ke&&ot>Re&&!at.shiftKey?s.getCursor(Xe/Be,1-pt/ot):"move";l(ie,mt),xe=mt.split("-")[0]}}function Ze(at,Fe){if(ae.type==="path"){var Be=function(pt){return pt},ot=Be,Xe=Be;ze?Je("xanchor",ae.xanchor=Mt(_e+at)):(ot=function(pt){return Mt(et(pt)+at)},it&&it.type==="date"&&(ot=d.encodeDate(ot))),Ie?Je("yanchor",ae.yanchor=zt(we+Fe)):(Xe=function(pt){return zt(nt(pt)+Fe)},_t&&_t.type==="date"&&(Xe=d.encodeDate(Xe))),Je("path",ae.path=m(he,ot,Xe))}else ze?Je("xanchor",ae.xanchor=Mt(_e+at)):(Je("x0",ae.x0=Mt(ge+at)),Je("x1",ae.x1=Mt(ve+at))),Ie?Je("yanchor",ae.yanchor=zt(we+Fe)):(Je("y0",ae.y0=zt(me+Fe)),Je("y1",ae.y1=zt(Me+Fe)));ie.attr("d",c(ne,ae)),Ye(ce,ae),o(ne,le,ae,st)}function Ne(at,Fe){if(qe){var Be=function(Wt){return Wt},ot=Be,Xe=Be;ze?Je("xanchor",ae.xanchor=Mt(_e+at)):(ot=function(Wt){return Mt(et(Wt)+at)},it&&it.type==="date"&&(ot=d.encodeDate(ot))),Ie?Je("yanchor",ae.yanchor=zt(we+Fe)):(Xe=function(Wt){return zt(nt(Wt)+Fe)},_t&&_t.type==="date"&&(Xe=d.encodeDate(Xe))),Je("path",ae.path=m(he,ot,Xe))}else if(He){if(xe==="resize-over-start-point"){var pt=ge+at,mt=Ie?me-Fe:me+Fe;Je("x0",ae.x0=ze?pt:Mt(pt)),Je("y0",ae.y0=Ie?mt:zt(mt))}else if(xe==="resize-over-end-point"){var yt=ve+at,ht=Ie?Me-Fe:Me+Fe;Je("x1",ae.x1=ze?yt:Mt(yt)),Je("y1",ae.y1=Ie?ht:zt(ht))}}else{var Lt=function(Wt){return xe.indexOf(Wt)!==-1},Tt=Lt("n"),bt=Lt("s"),Pt=Lt("w"),Ot=Lt("e"),Bt=Tt?oe+Fe:oe,Kt=bt?se+Fe:se,on=Pt?de+at:de,qt=Ot?Ee+at:Ee;Ie&&(Tt&&(Bt=oe-Fe),bt&&(Kt=se-Fe)),(!Ie&&Kt-Bt>Re||Ie&&Bt-Kt>Re)&&(Je(Te,ae[Te]=Ie?Bt:zt(Bt)),Je(Se,ae[Se]=Ie?Kt:zt(Kt))),qt-on>ke&&(Je(Le,ae[Le]=ze?on:Mt(on)),Je(Oe,ae[Oe]=ze?qt:Mt(qt)))}ie.attr("d",c(ne,ae)),Ye(ce,ae),o(ne,le,ae,st)}function Ye(at,Fe){(ze||Ie)&&function(){var Be=Fe.type!=="path",ot=at.selectAll(".visual-cue").data([0]);ot.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var Xe=et(ze?Fe.xanchor:a.midRange(Be?[Fe.x0,Fe.x1]:d.extractPathCoords(Fe.path,u.paramIsX))),pt=nt(Ie?Fe.yanchor:a.midRange(Be?[Fe.y0,Fe.y1]:d.extractPathCoords(Fe.path,u.paramIsY)));if(Xe=d.roundPositionForSharpStrokeRendering(Xe,1),pt=d.roundPositionForSharpStrokeRendering(pt,1),ze&&Ie){var mt="M"+(Xe-1-1)+","+(pt-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";ot.attr("d",mt)}else if(ze){var yt="M"+(Xe-1-1)+","+(pt-9-1)+"v18 h2 v-18 Z";ot.attr("d",yt)}else{var ht="M"+(Xe-9-1)+","+(pt-1-1)+"h18 v2 h-18 Z";ot.attr("d",ht)}}()}function lt(at){at.selectAll(".visual-cue").remove()}s.init(Rt),Ft.node().onmousemove=We}(f,G,E,S,I,Q):E.editable===!0&&G.style("pointer-events",V||i.opacity(B)*D<=.5?"stroke":"all");G.node().addEventListener("click",function(){return function(ne,ie){if(p(ne)){var ae=+ie.node().getAttribute("data-index");if(ae>=0){if(ae===ne._fullLayout._activeShapeIndex)return void _(ne);ne._fullLayout._activeShapeIndex=ae,ne._fullLayout._deactivateShape=_,x(ne)}}}(f,G)})}E._input&&E.visible===!0&&(E.layer!=="below"?O(f._fullLayout._shapeUpperLayer):E.xref==="paper"||E.yref==="paper"?O(f._fullLayout._shapeLowerLayer):C._hadPlotinfo?O((C.mainplotinfo||C).shapelayer):O(f._fullLayout._shapeLowerLayer))}function y(f,S,T){var E=(T.xref+T.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");n.setClipUrl(f,E?"clip"+S._fullLayout._uid+E:null,S)}function m(f,S,T){return f.replace(u.segmentRE,function(E){var C=0,O=E.charAt(0),I=u.paramIsX[O],z=u.paramIsY[O],U=u.numParams[O];return O+E.substr(1).replace(u.paramRE,function(D){return C>=U||(I[C]?D=S(D):z[C]&&(D=T(D)),C++),D})})}function _(f){p(f)&&f._fullLayout._activeShapeIndex>=0&&(t(f),delete f._fullLayout._activeShapeIndex,x(f))}Y.exports={draw:x,drawOne:v,eraseActiveShape:function(f){if(p(f)){t(f);var S=f._fullLayout._activeShapeIndex,T=(f.layout||{}).shapes||[];if(S<T.length){for(var E=[],C=0;C<T.length;C++)C!==S&&E.push(T[C]);return delete f._fullLayout._activeShapeIndex,k.call("_guiRelayout",f,{shapes:E})}}},drawLabel:o}},92872:function(Y,P,e){var A=e(67824).overrideAll,k=e(45464),a=e(25376),w=e(98192).u,b=e(92880).extendFlat,h=e(21776).ye,o=e(97728);Y.exports=A({newshape:{visible:b({},k.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:b({},k.legend,{}),legendgroup:b({},k.legendgroup,{}),legendgrouptitle:{text:b({},k.legendgrouptitle.text,{}),font:a({})},legendrank:b({},k.legendrank,{}),legendwidth:b({},k.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:b({},w,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:b({},k.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:h({newshape:!0},{keys:Object.keys(o)}),font:a({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(Y){Y.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},65144:function(Y,P,e){var A=e(76308),k=e(3400);Y.exports=function(a,w,b){if(b("newshape.visible"),b("newshape.name"),b("newshape.showlegend"),b("newshape.legend"),b("newshape.legendwidth"),b("newshape.legendgroup"),b("newshape.legendgrouptitle.text"),k.coerceFont(b,"newshape.legendgrouptitle.font"),b("newshape.legendrank"),b("newshape.drawdirection"),b("newshape.layer"),b("newshape.fillcolor"),b("newshape.fillrule"),b("newshape.opacity"),b("newshape.line.width")){var h=(a||{}).plot_bgcolor||"#FFF";b("newshape.line.color",A.contrast(h)),b("newshape.line.dash")}var o=a.dragmode==="drawline",t=b("newshape.label.text"),i=b("newshape.label.texttemplate");if(t||i){b("newshape.label.textangle");var n=b("newshape.label.textposition",o?"middle":"middle center");b("newshape.label.xanchor"),b("newshape.label.yanchor",function(r,s){return r?"bottom":s.indexOf("top")!==-1?"top":s.indexOf("bottom")!==-1?"bottom":"middle"}(o,n)),b("newshape.label.padding"),k.coerceFont(b,"newshape.label.font",w.font)}b("activeshape.fillcolor"),b("activeshape.opacity")}},9856:function(Y,P,e){var A=e(21984),k=e(7e3),a=k.CIRCLE_SIDES,w=k.SQRT2,b=e(5840),h=b.p2r,o=b.r2p,t=[0,3,4,5,6,1,2],i=[0,3,4,1,2];function n(s,l){return Math.abs(s-l)<=1e-6}function r(s,l){var u=l[1]-s[1],d=l[2]-s[2];return Math.sqrt(u*u+d*d)}P.writePaths=function(s){var l=s.length;if(!l)return"M0,0Z";for(var u="",d=0;d<l;d++)for(var c=s[d].length,x=0;x<c;x++){var g=s[d][x][0];if(g==="Z")u+="Z";else for(var p=s[d][x].length,v=0;v<p;v++){var y=v;g==="Q"||g==="S"?y=i[v]:g==="C"&&(y=t[v]),u+=s[d][x][y],v>0&&v<p-1&&(u+=",")}}return u},P.readPaths=function(s,l,u,d){var c,x,g,p=A(s),v=[],y=-1,m=0,_=0,f=function(){x=m,g=_};f();for(var S=0;S<p.length;S++){var T,E,C,O,I=[],z=p[S][0],U=z;switch(z){case"M":v[++y]=[],m=+p[S][1],_=+p[S][2],I.push([U,m,_]),f();break;case"Q":case"S":T=+p[S][1],C=+p[S][2],m=+p[S][3],_=+p[S][4],I.push([U,m,_,T,C]);break;case"C":T=+p[S][1],C=+p[S][2],E=+p[S][3],O=+p[S][4],m=+p[S][5],_=+p[S][6],I.push([U,m,_,T,C,E,O]);break;case"T":case"L":m=+p[S][1],_=+p[S][2],I.push([U,m,_]);break;case"H":U="L",m=+p[S][1],I.push([U,m,_]);break;case"V":U="L",_=+p[S][1],I.push([U,m,_]);break;case"A":U="L";var D=+p[S][1],B=+p[S][2];+p[S][4]||(D=-D,B=-B);var Z=m-D,F=_;for(c=1;c<=a/2;c++){var j=2*Math.PI*c/a;I.push([U,Z+D*Math.cos(j),F+B*Math.sin(j)])}break;case"Z":m===x&&_===g||(m=x,_=g,I.push([U,m,_]))}for(var V=(u||{}).domain,te=l._fullLayout._size,Q=u&&u.xsizemode==="pixel",$=u&&u.ysizemode==="pixel",G=d===!1,X=0;X<I.length;X++){for(c=0;c+2<7;c+=2){var J=I[X][c+1],ne=I[X][c+2];J!==void 0&&ne!==void 0&&(m=J,_=ne,u&&(u.xaxis&&u.xaxis.p2r?(G&&(J-=u.xaxis._offset),J=Q?o(u.xaxis,u.xanchor)+J:h(u.xaxis,J)):(G&&(J-=te.l),V?J=V.x[0]+J/te.w:J/=te.w),u.yaxis&&u.yaxis.p2r?(G&&(ne-=u.yaxis._offset),ne=$?o(u.yaxis,u.yanchor)-ne:h(u.yaxis,ne)):(G&&(ne-=te.t),ne=V?V.y[1]-ne/te.h:1-ne/te.h)),I[X][c+1]=J,I[X][c+2]=ne)}v[y].push(I[X].slice())}}return v},P.pointsOnRectangle=function(s){if(s.length!==5)return!1;for(var l=1;l<3;l++)if(!n(s[0][l]-s[1][l],s[3][l]-s[2][l])||!n(s[0][l]-s[3][l],s[1][l]-s[2][l]))return!1;return!(!n(s[0][1],s[1][1])&&!n(s[0][1],s[3][1])||!(r(s[0],s[1])*r(s[0],s[3])))},P.pointsOnEllipse=function(s){var l=s.length;if(l!==a+1)return!1;l=a;for(var u=0;u<l;u++){var d=(2*l-u)%l,c=(l/2+d)%l,x=(l/2+u)%l;if(!n(r(s[u],s[x]),r(s[d],s[c])))return!1}return!0},P.handleEllipse=function(s,l,u){if(!s)return[l,u];var d=P.ellipseOver({x0:l[0],y0:l[1],x1:u[0],y1:u[1]}),c=(d.x1+d.x0)/2,x=(d.y1+d.y0)/2,g=(d.x1-d.x0)/2,p=(d.y1-d.y0)/2;g||(g=p/=w),p||(p=g/=w);for(var v=[],y=0;y<a;y++){var m=2*y*Math.PI/a;v.push([c+g*Math.cos(m),x+p*Math.sin(m)])}return v},P.ellipseOver=function(s){var l=s.x0,u=s.y0,d=s.x1,c=s.y1,x=d-l,g=c-u,p=((l-=x)+d)/2,v=((u-=g)+c)/2;return{x0:p-(x*=w),y0:v-(g*=w),x1:p+x,y1:v+g}},P.fixDatesForPaths=function(s,l,u){var d=l.type==="date",c=u.type==="date";if(!d&&!c)return s;for(var x=0;x<s.length;x++)for(var g=0;g<s[x].length;g++)for(var p=0;p+2<s[x][g].length;p+=2)d&&(s[x][g][p+1]=s[x][g][p+1].replace(" ","_")),c&&(s[x][g][p+2]=s[x][g][p+2].replace(" ","_"));return s}},93940:function(Y,P,e){var A=e(72760),k=A.drawMode,a=A.openMode,w=e(7e3),b=w.i000,h=w.i090,o=w.i180,t=w.i270,i=w.cos45,n=w.sin45,r=e(5840),s=r.p2r,l=r.r2p,u=e(1936).clearOutline,d=e(9856),c=d.readPaths,x=d.writePaths,g=d.ellipseOver,p=d.fixDatesForPaths;function v(y,m,_){var f,S=y[0][0],T=m.gd,E=S.getAttribute("d"),C=T._fullLayout.newshape,O=m.plotinfo,I=m.isActiveShape,z=O.xaxis,U=O.yaxis,D=!!O.domain||!O.xaxis,B=!!O.domain||!O.yaxis,Z=a(_),F=c(E,T,O,I),j={editable:!0,visible:C.visible,name:C.name,showlegend:C.showlegend,legend:C.legend,legendwidth:C.legendwidth,legendgroup:C.legendgroup,legendgrouptitle:{text:C.legendgrouptitle.text,font:C.legendgrouptitle.font},legendrank:C.legendrank,label:C.label,xref:D?"paper":z._id,yref:B?"paper":U._id,layer:C.layer,opacity:C.opacity,line:{color:C.line.color,width:C.line.width,dash:C.line.dash}};if(Z||(j.fillcolor=C.fillcolor,j.fillrule=C.fillrule),F.length===1&&(f=F[0]),f&&f.length===5&&_==="drawrect")j.type="rect",j.x0=f[0][1],j.y0=f[0][2],j.x1=f[2][1],j.y1=f[2][2];else if(f&&_==="drawline")j.type="line",j.x0=f[0][1],j.y0=f[0][2],j.x1=f[1][1],j.y1=f[1][2];else if(f&&_==="drawcircle"){j.type="circle";var V=f[b][1],te=f[h][1],Q=f[o][1],$=f[t][1],G=f[b][2],X=f[h][2],J=f[o][2],ne=f[t][2],ie=O.xaxis&&(O.xaxis.type==="date"||O.xaxis.type==="log"),ae=O.yaxis&&(O.yaxis.type==="date"||O.yaxis.type==="log");ie&&(V=l(O.xaxis,V),te=l(O.xaxis,te),Q=l(O.xaxis,Q),$=l(O.xaxis,$)),ae&&(G=l(O.yaxis,G),X=l(O.yaxis,X),J=l(O.yaxis,J),ne=l(O.yaxis,ne));var le=(te+$)/2,ce=(G+J)/2,pe=g({x0:le,y0:ce,x1:le+($-te+Q-V)/2*i,y1:ce+(ne-X+J-G)/2*n});ie&&(pe.x0=s(O.xaxis,pe.x0),pe.x1=s(O.xaxis,pe.x1)),ae&&(pe.y0=s(O.yaxis,pe.y0),pe.y1=s(O.yaxis,pe.y1)),j.x0=pe.x0,j.y0=pe.y0,j.x1=pe.x1,j.y1=pe.y1}else j.type="path",z&&U&&p(F,z,U),j.path=x(F),f=null;return j}Y.exports={newShapes:function(y,m){if(y.length&&y[0][0]){var _=m.gd,f=m.isActiveShape,S=m.dragmode,T=(_.layout||{}).shapes||[];if(!k(S)&&f!==void 0){var E=_._fullLayout._activeShapeIndex;if(E<T.length)switch(_._fullLayout.shapes[E].type){case"rect":S="drawrect";break;case"circle":S="drawcircle";break;case"line":S="drawline";break;case"path":var C=T[E].path||"";S=C[C.length-1]==="Z"?"drawclosedpath":"drawopenpath"}}var O=v(y,m,S);u(_);for(var I=m.editHelpers,z=(I||{}).modifyItem,U=[],D=0;D<T.length;D++){var B=_._fullLayout.shapes[D];if(U[D]=B._input,f!==void 0&&D===_._fullLayout._activeShapeIndex){var Z=O;switch(B.type){case"line":case"rect":case"circle":z("x0",Z.x0),z("x1",Z.x1),z("y0",Z.y0),z("y1",Z.y1);break;case"path":z("path",Z.path)}}}return f===void 0?(U.push(O),U):I?I.getUpdateObj():{}}},createShapeObj:v}},1936:function(Y){Y.exports={clearOutlineControllers:function(P){var e=P._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()},clearOutline:function(P){var e=P._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),P._fullLayout._outlining=!1}}},65152:function(Y,P,e){var A=e(85448),k=e(3400),a=e(54460);P.rangeToShapePosition=function(w){return w.type==="log"?w.r2d:function(b){return b}},P.shapePositionToRange=function(w){return w.type==="log"?w.d2r:function(b){return b}},P.decodeDate=function(w){return function(b){return b.replace&&(b=b.replace("_"," ")),w(b)}},P.encodeDate=function(w){return function(b){return w(b).replace(" ","_")}},P.extractPathCoords=function(w,b,h){var o=[];return w.match(A.segmentRE).forEach(function(t){var i=b[t.charAt(0)].drawn;if(i!==void 0){var n=t.substr(1).match(A.paramRE);if(n&&!(n.length<i)){var r=n[i],s=h?r:k.cleanNumber(r);o.push(s)}}}),o},P.getDataToPixel=function(w,b,h,o){var t,i=w._fullLayout._size;if(b)if(o==="domain")t=function(r){return b._length*(h?1-r:r)+b._offset};else{var n=P.shapePositionToRange(b);t=function(r){return b._offset+b.r2p(n(r,!0))},b.type==="date"&&(t=P.decodeDate(t))}else t=h?function(r){return i.t+i.h*(1-r)}:function(r){return i.l+i.w*r};return t},P.getPixelToData=function(w,b,h,o){var t,i=w._fullLayout._size;if(b)if(o==="domain")t=function(r){var s=(r-b._offset)/b._length;return h?1-s:s};else{var n=P.rangeToShapePosition(b);t=function(r){return n(b.p2r(r-b._offset))}}else t=h?function(r){return 1-(r-i.t)/i.h}:function(r){return(r-i.l)/i.w};return t},P.roundPositionForSharpStrokeRendering=function(w,b){var h=Math.round(b%2)===1,o=Math.round(w);return h?o+.5:o},P.makeShapesOptionsAndPlotinfo=function(w,b){var h=w._fullLayout.shapes[b]||{},o=w._fullLayout._plots[h.xref+h.yref];return o?o._hadPlotinfo=!0:(o={},h.xref&&h.xref!=="paper"&&(o.xaxis=w._fullLayout[h.xref+"axis"]),h.yref&&h.yref!=="paper"&&(o.yaxis=w._fullLayout[h.yref+"axis"])),o.xsizemode=h.xsizemode,o.ysizemode=h.ysizemode,o.xanchor=h.xanchor,o.yanchor=h.yanchor,{options:h,plotinfo:o}},P.makeSelectionsOptionsAndPlotinfo=function(w,b){var h=w._fullLayout.selections[b]||{},o=w._fullLayout._plots[h.xref+h.yref];return o?o._hadPlotinfo=!0:(o={},h.xref&&(o.xaxis=w._fullLayout[h.xref+"axis"]),h.yref&&(o.yaxis=w._fullLayout[h.yref+"axis"])),{options:h,plotinfo:o}},P.getPathString=function(w,b){var h,o,t,i,n,r,s,l,u=b.type,d=a.getRefType(b.xref),c=a.getRefType(b.yref),x=a.getFromId(w,b.xref),g=a.getFromId(w,b.yref),p=w._fullLayout._size;if(x?d==="domain"?o=function(C){return x._offset+x._length*C}:(h=P.shapePositionToRange(x),o=function(C){return x._offset+x.r2p(h(C,!0))}):o=function(C){return p.l+p.w*C},g?c==="domain"?i=function(C){return g._offset+g._length*(1-C)}:(t=P.shapePositionToRange(g),i=function(C){return g._offset+g.r2p(t(C,!0))}):i=function(C){return p.t+p.h*(1-C)},u==="path")return x&&x.type==="date"&&(o=P.decodeDate(o)),g&&g.type==="date"&&(i=P.decodeDate(i)),function(C,O,I){var z=C.path,U=C.xsizemode,D=C.ysizemode,B=C.xanchor,Z=C.yanchor;return z.replace(A.segmentRE,function(F){var j=0,V=F.charAt(0),te=A.paramIsX[V],Q=A.paramIsY[V],$=A.numParams[V],G=F.substr(1).replace(A.paramRE,function(X){return te[j]?X=U==="pixel"?O(B)+Number(X):O(X):Q[j]&&(X=D==="pixel"?I(Z)-Number(X):I(X)),++j>$&&(X="X"),X});return j>$&&(G=G.replace(/[\s,]*X.*/,""),k.log("Ignoring extra params in segment "+F)),V+G})}(b,o,i);if(b.xsizemode==="pixel"){var v=o(b.xanchor);n=v+b.x0,r=v+b.x1}else n=o(b.x0),r=o(b.x1);if(b.ysizemode==="pixel"){var y=i(b.yanchor);s=y-b.y0,l=y-b.y1}else s=i(b.y0),l=i(b.y1);if(u==="line")return"M"+n+","+s+"L"+r+","+l;if(u==="rect")return"M"+n+","+s+"H"+r+"V"+l+"H"+n+"Z";var m=(n+r)/2,_=(s+l)/2,f=Math.abs(m-n),S=Math.abs(_-s),T="A"+f+","+S,E=m+f+","+_;return"M"+E+T+" 0 1,1 "+m+","+(_-S)+T+" 0 0,1 "+E+"Z"}},41592:function(Y,P,e){var A=e(4016);Y.exports={moduleType:"component",name:"shapes",layoutAttributes:e(46056),supplyLayoutDefaults:e(43712),supplyDrawNewShapeDefaults:e(65144),includeBasePlot:e(36632)("shapes"),calcAutorange:e(96084),draw:A.draw,drawOne:A.drawOne}},97728:function(Y){function P(a,w){return w?w.d2l(a):a}function e(a,w){return w?w.l2d(a):a}function A(a,w){return P(a.x1,w)-P(a.x0,w)}function k(a,w,b){return P(a.y1,b)-P(a.y0,b)}Y.exports={x0:function(a){return a.x0},x1:function(a){return a.x1},y0:function(a){return a.y0},y1:function(a){return a.y1},slope:function(a,w,b){return a.type!=="line"?void 0:k(a,0,b)/A(a,w)},dx:A,dy:k,width:function(a,w){return Math.abs(A(a,w))},height:function(a,w,b){return Math.abs(k(a,0,b))},length:function(a,w,b){return a.type!=="line"?void 0:Math.sqrt(Math.pow(A(a,w),2)+Math.pow(k(a,0,b),2))},xcenter:function(a,w){return e((P(a.x1,w)+P(a.x0,w))/2,w)},ycenter:function(a,w,b){return e((P(a.y1,b)+P(a.y0,b))/2,b)}}},89861:function(Y,P,e){var A=e(25376),k=e(66741),a=e(92880).extendDeepAll,w=e(67824).overrideAll,b=e(85656),h=e(31780).templatedArray,o=e(60876),t=h("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});Y.exports=w(h("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(k({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:b.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:A({})},font:A({}),activebgcolor:{valType:"color",dflt:o.gripBgActiveColor},bgcolor:{valType:"color",dflt:o.railBgColor},bordercolor:{valType:"color",dflt:o.railBorderColor},borderwidth:{valType:"number",min:0,dflt:o.railBorderWidth},ticklen:{valType:"number",min:0,dflt:o.tickLength},tickcolor:{valType:"color",dflt:o.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:o.minorTickLength}}),"arraydraw","from-root")},60876:function(Y){Y.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(Y,P,e){var A=e(3400),k=e(51272),a=e(89861),w=e(60876).name,b=a.steps;function h(t,i,n){function r(c,x){return A.coerce(t,i,a,c,x)}for(var s=k(t,i,{name:"steps",handleItemDefaults:o}),l=0,u=0;u<s.length;u++)s[u].visible&&l++;if(l<2?i.visible=!1:r("visible")){i._stepCount=l;var d=i._visibleSteps=A.filterVisible(s);(s[r("active")]||{}).visible||(i.active=d[0]._index),r("x"),r("y"),A.noneOrAll(t,i,["x","y"]),r("xanchor"),r("yanchor"),r("len"),r("lenmode"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),A.coerceFont(r,"font",n.font),r("currentvalue.visible")&&(r("currentvalue.xanchor"),r("currentvalue.prefix"),r("currentvalue.suffix"),r("currentvalue.offset"),A.coerceFont(r,"currentvalue.font",i.font)),r("transition.duration"),r("transition.easing"),r("bgcolor"),r("activebgcolor"),r("bordercolor"),r("borderwidth"),r("ticklen"),r("tickwidth"),r("tickcolor"),r("minorticklen")}}function o(t,i){function n(s,l){return A.coerce(t,i,b,s,l)}if(t.method==="skip"||Array.isArray(t.args)?n("visible"):i.visible=!1){n("method"),n("args");var r=n("label","step-"+i._index);n("value",r),n("execute")}}Y.exports=function(t,i){k(t,i,{name:w,handleItemDefaults:h})}},79664:function(Y,P,e){var A=e(33428),k=e(7316),a=e(76308),w=e(43616),b=e(3400),h=b.strTranslate,o=e(72736),t=e(31780).arrayEditor,i=e(60876),n=e(84284),r=n.LINE_SPACING,s=n.FROM_TL,l=n.FROM_BR;function u(I){return i.autoMarginIdRoot+I._index}function d(I){return I._index}function c(I,z){var U=w.tester.selectAll("g."+i.labelGroupClass).data(z._visibleSteps);U.enter().append("g").classed(i.labelGroupClass,!0);var D=0,B=0;U.each(function(X){var J=p(A.select(this),{step:X},z).node();if(J){var ne=w.bBox(J);B=Math.max(B,ne.height),D=Math.max(D,ne.width)}}),U.remove();var Z=z._dims={};Z.inputAreaWidth=Math.max(i.railWidth,i.gripHeight);var F=I._fullLayout._size;Z.lx=F.l+F.w*z.x,Z.ly=F.t+F.h*(1-z.y),z.lenmode==="fraction"?Z.outerLength=Math.round(F.w*z.len):Z.outerLength=z.len,Z.inputAreaStart=0,Z.inputAreaLength=Math.round(Z.outerLength-z.pad.l-z.pad.r);var j=(Z.inputAreaLength-2*i.stepInset)/(z._stepCount-1),V=D+i.labelPadding;if(Z.labelStride=Math.max(1,Math.ceil(V/j)),Z.labelHeight=B,Z.currentValueMaxWidth=0,Z.currentValueHeight=0,Z.currentValueTotalHeight=0,Z.currentValueMaxLines=1,z.currentvalue.visible){var te=w.tester.append("g");U.each(function(X){var J=x(te,z,X.label),ne=J.node()&&w.bBox(J.node())||{width:0,height:0},ie=o.lineCount(J);Z.currentValueMaxWidth=Math.max(Z.currentValueMaxWidth,Math.ceil(ne.width)),Z.currentValueHeight=Math.max(Z.currentValueHeight,Math.ceil(ne.height)),Z.currentValueMaxLines=Math.max(Z.currentValueMaxLines,ie)}),Z.currentValueTotalHeight=Z.currentValueHeight+z.currentvalue.offset,te.remove()}Z.height=Z.currentValueTotalHeight+i.tickOffset+z.ticklen+i.labelOffset+Z.labelHeight+z.pad.t+z.pad.b;var Q="left";b.isRightAnchor(z)&&(Z.lx-=Z.outerLength,Q="right"),b.isCenterAnchor(z)&&(Z.lx-=Z.outerLength/2,Q="center");var $="top";b.isBottomAnchor(z)&&(Z.ly-=Z.height,$="bottom"),b.isMiddleAnchor(z)&&(Z.ly-=Z.height/2,$="middle"),Z.outerLength=Math.ceil(Z.outerLength),Z.height=Math.ceil(Z.height),Z.lx=Math.round(Z.lx),Z.ly=Math.round(Z.ly);var G={y:z.y,b:Z.height*l[$],t:Z.height*s[$]};z.lenmode==="fraction"?(G.l=0,G.xl=z.x-z.len*s[Q],G.r=0,G.xr=z.x+z.len*l[Q]):(G.x=z.x,G.l=Z.outerLength*s[Q],G.r=Z.outerLength*l[Q]),k.autoMargin(I,u(z),G)}function x(I,z,U){if(z.currentvalue.visible){var D,B,Z=z._dims;switch(z.currentvalue.xanchor){case"right":D=Z.inputAreaLength-i.currentValueInset-Z.currentValueMaxWidth,B="left";break;case"center":D=.5*Z.inputAreaLength,B="middle";break;default:D=i.currentValueInset,B="left"}var F=b.ensureSingle(I,"text",i.labelClass,function(G){G.attr({"text-anchor":B,"data-notex":1})}),j=z.currentvalue.prefix?z.currentvalue.prefix:"";if(typeof U=="string")j+=U;else{var V=z.steps[z.active].label,te=z._gd._fullLayout._meta;te&&(V=b.templateString(V,te)),j+=V}z.currentvalue.suffix&&(j+=z.currentvalue.suffix),F.call(w.font,z.currentvalue.font).text(j).call(o.convertToTspans,z._gd);var Q=o.lineCount(F),$=(Z.currentValueMaxLines+1-Q)*z.currentvalue.font.size*r;return o.positionText(F,D,$),F}}function g(I,z,U){b.ensureSingle(I,"rect",i.gripRectClass,function(D){D.call(_,z,I,U).style("pointer-events","all")}).attr({width:i.gripWidth,height:i.gripHeight,rx:i.gripRadius,ry:i.gripRadius}).call(a.stroke,U.bordercolor).call(a.fill,U.bgcolor).style("stroke-width",U.borderwidth+"px")}function p(I,z,U){var D=b.ensureSingle(I,"text",i.labelClass,function(F){F.attr({"text-anchor":"middle","data-notex":1})}),B=z.step.label,Z=U._gd._fullLayout._meta;return Z&&(B=b.templateString(B,Z)),D.call(w.font,U.font).text(B).call(o.convertToTspans,U._gd),D}function v(I,z){var U=b.ensureSingle(I,"g",i.labelsClass),D=z._dims,B=U.selectAll("g."+i.labelGroupClass).data(D.labelSteps);B.enter().append("g").classed(i.labelGroupClass,!0),B.exit().remove(),B.each(function(Z){var F=A.select(this);F.call(p,Z,z),w.setTranslate(F,T(z,Z.fraction),i.tickOffset+z.ticklen+z.font.size*r+i.labelOffset+D.currentValueTotalHeight)})}function y(I,z,U,D,B){var Z=Math.round(D*(U._stepCount-1)),F=U._visibleSteps[Z]._index;F!==U.active&&m(I,z,U,F,!0,B)}function m(I,z,U,D,B,Z){var F=U.active;U.active=D,t(I.layout,i.name,U).applyUpdate("active",D);var j=U.steps[U.active];z.call(S,U,Z),z.call(x,U),I.emit("plotly_sliderchange",{slider:U,step:U.steps[U.active],interaction:B,previousActive:F}),j&&j.method&&B&&(z._nextMethod?(z._nextMethod.step=j,z._nextMethod.doCallback=B,z._nextMethod.doTransition=Z):(z._nextMethod={step:j,doCallback:B,doTransition:Z},z._nextMethodRaf=window.requestAnimationFrame(function(){var V=z._nextMethod.step;V.method&&(V.execute&&k.executeAPICommand(I,V.method,V.args),z._nextMethod=null,z._nextMethodRaf=null)})))}function _(I,z,U){if(!z._context.staticPlot){var D=U.node(),B=A.select(z);I.on("mousedown",F),I.on("touchstart",F)}function Z(){return U.data()[0]}function F(){var j=Z();z.emit("plotly_sliderstart",{slider:j});var V=U.select("."+i.gripRectClass);A.event.stopPropagation(),A.event.preventDefault(),V.call(a.fill,j.activebgcolor);var te=E(j,A.mouse(D)[0]);function Q(){var G=Z(),X=E(G,A.mouse(D)[0]);y(z,U,G,X,!1)}function $(){var G=Z();G._dragging=!1,V.call(a.fill,G.bgcolor),B.on("mouseup",null),B.on("mousemove",null),B.on("touchend",null),B.on("touchmove",null),z.emit("plotly_sliderend",{slider:G,step:G.steps[G.active]})}y(z,U,j,te,!0),j._dragging=!0,B.on("mousemove",Q),B.on("touchmove",Q),B.on("mouseup",$),B.on("touchend",$)}}function f(I,z){var U=I.selectAll("rect."+i.tickRectClass).data(z._visibleSteps),D=z._dims;U.enter().append("rect").classed(i.tickRectClass,!0),U.exit().remove(),U.attr({width:z.tickwidth+"px","shape-rendering":"crispEdges"}),U.each(function(B,Z){var F=Z%D.labelStride==0,j=A.select(this);j.attr({height:F?z.ticklen:z.minorticklen}).call(a.fill,z.tickcolor),w.setTranslate(j,T(z,Z/(z._stepCount-1))-.5*z.tickwidth,(F?i.tickOffset:i.minorTickOffset)+D.currentValueTotalHeight)})}function S(I,z,U){for(var D=I.select("rect."+i.gripRectClass),B=0,Z=0;Z<z._stepCount;Z++)if(z._visibleSteps[Z]._index===z.active){B=Z;break}var F=T(z,B/(z._stepCount-1));if(!z._invokingCommand){var j=D;U&&z.transition.duration>0&&(j=j.transition().duration(z.transition.duration).ease(z.transition.easing)),j.attr("transform",h(F-.5*i.gripWidth,z._dims.currentValueTotalHeight))}}function T(I,z){var U=I._dims;return U.inputAreaStart+i.stepInset+(U.inputAreaLength-2*i.stepInset)*Math.min(1,Math.max(0,z))}function E(I,z){var U=I._dims;return Math.min(1,Math.max(0,(z-i.stepInset-U.inputAreaStart)/(U.inputAreaLength-2*i.stepInset-2*U.inputAreaStart)))}function C(I,z,U){var D=U._dims,B=b.ensureSingle(I,"rect",i.railTouchRectClass,function(Z){Z.call(_,z,I,U).style("pointer-events","all")});B.attr({width:D.inputAreaLength,height:Math.max(D.inputAreaWidth,i.tickOffset+U.ticklen+D.labelHeight)}).call(a.fill,U.bgcolor).attr("opacity",0),w.setTranslate(B,0,D.currentValueTotalHeight)}function O(I,z){var U=z._dims,D=U.inputAreaLength-2*i.railInset,B=b.ensureSingle(I,"rect",i.railRectClass);B.attr({width:D,height:i.railWidth,rx:i.railRadius,ry:i.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,z.bordercolor).call(a.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px"),w.setTranslate(B,i.railInset,.5*(U.inputAreaWidth-i.railWidth)+U.currentValueTotalHeight)}Y.exports=function(I){var z=I._context.staticPlot,U=I._fullLayout,D=function(te,Q){for(var $=te[i.name],G=[],X=0;X<$.length;X++){var J=$[X];J.visible&&(J._gd=Q,G.push(J))}return G}(U,I),B=U._infolayer.selectAll("g."+i.containerClassName).data(D.length>0?[0]:[]);function Z(te){te._commandObserver&&(te._commandObserver.remove(),delete te._commandObserver),k.autoMargin(I,u(te))}if(B.enter().append("g").classed(i.containerClassName,!0).style("cursor",z?null:"ew-resize"),B.exit().each(function(){A.select(this).selectAll("g."+i.groupClassName).each(Z)}).remove(),D.length!==0){var F=B.selectAll("g."+i.groupClassName).data(D,d);F.enter().append("g").classed(i.groupClassName,!0),F.exit().each(Z).remove();for(var j=0;j<D.length;j++){var V=D[j];c(I,V)}F.each(function(te){var Q=A.select(this);(function($){var G=$._dims;G.labelSteps=[];for(var X=$._stepCount,J=0;J<X;J+=G.labelStride)G.labelSteps.push({fraction:J/(X-1),step:$._visibleSteps[J]})})(te),k.manageCommandObserver(I,te,te._visibleSteps,function($){var G=Q.data()[0];G.active!==$.index&&(G._dragging||m(I,Q,G,$.index,!1,!0))}),function($,G,X){(X.steps[X.active]||{}).visible||(X.active=X._visibleSteps[0]._index),G.call(x,X).call(O,X).call(v,X).call(f,X).call(C,$,X).call(g,$,X);var J=X._dims;w.setTranslate(G,J.lx+X.pad.l,J.ly+X.pad.t),G.call(S,X,!1),G.call(x,X)}(I,A.select(this),te)})}}},97544:function(Y,P,e){var A=e(60876);Y.exports={moduleType:"component",name:A.name,layoutAttributes:e(89861),supplyLayoutDefaults:e(8132),draw:e(79664)}},81668:function(Y,P,e){var A=e(33428),k=e(38248),a=e(7316),w=e(24040),b=e(3400),h=b.strTranslate,o=e(43616),t=e(76308),i=e(72736),n=e(13448),r=e(84284).OPPOSITE_SIDE,s=/ [XY][0-9]* /;Y.exports={draw:function(l,u,d){var c,x=d.propContainer,g=d.propName,p=d.placeholder,v=d.traceIndex,y=d.avoid||{},m=d.attributes,_=d.transform,f=d.containerGroup,S=l._fullLayout,T=1,E=!1,C=x.title,O=(C&&C.text?C.text:"").trim(),I=C&&C.font?C.font:{},z=I.family,U=I.size,D=I.color;g==="title.text"?c="titleText":g.indexOf("axis")!==-1?c="axisTitleText":g.indexOf(!0)&&(c="colorbarTitleText");var B=l._context.edits[c];O===""?T=0:O.replace(s," % ")===p.replace(s," % ")&&(T=.2,E=!0,B||(O="")),d._meta?O=b.templateString(O,d._meta):S._meta&&(O=b.templateString(O,S._meta));var Z,F=O||B;f||(f=b.ensureSingle(S._infolayer,"g","g-"+u),Z=S._hColorbarMoveTitle);var j=f.selectAll("text").data(F?[0]:[]);if(j.enter().append("text"),j.text(O).attr("class",u),j.exit().remove(),!F)return f;function V($){b.syncOrAsync([te,Q],$)}function te($){var G;return!_&&Z&&(_={}),_?(G="",_.rotate&&(G+="rotate("+[_.rotate,m.x,m.y]+")"),(_.offset||Z)&&(G+=h(0,(_.offset||0)-(Z||0)))):G=null,$.attr("transform",G),$.style({"font-family":z,"font-size":A.round(U,2)+"px",fill:t.rgb(D),opacity:T*t.opacity(D),"font-weight":a.fontWeight}).attr(m).call(i.convertToTspans,l),a.previousPromises(l)}function Q($){var G=A.select($.node().parentNode);if(y&&y.selection&&y.side&&O){G.attr("transform",null);var X=r[y.side],J=y.side==="left"||y.side==="top"?-1:1,ne=k(y.pad)?y.pad:2,ie=o.bBox(G.node()),ae={t:0,b:0,l:0,r:0},le=l._fullLayout._reservedMargin;for(var ce in le)for(var pe in le[ce]){var ge=le[ce][pe];ae[pe]=Math.max(ae[pe],ge)}var me={left:ae.l,top:ae.t,right:S.width-ae.r,bottom:S.height-ae.b},ve=y.maxShift||J*(me[y.side]-ie[y.side]),Me=0;if(ve<0)Me=ve;else{var _e=y.offsetLeft||0,we=y.offsetTop||0;ie.left-=_e,ie.right-=_e,ie.top-=we,ie.bottom-=we,y.selection.each(function(){var se=o.bBox(this);b.bBoxIntersect(ie,se,ne)&&(Me=Math.max(Me,J*(se[y.side]-ie[X])+ne))}),Me=Math.min(ve,Me),x._titleScoot=Math.abs(Me)}if(Me>0||ve<0){var oe={left:[-Me,0],right:[Me,0],top:[0,-Me],bottom:[0,Me]}[y.side];G.attr("transform",h(oe[0],oe[1]))}}}return j.call(V),B&&(O?j.on(".opacity",null):(T=0,E=!0,j.text(p).on("mouseover.opacity",function(){A.select(this).transition().duration(n.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){A.select(this).transition().duration(n.HIDE_PLACEHOLDER).style("opacity",0)})),j.call(i.makeEditable,{gd:l}).on("edit",function($){v!==void 0?w.call("_guiRestyle",l,g,$,v):w.call("_guiRelayout",l,g,$)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(V)}).on("input",function($){this.text($||" ").call(i.positionText,m.x,m.y)})),j.classed("js-placeholder",E),f}}},88444:function(Y,P,e){var A=e(25376),k=e(22548),a=e(92880).extendFlat,w=e(67824).overrideAll,b=e(66741),h=e(31780).templatedArray,o=h("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});Y.exports=w(h("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:o,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(b({editType:"arraydraw"}),{}),font:A({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:k.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},73712:function(Y){Y.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25C4",right:"\u25BA",up:"\u25B2",down:"\u25BC"}}},91384:function(Y,P,e){var A=e(3400),k=e(51272),a=e(88444),w=e(73712).name,b=a.buttons;function h(t,i,n){function r(s,l){return A.coerce(t,i,a,s,l)}r("visible",k(t,i,{name:"buttons",handleItemDefaults:o}).length>0)&&(r("active"),r("direction"),r("type"),r("showactive"),r("x"),r("y"),A.noneOrAll(t,i,["x","y"]),r("xanchor"),r("yanchor"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),A.coerceFont(r,"font",n.font),r("bgcolor",n.paper_bgcolor),r("bordercolor"),r("borderwidth"))}function o(t,i){function n(r,s){return A.coerce(t,i,b,r,s)}n("visible",t.method==="skip"||Array.isArray(t.args))&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}Y.exports=function(t,i){k(t,i,{name:w,handleItemDefaults:h})}},14420:function(Y,P,e){var A=e(33428),k=e(7316),a=e(76308),w=e(43616),b=e(3400),h=e(72736),o=e(31780).arrayEditor,t=e(84284).LINE_SPACING,i=e(73712),n=e(37400);function r(T){return T._index}function s(T,E){return+T.attr(i.menuIndexAttrName)===E._index}function l(T,E,C,O,I,z,U,D){E.active=U,o(T.layout,i.name,E).applyUpdate("active",U),E.type==="buttons"?d(T,O,null,null,E):E.type==="dropdown"&&(I.attr(i.menuIndexAttrName,"-1"),u(T,O,I,z,E),D||d(T,O,I,z,E))}function u(T,E,C,O,I){var z=b.ensureSingle(E,"g",i.headerClassName,function(j){j.style("pointer-events","all")}),U=I._dims,D=I.active,B=I.buttons[D]||i.blankHeaderOpts,Z={y:I.pad.t,yPad:0,x:I.pad.l,xPad:0,index:0},F={width:U.headerWidth,height:U.headerHeight};z.call(c,I,B,T).call(f,I,Z,F),b.ensureSingle(E,"text",i.headerArrowClassName,function(j){j.attr("text-anchor","end").call(w.font,I.font).text(i.arrowSymbol[I.direction])}).attr({x:U.headerWidth-i.arrowOffsetX+I.pad.l,y:U.headerHeight/2+i.textOffsetY+I.pad.t}),z.on("click",function(){C.call(S,String(s(C,I)?-1:I._index)),d(T,E,C,O,I)}),z.on("mouseover",function(){z.call(v)}),z.on("mouseout",function(){z.call(y,I)}),w.setTranslate(E,U.lx,U.ly)}function d(T,E,C,O,I){C||(C=E).attr("pointer-events","all");var z=function(G){return+G.attr(i.menuIndexAttrName)==-1}(C)&&I.type!=="buttons"?[]:I.buttons,U=I.type==="dropdown"?i.dropdownButtonClassName:i.buttonClassName,D=C.selectAll("g."+U).data(b.filterVisible(z)),B=D.enter().append("g").classed(U,!0),Z=D.exit();I.type==="dropdown"?(B.attr("opacity","0").transition().attr("opacity","1"),Z.transition().attr("opacity","0").remove()):Z.remove();var F=0,j=0,V=I._dims,te=["up","down"].indexOf(I.direction)!==-1;I.type==="dropdown"&&(te?j=V.headerHeight+i.gapButtonHeader:F=V.headerWidth+i.gapButtonHeader),I.type==="dropdown"&&I.direction==="up"&&(j=-i.gapButtonHeader+i.gapButton-V.openHeight),I.type==="dropdown"&&I.direction==="left"&&(F=-i.gapButtonHeader+i.gapButton-V.openWidth);var Q={x:V.lx+F+I.pad.l,y:V.ly+j+I.pad.t,yPad:i.gapButton,xPad:i.gapButton,index:0},$={l:Q.x+I.borderwidth,t:Q.y+I.borderwidth};D.each(function(G,X){var J=A.select(this);J.call(c,I,G,T).call(f,I,Q),J.on("click",function(){A.event.defaultPrevented||(G.execute&&(G.args2&&I.active===X?(l(T,I,0,E,C,O,-1),k.executeAPICommand(T,G.method,G.args2)):(l(T,I,0,E,C,O,X),k.executeAPICommand(T,G.method,G.args))),T.emit("plotly_buttonclicked",{menu:I,button:G,active:I.active}))}),J.on("mouseover",function(){J.call(v)}),J.on("mouseout",function(){J.call(y,I),D.call(p,I)})}),D.call(p,I),te?($.w=Math.max(V.openWidth,V.headerWidth),$.h=Q.y-$.t):($.w=Q.x-$.l,$.h=Math.max(V.openHeight,V.headerHeight)),$.direction=I.direction,O&&(D.size()?function(G,X,J,ne,ie,ae){var le,ce,pe,ge=ie.direction,me=ge==="up"||ge==="down",ve=ie._dims,Me=ie.active;if(me)for(ce=0,pe=0;pe<Me;pe++)ce+=ve.heights[pe]+i.gapButton;else for(le=0,pe=0;pe<Me;pe++)le+=ve.widths[pe]+i.gapButton;ne.enable(ae,le,ce),ne.hbar&&ne.hbar.attr("opacity","0").transition().attr("opacity","1"),ne.vbar&&ne.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,O,I,$):function(G){var X=!!G.hbar,J=!!G.vbar;X&&G.hbar.transition().attr("opacity","0").each("end",function(){X=!1,J||G.disable()}),J&&G.vbar.transition().attr("opacity","0").each("end",function(){J=!1,X||G.disable()})}(O))}function c(T,E,C,O){T.call(x,E).call(g,E,C,O)}function x(T,E){b.ensureSingle(T,"rect",i.itemRectClassName,function(C){C.attr({rx:i.rx,ry:i.ry,"shape-rendering":"crispEdges"})}).call(a.stroke,E.bordercolor).call(a.fill,E.bgcolor).style("stroke-width",E.borderwidth+"px")}function g(T,E,C,O){var I=b.ensureSingle(T,"text",i.itemTextClassName,function(D){D.attr({"text-anchor":"start","data-notex":1})}),z=C.label,U=O._fullLayout._meta;U&&(z=b.templateString(z,U)),I.call(w.font,E.font).text(z).call(h.convertToTspans,O)}function p(T,E){var C=E.active;T.each(function(O,I){var z=A.select(this);I===C&&E.showactive&&z.select("rect."+i.itemRectClassName).call(a.fill,i.activeColor)})}function v(T){T.select("rect."+i.itemRectClassName).call(a.fill,i.hoverColor)}function y(T,E){T.select("rect."+i.itemRectClassName).call(a.fill,E.bgcolor)}function m(T,E){var C=E._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},O=w.tester.selectAll("g."+i.dropdownButtonClassName).data(b.filterVisible(E.buttons));O.enter().append("g").classed(i.dropdownButtonClassName,!0);var I=["up","down"].indexOf(E.direction)!==-1;O.each(function(F,j){var V=A.select(this);V.call(c,E,F,T);var te=V.select("."+i.itemTextClassName),Q=te.node()&&w.bBox(te.node()).width,$=Math.max(Q+i.textPadX,i.minWidth),G=E.font.size*t,X=h.lineCount(te),J=Math.max(G*X,i.minHeight)+i.textOffsetY;J=Math.ceil(J),$=Math.ceil($),C.widths[j]=$,C.heights[j]=J,C.height1=Math.max(C.height1,J),C.width1=Math.max(C.width1,$),I?(C.totalWidth=Math.max(C.totalWidth,$),C.openWidth=C.totalWidth,C.totalHeight+=J+i.gapButton,C.openHeight+=J+i.gapButton):(C.totalWidth+=$+i.gapButton,C.openWidth+=$+i.gapButton,C.totalHeight=Math.max(C.totalHeight,J),C.openHeight=C.totalHeight)}),I?C.totalHeight-=i.gapButton:C.totalWidth-=i.gapButton,C.headerWidth=C.width1+i.arrowPadX,C.headerHeight=C.height1,E.type==="dropdown"&&(I?(C.width1+=i.arrowPadX,C.totalHeight=C.height1):C.totalWidth=C.width1,C.totalWidth+=i.arrowPadX),O.remove();var z=C.totalWidth+E.pad.l+E.pad.r,U=C.totalHeight+E.pad.t+E.pad.b,D=T._fullLayout._size;C.lx=D.l+D.w*E.x,C.ly=D.t+D.h*(1-E.y);var B="left";b.isRightAnchor(E)&&(C.lx-=z,B="right"),b.isCenterAnchor(E)&&(C.lx-=z/2,B="center");var Z="top";b.isBottomAnchor(E)&&(C.ly-=U,Z="bottom"),b.isMiddleAnchor(E)&&(C.ly-=U/2,Z="middle"),C.totalWidth=Math.ceil(C.totalWidth),C.totalHeight=Math.ceil(C.totalHeight),C.lx=Math.round(C.lx),C.ly=Math.round(C.ly),k.autoMargin(T,_(E),{x:E.x,y:E.y,l:z*({right:1,center:.5}[B]||0),r:z*({left:1,center:.5}[B]||0),b:U*({top:1,middle:.5}[Z]||0),t:U*({bottom:1,middle:.5}[Z]||0)})}function _(T){return i.autoMarginIdRoot+T._index}function f(T,E,C,O){O=O||{};var I=T.select("."+i.itemRectClassName),z=T.select("."+i.itemTextClassName),U=E.borderwidth,D=C.index,B=E._dims;w.setTranslate(T,U+C.x,U+C.y);var Z=["up","down"].indexOf(E.direction)!==-1,F=O.height||(Z?B.heights[D]:B.height1);I.attr({x:0,y:0,width:O.width||(Z?B.width1:B.widths[D]),height:F});var j=E.font.size*t,V=(h.lineCount(z)-1)*j/2;h.positionText(z,i.textOffsetX,F/2-V+i.textOffsetY),Z?C.y+=B.heights[D]+C.yPad:C.x+=B.widths[D]+C.xPad,C.index++}function S(T,E){T.attr(i.menuIndexAttrName,E||"-1").selectAll("g."+i.dropdownButtonClassName).remove()}Y.exports=function(T){var E=T._fullLayout,C=b.filterVisible(E[i.name]);function O(j){k.autoMargin(T,_(j))}var I=E._menulayer.selectAll("g."+i.containerClassName).data(C.length>0?[0]:[]);if(I.enter().append("g").classed(i.containerClassName,!0).style("cursor","pointer"),I.exit().each(function(){A.select(this).selectAll("g."+i.headerGroupClassName).each(O)}).remove(),C.length!==0){var z=I.selectAll("g."+i.headerGroupClassName).data(C,r);z.enter().append("g").classed(i.headerGroupClassName,!0);for(var U=b.ensureSingle(I,"g",i.dropdownButtonGroupClassName,function(j){j.style("pointer-events","all")}),D=0;D<C.length;D++){var B=C[D];m(T,B)}var Z="updatemenus"+E._uid,F=new n(T,U,Z);z.enter().size()&&(U.node().parentNode.appendChild(U.node()),U.call(S)),z.exit().each(function(j){U.call(S),O(j)}).remove(),z.each(function(j){var V=A.select(this),te=j.type==="dropdown"?U:null;k.manageCommandObserver(T,j,j.buttons,function(Q){l(T,j,j.buttons[Q.index],V,te,F,Q.index,!0)}),j.type==="dropdown"?(u(T,V,U,F,j),s(U,j)&&d(T,V,U,F,j)):d(T,V,null,null,j)})}}},76908:function(Y,P,e){var A=e(73712);Y.exports={moduleType:"component",name:A.name,layoutAttributes:e(88444),supplyLayoutDefaults:e(91384),draw:e(14420)}},37400:function(Y,P,e){Y.exports=b;var A=e(33428),k=e(76308),a=e(43616),w=e(3400);function b(h,o,t){this.gd=h,this.container=o,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}b.barWidth=2,b.barLength=20,b.barRadius=2,b.barPad=1,b.barColor="#808BA4",b.prototype.enable=function(h,o,t){var i=this.gd._fullLayout,n=i.width,r=i.height;this.position=h;var s,l,u,d,c=this.position.l,x=this.position.w,g=this.position.t,p=this.position.h,v=this.position.direction,y=v==="down",m=v==="left",_=v==="up",f=x,S=p;y||m||v==="right"||_||(this.position.direction="down",y=!0),y||_?(l=(s=c)+f,y?(u=g,S=(d=Math.min(u+S,r))-u):S=(d=g+S)-(u=Math.max(d-S,0))):(d=(u=g)+S,m?f=(l=c+f)-(s=Math.max(l-f,0)):(s=c,f=(l=Math.min(s+f,n))-s)),this._box={l:s,t:u,w:f,h:S};var T=x>f,E=b.barLength+2*b.barPad,C=b.barWidth+2*b.barPad,O=c,I=g+p;I+C>r&&(I=r-C);var z=this.container.selectAll("rect.scrollbar-horizontal").data(T?[0]:[]);z.exit().on(".drag",null).remove(),z.enter().append("rect").classed("scrollbar-horizontal",!0).call(k.fill,b.barColor),T?(this.hbar=z.attr({rx:b.barRadius,ry:b.barRadius,x:O,y:I,width:E,height:C}),this._hbarXMin=O+E/2,this._hbarTranslateMax=f-E):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var U=p>S,D=b.barWidth+2*b.barPad,B=b.barLength+2*b.barPad,Z=c+x,F=g;Z+D>n&&(Z=n-D);var j=this.container.selectAll("rect.scrollbar-vertical").data(U?[0]:[]);j.exit().on(".drag",null).remove(),j.enter().append("rect").classed("scrollbar-vertical",!0).call(k.fill,b.barColor),U?(this.vbar=j.attr({rx:b.barRadius,ry:b.barRadius,x:Z,y:F,width:D,height:B}),this._vbarYMin=F+B/2,this._vbarTranslateMax=S-B):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var V=this.id,te=s-.5,Q=U?l+D+.5:l+.5,$=u-.5,G=T?d+C+.5:d+.5,X=i._topdefs.selectAll("#"+V).data(T||U?[0]:[]);if(X.exit().remove(),X.enter().append("clipPath").attr("id",V).append("rect"),T||U?(this._clipRect=X.select("rect").attr({x:Math.floor(te),y:Math.floor($),width:Math.ceil(Q)-Math.floor(te),height:Math.ceil(G)-Math.floor($)}),this.container.call(a.setClipUrl,V,this.gd),this.bg.attr({x:c,y:g,width:x,height:p})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),T||U){var J=A.behavior.drag().on("dragstart",function(){A.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(J);var ne=A.behavior.drag().on("dragstart",function(){A.event.sourceEvent.preventDefault(),A.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));T&&this.hbar.on(".drag",null).call(ne),U&&this.vbar.on(".drag",null).call(ne)}this.setTranslate(o,t)},b.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},b.prototype._onBoxDrag=function(){var h=this.translateX,o=this.translateY;this.hbar&&(h-=A.event.dx),this.vbar&&(o-=A.event.dy),this.setTranslate(h,o)},b.prototype._onBoxWheel=function(){var h=this.translateX,o=this.translateY;this.hbar&&(h+=A.event.deltaY),this.vbar&&(o+=A.event.deltaY),this.setTranslate(h,o)},b.prototype._onBarDrag=function(){var h=this.translateX,o=this.translateY;if(this.hbar){var t=h+this._hbarXMin,i=t+this._hbarTranslateMax;h=(w.constrain(A.event.x,t,i)-t)/(i-t)*(this.position.w-this._box.w)}if(this.vbar){var n=o+this._vbarYMin,r=n+this._vbarTranslateMax;o=(w.constrain(A.event.y,n,r)-n)/(r-n)*(this.position.h-this._box.h)}this.setTranslate(h,o)},b.prototype.setTranslate=function(h,o){var t=this.position.w-this._box.w,i=this.position.h-this._box.h;if(h=w.constrain(h||0,0,t),o=w.constrain(o||0,0,i),this.translateX=h,this.translateY=o,this.container.call(a.setTranslate,this._box.l-this.position.l-h,this._box.t-this.position.t-o),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+h-.5),y:Math.floor(this.position.t+o-.5)}),this.hbar){var n=h/t;this.hbar.call(a.setTranslate,h+n*this._hbarTranslateMax,o)}if(this.vbar){var r=o/i;this.vbar.call(a.setTranslate,h,o+r*this._vbarTranslateMax)}}},84284:function(Y){Y.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},36208:function(Y){Y.exports={axisRefDescription:function(P,e,A){return["If set to a",P,"axis id (e.g. *"+P+"* or","*"+P+"2*), the `"+P+"` position refers to a",P,"coordinate. If set to *paper*, the `"+P+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+A+"). If set to a",P,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+P+"2 domain* refers to the domain of the second",P," axis and a",P,"position of 0.5 refers to the","point between the",e,"and the",A,"of the domain of the","second",P,"axis."].join(" ")}}},48164:function(Y){Y.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"\u25B2"},DECREASING:{COLOR:"#FF4136",SYMBOL:"\u25BC"}}},26880:function(Y){Y.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},69104:function(Y){Y.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},99168:function(Y){Y.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87792:function(Y){Y.exports={circle:"\u25CF","circle-open":"\u25CB",square:"\u25A0","square-open":"\u25A1",diamond:"\u25C6","diamond-open":"\u25C7",cross:"+",x:"\u274C"}},13448:function(Y){Y.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},39032:function(Y){Y.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},2264:function(Y,P){P.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],P.STYLE=P.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},9616:function(Y,P){P.xmlns="http://www.w3.org/2000/xmlns/",P.svg="http://www.w3.org/2000/svg",P.xlink="http://www.w3.org/1999/xlink",P.svgAttrs={xmlns:P.svg,"xmlns:xlink":P.xlink}},64884:function(Y,P,e){P.version=e(25788).version,e(88324),e(79288);for(var A=e(24040),k=P.register=A.register,a=e(22448),w=Object.keys(a),b=0;b<w.length;b++){var h=w[b];h.charAt(0)!=="_"&&(P[h]=a[h]),k({moduleType:"apiMethod",name:h,fn:a[h]})}k(e(65875)),k([e(79180),e(56864),e(22676),e(41592),e(7402),e(76908),e(97544),e(49692),e(41152),e(12704),e(64968),e(8932),e(55080),e(2780),e(93024),e(45460)]),k([e(6580),e(11680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(k(window.PlotlyLocales),delete window.PlotlyLocales),P.Icons=e(9224);var o=e(93024),t=e(7316);P.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},P.Fx={hover:o.hover,unhover:o.unhover,loneHover:o.loneHover,loneUnhover:o.loneUnhover},P.Snapshot=e(78904),P.PlotSchema=e(73060)},9224:function(Y){Y.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},98308:function(Y,P){P.isLeftAnchor=function(e){return e.xanchor==="left"||e.xanchor==="auto"&&e.x<=.3333333333333333},P.isCenterAnchor=function(e){return e.xanchor==="center"||e.xanchor==="auto"&&e.x>.3333333333333333&&e.x<.6666666666666666},P.isRightAnchor=function(e){return e.xanchor==="right"||e.xanchor==="auto"&&e.x>=.6666666666666666},P.isTopAnchor=function(e){return e.yanchor==="top"||e.yanchor==="auto"&&e.y>=.6666666666666666},P.isMiddleAnchor=function(e){return e.yanchor==="middle"||e.yanchor==="auto"&&e.y>.3333333333333333&&e.y<.6666666666666666},P.isBottomAnchor=function(e){return e.yanchor==="bottom"||e.yanchor==="auto"&&e.y<=.3333333333333333}},11864:function(Y,P,e){var A=e(20435),k=A.mod,a=A.modHalf,w=Math.PI,b=2*w;function h(n){return Math.abs(n[1]-n[0])>b-1e-14}function o(n,r){return a(r-n,b)}function t(n,r){if(h(r))return!0;var s,l;r[0]<r[1]?(s=r[0],l=r[1]):(s=r[1],l=r[0]),(s=k(s,b))>(l=k(l,b))&&(l+=b);var u=k(n,b),d=u+b;return u>=s&&u<=l||d>=s&&d<=l}function i(n,r,s,l,u,d,c){u=u||0,d=d||0;var x,g,p,v,y,m=h([s,l]);function _(E,C){return[E*Math.cos(C)+u,d-E*Math.sin(C)]}m?(x=0,g=w,p=b):s<l?(x=s,p=l):(x=l,p=s),n<r?(v=n,y=r):(v=r,y=n);var f,S=Math.abs(p-x)<=w?0:1;function T(E,C,O){return"A"+[E,E]+" "+[0,S,O]+" "+_(E,C)}return m?f=v===null?"M"+_(y,x)+T(y,g,0)+T(y,p,0)+"Z":"M"+_(v,x)+T(v,g,0)+T(v,p,0)+"ZM"+_(y,x)+T(y,g,1)+T(y,p,1)+"Z":v===null?(f="M"+_(y,x)+T(y,p,0),c&&(f+="L0,0Z")):f="M"+_(v,x)+"L"+_(y,x)+T(y,p,0)+"L"+_(v,p)+T(v,x,1)+"Z",f}Y.exports={deg2rad:function(n){return n/180*w},rad2deg:function(n){return n/w*180},angleDelta:o,angleDist:function(n,r){return Math.abs(o(n,r))},isFullCircle:h,isAngleInsideSector:t,isPtInsideSector:function(n,r,s,l){return!!t(r,l)&&(s[0]<s[1]?(u=s[0],d=s[1]):(u=s[1],d=s[0]),n>=u&&n<=d);var u,d},pathArc:function(n,r,s,l,u){return i(null,n,r,s,l,u,0)},pathSector:function(n,r,s,l,u){return i(null,n,r,s,l,u,1)},pathAnnulus:function(n,r,s,l,u,d){return i(n,r,s,l,u,d,1)}}},38116:function(Y,P,e){var A=e(83160).decode,k=e(63620),a=Array.isArray,w=ArrayBuffer,b=DataView;function h(r){return w.isView(r)&&!(r instanceof b)}function o(r){return a(r)||h(r)}P.isTypedArray=h,P.isArrayOrTypedArray=o,P.isArray1D=function(r){return!o(r[0])},P.ensureArray=function(r,s){return a(r)||(r=[]),r.length=s,r};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};function i(r){return r.constructor===ArrayBuffer}function n(r,s,l){if(o(r)){if(o(r[0])){for(var u=l,d=0;d<r.length;d++)u=s(u,r[d].length);return u}return r.length}return 0}t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8,P.isArrayBuffer=i,P.decodeTypedArraySpec=function(r){var s=[],l=function(E){return{bdata:E.bdata,dtype:E.dtype,shape:E.shape}}(r),u=l.dtype,d=t[u];if(!d)throw new Error('Error in dtype: "'+u+'"');var c=d.BYTES_PER_ELEMENT,x=l.bdata;i(x)||(x=A(x));var g=l.shape===void 0?[x.byteLength/c]:(""+l.shape).split(",");g.reverse();var p,v,y=g.length,m=+g[0],_=c*m,f=0;if(y===1)s=new d(x);else if(y===2)for(p=+g[1],v=0;v<p;v++)s[v]=new d(x,f,m),f+=_;else{if(y!==3)throw new Error("ndim: "+y+'is not supported with the shape:"'+l.shape+'"');p=+g[1];for(var S=+g[2],T=0;T<S;T++)for(s[T]=[],v=0;v<p;v++)s[T][v]=new d(x,f,m),f+=_}return s.bdata=l.bdata,s.dtype=l.dtype,s.shape=g.reverse().join(","),r._inputArray=s,s},P.isTypedArraySpec=function(r){return k(r)&&r.hasOwnProperty("dtype")&&typeof r.dtype=="string"&&r.hasOwnProperty("bdata")&&(typeof r.bdata=="string"||i(r.bdata))&&(r.shape===void 0||r.hasOwnProperty("shape")&&(typeof r.shape=="string"||typeof r.shape=="number"))},P.concat=function(){var r,s,l,u,d,c,x,g,p=[],v=!0,y=0;for(l=0;l<arguments.length;l++)(c=(u=arguments[l]).length)&&(s?p.push(u):(s=u,d=c),a(u)?r=!1:(v=!1,y?r!==u.constructor&&(r=!1):r=u.constructor),y+=c);if(!y)return[];if(!p.length)return s;if(v)return s.concat.apply(s,p);if(r){for((x=new r(y)).set(s),l=0;l<p.length;l++)u=p[l],x.set(u,d),d+=u.length;return x}for(x=new Array(y),g=0;g<s.length;g++)x[g]=s[g];for(l=0;l<p.length;l++){for(u=p[l],g=0;g<u.length;g++)x[d+g]=u[g];d+=g}return x},P.maxRowLength=function(r){return n(r,Math.max,0)},P.minRowLength=function(r){return n(r,Math.min,1/0)}},54037:function(Y,P,e){var A=e(38248),k=e(39032).BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;Y.exports=function(w){return typeof w=="string"&&(w=w.replace(a,"")),A(w)?Number(w):k}},73696:function(Y){Y.exports=function(P){var e=P._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each(function(A){A.regl&&A.regl.clear({color:!0,depth:!0})})}},75352:function(Y){Y.exports=function(P){P._responsiveChartHandler&&(window.removeEventListener("resize",P._responsiveChartHandler),delete P._responsiveChartHandler)}},63064:function(Y,P,e){var A=e(38248),k=e(49760),a=e(45464),w=e(88304),b=e(76308),h=e(13448).DESELECTDIM,o=e(22296),t=e(53756).counter,i=e(20435).modHalf,n=e(38116).isArrayOrTypedArray,r=e(38116).isTypedArraySpec,s=e(38116).decodeTypedArraySpec;function l(u,d){var c=P.valObjectMeta[d.valType];if(d.arrayOk&&n(u))return!0;if(c.validateFunction)return c.validateFunction(u,d);var x={},g=x,p={set:function(v){g=v}};return c.coerceFunction(u,p,x,d),g!==x}P.valObjectMeta={data_array:{coerceFunction:function(u,d,c){d.set(n(u)?u:r(u)?s(u):c)}},enumerated:{coerceFunction:function(u,d,c,x){x.coerceNumber&&(u=+u),x.values.indexOf(u)===-1?d.set(c):d.set(u)},validateFunction:function(u,d){d.coerceNumber&&(u=+u);for(var c=d.values,x=0;x<c.length;x++){var g=String(c[x]);if(g.charAt(0)==="/"&&g.charAt(g.length-1)==="/"){if(new RegExp(g.substr(1,g.length-2)).test(u))return!0}else if(u===c[x])return!0}return!1}},boolean:{coerceFunction:function(u,d,c){u===!0||u===!1?d.set(u):d.set(c)}},number:{coerceFunction:function(u,d,c,x){!A(u)||x.min!==void 0&&u<x.min||x.max!==void 0&&u>x.max?d.set(c):d.set(+u)}},integer:{coerceFunction:function(u,d,c,x){u%1||!A(u)||x.min!==void 0&&u<x.min||x.max!==void 0&&u>x.max?d.set(c):d.set(+u)}},string:{coerceFunction:function(u,d,c,x){if(typeof u!="string"){var g=typeof u=="number";x.strict!==!0&&g?d.set(String(u)):d.set(c)}else x.noBlank&&!u?d.set(c):d.set(u)}},color:{coerceFunction:function(u,d,c){k(u).isValid()?d.set(u):d.set(c)}},colorlist:{coerceFunction:function(u,d,c){Array.isArray(u)&&u.length&&u.every(function(x){return k(x).isValid()})?d.set(u):d.set(c)}},colorscale:{coerceFunction:function(u,d,c){d.set(w.get(u,c))}},angle:{coerceFunction:function(u,d,c){u==="auto"?d.set("auto"):A(u)?d.set(i(+u,360)):d.set(c)}},subplotid:{coerceFunction:function(u,d,c,x){var g=x.regex||t(c);typeof u=="string"&&g.test(u)?d.set(u):d.set(c)},validateFunction:function(u,d){var c=d.dflt;return u===c||typeof u=="string"&&!!t(c).test(u)}},flaglist:{coerceFunction:function(u,d,c,x){if((x.extras||[]).indexOf(u)===-1)if(typeof u=="string"){for(var g=u.split("+"),p=0;p<g.length;){var v=g[p];x.flags.indexOf(v)===-1||g.indexOf(v)<p?g.splice(p,1):p++}g.length?d.set(g.join("+")):d.set(c)}else d.set(c);else d.set(u)}},any:{coerceFunction:function(u,d,c){u===void 0?d.set(c):d.set(r(u)?s(u):u)}},info_array:{coerceFunction:function(u,d,c,x){function g(U,D,B){var Z,F={set:function(j){Z=j}};return B===void 0&&(B=D.dflt),P.valObjectMeta[D.valType].coerceFunction(U,F,B,D),Z}if(r(u)&&(u=s(u)),n(u)){var p,v,y,m,_,f,S=x.dimensions===2||x.dimensions==="1-2"&&Array.isArray(u)&&n(u[0]),T=x.items,E=[],C=Array.isArray(T),O=C&&S&&n(T[0]),I=S&&C&&!O,z=C&&!I?T.length:u.length;if(c=Array.isArray(c)?c:[],S)for(p=0;p<z;p++)for(E[p]=[],y=n(u[p])?u[p]:[],_=I?T.length:C?T[p].length:y.length,v=0;v<_;v++)m=I?T[v]:C?T[p][v]:T,(f=g(y[v],m,(c[p]||[])[v]))!==void 0&&(E[p][v]=f);else for(p=0;p<z;p++)(f=g(u[p],C?T[p]:T,c[p]))!==void 0&&(E[p]=f);d.set(E)}else d.set(c)},validateFunction:function(u,d){if(!n(u))return!1;var c=d.items,x=Array.isArray(c),g=d.dimensions===2;if(!d.freeLength&&u.length!==c.length)return!1;for(var p=0;p<u.length;p++)if(g){if(!n(u[p])||!d.freeLength&&u[p].length!==c[p].length)return!1;for(var v=0;v<u[p].length;v++)if(!l(u[p][v],x?c[p][v]:c))return!1}else if(!l(u[p],x?c[p]:c))return!1;return!0}}},P.coerce=function(u,d,c,x,g){var p=o(c,x).get(),v=o(u,x),y=o(d,x),m=v.get(),_=d._template;if(m===void 0&&_&&(m=o(_,x).get(),_=0),g===void 0&&(g=p.dflt),p.arrayOk){if(n(m))return y.set(m),m;if(r(m))return m=s(m),y.set(m),m}var f=P.valObjectMeta[p.valType].coerceFunction;f(m,y,g,p);var S=y.get();return _&&S===g&&!l(m,p)&&(f(m=o(_,x).get(),y,g,p),S=y.get()),S},P.coerce2=function(u,d,c,x,g){var p=o(u,x),v=P.coerce(u,d,c,x,g);return p.get()!=null&&v},P.coerceFont=function(u,d,c){var x={};return c=c||{},x.family=u(d+".family",c.family),x.size=u(d+".size",c.size),x.color=u(d+".color",c.color),x},P.coercePattern=function(u,d,c,x){if(u(d+".shape")){u(d+".solidity"),u(d+".size");var g=u(d+".fillmode")==="overlay";if(!x){var p=u(d+".bgcolor",g?c:void 0);u(d+".fgcolor",g?b.contrast(p):c)}u(d+".fgopacity",g?.5:1)}},P.coerceHoverinfo=function(u,d,c){var x,g=d._module.attributes,p=g.hoverinfo?g:a,v=p.hoverinfo;if(c._dataLength===1){var y=v.dflt==="all"?v.flags.slice():v.dflt.split("+");y.splice(y.indexOf("name"),1),x=y.join("+")}return P.coerce(u,d,p,"hoverinfo",x)},P.coerceSelectionMarkerOpacity=function(u,d){if(u.marker){var c,x,g=u.marker.opacity;g!==void 0&&(n(g)||u.selected||u.unselected||(c=g,x=h*g),d("selected.marker.opacity",c),d("unselected.marker.opacity",x))}},P.validate=l},67555:function(Y,P,e){var A,k,a=e(94336).Yn,w=e(38248),b=e(24248),h=e(20435).mod,o=e(39032),t=o.BADNUM,i=o.ONEDAY,n=o.ONEHOUR,r=o.ONEMIN,s=o.ONESEC,l=o.EPOCHJD,u=e(24040),d=e(94336).E9,c=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,x=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,g=new Date().getFullYear()-70;function p(z){return z&&u.componentsRegistry.calendars&&typeof z=="string"&&z!=="gregorian"}function v(z,U){return String(z+Math.pow(10,U)).substr(1)}P.dateTick0=function(z,U){var D=function(Z,F){return p(Z)?F?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[Z]:u.getComponentMethod("calendars","CANONICAL_TICK")[Z]:F?"2000-01-02":"2000-01-01"}(z,!!U);if(U<2)return D;var B=P.dateTime2ms(D,z);return B+=i*(U-1),P.ms2DateTime(B,0,z)},P.dfltRange=function(z){return p(z)?u.getComponentMethod("calendars","DFLTRANGE")[z]:["2000-01-01","2001-01-01"]},P.isJSDate=function(z){return typeof z=="object"&&z!==null&&typeof z.getTime=="function"},P.dateTime2ms=function(z,U){if(P.isJSDate(z)){var D=z.getTimezoneOffset()*r,B=(z.getUTCMinutes()-z.getMinutes())*r+(z.getUTCSeconds()-z.getSeconds())*s+(z.getUTCMilliseconds()-z.getMilliseconds());if(B){var Z=3*r;D=D-Z/2+h(B-D+Z/2,Z)}return(z=Number(z)-D)>=A&&z<=k?z:t}if(typeof z!="string"&&typeof z!="number")return t;z=String(z);var F=p(U),j=z.charAt(0);!F||j!=="G"&&j!=="g"||(z=z.substr(1),U="");var V=F&&U.substr(0,7)==="chinese",te=z.match(V?x:c);if(!te)return t;var Q=te[1],$=te[3]||"1",G=Number(te[5]||1),X=Number(te[7]||0),J=Number(te[9]||0),ne=Number(te[11]||0);if(F){if(Q.length===2)return t;var ie;Q=Number(Q);try{var ae=u.getComponentMethod("calendars","getCal")(U);if(V){var le=$.charAt($.length-1)==="i";$=parseInt($,10),ie=ae.newDate(Q,ae.toMonthIndex(Q,$,le),G)}else ie=ae.newDate(Q,Number($),G)}catch{return t}return ie?(ie.toJD()-l)*i+X*n+J*r+ne*s:t}Q=Q.length===2?(Number(Q)+2e3-g)%100+g:Number(Q),$-=1;var ce=new Date(Date.UTC(2e3,$,G,X,J));return ce.setUTCFullYear(Q),ce.getUTCMonth()!==$||ce.getUTCDate()!==G?t:ce.getTime()+ne*s},A=P.MIN_MS=P.dateTime2ms("-9999"),k=P.MAX_MS=P.dateTime2ms("9999-12-31 23:59:59.9999"),P.isDateTime=function(z,U){return P.dateTime2ms(z,U)!==t};var y=90*i,m=3*n,_=5*r;function f(z,U,D,B,Z){if((U||D||B||Z)&&(z+=" "+v(U,2)+":"+v(D,2),(B||Z)&&(z+=":"+v(B,2),Z))){for(var F=4;Z%10==0;)F-=1,Z/=10;z+="."+v(Z,F)}return z}P.ms2DateTime=function(z,U,D){if(typeof z!="number"||!(z>=A&&z<=k))return t;U||(U=0);var B,Z,F,j,V,te,Q=Math.floor(10*h(z+.05,1)),$=Math.round(z-Q/10);if(p(D)){var G=Math.floor($/i)+l,X=Math.floor(h(z,i));try{B=u.getComponentMethod("calendars","getCal")(D).fromJD(G).formatDate("yyyy-mm-dd")}catch{B=d("G%Y-%m-%d")(new Date($))}if(B.charAt(0)==="-")for(;B.length<11;)B="-0"+B.substr(1);else for(;B.length<10;)B="0"+B;Z=U<y?Math.floor(X/n):0,F=U<y?Math.floor(X%n/r):0,j=U<m?Math.floor(X%r/s):0,V=U<_?X%s*10+Q:0}else te=new Date($),B=d("%Y-%m-%d")(te),Z=U<y?te.getUTCHours():0,F=U<y?te.getUTCMinutes():0,j=U<m?te.getUTCSeconds():0,V=U<_?10*te.getUTCMilliseconds()+Q:0;return f(B,Z,F,j,V)},P.ms2DateTimeLocal=function(z){if(!(z>=A+i&&z<=k-i))return t;var U=Math.floor(10*h(z+.05,1)),D=new Date(Math.round(z-U/10));return f(a("%Y-%m-%d")(D),D.getHours(),D.getMinutes(),D.getSeconds(),10*D.getUTCMilliseconds()+U)},P.cleanDate=function(z,U,D){if(z===t)return U;if(P.isJSDate(z)||typeof z=="number"&&isFinite(z)){if(p(D))return b.error("JS Dates and milliseconds are incompatible with world calendars",z),U;if(!(z=P.ms2DateTimeLocal(+z))&&U!==void 0)return U}else if(!P.isDateTime(z,D))return b.error("unrecognized date",z),U;return z};var S=/%\d?f/g,T=/%h/g,E={1:"1",2:"1",3:"2",4:"2"};function C(z,U,D,B){z=z.replace(S,function(F){var j=Math.min(+F.charAt(1)||6,6);return(U/1e3%1+2).toFixed(j).substr(2).replace(/0+$/,"")||"0"});var Z=new Date(Math.floor(U+.05));if(z=z.replace(T,function(){return E[D("%q")(Z)]}),p(B))try{z=u.getComponentMethod("calendars","worldCalFmt")(z,U,B)}catch{return"Invalid"}return D(z)(Z)}var O=[59,59.9,59.99,59.999,59.9999];P.formatDate=function(z,U,D,B,Z,F){if(Z=p(Z)&&Z,!U)if(D==="y")U=F.year;else if(D==="m")U=F.month;else{if(D!=="d")return function(j,V){var te=h(j+.05,i),Q=v(Math.floor(te/n),2)+":"+v(h(Math.floor(te/r),60),2);if(V!=="M"){w(V)||(V=0);var $=(100+Math.min(h(j/s,60),O[V])).toFixed(V).substr(1);V>0&&($=$.replace(/0+$/,"").replace(/[\.]$/,"")),Q+=":"+$}return Q}(z,D)+`
`+C(F.dayMonthYear,z,B,Z);U=F.dayMonth+`
`+F.year}return C(U,z,B,Z)};var I=3*i;P.incrementMonth=function(z,U,D){D=p(D)&&D;var B=h(z,i);if(z=Math.round(z-B),D)try{var Z=Math.round(z/i)+l,F=u.getComponentMethod("calendars","getCal")(D),j=F.fromJD(Z);return U%12?F.add(j,U,"m"):F.add(j,U/12,"y"),(j.toJD()-l)*i+B}catch{b.error("invalid ms "+z+" in calendar "+D)}var V=new Date(z+I);return V.setUTCMonth(V.getUTCMonth()+U)+B-I},P.findExactDates=function(z,U){for(var D,B,Z=0,F=0,j=0,V=0,te=p(U)&&u.getComponentMethod("calendars","getCal")(U),Q=0;Q<z.length;Q++)if(B=z[Q],w(B)){if(!(B%i))if(te)try{(D=te.fromJD(B/i+l)).day()===1?D.month()===1?Z++:F++:j++}catch{}else(D=new Date(B)).getUTCDate()===1?D.getUTCMonth()===0?Z++:F++:j++}else V++;j+=F+=Z;var $=z.length-V;return{exactYears:Z/$,exactMonths:F/$,exactDays:j/$}}},52200:function(Y,P,e){var A=e(33428),k=e(24248),a=e(52248),w=e(36524);function b(n){var r=n&&n.parentNode;r&&r.removeChild(n)}function h(n,r,s){var l="plotly.js-style-"+n,u=document.getElementById(l);u||((u=document.createElement("style")).setAttribute("id",l),u.appendChild(document.createTextNode("")),document.head.appendChild(u));var d=u.sheet;d.insertRule?d.insertRule(r+"{"+s+"}",0):d.addRule?d.addRule(r,s,0):k.warn("addStyleRule failed")}function o(n){var r=window.getComputedStyle(n,null),s=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("-moz-transform")||r.getPropertyValue("-ms-transform")||r.getPropertyValue("-o-transform")||r.getPropertyValue("transform");return s==="none"?null:s.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(l){return+l})}function t(n){for(var r=[];i(n);)r.push(n),n=n.parentNode;return r}function i(n){return n&&(n instanceof Element||n instanceof HTMLElement)}Y.exports={getGraphDiv:function(n){var r;if(typeof n=="string"){if((r=document.getElementById(n))===null)throw new Error("No DOM element with id '"+n+"' exists on the page.");return r}if(n==null)throw new Error("DOM element provided is null or undefined");return n},isPlotDiv:function(n){var r=A.select(n);return r.node()instanceof HTMLElement&&r.size()&&r.classed("js-plotly-plot")},removeElement:b,addStyleRule:function(n,r){h("global",n,r)},addRelatedStyleRule:h,deleteRelatedStyleRule:function(n){var r="plotly.js-style-"+n,s=document.getElementById(r);s&&b(s)},getFullTransformMatrix:function(n){var r=t(n),s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return r.forEach(function(l){var u=o(l);if(u){var d=a.convertCssMatrix(u);s=w.multiply(s,s,d)}}),s},getElementTransformMatrix:o,getElementAndAncestors:t,equalDomRects:function(n,r){return n&&r&&n.top===r.top&&n.left===r.left&&n.right===r.right&&n.bottom===r.bottom}}},95924:function(Y,P,e){var A=e(61252).EventEmitter,k={init:function(a){if(a._ev instanceof A)return a;var w=new A,b=new A;return a._ev=w,a._internalEv=b,a.on=w.on.bind(w),a.once=w.once.bind(w),a.removeListener=w.removeListener.bind(w),a.removeAllListeners=w.removeAllListeners.bind(w),a._internalOn=b.on.bind(b),a._internalOnce=b.once.bind(b),a._removeInternalListener=b.removeListener.bind(b),a._removeAllInternalListeners=b.removeAllListeners.bind(b),a.emit=function(h,o){typeof jQuery<"u"&&jQuery(a).trigger(h,o),w.emit(h,o),b.emit(h,o)},a},triggerHandler:function(a,w,b){var h,o;typeof jQuery<"u"&&(h=jQuery(a).triggerHandler(w,b));var t=a._ev;if(!t)return h;var i,n=t._events[w];if(!n)return h;function r(s){return s.listener?(t.removeListener(w,s.listener),s.fired?void 0:(s.fired=!0,s.listener.apply(t,[b]))):s.apply(t,[b])}for(n=Array.isArray(n)?n:[n],i=0;i<n.length-1;i++)r(n[i]);return o=r(n[i]),h!==void 0?h:o},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}};Y.exports=k},92880:function(Y,P,e){var A=e(63620),k=Array.isArray;function a(w,b,h,o){var t,i,n,r,s,l,u,d=w[0],c=w.length;if(c===2&&k(d)&&k(w[1])&&d.length===0){if(u=function(g,p){var v,y;for(v=0;v<g.length;v++){if((y=g[v])!==null&&typeof y=="object")return!1;y!==void 0&&(p[v]=y)}return!0}(w[1],d),u)return d;d.splice(0,d.length)}for(var x=1;x<c;x++)for(i in t=w[x])n=d[i],r=t[i],o&&k(r)?d[i]=r:b&&r&&(A(r)||(s=k(r)))?(s?(s=!1,l=n&&k(n)?n:[]):l=n&&A(n)?n:{},d[i]=a([l,r],b,h,o)):(r!==void 0||h)&&(d[i]=r);return d}P.extendFlat=function(){return a(arguments,!1,!1,!1)},P.extendDeep=function(){return a(arguments,!0,!1,!1)},P.extendDeepAll=function(){return a(arguments,!0,!0,!1)},P.extendDeepNoArrays=function(){return a(arguments,!0,!1,!0)}},68944:function(Y){Y.exports=function(P){for(var e={},A=[],k=0,a=0;a<P.length;a++){var w=P[a];e[w]!==1&&(e[w]=1,A[k++]=w)}return A}},43880:function(Y){function P(A){return A.visible===!0}function e(A){var k=A[0].trace;return k.visible===!0&&k._length!==0}Y.exports=function(A){for(var k,a=(k=A,Array.isArray(k)&&Array.isArray(k[0])&&k[0][0]&&k[0][0].trace?e:P),w=[],b=0;b<A.length;b++){var h=A[b];a(h)&&w.push(h)}return w}},27144:function(Y,P,e){var A=e(33428),k=e(36116),a=e(40440),w=e(77844),b=e(42428),h=e(35536),o=e(24248),t=e(63620),i=e(22296),n=e(92065),r=Object.keys(k),s={"ISO-3":h,"USA-states":h,"country names":function(u){for(var d=0;d<r.length;d++){var c=r[d];if(new RegExp(k[c]).test(u.trim().toLowerCase()))return c}return o.log("Unrecognized country name: "+u+"."),!1}};function l(u){var d=u.geojson,c=window.PlotlyGeoAssets||{},x=typeof d=="string"?c[d]:d;return t(x)?x:(o.error("Oops ... something went wrong when fetching "+d),!1)}Y.exports={locationToFeature:function(u,d,c){if(!d||typeof d!="string")return!1;var x,g,p,v=s[u](d);if(v){if(u==="USA-states")for(x=[],p=0;p<c.length;p++)(g=c[p]).properties&&g.properties.gu&&g.properties.gu==="USA"&&x.push(g);else x=c;for(p=0;p<x.length;p++)if((g=x[p]).id===v)return g;o.log(["Location with id",v,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function(u){var d,c,x,g,p=u.geometry,v=p.coordinates,y=u.id,m=[];function _(f){for(var S=0;S<f.length-1;S++)if(f[S][0]>0&&f[S+1][0]<0)return S;return null}switch(d=y==="RUS"||y==="FJI"?function(f){var S;if(_(f)===null)S=f;else for(S=new Array(f.length),g=0;g<f.length;g++)S[g]=[f[g][0]<0?f[g][0]+360:f[g][0],f[g][1]];m.push(n.tester(S))}:y==="ATA"?function(f){var S=_(f);if(S===null)return m.push(n.tester(f));var T=new Array(f.length+1),E=0;for(g=0;g<f.length;g++)g>S?T[E++]=[f[g][0]+360,f[g][1]]:g===S?(T[E++]=f[g],T[E++]=[f[g][0],-90]):T[E++]=f[g];var C=n.tester(T);C.pts.pop(),m.push(C)}:function(f){m.push(n.tester(f))},p.type){case"MultiPolygon":for(c=0;c<v.length;c++)for(x=0;x<v[c].length;x++)d(v[c][x]);break;case"Polygon":for(c=0;c<v.length;c++)d(v[c])}return m},getTraceGeojson:l,extractTraceFeature:function(u){var d=u[0].trace,c=l(d);if(!c)return!1;var x,g={},p=[];for(x=0;x<d._length;x++){var v=u[x];(v.loc||v.loc===0)&&(g[v.loc]=v)}function y(f){var S=i(f,d.featureidkey||"id").get(),T=g[S];if(T){var E=f.geometry;if(E.type==="Polygon"||E.type==="MultiPolygon"){var C={type:"Feature",id:S,geometry:E,properties:{}};C.properties.ct=function(O){var I,z=O.geometry;if(z.type==="MultiPolygon")for(var U=z.coordinates,D=0,B=0;B<U.length;B++){var Z={type:"Polygon",coordinates:U[B]},F=a.default(Z);F>D&&(D=F,I=Z)}else I=z;return w.default(I).geometry.coordinates}(C),T.fIn=f,T.fOut=C,p.push(C)}else o.log(["Location",T.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete g[S]}switch(c.type){case"FeatureCollection":var m=c.features;for(x=0;x<m.length;x++)y(m[x]);break;case"Feature":y(c);break;default:return o.warn(["Invalid GeoJSON type",(c.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var _ in g)o.log(["Location *"+_+"*","does not have a matching feature with id-key","*"+d.featureidkey+"*."].join(" "));return p},fetchTraceGeoData:function(u){var d=window.PlotlyGeoAssets||{},c=[];function x(y){return new Promise(function(m,_){A.json(y,function(f,S){if(f){delete d[y];var T=f.status===404?'GeoJSON at URL "'+y+'" does not exist.':"Unexpected error while fetching from "+y;return _(new Error(T))}return d[y]=S,m(S)})})}function g(y){return new Promise(function(m,_){var f=0,S=setInterval(function(){return d[y]&&d[y]!=="pending"?(clearInterval(S),m(d[y])):f>100?(clearInterval(S),_("Unexpected error while fetching from "+y)):void f++},50)})}for(var p=0;p<u.length;p++){var v=u[p][0].trace.geojson;typeof v=="string"&&(d[v]?d[v]==="pending"&&c.push(g(v)):(d[v]="pending",c.push(x(v))))}return c},computeBbox:function(u){return b.default(u)}}},44808:function(Y,P,e){var A=e(39032).BADNUM;P.calcTraceToLineCoords=function(k){for(var a=k[0].trace.connectgaps,w=[],b=[],h=0;h<k.length;h++){var o=k[h].lonlat;o[0]!==A?b.push(o):!a&&b.length>0&&(w.push(b),b=[])}return b.length>0&&w.push(b),w},P.makeLine=function(k){return k.length===1?{type:"LineString",coordinates:k[0]}:{type:"MultiLineString",coordinates:k}},P.makePolygon=function(k){if(k.length===1)return{type:"Polygon",coordinates:k};for(var a=new Array(k.length),w=0;w<k.length;w++)a[w]=[k[w]];return{type:"MultiPolygon",coordinates:a}},P.makeBlank=function(){return{type:"Point",coordinates:[]}}},92348:function(Y,P,e){var A,k,a,w=e(20435).mod;function b(o,t,i,n,r,s,l,u){var d=i-o,c=r-o,x=l-r,g=n-t,p=s-t,v=u-s,y=d*v-x*g;if(y===0)return null;var m=(c*v-x*p)/y,_=(c*g-d*p)/y;return _<0||_>1||m<0||m>1?null:{x:o+d*m,y:t+g*m}}function h(o,t,i,n,r){var s=n*o+r*t;if(s<0)return n*n+r*r;if(s>i){var l=n-o,u=r-t;return l*l+u*u}var d=n*t-r*o;return d*d/i}P.segmentsIntersect=b,P.segmentDistance=function(o,t,i,n,r,s,l,u){if(b(o,t,i,n,r,s,l,u))return 0;var d=i-o,c=n-t,x=l-r,g=u-s,p=d*d+c*c,v=x*x+g*g,y=Math.min(h(d,c,p,r-o,s-t),h(d,c,p,l-o,u-t),h(x,g,v,o-r,t-s),h(x,g,v,i-r,n-s));return Math.sqrt(y)},P.getTextLocation=function(o,t,i,n){if(o===k&&n===a||(A={},k=o,a=n),A[i])return A[i];var r=o.getPointAtLength(w(i-n/2,t)),s=o.getPointAtLength(w(i+n/2,t)),l=Math.atan((s.y-r.y)/(s.x-r.x)),u=o.getPointAtLength(w(i,t)),d={x:(4*u.x+r.x+s.x)/6,y:(4*u.y+r.y+s.y)/6,theta:l};return A[i]=d,d},P.clearLocationCache=function(){k=null},P.getVisibleSegment=function(o,t,i){var n,r,s=t.left,l=t.right,u=t.top,d=t.bottom,c=0,x=o.getTotalLength(),g=x;function p(y){var m=o.getPointAtLength(y);y===0?n=m:y===x&&(r=m);var _=m.x<s?s-m.x:m.x>l?m.x-l:0,f=m.y<u?u-m.y:m.y>d?m.y-d:0;return Math.sqrt(_*_+f*f)}for(var v=p(c);v;){if((c+=v+i)>g)return;v=p(c)}for(v=p(g);v;){if(c>(g-=v+i))return;v=p(g)}return{min:c,max:g,len:g-c,total:x,isClosed:c===0&&g===x&&Math.abs(n.x-r.x)<.1&&Math.abs(n.y-r.y)<.1}},P.findPointOnPath=function(o,t,i,n){for(var r,s,l,u=(n=n||{}).pathLength||o.getTotalLength(),d=n.tolerance||.001,c=n.iterationLimit||30,x=o.getPointAtLength(0)[i]>o.getPointAtLength(u)[i]?-1:1,g=0,p=0,v=u;g<c;){if(r=(p+v)/2,l=(s=o.getPointAtLength(r))[i]-t,Math.abs(l)<d)return s;x*l>0?v=r:p=r,g++}return s}},33040:function(Y,P,e){var A=e(38248),k=e(49760),a=e(72160),w=e(8932),b=e(22548).defaultLine,h=e(38116).isArrayOrTypedArray,o=a(b);function t(r,s){var l=r;return l[3]*=s,l}function i(r){if(A(r))return o;var s=a(r);return s.length?s:o}function n(r){return A(r)?r:1}Y.exports={formatColor:function(r,s,l){var u=r.color;u&&u._inputArray&&(u=u._inputArray);var d,c,x,g,p,v=h(u),y=h(s),m=w.extractOpts(r),_=[];if(d=m.colorscale!==void 0?w.makeColorScaleFuncFromTrace(r):i,c=v?function(S,T){return S[T]===void 0?o:a(d(S[T]))}:i,x=y?function(S,T){return S[T]===void 0?1:n(S[T])}:n,v||y)for(var f=0;f<l;f++)g=c(u,f),p=x(s,f),_[f]=t(g,p);else _=t(a(u),s);return _},parseColorScale:function(r){var s=w.extractOpts(r),l=s.colorscale;return s.reversescale&&(l=w.flipScale(s.colorscale)),l.map(function(u){var d=u[0],c=k(u[1]).toRgb();return{index:d,rgb:[c.r,c.g,c.b,c.a]}})}}},71688:function(Y,P,e){var A=e(35536);function k(a){return[a]}Y.exports={keyFun:function(a){return a.key},repeat:k,descend:A,wrap:k,unwrap:function(a){return a[0]}}},35536:function(Y){Y.exports=function(P){return P}},1396:function(Y){Y.exports=function(P,e){if(!e)return P;var A=1/Math.abs(e),k=A>1?(A*P+A*e)/A:P+e,a=String(k).length;if(a>16){var w=String(e).length;if(a>=String(P).length+w){var b=parseFloat(k).toPrecision(12);b.indexOf("e+")===-1&&(k=+b)}}return k}},3400:function(Y,P,e){var A=e(33428),k=e(94336).E9,a=e(57624).E9,w=e(38248),b=e(39032),h=b.FP_SAFE,o=-h,t=b.BADNUM,i=Y.exports={};i.adjustFormat=function(X){return!X||/^\d[.]\df/.test(X)||/[.]\d%/.test(X)?X:X==="0.f"?"~f":/^\d%/.test(X)?"~%":/^\ds/.test(X)?"~s":!/^[~,.0$]/.test(X)&&/[&fps]/.test(X)?"~"+X:X};var n={};i.warnBadFormat=function(X){var J=String(X);n[J]||(n[J]=1,i.warn('encountered bad format: "'+J+'"'))},i.noFormat=function(X){return String(X)},i.numberFormat=function(X){var J;try{J=a(i.adjustFormat(X))}catch{return i.warnBadFormat(X),i.noFormat}return J},i.nestedProperty=e(22296),i.keyedContainer=e(37804),i.relativeAttr=e(23193),i.isPlainObject=e(63620),i.toLogRange=e(36896),i.relinkPrivateKeys=e(51528);var r=e(38116);i.isArrayBuffer=r.isArrayBuffer,i.isTypedArray=r.isTypedArray,i.isArrayOrTypedArray=r.isArrayOrTypedArray,i.isArray1D=r.isArray1D,i.ensureArray=r.ensureArray,i.concat=r.concat,i.maxRowLength=r.maxRowLength,i.minRowLength=r.minRowLength;var s=e(20435);i.mod=s.mod,i.modHalf=s.modHalf;var l=e(63064);i.valObjectMeta=l.valObjectMeta,i.coerce=l.coerce,i.coerce2=l.coerce2,i.coerceFont=l.coerceFont,i.coercePattern=l.coercePattern,i.coerceHoverinfo=l.coerceHoverinfo,i.coerceSelectionMarkerOpacity=l.coerceSelectionMarkerOpacity,i.validate=l.validate;var u=e(67555);i.dateTime2ms=u.dateTime2ms,i.isDateTime=u.isDateTime,i.ms2DateTime=u.ms2DateTime,i.ms2DateTimeLocal=u.ms2DateTimeLocal,i.cleanDate=u.cleanDate,i.isJSDate=u.isJSDate,i.formatDate=u.formatDate,i.incrementMonth=u.incrementMonth,i.dateTick0=u.dateTick0,i.dfltRange=u.dfltRange,i.findExactDates=u.findExactDates,i.MIN_MS=u.MIN_MS,i.MAX_MS=u.MAX_MS;var d=e(14952);i.findBin=d.findBin,i.sorterAsc=d.sorterAsc,i.sorterDes=d.sorterDes,i.distinctVals=d.distinctVals,i.roundUp=d.roundUp,i.sort=d.sort,i.findIndexOfMin=d.findIndexOfMin,i.sortObjectKeys=e(95376);var c=e(63084);i.aggNums=c.aggNums,i.len=c.len,i.mean=c.mean,i.median=c.median,i.midRange=c.midRange,i.variance=c.variance,i.stdev=c.stdev,i.interp=c.interp;var x=e(52248);i.init2dArray=x.init2dArray,i.transposeRagged=x.transposeRagged,i.dot=x.dot,i.translationMatrix=x.translationMatrix,i.rotationMatrix=x.rotationMatrix,i.rotationXYMatrix=x.rotationXYMatrix,i.apply3DTransform=x.apply3DTransform,i.apply2DTransform=x.apply2DTransform,i.apply2DTransform2=x.apply2DTransform2,i.convertCssMatrix=x.convertCssMatrix,i.inverseTransformMatrix=x.inverseTransformMatrix;var g=e(11864);i.deg2rad=g.deg2rad,i.rad2deg=g.rad2deg,i.angleDelta=g.angleDelta,i.angleDist=g.angleDist,i.isFullCircle=g.isFullCircle,i.isAngleInsideSector=g.isAngleInsideSector,i.isPtInsideSector=g.isPtInsideSector,i.pathArc=g.pathArc,i.pathSector=g.pathSector,i.pathAnnulus=g.pathAnnulus;var p=e(98308);i.isLeftAnchor=p.isLeftAnchor,i.isCenterAnchor=p.isCenterAnchor,i.isRightAnchor=p.isRightAnchor,i.isTopAnchor=p.isTopAnchor,i.isMiddleAnchor=p.isMiddleAnchor,i.isBottomAnchor=p.isBottomAnchor;var v=e(92348);i.segmentsIntersect=v.segmentsIntersect,i.segmentDistance=v.segmentDistance,i.getTextLocation=v.getTextLocation,i.clearLocationCache=v.clearLocationCache,i.getVisibleSegment=v.getVisibleSegment,i.findPointOnPath=v.findPointOnPath;var y=e(92880);i.extendFlat=y.extendFlat,i.extendDeep=y.extendDeep,i.extendDeepAll=y.extendDeepAll,i.extendDeepNoArrays=y.extendDeepNoArrays;var m=e(24248);i.log=m.log,i.warn=m.warn,i.error=m.error;var _=e(53756);i.counterRegex=_.counter;var f=e(91200);i.throttle=f.throttle,i.throttleDone=f.done,i.clearThrottle=f.clear;var S=e(52200);function T(X){var J={};for(var ne in X)for(var ie=X[ne],ae=0;ae<ie.length;ae++)J[ie[ae]]=+ne;return J}i.getGraphDiv=S.getGraphDiv,i.isPlotDiv=S.isPlotDiv,i.removeElement=S.removeElement,i.addStyleRule=S.addStyleRule,i.addRelatedStyleRule=S.addRelatedStyleRule,i.deleteRelatedStyleRule=S.deleteRelatedStyleRule,i.getFullTransformMatrix=S.getFullTransformMatrix,i.getElementTransformMatrix=S.getElementTransformMatrix,i.getElementAndAncestors=S.getElementAndAncestors,i.equalDomRects=S.equalDomRects,i.clearResponsive=e(75352),i.preserveDrawingBuffer=e(34296),i.makeTraceGroups=e(30988),i._=e(98356),i.notifier=e(41792),i.filterUnique=e(68944),i.filterVisible=e(43880),i.pushUnique=e(52416),i.increment=e(1396),i.cleanNumber=e(54037),i.ensureNumber=function(X){return w(X)?(X=Number(X))>h||X<o?t:X:t},i.isIndex=function(X,J){return!(J!==void 0&&X>=J)&&w(X)&&X>=0&&X%1==0},i.noop=e(16628),i.identity=e(35536),i.repeat=function(X,J){for(var ne=new Array(J),ie=0;ie<J;ie++)ne[ie]=X;return ne},i.swapAttrs=function(X,J,ne,ie){ne||(ne="x"),ie||(ie="y");for(var ae=0;ae<J.length;ae++){var le=J[ae],ce=i.nestedProperty(X,le.replace("?",ne)),pe=i.nestedProperty(X,le.replace("?",ie)),ge=ce.get();ce.set(pe.get()),pe.set(ge)}},i.raiseToTop=function(X){X.parentNode.appendChild(X)},i.cancelTransition=function(X){return X.transition().duration(0)},i.constrain=function(X,J,ne){return J>ne?Math.max(ne,Math.min(J,X)):Math.max(J,Math.min(ne,X))},i.bBoxIntersect=function(X,J,ne){return ne=ne||0,X.left<=J.right+ne&&J.left<=X.right+ne&&X.top<=J.bottom+ne&&J.top<=X.bottom+ne},i.simpleMap=function(X,J,ne,ie,ae){for(var le=X.length,ce=new Array(le),pe=0;pe<le;pe++)ce[pe]=J(X[pe],ne,ie,ae);return ce},i.randstr=function X(J,ne,ie,ae){if(ie||(ie=16),ne===void 0&&(ne=24),ne<=0)return"0";var le,ce,pe=Math.log(Math.pow(2,ne))/Math.log(ie),ge="";for(le=2;pe===1/0;le*=2)pe=Math.log(Math.pow(2,ne/le))/Math.log(ie)*le;var me=pe-Math.floor(pe);for(le=0;le<Math.floor(pe);le++)ge=Math.floor(Math.random()*ie).toString(ie)+ge;me&&(ce=Math.pow(ie,me),ge=Math.floor(Math.random()*ce).toString(ie)+ge);var ve=parseInt(ge,ie);return J&&J[ge]||ve!==1/0&&ve>=Math.pow(2,ne)?ae>10?(i.warn("randstr failed uniqueness"),ge):X(J,ne,ie,(ae||0)+1):ge},i.OptionControl=function(X,J){X||(X={}),J||(J="opt");var ne={optionList:[],_newoption:function(ie){ie[J]=X,ne[ie.name]=ie,ne.optionList.push(ie)}};return ne["_"+J]=X,ne},i.smooth=function(X,J){if((J=Math.round(J)||0)<2)return X;var ne,ie,ae,le,ce=X.length,pe=2*ce,ge=2*J-1,me=new Array(ge),ve=new Array(ce);for(ne=0;ne<ge;ne++)me[ne]=(1-Math.cos(Math.PI*(ne+1)/J))/(2*J);for(ne=0;ne<ce;ne++){for(le=0,ie=0;ie<ge;ie++)(ae=ne+ie+1-J)<-ce?ae-=pe*Math.round(ae/pe):ae>=pe&&(ae-=pe*Math.floor(ae/pe)),ae<0?ae=-1-ae:ae>=ce&&(ae=pe-1-ae),le+=X[ae]*me[ie];ve[ne]=le}return ve},i.syncOrAsync=function(X,J,ne){var ie;function ae(){return i.syncOrAsync(X,J,ne)}for(;X.length;)if((ie=(0,X.splice(0,1)[0])(J))&&ie.then)return ie.then(ae);return ne&&ne(J)},i.stripTrailingSlash=function(X){return X.substr(-1)==="/"?X.substr(0,X.length-1):X},i.noneOrAll=function(X,J,ne){if(X){var ie,ae=!1,le=!0;for(ie=0;ie<ne.length;ie++)X[ne[ie]]!=null?ae=!0:le=!1;if(ae&&!le)for(ie=0;ie<ne.length;ie++)X[ne[ie]]=J[ne[ie]]}},i.mergeArray=function(X,J,ne,ie){var ae=typeof ie=="function";if(i.isArrayOrTypedArray(X))for(var le=Math.min(X.length,J.length),ce=0;ce<le;ce++){var pe=X[ce];J[ce][ne]=ae?ie(pe):pe}},i.mergeArrayCastPositive=function(X,J,ne){return i.mergeArray(X,J,ne,function(ie){var ae=+ie;return isFinite(ae)&&ae>0?ae:0})},i.fillArray=function(X,J,ne,ie){if(ie=ie||i.identity,i.isArrayOrTypedArray(X))for(var ae=0;ae<J.length;ae++)J[ae][ne]=ie(X[ae])},i.castOption=function(X,J,ne,ie){ie=ie||i.identity;var ae=i.nestedProperty(X,ne).get();return i.isArrayOrTypedArray(ae)?Array.isArray(J)&&i.isArrayOrTypedArray(ae[J[0]])?ie(ae[J[0]][J[1]]):ie(ae[J]):ae},i.extractOption=function(X,J,ne,ie){if(ne in X)return X[ne];var ae=i.nestedProperty(J,ie).get();return Array.isArray(ae)?void 0:ae},i.tagSelected=function(X,J,ne){var ie,ae,le=J.selectedpoints,ce=J._indexToPoints;ce&&(ie=T(ce));for(var pe=0;pe<le.length;pe++){var ge=le[pe];if(i.isIndex(ge)||i.isArrayOrTypedArray(ge)&&i.isIndex(ge[0])&&i.isIndex(ge[1])){var me=ie?ie[ge]:ge,ve=ne?ne[me]:me;(ae=ve)!==void 0&&ae<X.length&&(X[ve].selected=1)}}},i.selIndices2selPoints=function(X){var J=X.selectedpoints,ne=X._indexToPoints;if(ne){for(var ie=T(ne),ae=[],le=0;le<J.length;le++){var ce=J[le];if(i.isIndex(ce)){var pe=ie[ce];i.isIndex(pe)&&ae.push(pe)}}return ae}return J},i.getTargetArray=function(X,J){var ne=J.target;if(typeof ne=="string"&&ne){var ie=i.nestedProperty(X,ne).get();return!!i.isArrayOrTypedArray(ie)&&ie}return!!i.isArrayOrTypedArray(ne)&&ne},i.minExtend=function X(J,ne,ie){var ae={};typeof ne!="object"&&(ne={});var le,ce,pe,ge=ie==="pieLike"?-1:3,me=Object.keys(J);for(le=0;le<me.length;le++)pe=J[ce=me[le]],ce.charAt(0)!=="_"&&typeof pe!="function"&&(ce==="module"?ae[ce]=pe:Array.isArray(pe)?ae[ce]=ce==="colorscale"||ge===-1?pe.slice():pe.slice(0,ge):i.isTypedArray(pe)?ae[ce]=ge===-1?pe.subarray():pe.subarray(0,ge):ae[ce]=pe&&typeof pe=="object"?X(J[ce],ne[ce],ie):pe);for(me=Object.keys(ne),le=0;le<me.length;le++)typeof(pe=ne[ce=me[le]])=="object"&&ce in ae&&typeof ae[ce]=="object"||(ae[ce]=pe);return ae},i.titleCase=function(X){return X.charAt(0).toUpperCase()+X.substr(1)},i.containsAny=function(X,J){for(var ne=0;ne<J.length;ne++)if(X.indexOf(J[ne])!==-1)return!0;return!1},i.isIE=function(){return window.navigator.msSaveBlob!==void 0};var E=/Version\/[\d\.]+.*Safari/;i.isSafari=function(){return E.test(window.navigator.userAgent)};var C=/iPad|iPhone|iPod/;i.isIOS=function(){return C.test(window.navigator.userAgent)};var O=/Firefox\/(\d+)\.\d+/;i.getFirefoxVersion=function(){var X=O.exec(window.navigator.userAgent);if(X&&X.length===2){var J=parseInt(X[1]);if(!isNaN(J))return J}return null},i.isD3Selection=function(X){return X instanceof A.selection},i.ensureSingle=function(X,J,ne,ie){var ae=X.select(J+(ne?"."+ne:""));if(ae.size())return ae;var le=X.append(J);return ne&&le.classed(ne,!0),ie&&le.call(ie),le},i.ensureSingleById=function(X,J,ne,ie){var ae=X.select(J+"#"+ne);if(ae.size())return ae;var le=X.append(J).attr("id",ne);return ie&&le.call(ie),le},i.objectFromPath=function(X,J){for(var ne,ie=X.split("."),ae=ne={},le=0;le<ie.length;le++){var ce=ie[le],pe=null,ge=ie[le].match(/(.*)\[([0-9]+)\]/);ge?(ce=ge[1],pe=ge[2],ne=ne[ce]=[],le===ie.length-1?ne[pe]=J:ne[pe]={},ne=ne[pe]):(le===ie.length-1?ne[ce]=J:ne[ce]={},ne=ne[ce])}return ae};var I=/^([^\[\.]+)\.(.+)?/,z=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function U(X){return X.slice(0,2)==="__"}i.expandObjectPaths=function(X){var J,ne,ie,ae,le,ce,pe;if(typeof X=="object"&&!Array.isArray(X)){for(ne in X)if(X.hasOwnProperty(ne))if(J=ne.match(I)){if(ae=X[ne],U(ie=J[1]))continue;delete X[ne],X[ie]=i.extendDeepNoArrays(X[ie]||{},i.objectFromPath(ne,i.expandObjectPaths(ae))[ie])}else if(J=ne.match(z)){if(ae=X[ne],U(ie=J[1]))continue;if(le=parseInt(J[2]),delete X[ne],X[ie]=X[ie]||[],J[3]===".")pe=J[4],ce=X[ie][le]=X[ie][le]||{},i.extendDeepNoArrays(ce,i.objectFromPath(pe,i.expandObjectPaths(ae)));else{if(U(ie))continue;X[ie][le]=i.expandObjectPaths(ae)}}else{if(U(ne))continue;X[ne]=i.expandObjectPaths(X[ne])}}return X},i.numSeparate=function(X,J,ne){if(ne||(ne=!1),typeof J!="string"||J.length===0)throw new Error("Separator string required for formatting!");typeof X=="number"&&(X=String(X));var ie=/(\d+)(\d{3})/,ae=J.charAt(0),le=J.charAt(1),ce=X.split("."),pe=ce[0],ge=ce.length>1?ae+ce[1]:"";if(le&&(ce.length>1||pe.length>4||ne))for(;ie.test(pe);)pe=pe.replace(ie,"$1"+le+"$2");return pe+ge},i.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var D=/^\w*$/;i.templateString=function(X,J){var ne={};return X.replace(i.TEMPLATE_STRING_REGEX,function(ie,ae){var le;return D.test(ae)?le=J[ae]:(ne[ae]=ne[ae]||i.nestedProperty(J,ae).get,le=ne[ae]()),i.isValidTextValue(le)?le:""})};var B={max:10,count:0,name:"hovertemplate"};i.hovertemplateString=function(){return te.apply(B,arguments)};var Z={max:10,count:0,name:"texttemplate"};i.texttemplateString=function(){return te.apply(Z,arguments)};var F=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,j={max:10,count:0,name:"texttemplate",parseMultDiv:!0};i.texttemplateStringForShapes=function(){return te.apply(j,arguments)};var V=/^[:|\|]/;function te(X,J,ne){var ie=this,ae=arguments;J||(J={});var le={};return X.replace(i.TEMPLATE_STRING_REGEX,function(ce,pe,ge){var me=pe==="_xother"||pe==="_yother",ve=pe==="_xother_"||pe==="_yother_",Me=pe==="xother_"||pe==="yother_",_e=pe==="xother"||pe==="yother"||me||Me||ve,we=pe;(me||ve)&&(we=we.substring(1)),(Me||ve)&&(we=we.substring(0,we.length-1));var oe,se,de,Ee=null,Te=null;if(ie.parseMultDiv){var Se=function(xe){var ke=xe.match(F);return ke?{key:ke[1],op:ke[2],number:Number(ke[3])}:{key:xe,op:null,number:null}}(we);we=Se.key,Ee=Se.op,Te=Se.number}if(_e){if((oe=J[we])===void 0)return""}else for(de=3;de<ae.length;de++)if(se=ae[de]){if(se.hasOwnProperty(we)){oe=se[we];break}if(D.test(we)||(oe=i.nestedProperty(se,we).get(),(oe=le[we]||i.nestedProperty(se,we).get())&&(le[we]=oe)),oe!==void 0)break}if(oe!==void 0&&(Ee==="*"&&(oe*=Te),Ee==="/"&&(oe/=Te)),oe===void 0&&ie)return ie.count<ie.max&&(i.warn("Variable '"+we+"' in "+ie.name+" could not be found!"),oe=ce),ie.count===ie.max&&i.warn("Too many "+ie.name+" warnings - additional warnings will be suppressed"),ie.count++,ce;if(ge){var Le;if(ge[0]===":"&&(oe=(Le=ne?ne.numberFormat:i.numberFormat)(ge.replace(V,""))(oe)),ge[0]==="|"){Le=ne?ne.timeFormat:k;var Oe=i.dateTime2ms(oe);oe=i.formatDate(Oe,ge.replace(V,""),!1,Le)}}else{var he=we+"Label";J.hasOwnProperty(he)&&(oe=J[he])}return _e&&(oe="("+oe+")",(me||ve)&&(oe=" "+oe),(Me||ve)&&(oe+=" ")),oe})}i.subplotSort=function(X,J){for(var ne=Math.min(X.length,J.length)+1,ie=0,ae=0,le=0;le<ne;le++){var ce=X.charCodeAt(le)||0,pe=J.charCodeAt(le)||0,ge=ce>=48&&ce<=57,me=pe>=48&&pe<=57;if(ge&&(ie=10*ie+ce-48),me&&(ae=10*ae+pe-48),!ge||!me){if(ie!==ae)return ie-ae;if(ce!==pe)return ce-pe}}return ae-ie};var Q=2e9;i.seedPseudoRandom=function(){Q=2e9},i.pseudoRandom=function(){var X=Q;return Q=(69069*Q+1)%4294967296,Math.abs(Q-X)<429496729?i.pseudoRandom():Q/4294967296},i.fillText=function(X,J,ne){var ie=Array.isArray(ne)?function(ce){ne.push(ce)}:function(ce){ne.text=ce},ae=i.extractOption(X,J,"htx","hovertext");if(i.isValidTextValue(ae))return ie(ae);var le=i.extractOption(X,J,"tx","text");return i.isValidTextValue(le)?ie(le):void 0},i.isValidTextValue=function(X){return X||X===0},i.formatPercent=function(X,J){J=J||0;for(var ne=(Math.round(100*X*Math.pow(10,J))*Math.pow(.1,J)).toFixed(J)+"%",ie=0;ie<J;ie++)ne.indexOf(".")!==-1&&(ne=(ne=ne.replace("0%","%")).replace(".%","%"));return ne},i.isHidden=function(X){var J=window.getComputedStyle(X).display;return!J||J==="none"},i.strTranslate=function(X,J){return X||J?"translate("+X+","+J+")":""},i.strRotate=function(X){return X?"rotate("+X+")":""},i.strScale=function(X){return X!==1?"scale("+X+")":""},i.getTextTransform=function(X){var J=X.noCenter,ne=X.textX,ie=X.textY,ae=X.targetX,le=X.targetY,ce=X.anchorX||0,pe=X.anchorY||0,ge=X.rotate,me=X.scale;return me?me>1&&(me=1):me=0,i.strTranslate(ae-me*(ne+ce),le-me*(ie+pe))+i.strScale(me)+(ge?"rotate("+ge+(J?"":" "+ne+" "+ie)+")":"")},i.setTransormAndDisplay=function(X,J){X.attr("transform",i.getTextTransform(J)),X.style("display",J.scale?null:"none")},i.ensureUniformFontSize=function(X,J){var ne=i.extendFlat({},J);return ne.size=Math.max(J.size,X._fullLayout.uniformtext.minsize||0),ne},i.join2=function(X,J,ne){var ie=X.length;return ie>1?X.slice(0,-1).join(J)+ne+X[ie-1]:X.join(J)},i.bigFont=function(X){return Math.round(1.2*X)};var $=i.getFirefoxVersion(),G=$!==null&&$<86;i.getPositionFromD3Event=function(){return G?[A.event.layerX,A.event.layerY]:[A.event.offsetX,A.event.offsetY]}},63620:function(Y){Y.exports=function(P){return window&&window.process&&window.process.versions?Object.prototype.toString.call(P)==="[object Object]":Object.prototype.toString.call(P)==="[object Object]"&&Object.getPrototypeOf(P).hasOwnProperty("hasOwnProperty")}},37804:function(Y,P,e){var A=e(22296),k=/^\w*$/;Y.exports=function(a,w,b,h){var o,t,i;b=b||"name",h=h||"value";var n={};w&&w.length?(i=A(a,w),t=i.get()):t=a,w=w||"";var r={};if(t)for(o=0;o<t.length;o++)r[t[o][b]]=o;var s=k.test(h),l={set:function(u,d){var c=d===null?4:0;if(!t){if(!i||c===4)return;t=[],i.set(t)}var x=r[u];if(x===void 0){if(c===4)return;c|=3,x=t.length,r[u]=x}else d!==(s?t[x][h]:A(t[x],h).get())&&(c|=2);var g=t[x]=t[x]||{};return g[b]=u,s?g[h]=d:A(g,h).set(d),d!==null&&(c&=-5),n[x]=n[x]|c,l},get:function(u){if(t){var d=r[u];return d===void 0?void 0:s?t[d][h]:A(t[d],h).get()}},rename:function(u,d){var c=r[u];return c===void 0||(n[c]=1|n[c],r[d]=c,delete r[u],t[c][b]=d),l},remove:function(u){var d=r[u];if(d===void 0)return l;var c=t[d];if(Object.keys(c).length>2)return n[d]=2|n[d],l.set(u,null);if(s){for(o=d;o<t.length;o++)n[o]=3|n[o];for(o=d;o<t.length;o++)r[t[o][b]]--;t.splice(d,1),delete r[u]}else A(c,h).set(null),n[d]=6|n[d];return l},constructUpdate:function(){for(var u,d,c={},x=Object.keys(n),g=0;g<x.length;g++)d=x[g],u=w+"["+d+"]",t[d]?(1&n[d]&&(c[u+"."+b]=t[d][b]),2&n[d]&&(c[u+"."+h]=s?4&n[d]?null:t[d][h]:4&n[d]?null:A(t[d],h).get())):c[u]=null;return c}};return l}},98356:function(Y,P,e){var A=e(24040);Y.exports=function(k,a){for(var w=k._context.locale,b=0;b<2;b++){for(var h=k._context.locales,o=0;o<2;o++){var t=(h[w]||{}).dictionary;if(t){var i=t[a];if(i)return i}h=A.localeRegistry}var n=w.split("-")[0];if(n===w)break;w=n}return a}},24248:function(Y,P,e){var A=e(20556).dfltConfig,k=e(41792),a=Y.exports={};a.log=function(){var w;if(A.logging>1){var b=["LOG:"];for(w=0;w<arguments.length;w++)b.push(arguments[w]);console.trace.apply(console,b)}if(A.notifyOnLogging>1){var h=[];for(w=0;w<arguments.length;w++)h.push(arguments[w]);k(h.join("<br>"),"long")}},a.warn=function(){var w;if(A.logging>0){var b=["WARN:"];for(w=0;w<arguments.length;w++)b.push(arguments[w]);console.trace.apply(console,b)}if(A.notifyOnLogging>0){var h=[];for(w=0;w<arguments.length;w++)h.push(arguments[w]);k(h.join("<br>"),"stick")}},a.error=function(){var w;if(A.logging>0){var b=["ERROR:"];for(w=0;w<arguments.length;w++)b.push(arguments[w]);console.error.apply(console,b)}if(A.notifyOnLogging>0){var h=[];for(w=0;w<arguments.length;w++)h.push(arguments[w]);k(h.join("<br>"),"stick")}}},30988:function(Y,P,e){var A=e(33428);Y.exports=function(k,a,w){var b=k.selectAll("g."+w.replace(/\s/g,".")).data(a,function(o){return o[0].trace.uid});b.exit().remove(),b.enter().append("g").attr("class",w),b.order();var h=k.classed("rangeplot")?"nodeRangePlot3":"node3";return b.each(function(o){o[0][h]=A.select(this)}),b}},52248:function(Y,P,e){var A=e(36524);P.init2dArray=function(k,a){for(var w=new Array(k),b=0;b<k;b++)w[b]=new Array(a);return w},P.transposeRagged=function(k){var a,w,b=0,h=k.length;for(a=0;a<h;a++)b=Math.max(b,k[a].length);var o=new Array(b);for(a=0;a<b;a++)for(o[a]=new Array(h),w=0;w<h;w++)o[a][w]=k[w][a];return o},P.dot=function(k,a){if(!k.length||!a.length||k.length!==a.length)return null;var w,b,h=k.length;if(k[0].length)for(w=new Array(h),b=0;b<h;b++)w[b]=P.dot(k[b],a);else if(a[0].length){var o=P.transposeRagged(a);for(w=new Array(o.length),b=0;b<o.length;b++)w[b]=P.dot(k,o[b])}else for(w=0,b=0;b<h;b++)w+=k[b]*a[b];return w},P.translationMatrix=function(k,a){return[[1,0,k],[0,1,a],[0,0,1]]},P.rotationMatrix=function(k){var a=k*Math.PI/180;return[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]]},P.rotationXYMatrix=function(k,a,w){return P.dot(P.dot(P.translationMatrix(a,w),P.rotationMatrix(k)),P.translationMatrix(-a,-w))},P.apply3DTransform=function(k){return function(){var a=arguments,w=arguments.length===1?a[0]:[a[0],a[1],a[2]||0];return P.dot(k,[w[0],w[1],w[2],1]).slice(0,3)}},P.apply2DTransform=function(k){return function(){var a=arguments;a.length===3&&(a=a[0]);var w=arguments.length===1?a[0]:[a[0],a[1]];return P.dot(k,[w[0],w[1],1]).slice(0,2)}},P.apply2DTransform2=function(k){var a=P.apply2DTransform(k);return function(w){return a(w.slice(0,2)).concat(a(w.slice(2,4)))}},P.convertCssMatrix=function(k){if(k){var a=k.length;if(a===16)return k;if(a===6)return[k[0],k[1],0,0,k[2],k[3],0,0,0,0,1,0,k[4],k[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},P.inverseTransformMatrix=function(k){var a=[];return A.invert(a,k),[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}},20435:function(Y){Y.exports={mod:function(P,e){var A=P%e;return A<0?A+e:A},modHalf:function(P,e){return Math.abs(P)>e/2?P-Math.round(P/e)*e:P}}},22296:function(Y,P,e){var A=e(38248),k=e(38116).isArrayOrTypedArray;function a(n,r){return function(){var s,l,u,d,c,x=n;for(d=0;d<r.length-1;d++){if((s=r[d])===-1){for(l=!0,u=[],c=0;c<x.length;c++)u[c]=a(x[c],r.slice(d+1))(),u[c]!==u[0]&&(l=!1);return l?u[0]:u}if(typeof s=="number"&&!k(x)||typeof(x=x[s])!="object"||x===null)return}if(typeof x=="object"&&x!==null&&(u=x[r[d]])!==null)return u}}Y.exports=function(n,r){if(A(r))r=String(r);else if(typeof r!="string"||r.substr(r.length-4)==="[-1]")throw"bad property string";var s,l,u,d,c=r.split(".");for(d=0;d<c.length;d++)if(String(c[d]).slice(0,2)==="__")throw"bad property string";for(d=0;d<c.length;){if(s=String(c[d]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(s[1])c[d]=s[1];else{if(d!==0)throw"bad property string";c.splice(0,1)}for(l=s[2].substr(1,s[2].length-2).split("]["),u=0;u<l.length;u++)d++,c.splice(d,0,Number(l[u]))}d++}return typeof n!="object"?function(x,g,p){return{set:function(){throw"bad container"},get:function(){},astr:g,parts:p,obj:x}}(n,r,c):{set:h(n,c,r),get:a(n,c),astr:r,parts:c,obj:n}};var w=/(^|\.)args\[/;function b(n,r){return n===void 0||n===null&&!r.match(w)}function h(n,r,s){return function(l){var u,d,c=n,x="",g=b(l,s);for(d=0;d<r.length-1;d++){if(typeof(u=r[d])=="number"&&!k(c))throw"array index but container is not an array";if(u===-1){if(g=!t(c,r.slice(d+1),l,s))break;return}if(!i(c,u,r[d+1],g))break;if(typeof(c=c[u])!="object"||c===null)throw"container is not an object";x=o(x,u)}if(g){if(d===r.length-1&&(delete c[r[d]],Array.isArray(c)&&+r[d]==c.length-1))for(;c.length&&c[c.length-1]===void 0;)c.pop()}else c[r[d]]=l}}function o(n,r){var s=r;return A(r)?s="["+r+"]":n&&(s="."+r),n+s}function t(n,r,s,l){var u,d=k(s),c=!0,x=s,g=l.replace("-1",0),p=!d&&b(s,g),v=r[0];for(u=0;u<n.length;u++)g=l.replace("-1",u),d&&(p=b(x=s[u%s.length],g)),p&&(c=!1),i(n,u,v,p)&&h(n[u],r,l.replace("-1",u))(x);return c}function i(n,r,s,l){if(n[r]===void 0){if(l)return!1;n[r]=typeof s=="number"?[]:{}}return!0}},16628:function(Y){Y.exports=function(){}},41792:function(Y,P,e){var A=e(33428),k=e(38248),a=[];Y.exports=function(w,b){if(a.indexOf(w)===-1){a.push(w);var h=1e3;k(b)?h=b:b==="long"&&(h=3e3);var o=A.select("body").selectAll(".plotly-notifier").data([0]);o.enter().append("div").classed("plotly-notifier",!0),o.selectAll(".notifier-note").data(a).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var n=A.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(t)});for(var r=n.append("p"),s=i.split(/<br\s*\/?>/g),l=0;l<s.length;l++)l&&r.append("br"),r.append("span").text(s[l]);b==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(h).call(t)})}function t(i){i.duration(700).style("opacity",0).each("end",function(n){var r=a.indexOf(n);r!==-1&&a.splice(r,1),A.select(this).remove()})}}},72213:function(Y,P,e){var A=e(93972),k="data-savedcursor";Y.exports=function(a,w){var b=a.attr(k);if(w){if(!b){for(var h=(a.attr("class")||"").split(" "),o=0;o<h.length;o++){var t=h[o];t.indexOf("cursor-")===0&&a.attr(k,t.substr(7)).classed(t,!1)}a.attr(k)||a.attr(k,"!!")}A(a,w)}else b&&(a.attr(k,null),b==="!!"?A(a):A(a,b))}},92065:function(Y,P,e){var A=e(52248).dot,k=e(39032).BADNUM,a=Y.exports={};a.tester=function(w){var b,h=w.slice(),o=h[0][0],t=o,i=h[0][1],n=i;for(h[h.length-1][0]===h[0][0]&&h[h.length-1][1]===h[0][1]||h.push(h[0]),b=1;b<h.length;b++)o=Math.min(o,h[b][0]),t=Math.max(t,h[b][0]),i=Math.min(i,h[b][1]),n=Math.max(n,h[b][1]);var r,s=!1;h.length===5&&(h[0][0]===h[1][0]?h[2][0]===h[3][0]&&h[0][1]===h[3][1]&&h[1][1]===h[2][1]&&(s=!0,r=function(d){return d[0]===h[0][0]}):h[0][1]===h[1][1]&&h[2][1]===h[3][1]&&h[0][0]===h[3][0]&&h[1][0]===h[2][0]&&(s=!0,r=function(d){return d[1]===h[0][1]}));var l=!0,u=h[0];for(b=1;b<h.length;b++)if(u[0]!==h[b][0]||u[1]!==h[b][1]){l=!1;break}return{xmin:o,xmax:t,ymin:i,ymax:n,pts:h,contains:s?function(d,c){var x=d[0],g=d[1];return!(x===k||x<o||x>t||g===k||g<i||g>n||c&&r(d))}:function(d,c){var x=d[0],g=d[1];if(x===k||x<o||x>t||g===k||g<i||g>n)return!1;var p,v,y,m,_,f=h.length,S=h[0][0],T=h[0][1],E=0;for(p=1;p<f;p++)if(v=S,y=T,S=h[p][0],T=h[p][1],!(x<(m=Math.min(v,S))||x>Math.max(v,S)||g>Math.max(y,T)))if(g<Math.min(y,T))x!==m&&E++;else{if(g===(_=S===v?g:y+(x-v)*(T-y)/(S-v)))return p!==1||!c;g<=_&&x!==m&&E++}return E%2==1},isRect:s,degenerate:l}},a.isSegmentBent=function(w,b,h,o){var t,i,n,r=w[b],s=[w[h][0]-r[0],w[h][1]-r[1]],l=A(s,s),u=Math.sqrt(l),d=[-s[1]/u,s[0]/u];for(t=b+1;t<h;t++)if(i=[w[t][0]-r[0],w[t][1]-r[1]],(n=A(i,s))<0||n>l||Math.abs(A(i,d))>o)return!0;return!1},a.filter=function(w,b){var h=[w[0]],o=0,t=0;function i(n){w.push(n);var r=h.length,s=o;h.splice(t+1);for(var l=s+1;l<w.length;l++)(l===w.length-1||a.isSegmentBent(w,s,l+1,b))&&(h.push(w[l]),h.length<r-2&&(o=l,t=h.length-1),s=l)}return w.length>1&&i(w.pop()),{addPt:i,raw:w,filtered:h}}},5048:function(Y,P,e){var A=e(16576),k=e(28624);Y.exports=function(a,w,b){var h=a._fullLayout,o=!0;return h._glcanvas.each(function(t){if(t.regl)t.regl.preloadCachedCode(b);else if(!t.pick||h._has("parcoords")){try{t.regl=k({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:a._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:w||[],cachedCode:b||{}})}catch{o=!1}t.regl||(o=!1),o&&this.addEventListener("webglcontextlost",function(i){a&&a.emit&&a.emit("plotly_webglcontextlost",{event:i,layer:t.key})},!1)}}),o||A({container:h._glcontainer.node()}),o}},34296:function(Y,P,e){var A=e(38248),k=e(25928);Y.exports=function(a){var w;if(typeof(w=a&&a.hasOwnProperty("userAgent")?a.userAgent:function(){var r;return typeof navigator<"u"&&(r=navigator.userAgent),r&&r.headers&&typeof r.headers["user-agent"]=="string"&&(r=r.headers["user-agent"]),r}())!="string")return!0;var b=k({ua:{headers:{"user-agent":w}},tablet:!0,featureDetect:!1});if(!b){for(var h=w.split(" "),o=1;o<h.length;o++)if(h[o].indexOf("Safari")!==-1)for(var t=o-1;t>-1;t--){var i=h[t];if(i.substr(0,8)==="Version/"){var n=i.substr(8).split(".")[0];if(A(n)&&(n=+n),n>=13)return!0}}}return b}},52416:function(Y){Y.exports=function(P,e){if(e instanceof RegExp){for(var A=e.toString(),k=0;k<P.length;k++)if(P[k]instanceof RegExp&&P[k].toString()===A)return P;P.push(e)}else!e&&e!==0||P.indexOf(e)!==-1||P.push(e);return P}},94552:function(Y,P,e){var A=e(3400),k=e(20556).dfltConfig,a={add:function(w,b,h,o,t){var i,n;w.undoQueue=w.undoQueue||{index:0,queue:[],sequence:!1},n=w.undoQueue.index,w.autoplay?w.undoQueue.inSequence||(w.autoplay=!1):(!w.undoQueue.sequence||w.undoQueue.beginSequence?(i={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},w.undoQueue.queue.splice(n,w.undoQueue.queue.length-n,i),w.undoQueue.index+=1):i=w.undoQueue.queue[n-1],w.undoQueue.beginSequence=!1,i&&(i.undo.calls.unshift(b),i.undo.args.unshift(h),i.redo.calls.push(o),i.redo.args.push(t)),w.undoQueue.queue.length>k.queueLength&&(w.undoQueue.queue.shift(),w.undoQueue.index--))},startSequence:function(w){w.undoQueue=w.undoQueue||{index:0,queue:[],sequence:!1},w.undoQueue.sequence=!0,w.undoQueue.beginSequence=!0},stopSequence:function(w){w.undoQueue=w.undoQueue||{index:0,queue:[],sequence:!1},w.undoQueue.sequence=!1,w.undoQueue.beginSequence=!1},undo:function(w){var b,h;if(!(w.undoQueue===void 0||isNaN(w.undoQueue.index)||w.undoQueue.index<=0)){for(w.undoQueue.index--,b=w.undoQueue.queue[w.undoQueue.index],w.undoQueue.inSequence=!0,h=0;h<b.undo.calls.length;h++)a.plotDo(w,b.undo.calls[h],b.undo.args[h]);w.undoQueue.inSequence=!1,w.autoplay=!1}},redo:function(w){var b,h;if(!(w.undoQueue===void 0||isNaN(w.undoQueue.index)||w.undoQueue.index>=w.undoQueue.queue.length)){for(b=w.undoQueue.queue[w.undoQueue.index],w.undoQueue.inSequence=!0,h=0;h<b.redo.calls.length;h++)a.plotDo(w,b.redo.calls[h],b.redo.args[h]);w.undoQueue.inSequence=!1,w.autoplay=!1,w.undoQueue.index++}},plotDo:function(w,b,h){w.autoplay=!0,h=function(o,t){for(var i,n=[],r=0;r<t.length;r++)i=t[r],n[r]=i===o?i:typeof i=="object"?Array.isArray(i)?A.extendDeep([],i):A.extendDeepAll({},i):i;return n}(w,h),b.apply(null,h)}};Y.exports=a},53756:function(Y,P){P.counter=function(e,A,k,a){var w=(A||"")+(k?"":"$"),b=a===!1?"":"^";return e==="xy"?new RegExp(b+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+w):new RegExp(b+e+"([2-9]|[1-9][0-9]+)?"+w)}},23193:function(Y){var P=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;Y.exports=function(A,k){for(;k;){var a=A.match(P);if(a)A=a[1];else{if(!A.match(e))throw new Error("bad relativeAttr call:"+[A,k]);A=""}if(k.charAt(0)!=="^")break;k=k.slice(1)}return A&&k.charAt(0)!=="["?A+"."+k:A+k}},51528:function(Y,P,e){var A=e(38116).isArrayOrTypedArray,k=e(63620);Y.exports=function a(w,b){for(var h in b){var o=b[h],t=w[h];if(t!==o)if(h.charAt(0)==="_"||typeof o=="function"){if(h in w)continue;w[h]=o}else if(A(o)&&A(t)&&k(o[0])){if(h==="customdata"||h==="ids")continue;for(var i=Math.min(o.length,t.length),n=0;n<i;n++)t[n]!==o[n]&&k(o[n])&&k(t[n])&&a(t[n],o[n])}else k(o)&&k(t)&&(a(t,o),Object.keys(t).length||delete w[h])}}},14952:function(Y,P,e){var A=e(38248),k=e(24248),a=e(35536),w=e(39032).BADNUM,b=1e-9;function h(n,r){return n<r}function o(n,r){return n<=r}function t(n,r){return n>r}function i(n,r){return n>=r}P.findBin=function(n,r,s){if(A(r.start))return s?Math.ceil((n-r.start)/r.size-b)-1:Math.floor((n-r.start)/r.size+b);var l,u,d=0,c=r.length,x=0,g=c>1?(r[c-1]-r[0])/(c-1):1;for(u=g>=0?s?h:o:s?i:t,n+=g*b*(s?-1:1)*(g>=0?1:-1);d<c&&x++<100;)u(r[l=Math.floor((d+c)/2)],n)?d=l+1:c=l;return x>90&&k.log("Long binary search..."),d-1},P.sorterAsc=function(n,r){return n-r},P.sorterDes=function(n,r){return r-n},P.distinctVals=function(n){var r,s=n.slice();for(s.sort(P.sorterAsc),r=s.length-1;r>-1&&s[r]===w;r--);for(var l,u=s[r]-s[0]||1,d=u/(r||1)/1e4,c=[],x=0;x<=r;x++){var g=s[x],p=g-l;l===void 0?(c.push(g),l=g):p>d&&(u=Math.min(u,p),c.push(g),l=g)}return{vals:c,minDiff:u}},P.roundUp=function(n,r,s){for(var l,u=0,d=r.length-1,c=0,x=s?0:1,g=s?1:0,p=s?Math.ceil:Math.floor;u<d&&c++<100;)r[l=p((u+d)/2)]<=n?u=l+x:d=l-g;return r[u]},P.sort=function(n,r){for(var s=0,l=0,u=1;u<n.length;u++){var d=r(n[u],n[u-1]);if(d<0?s=1:d>0&&(l=1),s&&l)return n.sort(r)}return l?n:n.reverse()},P.findIndexOfMin=function(n,r){r=r||a;for(var s,l=1/0,u=0;u<n.length;u++){var d=r(n[u]);d<l&&(l=d,s=u)}return s}},93972:function(Y){Y.exports=function(P,e){(P.attr("class")||"").split(" ").forEach(function(A){A.indexOf("cursor-")===0&&P.classed(A,!1)}),e&&P.classed("cursor-"+e,!0)}},16576:function(Y,P,e){var A=e(76308),k=function(){};Y.exports=function(a){for(var w in a)typeof a[w]=="function"&&(a[w]=k);a.destroy=function(){a.container.parentNode.removeChild(a.container)};var b=document.createElement("div");b.className="no-webgl",b.style.cursor="pointer",b.style.fontSize="24px",b.style.color=A.defaults[0],b.style.position="absolute",b.style.left=b.style.top="0px",b.style.width=b.style.height="100%",b.style["background-color"]=A.lightLine,b.style["z-index"]=30;var h=document.createElement("p");return h.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",h.style.position="relative",h.style.top="50%",h.style.left="50%",h.style.height="30%",h.style.width="50%",h.style.margin="-15% 0 0 -25%",b.appendChild(h),a.container.appendChild(b),a.container.style.background="#FFFFFF",a.container.onclick=function(){window.open("https://get.webgl.org")},!1}},95376:function(Y){Y.exports=function(P){return Object.keys(P).sort()}},63084:function(Y,P,e){var A=e(38248),k=e(38116).isArrayOrTypedArray;P.aggNums=function(a,w,b,h){var o,t;if((!h||h>b.length)&&(h=b.length),A(w)||(w=!1),k(b[0])){for(t=new Array(h),o=0;o<h;o++)t[o]=P.aggNums(a,w,b[o]);b=t}for(o=0;o<h;o++)A(w)?A(b[o])&&(w=a(+w,+b[o])):w=b[o];return w},P.len=function(a){return P.aggNums(function(w){return w+1},0,a)},P.mean=function(a,w){return w||(w=P.len(a)),P.aggNums(function(b,h){return b+h},0,a)/w},P.midRange=function(a){if(a!==void 0&&a.length!==0)return(P.aggNums(Math.max,null,a)+P.aggNums(Math.min,null,a))/2},P.variance=function(a,w,b){return w||(w=P.len(a)),A(b)||(b=P.mean(a,w)),P.aggNums(function(h,o){return h+Math.pow(o-b,2)},0,a)/w},P.stdev=function(a,w,b){return Math.sqrt(P.variance(a,w,b))},P.median=function(a){var w=a.slice().sort();return P.interp(w,.5)},P.interp=function(a,w){if(!A(w))throw"n should be a finite number";if((w=w*a.length-.5)<0)return a[0];if(w>a.length-1)return a[a.length-1];var b=w%1;return b*a[Math.ceil(w)]+(1-b)*a[Math.floor(w)]}},43080:function(Y,P,e){var A=e(72160);Y.exports=function(k){return k?A(k):[0,0,0,1]}},9188:function(Y,P,e){var A=e(2264),k=e(43616),a=e(3400),w=null;Y.exports=function(){if(w!==null)return w;w=!1;var b=a.isIE()||a.isSafari()||a.isIOS();if(window.navigator.userAgent&&!b){var h=Array.from(A.CSS_DECLARATIONS).reverse(),o=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof o=="function")w=h.some(function(n){return o.apply(null,n)});else{var t=k.tester.append("image").attr("style",A.STYLE),i=window.getComputedStyle(t.node()).imageRendering;w=h.some(function(n){var r=n[1];return i===r||i===r.toLowerCase()}),t.remove()}}return w}},72736:function(Y,P,e){var A=e(33428),k=e(3400),a=k.strTranslate,w=e(9616),b=e(84284).LINE_SPACING,h=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;P.convertToTspans=function(z,U,D){var B=z.text(),Z=!z.attr("data-notex")&&U&&U._context.typesetMath&&typeof MathJax<"u"&&B.match(h),F=A.select(z.node().parentNode);if(!F.empty()){var j=z.attr("class")?z.attr("class").split(" ")[0]:"text";return j+="-math",F.selectAll("svg."+j).remove(),F.selectAll("g."+j+"-group").remove(),z.style("display",null).attr({"data-unformatted":B,"data-math":"N"}),Z?(U&&U._promises||[]).push(new Promise(function(te){z.style("display","none");var Q=parseInt(z.node().style.fontSize,10),$={fontSize:Q};(function(G,X,J){var ne,ie,ae,le,ce=parseInt((MathJax.version||"").split(".")[0]);if(ce===2||ce===3){var pe=function(){var me="math-output-"+k.randstr({},64),ve=(le=A.select("body").append("div").attr({id:me}).style({visibility:"hidden",position:"absolute","font-size":X.fontSize+"px"}).text(G.replace(o,"\\lt ").replace(t,"\\gt "))).node();return ce===2?MathJax.Hub.Typeset(ve):MathJax.typeset([ve])},ge=function(){var me=le.select(ce===2?".MathJax_SVG":".MathJax"),ve=!me.empty()&&le.select("svg").node();if(ve){var Me,_e=ve.getBoundingClientRect();Me=ce===2?A.select("body").select("#MathJax_SVG_glyphs"):me.select("defs"),J(me,Me,_e)}else k.log("There was an error in the tex syntax.",G),J();le.remove()};ce===2?MathJax.Hub.Queue(function(){return ie=k.extendDeepAll({},MathJax.Hub.config),ae=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:i},displayAlign:"left"})},function(){if((ne=MathJax.Hub.config.menuSettings.renderer)!=="SVG")return MathJax.Hub.setRenderer("SVG")},pe,ge,function(){if(ne!=="SVG")return MathJax.Hub.setRenderer(ne)},function(){return ae!==void 0&&(MathJax.Hub.processSectionDelay=ae),MathJax.Hub.Config(ie)}):ce===3&&(ie=k.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=i,(ne=MathJax.config.startup.output)!=="svg"&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){pe(),ge(),ne!=="svg"&&(MathJax.config.startup.output=ne),MathJax.config=ie}))}else k.warn("No MathJax version:",MathJax.version)})(Z[2],$,function(G,X,J){F.selectAll("svg."+j).remove(),F.selectAll("g."+j+"-group").remove();var ne=G&&G.select("svg");if(!ne||!ne.node())return V(),void te();var ie=F.append("g").classed(j+"-group",!0).attr({"pointer-events":"none","data-unformatted":B,"data-math":"Y"});ie.node().appendChild(ne.node()),X&&X.node()&&ne.node().insertBefore(X.node().cloneNode(!0),ne.node().firstChild);var ae=J.width,le=J.height;ne.attr({class:j,height:le,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ce=z.node().style.fill||"black",pe=ne.select("g");pe.attr({fill:ce,stroke:ce});var ge=pe.node().getBoundingClientRect(),me=ge.width,ve=ge.height;(me>ae||ve>le)&&(ne.style("overflow","hidden"),me=(ge=ne.node().getBoundingClientRect()).width,ve=ge.height);var Me=+z.attr("x"),_e=+z.attr("y"),we=-(Q||z.node().getBoundingClientRect().height)/4;if(j[0]==="y")ie.attr({transform:"rotate("+[-90,Me,_e]+")"+a(-me/2,we-ve/2)});else if(j[0]==="l")_e=we-ve/2;else if(j[0]==="a"&&j.indexOf("atitle")!==0)Me=0,_e=we;else{var oe=z.attr("text-anchor");Me-=me*(oe==="middle"?.5:oe==="end"?1:0),_e=_e+we-ve/2}ne.attr({x:Me,y:_e}),D&&D.call(z,ie),te(ie)})})):V(),z}function V(){F.empty()||(j=z.attr("class")+"-math",F.select("svg."+j).remove()),z.text("").style("white-space","pre");var te=function(Q,$){$=$.replace(d," ");var G,X=!1,J=[],ne=-1;function ie(){ne++;var Te=document.createElementNS(w.svg,"tspan");A.select(Te).attr({class:"line",dy:ne*b+"em"}),Q.appendChild(Te),G=Te;var Se=J;if(J=[{node:Te}],Se.length>1)for(var Le=1;Le<Se.length;Le++)ae(Se[Le])}function ae(Te){var Se,Le=Te.type,Oe={};if(Le==="a"){Se="a";var he=Te.target,xe=Te.href,ke=Te.popup;xe&&(Oe={"xlink:xlink:show":he==="_blank"||he.charAt(0)!=="_"?"new":"replace",target:he,"xlink:xlink:href":xe},ke&&(Oe.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+ke+'");return false;'))}else Se="tspan";Te.style&&(Oe.style=Te.style);var Re=document.createElementNS(w.svg,Se);if(Le==="sup"||Le==="sub"){le(G,l),G.appendChild(Re);var ze=document.createElementNS(w.svg,"tspan");le(ze,l),A.select(ze).attr("dy",s[Le]),Oe.dy=r[Le],G.appendChild(Re),G.appendChild(ze)}else G.appendChild(Re);A.select(Re).attr(Oe),G=Te.node=Re,J.push(Te)}function le(Te,Se){Te.appendChild(document.createTextNode(Se))}function ce(Te){if(J.length!==1){var Se=J.pop();Te!==Se.type&&k.log("Start tag <"+Se.type+"> doesnt match end tag <"+Te+">. Pretending it did match.",$),G=J[J.length-1].node}else k.log("Ignoring unexpected end tag </"+Te+">.",$)}g.test($)?ie():(G=Q,J=[{node:Q}]);for(var pe=$.split(c),ge=0;ge<pe.length;ge++){var me=pe[ge],ve=me.match(x),Me=ve&&ve[2].toLowerCase(),_e=n[Me];if(Me==="br")ie();else if(_e===void 0)le(G,E(me));else if(ve[1])ce(Me);else{var we=ve[4],oe={type:Me},se=_(we,p);if(se?(se=se.replace(f,"$1 fill:"),_e&&(se+=";"+_e)):_e&&(se=_e),se&&(oe.style=se),Me==="a"){X=!0;var de=_(we,v);if(de){var Ee=C(de);Ee&&(oe.href=Ee,oe.target=_(we,y)||"_blank",oe.popup=_(we,m))}}ae(oe)}}return X}(z.node(),B);te&&z.style("pointer-events","all"),P.positionText(z),D&&D.call(z)}};var o=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g,i=[["$","$"],["\\(","\\)"]],n={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},r={sub:"0.3em",sup:"-0.6em"},s={sub:"-0.21em",sup:"0.42em"},l="\u200B",u=["http:","https:","mailto:","",void 0,":"],d=P.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,x=/<(\/?)([^ >]*)(\s+(.*))?>/i,g=/<br(\s+.*)?>/i;P.BR_TAG_ALL=/<br(\s+.*)?>/gi;var p=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,v=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,y=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,m=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function _(z,U){if(!z)return null;var D=z.match(U),B=D&&(D[3]||D[4]);return B&&E(B)}var f=/(^|;)\s*color:/;P.plainText=function(z,U){for(var D=(U=U||{}).len!==void 0&&U.len!==-1?U.len:1/0,B=U.allowedTags!==void 0?U.allowedTags:["br"],Z=z.split(c),F=[],j="",V=0,te=0;te<Z.length;te++){var Q=Z[te],$=Q.match(x),G=$&&$[2].toLowerCase();if(G)B.indexOf(G)!==-1&&(F.push(Q),j=G);else{var X=Q.length;if(V+X<D)F.push(Q),V+=X;else if(V<D){var J=D-V;j&&(j!=="br"||J<=3||X<=3)&&F.pop(),D>3?F.push(Q.substr(0,J-3)+"..."):F.push(Q.substr(0,J));break}j=""}}return F.join("")};var S={mu:"\u03BC",amp:"&",lt:"<",gt:">",nbsp:"\xA0",times:"\xD7",plusmn:"\xB1",deg:"\xB0"},T=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function E(z){return z.replace(T,function(U,D){return(D.charAt(0)==="#"?function(B){if(!(B>1114111)){var Z=String.fromCodePoint;if(Z)return Z(B);var F=String.fromCharCode;return B<=65535?F(B):F(55232+(B>>10),B%1024+56320)}}(D.charAt(1)==="x"?parseInt(D.substr(2),16):parseInt(D.substr(1),10)):S[D])||U})}function C(z){var U=encodeURI(decodeURI(z)),D=document.createElement("a"),B=document.createElement("a");D.href=z,B.href=U;var Z=D.protocol,F=B.protocol;return u.indexOf(Z)!==-1&&u.indexOf(F)!==-1?U:""}function O(z,U,D){var B,Z,F,j=D.horizontalAlign,V=D.verticalAlign||"top",te=z.node().getBoundingClientRect(),Q=U.node().getBoundingClientRect();return Z=V==="bottom"?function(){return te.bottom-B.height}:V==="middle"?function(){return te.top+(te.height-B.height)/2}:function(){return te.top},F=j==="right"?function(){return te.right-B.width}:j==="center"?function(){return te.left+(te.width-B.width)/2}:function(){return te.left},function(){B=this.node().getBoundingClientRect();var $=F()-Q.left,G=Z()-Q.top,X=D.gd||{};if(D.gd){X._fullLayout._calcInverseTransform(X);var J=k.apply3DTransform(X._fullLayout._invTransform)($,G);$=J[0],G=J[1]}return this.style({top:G+"px",left:$+"px","z-index":1e3}),this}}P.convertEntities=E,P.sanitizeHTML=function(z){z=z.replace(d," ");for(var U=document.createElement("p"),D=U,B=[],Z=z.split(c),F=0;F<Z.length;F++){var j=Z[F],V=j.match(x),te=V&&V[2].toLowerCase();if(te in n)if(V[1])B.length&&(D=B.pop());else{var Q=V[4],$=_(Q,p),G=$?{style:$}:{};if(te==="a"){var X=_(Q,v);if(X){var J=C(X);if(J){G.href=J;var ne=_(Q,y);ne&&(G.target=ne)}}}var ie=document.createElement(te);D.appendChild(ie),A.select(ie).attr(G),D=ie,B.push(ie)}else D.appendChild(document.createTextNode(E(j)))}return U.innerHTML},P.lineCount=function(z){return z.selectAll("tspan.line").size()||1},P.positionText=function(z,U,D){return z.each(function(){var B=A.select(this);function Z(V,te){return te===void 0?(te=B.attr(V))===null&&(B.attr(V,0),te=0):B.attr(V,te),te}var F=Z("x",U),j=Z("y",D);this.nodeName==="text"&&B.selectAll("tspan.line").attr({x:F,y:j})})};var I="1px ";P.makeTextShadow=function(z){return I+I+I+z+", -"+I+"-"+I+I+z+", "+I+"-"+I+I+z+", -"+I+I+I+z},P.makeEditable=function(z,U){var D=U.gd,B=U.delegate,Z=A.dispatch("edit","input","cancel"),F=B||z;if(z.style({"pointer-events":B?"none":"all"}),z.size()!==1)throw new Error("boo");function j(){var te,Q,$,G,X;te=A.select(D).select(".svg-container"),Q=te.append("div"),$=z.node().style,G=parseFloat($.fontSize||12),(X=U.text)===void 0&&(X=z.attr("data-unformatted")),Q.classed("plugin-editable editable",!0).style({position:"absolute","font-family":$.fontFamily||"Arial","font-size":G,color:U.fill||$.fill||"black",opacity:1,"background-color":U.background||"transparent",outline:"#ffffff33 1px solid",margin:[-G/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(X).call(O(z,te,U)).on("blur",function(){D._editing=!1,z.text(this.textContent).style({opacity:1});var ie,ae=A.select(this).attr("class");(ie=ae?"."+ae.split(" ")[0]+"-math-group":"[class*=-math-group]")&&A.select(z.node().parentNode).select(ie).style({opacity:0});var le=this.textContent;A.select(this).transition().duration(0).remove(),A.select(document).on("mouseup",null),Z.edit.call(z,le)}).on("focus",function(){var ie=this;D._editing=!0,A.select(document).on("mouseup",function(){if(A.event.target===ie)return!1;document.activeElement===Q.node()&&Q.node().blur()})}).on("keyup",function(){A.event.which===27?(D._editing=!1,z.style({opacity:1}),A.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),Z.cancel.call(z,this.textContent)):(Z.input.call(z,this.textContent),A.select(this).call(O(z,te,U)))}).on("keydown",function(){A.event.which===13&&this.blur()}).call(V),z.style({opacity:0});var J,ne=F.attr("class");(J=ne?"."+ne.split(" ")[0]+"-math-group":"[class*=-math-group]")&&A.select(z.node().parentNode).select(J).style({opacity:0})}function V(te){var Q=te.node(),$=document.createRange();$.selectNodeContents(Q);var G=window.getSelection();G.removeAllRanges(),G.addRange($),Q.focus()}return U.immediate?j():F.on("click",j),A.rebind(z,Z,"on")}},91200:function(Y,P){var e={};function A(k){k&&k.timer!==null&&(clearTimeout(k.timer),k.timer=null)}P.throttle=function(k,a,w){var b=e[k],h=Date.now();if(!b){for(var o in e)e[o].ts<h-6e4&&delete e[o];b=e[k]={ts:0,timer:null}}function t(){w(),b.ts=Date.now(),b.onDone&&(b.onDone(),b.onDone=null)}A(b),h>b.ts+a?t():b.timer=setTimeout(function(){t(),b.timer=null},a)},P.done=function(k){var a=e[k];return a&&a.timer?new Promise(function(w){var b=a.onDone;a.onDone=function(){b&&b(),w(),a.onDone=null}}):Promise.resolve()},P.clear=function(k){if(k)A(e[k]),delete e[k];else for(var a in e)P.clear(a)}},36896:function(Y,P,e){var A=e(38248);Y.exports=function(k,a){if(k>0)return Math.log(k)/Math.LN10;var w=Math.log(Math.min(a[0],a[1]))/Math.LN10;return A(w)||(w=Math.log(Math.max(a[0],a[1]))/Math.LN10-6),w}},59972:function(Y,P,e){var A=Y.exports={},k=e(79552).locationmodeToLayer,a=e(55712).NO;A.getTopojsonName=function(w){return[w.scope.replace(/ /g,"-"),"_",w.resolution.toString(),"m"].join("")},A.getTopojsonPath=function(w,b){return w+b+".json"},A.getTopojsonFeatures=function(w,b){var h=k[w.locationmode],o=b.objects[h];return a(b,o).features}},11680:function(Y){Y.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(Y){Y.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},69820:function(Y,P,e){var A=e(24040);Y.exports=function(k){for(var a,w,b=A.layoutArrayContainers,h=A.layoutArrayRegexes,o=k.split("[")[0],t=0;t<h.length;t++)if((w=k.match(h[t]))&&w.index===0){a=w[0];break}if(a||(a=b[b.indexOf(o)]),!a)return!1;var i=k.substr(a.length);return i?!!(w=i.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:a,index:Number(w[1]),property:w[3]||""}:{array:a,index:"",property:""}}},67824:function(Y,P,e){var A=e(92880).extendFlat,k=e(63620),a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},w={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},b=a.flags.slice().concat(["fullReplot"]),h=w.flags.slice().concat("layoutReplot");function o(n){for(var r={},s=0;s<n.length;s++)r[n[s]]=!1;return r}function t(n,r,s){var l=A({},n);for(var u in l){var d=l[u];k(d)&&(l[u]=i(d,r,0,u))}return s==="from-root"&&(l.editType=r),l}function i(n,r,s,l){if(n.valType){var u=A({},n);if(u.editType=r,Array.isArray(n.items)){u.items=new Array(n.items.length);for(var d=0;d<n.items.length;d++)u.items[d]=i(n.items[d],r)}return u}return t(n,r,l.charAt(0)==="_"?"nested":"from-root")}Y.exports={traces:a,layout:w,traceFlags:function(){return o(b)},layoutFlags:function(){return o(h)},update:function(n,r){var s=r.editType;if(s&&s!=="none")for(var l=s.split("+"),u=0;u<l.length;u++)n[l[u]]=!0},overrideAll:t}},93404:function(Y,P,e){var A=e(38248),k=e(61784),a=e(24040),w=e(3400),b=e(7316),h=e(79811),o=e(76308),t=h.cleanId,i=h.getFromTrace,n=a.traceIs;function r(v,y){var m=v[y],_=y.charAt(0);m&&m!=="paper"&&(v[y]=t(m,_,!0))}function s(v){function y(m,_){var f=v[m],S=v.title&&v.title[_];f&&!S&&(v.title||(v.title={}),v.title[_]=v[m],delete v[m])}v&&(typeof v.title!="string"&&typeof v.title!="number"||(v.title={text:v.title}),y("titlefont","font"),y("titleposition","position"),y("titleside","side"),y("titleoffset","offset"))}function l(v){if(!w.isPlainObject(v))return!1;var y=v.name;return delete v.name,delete v.showlegend,(typeof y=="string"||typeof y=="number")&&String(y)}function u(v,y,m,_){if(m&&!_)return v;if(_&&!m||!v.trim())return y;if(!y.trim())return v;var f,S=Math.min(v.length,y.length);for(f=0;f<S&&v.charAt(f)===y.charAt(f);f++);return v.substr(0,f).trim()}function d(v){var y="middle",m="center";return typeof v=="string"&&(v.indexOf("top")!==-1?y="top":v.indexOf("bottom")!==-1&&(y="bottom"),v.indexOf("left")!==-1?m="left":v.indexOf("right")!==-1&&(m="right")),y+" "+m}function c(v,y){return y in v&&typeof v[y]=="object"&&Object.keys(v[y]).length===0}P.clearPromiseQueue=function(v){Array.isArray(v._promises)&&v._promises.length>0&&w.log("Clearing previous rejected promises from queue."),v._promises=[]},P.cleanLayout=function(v){var y,m;v||(v={}),v.xaxis1&&(v.xaxis||(v.xaxis=v.xaxis1),delete v.xaxis1),v.yaxis1&&(v.yaxis||(v.yaxis=v.yaxis1),delete v.yaxis1),v.scene1&&(v.scene||(v.scene=v.scene1),delete v.scene1);var _=(b.subplotsRegistry.cartesian||{}).attrRegex,f=(b.subplotsRegistry.polar||{}).attrRegex,S=(b.subplotsRegistry.ternary||{}).attrRegex,T=(b.subplotsRegistry.gl3d||{}).attrRegex,E=Object.keys(v);for(y=0;y<E.length;y++){var C=E[y];if(_&&_.test(C)){var O=v[C];O.anchor&&O.anchor!=="free"&&(O.anchor=t(O.anchor)),O.overlaying&&(O.overlaying=t(O.overlaying)),O.type||(O.isdate?O.type="date":O.islog?O.type="log":O.isdate===!1&&O.islog===!1&&(O.type="linear")),O.autorange!=="withzero"&&O.autorange!=="tozero"||(O.autorange=!0,O.rangemode="tozero"),O.insiderange&&delete O.range,delete O.islog,delete O.isdate,delete O.categories,c(O,"domain")&&delete O.domain,O.autotick!==void 0&&(O.tickmode===void 0&&(O.tickmode=O.autotick?"auto":"linear"),delete O.autotick),s(O)}else if(f&&f.test(C))s(v[C].radialaxis);else if(S&&S.test(C)){var I=v[C];s(I.aaxis),s(I.baxis),s(I.caxis)}else if(T&&T.test(C)){var z=v[C],U=z.cameraposition;if(Array.isArray(U)&&U[0].length===4){var D=U[0],B=U[1],Z=U[2],F=k([],D),j=[];for(m=0;m<3;++m)j[m]=B[m]+Z*F[2+4*m];z.camera={eye:{x:j[0],y:j[1],z:j[2]},center:{x:B[0],y:B[1],z:B[2]},up:{x:0,y:0,z:1}},delete z.cameraposition}s(z.xaxis),s(z.yaxis),s(z.zaxis)}}var V=Array.isArray(v.annotations)?v.annotations.length:0;for(y=0;y<V;y++){var te=v.annotations[y];w.isPlainObject(te)&&(te.ref&&(te.ref==="paper"?(te.xref="paper",te.yref="paper"):te.ref==="data"&&(te.xref="x",te.yref="y"),delete te.ref),r(te,"xref"),r(te,"yref"))}var Q=Array.isArray(v.shapes)?v.shapes.length:0;for(y=0;y<Q;y++){var $=v.shapes[y];w.isPlainObject($)&&(r($,"xref"),r($,"yref"))}var G=Array.isArray(v.images)?v.images.length:0;for(y=0;y<G;y++){var X=v.images[y];w.isPlainObject(X)&&(r(X,"xref"),r(X,"yref"))}var J=v.legend;return J&&(J.x>3?(J.x=1.02,J.xanchor="left"):J.x<-2&&(J.x=-.02,J.xanchor="right"),J.y>3?(J.y=1.02,J.yanchor="bottom"):J.y<-2&&(J.y=-.02,J.yanchor="top")),s(v),v.dragmode==="rotate"&&(v.dragmode="orbit"),o.clean(v),v.template&&v.template.layout&&P.cleanLayout(v.template.layout),v},P.cleanData=function(v){for(var y=0;y<v.length;y++){var m,_=v[y];if(_.type==="histogramy"&&"xbins"in _&&!("ybins"in _)&&(_.ybins=_.xbins,delete _.xbins),_.error_y&&"opacity"in _.error_y){var f=o.defaults,S=_.error_y.color||(n(_,"bar")?o.defaultLine:f[y%f.length]);_.error_y.color=o.addOpacity(o.rgb(S),o.opacity(S)*_.error_y.opacity),delete _.error_y.opacity}if("bardir"in _&&(_.bardir!=="h"||!n(_,"bar")&&_.type.substr(0,9)!=="histogram"||(_.orientation="h",P.swapXYData(_)),delete _.bardir),_.type==="histogramy"&&P.swapXYData(_),_.type!=="histogramx"&&_.type!=="histogramy"||(_.type="histogram"),"scl"in _&&!("colorscale"in _)&&(_.colorscale=_.scl,delete _.scl),"reversescl"in _&&!("reversescale"in _)&&(_.reversescale=_.reversescl,delete _.reversescl),_.xaxis&&(_.xaxis=t(_.xaxis,"x")),_.yaxis&&(_.yaxis=t(_.yaxis,"y")),n(_,"gl3d")&&_.scene&&(_.scene=b.subplotsRegistry.gl3d.cleanId(_.scene)),!n(_,"pie-like")&&!n(_,"bar-like"))if(Array.isArray(_.textposition))for(m=0;m<_.textposition.length;m++)_.textposition[m]=d(_.textposition[m]);else _.textposition&&(_.textposition=d(_.textposition));var T=a.getModule(_);if(T&&T.colorbar){var E=T.colorbar.container,C=E?_[E]:_;C&&C.colorscale&&(C.colorscale==="YIGnBu"&&(C.colorscale="YlGnBu"),C.colorscale==="YIOrRd"&&(C.colorscale="YlOrRd"))}if(_.type==="surface"&&w.isPlainObject(_.contours)){var O=["x","y","z"];for(m=0;m<O.length;m++){var I=_.contours[O[m]];w.isPlainObject(I)&&(I.highlightColor&&(I.highlightcolor=I.highlightColor,delete I.highlightColor),I.highlightWidth&&(I.highlightwidth=I.highlightWidth,delete I.highlightWidth))}}if(_.type==="candlestick"||_.type==="ohlc"){var z=(_.increasing||{}).showlegend!==!1,U=(_.decreasing||{}).showlegend!==!1,D=l(_.increasing),B=l(_.decreasing);if(D!==!1&&B!==!1){var Z=u(D,B,z,U);Z&&(_.name=Z)}else!D&&!B||_.name||(_.name=D||B)}if(Array.isArray(_.transforms)){var F=_.transforms;for(m=0;m<F.length;m++){var j=F[m];if(w.isPlainObject(j))switch(j.type){case"filter":j.filtersrc&&(j.target=j.filtersrc,delete j.filtersrc),j.calendar&&(j.valuecalendar||(j.valuecalendar=j.calendar),delete j.calendar);break;case"groupby":if(j.styles=j.styles||j.style,j.styles&&!Array.isArray(j.styles)){var V=j.styles,te=Object.keys(V);j.styles=[];for(var Q=0;Q<te.length;Q++)j.styles.push({target:te[Q],value:V[te[Q]]})}}}}c(_,"line")&&delete _.line,"marker"in _&&(c(_.marker,"line")&&delete _.marker.line,c(_,"marker")&&delete _.marker),o.clean(_),_.autobinx&&(delete _.autobinx,delete _.xbins),_.autobiny&&(delete _.autobiny,delete _.ybins),s(_),_.colorbar&&s(_.colorbar),_.marker&&_.marker.colorbar&&s(_.marker.colorbar),_.line&&_.line.colorbar&&s(_.line.colorbar),_.aaxis&&s(_.aaxis),_.baxis&&s(_.baxis)}},P.swapXYData=function(v){var y;if(w.swapAttrs(v,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(v.z)&&Array.isArray(v.z[0])&&(v.transpose?delete v.transpose:v.transpose=!0),v.error_x&&v.error_y){var m=v.error_y,_="copy_ystyle"in m?m.copy_ystyle:!(m.color||m.thickness||m.width);w.swapAttrs(v,["error_?.copy_ystyle"]),_&&w.swapAttrs(v,["error_?.color","error_?.thickness","error_?.width"])}if(typeof v.hoverinfo=="string"){var f=v.hoverinfo.split("+");for(y=0;y<f.length;y++)f[y]==="x"?f[y]="y":f[y]==="y"&&(f[y]="x");v.hoverinfo=f.join("+")}},P.coerceTraceIndices=function(v,y){if(A(y))return[y];if(!Array.isArray(y)||!y.length)return v.data.map(function(f,S){return S});if(Array.isArray(y)){for(var m=[],_=0;_<y.length;_++)w.isIndex(y[_],v.data.length)?m.push(y[_]):w.warn("trace index (",y[_],") is not a number or is out of bounds");return m}return y},P.manageArrayContainers=function(v,y,m){var _=v.obj,f=v.parts,S=f.length,T=f[S-1],E=A(T);if(E&&y===null){var C=f.slice(0,S-1).join(".");w.nestedProperty(_,C).get().splice(T,1)}else E&&v.get()===void 0&&v.get()===void 0&&(m[v.astr]=null),v.set(y)};var x=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function g(v){var y=v.search(x);if(y>0)return v.substr(0,y)}P.hasParent=function(v,y){for(var m=g(y);m;){if(m in v)return!0;m=g(m)}return!1};var p=["x","y","z"];P.clearAxisTypes=function(v,y,m){for(var _=0;_<y.length;_++)for(var f=v._fullData[_],S=0;S<3;S++){var T=i(v,f,p[S]);if(T&&T.type!=="log"){var E=T._name,C=T._id.substr(1);if(C.substr(0,5)==="scene"){if(m[C]!==void 0)continue;E=C+"."+E}var O=E+".type";m[E]===void 0&&m[O]===void 0&&w.nestedProperty(v.layout,O).set(null)}}}},22448:function(Y,P,e){var A=e(36424);P._doPlot=A._doPlot,P.newPlot=A.newPlot,P.restyle=A.restyle,P.relayout=A.relayout,P.redraw=A.redraw,P.update=A.update,P._guiRestyle=A._guiRestyle,P._guiRelayout=A._guiRelayout,P._guiUpdate=A._guiUpdate,P._storeDirectGUIEdit=A._storeDirectGUIEdit,P.react=A.react,P.extendTraces=A.extendTraces,P.prependTraces=A.prependTraces,P.addTraces=A.addTraces,P.deleteTraces=A.deleteTraces,P.moveTraces=A.moveTraces,P.purge=A.purge,P.addFrames=A.addFrames,P.deleteFrames=A.deleteFrames,P.animate=A.animate,P.setPlotConfig=A.setPlotConfig;var k=e(52200).getGraphDiv,a=e(4016).eraseActiveShape;P.deleteActiveShape=function(b){return a(k(b))},P.toImage=e(67024),P.validate=e(21480),P.downloadImage=e(39792);var w=e(94828);P.makeTemplate=w.makeTemplate,P.validateTemplate=w.validateTemplate},17680:function(Y,P,e){var A=e(63620),k=e(16628),a=e(24248),w=e(14952).sorterAsc,b=e(24040);P.containerArrayMatch=e(69820);var h=P.isAddVal=function(t){return t==="add"||A(t)},o=P.isRemoveVal=function(t){return t===null||t==="remove"};P.applyContainerArrayChanges=function(t,i,n,r,s){var l=i.astr,u=b.getComponentMethod(l,"supplyLayoutDefaults"),d=b.getComponentMethod(l,"draw"),c=b.getComponentMethod(l,"drawOne"),x=r.replot||r.recalc||u===k||d===k,g=t.layout,p=t._fullLayout;if(n[""]){Object.keys(n).length>1&&a.warn("Full array edits are incompatible with other edits",l);var v=n[""][""];if(o(v))i.set(null);else{if(!Array.isArray(v))return a.warn("Unrecognized full array edit value",l,v),!0;i.set(v)}return!x&&(u(g,p),d(t),!0)}var y,m,_,f,S,T,E,C,O=Object.keys(n).map(Number).sort(w),I=i.get(),z=I||[],U=s(p,l).get(),D=[],B=-1,Z=z.length;for(y=0;y<O.length;y++)if(f=n[_=O[y]],S=Object.keys(f),T=f[""],E=h(T),_<0||_>z.length-(E?0:1))a.warn("index out of range",l,_);else if(T!==void 0)S.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",l,_),o(T)?D.push(_):E?(T==="add"&&(T={}),z.splice(_,0,T),U&&U.splice(_,0,{})):a.warn("Unrecognized full object edit value",l,_,T),B===-1&&(B=_);else for(m=0;m<S.length;m++)C=l+"["+_+"].",s(z[_],S[m],C).set(f[S[m]]);for(y=D.length-1;y>=0;y--)z.splice(D[y],1),U&&U.splice(D[y],1);if(z.length?I||i.set(z):i.set(null),x)return!1;if(u(g,p),c!==k){var F;if(B===-1)F=O;else{for(Z=Math.max(z.length,Z),F=[],y=0;y<O.length&&!((_=O[y])>=B);y++)F.push(_);for(y=B;y<Z;y++)F.push(y)}for(y=0;y<F.length;y++)c(t,F[y])}else d(t);return!0}},36424:function(Y,P,e){var A=e(33428),k=e(38248),a=e(52264),w=e(3400),b=w.nestedProperty,h=e(95924),o=e(94552),t=e(24040),i=e(73060),n=e(7316),r=e(54460),s=e(96312),l=e(94724),u=e(43616),d=e(76308),c=e(42464).initInteractions,x=e(9616),g=e(22676).clearOutline,p=e(20556).dfltConfig,v=e(17680),y=e(93404),m=e(39172),_=e(67824),f=e(33816).AX_NAME_PATTERN,S=0;function T(Te){var Se=Te._fullLayout;Se._redrawFromAutoMarginCount?Se._redrawFromAutoMarginCount--:Te.emit("plotly_afterplot")}function E(Te,Se){try{Te._fullLayout._paper.style("background",Se)}catch(Le){w.error(Le)}}function C(Te,Se){E(Te,d.combine(Se,"white"))}function O(Te,Se){if(!Te._context){Te._context=w.extendDeep({},p);var Le=A.select("base");Te._context._baseUrl=Le.size()&&Le.attr("href")?window.location.href.split("#")[0]:""}var Oe,he,xe,ke=Te._context;if(Se){for(he=Object.keys(Se),Oe=0;Oe<he.length;Oe++)(xe=he[Oe])!=="editable"&&xe!=="edits"&&xe in ke&&(xe==="setBackground"&&Se[xe]==="opaque"?ke[xe]=C:ke[xe]=Se[xe]);Se.plot3dPixelRatio&&!ke.plotGlPixelRatio&&(ke.plotGlPixelRatio=ke.plot3dPixelRatio);var Re=Se.editable;if(Re!==void 0)for(ke.editable=Re,he=Object.keys(ke.edits),Oe=0;Oe<he.length;Oe++)ke.edits[he[Oe]]=Re;if(Se.edits)for(he=Object.keys(Se.edits),Oe=0;Oe<he.length;Oe++)(xe=he[Oe])in ke.edits&&(ke.edits[xe]=Se.edits[xe]);ke._exportedPlot=Se._exportedPlot}ke.staticPlot&&(ke.editable=!1,ke.edits={},ke.autosizable=!1,ke.scrollZoom=!1,ke.doubleClick=!1,ke.showTips=!1,ke.showLink=!1,ke.displayModeBar=!1),ke.displayModeBar!=="hover"||a||(ke.displayModeBar=!0),ke.setBackground!=="transparent"&&typeof ke.setBackground=="function"||(ke.setBackground=E),ke._hasZeroHeight=ke._hasZeroHeight||Te.clientHeight===0,ke._hasZeroWidth=ke._hasZeroWidth||Te.clientWidth===0;var ze=ke.scrollZoom,Ie=ke._scrollZoom={};if(ze===!0)Ie.cartesian=1,Ie.gl3d=1,Ie.geo=1,Ie.mapbox=1;else if(typeof ze=="string"){var He=ze.split("+");for(Oe=0;Oe<He.length;Oe++)Ie[He[Oe]]=1}else ze!==!1&&(Ie.gl3d=1,Ie.geo=1,Ie.mapbox=1)}function I(Te,Se){var Le,Oe,he=Se+1,xe=[];for(Le=0;Le<Te.length;Le++)(Oe=Te[Le])<0?xe.push(he+Oe):xe.push(Oe);return xe}function z(Te,Se,Le){var Oe,he;for(Oe=0;Oe<Se.length;Oe++){if((he=Se[Oe])!==parseInt(he,10))throw new Error("all values in "+Le+" must be integers");if(he>=Te.data.length||he<-Te.data.length)throw new Error(Le+" must be valid indices for gd.data.");if(Se.indexOf(he,Oe+1)>-1||he>=0&&Se.indexOf(-Te.data.length+he)>-1||he<0&&Se.indexOf(Te.data.length+he)>-1)throw new Error("each index in "+Le+" must be unique.")}}function U(Te,Se,Le){if(!Array.isArray(Te.data))throw new Error("gd.data must be an array.");if(Se===void 0)throw new Error("currentIndices is a required argument.");if(Array.isArray(Se)||(Se=[Se]),z(Te,Se,"currentIndices"),Le===void 0||Array.isArray(Le)||(Le=[Le]),Le!==void 0&&z(Te,Le,"newIndices"),Le!==void 0&&Se.length!==Le.length)throw new Error("current and new indices must be of equal length.")}function D(Te,Se,Le,Oe,he){(function(Je,st,it,vt){var _t=w.isPlainObject(vt);if(!Array.isArray(Je.data))throw new Error("gd.data must be an array");if(!w.isPlainObject(st))throw new Error("update must be a key:value object");if(it===void 0)throw new Error("indices must be an integer or array of integers");for(var xt in z(Je,it,"indices"),st){if(!Array.isArray(st[xt])||st[xt].length!==it.length)throw new Error("attribute "+xt+" must be an array of length equal to indices array length");if(_t&&(!(xt in vt)||!Array.isArray(vt[xt])||vt[xt].length!==st[xt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}})(Te,Se,Le,Oe);for(var xe=function(Je,st,it,vt){var _t,xt,et,nt,Mt,zt=w.isPlainObject(vt),Ft=[];for(var Rt in Array.isArray(it)||(it=[it]),it=I(it,Je.data.length-1),st)for(var We=0;We<it.length;We++){if(_t=Je.data[it[We]],xt=(et=b(_t,Rt)).get(),nt=st[Rt][We],!w.isArrayOrTypedArray(nt))throw new Error("attribute: "+Rt+" index: "+We+" must be an array");if(!w.isArrayOrTypedArray(xt))throw new Error("cannot extend missing or non-array attribute: "+Rt);if(xt.constructor!==nt.constructor)throw new Error("cannot extend array with an array of a different type: "+Rt);Mt=zt?vt[Rt][We]:vt,k(Mt)||(Mt=-1),Ft.push({prop:et,target:xt,insert:nt,maxp:Math.floor(Mt)})}return Ft}(Te,Se,Le,Oe),ke={},Re={},ze=0;ze<xe.length;ze++){var Ie=xe[ze].prop,He=xe[ze].maxp,qe=he(xe[ze].target,xe[ze].insert,He);Ie.set(qe[0]),Array.isArray(ke[Ie.astr])||(ke[Ie.astr]=[]),ke[Ie.astr].push(qe[1]),Array.isArray(Re[Ie.astr])||(Re[Ie.astr]=[]),Re[Ie.astr].push(xe[ze].target.length)}return{update:ke,maxPoints:Re}}function B(Te,Se){var Le=new Te.constructor(Te.length+Se.length);return Le.set(Te),Le.set(Se,Te.length),Le}function Z(Te,Se,Le,Oe){Te=w.getGraphDiv(Te),y.clearPromiseQueue(Te);var he={};if(typeof Se=="string")he[Se]=Le;else{if(!w.isPlainObject(Se))return w.warn("Restyle fail.",Se,Le,Oe),Promise.reject();he=w.extendFlat({},Se),Oe===void 0&&(Oe=Le)}Object.keys(he).length&&(Te.changed=!0);var xe=y.coerceTraceIndices(Te,Oe),ke=te(Te,he,xe),Re=ke.flags;Re.calc&&(Te.calcdata=void 0),Re.clearAxisTypes&&y.clearAxisTypes(Te,xe,{});var ze=[];Re.fullReplot?ze.push(P._doPlot):(ze.push(n.previousPromises),n.supplyDefaults(Te),Re.markerSize&&(n.doCalcdata(Te),X(ze)),Re.style&&ze.push(m.doTraceStyle),Re.colorbars&&ze.push(m.doColorBars),ze.push(T)),ze.push(n.rehover,n.redrag,n.reselect),o.add(Te,Z,[Te,ke.undoit,ke.traces],Z,[Te,ke.redoit,ke.traces]);var Ie=w.syncOrAsync(ze,Te);return Ie&&Ie.then||(Ie=Promise.resolve()),Ie.then(function(){return Te.emit("plotly_restyle",ke.eventData),Te})}function F(Te){return Te===void 0?null:Te}function j(Te,Se){return Se?function(Le,Oe,he){var xe=b(Le,Oe),ke=xe.set;return xe.set=function(Re){V((he||"")+Oe,xe.get(),Re,Te),ke(Re)},xe}:b}function V(Te,Se,Le,Oe){if(Array.isArray(Se)||Array.isArray(Le))for(var he=Array.isArray(Se)?Se:[],xe=Array.isArray(Le)?Le:[],ke=Math.max(he.length,xe.length),Re=0;Re<ke;Re++)V(Te+"["+Re+"]",he[Re],xe[Re],Oe);else if(w.isPlainObject(Se)||w.isPlainObject(Le)){var ze=w.isPlainObject(Se)?Se:{},Ie=w.isPlainObject(Le)?Le:{},He=w.extendFlat({},ze,Ie);for(var qe in He)V(Te+"."+qe,ze[qe],Ie[qe],Oe)}else Oe[Te]===void 0&&(Oe[Te]=F(Se))}function te(Te,Se,Le){var Oe,he=Te._fullLayout,xe=Te._fullData,ke=Te.data,Re=he._guiEditing,ze=j(he._preGUI,Re),Ie=w.extendDeepAll({},Se);Q(Se);var He,qe=_.traceFlags(),Je={},st={};function it(){return Le.map(function(){})}function vt(qt){var Wt=r.id2name(qt);He.indexOf(Wt)===-1&&He.push(Wt)}function _t(qt){return"LAYOUT"+qt+".autorange"}function xt(qt){return"LAYOUT"+qt+".range"}function et(qt){for(var Wt=qt;Wt<xe.length;Wt++)if(xe[Wt]._input===ke[qt])return xe[Wt]}function nt(qt,Wt,nn){if(Array.isArray(qt))qt.forEach(function(dn){nt(dn,Wt,nn)});else if(!(qt in Se)&&!y.hasParent(Se,qt)){var En;if(qt.substr(0,6)==="LAYOUT")En=ze(Te.layout,qt.replace("LAYOUT",""));else{var Mn=Le[nn];En=j(he._tracePreGUI[et(Mn)._fullInput.uid],Re)(ke[Mn],qt)}qt in st||(st[qt]=it()),st[qt][nn]===void 0&&(st[qt][nn]=F(En.get())),Wt!==void 0&&En.set(Wt)}}function Mt(qt){return function(Wt){return xe[Wt][qt]}}function zt(qt){return function(Wt,nn){return Wt===!1?xe[Le[nn]][qt]:null}}for(var Ft in Se){if(y.hasParent(Se,Ft))throw new Error("cannot set "+Ft+" and a parent attribute simultaneously");var Rt,We,Ze,Ne,Ye,lt,at=Se[Ft];if(Ft!=="autobinx"&&Ft!=="autobiny"||(Ft=Ft.charAt(Ft.length-1)+"bins",at=Array.isArray(at)?at.map(zt(Ft)):at===!1?Le.map(Mt(Ft)):null),Je[Ft]=at,Ft.substr(0,6)!=="LAYOUT"){for(st[Ft]=it(),Oe=0;Oe<Le.length;Oe++)if(Rt=ke[Le[Oe]],We=et(Le[Oe]),Ne=(Ze=j(he._tracePreGUI[We._fullInput.uid],Re)(Rt,Ft)).get(),(Ye=Array.isArray(at)?at[Oe%at.length]:at)!==void 0){var Fe=Ze.parts[Ze.parts.length-1],Be=Ft.substr(0,Ft.length-Fe.length-1),ot=Be?Be+".":"",Xe=Be?b(We,Be).get():We;if((lt=i.getTraceValObject(We,Ze.parts))&&lt.impliedEdits&&Ye!==null)for(var pt in lt.impliedEdits)nt(w.relativeAttr(Ft,pt),lt.impliedEdits[pt],Oe);else if(Fe!=="thicknessmode"&&Fe!=="lenmode"||Ne===Ye||Ye!=="fraction"&&Ye!=="pixels"||!Xe){if(Ft==="type"&&(Ye==="pie"!=(Ne==="pie")||Ye==="funnelarea"!=(Ne==="funnelarea"))){var mt="x",yt="y";Ye!=="bar"&&Ne!=="bar"||Rt.orientation!=="h"||(mt="y",yt="x"),w.swapAttrs(Rt,["?","?src"],"labels",mt),w.swapAttrs(Rt,["d?","?0"],"label",mt),w.swapAttrs(Rt,["?","?src"],"values",yt),Ne==="pie"||Ne==="funnelarea"?(b(Rt,"marker.color").set(b(Rt,"marker.colors").get()),he._pielayer.selectAll("g.trace").remove()):t.traceIs(Rt,"cartesian")&&b(Rt,"marker.colors").set(b(Rt,"marker.color").get())}}else{var ht=he._size,Lt=Xe.orient,Tt=Lt==="top"||Lt==="bottom";if(Fe==="thicknessmode"){var bt=Tt?ht.h:ht.w;nt(ot+"thickness",Xe.thickness*(Ye==="fraction"?1/bt:bt),Oe)}else{var Pt=Tt?ht.w:ht.h;nt(ot+"len",Xe.len*(Ye==="fraction"?1/Pt:Pt),Oe)}}if(st[Ft][Oe]=F(Ne),["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Ft)!==-1){if(Ft==="orientation"){Ze.set(Ye);var Ot=Rt.x&&!Rt.y?"h":"v";if((Ze.get()||Ot)===We.orientation)continue}else Ft==="orientationaxes"&&(Rt.orientation={v:"h",h:"v"}[We.orientation]);y.swapXYData(Rt),qe.calc=qe.clearAxisTypes=!0}else n.dataArrayContainers.indexOf(Ze.parts[0])!==-1?(y.manageArrayContainers(Ze,Ye,st),qe.calc=!0):(lt?lt.arrayOk&&!t.traceIs(We,"regl")&&(w.isArrayOrTypedArray(Ye)||w.isArrayOrTypedArray(Ne))?qe.calc=!0:_.update(qe,lt):qe.calc=!0,Ze.set(Ye))}if(["swapxyaxes","orientationaxes"].indexOf(Ft)!==-1&&r.swap(Te,Le),Ft==="orientationaxes"){var Bt=b(Te.layout,"hovermode"),Kt=Bt.get();Kt==="x"?Bt.set("y"):Kt==="y"?Bt.set("x"):Kt==="x unified"?Bt.set("y unified"):Kt==="y unified"&&Bt.set("x unified")}if(["orientation","type"].indexOf(Ft)!==-1){for(He=[],Oe=0;Oe<Le.length;Oe++){var on=ke[Le[Oe]];t.traceIs(on,"cartesian")&&(vt(on.xaxis||"x"),vt(on.yaxis||"y"))}nt(He.map(_t),!0,0),nt(He.map(xt),[0,1],0)}}else Ze=ze(Te.layout,Ft.replace("LAYOUT","")),st[Ft]=[F(Ze.get())],Ze.set(Array.isArray(at)?at[0]:at),qe.calc=!0}return(qe.calc||qe.plot)&&(qe.fullReplot=!0),{flags:qe,undoit:st,redoit:Je,traces:Le,eventData:w.extendDeepNoArrays([],[Ie,Le])}}function Q(Te){var Se,Le,Oe,he=w.counterRegex("axis",".title",!1,!1),xe=/colorbar\.title$/,ke=Object.keys(Te);for(Se=0;Se<ke.length;Se++)Le=ke[Se],Oe=Te[Le],Le!=="title"&&!he.test(Le)&&!xe.test(Le)||typeof Oe!="string"&&typeof Oe!="number"?Le.indexOf("titlefont")>-1&&Le.indexOf("grouptitlefont")===-1?Re(Le,Le.replace("titlefont","title.font")):Le.indexOf("titleposition")>-1?Re(Le,Le.replace("titleposition","title.position")):Le.indexOf("titleside")>-1?Re(Le,Le.replace("titleside","title.side")):Le.indexOf("titleoffset")>-1&&Re(Le,Le.replace("titleoffset","title.offset")):Re(Le,Le.replace("title","title.text"));function Re(ze,Ie){Te[Ie]=Te[ze],delete Te[ze]}}function $(Te,Se,Le){Te=w.getGraphDiv(Te),y.clearPromiseQueue(Te);var Oe={};if(typeof Se=="string")Oe[Se]=Le;else{if(!w.isPlainObject(Se))return w.warn("Relayout fail.",Se,Le),Promise.reject();Oe=w.extendFlat({},Se)}Object.keys(Oe).length&&(Te.changed=!0);var he=ae(Te,Oe),xe=he.flags;xe.calc&&(Te.calcdata=void 0);var ke=[n.previousPromises];xe.layoutReplot?ke.push(m.layoutReplot):Object.keys(Oe).length&&(G(Te,xe,he)||n.supplyDefaults(Te),xe.legend&&ke.push(m.doLegend),xe.layoutstyle&&ke.push(m.layoutStyles),xe.axrange&&X(ke,he.rangesAltered),xe.ticks&&ke.push(m.doTicksRelayout),xe.modebar&&ke.push(m.doModeBar),xe.camera&&ke.push(m.doCamera),xe.colorbars&&ke.push(m.doColorBars),ke.push(T)),ke.push(n.rehover,n.redrag,n.reselect),o.add(Te,$,[Te,he.undoit],$,[Te,he.redoit]);var Re=w.syncOrAsync(ke,Te);return Re&&Re.then||(Re=Promise.resolve(Te)),Re.then(function(){return Te.emit("plotly_relayout",he.eventData),Te})}function G(Te,Se,Le){var Oe,he,xe=Te._fullLayout;if(!Se.axrange)return!1;for(var ke in Se)if(ke!=="axrange"&&Se[ke])return!1;var Re=function(st,it){return w.coerce(Oe,he,l,st,it)},ze={};for(var Ie in Le.rangesAltered){var He=r.id2name(Ie);if(Oe=Te.layout[He],he=xe[He],s(Oe,he,Re,ze),he._matchGroup){for(var qe in he._matchGroup)if(qe!==Ie){var Je=xe[r.id2name(qe)];Je.autorange=he.autorange,Je.range=he.range.slice(),Je._input.range=he.range.slice()}}}return!0}function X(Te,Se){var Le=Se?function(Oe){var he=[];for(var xe in Se){var ke=r.getFromId(Oe,xe);if(he.push(xe),(ke.ticklabelposition||"").indexOf("inside")!==-1&&ke._anchorAxis&&he.push(ke._anchorAxis._id),ke._matchGroup)for(var Re in ke._matchGroup)Se[Re]||he.push(Re)}return r.draw(Oe,he,{skipTitle:!0})}:function(Oe){return r.draw(Oe,"redraw")};Te.push(g,m.doAutoRangeAndConstraints,Le,m.drawData,m.finalDraw)}var J=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,ne=/^[xyz]axis[0-9]*\.autorange$/,ie=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function ae(Te,Se){var Le,Oe,he,xe=Te.layout,ke=Te._fullLayout,Re=ke._guiEditing,ze=j(ke._preGUI,Re),Ie=Object.keys(Se),He=r.list(Te),qe=w.extendDeepAll({},Se),Je={};for(Q(Se),Ie=Object.keys(Se),Oe=0;Oe<Ie.length;Oe++)if(Ie[Oe].indexOf("allaxes")===0){for(he=0;he<He.length;he++){var st=He[he]._id.substr(1),it=st.indexOf("scene")!==-1?st+".":"",vt=Ie[Oe].replace("allaxes",it+He[he]._name);Se[vt]||(Se[vt]=Se[Ie[Oe]])}delete Se[Ie[Oe]]}var _t=_.layoutFlags(),xt={},et={};function nt(dn,Jt){if(Array.isArray(dn))dn.forEach(function(rn){nt(rn,Jt)});else if(!(dn in Se)&&!y.hasParent(Se,dn)){var un=ze(xe,dn);dn in et||(et[dn]=F(un.get())),Jt!==void 0&&un.set(Jt)}}var Mt,zt={};function Ft(dn){var Jt=r.name2id(dn.split(".")[0]);return zt[Jt]=1,Jt}for(var Rt in Se){if(y.hasParent(Se,Rt))throw new Error("cannot set "+Rt+" and a parent attribute simultaneously");for(var We=ze(xe,Rt),Ze=Se[Rt],Ne=We.parts.length-1;Ne>0&&typeof We.parts[Ne]!="string";)Ne--;var Ye=We.parts[Ne],lt=We.parts[Ne-1]+"."+Ye,at=We.parts.slice(0,Ne).join("."),Fe=b(Te.layout,at).get(),Be=b(ke,at).get(),ot=We.get();if(Ze!==void 0){xt[Rt]=Ze,et[Rt]=Ye==="reverse"?Ze:F(ot);var Xe=i.getLayoutValObject(ke,We.parts);if(Xe&&Xe.impliedEdits&&Ze!==null)for(var pt in Xe.impliedEdits)nt(w.relativeAttr(Rt,pt),Xe.impliedEdits[pt]);if(["width","height"].indexOf(Rt)!==-1)if(Ze){nt("autosize",null);var mt=Rt==="height"?"width":"height";nt(mt,ke[mt])}else ke[Rt]=Te._initialAutoSize[Rt];else if(Rt==="autosize")nt("width",Ze?null:ke.width),nt("height",Ze?null:ke.height);else if(lt.match(J))Ft(lt),b(ke,at+"._inputRange").set(null);else if(lt.match(ne)){Ft(lt),b(ke,at+"._inputRange").set(null);var yt=b(ke,at).get();yt._inputDomain&&(yt._input.domain=yt._inputDomain.slice())}else lt.match(ie)&&b(ke,at+"._inputDomain").set(null);if(Ye==="type"){Mt=Fe;var ht=Be.type==="linear"&&Ze==="log",Lt=Be.type==="log"&&Ze==="linear";if(ht||Lt){if(Mt&&Mt.range)if(Be.autorange)ht&&(Mt.range=Mt.range[1]>Mt.range[0]?[1,2]:[2,1]);else{var Tt=Mt.range[0],bt=Mt.range[1];ht?(Tt<=0&&bt<=0&&nt(at+".autorange",!0),Tt<=0?Tt=bt/1e6:bt<=0&&(bt=Tt/1e6),nt(at+".range[0]",Math.log(Tt)/Math.LN10),nt(at+".range[1]",Math.log(bt)/Math.LN10)):(nt(at+".range[0]",Math.pow(10,Tt)),nt(at+".range[1]",Math.pow(10,bt)))}else nt(at+".autorange",!0);Array.isArray(ke._subplots.polar)&&ke._subplots.polar.length&&ke[We.parts[0]]&&We.parts[1]==="radialaxis"&&delete ke[We.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(Te,Be,Ze,nt),t.getComponentMethod("images","convertCoords")(Te,Be,Ze,nt)}else nt(at+".autorange",!0),nt(at+".range",null);b(ke,at+"._inputRange").set(null)}else if(Ye.match(f)){var Pt=b(ke,Rt).get(),Ot=(Ze||{}).type;Ot&&Ot!=="-"||(Ot="linear"),t.getComponentMethod("annotations","convertCoords")(Te,Pt,Ot,nt),t.getComponentMethod("images","convertCoords")(Te,Pt,Ot,nt)}var Bt=v.containerArrayMatch(Rt);if(Bt){Le=Bt.array,Oe=Bt.index;var Kt=Bt.property,on=Xe||{editType:"calc"};Oe!==""&&Kt===""&&(v.isAddVal(Ze)?et[Rt]=null:v.isRemoveVal(Ze)?et[Rt]=(b(xe,Le).get()||[])[Oe]:w.warn("unrecognized full object value",Se)),_.update(_t,on),Je[Le]||(Je[Le]={});var qt=Je[Le][Oe];qt||(qt=Je[Le][Oe]={}),qt[Kt]=Ze,delete Se[Rt]}else Ye==="reverse"?(Fe.range?Fe.range.reverse():(nt(at+".autorange",!0),Fe.range=[1,0]),Be.autorange?_t.calc=!0:_t.plot=!0):(Rt==="dragmode"&&(Ze===!1&&ot!==!1||Ze!==!1&&ot===!1)||ke._has("scatter-like")&&ke._has("regl")&&Rt==="dragmode"&&(Ze==="lasso"||Ze==="select")&&ot!=="lasso"&&ot!=="select"||ke._has("gl2d")?_t.plot=!0:Xe?_.update(_t,Xe):_t.calc=!0,We.set(Ze))}}for(Le in Je)v.applyContainerArrayChanges(Te,ze(xe,Le),Je[Le],_t,ze)||(_t.plot=!0);for(var Wt in zt){var nn=(Mt=r.getFromId(Te,Wt))&&Mt._constraintGroup;if(nn)for(var En in _t.calc=!0,nn)zt[En]||(r.getFromId(Te,En)._constraintShrinkable=!0)}(le(Te)||Se.height||Se.width)&&(_t.plot=!0);var Mn=ke.shapes;for(Oe=0;Oe<Mn.length;Oe++)if(Mn[Oe].showlegend){_t.calc=!0;break}return(_t.plot||_t.calc)&&(_t.layoutReplot=!0),{flags:_t,rangesAltered:zt,undoit:et,redoit:xt,eventData:qe}}function le(Te){var Se=Te._fullLayout,Le=Se.width,Oe=Se.height;return Te.layout.autosize&&n.plotAutoSize(Te,Te.layout,Se),Se.width!==Le||Se.height!==Oe}function ce(Te,Se,Le,Oe){Te=w.getGraphDiv(Te),y.clearPromiseQueue(Te),w.isPlainObject(Se)||(Se={}),w.isPlainObject(Le)||(Le={}),Object.keys(Se).length&&(Te.changed=!0),Object.keys(Le).length&&(Te.changed=!0);var he=y.coerceTraceIndices(Te,Oe),xe=te(Te,w.extendFlat({},Se),he),ke=xe.flags,Re=ae(Te,w.extendFlat({},Le)),ze=Re.flags;(ke.calc||ze.calc)&&(Te.calcdata=void 0),ke.clearAxisTypes&&y.clearAxisTypes(Te,he,Le);var Ie=[];ze.layoutReplot?Ie.push(m.layoutReplot):ke.fullReplot?Ie.push(P._doPlot):(Ie.push(n.previousPromises),G(Te,ze,Re)||n.supplyDefaults(Te),ke.style&&Ie.push(m.doTraceStyle),(ke.colorbars||ze.colorbars)&&Ie.push(m.doColorBars),ze.legend&&Ie.push(m.doLegend),ze.layoutstyle&&Ie.push(m.layoutStyles),ze.axrange&&X(Ie,Re.rangesAltered),ze.ticks&&Ie.push(m.doTicksRelayout),ze.modebar&&Ie.push(m.doModeBar),ze.camera&&Ie.push(m.doCamera),Ie.push(T)),Ie.push(n.rehover,n.redrag,n.reselect),o.add(Te,ce,[Te,xe.undoit,Re.undoit,xe.traces],ce,[Te,xe.redoit,Re.redoit,xe.traces]);var He=w.syncOrAsync(Ie,Te);return He&&He.then||(He=Promise.resolve(Te)),He.then(function(){return Te.emit("plotly_update",{data:xe.eventData,layout:Re.eventData}),Te})}function pe(Te){return function(Se){Se._fullLayout._guiEditing=!0;var Le=Te.apply(null,arguments);return Se._fullLayout._guiEditing=!1,Le}}var ge=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],me=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function ve(Te,Se){for(var Le=0;Le<Se.length;Le++){var Oe=Se[Le],he=Te.match(Oe.pattern);if(he){var xe=he[1]||"";return{head:xe,tail:Te.substr(xe.length+1),attr:Oe.attr}}}}function Me(Te,Se){var Le=b(Se,Te).get();if(Le!==void 0)return Le;var Oe=Te.split(".");for(Oe.pop();Oe.length>1;)if(Oe.pop(),(Le=b(Se,Oe.join(".")+".uirevision").get())!==void 0)return Le;return Se.uirevision}function _e(Te,Se){for(var Le=0;Le<Se.length;Le++)if(Se[Le]._fullInput.uid===Te)return Le;return-1}function we(Te,Se,Le){for(var Oe=0;Oe<Se.length;Oe++)if(Se[Oe].uid===Te)return Oe;return!Se[Le]||Se[Le].uid?-1:Le}function oe(Te,Se){var Le=w.isPlainObject(Te),Oe=Array.isArray(Te);return Le||Oe?(Le&&w.isPlainObject(Se)||Oe&&Array.isArray(Se))&&JSON.stringify(Te)===JSON.stringify(Se):Te===Se}function se(Te,Se,Le,Oe){var he,xe,ke,Re=Oe.getValObject,ze=Oe.flags,Ie=Oe.immutable,He=Oe.inArray,qe=Oe.arrayIndex;function Je(){var Fe=he.editType;He&&Fe.indexOf("arraydraw")!==-1?w.pushUnique(ze.arrays[He],qe):(_.update(ze,he),Fe!=="none"&&ze.nChanges++,Oe.transition&&he.anim&&ze.nChangesAnim++,(J.test(ke)||ne.test(ke))&&(ze.rangesAltered[Le[0]]=1),ie.test(ke)&&b(Se,"_inputDomain").set(null),xe==="datarevision"&&(ze.newDataRevision=1))}function st(Fe){return Fe.valType==="data_array"||Fe.arrayOk}for(xe in Te){if(ze.calc&&!Oe.transition)return;var it=Te[xe],vt=Se[xe],_t=Le.concat(xe);if(ke=_t.join("."),xe.charAt(0)!=="_"&&typeof it!="function"&&it!==vt){if((xe==="tick0"||xe==="dtick")&&Le[0]!=="geo"){var xt=Se.tickmode;if(xt==="auto"||xt==="array"||!xt)continue}if((xe!=="range"||!Se.autorange)&&(xe!=="zmin"&&xe!=="zmax"||Se.type!=="contourcarpet")&&(he=Re(_t))&&(!he._compareAsJSON||JSON.stringify(it)!==JSON.stringify(vt))){var et,nt=he.valType,Mt=st(he),zt=Array.isArray(it),Ft=Array.isArray(vt);if(zt&&Ft){var Rt="_input_"+xe,We=Te[Rt],Ze=Se[Rt];if(Array.isArray(We)&&We===Ze)continue}if(vt===void 0)Mt&&zt?ze.calc=!0:Je();else if(he._isLinkedToArray){var Ne=[],Ye=!1;He||(ze.arrays[xe]=Ne);var lt=Math.min(it.length,vt.length),at=Math.max(it.length,vt.length);if(lt!==at){if(he.editType!=="arraydraw"){Je();continue}Ye=!0}for(et=0;et<lt;et++)se(it[et],vt[et],_t.concat(et),w.extendFlat({inArray:xe,arrayIndex:et},Oe));if(Ye)for(et=lt;et<at;et++)Ne.push(et)}else!nt&&w.isPlainObject(it)?se(it,vt,_t,Oe):Mt?zt&&Ft?(Ie&&(ze.calc=!0),(Ie||Oe.newDataRevision)&&Je()):zt!==Ft?ze.calc=!0:Je():zt&&Ft&&it.length===vt.length&&String(it)===String(vt)||Je()}}}for(xe in Se)if(!(xe in Te)&&xe.charAt(0)!=="_"&&typeof Se[xe]!="function"){if(st(he=Re(Le.concat(xe)))&&Array.isArray(Se[xe]))return void(ze.calc=!0);Je()}}function de(Te,Se){var Le;for(Le in Te)if(Le.charAt(0)!=="_"){var Oe=Te[Le],he=Se[Le];if(Oe!==he)if(w.isPlainObject(Oe)&&w.isPlainObject(he)){if(de(Oe,he))return!0}else{if(!Array.isArray(Oe)||!Array.isArray(he)||Oe.length!==he.length)return!0;for(var xe=0;xe<Oe.length;xe++)if(Oe[xe]!==he[xe]&&(!w.isPlainObject(Oe[xe])||!w.isPlainObject(he[xe])||de(Oe[xe],he[xe])))return!0}}}function Ee(Te){var Se=Te._fullLayout,Le=Te.getBoundingClientRect();if(!w.equalDomRects(Le,Se._lastBBox)){var Oe=Se._invTransform=w.inverseTransformMatrix(w.getFullTransformMatrix(Te));Se._invScaleX=Math.sqrt(Oe[0][0]*Oe[0][0]+Oe[0][1]*Oe[0][1]+Oe[0][2]*Oe[0][2]),Se._invScaleY=Math.sqrt(Oe[1][0]*Oe[1][0]+Oe[1][1]*Oe[1][1]+Oe[1][2]*Oe[1][2]),Se._lastBBox=Le}}P.animate=function(Te,Se,Le){if(Te=w.getGraphDiv(Te),!w.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Oe=Te._transitionData;Oe._frameQueue||(Oe._frameQueue=[]);var he=(Le=n.supplyAnimationDefaults(Le)).transition,xe=Le.frame;function ke(Ie){return Array.isArray(he)?Ie>=he.length?he[0]:he[Ie]:he}function Re(Ie){return Array.isArray(xe)?Ie>=xe.length?xe[0]:xe[Ie]:xe}function ze(Ie,He){var qe=0;return function(){if(Ie&&++qe===He)return Ie()}}return Oe._frameWaitingCnt===void 0&&(Oe._frameWaitingCnt=0),new Promise(function(Ie,He){function qe(){Te.emit("plotly_animating"),Oe._lastFrameAt=-1/0,Oe._timeToNext=0,Oe._runningTransitions=0,Oe._currentFrame=null;var Rt=function(){Oe._animationRaf=window.requestAnimationFrame(Rt),Date.now()-Oe._lastFrameAt>Oe._timeToNext&&function(){Oe._currentFrame&&Oe._currentFrame.onComplete&&Oe._currentFrame.onComplete();var We=Oe._currentFrame=Oe._frameQueue.shift();if(We){var Ze=We.name?We.name.toString():null;Te._fullLayout._currentFrame=Ze,Oe._lastFrameAt=Date.now(),Oe._timeToNext=We.frameOpts.duration,n.transition(Te,We.frame.data,We.frame.layout,y.coerceTraceIndices(Te,We.frame.traces),We.frameOpts,We.transitionOpts).then(function(){We.onComplete&&We.onComplete()}),Te.emit("plotly_animatingframe",{name:Ze,frame:We.frame,animation:{frame:We.frameOpts,transition:We.transitionOpts}})}else Te.emit("plotly_animated"),window.cancelAnimationFrame(Oe._animationRaf),Oe._animationRaf=null}()};Rt()}var Je,st,it=0;function vt(Rt){return Array.isArray(he)?it>=he.length?Rt.transitionOpts=he[it]:Rt.transitionOpts=he[0]:Rt.transitionOpts=he,it++,Rt}var _t=[],xt=Se==null,et=Array.isArray(Se);if(xt||et||!w.isPlainObject(Se)){if(xt||["string","number"].indexOf(typeof Se)!==-1)for(Je=0;Je<Oe._frames.length;Je++)(st=Oe._frames[Je])&&(xt||String(st.group)===String(Se))&&_t.push({type:"byname",name:String(st.name),data:vt({name:st.name})});else if(et)for(Je=0;Je<Se.length;Je++){var nt=Se[Je];["number","string"].indexOf(typeof nt)!==-1?(nt=String(nt),_t.push({type:"byname",name:nt,data:vt({name:nt})})):w.isPlainObject(nt)&&_t.push({type:"object",data:vt(w.extendFlat({},nt))})}}else _t.push({type:"object",data:vt(w.extendFlat({},Se))});for(Je=0;Je<_t.length;Je++)if((st=_t[Je]).type==="byname"&&!Oe._frameHash[st.data.name])return w.warn('animate failure: frame not found: "'+st.data.name+'"'),void He();["next","immediate"].indexOf(Le.mode)!==-1&&function(){if(Oe._frameQueue.length!==0){for(;Oe._frameQueue.length;){var Rt=Oe._frameQueue.pop();Rt.onInterrupt&&Rt.onInterrupt()}Te.emit("plotly_animationinterrupted",[])}}(),Le.direction==="reverse"&&_t.reverse();var Mt=Te._fullLayout._currentFrame;if(Mt&&Le.fromcurrent){var zt=-1;for(Je=0;Je<_t.length;Je++)if((st=_t[Je]).type==="byname"&&st.name===Mt){zt=Je;break}if(zt>0&&zt<_t.length-1){var Ft=[];for(Je=0;Je<_t.length;Je++)st=_t[Je],(_t[Je].type!=="byname"||Je>zt)&&Ft.push(st);_t=Ft}}_t.length>0?function(Rt){if(Rt.length!==0){for(var We=0;We<Rt.length;We++){var Ze;Ze=Rt[We].type==="byname"?n.computeFrame(Te,Rt[We].name):Rt[We].data;var Ne=Re(We),Ye=ke(We);Ye.duration=Math.min(Ye.duration,Ne.duration);var lt={frame:Ze,name:Rt[We].name,frameOpts:Ne,transitionOpts:Ye};We===Rt.length-1&&(lt.onComplete=ze(Ie,2),lt.onInterrupt=He),Oe._frameQueue.push(lt)}Le.mode==="immediate"&&(Oe._lastFrameAt=-1/0),Oe._animationRaf||qe()}}(_t):(Te.emit("plotly_animated"),Ie())})},P.addFrames=function(Te,Se,Le){if(Te=w.getGraphDiv(Te),Se==null)return Promise.resolve();if(!w.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Oe,he,xe,ke,Re=Te._transitionData._frames,ze=Te._transitionData._frameHash;if(!Array.isArray(Se))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Se);var Ie=Re.length+2*Se.length,He=[],qe={};for(Oe=Se.length-1;Oe>=0;Oe--)if(w.isPlainObject(Se[Oe])){var Je=Se[Oe].name,st=(ze[Je]||qe[Je]||{}).name,it=Se[Oe].name,vt=ze[st]||qe[st];st&&it&&typeof it=="number"&&vt&&S<5&&(S++,w.warn('addFrames: overwriting frame "'+(ze[st]||qe[st]).name+'" with a frame whose name of type "number" also equates to "'+st+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),S===5&&w.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),qe[Je]={name:Je},He.push({frame:n.supplyFrameDefaults(Se[Oe]),index:Le&&Le[Oe]!==void 0&&Le[Oe]!==null?Le[Oe]:Ie+Oe})}He.sort(function(Rt,We){return Rt.index>We.index?-1:Rt.index<We.index?1:0});var _t=[],xt=[],et=Re.length;for(Oe=He.length-1;Oe>=0;Oe--){if(typeof(he=He[Oe].frame).name=="number"&&w.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!he.name)for(;ze[he.name="frame "+Te._transitionData._counter++];);if(ze[he.name]){for(xe=0;xe<Re.length&&(Re[xe]||{}).name!==he.name;xe++);_t.push({type:"replace",index:xe,value:he}),xt.unshift({type:"replace",index:xe,value:Re[xe]})}else ke=Math.max(0,Math.min(He[Oe].index,et)),_t.push({type:"insert",index:ke,value:he}),xt.unshift({type:"delete",index:ke}),et++}var nt=n.modifyFrames,Mt=n.modifyFrames,zt=[Te,xt],Ft=[Te,_t];return o&&o.add(Te,nt,zt,Mt,Ft),n.modifyFrames(Te,_t)},P.deleteFrames=function(Te,Se){if(Te=w.getGraphDiv(Te),!w.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te);var Le,Oe,he=Te._transitionData._frames,xe=[],ke=[];if(!Se)for(Se=[],Le=0;Le<he.length;Le++)Se.push(Le);for((Se=Se.slice()).sort(),Le=Se.length-1;Le>=0;Le--)Oe=Se[Le],xe.push({type:"delete",index:Oe}),ke.unshift({type:"insert",index:Oe,value:he[Oe]});var Re=n.modifyFrames,ze=n.modifyFrames,Ie=[Te,ke],He=[Te,xe];return o&&o.add(Te,Re,Ie,ze,He),n.modifyFrames(Te,xe)},P.addTraces=function Te(Se,Le,Oe){Se=w.getGraphDiv(Se);var he,xe,ke=[],Re=P.deleteTraces,ze=Te,Ie=[Se,ke],He=[Se,Le];for(function(qe,Je,st){var it,vt;if(!Array.isArray(qe.data))throw new Error("gd.data must be an array.");if(Je===void 0)throw new Error("traces must be defined.");for(Array.isArray(Je)||(Je=[Je]),it=0;it<Je.length;it++)if(typeof(vt=Je[it])!="object"||Array.isArray(vt)||vt===null)throw new Error("all values in traces array must be non-array objects");if(st===void 0||Array.isArray(st)||(st=[st]),st!==void 0&&st.length!==Je.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(Se,Le,Oe),Array.isArray(Le)||(Le=[Le]),Le=Le.map(function(qe){return w.extendFlat({},qe)}),y.cleanData(Le),he=0;he<Le.length;he++)Se.data.push(Le[he]);for(he=0;he<Le.length;he++)ke.push(-Le.length+he);if(Oe===void 0)return xe=P.redraw(Se),o.add(Se,Re,Ie,ze,He),xe;Array.isArray(Oe)||(Oe=[Oe]);try{U(Se,ke,Oe)}catch(qe){throw Se.data.splice(Se.data.length-Le.length,Le.length),qe}return o.startSequence(Se),o.add(Se,Re,Ie,ze,He),xe=P.moveTraces(Se,ke,Oe),o.stopSequence(Se),xe},P.deleteTraces=function Te(Se,Le){Se=w.getGraphDiv(Se);var Oe,he,xe=[],ke=P.addTraces,Re=Te,ze=[Se,xe,Le],Ie=[Se,Le];if(Le===void 0)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Le)||(Le=[Le]),z(Se,Le,"indices"),(Le=I(Le,Se.data.length-1)).sort(w.sorterDes),Oe=0;Oe<Le.length;Oe+=1)he=Se.data.splice(Le[Oe],1)[0],xe.push(he);var He=P.redraw(Se);return o.add(Se,ke,ze,Re,Ie),He},P.extendTraces=function Te(Se,Le,Oe,he){var xe=D(Se=w.getGraphDiv(Se),Le,Oe,he,function(ze,Ie,He){var qe,Je;if(w.isTypedArray(ze))if(He<0){var st=new ze.constructor(0),it=B(ze,Ie);He<0?(qe=it,Je=st):(qe=st,Je=it)}else if(qe=new ze.constructor(He),Je=new ze.constructor(ze.length+Ie.length-He),He===Ie.length)qe.set(Ie),Je.set(ze);else if(He<Ie.length){var vt=Ie.length-He;qe.set(Ie.subarray(vt)),Je.set(ze),Je.set(Ie.subarray(0,vt),ze.length)}else{var _t=He-Ie.length,xt=ze.length-_t;qe.set(ze.subarray(xt)),qe.set(Ie,_t),Je.set(ze.subarray(0,xt))}else qe=ze.concat(Ie),Je=He>=0&&He<qe.length?qe.splice(0,qe.length-He):[];return[qe,Je]}),ke=P.redraw(Se),Re=[Se,xe.update,Oe,xe.maxPoints];return o.add(Se,P.prependTraces,Re,Te,arguments),ke},P.moveTraces=function Te(Se,Le,Oe){var he,xe=[],ke=[],Re=Te,ze=Te,Ie=[Se=w.getGraphDiv(Se),Oe,Le],He=[Se,Le,Oe];if(U(Se,Le,Oe),Le=Array.isArray(Le)?Le:[Le],Oe===void 0)for(Oe=[],he=0;he<Le.length;he++)Oe.push(-Le.length+he);for(Oe=Array.isArray(Oe)?Oe:[Oe],Le=I(Le,Se.data.length-1),Oe=I(Oe,Se.data.length-1),he=0;he<Se.data.length;he++)Le.indexOf(he)===-1&&xe.push(Se.data[he]);for(he=0;he<Le.length;he++)ke.push({newIndex:Oe[he],trace:Se.data[Le[he]]});for(ke.sort(function(Je,st){return Je.newIndex-st.newIndex}),he=0;he<ke.length;he+=1)xe.splice(ke[he].newIndex,0,ke[he].trace);Se.data=xe;var qe=P.redraw(Se);return o.add(Se,Re,Ie,ze,He),qe},P.prependTraces=function Te(Se,Le,Oe,he){var xe=D(Se=w.getGraphDiv(Se),Le,Oe,he,function(ze,Ie,He){var qe,Je;if(w.isTypedArray(ze))if(He<=0){var st=new ze.constructor(0),it=B(Ie,ze);He<0?(qe=it,Je=st):(qe=st,Je=it)}else if(qe=new ze.constructor(He),Je=new ze.constructor(ze.length+Ie.length-He),He===Ie.length)qe.set(Ie),Je.set(ze);else if(He<Ie.length){var vt=Ie.length-He;qe.set(Ie.subarray(0,vt)),Je.set(Ie.subarray(vt)),Je.set(ze,vt)}else{var _t=He-Ie.length;qe.set(Ie),qe.set(ze.subarray(0,_t),Ie.length),Je.set(ze.subarray(_t))}else qe=Ie.concat(ze),Je=He>=0&&He<qe.length?qe.splice(He,qe.length):[];return[qe,Je]}),ke=P.redraw(Se),Re=[Se,xe.update,Oe,xe.maxPoints];return o.add(Se,P.extendTraces,Re,Te,arguments),ke},P.newPlot=function(Te,Se,Le,Oe){return Te=w.getGraphDiv(Te),n.cleanPlot([],{},Te._fullData||[],Te._fullLayout||{}),n.purge(Te),P._doPlot(Te,Se,Le,Oe)},P._doPlot=function(Te,Se,Le,Oe){var he;if(Te=w.getGraphDiv(Te),h.init(Te),w.isPlainObject(Se)){var xe=Se;Se=xe.data,Le=xe.layout,Oe=xe.config,he=xe.frames}if(h.triggerHandler(Te,"plotly_beforeplot",[Se,Le,Oe])===!1)return Promise.reject();Se||Le||w.isPlotDiv(Te)||w.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Te),O(Te,Oe),Le||(Le={}),A.select(Te).classed("js-plotly-plot",!0),u.makeTester(),Array.isArray(Te._promises)||(Te._promises=[]);var ke=(Te.data||[]).length===0&&Array.isArray(Se);Array.isArray(Se)&&(y.cleanData(Se),ke?Te.data=Se:Te.data.push.apply(Te.data,Se),Te.empty=!1),Te.layout&&!ke||(Te.layout=y.cleanLayout(Le)),n.supplyDefaults(Te);var Re=Te._fullLayout,ze=Re._has("cartesian");Re._replotting=!0,(ke||Re._shouldCreateBgLayer)&&(function(xt){var et=A.select(xt),nt=xt._fullLayout;if(nt._calcInverseTransform=Ee,nt._calcInverseTransform(xt),nt._container=et.selectAll(".plot-container").data([0]),nt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),nt._paperdiv=nt._container.selectAll(".svg-container").data([0]),nt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),nt._glcontainer=nt._paperdiv.selectAll(".gl-container").data([{}]),nt._glcontainer.enter().append("div").classed("gl-container",!0),nt._paperdiv.selectAll(".main-svg").remove(),nt._paperdiv.select(".modebar-container").remove(),nt._paper=nt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),nt._toppaper=nt._paperdiv.append("svg").classed("main-svg",!0),nt._modebardiv=nt._paperdiv.append("div"),delete nt._modeBar,nt._hoverpaper=nt._paperdiv.append("svg").classed("main-svg",!0),!nt._uid){var Mt={};A.selectAll("defs").each(function(){this.id&&(Mt[this.id.split("-")[1]]=1)}),nt._uid=w.randstr(Mt)}nt._paperdiv.selectAll(".main-svg").attr(x.svgAttrs),nt._defs=nt._paper.append("defs").attr("id","defs-"+nt._uid),nt._clips=nt._defs.append("g").classed("clips",!0),nt._topdefs=nt._toppaper.append("defs").attr("id","topdefs-"+nt._uid),nt._topclips=nt._topdefs.append("g").classed("clips",!0),nt._bgLayer=nt._paper.append("g").classed("bglayer",!0),nt._draggers=nt._paper.append("g").classed("draglayer",!0);var zt=nt._paper.append("g").classed("layer-below",!0);nt._imageLowerLayer=zt.append("g").classed("imagelayer",!0),nt._shapeLowerLayer=zt.append("g").classed("shapelayer",!0),nt._cartesianlayer=nt._paper.append("g").classed("cartesianlayer",!0),nt._polarlayer=nt._paper.append("g").classed("polarlayer",!0),nt._smithlayer=nt._paper.append("g").classed("smithlayer",!0),nt._ternarylayer=nt._paper.append("g").classed("ternarylayer",!0),nt._geolayer=nt._paper.append("g").classed("geolayer",!0),nt._funnelarealayer=nt._paper.append("g").classed("funnelarealayer",!0),nt._pielayer=nt._paper.append("g").classed("pielayer",!0),nt._iciclelayer=nt._paper.append("g").classed("iciclelayer",!0),nt._treemaplayer=nt._paper.append("g").classed("treemaplayer",!0),nt._sunburstlayer=nt._paper.append("g").classed("sunburstlayer",!0),nt._indicatorlayer=nt._toppaper.append("g").classed("indicatorlayer",!0),nt._glimages=nt._paper.append("g").classed("glimages",!0);var Ft=nt._toppaper.append("g").classed("layer-above",!0);nt._imageUpperLayer=Ft.append("g").classed("imagelayer",!0),nt._shapeUpperLayer=Ft.append("g").classed("shapelayer",!0),nt._selectionLayer=nt._toppaper.append("g").classed("selectionlayer",!0),nt._infolayer=nt._toppaper.append("g").classed("infolayer",!0),nt._menulayer=nt._toppaper.append("g").classed("menulayer",!0),nt._zoomlayer=nt._toppaper.append("g").classed("zoomlayer",!0),nt._hoverlayer=nt._hoverpaper.append("g").classed("hoverlayer",!0),nt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),xt.emit("plotly_framework")}(Te),Re._shouldCreateBgLayer&&delete Re._shouldCreateBgLayer),u.initGradients(Te),u.initPatterns(Te),ke&&r.saveShowSpikeInitial(Te);var Ie=!Te.calcdata||Te.calcdata.length!==(Te._fullData||[]).length;Ie&&n.doCalcdata(Te);for(var He=0;He<Te.calcdata.length;He++)Te.calcdata[He][0].trace=Te._fullData[He];Te._context.responsive?Te._responsiveChartHandler||(Te._responsiveChartHandler=function(){w.isHidden(Te)||n.resize(Te)},window.addEventListener("resize",Te._responsiveChartHandler)):w.clearResponsive(Te);var qe=w.extendFlat({},Re._size),Je=0;function st(){if(n.clearAutoMarginIds(Te),m.drawMarginPushers(Te),r.allowAutoMargin(Te),Te._fullLayout.title.text&&Te._fullLayout.title.automargin&&n.allowAutoMargin(Te,"title.automargin"),Re._has("pie"))for(var xt=Te._fullData,et=0;et<xt.length;et++){var nt=xt[et];nt.type==="pie"&&nt.automargin&&n.allowAutoMargin(Te,"pie."+nt.uid+".automargin")}return n.doAutoMargin(Te),n.previousPromises(Te)}function it(){Te._transitioning||(m.doAutoRangeAndConstraints(Te),ke&&r.saveRangeInitial(Te),t.getComponentMethod("rangeslider","calcAutorange")(Te))}var vt=[n.previousPromises,function(){if(he)return P.addFrames(Te,he)},function xt(){for(var et=Re._basePlotModules,nt=0;nt<et.length;nt++)et[nt].drawFramework&&et[nt].drawFramework(Te);!Re._glcanvas&&Re._has("gl")&&(Re._glcanvas=Re._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Rt){return Rt.key}),Re._glcanvas.enter().append("canvas").attr("class",function(Rt){return"gl-canvas gl-canvas-"+Rt.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Mt=Te._context.plotGlPixelRatio;if(Re._glcanvas){Re._glcanvas.attr("width",Re.width*Mt).attr("height",Re.height*Mt).style("width",Re.width+"px").style("height",Re.height+"px");var zt=Re._glcanvas.data()[0].regl;if(zt&&(Math.floor(Re.width*Mt)!==zt._gl.drawingBufferWidth||Math.floor(Re.height*Mt)!==zt._gl.drawingBufferHeight)){var Ft="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Je)return w.log(Ft+" Clearing graph and plotting again."),n.cleanPlot([],{},Te._fullData,Re),n.supplyDefaults(Te),Re=Te._fullLayout,n.doCalcdata(Te),Je++,xt();w.error(Ft)}}return Re.modebar.orientation==="h"?Re._modebardiv.style("height",null).style("width","100%"):Re._modebardiv.style("width",null).style("height",Re.height+"px"),n.previousPromises(Te)},st,function(){if(n.didMarginChange(qe,Re._size))return w.syncOrAsync([st,m.layoutStyles],Te)}];ze&&vt.push(function(){if(Ie)return w.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),it],Te);it()}),vt.push(m.layoutStyles),ze&&vt.push(function(){return r.draw(Te,ke?"":"redraw")},function(xt){var et=xt._fullLayout._insideTickLabelsUpdaterange;if(et)return xt._fullLayout._insideTickLabelsUpdaterange=void 0,$(xt,et).then(function(){r.saveRangeInitial(xt,!0)})}),vt.push(m.drawData,m.finalDraw,c,n.addLinks,n.rehover,n.redrag,n.reselect,n.doAutoMargin,n.previousPromises);var _t=w.syncOrAsync(vt,Te);return _t&&_t.then||(_t=Promise.resolve()),_t.then(function(){return T(Te),Te})},P.purge=function(Te){var Se=(Te=w.getGraphDiv(Te))._fullLayout||{},Le=Te._fullData||[];return n.cleanPlot([],{},Le,Se),n.purge(Te),h.purge(Te),Se._container&&Se._container.remove(),delete Te._context,Te},P.react=function(Te,Se,Le,Oe){var he,xe;Te=w.getGraphDiv(Te),y.clearPromiseQueue(Te);var ke=Te._fullData,Re=Te._fullLayout;if(w.isPlotDiv(Te)&&ke&&Re){if(w.isPlainObject(Se)){var ze=Se;Se=ze.data,Le=ze.layout,Oe=ze.config,he=ze.frames}var Ie=!1;if(Oe){var He=w.extendDeep({},Te._context);Te._context=void 0,O(Te,Oe),Ie=de(He,Te._context)}Te.data=Se||[],y.cleanData(Te.data),Te.layout=Le||{},y.cleanLayout(Te.layout),function(at,Fe,Be,ot){var Xe,pt,mt,yt,ht,Lt,Tt,bt,Pt,Ot,Bt=ot._preGUI,Kt=[],on={},qt={};for(Xe in Bt){if(ht=ve(Xe,ge)){if(Pt=ht.head,Ot=ht.tail,pt=ht.attr||Pt+".uirevision",(yt=(mt=b(ot,pt).get())&&Me(pt,Fe))&&yt===mt){if((Lt=Bt[Xe])===null&&(Lt=void 0),oe(bt=(Tt=b(Fe,Xe)).get(),Lt)){bt===void 0&&Ot==="autorange"&&Kt.push(Pt),Tt.set(F(b(ot,Xe).get()));continue}if(Ot==="autorange"||Ot.substr(0,6)==="range["){var Wt=Bt[Pt+".range[0]"],nn=Bt[Pt+".range[1]"],En=Bt[Pt+".autorange"];if(En||En===null&&Wt===null&&nn===null){if(!(Pt in on)){var Mn=b(Fe,Pt).get();on[Pt]=Mn&&(Mn.autorange||Mn.autorange!==!1&&(!Mn.range||Mn.range.length!==2))}if(on[Pt]){Tt.set(F(b(ot,Xe).get()));continue}}}}}else w.warn("unrecognized GUI edit: "+Xe);delete Bt[Xe],ht&&ht.tail.substr(0,6)==="range["&&(qt[ht.head]=1)}for(var dn=0;dn<Kt.length;dn++){var Jt=Kt[dn];if(qt[Jt]){var un=b(Fe,Jt).get();un&&delete un.autorange}}var rn=ot._tracePreGUI;for(var hn in rn){var kn,Ln=rn[hn],Dn=null;for(Xe in Ln){if(!Dn){var zn=_e(hn,Be);if(zn<0){delete rn[hn];break}var On=we(hn,at,(kn=Be[zn]._fullInput).index);if(On<0){delete rn[hn];break}Dn=at[On]}if(ht=ve(Xe,me)){if(ht.attr?yt=(mt=b(ot,ht.attr).get())&&Me(ht.attr,Fe):(mt=kn.uirevision,(yt=Dn.uirevision)===void 0&&(yt=Fe.uirevision)),yt&&yt===mt&&((Lt=Ln[Xe])===null&&(Lt=void 0),oe(bt=(Tt=b(Dn,Xe)).get(),Lt))){Tt.set(F(b(kn,Xe).get()));continue}}else w.warn("unrecognized GUI edit: "+Xe+" in trace uid "+hn);delete Ln[Xe]}}}(Te.data,Te.layout,ke,Re),n.supplyDefaults(Te,{skipUpdateCalc:!0});var qe=Te._fullData,Je=Te._fullLayout,st=Je.datarevision===void 0,it=Je.transition,vt=function(at,Fe,Be,ot,Xe){var pt=_.layoutFlags();return pt.arrays={},pt.rangesAltered={},pt.nChanges=0,pt.nChangesAnim=0,se(Fe,Be,[],{getValObject:function(mt){return i.getLayoutValObject(Be,mt)},flags:pt,immutable:ot,transition:Xe,gd:at}),(pt.plot||pt.calc)&&(pt.layoutReplot=!0),Xe&&pt.nChanges&&pt.nChangesAnim&&(pt.anim=pt.nChanges===pt.nChangesAnim?"all":"some"),pt}(Te,Re,Je,st,it),_t=vt.newDataRevision,xt=function(at,Fe,Be,ot,Xe,pt){var mt=Fe.length===Be.length;if(!Xe&&!mt)return{fullReplot:!0,calc:!0};var yt,ht,Lt=_.traceFlags();Lt.arrays={},Lt.nChanges=0,Lt.nChangesAnim=0;var Tt={getValObject:function(Pt){var Ot=i.getTraceValObject(ht,Pt);return!ht._module.animatable&&Ot.anim&&(Ot.anim=!1),Ot},flags:Lt,immutable:ot,transition:Xe,newDataRevision:pt,gd:at},bt={};for(yt=0;yt<Fe.length;yt++)if(Be[yt]){if(ht=Be[yt]._fullInput,n.hasMakesDataTransform(ht)&&(ht=Be[yt]),bt[ht.uid])continue;bt[ht.uid]=1,se(Fe[yt]._fullInput,ht,[],Tt)}return(Lt.calc||Lt.plot)&&(Lt.fullReplot=!0),Xe&&Lt.nChanges&&Lt.nChangesAnim&&(Lt.anim=Lt.nChanges===Lt.nChangesAnim&&mt?"all":"some"),Lt}(Te,ke,qe,st,it,_t);if(le(Te)&&(vt.layoutReplot=!0),xt.calc||vt.calc){Te.calcdata=void 0;for(var et=Object.getOwnPropertyNames(Je),nt=0;nt<et.length;nt++){var Mt=et[nt],zt=Mt.substring(0,5);if(zt==="xaxis"||zt==="yaxis"){var Ft=Je[Mt]._emptyCategories;Ft&&Ft()}}}else n.supplyDefaultsUpdateCalc(Te.calcdata,qe);var Rt=[];if(he&&(Te._transitionData={},n.createTransitionData(Te),Rt.push(function(){return P.addFrames(Te,he)})),Je.transition&&!Ie&&(xt.anim||vt.anim))vt.ticks&&Rt.push(m.doTicksRelayout),n.doCalcdata(Te),m.doAutoRangeAndConstraints(Te),Rt.push(function(){return n.transitionFromReact(Te,xt,vt,Re)});else if(xt.fullReplot||vt.layoutReplot||Ie)Te._fullLayout._skipDefaults=!0,Rt.push(P._doPlot);else{for(var We in vt.arrays){var Ze=vt.arrays[We];if(Ze.length){var Ne=t.getComponentMethod(We,"drawOne");if(Ne!==w.noop)for(var Ye=0;Ye<Ze.length;Ye++)Ne(Te,Ze[Ye]);else{var lt=t.getComponentMethod(We,"draw");if(lt===w.noop)throw new Error("cannot draw components: "+We);lt(Te)}}}Rt.push(n.previousPromises),xt.style&&Rt.push(m.doTraceStyle),(xt.colorbars||vt.colorbars)&&Rt.push(m.doColorBars),vt.legend&&Rt.push(m.doLegend),vt.layoutstyle&&Rt.push(m.layoutStyles),vt.axrange&&X(Rt),vt.ticks&&Rt.push(m.doTicksRelayout),vt.modebar&&Rt.push(m.doModeBar),vt.camera&&Rt.push(m.doCamera),Rt.push(T)}Rt.push(n.rehover,n.redrag,n.reselect),(xe=w.syncOrAsync(Rt,Te))&&xe.then||(xe=Promise.resolve(Te))}else xe=P.newPlot(Te,Se,Le,Oe);return xe.then(function(){return Te.emit("plotly_react",{data:Se,layout:Le}),Te})},P.redraw=function(Te){if(Te=w.getGraphDiv(Te),!w.isPlotDiv(Te))throw new Error("This element is not a Plotly plot: "+Te);return y.cleanData(Te.data),y.cleanLayout(Te.layout),Te.calcdata=void 0,P._doPlot(Te).then(function(){return Te.emit("plotly_redraw"),Te})},P.relayout=$,P.restyle=Z,P.setPlotConfig=function(Te){return w.extendFlat(p,Te)},P.update=ce,P._guiRelayout=pe($),P._guiRestyle=pe(Z),P._guiUpdate=pe(ce),P._storeDirectGUIEdit=function(Te,Se,Le){for(var Oe in Le)V(Oe,b(Te,Oe).get(),Le[Oe],Se)}},20556:function(Y){var P={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};(function A(k,a){for(var w in k){var b=k[w];b.valType?a[w]=b.dflt:(a[w]||(a[w]={}),A(b,a[w]))}})(P,e),Y.exports={configAttributes:P,dfltConfig:e}},73060:function(Y,P,e){var A=e(24040),k=e(3400),a=e(45464),w=e(64859),b=e(16672),h=e(85656),o=e(20556).configAttributes,t=e(67824),i=k.extendDeepAll,n=k.isPlainObject,r=k.isArrayOrTypedArray,s=k.nestedProperty,l=k.valObjectMeta,u="_isSubplotObj",d="_isLinkedToArray",c="_deprecated",x=[u,d,"_arrayAttrRegexps",c];function g(f,S,T){if(!f)return!1;if(f._isLinkedToArray){if(p(S[T]))T++;else if(T<S.length)return!1}for(;T<S.length;T++){var E=f[S[T]];if(!n(E)||(f=E,T===S.length-1))break;if(f._isLinkedToArray){if(!p(S[++T]))return!1}else if(f.valType==="info_array"){var C=S[++T];if(!p(C))return!1;var O=f.items;if(Array.isArray(O)){if(C>=O.length)return!1;if(f.dimensions===2){if(T++,S.length===T)return f;var I=S[T];if(!p(I))return!1;f=O[C][I]}else f=O[C]}else f=O}}return f}function p(f){return f===Math.round(f)&&f>=0}function v(){var f,S,T={};for(f in i(T,w),A.subplotsRegistry)if((S=A.subplotsRegistry[f]).layoutAttributes)if(Array.isArray(S.attr))for(var E=0;E<S.attr.length;E++)m(T,S,S.attr[E]);else m(T,S,S.attr==="subplot"?S.name:S.attr);for(f in A.componentsRegistry){var C=(S=A.componentsRegistry[f]).schema;if(C&&(C.subplots||C.layout)){var O=C.subplots;if(O&&O.xaxis&&!O.yaxis)for(var I in O.xaxis)delete T.yaxis[I];delete T.xaxis.shift,delete T.xaxis.autoshift}else S.name==="colorscale"?i(T,S.layoutAttributes):S.layoutAttributes&&_(T,S.layoutAttributes,S.name)}return{layoutAttributes:y(T)}}function y(f){return function(S){P.crawl(S,function(T,E,C){P.isValObject(T)?T.arrayOk!==!0&&T.valType!=="data_array"||(C[E+"src"]={valType:"string",editType:"none"}):n(T)&&(T.role="object")})}(f),function(S){P.crawl(S,function(T,E,C){if(T){var O=T[d];O&&(delete T[d],C[E]={items:{}},C[E].items[O]=T,C[E].role="object")}})}(f),function(S){(function T(E){for(var C in E)if(n(E[C]))T(E[C]);else if(Array.isArray(E[C]))for(var O=0;O<E[C].length;O++)T(E[C][O]);else E[C]instanceof RegExp&&(E[C]=E[C].toString())})(S)}(f),f}function m(f,S,T){var E=s(f,T),C=i({},S.layoutAttributes);C[u]=!0,E.set(C)}function _(f,S,T){var E=s(f,T);E.set(i(E.get()||{},S))}P.IS_SUBPLOT_OBJ=u,P.IS_LINKED_TO_ARRAY=d,P.DEPRECATED=c,P.UNDERSCORE_ATTRS=x,P.get=function(){var f={};A.allTypes.forEach(function(E){f[E]=function(C){var O,I;I=(O=A.modules[C]._module).basePlotModule;var z={type:null},U=i({},a),D=i({},O.attributes);P.crawl(D,function(F,j,V,te,Q){s(U,Q).set(void 0),F===void 0&&s(D,Q).set(void 0)}),i(z,U),A.traceIs(C,"noOpacity")&&delete z.opacity,A.traceIs(C,"showLegend")||(delete z.showlegend,delete z.legendgroup),A.traceIs(C,"noHover")&&(delete z.hoverinfo,delete z.hoverlabel),O.selectPoints||delete z.selectedpoints,i(z,D),I.attributes&&i(z,I.attributes),z.type=C;var B={meta:O.meta||{},categories:O.categories||{},animatable:Boolean(O.animatable),type:C,attributes:y(z)};if(O.layoutAttributes){var Z={};i(Z,O.layoutAttributes),B.layoutAttributes=y(Z)}return O.animatable||P.crawl(B,function(F){P.isValObject(F)&&"anim"in F&&delete F.anim}),B}(E)});var S,T={};return Object.keys(A.transformsRegistry).forEach(function(E){T[E]=function(C){var O=A.transformsRegistry[C],I=i({},O.attributes);return Object.keys(A.componentsRegistry).forEach(function(z){var U=A.componentsRegistry[z];U.schema&&U.schema.transforms&&U.schema.transforms[C]&&Object.keys(U.schema.transforms[C]).forEach(function(D){_(I,U.schema.transforms[C][D],D)})}),{attributes:y(I)}}(E)}),{defs:{valObjects:l,metaKeys:x.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:f,layout:v(),transforms:T,frames:(S={frames:i({},b)},y(S),S.frames),animation:y(h),config:y(o)}},P.crawl=function(f,S,T,E){var C=T||0;E=E||"",Object.keys(f).forEach(function(O){var I=f[O];if(x.indexOf(O)===-1){var z=(E?E+".":"")+O;S(I,O,f,C,z),P.isValObject(I)||n(I)&&O!=="impliedEdits"&&P.crawl(I,S,C+1,z)}})},P.isValObject=function(f){return f&&f.valType!==void 0},P.findArrayAttributes=function(f){var S,T,E=[],C=[],O=[];function I(F,j,V,te){C=C.slice(0,te).concat([j]),O=O.slice(0,te).concat([F&&F._isLinkedToArray]),F&&(F.valType==="data_array"||F.arrayOk===!0)&&(C[te-1]!=="colorbar"||j!=="ticktext"&&j!=="tickvals")&&z(S,0,"")}function z(F,j,V){var te=F[C[j]],Q=V+C[j];if(j===C.length-1)r(te)&&E.push(T+Q);else if(O[j]){if(Array.isArray(te))for(var $=0;$<te.length;$++)n(te[$])&&z(te[$],j+1,Q+"["+$+"].")}else n(te)&&z(te,j+1,Q+".")}S=f,T="",P.crawl(a,I),f._module&&f._module.attributes&&P.crawl(f._module.attributes,I);var U=f.transforms;if(U)for(var D=0;D<U.length;D++){var B=U[D],Z=B._module;Z&&(T="transforms["+D+"].",S=B,P.crawl(Z.attributes,I))}return E},P.getTraceValObject=function(f,S){var T,E,C=S[0],O=1;if(C==="transforms"){if(S.length===1)return a.transforms;var I=f.transforms;if(!Array.isArray(I)||!I.length)return!1;var z=S[1];if(!p(z)||z>=I.length)return!1;E=(T=(A.transformsRegistry[I[z].type]||{}).attributes)&&T[S[2]],O=3}else{var U=f._module;if(U||(U=(A.modules[f.type||a.type.dflt]||{})._module),!U)return!1;if(!(E=(T=U.attributes)&&T[C])){var D=U.basePlotModule;D&&D.attributes&&(E=D.attributes[C])}E||(E=a[C])}return g(E,S,O)},P.getLayoutValObject=function(f,S){var T=function(E,C){var O,I,z,U,D=E._basePlotModules;if(D){var B;for(O=0;O<D.length;O++){if((z=D[O]).attrRegex&&z.attrRegex.test(C)){if(z.layoutAttrOverrides)return z.layoutAttrOverrides;!B&&z.layoutAttributes&&(B=z.layoutAttributes)}var Z=z.baseLayoutAttrOverrides;if(Z&&C in Z)return Z[C]}if(B)return B}var F=E._modules;if(F){for(O=0;O<F.length;O++)if((U=F[O].layoutAttributes)&&C in U)return U[C]}for(I in A.componentsRegistry){if((z=A.componentsRegistry[I]).name==="colorscale"&&C.indexOf("coloraxis")===0)return z.layoutAttributes[C];if(!z.schema&&C===z.name)return z.layoutAttributes}return C in w&&w[C]}(f,S[0]);return g(T,S,1)}},31780:function(Y,P,e){var A=e(3400),k=e(45464),a="templateitemname",w={name:{valType:"string",editType:"none"}};function b(o){return o&&typeof o=="string"}function h(o){var t=o.length-1;return o.charAt(t)!=="s"&&A.warn("bad argument to arrayDefaultKey: "+o),o.substr(0,o.length-1)+"defaults"}w[a]={valType:"string",editType:"calc"},P.templatedArray=function(o,t){return t._isLinkedToArray=o,t.name=w.name,t[a]=w[a],t},P.traceTemplater=function(o){var t,i,n={};for(t in o)i=o[t],Array.isArray(i)&&i.length&&(n[t]=0);return{newTrace:function(r){var s={type:t=A.coerce(r,{},k,"type"),_template:null};if(t in n){i=o[t];var l=n[t]%i.length;n[t]++,s._template=i[l]}return s}}},P.newContainer=function(o,t,i){var n=o._template,r=n&&(n[t]||i&&n[i]);return A.isPlainObject(r)||(r=null),o[t]={_template:r}},P.arrayTemplater=function(o,t,i){var n=o._template,r=n&&n[h(t)],s=n&&n[t];Array.isArray(s)&&s.length||(s=[]);var l={};return{newItem:function(u){var d={name:u.name,_input:u},c=d[a]=u[a];if(!b(c))return d._template=r,d;for(var x=0;x<s.length;x++){var g=s[x];if(g.name===c)return l[c]=1,d._template=g,d}return d[i]=u[i]||!1,d._template=!1,d},defaultItems:function(){for(var u=[],d=0;d<s.length;d++){var c=s[d],x=c.name;if(b(x)&&!l[x]){var g={_template:c,name:x,_input:{_templateitemname:x}};g[a]=c[a],u.push(g),l[x]=1}}return u}}},P.arrayDefaultKey=h,P.arrayEditor=function(o,t,i){var n=(A.nestedProperty(o,t).get()||[]).length,r=i._index,s=r>=n&&(i._input||{})._templateitemname;s&&(r=n);var l,u=t+"["+r+"]";function d(){l={},s&&(l[u]={},l[u][a]=s)}function c(g,p){s?A.nestedProperty(l[u],g).set(p):l[u+"."+g]=p}function x(){var g=l;return d(),g}return d(),{modifyBase:function(g,p){l[g]=p},modifyItem:c,getUpdateObj:x,applyUpdate:function(g,p){g&&c(g,p);var v=x();for(var y in v)A.nestedProperty(o,y).set(v[y])}}}},39172:function(Y,P,e){var A=e(33428),k=e(24040),a=e(7316),w=e(3400),b=e(72736),h=e(73696),o=e(76308),t=e(43616),i=e(81668),n=e(45460),r=e(54460),s=e(84284),l=e(71888),u=l.enforce,d=l.clean,c=e(19280).doAutoRange,x="start";function g(_,f,S){for(var T=0;T<S.length;T++){var E=S[T][0],C=S[T][1];if(!(E[0]>=_[1]||E[1]<=_[0])&&C[0]<f[1]&&C[1]>f[0])return!0}return!1}function p(_){var f,S,T,E,C,O,I=_._fullLayout,z=I._size,U=z.p,D=r.list(_,"",!0);if(I._paperdiv.style({width:_._context.responsive&&I.autosize&&!_._context._hasZeroWidth&&!_.layout.width?"100%":I.width+"px",height:_._context.responsive&&I.autosize&&!_._context._hasZeroHeight&&!_.layout.height?"100%":I.height+"px"}).selectAll(".main-svg").call(t.setSize,I.width,I.height),_._context.setBackground(_,I.paper_bgcolor),P.drawMainTitle(_),n.manage(_),!I._has("cartesian"))return a.previousPromises(_);function B(Ie,He,qe){var Je=Ie._lw/2;return Ie._id.charAt(0)==="x"?He?qe==="top"?He._offset-U-Je:He._offset+He._length+U+Je:z.t+z.h*(1-(Ie.position||0))+Je%1:He?qe==="right"?He._offset+He._length+U+Je:He._offset-U-Je:z.l+z.w*(Ie.position||0)+Je%1}for(f=0;f<D.length;f++){var Z=(E=D[f])._anchorAxis;E._linepositions={},E._lw=t.crispRound(_,E.linewidth,1),E._mainLinePosition=B(E,Z,E.side),E._mainMirrorPosition=E.mirror&&Z?B(E,Z,s.OPPOSITE_SIDE[E.side]):null}var F=[],j=[],V=[],te=o.opacity(I.paper_bgcolor)===1&&o.opacity(I.plot_bgcolor)===1&&I.paper_bgcolor===I.plot_bgcolor;for(S in I._plots)if((T=I._plots[S]).mainplot)T.bg&&T.bg.remove(),T.bg=void 0;else{var Q=T.xaxis.domain,$=T.yaxis.domain,G=T.plotgroup;if(g(Q,$,V)){var X=G.node(),J=T.bg=w.ensureSingle(G,"rect","bg");X.insertBefore(J.node(),X.childNodes[0]),j.push(S)}else G.select("rect.bg").remove(),V.push([Q,$]),te||(F.push(S),j.push(S))}var ne,ie,ae,le,ce,pe,ge,me,ve,Me,_e,we,oe,se=I._bgLayer.selectAll(".bg").data(F);for(se.enter().append("rect").classed("bg",!0),se.exit().remove(),se.each(function(Ie){I._plots[Ie].bg=A.select(this)}),f=0;f<j.length;f++)T=I._plots[j[f]],C=T.xaxis,O=T.yaxis,T.bg&&C._offset!==void 0&&O._offset!==void 0&&T.bg.call(t.setRect,C._offset-U,O._offset-U,C._length+2*U,O._length+2*U).call(o.fill,I.plot_bgcolor).style("stroke-width",0);if(!I._hasOnlyLargeSploms)for(S in I._plots){T=I._plots[S],C=T.xaxis,O=T.yaxis;var de,Ee,Te=T.clipId="clip"+I._uid+S+"plot",Se=w.ensureSingleById(I._clips,"clipPath",Te,function(Ie){Ie.classed("plotclip",!0).append("rect")});T.clipRect=Se.select("rect").attr({width:C._length,height:O._length}),t.setTranslate(T.plot,C._offset,O._offset),T._hasClipOnAxisFalse?(de=null,Ee=Te):(de=Te,Ee=null),t.setClipUrl(T.plot,de,_),T.layerClipId=Ee}function Le(Ie){return"M"+ne+","+Ie+"H"+ie}function Oe(Ie){return"M"+C._offset+","+Ie+"h"+C._length}function he(Ie){return"M"+Ie+","+me+"V"+ge}function xe(Ie){return O._shift!==void 0&&(Ie+=O._shift),"M"+Ie+","+O._offset+"v"+O._length}function ke(Ie,He,qe){if(!Ie.showline||S!==Ie._mainSubplot)return"";if(!Ie._anchorAxis)return qe(Ie._mainLinePosition);var Je=He(Ie._mainLinePosition);return Ie.mirror&&(Je+=He(Ie._mainMirrorPosition)),Je}for(S in I._plots){T=I._plots[S],C=T.xaxis,O=T.yaxis;var Re="M0,0";v(C,S)&&(ce=m(C,"left",O,D),ne=C._offset-(ce?U+ce:0),pe=m(C,"right",O,D),ie=C._offset+C._length+(pe?U+pe:0),ae=B(C,O,"bottom"),le=B(C,O,"top"),!(oe=!C._anchorAxis||S!==C._mainSubplot)||C.mirror!=="allticks"&&C.mirror!=="all"||(C._linepositions[S]=[ae,le]),Re=ke(C,Le,Oe),oe&&C.showline&&(C.mirror==="all"||C.mirror==="allticks")&&(Re+=Le(ae)+Le(le)),T.xlines.style("stroke-width",C._lw+"px").call(o.stroke,C.showline?C.linecolor:"rgba(0,0,0,0)")),T.xlines.attr("d",Re);var ze="M0,0";v(O,S)&&(_e=m(O,"bottom",C,D),ge=O._offset+O._length+(_e?U:0),we=m(O,"top",C,D),me=O._offset-(we?U:0),ve=B(O,C,"left"),Me=B(O,C,"right"),!(oe=!O._anchorAxis||S!==O._mainSubplot)||O.mirror!=="allticks"&&O.mirror!=="all"||(O._linepositions[S]=[ve,Me]),ze=ke(O,he,xe),oe&&O.showline&&(O.mirror==="all"||O.mirror==="allticks")&&(ze+=he(ve)+he(Me)),T.ylines.style("stroke-width",O._lw+"px").call(o.stroke,O.showline?O.linecolor:"rgba(0,0,0,0)")),T.ylines.attr("d",ze)}return r.makeClipPaths(_),a.previousPromises(_)}function v(_,f){return(_.ticks||_.showline)&&(f===_._mainSubplot||_.mirror==="all"||_.mirror==="allticks")}function y(_,f,S){if(!S.showline||!S._lw)return!1;if(S.mirror==="all"||S.mirror==="allticks")return!0;var T=S._anchorAxis;if(!T)return!1;var E=s.FROM_BL[f];return S.side===f?T.domain[E]===_.domain[E]:S.mirror&&T.domain[1-E]===_.domain[1-E]}function m(_,f,S,T){if(y(_,f,S))return S._lw;for(var E=0;E<T.length;E++){var C=T[E];if(C._mainAxis===S._mainAxis&&y(_,f,C))return C._lw}return 0}P.layoutStyles=function(_){return w.syncOrAsync([a.doAutoMargin,p],_)},P.drawMainTitle=function(_){var f,S=_._fullLayout.title,T=_._fullLayout,E=function(F){var j=F.title,V="middle";return w.isRightAnchor(j)?V="end":w.isLeftAnchor(j)&&(V=x),V}(T),C=function(F){var j=F.title,V="0em";return w.isTopAnchor(j)?V=s.CAP_SHIFT+"em":w.isMiddleAnchor(j)&&(V=s.MID_SHIFT+"em"),V}(T),O=function(F,j){var V=F.title,te=F._size,Q=0;return j!=="0em"&&j?j===s.CAP_SHIFT+"em"&&(Q=V.pad.t):Q=-V.pad.b,V.y==="auto"?te.t/2:V.yref==="paper"?te.t+te.h-te.h*V.y+Q:F.height-F.height*V.y+Q}(T,C),I=function(F,j){var V=F.title,te=F._size,Q=0;return j===x?Q=V.pad.l:j==="end"&&(Q=-V.pad.r),V.xref==="paper"?te.l+te.w*V.x+Q:F.width*V.x+Q}(T,E);if(i.draw(_,"gtitle",{propContainer:T,propName:"title.text",placeholder:T._dfltTitle.plot,attributes:{x:I,y:O,"text-anchor":E,dy:C}}),S.text&&S.automargin){var z=A.selectAll(".gtitle"),U=t.bBox(z.node()).height,D=function(F,j,V){var te=j.y,Q=j.yanchor,$=te>.5?"t":"b",G=F._fullLayout.margin[$],X=0;return j.yref==="paper"?X=V+j.pad.t+j.pad.b:j.yref==="container"&&(X=function(J,ne,ie,ae,le){var ce=0;return ie==="middle"&&(ce+=le/2),J==="t"?(ie==="top"&&(ce+=le),ce+=ae-ne*ae):(ie==="bottom"&&(ce+=le),ce+=ne*ae),ce}($,te,Q,F._fullLayout.height,V)+j.pad.t+j.pad.b),X>G?X:0}(_,S,U);if(D>0){(function(F,j,V,te){var Q="title.automargin",$=F._fullLayout.title,G=$.y>.5?"t":"b",X={x:$.x,y:$.y,t:0,b:0},J={};$.yref==="paper"&&function(ne,ie,ae,le,ce){var pe=ie.yref==="paper"?ne._fullLayout._size.h:ne._fullLayout.height,ge=w.isTopAnchor(ie)?le:le-ce,me=ae==="b"?pe-ge:ge;return!(w.isTopAnchor(ie)&&ae==="t"||w.isBottomAnchor(ie)&&ae==="b")&&me<ce}(F,$,G,j,te)?X[G]=V:$.yref==="container"&&(J[G]=V,F._fullLayout._reservedMargin[Q]=J),a.allowAutoMargin(F,Q),a.autoMargin(F,Q,X)})(_,O,D,U),z.attr({x:I,y:O,"text-anchor":E,dy:(f=S.yanchor,f==="top"?s.CAP_SHIFT+.3+"em":f==="bottom"?"-0.3em":s.MID_SHIFT+"em")}).call(b.positionText,I,O);var B=(S.text.match(b.BR_TAG_ALL)||[]).length;if(B){var Z=s.LINE_SPACING*B+s.MID_SHIFT;S.y===0&&(Z=-Z),z.selectAll(".line").each(function(){var F=+this.getAttribute("dy").slice(0,-2)-Z+"em";this.setAttribute("dy",F)})}}}},P.doTraceStyle=function(_){var f,S=_.calcdata,T=[];for(f=0;f<S.length;f++){var E=S[f],C=E[0]||{},O=C.trace||{},I=O._module||{},z=I.arraysToCalcdata;z&&z(E,O);var U=I.editStyle;U&&T.push({fn:U,cd0:C})}if(T.length){for(f=0;f<T.length;f++){var D=T[f];D.fn(_,D.cd0)}h(_),P.redrawReglTraces(_)}return a.style(_),k.getComponentMethod("legend","draw")(_),a.previousPromises(_)},P.doColorBars=function(_){return k.getComponentMethod("colorbar","draw")(_),a.previousPromises(_)},P.layoutReplot=function(_){var f=_.layout;return _.layout=void 0,k.call("_doPlot",_,"",f)},P.doLegend=function(_){return k.getComponentMethod("legend","draw")(_),a.previousPromises(_)},P.doTicksRelayout=function(_){return r.draw(_,"redraw"),_._fullLayout._hasOnlyLargeSploms&&(k.subplotsRegistry.splom.updateGrid(_),h(_),P.redrawReglTraces(_)),P.drawMainTitle(_),a.previousPromises(_)},P.doModeBar=function(_){var f=_._fullLayout;n.manage(_);for(var S=0;S<f._basePlotModules.length;S++){var T=f._basePlotModules[S].updateFx;T&&T(_)}return a.previousPromises(_)},P.doCamera=function(_){for(var f=_._fullLayout,S=f._subplots.gl3d,T=0;T<S.length;T++){var E=f[S[T]];E._scene.setViewport(E)}},P.drawData=function(_){var f=_._fullLayout;h(_);for(var S=f._basePlotModules,T=0;T<S.length;T++)S[T].plot(_);return P.redrawReglTraces(_),a.style(_),k.getComponentMethod("selections","draw")(_),k.getComponentMethod("shapes","draw")(_),k.getComponentMethod("annotations","draw")(_),k.getComponentMethod("images","draw")(_),f._replotting=!1,a.previousPromises(_)},P.redrawReglTraces=function(_){var f=_._fullLayout;if(f._has("regl")){var S,T,E=_._fullData,C=[],O=[];for(f._hasOnlyLargeSploms&&f._splomGrid.draw(),S=0;S<E.length;S++){var I=E[S];I.visible===!0&&I._length!==0&&(I.type==="splom"?f._splomScenes[I.uid].draw():I.type==="scattergl"?w.pushUnique(C,I.xaxis+I.yaxis):I.type==="scatterpolargl"&&w.pushUnique(O,I.subplot))}for(S=0;S<C.length;S++)(T=f._plots[C[S]])._scene&&T._scene.draw();for(S=0;S<O.length;S++)(T=f[O[S]]._subplot)._scene&&T._scene.draw()}},P.doAutoRangeAndConstraints=function(_){for(var f,S=r.list(_,"",!0),T={},E=0;E<S.length;E++)if(!T[(f=S[E])._id]){T[f._id]=1,d(_,f),c(_,f);var C=f._matchGroup;if(C)for(var O in C){var I=r.getFromId(_,O);c(_,I,f.range),T[O]=1}}u(_)},P.finalDraw=function(_){k.getComponentMethod("rangeslider","draw")(_),k.getComponentMethod("rangeselector","draw")(_)},P.drawMarginPushers=function(_){k.getComponentMethod("legend","draw")(_),k.getComponentMethod("rangeselector","draw")(_),k.getComponentMethod("sliders","draw")(_),k.getComponentMethod("updatemenus","draw")(_),k.getComponentMethod("colorbar","draw")(_)}},94828:function(Y,P,e){var A=e(3400),k=A.isPlainObject,a=e(73060),w=e(7316),b=e(45464),h=e(31780),o=e(20556).dfltConfig;function t(c,x){c=A.extendDeep({},c);var g,p,v=Object.keys(c).sort();function y(T,E,C){if(k(E)&&k(T))t(T,E);else if(Array.isArray(E)&&Array.isArray(T)){var O=h.arrayTemplater({_template:c},C);for(p=0;p<E.length;p++){var I=E[p],z=O.newItem(I)._template;z&&t(z,I)}var U=O.defaultItems();for(p=0;p<U.length;p++)E.push(U[p]._template);for(p=0;p<E.length;p++)delete E[p].templateitemname}}for(g=0;g<v.length;g++){var m=v[g],_=c[m];if(m in x?y(_,x[m],m):x[m]=_,i(m)===m)for(var f in x){var S=i(f);f===S||S!==m||f in c||y(_,x[f],m)}}}function i(c){return c.replace(/[0-9]+$/,"")}function n(c,x,g,p,v){var y=v&&g(v);for(var m in c){var _=c[m],f=l(c,m,p),S=l(c,m,v),T=g(S);if(!T){var E=i(m);E!==m&&(T=g(S=l(c,E,v)))}if(!(y&&y===T||!T||T._noTemplating||T.valType==="data_array"||T.arrayOk&&Array.isArray(_)))if(!T.valType&&k(_))n(_,x,g,f,S);else if(T._isLinkedToArray&&Array.isArray(_))for(var C=!1,O=0,I={},z=0;z<_.length;z++){var U=_[z];if(k(U)){var D=U.name;if(D)I[D]||(n(U,x,g,l(_,O,f),l(_,O,S)),O++,I[D]=1);else if(!C){var B=l(c,h.arrayDefaultKey(m),p),Z=l(_,O,f);n(U,x,g,Z,l(_,O,S));var F=A.nestedProperty(x,Z);A.nestedProperty(x,B).set(F.get()),F.set(null),C=!0}}}else A.nestedProperty(x,f).set(_)}}function r(c,x){return a.getLayoutValObject(c,A.nestedProperty({},x).parts)}function s(c,x){return a.getTraceValObject(c,A.nestedProperty({},x).parts)}function l(c,x,g){return g?Array.isArray(c)?g+"["+x+"]":g+"."+x:x}function u(c){for(var x=0;x<c.length;x++)if(k(c[x]))return!0}function d(c){var x;switch(c.code){case"data":x="The template has no key data.";break;case"layout":x="The template has no key layout.";break;case"missing":x=c.path?"There are no templates for item "+c.path+" with name "+c.templateitemname:"There are no templates for trace "+c.index+", of type "+c.traceType+".";break;case"unused":x=c.path?"The template item at "+c.path+" was not used in constructing the plot.":c.dataCount?"Some of the templates of type "+c.traceType+" were not used. The template has "+c.templateCount+" traces, the data only has "+c.dataCount+" of this type.":"The template has "+c.templateCount+" traces of type "+c.traceType+" but there are none in the data.";break;case"reused":x="Some of the templates of type "+c.traceType+" were used more than once. The template has "+c.templateCount+" traces, the data has "+c.dataCount+" of this type."}return c.msg=x,c}P.makeTemplate=function(c){c=A.isPlainObject(c)?c:A.getGraphDiv(c),c=A.extendDeep({_context:o},{data:c.data,layout:c.layout}),w.supplyDefaults(c);var x=c.data||[],g=c.layout||{};g._basePlotModules=c._fullLayout._basePlotModules,g._modules=c._fullLayout._modules;var p={data:{},layout:{}};x.forEach(function(O){var I={};n(O,I,s.bind(null,O));var z=A.coerce(O,{},b,"type"),U=p.data[z];U||(U=p.data[z]=[]),U.push(I)}),n(g,p.layout,r.bind(null,g)),delete p.layout.template;var v=g.template;if(k(v)){var y,m,_,f,S,T,E=v.layout;k(E)&&t(E,p.layout);var C=v.data;if(k(C)){for(m in p.data)if(_=C[m],Array.isArray(_)){for(T=(S=p.data[m]).length,f=_.length,y=0;y<T;y++)t(_[y%f],S[y]);for(y=T;y<f;y++)S.push(A.extendDeep({},_[y]))}for(m in C)m in p.data||(p.data[m]=A.extendDeep([],C[m]))}}return p},P.validateTemplate=function(c,x){var g=A.extendDeep({},{_context:o,data:c.data,layout:c.layout}),p=g.layout||{};k(x)||(x=p.template||{});var v=x.layout,y=x.data,m=[];g.layout=p,g.layout.template=x,w.supplyDefaults(g);var _=g._fullLayout,f=g._fullData,S={};if(k(v)?(function U(D,B){for(var Z in D)if(Z.charAt(0)!=="_"&&k(D[Z])){var F,j=i(Z),V=[];for(F=0;F<B.length;F++)V.push(l(D,Z,B[F])),j!==Z&&V.push(l(D,j,B[F]));for(F=0;F<V.length;F++)S[V[F]]=1;U(D[Z],V)}}(_,["layout"]),function U(D,B){for(var Z in D)if(Z.indexOf("defaults")===-1&&k(D[Z])){var F=l(D,Z,B);S[F]?U(D[Z],F):m.push({code:"unused",path:F})}}(v,"layout")):m.push({code:"layout"}),k(y)){for(var T,E={},C=0;C<f.length;C++){var O=f[C];E[T=O.type]=(E[T]||0)+1,O._fullInput._template||m.push({code:"missing",index:O._fullInput.index,traceType:T})}for(T in y){var I=y[T].length,z=E[T]||0;I>z?m.push({code:"unused",traceType:T,templateCount:I,dataCount:z}):z>I&&m.push({code:"reused",traceType:T,templateCount:I,dataCount:z})}}else m.push({code:"data"});if(function U(D,B){for(var Z in D)if(Z.charAt(0)!=="_"){var F=D[Z],j=l(D,Z,B);k(F)?(Array.isArray(D)&&F._template===!1&&F.templateitemname&&m.push({code:"missing",path:j,templateitemname:F.templateitemname}),U(F,j)):Array.isArray(F)&&u(F)&&U(F,j)}}({data:f,layout:_},""),m.length)return m.map(d)}},67024:function(Y,P,e){var A=e(38248),k=e(36424),a=e(7316),w=e(3400),b=e(81792),h=e(37164),o=e(63268),t=e(25788).version,i={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};Y.exports=function(n,r){var s,l,u,d;function c(z){return!(z in r)||w.validate(r[z],i[z])}if(r=r||{},w.isPlainObject(n)?(s=n.data||[],l=n.layout||{},u=n.config||{},d={}):(n=w.getGraphDiv(n),s=w.extendDeep([],n.data),l=w.extendDeep({},n.layout),u=n._context,d=n._fullLayout||{}),!c("width")&&r.width!==null||!c("height")&&r.height!==null)throw new Error("Height and width should be pixel values.");if(!c("format"))throw new Error("Export format is not "+w.join2(i.format.values,", "," or ")+".");var x={};function g(z,U){return w.coerce(r,x,i,z,U)}var p=g("format"),v=g("width"),y=g("height"),m=g("scale"),_=g("setBackground"),f=g("imageDataOnly"),S=document.createElement("div");S.style.position="absolute",S.style.left="-5000px",document.body.appendChild(S);var T=w.extendFlat({},l);v?T.width=v:r.width===null&&A(d.width)&&(T.width=d.width),y?T.height=y:r.height===null&&A(d.height)&&(T.height=d.height);var E=w.extendFlat({},u,{_exportedPlot:!0,staticPlot:!0,setBackground:_}),C=b.getRedrawFunc(S);function O(){return new Promise(function(z){setTimeout(z,b.getDelay(S._fullLayout))})}function I(){return new Promise(function(z,U){var D=h(S,p,m),B=S._fullLayout.width,Z=S._fullLayout.height;function F(){k.purge(S),document.body.removeChild(S)}if(p==="full-json"){var j=a.graphJson(S,!1,"keepdata","object",!0,!0);return j.version=t,j=JSON.stringify(j),F(),z(f?j:b.encodeJSON(j))}if(F(),p==="svg")return z(f?D:b.encodeSVG(D));var V=document.createElement("canvas");V.id=w.randstr(),o({format:p,width:B,height:Z,scale:m,canvas:V,svg:D,promise:!0}).then(z).catch(U)})}return new Promise(function(z,U){k.newPlot(S,s,T,E).then(C).then(O).then(I).then(function(D){z(function(B){return f?B.replace(b.IMAGE_URL_PREFIX,""):B}(D))}).catch(function(D){U(D)})})}},21480:function(Y,P,e){var A=e(3400),k=e(7316),a=e(73060),w=e(20556).dfltConfig,b=A.isPlainObject,h=Array.isArray,o=A.isArrayOrTypedArray;function t(c,x,g,p,v,y){y=y||[];for(var m=Object.keys(c),_=0;_<m.length;_++){var f=m[_];if(f!=="transforms"){var S=y.slice();S.push(f);var T=c[f],E=x[f],C=l(g,f),O=(C||{}).valType,I=O==="info_array",z=O==="colorscale",U=(C||{}).items;if(s(g,f))if(b(T)&&b(E)&&O!=="any")t(T,E,C,p,v,S);else if(I&&h(T)){T.length>E.length&&p.push(r("unused",v,S.concat(E.length)));var D,B,Z,F,j,V=E.length,te=Array.isArray(U);if(te&&(V=Math.min(V,U.length)),C.dimensions===2)for(B=0;B<V;B++)if(h(T[B])){T[B].length>E[B].length&&p.push(r("unused",v,S.concat(B,E[B].length)));var Q=E[B].length;for(D=0;D<(te?Math.min(Q,U[B].length):Q);D++)Z=te?U[B][D]:U,F=T[B][D],j=E[B][D],A.validate(F,Z)?j!==F&&j!==+F&&p.push(r("dynamic",v,S.concat(B,D),F,j)):p.push(r("value",v,S.concat(B,D),F))}else p.push(r("array",v,S.concat(B),T[B]));else for(B=0;B<V;B++)Z=te?U[B]:U,F=T[B],j=E[B],A.validate(F,Z)?j!==F&&j!==+F&&p.push(r("dynamic",v,S.concat(B),F,j)):p.push(r("value",v,S.concat(B),F))}else if(C.items&&!I&&h(T)){var $,G,X=U[Object.keys(U)[0]],J=[];for($=0;$<E.length;$++){var ne=E[$]._index||$;if((G=S.slice()).push(ne),b(T[ne])&&b(E[$])){J.push(ne);var ie=T[ne],ae=E[$];b(ie)&&ie.visible!==!1&&ae.visible===!1?p.push(r("invisible",v,G)):t(ie,ae,X,p,v,G)}}for($=0;$<T.length;$++)(G=S.slice()).push($),b(T[$])?J.indexOf($)===-1&&p.push(r("unused",v,G)):p.push(r("object",v,G,T[$]))}else!b(T)&&b(E)?p.push(r("object",v,S,T)):o(T)||!o(E)||I||z?f in x?A.validate(T,C)?C.valType==="enumerated"&&(C.coerceNumber&&T!==+E||T!==E)&&p.push(r("dynamic",v,S,T,E)):p.push(r("value",v,S,T)):p.push(r("unused",v,S,T)):p.push(r("array",v,S,T));else p.push(r("schema",v,S))}}return p}Y.exports=function(c,x){c===void 0&&(c=[]),x===void 0&&(x={});var g,p,v=a.get(),y=[],m={_context:A.extendFlat({},w)};h(c)?(m.data=A.extendDeep([],c),g=c):(m.data=[],g=[],y.push(r("array","data"))),b(x)?(m.layout=A.extendDeep({},x),p=x):(m.layout={},p={},arguments.length>1&&y.push(r("object","layout"))),k.supplyDefaults(m);for(var _=m._fullData,f=g.length,S=0;S<f;S++){var T=g[S],E=["data",S];if(b(T)){var C=_[S],O=C.type,I=v.traces[O].attributes;I.type={valType:"enumerated",values:[O]},C.visible===!1&&T.visible!==!1&&y.push(r("invisible",E)),t(T,C,I,y,E);var z=T.transforms,U=C.transforms;if(z){h(z)||y.push(r("array",E,["transforms"])),E.push("transforms");for(var D=0;D<z.length;D++){var B=["transforms",D],Z=z[D].type;if(b(z[D])){var F=v.transforms[Z]?v.transforms[Z].attributes:{};F.type={valType:"enumerated",values:Object.keys(v.transforms)},t(z[D],U[D],F,y,E,B)}else y.push(r("object",E,B))}}}else y.push(r("object",E))}var j=m._fullLayout,V=function(te,Q){for(var $=te.layout.layoutAttributes,G=0;G<Q.length;G++){var X=Q[G],J=te.traces[X.type],ne=J.layoutAttributes;ne&&(X.subplot?A.extendFlat($[J.attributes.subplot.dflt],ne):A.extendFlat($,ne))}return $}(v,_);return t(p,j,V,y,"layout"),y.length===0?void 0:y};var i={object:function(c,x){return(c==="layout"&&x===""?"The layout argument":c[0]==="data"&&x===""?"Trace "+c[1]+" in the data argument":n(c)+"key "+x)+" must be linked to an object container"},array:function(c,x){return(c==="data"?"The data argument":n(c)+"key "+x)+" must be linked to an array container"},schema:function(c,x){return n(c)+"key "+x+" is not part of the schema"},unused:function(c,x,g){var p=b(g)?"container":"key";return n(c)+p+" "+x+" did not get coerced"},dynamic:function(c,x,g,p){return[n(c)+"key",x,"(set to '"+g+"')","got reset to","'"+p+"'","during defaults."].join(" ")},invisible:function(c,x){return(x?n(c)+"item "+x:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,x,g){return[n(c)+"key "+x,"is set to an invalid value ("+g+")"].join(" ")}};function n(c){return h(c)?"In data trace "+c[1]+", ":"In "+c+", "}function r(c,x,g,p,v){var y,m;g=g||"",h(x)?(y=x[0],m=x[1]):(y=x,m=null);var _=function(S){if(!h(S))return String(S);for(var T="",E=0;E<S.length;E++){var C=S[E];typeof C=="number"?T=T.substr(0,T.length-1)+"["+C+"]":T+=C,E<S.length-1&&(T+=".")}return T}(g),f=i[c](x,_,p,v);return A.log(f),{code:c,container:y,trace:m,path:g,astr:_,msg:f}}function s(c,x){var g=d(x),p=g.keyMinusId,v=g.id;return!!(p in c&&c[p]._isSubplotObj&&v)||x in c}function l(c,x){return x in c?c[x]:c[d(x).keyMinusId]}var u=A.counterRegex("([a-z]+)");function d(c){var x=c.match(u);return{keyMinusId:x&&x[1],id:x&&x[2]}}},85656:function(Y){Y.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},51272:function(Y,P,e){var A=e(3400),k=e(31780);Y.exports=function(a,w,b){var h,o,t=b.name,i=b.inclusionAttr||"visible",n=w[t],r=A.isArrayOrTypedArray(a[t])?a[t]:[],s=w[t]=[],l=k.arrayTemplater(w,t,i);for(h=0;h<r.length;h++){var u=r[h];A.isPlainObject(u)?o=l.newItem(u):(o=l.newItem({}))[i]=!1,o._index=h,o[i]!==!1&&b.handleItemDefaults(u,o,w,b),s.push(o)}var d=l.defaultItems();for(h=0;h<d.length;h++)(o=d[h])._index=s.length,b.handleItemDefaults({},o,w,b,{}),s.push(o);if(A.isArrayOrTypedArray(n)){var c=Math.min(n.length,s.length);for(h=0;h<c;h++)A.relinkPrivateKeys(s[h],n[h])}return s}},45464:function(Y,P,e){var A=e(25376),k=e(55756);Y.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:A({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:k.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(Y,P,e){var A=e(38248),k=e(3400),a=k.dateTime2ms,w=k.incrementMonth,b=e(39032).ONEAVGMONTH;Y.exports=function(h,o,t,i){if(o.type!=="date")return{vals:i};var n=h[t+"periodalignment"];if(!n)return{vals:i};var r,s=h[t+"period"];if(A(s)){if((s=+s)<=0)return{vals:i}}else if(typeof s=="string"&&s.charAt(0)==="M"){var l=+s.substring(1);if(!(l>0&&Math.round(l)===l))return{vals:i};r=l}for(var u=o.calendar,d=n==="start",c=n==="end",x=h[t+"period0"],g=a(x,u)||0,p=[],v=[],y=[],m=i.length,_=0;_<m;_++){var f,S,T,E=i[_];if(r){for(f=Math.round((E-g)/(r*b)),T=w(g,r*f,u);T>E;)T=w(T,-r,u);for(;T<=E;)T=w(T,r,u);S=w(T,-r,u)}else{for(T=g+(f=Math.round((E-g)/s))*s;T>E;)T-=s;for(;T<=E;)T+=s;S=T-s}p[_]=d?S:c?T:(S+T)/2,v[_]=S,y[_]=T}return{vals:p,starts:v,ends:y}}},26720:function(Y){Y.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},19280:function(Y,P,e){var A=e(33428),k=e(38248),a=e(3400),w=e(39032).FP_SAFE,b=e(24040),h=e(43616),o=e(79811),t=o.getFromId,i=o.isLinked;function n(_,f){var S,T,E=[],C=_._fullLayout,O=s(C,f,0),I=s(C,f,1),z=u(_,f),U=z.min,D=z.max;if(U.length===0||D.length===0)return a.simpleMap(f.range,f.r2l);var B=U[0].val,Z=D[0].val;for(S=1;S<U.length&&B===Z;S++)B=Math.min(B,U[S].val);for(S=1;S<D.length&&B===Z;S++)Z=Math.max(Z,D[S].val);var F=f.autorange,j=F==="reversed"||F==="min reversed"||F==="max reversed";if(!j&&f.range){var V=a.simpleMap(f.range,f.r2l);j=V[1]<V[0]}f.autorange==="reversed"&&(f.autorange=!0);var te,Q,$,G,X,J,ne=f.rangemode,ie=ne==="tozero",ae=ne==="nonnegative",le=f._length,ce=le/10,pe=0;for(S=0;S<U.length;S++)for(te=U[S],T=0;T<D.length;T++)(J=(Q=D[T]).val-te.val-r(f,te.val,Q.val))>0&&((X=le-O(te)-I(Q))>ce?J/X>pe&&($=te,G=Q,pe=J/X):J/le>pe&&($={val:te.val,nopad:1},G={val:Q.val,nopad:1},pe=J/le));if(B===Z){var ge=B-1,me=B+1;if(ie)if(B===0)E=[0,1];else{var ve=(B>0?D:U).reduce(function(_e,we){return Math.max(_e,I(we))},0),Me=B/(1-Math.min(.5,ve/le));E=B>0?[0,Me]:[Me,0]}else E=ae?[Math.max(0,ge),Math.max(1,me)]:[ge,me]}else ie?($.val>=0&&($={val:0,nopad:1}),G.val<=0&&(G={val:0,nopad:1})):ae&&($.val-pe*O($)<0&&($={val:0,nopad:1}),G.val<=0&&(G={val:1,nopad:1})),pe=(G.val-$.val-r(f,te.val,Q.val))/(le-O($)-I(G)),E=[$.val-pe*O($),G.val+pe*I(G)];return E=m(E,f),f.limitRange&&f.limitRange(),j&&E.reverse(),a.simpleMap(E,f.l2r||Number)}function r(_,f,S){var T=0;if(_.rangebreaks)for(var E=_.locateBreaks(f,S),C=0;C<E.length;C++){var O=E[C];T+=O.max-O.min}return T}function s(_,f,S){var T=.05*f._length,E=f._anchorAxis||{};if((f.ticklabelposition||"").indexOf("inside")!==-1||(E.ticklabelposition||"").indexOf("inside")!==-1){var C=f.isReversed();if(!C){var O=a.simpleMap(f.range,f.r2l);C=O[1]<O[0]}C&&(S=!S)}var I=0;return i(_,f._id)||(I=function(z,U,D){var B=0,Z=U._id.charAt(0)==="x";for(var F in z._plots){var j=z._plots[F];if(U._id===j.xaxis._id||U._id===j.yaxis._id){var V=(Z?j.yaxis:j.xaxis)||{};if((V.ticklabelposition||"").indexOf("inside")!==-1&&(!D&&(V.side==="left"||V.side==="bottom")||D&&(V.side==="top"||V.side==="right"))){if(V._vals){var te=a.deg2rad(V._tickAngles[V._id+"tick"]||0),Q=Math.abs(Math.cos(te)),$=Math.abs(Math.sin(te));if(!V._vals[0].bb){var G=V._id+"tick";V._selections[G].each(function(ae){var le=A.select(this);le.select(".text-math-group").empty()&&(ae.bb=h.bBox(le.node()))})}for(var X=0;X<V._vals.length;X++){var J=V._vals[X].bb;if(J){var ne=2*l+J.width,ie=2*l+J.height;B=Math.max(B,Z?Math.max(ne*Q,ie*$):Math.max(ie*Q,ne*$))}}}V.ticks==="inside"&&V.ticklabelposition==="inside"&&(B+=V.ticklen||0)}}}return B}(_,f,S)),T=Math.max(I,T),f.constrain==="domain"&&f._inputDomain&&(T*=(f._inputDomain[1]-f._inputDomain[0])/(f.domain[1]-f.domain[0])),function(z){return z.nopad?0:z.pad+(z.extrapad?T:I)}}Y.exports={applyAutorangeOptions:m,getAutoRange:n,makePadFn:s,doAutoRange:function(_,f,S){if(f.setScale(),f.autorange){f.range=S?S.slice():n(_,f),f._r=f.range.slice(),f._rl=a.simpleMap(f._r,f.r2l);var T=f._input,E={};E[f._attr+".range"]=f.range,E[f._attr+".autorange"]=f.autorange,b.call("_storeDirectGUIEdit",_.layout,_._fullLayout._preGUI,E),T.range=f.range.slice(),T.autorange=f.autorange}var C=f._anchorAxis;if(C&&C.rangeslider){var O=C.rangeslider[f._name];O&&O.rangemode==="auto"&&(O.range=n(_,f)),C._input.rangeslider[f._name]=a.extendFlat({},O)}},findExtremes:function(_,f,S){S||(S={}),_._m||_.setScale();var T,E,C,O,I,z,U,D,B,Z=[],F=[],j=f.length,V=S.padded||!1,te=S.tozero&&(_.type==="linear"||_.type==="-"),Q=_.type==="log",$=!1,G=S.vpadLinearized||!1;function X(ge){if(Array.isArray(ge))return $=!0,function(ve){return Math.max(Number(ge[ve]||0),0)};var me=Math.max(Number(ge||0),0);return function(){return me}}var J=X((_._m>0?S.ppadplus:S.ppadminus)||S.ppad||0),ne=X((_._m>0?S.ppadminus:S.ppadplus)||S.ppad||0),ie=X(S.vpadplus||S.vpad),ae=X(S.vpadminus||S.vpad);if(!$){if(D=1/0,B=-1/0,Q)for(T=0;T<j;T++)(E=f[T])<D&&E>0&&(D=E),E>B&&E<w&&(B=E);else for(T=0;T<j;T++)(E=f[T])<D&&E>-w&&(D=E),E>B&&E<w&&(B=E);f=[D,B],j=2}var le={tozero:te,extrapad:V};function ce(ge){C=f[ge],k(C)&&(z=J(ge),U=ne(ge),G?(O=_.c2l(C)-ae(ge),I=_.c2l(C)+ie(ge)):(D=C-ae(ge),B=C+ie(ge),Q&&D<B/10&&(D=B/10),O=_.c2l(D),I=_.c2l(B)),te&&(O=Math.min(0,O),I=Math.max(0,I)),g(O)&&d(Z,O,U,le),g(I)&&c(F,I,z,le))}var pe=Math.min(6,j);for(T=0;T<pe;T++)ce(T);for(T=j-1;T>=pe;T--)ce(T);return{min:Z,max:F,opts:S}},concatExtremes:u};var l=3;function u(_,f,S){var T,E,C,O=f._id,I=_._fullData,z=_._fullLayout,U=[],D=[];function B(te,Q){for(T=0;T<Q.length;T++){var $=te[Q[T]],G=($._extremes||{})[O];if($.visible===!0&&G){for(E=0;E<G.min.length;E++)C=G.min[E],d(U,C.val,C.pad,{extrapad:C.extrapad});for(E=0;E<G.max.length;E++)C=G.max[E],c(D,C.val,C.pad,{extrapad:C.extrapad})}}}if(B(I,f._traceIndices),B(z.annotations||[],f._annIndices||[]),B(z.shapes||[],f._shapeIndices||[]),f._matchGroup&&!S){for(var Z in f._matchGroup)if(Z!==f._id){var F=t(_,Z),j=u(_,F,!0),V=f._length/F._length;for(E=0;E<j.min.length;E++)C=j.min[E],d(U,C.val,C.pad*V,{extrapad:C.extrapad});for(E=0;E<j.max.length;E++)C=j.max[E],c(D,C.val,C.pad*V,{extrapad:C.extrapad})}}return{min:U,max:D}}function d(_,f,S,T){x(_,f,S,T,p)}function c(_,f,S,T){x(_,f,S,T,v)}function x(_,f,S,T,E){for(var C=T.tozero,O=T.extrapad,I=!0,z=0;z<_.length&&I;z++){var U=_[z];if(E(U.val,f)&&U.pad>=S&&(U.extrapad||!O)){I=!1;break}E(f,U.val)&&U.pad<=S&&(O||!U.extrapad)&&(_.splice(z,1),z--)}if(I){var D=C&&f===0;_.push({val:f,pad:D?0:S,extrapad:!D&&O})}}function g(_){return k(_)&&Math.abs(_)<w}function p(_,f){return _<=f}function v(_,f){return _>=f}function y(_,f,S){return f===void 0||S===void 0||(f=_.d2l(f))<_.d2l(S)}function m(_,f){if(!f||!f.autorangeoptions)return _;var S=_[0],T=_[1],E=f.autorangeoptions.include;if(E!==void 0){var C=f.d2l(S),O=f.d2l(T);a.isArrayOrTypedArray(E)||(E=[E]);for(var I=0;I<E.length;I++){var z=f.d2l(E[I]);C>=z&&(C=z,S=z),O<=z&&(O=z,T=z)}}return S=function(U,D){var B=D.autorangeoptions;return B&&B.minallowed!==void 0&&y(D,B.minallowed,B.maxallowed)?B.minallowed:B&&B.clipmin!==void 0&&y(D,B.clipmin,B.clipmax)?Math.max(U,D.d2l(B.clipmin)):U}(S,f),T=function(U,D){var B=D.autorangeoptions;return B&&B.maxallowed!==void 0&&y(D,B.minallowed,B.maxallowed)?B.maxallowed:B&&B.clipmax!==void 0&&y(D,B.clipmin,B.clipmax)?Math.min(U,D.d2l(B.clipmax)):U}(T,f),[S,T]}},76808:function(Y){Y.exports=function(P,e,A){var k,a;if(A){var w=e==="reversed"||e==="min reversed"||e==="max reversed";k=A[w?1:0],a=A[w?0:1]}var b=P("autorangeoptions.minallowed",a===null?k:void 0),h=P("autorangeoptions.maxallowed",k===null?a:void 0);b===void 0&&P("autorangeoptions.clipmin"),h===void 0&&P("autorangeoptions.clipmax"),P("autorangeoptions.include")}},54460:function(Y,P,e){var A=e(33428),k=e(38248),a=e(7316),w=e(24040),b=e(3400),h=b.strTranslate,o=e(72736),t=e(81668),i=e(76308),n=e(43616),r=e(94724),s=e(98728),l=e(39032),u=l.ONEMAXYEAR,d=l.ONEAVGYEAR,c=l.ONEMINYEAR,x=l.ONEMAXQUARTER,g=l.ONEAVGQUARTER,p=l.ONEMINQUARTER,v=l.ONEMAXMONTH,y=l.ONEAVGMONTH,m=l.ONEMINMONTH,_=l.ONEWEEK,f=l.ONEDAY,S=f/2,T=l.ONEHOUR,E=l.ONEMIN,C=l.ONESEC,O=l.MINUS_SIGN,I=l.BADNUM,z={K:"zeroline"},U={K:"gridline",L:"path"},D={K:"minor-gridline",L:"path"},B={K:"tick",L:"path"},Z={K:"tick",L:"text"},F={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},j=e(84284),V=j.MID_SHIFT,te=j.CAP_SHIFT,Q=j.LINE_SPACING,$=j.OPPOSITE_SIDE,G=Y.exports={};G.setConvert=e(78344);var X=e(52976),J=e(79811),ne=J.idSort,ie=J.isLinked;G.id2name=J.id2name,G.name2id=J.name2id,G.cleanId=J.cleanId,G.list=J.list,G.listIds=J.listIds,G.getFromId=J.getFromId,G.getFromTrace=J.getFromTrace;var ae=e(19280);G.getAutoRange=ae.getAutoRange,G.findExtremes=ae.findExtremes;var le=1e-4;function ce(Fe){var Be=(Fe[1]-Fe[0])*le;return[Fe[0]-Be,Fe[1]+Be]}G.coerceRef=function(Fe,Be,ot,Xe,pt,mt){var yt=Xe.charAt(Xe.length-1),ht=ot._fullLayout._subplots[yt+"axis"],Lt=Xe+"ref",Tt={};return pt||(pt=ht[0]||(typeof mt=="string"?mt:mt[0])),mt||(mt=pt),ht=ht.concat(ht.map(function(bt){return bt+" domain"})),Tt[Lt]={valType:"enumerated",values:ht.concat(mt?typeof mt=="string"?[mt]:mt:[]),dflt:pt},b.coerce(Fe,Be,Tt,Lt)},G.getRefType=function(Fe){return Fe===void 0?Fe:Fe==="paper"?"paper":Fe==="pixel"?"pixel":/( domain)$/.test(Fe)?"domain":"range"},G.coercePosition=function(Fe,Be,ot,Xe,pt,mt){var yt,ht;if(G.getRefType(Xe)!=="range")yt=b.ensureNumber,ht=ot(pt,mt);else{var Lt=G.getFromId(Be,Xe);ht=ot(pt,mt=Lt.fraction2r(mt)),yt=Lt.cleanPos}Fe[pt]=yt(ht)},G.cleanPosition=function(Fe,Be,ot){return(ot==="paper"||ot==="pixel"?b.ensureNumber:G.getFromId(Be,ot).cleanPos)(Fe)},G.redrawComponents=function(Fe,Be){Be=Be||G.listIds(Fe);var ot=Fe._fullLayout;function Xe(pt,mt,yt,ht){for(var Lt=w.getComponentMethod(pt,mt),Tt={},bt=0;bt<Be.length;bt++)for(var Pt=ot[G.id2name(Be[bt])][yt],Ot=0;Ot<Pt.length;Ot++){var Bt=Pt[Ot];if(!Tt[Bt]&&(Lt(Fe,Bt),Tt[Bt]=1,ht))return}}Xe("annotations","drawOne","_annIndices"),Xe("shapes","drawOne","_shapeIndices"),Xe("images","draw","_imgIndices",!0),Xe("selections","drawOne","_selectionIndices")};var pe=G.getDataConversions=function(Fe,Be,ot,Xe){var pt,mt=ot==="x"||ot==="y"||ot==="z"?ot:Xe;if(b.isArrayOrTypedArray(mt)){if(pt={type:X(Xe,void 0,{autotypenumbers:Fe._fullLayout.autotypenumbers}),_categories:[]},G.setConvert(pt),pt.type==="category")for(var yt=0;yt<Xe.length;yt++)pt.d2c(Xe[yt])}else pt=G.getFromTrace(Fe,Be,mt);return pt?{d2c:pt.d2c,c2d:pt.c2d}:mt==="ids"?{d2c:me,c2d:me}:{d2c:ge,c2d:ge}};function ge(Fe){return+Fe}function me(Fe){return String(Fe)}function ve(Fe,Be){return Math.abs((Fe/Be+.5)%1-.5)<.001}function Me(Fe,Be){return Math.abs(Fe/Be-1)<.001}function _e(Fe){return+Fe.substring(1)}function we(Fe,Be){return Fe.rangebreaks&&(Be=Be.filter(function(ot){return Fe.maskBreaks(ot.x)!==I})),Be}function oe(Fe){var Be=Fe._mainAxis,ot=[];if(Be._vals){for(var Xe=0;Xe<Be._vals.length;Xe++)if(!Be._vals[Xe].noTick){var pt=Be.l2p(Be._vals[Xe].x),mt=Fe.p2l(pt),yt=G.tickText(Fe,mt);Be._vals[Xe].minor&&(yt.minor=!0,yt.text=""),ot.push(yt)}}return we(Fe,ot)}function se(Fe,Be){var ot=ce(b.simpleMap(Fe.range,Fe.r2l)),Xe=Math.min(ot[0],ot[1]),pt=Math.max(ot[0],ot[1]),mt=Fe.type==="category"?Fe.d2l_noadd:Fe.d2l;Fe.type==="log"&&String(Fe.dtick).charAt(0)!=="L"&&(Fe.dtick="L"+Math.pow(10,Math.floor(Math.min(Fe.range[0],Fe.range[1]))-1));for(var yt=[],ht=0;ht<=1;ht++)if((Be===void 0||!(Be&&ht||Be===!1&&!ht))&&(!ht||Fe.minor)){var Lt=ht?Fe.minor.tickvals:Fe.tickvals,Tt=ht?[]:Fe.ticktext;if(Lt){b.isArrayOrTypedArray(Tt)||(Tt=[]);for(var bt=0;bt<Lt.length;bt++){var Pt=mt(Lt[bt]);if(Pt>Xe&&Pt<pt){var Ot=Tt[bt]===void 0?G.tickText(Fe,Pt):Re(Fe,Pt,String(Tt[bt]));ht&&(Ot.minor=!0,Ot.text=""),yt.push(Ot)}}}}return we(Fe,yt)}G.getDataToCoordFunc=function(Fe,Be,ot,Xe){return pe(Fe,Be,ot,Xe).d2c},G.counterLetter=function(Fe){var Be=Fe.charAt(0);return Be==="x"?"y":Be==="y"?"x":void 0},G.minDtick=function(Fe,Be,ot,Xe){["log","category","multicategory"].indexOf(Fe.type)===-1&&Xe?Fe._minDtick===void 0?(Fe._minDtick=Be,Fe._forceTick0=ot):Fe._minDtick&&((Fe._minDtick/Be+1e-6)%1<2e-6&&((ot-Fe._forceTick0)/Be%1+1.000001)%1<2e-6?(Fe._minDtick=Be,Fe._forceTick0=ot):((Be/Fe._minDtick+1e-6)%1>2e-6||((ot-Fe._forceTick0)/Fe._minDtick%1+1.000001)%1>2e-6)&&(Fe._minDtick=0)):Fe._minDtick=0},G.saveRangeInitial=function(Fe,Be){for(var ot=G.list(Fe,"",!0),Xe=!1,pt=0;pt<ot.length;pt++){var mt=ot[pt],yt=mt._rangeInitial0===void 0&&mt._rangeInitial1===void 0,ht=yt||mt.range[0]!==mt._rangeInitial0||mt.range[1]!==mt._rangeInitial1,Lt=mt.autorange;(yt&&Lt!==!0||Be&&ht)&&(mt._rangeInitial0=Lt==="min"||Lt==="max reversed"?void 0:mt.range[0],mt._rangeInitial1=Lt==="max"||Lt==="min reversed"?void 0:mt.range[1],mt._autorangeInitial=Lt,Xe=!0)}return Xe},G.saveShowSpikeInitial=function(Fe,Be){for(var ot=G.list(Fe,"",!0),Xe=!1,pt="on",mt=0;mt<ot.length;mt++){var yt=ot[mt],ht=yt._showSpikeInitial===void 0,Lt=ht||yt.showspikes!==yt._showspikes;(ht||Be&&Lt)&&(yt._showSpikeInitial=yt.showspikes,Xe=!0),pt!=="on"||yt.showspikes||(pt="off")}return Fe._fullLayout._cartesianSpikesEnabled=pt,Xe},G.autoBin=function(Fe,Be,ot,Xe,pt,mt){var yt,ht=b.aggNums(Math.min,null,Fe),Lt=b.aggNums(Math.max,null,Fe);if(Be.type==="category"||Be.type==="multicategory")return{start:ht-.5,end:Lt+.5,size:Math.max(1,Math.round(mt)||1),_dataSpan:Lt-ht};if(pt||(pt=Be.calendar),yt=Be.type==="log"?{type:"linear",range:[ht,Lt]}:{type:Be.type,range:b.simpleMap([ht,Lt],Be.c2r,0,pt),calendar:pt},G.setConvert(yt),mt=mt&&s.dtick(mt,yt.type))yt.dtick=mt,yt.tick0=s.tick0(void 0,yt.type,pt);else{var Tt;if(ot)Tt=(Lt-ht)/ot;else{var bt=b.distinctVals(Fe),Pt=Math.pow(10,Math.floor(Math.log(bt.minDiff)/Math.LN10)),Ot=Pt*b.roundUp(bt.minDiff/Pt,[.9,1.9,4.9,9.9],!0);Tt=Math.max(Ot,2*b.stdev(Fe)/Math.pow(Fe.length,Xe?.25:.4)),k(Tt)||(Tt=1)}G.autoTicks(yt,Tt)}var Bt,Kt=yt.dtick,on=G.tickIncrement(G.tickFirst(yt),Kt,"reverse",pt);if(typeof Kt=="number")on=function(qt,Wt,nn,En,Mn){var dn=0,Jt=0,un=0,rn=0;function hn(zn){return(1+100*(zn-qt)/nn.dtick)%100<2}for(var kn=0;kn<Wt.length;kn++)Wt[kn]%1==0?un++:k(Wt[kn])||rn++,hn(Wt[kn])&&dn++,hn(Wt[kn]+nn.dtick/2)&&Jt++;var Ln=Wt.length-rn;if(un===Ln&&nn.type!=="date")nn.dtick<1?qt=En-.5*nn.dtick:(qt-=.5)+nn.dtick<En&&(qt+=nn.dtick);else if(Jt<.1*Ln&&(dn>.3*Ln||hn(En)||hn(Mn))){var Dn=nn.dtick/2;qt+=qt+Dn<En?Dn:-Dn}return qt}(on,Fe,yt,ht,Lt),Bt=on+(1+Math.floor((Lt-on)/Kt))*Kt;else for(yt.dtick.charAt(0)==="M"&&(on=function(qt,Wt,nn,En,Mn){var dn=b.findExactDates(Wt,Mn);if(dn.exactDays>.8){var Jt=Number(nn.substr(1));dn.exactYears>.8&&Jt%12==0?qt=G.tickIncrement(qt,"M6","reverse")+1.5*f:dn.exactMonths>.8?qt=G.tickIncrement(qt,"M1","reverse")+15.5*f:qt-=S;var un=G.tickIncrement(qt,nn);if(un<=En)return un}return qt}(on,Fe,Kt,ht,pt)),Bt=on;Bt<=Lt;)Bt=G.tickIncrement(Bt,Kt,!1,pt);return{start:Be.c2r(on,0,pt),end:Be.c2r(Bt,0,pt),size:Kt,_dataSpan:Lt-ht}},G.prepMinorTicks=function(Fe,Be,ot){if(!Be.minor.dtick){delete Fe.dtick;var Xe,pt=Be.dtick&&k(Be._tmin);if(pt){var mt=G.tickIncrement(Be._tmin,Be.dtick,!0);Xe=[Be._tmin,.99*mt+.01*Be._tmin]}else{var yt=b.simpleMap(Be.range,Be.r2l);Xe=[yt[0],.8*yt[0]+.2*yt[1]]}if(Fe.range=b.simpleMap(Xe,Be.l2r),Fe._isMinor=!0,G.prepTicks(Fe,ot),pt){var ht=k(Be.dtick),Lt=k(Fe.dtick),Tt=ht?Be.dtick:+Be.dtick.substring(1),bt=Lt?Fe.dtick:+Fe.dtick.substring(1);ht&&Lt?ve(Tt,bt)?Tt===2*_&&bt===2*f&&(Fe.dtick=_):Tt===2*_&&bt===3*f?Fe.dtick=_:Tt!==_||(Be._input.minor||{}).nticks?Me(Tt/bt,2.5)?Fe.dtick=Tt/2:Fe.dtick=Tt:Fe.dtick=f:String(Be.dtick).charAt(0)==="M"?Lt?Fe.dtick="M1":ve(Tt,bt)?Tt>=12&&bt===2&&(Fe.dtick="M3"):Fe.dtick=Be.dtick:String(Fe.dtick).charAt(0)==="L"?String(Be.dtick).charAt(0)==="L"?ve(Tt,bt)||(Fe.dtick=Me(Tt/bt,2.5)?Be.dtick/2:Be.dtick):Fe.dtick="D1":Fe.dtick==="D2"&&+Be.dtick>1&&(Fe.dtick=1)}Fe.range=Be.range}Be.minor._tick0Init===void 0&&(Fe.tick0=Be.tick0)},G.prepTicks=function(Fe,Be){var ot=b.simpleMap(Fe.range,Fe.r2l,void 0,void 0,Be);if(Fe.tickmode==="auto"||!Fe.dtick){var Xe,pt=Fe.nticks;pt||(Fe.type==="category"||Fe.type==="multicategory"?(Xe=Fe.tickfont?b.bigFont(Fe.tickfont.size||12):15,pt=Fe._length/Xe):(Xe=Fe._id.charAt(0)==="y"?40:80,pt=b.constrain(Fe._length/Xe,4,9)+1),Fe._name==="radialaxis"&&(pt*=2)),Fe.minor&&Fe.minor.tickmode!=="array"||Fe.tickmode==="array"&&(pt*=100),Fe._roughDTick=Math.abs(ot[1]-ot[0])/pt,G.autoTicks(Fe,Fe._roughDTick),Fe._minDtick>0&&Fe.dtick<2*Fe._minDtick&&(Fe.dtick=Fe._minDtick,Fe.tick0=Fe.l2r(Fe._forceTick0))}Fe.ticklabelmode==="period"&&function(mt){var yt;function ht(){return!(k(mt.dtick)||mt.dtick.charAt(0)!=="M")}var Lt=ht(),Tt=G.getTickFormat(mt);if(Tt){var bt=mt._dtickInit!==mt.dtick;/%[fLQsSMX]/.test(Tt)||(/%[HI]/.test(Tt)?(yt=T,bt&&!Lt&&mt.dtick<T&&(mt.dtick=T)):/%p/.test(Tt)?(yt=S,bt&&!Lt&&mt.dtick<S&&(mt.dtick=S)):/%[Aadejuwx]/.test(Tt)?(yt=f,bt&&!Lt&&mt.dtick<f&&(mt.dtick=f)):/%[UVW]/.test(Tt)?(yt=_,bt&&!Lt&&mt.dtick<_&&(mt.dtick=_)):/%[Bbm]/.test(Tt)?(yt=y,bt&&(Lt?_e(mt.dtick)<1:mt.dtick<m)&&(mt.dtick="M1")):/%[q]/.test(Tt)?(yt=g,bt&&(Lt?_e(mt.dtick)<3:mt.dtick<p)&&(mt.dtick="M3")):/%[Yy]/.test(Tt)&&(yt=d,bt&&(Lt?_e(mt.dtick)<12:mt.dtick<c)&&(mt.dtick="M12")))}(Lt=ht())&&mt.tick0===mt._dowTick0&&(mt.tick0=mt._rawTick0),mt._definedDelta=yt}(Fe),Fe.tick0||(Fe.tick0=Fe.type==="date"?"2000-01-01":0),Fe.type==="date"&&Fe.dtick<.1&&(Fe.dtick=.1),ke(Fe)},G.calcTicks=function(Fe,Be){for(var ot,Xe,pt=Fe.type,mt=Fe.calendar,yt=Fe.ticklabelstep,ht=Fe.ticklabelmode==="period",Lt=b.simpleMap(Fe.range,Fe.r2l,void 0,void 0,Be),Tt=Lt[1]<Lt[0],bt=Math.min(Lt[0],Lt[1]),Pt=Math.max(Lt[0],Lt[1]),Ot=Math.max(1e3,Fe._length||0),Bt=[],Kt=[],on=[],qt=[],Wt=Fe.minor&&(Fe.minor.ticks||Fe.minor.showgrid),nn=1;nn>=(Wt?0:1);nn--){var En=!nn;nn?(Fe._dtickInit=Fe.dtick,Fe._tick0Init=Fe.tick0):(Fe.minor._dtickInit=Fe.minor.dtick,Fe.minor._tick0Init=Fe.minor.tick0);var Mn=nn?Fe:b.extendFlat({},Fe,Fe.minor);if(En?G.prepMinorTicks(Mn,Fe,Be):G.prepTicks(Mn,Be),Mn.tickmode!=="array")if(Mn.tickmode!=="sync"){var dn=ce(Lt),Jt=dn[0],un=dn[1],rn=k(Mn.dtick),hn=pt==="log"&&!(rn||Mn.dtick.charAt(0)==="L"),kn=G.tickFirst(Mn,Be);if(nn){if(Fe._tmin=kn,kn<Jt!==Tt)break;pt!=="category"&&pt!=="multicategory"||(un=Tt?Math.max(-.5,un):Math.min(Fe._categories.length-.5,un))}var Ln,Dn,zn=null,On=kn;nn&&(rn?Dn=Fe.dtick:pt==="date"?typeof Fe.dtick=="string"&&Fe.dtick.charAt(0)==="M"&&(Dn=y*Fe.dtick.substring(1)):Dn=Fe._roughDTick,Ln=Math.round((Fe.r2l(On)-Fe.r2l(Fe.tick0))/Dn)-1);var Hn=Mn.dtick;for(Mn.rangebreaks&&Mn._tick0Init!==Mn.tick0&&(On=Ne(On,Fe),Tt||(On=G.tickIncrement(On,Hn,!Tt,mt))),nn&&ht&&(On=G.tickIncrement(On,Hn,!Tt,mt),Ln--);Tt?On>=un:On<=un;On=G.tickIncrement(On,Hn,Tt,mt)){if(nn&&Ln++,Mn.rangebreaks&&!Tt){if(On<Jt)continue;if(Mn.maskBreaks(On)===I&&Ne(On,Mn)>=Pt)break}if(on.length>Ot||On===zn)break;zn=On;var jn={value:On};nn?(hn&&On!==(0|On)&&(jn.simpleLabel=!0),yt>1&&Ln%yt&&(jn.skipLabel=!0),on.push(jn)):(jn.minor=!0,qt.push(jn))}}else on=[],Bt=oe(Fe);else nn?(on=[],Bt=se(Fe,!En)):(qt=[],Kt=se(Fe,!En))}if(Wt&&!(Fe.minor.ticks==="inside"&&Fe.ticks==="outside"||Fe.minor.ticks==="outside"&&Fe.ticks==="inside")){for(var ar=on.map(function(It){return It.value}),ur=[],cr=0;cr<qt.length;cr++){var er=qt[cr],Tr=er.value;if(ar.indexOf(Tr)===-1){for(var Ht=!1,an=0;!Ht&&an<on.length;an++)1e7+on[an].value===1e7+Tr&&(Ht=!0);Ht||ur.push(er)}}qt=ur}if(ht&&function(It,Xt,tn){for(var bn=0;bn<It.length;bn++){var yn=It[bn].value,Tn=bn,fn=bn+1;bn<It.length-1?(Tn=bn,fn=bn+1):bn>0?(Tn=bn-1,fn=bn):(Tn=bn,fn=bn);var Qt,en=It[Tn].value,ln=It[fn].value,pn=Math.abs(ln-en),Sn=tn||pn,In=0;Sn>=c?In=pn>=c&&pn<=u?pn:d:tn===g&&Sn>=p?In=pn>=p&&pn<=x?pn:g:Sn>=m?In=pn>=m&&pn<=v?pn:y:tn===_&&Sn>=_?In=_:Sn>=f?In=f:tn===S&&Sn>=S?In=S:tn===T&&Sn>=T&&(In=T),In>=pn&&(In=pn,Qt=!0);var Vn=yn+In;if(Xt.rangebreaks&&In>0){for(var qn=0,$n=0;$n<84;$n++){var Zn=($n+.5)/84;Xt.maskBreaks(yn*(1-Zn)+Zn*Vn)!==I&&qn++}(In*=qn/84)||(It[bn].drop=!0),Qt&&pn>_&&(In=pn)}(In>0||bn===0)&&(It[bn].periodX=yn+In/2)}}(on,Fe,Fe._definedDelta),Fe.rangebreaks){var _n=Fe._id.charAt(0)==="y",vn=1;Fe.tickmode==="auto"&&(vn=Fe.tickfont?Fe.tickfont.size:12);var Cn=NaN;for(ot=on.length-1;ot>-1;ot--)if(on[ot].drop)on.splice(ot,1);else{on[ot].value=Ne(on[ot].value,Fe);var Gn=Fe.c2p(on[ot].value);(_n?Cn>Gn-vn:Cn<Gn+vn)?on.splice(Tt?ot+1:ot,1):Cn=Gn}}Ze(Fe)&&Math.abs(Lt[1]-Lt[0])===360&&on.pop(),Fe._tmax=(on[on.length-1]||{}).value,Fe._prevDateHead="",Fe._inCalcTicks=!0;var Fn,Nn,rr=function(It){It.text="",Fe._prevDateHead=Xe};for(on=on.concat(qt),ot=0;ot<on.length;ot++){var Zt=on[ot].minor,mn=on[ot].value;Zt?Kt.push({x:mn,minor:!0}):(Xe=Fe._prevDateHead,Fn=G.tickText(Fe,mn,!1,on[ot].simpleLabel),(Nn=on[ot].periodX)!==void 0&&(Fn.periodX=Nn,(Nn>Pt||Nn<bt)&&(Nn>Pt&&(Fn.periodX=Pt),Nn<bt&&(Fn.periodX=bt),rr(Fn))),on[ot].skipLabel&&rr(Fn),Bt.push(Fn))}return Bt=Bt.concat(Kt),Fe._inCalcTicks=!1,ht&&Bt.length&&(Bt[0].noTick=!0),Bt};var de=[2,5,10],Ee=[1,2,3,6,12],Te=[1,2,5,10,15,30],Se=[1,2,3,7,14],Le=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Oe=[-.301,0,.301,.699,1],he=[15,30,45,90,180];function xe(Fe,Be,ot){return Be*b.roundUp(Fe/Be,ot)}function ke(Fe){var Be=Fe.dtick;if(Fe._tickexponent=0,k(Be)||typeof Be=="string"||(Be=1),Fe.type!=="category"&&Fe.type!=="multicategory"||(Fe._tickround=null),Fe.type==="date"){var ot=Fe.r2l(Fe.tick0),Xe=Fe.l2r(ot).replace(/(^-|i)/g,""),pt=Xe.length;if(String(Be).charAt(0)==="M")pt>10||Xe.substr(5)!=="01-01"?Fe._tickround="d":Fe._tickround=+Be.substr(1)%12==0?"y":"m";else if(Be>=f&&pt<=10||Be>=15*f)Fe._tickround="d";else if(Be>=E&&pt<=16||Be>=T)Fe._tickround="M";else if(Be>=C&&pt<=19||Be>=E)Fe._tickround="S";else{var mt=Fe.l2r(ot+Be).replace(/^-/,"").length;Fe._tickround=Math.max(pt,mt)-20,Fe._tickround<0&&(Fe._tickround=4)}}else if(k(Be)||Be.charAt(0)==="L"){var yt=Fe.range.map(Fe.r2d||Number);k(Be)||(Be=Number(Be.substr(1))),Fe._tickround=2-Math.floor(Math.log(Be)/Math.LN10+.01);var ht=Math.max(Math.abs(yt[0]),Math.abs(yt[1])),Lt=Math.floor(Math.log(ht)/Math.LN10+.01),Tt=Fe.minexponent===void 0?3:Fe.minexponent;Math.abs(Lt)>Tt&&(Ie(Fe.exponentformat)&&!He(Lt)?Fe._tickexponent=3*Math.round((Lt-1)/3):Fe._tickexponent=Lt)}else Fe._tickround=null}function Re(Fe,Be,ot){var Xe=Fe.tickfont||{};return{x:Be,dx:0,dy:0,text:ot||"",fontSize:Xe.size,font:Xe.family,fontColor:Xe.color}}G.autoTicks=function(Fe,Be,ot){var Xe;function pt(Pt){return Math.pow(Pt,Math.floor(Math.log(Be)/Math.LN10))}if(Fe.type==="date"){Fe.tick0=b.dateTick0(Fe.calendar,0);var mt=2*Be;if(mt>d)Be/=d,Xe=pt(10),Fe.dtick="M"+12*xe(Be,Xe,de);else if(mt>y)Be/=y,Fe.dtick="M"+xe(Be,1,Ee);else if(mt>f){if(Fe.dtick=xe(Be,f,Fe._hasDayOfWeekBreaks?[1,2,7,14]:Se),!ot){var yt=G.getTickFormat(Fe),ht=Fe.ticklabelmode==="period";ht&&(Fe._rawTick0=Fe.tick0),/%[uVW]/.test(yt)?Fe.tick0=b.dateTick0(Fe.calendar,2):Fe.tick0=b.dateTick0(Fe.calendar,1),ht&&(Fe._dowTick0=Fe.tick0)}}else mt>T?Fe.dtick=xe(Be,T,Ee):mt>E?Fe.dtick=xe(Be,E,Te):mt>C?Fe.dtick=xe(Be,C,Te):(Xe=pt(10),Fe.dtick=xe(Be,Xe,de))}else if(Fe.type==="log"){Fe.tick0=0;var Lt=b.simpleMap(Fe.range,Fe.r2l);if(Fe._isMinor&&(Be*=1.5),Be>.7)Fe.dtick=Math.ceil(Be);else if(Math.abs(Lt[1]-Lt[0])<1){var Tt=1.5*Math.abs((Lt[1]-Lt[0])/Be);Be=Math.abs(Math.pow(10,Lt[1])-Math.pow(10,Lt[0]))/Tt,Xe=pt(10),Fe.dtick="L"+xe(Be,Xe,de)}else Fe.dtick=Be>.3?"D2":"D1"}else Fe.type==="category"||Fe.type==="multicategory"?(Fe.tick0=0,Fe.dtick=Math.ceil(Math.max(Be,1))):Ze(Fe)?(Fe.tick0=0,Xe=1,Fe.dtick=xe(Be,Xe,he)):(Fe.tick0=0,Xe=pt(10),Fe.dtick=xe(Be,Xe,de));if(Fe.dtick===0&&(Fe.dtick=1),!k(Fe.dtick)&&typeof Fe.dtick!="string"){var bt=Fe.dtick;throw Fe.dtick=1,"ax.dtick error: "+String(bt)}},G.tickIncrement=function(Fe,Be,ot,Xe){var pt=ot?-1:1;if(k(Be))return b.increment(Fe,pt*Be);var mt=Be.charAt(0),yt=pt*Number(Be.substr(1));if(mt==="M")return b.incrementMonth(Fe,yt,Xe);if(mt==="L")return Math.log(Math.pow(10,Fe)+yt)/Math.LN10;if(mt==="D"){var ht=Be==="D2"?Oe:Le,Lt=Fe+.01*pt,Tt=b.roundUp(b.mod(Lt,1),ht,ot);return Math.floor(Lt)+Math.log(A.round(Math.pow(10,Tt),1))/Math.LN10}throw"unrecognized dtick "+String(Be)},G.tickFirst=function(Fe,Be){var ot=Fe.r2l||Number,Xe=b.simpleMap(Fe.range,ot,void 0,void 0,Be),pt=Xe[1]<Xe[0],mt=pt?Math.floor:Math.ceil,yt=ce(Xe)[0],ht=Fe.dtick,Lt=ot(Fe.tick0);if(k(ht)){var Tt=mt((yt-Lt)/ht)*ht+Lt;return Fe.type!=="category"&&Fe.type!=="multicategory"||(Tt=b.constrain(Tt,0,Fe._categories.length-1)),Tt}var bt=ht.charAt(0),Pt=Number(ht.substr(1));if(bt==="M"){for(var Ot,Bt,Kt,on=0,qt=Lt;on<10;){if(((Ot=G.tickIncrement(qt,ht,pt,Fe.calendar))-yt)*(qt-yt)<=0)return pt?Math.min(qt,Ot):Math.max(qt,Ot);Bt=(yt-(qt+Ot)/2)/(Ot-qt),Kt=bt+(Math.abs(Math.round(Bt))||1)*Pt,qt=G.tickIncrement(qt,Kt,Bt<0?!pt:pt,Fe.calendar),on++}return b.error("tickFirst did not converge",Fe),qt}if(bt==="L")return Math.log(mt((Math.pow(10,yt)-Lt)/Pt)*Pt+Lt)/Math.LN10;if(bt==="D"){var Wt=ht==="D2"?Oe:Le,nn=b.roundUp(b.mod(yt,1),Wt,pt);return Math.floor(yt)+Math.log(A.round(Math.pow(10,nn),1))/Math.LN10}throw"unrecognized dtick "+String(ht)},G.tickText=function(Fe,Be,ot,Xe){var pt,mt=Re(Fe,Be),yt=Fe.tickmode==="array",ht=ot||yt,Lt=Fe.type,Tt=Lt==="category"?Fe.d2l_noadd:Fe.d2l;if(yt&&b.isArrayOrTypedArray(Fe.ticktext)){var bt=b.simpleMap(Fe.range,Fe.r2l),Pt=(Math.abs(bt[1]-bt[0])-(Fe._lBreaks||0))/1e4;for(pt=0;pt<Fe.ticktext.length&&!(Math.abs(Be-Tt(Fe.tickvals[pt]))<Pt);pt++);if(pt<Fe.ticktext.length)return mt.text=String(Fe.ticktext[pt]),mt}function Ot(qt){if(qt===void 0)return!0;if(ot)return qt==="none";var Wt={first:Fe._tmin,last:Fe._tmax}[qt];return qt!=="all"&&Be!==Wt}var Bt=ot?"never":Fe.exponentformat!=="none"&&Ot(Fe.showexponent)?"hide":"";if(Lt==="date"?function(qt,Wt,nn,En){var Mn=qt._tickround,dn=nn&&qt.hoverformat||G.getTickFormat(qt);(En=!dn&&En)&&(Mn=k(Mn)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[Mn]);var Jt,un=b.formatDate(Wt.x,dn,Mn,qt._dateFormat,qt.calendar,qt._extraFormat),rn=un.indexOf(`
`);if(rn!==-1&&(Jt=un.substr(rn+1),un=un.substr(0,rn)),En&&(Jt===void 0||un!=="00:00:00"&&un!=="00:00"?un.length===8&&(un=un.replace(/:00$/,"")):(un=Jt,Jt="")),Jt)if(nn)Mn==="d"?un+=", "+Jt:un=Jt+(un?", "+un:"");else if(qt._inCalcTicks&&qt._prevDateHead===Jt){var hn=Ye(qt),kn=qt._trueSide||qt.side;(!hn&&kn==="top"||hn&&kn==="bottom")&&(un+="<br> ")}else qt._prevDateHead=Jt,un+="<br>"+Jt;Wt.text=un}(Fe,mt,ot,ht):Lt==="log"?function(qt,Wt,nn,En,Mn){var dn=qt.dtick,Jt=Wt.x,un=qt.tickformat,rn=typeof dn=="string"&&dn.charAt(0);if(Mn==="never"&&(Mn=""),En&&rn!=="L"&&(dn="L3",rn="L"),un||rn==="L")Wt.text=qe(Math.pow(10,Jt),qt,Mn,En);else if(k(dn)||rn==="D"&&b.mod(Jt+.01,1)<.1){var hn=Math.round(Jt),kn=Math.abs(hn),Ln=qt.exponentformat;Ln==="power"||Ie(Ln)&&He(hn)?(Wt.text=hn===0?1:hn===1?"10":"10<sup>"+(hn>1?"":O)+kn+"</sup>",Wt.fontSize*=1.25):(Ln==="e"||Ln==="E")&&kn>2?Wt.text="1"+Ln+(hn>0?"+":O)+kn:(Wt.text=qe(Math.pow(10,Jt),qt,"","fakehover"),dn==="D1"&&qt._id.charAt(0)==="y"&&(Wt.dy-=Wt.fontSize/6))}else{if(rn!=="D")throw"unrecognized dtick "+String(dn);Wt.text=String(Math.round(Math.pow(10,b.mod(Jt,1)))),Wt.fontSize*=.75}if(qt.dtick==="D1"){var Dn=String(Wt.text).charAt(0);Dn!=="0"&&Dn!=="1"||(qt._id.charAt(0)==="y"?Wt.dx-=Wt.fontSize/4:(Wt.dy+=Wt.fontSize/2,Wt.dx+=(qt.range[1]>qt.range[0]?1:-1)*Wt.fontSize*(Jt<0?.5:.25)))}}(Fe,mt,0,ht,Bt):Lt==="category"?function(qt,Wt){var nn=qt._categories[Math.round(Wt.x)];nn===void 0&&(nn=""),Wt.text=String(nn)}(Fe,mt):Lt==="multicategory"?function(qt,Wt,nn){var En=Math.round(Wt.x),Mn=qt._categories[En]||[],dn=Mn[1]===void 0?"":String(Mn[1]),Jt=Mn[0]===void 0?"":String(Mn[0]);nn?Wt.text=Jt+" - "+dn:(Wt.text=dn,Wt.text2=Jt)}(Fe,mt,ot):Ze(Fe)?function(qt,Wt,nn,En,Mn){if(qt.thetaunit!=="radians"||nn)Wt.text=qe(Wt.x,qt,Mn,En);else{var dn=Wt.x/180;if(dn===0)Wt.text="0";else{var Jt=function(rn){function hn(zn,On){return Math.abs(zn-On)<=1e-6}var kn=function(zn){for(var On=1;!hn(Math.round(zn*On)/On,zn);)On*=10;return On}(rn),Ln=rn*kn,Dn=Math.abs(function zn(On,Hn){return hn(Hn,0)?On:zn(Hn,On%Hn)}(Ln,kn));return[Math.round(Ln/Dn),Math.round(kn/Dn)]}(dn);if(Jt[1]>=100)Wt.text=qe(b.deg2rad(Wt.x),qt,Mn,En);else{var un=Wt.x<0;Jt[1]===1?Jt[0]===1?Wt.text="\u03C0":Wt.text=Jt[0]+"\u03C0":Wt.text=["<sup>",Jt[0],"</sup>","\u2044","<sub>",Jt[1],"</sub>","\u03C0"].join(""),un&&(Wt.text=O+Wt.text)}}}}(Fe,mt,ot,ht,Bt):function(qt,Wt,nn,En,Mn){Mn==="never"?Mn="":qt.showexponent==="all"&&Math.abs(Wt.x/qt.dtick)<1e-6&&(Mn="hide"),Wt.text=qe(Wt.x,qt,Mn,En)}(Fe,mt,0,ht,Bt),Xe||(Fe.tickprefix&&!Ot(Fe.showtickprefix)&&(mt.text=Fe.tickprefix+mt.text),Fe.ticksuffix&&!Ot(Fe.showticksuffix)&&(mt.text+=Fe.ticksuffix)),Fe.labelalias&&Fe.labelalias.hasOwnProperty(mt.text)){var Kt=Fe.labelalias[mt.text];typeof Kt=="string"&&(mt.text=Kt)}if(Fe.tickson==="boundaries"||Fe.showdividers){var on=function(qt){var Wt=Fe.l2p(qt);return Wt>=0&&Wt<=Fe._length?qt:null};mt.xbnd=[on(mt.x-.5),on(mt.x+Fe.dtick-.5)]}return mt},G.hoverLabelText=function(Fe,Be,ot){ot&&(Fe=b.extendFlat({},Fe,{hoverformat:ot}));var Xe=b.isArrayOrTypedArray(Be)?Be[0]:Be,pt=b.isArrayOrTypedArray(Be)?Be[1]:void 0;if(pt!==void 0&&pt!==Xe)return G.hoverLabelText(Fe,Xe,ot)+" - "+G.hoverLabelText(Fe,pt,ot);var mt=Fe.type==="log"&&Xe<=0,yt=G.tickText(Fe,Fe.c2l(mt?-Xe:Xe),"hover").text;return mt?Xe===0?"0":O+yt:yt};var ze=["f","p","n","\u03BC","m","","k","M","G","T"];function Ie(Fe){return Fe==="SI"||Fe==="B"}function He(Fe){return Fe>14||Fe<-15}function qe(Fe,Be,ot,Xe){var pt=Fe<0,mt=Be._tickround,yt=ot||Be.exponentformat||"B",ht=Be._tickexponent,Lt=G.getTickFormat(Be),Tt=Be.separatethousands;if(Xe){var bt={exponentformat:yt,minexponent:Be.minexponent,dtick:Be.showexponent==="none"?Be.dtick:k(Fe)&&Math.abs(Fe)||1,range:Be.showexponent==="none"?Be.range.map(Be.r2d):[0,Fe||1]};ke(bt),mt=(Number(bt._tickround)||0)+4,ht=bt._tickexponent,Be.hoverformat&&(Lt=Be.hoverformat)}if(Lt)return Be._numFormat(Lt)(Fe).replace(/-/g,O);var Pt,Ot=Math.pow(10,-mt)/2;if(yt==="none"&&(ht=0),(Fe=Math.abs(Fe))<Ot)Fe="0",pt=!1;else{if(Fe+=Ot,ht&&(Fe*=Math.pow(10,-ht),mt+=ht),mt===0)Fe=String(Math.floor(Fe));else if(mt<0){Fe=(Fe=String(Math.round(Fe))).substr(0,Fe.length+mt);for(var Bt=mt;Bt<0;Bt++)Fe+="0"}else{var Kt=(Fe=String(Fe)).indexOf(".")+1;Kt&&(Fe=Fe.substr(0,Kt+mt).replace(/\.?0+$/,""))}Fe=b.numSeparate(Fe,Be._separators,Tt)}return ht&&yt!=="hide"&&(Ie(yt)&&He(ht)&&(yt="power"),Pt=ht<0?O+-ht:yt!=="power"?"+"+ht:String(ht),yt==="e"||yt==="E"?Fe+=yt+Pt:yt==="power"?Fe+="\xD710<sup>"+Pt+"</sup>":yt==="B"&&ht===9?Fe+="B":Ie(yt)&&(Fe+=ze[ht/3+5])),pt?O+Fe:Fe}function Je(Fe,Be){if(Fe){var ot=Object.keys(F).reduce(function(Xe,pt){return Be.indexOf(pt)!==-1&&F[pt].forEach(function(mt){Xe[mt]=1}),Xe},{});Object.keys(Fe).forEach(function(Xe){ot[Xe]||(Xe.length===1?Fe[Xe]=0:delete Fe[Xe])})}}function st(Fe,Be){for(var ot=[],Xe={},pt=0;pt<Be.length;pt++){var mt=Be[pt];Xe[mt.text2]?Xe[mt.text2].push(mt.x):Xe[mt.text2]=[mt.x]}for(var yt in Xe)ot.push(Re(Fe,b.interp(Xe[yt],.5),yt));return ot}function it(Fe){return Fe.periodX!==void 0?Fe.periodX:Fe.x}function vt(Fe){return[Fe.text,Fe.x,Fe.axInfo,Fe.font,Fe.fontSize,Fe.fontColor].join("_")}function _t(Fe){var Be=Fe.title.font.size,ot=(Fe.title.text.match(o.BR_TAG_ALL)||[]).length;return Fe.title.hasOwnProperty("standoff")?ot?Be*(te+ot*Q):Be*te:ot?Be*(ot+1)*Q:Be}function xt(Fe,Be){var ot=Fe.l2p(Be);return ot>1&&ot<Fe._length-1}function et(Fe){var Be=A.select(Fe),ot=Be.select(".text-math-group");return ot.empty()?Be.select("text"):ot}function nt(Fe){return Fe._id+".automargin"}function Mt(Fe){return nt(Fe)+".mirror"}function zt(Fe){return Fe._id+".rangeslider"}function Ft(Fe,Be){for(var ot=0;ot<Be.length;ot++)Fe.indexOf(Be[ot])===-1&&Fe.push(Be[ot])}function Rt(Fe,Be,ot){var Xe,pt,mt=[],yt=[],ht=Fe.layout;for(Xe=0;Xe<Be.length;Xe++)mt.push(G.getFromId(Fe,Be[Xe]));for(Xe=0;Xe<ot.length;Xe++)yt.push(G.getFromId(Fe,ot[Xe]));var Lt=Object.keys(r),Tt=["anchor","domain","overlaying","position","side","tickangle","editType"],bt=["linear","log"];for(Xe=0;Xe<Lt.length;Xe++){var Pt=Lt[Xe],Ot=mt[0][Pt],Bt=yt[0][Pt],Kt=!0,on=!1,qt=!1;if(Pt.charAt(0)!=="_"&&typeof Ot!="function"&&Tt.indexOf(Pt)===-1){for(pt=1;pt<mt.length&&Kt;pt++){var Wt=mt[pt][Pt];Pt==="type"&&bt.indexOf(Ot)!==-1&&bt.indexOf(Wt)!==-1&&Ot!==Wt?on=!0:Wt!==Ot&&(Kt=!1)}for(pt=1;pt<yt.length&&Kt;pt++){var nn=yt[pt][Pt];Pt==="type"&&bt.indexOf(Bt)!==-1&&bt.indexOf(nn)!==-1&&Bt!==nn?qt=!0:yt[pt][Pt]!==Bt&&(Kt=!1)}Kt&&(on&&(ht[mt[0]._name].type="linear"),qt&&(ht[yt[0]._name].type="linear"),We(ht,Pt,mt,yt,Fe._fullLayout._dfltTitle))}}for(Xe=0;Xe<Fe._fullLayout.annotations.length;Xe++){var En=Fe._fullLayout.annotations[Xe];Be.indexOf(En.xref)!==-1&&ot.indexOf(En.yref)!==-1&&b.swapAttrs(ht.annotations[Xe],["?"])}}function We(Fe,Be,ot,Xe,pt){var mt,yt=b.nestedProperty,ht=yt(Fe[ot[0]._name],Be).get(),Lt=yt(Fe[Xe[0]._name],Be).get();for(Be==="title"&&(ht&&ht.text===pt.x&&(ht.text=pt.y),Lt&&Lt.text===pt.y&&(Lt.text=pt.x)),mt=0;mt<ot.length;mt++)yt(Fe,ot[mt]._name+"."+Be).set(Lt);for(mt=0;mt<Xe.length;mt++)yt(Fe,Xe[mt]._name+"."+Be).set(ht)}function Ze(Fe){return Fe._id==="angularaxis"}function Ne(Fe,Be){for(var ot=Be._rangebreaks.length,Xe=0;Xe<ot;Xe++){var pt=Be._rangebreaks[Xe];if(Fe>=pt.min&&Fe<pt.max)return pt.max}return Fe}function Ye(Fe){return(Fe.ticklabelposition||"").indexOf("inside")!==-1}function lt(Fe,Be){Ye(Fe._anchorAxis||{})&&Fe._hideCounterAxisInsideTickLabels&&Fe._hideCounterAxisInsideTickLabels(Be)}function at(Fe,Be,ot,Xe){var pt,mt=Fe.anchor==="free"||Fe.overlaying!==void 0&&Fe.overlaying!==!1?Fe.overlaying:Fe._id;pt=Xe?Fe.side==="right"?Be:-Be:Be,mt in ot||(ot[mt]={}),Fe.side in ot[mt]||(ot[mt][Fe.side]=0),ot[mt][Fe.side]+=pt}G.getTickFormat=function(Fe){var Be,ot,Xe,pt,mt,yt,ht,Lt;function Tt(Ot){return typeof Ot!="string"?Ot:Number(Ot.replace("M",""))*y}function bt(Ot,Bt){var Kt=["L","D"];if(typeof Ot==typeof Bt){if(typeof Ot=="number")return Ot-Bt;var on=Kt.indexOf(Ot.charAt(0)),qt=Kt.indexOf(Bt.charAt(0));return on===qt?Number(Ot.replace(/(L|D)/g,""))-Number(Bt.replace(/(L|D)/g,"")):on-qt}return typeof Ot=="number"?1:-1}function Pt(Ot,Bt){var Kt=Bt[0]===null,on=Bt[1]===null,qt=bt(Ot,Bt[0])>=0,Wt=bt(Ot,Bt[1])<=0;return(Kt||qt)&&(on||Wt)}if(Fe.tickformatstops&&Fe.tickformatstops.length>0)switch(Fe.type){case"date":case"linear":for(Be=0;Be<Fe.tickformatstops.length;Be++)if((Xe=Fe.tickformatstops[Be]).enabled&&(pt=Fe.dtick,mt=Xe.dtickrange,yt=void 0,ht=void 0,Lt=void 0,yt=Tt||function(Ot){return Ot},ht=mt[0],Lt=mt[1],(!ht&&typeof ht!="number"||yt(ht)<=yt(pt))&&(!Lt&&typeof Lt!="number"||yt(Lt)>=yt(pt)))){ot=Xe;break}break;case"log":for(Be=0;Be<Fe.tickformatstops.length;Be++)if((Xe=Fe.tickformatstops[Be]).enabled&&Pt(Fe.dtick,Xe.dtickrange)){ot=Xe;break}}return ot?ot.value:Fe.tickformat},G.getSubplots=function(Fe,Be){var ot=Fe._fullLayout._subplots,Xe=ot.cartesian.concat(ot.gl2d||[]),pt=Be?G.findSubplotsWithAxis(Xe,Be):Xe;return pt.sort(function(mt,yt){var ht=mt.substr(1).split("y"),Lt=yt.substr(1).split("y");return ht[0]===Lt[0]?+ht[1]-+Lt[1]:+ht[0]-+Lt[0]}),pt},G.findSubplotsWithAxis=function(Fe,Be){for(var ot=new RegExp(Be._id.charAt(0)==="x"?"^"+Be._id+"y":Be._id+"$"),Xe=[],pt=0;pt<Fe.length;pt++){var mt=Fe[pt];ot.test(mt)&&Xe.push(mt)}return Xe},G.makeClipPaths=function(Fe){var Be=Fe._fullLayout;if(!Be._hasOnlyLargeSploms){var ot,Xe,pt={_offset:0,_length:Be.width,_id:""},mt={_offset:0,_length:Be.height,_id:""},yt=G.list(Fe,"x",!0),ht=G.list(Fe,"y",!0),Lt=[];for(ot=0;ot<yt.length;ot++)for(Lt.push({x:yt[ot],y:mt}),Xe=0;Xe<ht.length;Xe++)ot===0&&Lt.push({x:pt,y:ht[Xe]}),Lt.push({x:yt[ot],y:ht[Xe]});var Tt=Be._clips.selectAll(".axesclip").data(Lt,function(bt){return bt.x._id+bt.y._id});Tt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(bt){return"clip"+Be._uid+bt.x._id+bt.y._id}).append("rect"),Tt.exit().remove(),Tt.each(function(bt){A.select(this).select("rect").attr({x:bt.x._offset||0,y:bt.y._offset||0,width:bt.x._length||1,height:bt.y._length||1})})}},G.draw=function(Fe,Be,ot){var Xe=Fe._fullLayout;Be==="redraw"&&Xe._paper.selectAll("g.subplot").each(function(ht){var Lt=ht[0],Tt=Xe._plots[Lt];if(Tt){var bt=Tt.xaxis,Pt=Tt.yaxis;Tt.xaxislayer.selectAll("."+bt._id+"tick").remove(),Tt.yaxislayer.selectAll("."+Pt._id+"tick").remove(),Tt.xaxislayer.selectAll("."+bt._id+"tick2").remove(),Tt.yaxislayer.selectAll("."+Pt._id+"tick2").remove(),Tt.xaxislayer.selectAll("."+bt._id+"divider").remove(),Tt.yaxislayer.selectAll("."+Pt._id+"divider").remove(),Tt.minorGridlayer&&Tt.minorGridlayer.selectAll("path").remove(),Tt.gridlayer&&Tt.gridlayer.selectAll("path").remove(),Tt.zerolinelayer&&Tt.zerolinelayer.selectAll("path").remove(),Xe._infolayer.select(".g-"+bt._id+"title").remove(),Xe._infolayer.select(".g-"+Pt._id+"title").remove()}});var pt=Be&&Be!=="redraw"?Be:G.listIds(Fe),mt=G.list(Fe).filter(function(ht){return ht.autoshift}).map(function(ht){return ht.overlaying});pt.map(function(ht){var Lt=G.getFromId(Fe,ht);if(Lt.tickmode==="sync"&&Lt.overlaying){var Tt=pt.findIndex(function(bt){return bt===Lt.overlaying});Tt>=0&&pt.unshift(pt.splice(Tt,1).shift())}});var yt={false:{left:0,right:0}};return b.syncOrAsync(pt.map(function(ht){return function(){if(ht){var Lt=G.getFromId(Fe,ht);ot||(ot={}),ot.axShifts=yt,ot.overlayingShiftedAx=mt;var Tt=G.drawOne(Fe,Lt,ot);return Lt._shiftPusher&&at(Lt,Lt._fullDepth||0,yt,!0),Lt._r=Lt.range.slice(),Lt._rl=b.simpleMap(Lt._r,Lt.r2l),Tt}}}))},G.drawOne=function(Fe,Be,ot){var Xe,pt,mt,yt=(ot=ot||{}).axShifts||{},ht=ot.overlayingShiftedAx||[];Be.setScale();var Lt=Fe._fullLayout,Tt=Be._id,bt=Tt.charAt(0),Pt=G.counterLetter(Tt),Ot=Lt._plots[Be._mainSubplot];if(Ot){if(Be._shiftPusher=Be.autoshift||ht.indexOf(Be._id)!==-1||ht.indexOf(Be.overlaying)!==-1,Be._shiftPusher&Be.anchor==="free"){var Bt=Be.linewidth/2||0;Be.ticks==="inside"&&(Bt+=Be.ticklen),at(Be,Bt,yt,!0),at(Be,Be.shift||0,yt,!1)}ot.skipTitle===!0&&Be._shift!==void 0||(Be._shift=function(fn,Qt){return fn.autoshift?Qt[fn.overlaying][fn.side]:fn.shift||0}(Be,yt));var Kt=Ot[bt+"axislayer"],on=Be._mainLinePosition,qt=on+=Be._shift,Wt=Be._mainMirrorPosition,nn=Be._vals=G.calcTicks(Be),En=[Be.mirror,qt,Wt].join("_");for(Xe=0;Xe<nn.length;Xe++)nn[Xe].axInfo=En;Be._selections={},Be._tickAngles&&(Be._prevTickAngles=Be._tickAngles),Be._tickAngles={},Be._depth=null;var Mn={};if(Be.visible){var dn,Jt,un=G.makeTransTickFn(Be),rn=G.makeTransTickLabelFn(Be),hn=Be.ticks==="inside",kn=Be.ticks==="outside";if(Be.tickson==="boundaries"){var Ln=function(fn,Qt){var en,ln=[],pn=function(Sn,In){var Vn=Sn.xbnd?Sn.xbnd[In]:Sn.x;Vn!==null&&ln.push(b.extendFlat({},Sn,{x:Vn}))};if(Qt.length){for(en=0;en<Qt.length;en++)pn(Qt[en],0);pn(Qt[en-1],1)}return ln}(0,nn);Jt=G.clipEnds(Be,Ln),dn=hn?Jt:Ln}else Jt=G.clipEnds(Be,nn),dn=hn&&Be.ticklabelmode!=="period"?Jt:nn;var Dn,zn=Be._gridVals=Jt,On=function(fn,Qt){var en,ln,pn=[],Sn=Qt.length&&Qt[Qt.length-1].x<Qt[0].x,In=function(qn,$n){var Zn=qn.xbnd[$n];Zn!==null&&pn.push(b.extendFlat({},qn,{x:Zn}))};if(fn.showdividers&&Qt.length){for(en=0;en<Qt.length;en++){var Vn=Qt[en];Vn.text2!==ln&&In(Vn,Sn?1:0),ln=Vn.text2}In(Qt[en-1],Sn?0:1)}return pn}(Be,nn);if(!Lt._hasOnlyLargeSploms){var Hn=Be._subplotsWith,jn={};for(Xe=0;Xe<Hn.length;Xe++){pt=Hn[Xe];var ar=(mt=Lt._plots[pt])[Pt+"axis"],ur=ar._mainAxis._id;if(!jn[ur]){jn[ur]=1;var cr=bt==="x"?"M0,"+ar._offset+"v"+ar._length:"M"+ar._offset+",0h"+ar._length;G.drawGrid(Fe,Be,{vals:zn,counterAxis:ar,layer:mt.gridlayer.select("."+Tt),minorLayer:mt.minorGridlayer.select("."+Tt),path:cr,transFn:un}),G.drawZeroLine(Fe,Be,{counterAxis:ar,layer:mt.zerolinelayer,path:cr,transFn:un})}}}var er=G.getTickSigns(Be),Tr=G.getTickSigns(Be,"minor");if(Be.ticks||Be.minor&&Be.minor.ticks){var Ht,an,_n,vn,Cn=G.makeTickPath(Be,qt,er[2]),Gn=G.makeTickPath(Be,qt,Tr[2],{minor:!0});if(Be._anchorAxis&&Be.mirror&&Be.mirror!==!0?(Ht=G.makeTickPath(Be,Wt,er[3]),an=G.makeTickPath(Be,Wt,Tr[3],{minor:!0}),_n=Cn+Ht,vn=Gn+an):(Ht="",an="",_n=Cn,vn=Gn),Be.showdividers&&kn&&Be.tickson==="boundaries"){var Fn={};for(Xe=0;Xe<On.length;Xe++)Fn[On[Xe].x]=1;Dn=function(fn){return Fn[fn.x]?Ht:_n}}else Dn=function(fn){return fn.minor?vn:_n}}if(G.drawTicks(Fe,Be,{vals:dn,layer:Kt,path:Dn,transFn:un}),Be.mirror==="allticks"){var Nn=Object.keys(Be._linepositions||{});for(Xe=0;Xe<Nn.length;Xe++){pt=Nn[Xe],mt=Lt._plots[pt];var rr=Be._linepositions[pt]||[],Zt=rr[0],mn=rr[1],It=rr[2],Xt=G.makeTickPath(Be,Zt,It?er[0]:Tr[0],{minor:It})+G.makeTickPath(Be,mn,It?er[1]:Tr[1],{minor:It});G.drawTicks(Fe,Be,{vals:dn,layer:mt[bt+"axislayer"],path:Xt,transFn:un})}}var tn=[];if(tn.push(function(){return G.drawLabels(Fe,Be,{vals:nn,layer:Kt,plotinfo:mt,transFn:rn,labelFns:G.makeLabelFns(Be,qt)})}),Be.type==="multicategory"){var bn={x:2,y:10}[bt];tn.push(function(){var fn={x:"height",y:"width"}[bt],Qt=Tn()[fn]+bn+(Be._tickAngles[Tt+"tick"]?Be.tickfont.size*Q:0);return G.drawLabels(Fe,Be,{vals:st(Be,nn),layer:Kt,cls:Tt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:un,labelFns:G.makeLabelFns(Be,qt+Qt*er[4])})}),tn.push(function(){return Be._depth=er[4]*(Tn("tick2")[Be.side]-qt),function(fn,Qt,en){var ln=Qt._id+"divider",pn=en.vals,Sn=en.layer.selectAll("path."+ln).data(pn,vt);Sn.exit().remove(),Sn.enter().insert("path",":first-child").classed(ln,1).classed("crisp",1).call(i.stroke,Qt.dividercolor).style("stroke-width",n.crispRound(fn,Qt.dividerwidth,1)+"px"),Sn.attr("transform",en.transFn).attr("d",en.path)}(Fe,Be,{vals:On,layer:Kt,path:G.makeTickPath(Be,qt,er[4],{len:Be._depth}),transFn:un})})}else Be.title.hasOwnProperty("standoff")&&tn.push(function(){Be._depth=er[4]*(Tn()[Be.side]-qt)});var yn=w.getComponentMethod("rangeslider","isVisible")(Be);return ot.skipTitle||yn&&Be.side==="bottom"||tn.push(function(){return function(fn,Qt){var en,ln=fn._fullLayout,pn=Qt._id,Sn=pn.charAt(0),In=Qt.title.font.size;if(Qt.title.hasOwnProperty("standoff"))en=Qt._depth+Qt.title.standoff+_t(Qt);else{var Vn=Ye(Qt);if(Qt.type==="multicategory")en=Qt._depth;else{var qn=1.5*In;Vn&&(qn=.5*In,Qt.ticks==="outside"&&(qn+=Qt.ticklen)),en=10+qn+(Qt.linewidth?Qt.linewidth-1:0)}Vn||(en+=Sn==="x"?Qt.side==="top"?In*(Qt.showticklabels?1:0):In*(Qt.showticklabels?1.5:.5):Qt.side==="right"?In*(Qt.showticklabels?1:.5):In*(Qt.showticklabels?.5:0))}var $n,Zn,or,tr,Qn=G.getPxPosition(fn,Qt);if(Sn==="x"?(Zn=Qt._offset+Qt._length/2,or=Qt.side==="top"?Qn-en:Qn+en):(or=Qt._offset+Qt._length/2,Zn=Qt.side==="right"?Qn+en:Qn-en,$n={rotate:"-90",offset:0}),Qt.type!=="multicategory"){var mr=Qt._selections[Qt._id+"tick"];if(tr={selection:mr,side:Qt.side},mr&&mr.node()&&mr.node().parentNode){var fr=n.getTranslate(mr.node().parentNode);tr.offsetLeft=fr.x,tr.offsetTop=fr.y}Qt.title.hasOwnProperty("standoff")&&(tr.pad=0)}return Qt._titleStandoff=en,t.draw(fn,pn+"title",{propContainer:Qt,propName:Qt._name+".title.text",placeholder:ln._dfltTitle[Sn],avoid:tr,transform:$n,attributes:{x:Zn,y:or,"text-anchor":"middle"}})}(Fe,Be)}),tn.push(function(){var fn,Qt,en,ln,pn=Be.side.charAt(0),Sn=$[Be.side].charAt(0),In=G.getPxPosition(Fe,Be),Vn=kn?Be.ticklen:0;(Be.automargin||yn||Be._shiftPusher)&&(Be.type==="multicategory"?fn=Tn("tick2"):(fn=Tn(),bt==="x"&&pn==="b"&&(Be._depth=Math.max(fn.width>0?fn.bottom-In:0,Vn))));var qn=0,$n=0;if(Be._shiftPusher&&(qn=Math.max(Vn,fn.height>0?pn==="l"?In-fn.left:fn.right-In:0),Be.title.text!==Lt._dfltTitle[bt]&&($n=(Be._titleStandoff||0)+(Be._titleScoot||0),pn==="l"&&($n+=_t(Be))),Be._fullDepth=Math.max(qn,$n)),Be.automargin){Qt={x:0,y:0,r:0,l:0,t:0,b:0};var Zn=[0,1],or=typeof Be._shift=="number"?Be._shift:0;if(bt==="x"){if(pn==="b"?Qt[pn]=Be._depth:(Qt[pn]=Be._depth=Math.max(fn.width>0?In-fn.top:0,Vn),Zn.reverse()),fn.width>0){var tr=fn.right-(Be._offset+Be._length);tr>0&&(Qt.xr=1,Qt.r=tr);var Qn=Be._offset-fn.left;Qn>0&&(Qt.xl=0,Qt.l=Qn)}}else if(pn==="l"?(Be._depth=Math.max(fn.height>0?In-fn.left:0,Vn),Qt[pn]=Be._depth-or):(Be._depth=Math.max(fn.height>0?fn.right-In:0,Vn),Qt[pn]=Be._depth+or,Zn.reverse()),fn.height>0){var mr=fn.bottom-(Be._offset+Be._length);mr>0&&(Qt.yb=0,Qt.b=mr);var fr=Be._offset-fn.top;fr>0&&(Qt.yt=1,Qt.t=fr)}Qt[Pt]=Be.anchor==="free"?Be.position:Be._anchorAxis.domain[Zn[0]],Be.title.text!==Lt._dfltTitle[bt]&&(Qt[pn]+=_t(Be)+(Be.title.standoff||0)),Be.mirror&&Be.anchor!=="free"&&((en={x:0,y:0,r:0,l:0,t:0,b:0})[Sn]=Be.linewidth,Be.mirror&&Be.mirror!==!0&&(en[Sn]+=Vn),Be.mirror===!0||Be.mirror==="ticks"?en[Pt]=Be._anchorAxis.domain[Zn[1]]:Be.mirror!=="all"&&Be.mirror!=="allticks"||(en[Pt]=[Be._counterDomainMin,Be._counterDomainMax][Zn[1]]))}yn&&(ln=w.getComponentMethod("rangeslider","autoMarginOpts")(Fe,Be)),typeof Be.automargin=="string"&&(Je(Qt,Be.automargin),Je(en,Be.automargin)),a.autoMargin(Fe,nt(Be),Qt),a.autoMargin(Fe,Mt(Be),en),a.autoMargin(Fe,zt(Be),ln)}),b.syncOrAsync(tn)}}function Tn(fn){var Qt=Tt+(fn||"tick");return Mn[Qt]||(Mn[Qt]=function(en,ln){var pn,Sn,In,Vn;return en._selections[ln].size()?(pn=1/0,Sn=-1/0,In=1/0,Vn=-1/0,en._selections[ln].each(function(){var qn=et(this),$n=n.bBox(qn.node().parentNode);pn=Math.min(pn,$n.top),Sn=Math.max(Sn,$n.bottom),In=Math.min(In,$n.left),Vn=Math.max(Vn,$n.right)})):(pn=0,Sn=0,In=0,Vn=0),{top:pn,bottom:Sn,left:In,right:Vn,height:Sn-pn,width:Vn-In}}(Be,Qt)),Mn[Qt]}},G.getTickSigns=function(Fe,Be){var ot=Fe._id.charAt(0),Xe={x:"top",y:"right"}[ot],pt=Fe.side===Xe?1:-1,mt=[-1,1,pt,-pt];return(Be?(Fe.minor||{}).ticks:Fe.ticks)!=="inside"==(ot==="x")&&(mt=mt.map(function(yt){return-yt})),Fe.side&&mt.push({l:-1,t:-1,r:1,b:1}[Fe.side.charAt(0)]),mt},G.makeTransTickFn=function(Fe){return Fe._id.charAt(0)==="x"?function(Be){return h(Fe._offset+Fe.l2p(Be.x),0)}:function(Be){return h(0,Fe._offset+Fe.l2p(Be.x))}},G.makeTransTickLabelFn=function(Fe){var Be=function(pt){var mt=pt.ticklabelposition||"",yt=function(Wt){return mt.indexOf(Wt)!==-1},ht=yt("top"),Lt=yt("left"),Tt=yt("right"),bt=yt("bottom"),Pt=yt("inside"),Ot=bt||Lt||ht||Tt;if(!Ot&&!Pt)return[0,0];var Bt=pt.side,Kt=Ot?(pt.tickwidth||0)/2:0,on=3,qt=pt.tickfont?pt.tickfont.size:12;return(bt||ht)&&(Kt+=qt*te,on+=(pt.linewidth||0)/2),(Lt||Tt)&&(Kt+=(pt.linewidth||0)/2,on+=3),Pt&&Bt==="top"&&(on-=qt*(1-te)),(Lt||ht)&&(Kt=-Kt),Bt!=="bottom"&&Bt!=="right"||(on=-on),[Ot?Kt:0,Pt?on:0]}(Fe),ot=Be[0],Xe=Be[1];return Fe._id.charAt(0)==="x"?function(pt){return h(ot+Fe._offset+Fe.l2p(it(pt)),Xe)}:function(pt){return h(Xe,ot+Fe._offset+Fe.l2p(it(pt)))}},G.makeTickPath=function(Fe,Be,ot,Xe){Xe||(Xe={});var pt=Xe.minor;if(pt&&!Fe.minor)return"";var mt=Xe.len!==void 0?Xe.len:pt?Fe.minor.ticklen:Fe.ticklen,yt=Fe._id.charAt(0),ht=(Fe.linewidth||1)/2;return yt==="x"?"M0,"+(Be+ht*ot)+"v"+mt*ot:"M"+(Be+ht*ot)+",0h"+mt*ot},G.makeLabelFns=function(Fe,Be,ot){var Xe=Fe.ticklabelposition||"",pt=function(Ln){return Xe.indexOf(Ln)!==-1},mt=pt("top"),yt=pt("left"),ht=pt("right"),Lt=pt("bottom")||yt||mt||ht,Tt=pt("inside"),bt=Xe==="inside"&&Fe.ticks==="inside"||!Tt&&Fe.ticks==="outside"&&Fe.tickson!=="boundaries",Pt=0,Ot=0,Bt=bt?Fe.ticklen:0;if(Tt?Bt*=-1:Lt&&(Bt=0),bt&&(Pt+=Bt,ot)){var Kt=b.deg2rad(ot);Pt=Bt*Math.cos(Kt)+1,Ot=Bt*Math.sin(Kt)}Fe.showticklabels&&(bt||Fe.showline)&&(Pt+=.2*Fe.tickfont.size);var on,qt,Wt,nn,En,Mn={labelStandoff:Pt+=(Fe.linewidth||1)/2*(Tt?-1:1),labelShift:Ot},dn=0,Jt=Fe.side,un=Fe._id.charAt(0),rn=Fe.tickangle;if(un==="x")nn=(En=!Tt&&Jt==="bottom"||Tt&&Jt==="top")?1:-1,Tt&&(nn*=-1),on=Ot*nn,qt=Be+Pt*nn,Wt=En?1:-.2,Math.abs(rn)===90&&(Tt?Wt+=V:Wt=rn===-90&&Jt==="bottom"?te:rn===90&&Jt==="top"?V:.5,dn=V/2*(rn/90)),Mn.xFn=function(Ln){return Ln.dx+on+dn*Ln.fontSize},Mn.yFn=function(Ln){return Ln.dy+qt+Ln.fontSize*Wt},Mn.anchorFn=function(Ln,Dn){if(Lt){if(yt)return"end";if(ht)return"start"}return k(Dn)&&Dn!==0&&Dn!==180?Dn*nn<0!==Tt?"end":"start":"middle"},Mn.heightFn=function(Ln,Dn,zn){return Dn<-60||Dn>60?-.5*zn:Fe.side==="top"!==Tt?-zn:0};else if(un==="y"){if(nn=(En=!Tt&&Jt==="left"||Tt&&Jt==="right")?1:-1,Tt&&(nn*=-1),on=Pt,qt=Ot*nn,Wt=0,Tt||Math.abs(rn)!==90||(Wt=rn===-90&&Jt==="left"||rn===90&&Jt==="right"?te:.5),Tt){var hn=k(rn)?+rn:0;if(hn!==0){var kn=b.deg2rad(hn);dn=Math.abs(Math.sin(kn))*te*nn,Wt=0}}Mn.xFn=function(Ln){return Ln.dx+Be-(on+Ln.fontSize*Wt)*nn+dn*Ln.fontSize},Mn.yFn=function(Ln){return Ln.dy+qt+Ln.fontSize*V},Mn.anchorFn=function(Ln,Dn){return k(Dn)&&Math.abs(Dn)===90?"middle":En?"end":"start"},Mn.heightFn=function(Ln,Dn,zn){return Fe.side==="right"&&(Dn*=-1),Dn<-30?-zn:Dn<30?-.5*zn:0}}return Mn},G.drawTicks=function(Fe,Be,ot){ot=ot||{};var Xe=Be._id+"tick",pt=[].concat(Be.minor&&Be.minor.ticks?ot.vals.filter(function(yt){return yt.minor&&!yt.noTick}):[]).concat(Be.ticks?ot.vals.filter(function(yt){return!yt.minor&&!yt.noTick}):[]),mt=ot.layer.selectAll("path."+Xe).data(pt,vt);mt.exit().remove(),mt.enter().append("path").classed(Xe,1).classed("ticks",1).classed("crisp",ot.crisp!==!1).each(function(yt){return i.stroke(A.select(this),yt.minor?Be.minor.tickcolor:Be.tickcolor)}).style("stroke-width",function(yt){return n.crispRound(Fe,yt.minor?Be.minor.tickwidth:Be.tickwidth,1)+"px"}).attr("d",ot.path).style("display",null),lt(Be,[B]),mt.attr("transform",ot.transFn)},G.drawGrid=function(Fe,Be,ot){if(ot=ot||{},Be.tickmode!=="sync"){var Xe=Be._id+"grid",pt=Be.minor&&Be.minor.showgrid,mt=pt?ot.vals.filter(function(Wt){return Wt.minor}):[],yt=Be.showgrid?ot.vals.filter(function(Wt){return!Wt.minor}):[],ht=ot.counterAxis;if(ht&&G.shouldShowZeroLine(Fe,Be,ht))for(var Lt=Be.tickmode==="array",Tt=0;Tt<yt.length;Tt++){var bt=yt[Tt].x;if(Lt?!bt:Math.abs(bt)<Be.dtick/100){if(yt=yt.slice(0,Tt).concat(yt.slice(Tt+1)),!Lt)break;Tt--}}Be._gw=n.crispRound(Fe,Be.gridwidth,1);for(var Pt=pt?n.crispRound(Fe,Be.minor.gridwidth,1):0,Ot=ot.layer,Bt=ot.minorLayer,Kt=1;Kt>=0;Kt--){var on=Kt?Ot:Bt;if(on){var qt=on.selectAll("path."+Xe).data(Kt?yt:mt,vt);qt.exit().remove(),qt.enter().append("path").classed(Xe,1).classed("crisp",ot.crisp!==!1),qt.attr("transform",ot.transFn).attr("d",ot.path).each(function(Wt){return i.stroke(A.select(this),Wt.minor?Be.minor.gridcolor:Be.gridcolor||"#ddd")}).style("stroke-dasharray",function(Wt){return n.dashStyle(Wt.minor?Be.minor.griddash:Be.griddash,Wt.minor?Be.minor.gridwidth:Be.gridwidth)}).style("stroke-width",function(Wt){return(Wt.minor?Pt:Be._gw)+"px"}).style("display",null),typeof ot.path=="function"&&qt.attr("d",ot.path)}}lt(Be,[U,D])}},G.drawZeroLine=function(Fe,Be,ot){ot=ot||ot;var Xe=Be._id+"zl",pt=G.shouldShowZeroLine(Fe,Be,ot.counterAxis),mt=ot.layer.selectAll("path."+Xe).data(pt?[{x:0,id:Be._id}]:[]);mt.exit().remove(),mt.enter().append("path").classed(Xe,1).classed("zl",1).classed("crisp",ot.crisp!==!1).each(function(){ot.layer.selectAll("path").sort(function(yt,ht){return ne(yt.id,ht.id)})}),mt.attr("transform",ot.transFn).attr("d",ot.path).call(i.stroke,Be.zerolinecolor||i.defaultLine).style("stroke-width",n.crispRound(Fe,Be.zerolinewidth,Be._gw||1)+"px").style("display",null),lt(Be,[z])},G.drawLabels=function(Fe,Be,ot){ot=ot||{};var Xe=Fe._fullLayout,pt=Be._id,mt=ot.cls||pt+"tick",yt=ot.vals.filter(function(jn){return jn.text}),ht=ot.labelFns,Lt=ot.secondary?0:Be.tickangle,Tt=(Be._prevTickAngles||{})[mt],bt=ot.layer.selectAll("g."+mt).data(Be.showticklabels?yt:[],vt),Pt=[];function Ot(jn,ar){jn.each(function(ur){var cr=A.select(this),er=cr.select(".text-math-group"),Tr=ht.anchorFn(ur,ar),Ht=ot.transFn.call(cr.node(),ur)+(k(ar)&&+ar!=0?" rotate("+ar+","+ht.xFn(ur)+","+(ht.yFn(ur)-ur.fontSize/2)+")":""),an=o.lineCount(cr),_n=Q*ur.fontSize,vn=ht.heightFn(ur,k(ar)?+ar:0,(an-1)*_n);if(vn&&(Ht+=h(0,vn)),er.empty()){var Cn=cr.select("text");Cn.attr({transform:Ht,"text-anchor":Tr}),Cn.style("opacity",1),Be._adjustTickLabelsOverflow&&Be._adjustTickLabelsOverflow()}else{var Gn=n.bBox(er.node()).width*{end:-.5,start:.5}[Tr];er.attr("transform",Ht+h(Gn,0))}})}bt.enter().append("g").classed(mt,1).append("text").attr("text-anchor","middle").each(function(jn){var ar=A.select(this),ur=Fe._promises.length;ar.call(o.positionText,ht.xFn(jn),ht.yFn(jn)).call(n.font,jn.font,jn.fontSize,jn.fontColor).text(jn.text).call(o.convertToTspans,Fe),Fe._promises[ur]?Pt.push(Fe._promises.pop().then(function(){Ot(ar,Lt)})):Ot(ar,Lt)}),lt(Be,[Z]),bt.exit().remove(),ot.repositionOnUpdate&&bt.each(function(jn){A.select(this).select("text").call(o.positionText,ht.xFn(jn),ht.yFn(jn))}),Be._adjustTickLabelsOverflow=function(){var jn=Be.ticklabeloverflow;if(jn&&jn!=="allow"){var ar=jn.indexOf("hide")!==-1,ur=Be._id.charAt(0)==="x",cr=0,er=ur?Fe._fullLayout.width:Fe._fullLayout.height;if(jn.indexOf("domain")!==-1){var Tr=b.simpleMap(Be.range,Be.r2l);cr=Be.l2p(Tr[0])+Be._offset,er=Be.l2p(Tr[1])+Be._offset}var Ht=Math.min(cr,er),an=Math.max(cr,er),_n=Be.side,vn=1/0,Cn=-1/0;for(var Gn in bt.each(function(rr){var Zt=A.select(this);if(Zt.select(".text-math-group").empty()){var mn=n.bBox(Zt.node()),It=0;ur?(mn.right>an||mn.left<Ht)&&(It=1):(mn.bottom>an||mn.top+(Be.tickangle?0:rr.fontSize/4)<Ht)&&(It=1);var Xt=Zt.select("text");It?ar&&Xt.style("opacity",0):(Xt.style("opacity",1),vn=_n==="bottom"||_n==="right"?Math.min(vn,ur?mn.top:mn.left):-1/0,Cn=_n==="top"||_n==="left"?Math.max(Cn,ur?mn.bottom:mn.right):1/0)}}),Xe._plots){var Fn=Xe._plots[Gn];if(Be._id===Fn.xaxis._id||Be._id===Fn.yaxis._id){var Nn=ur?Fn.yaxis:Fn.xaxis;Nn&&(Nn["_visibleLabelMin_"+Be._id]=vn,Nn["_visibleLabelMax_"+Be._id]=Cn)}}}},Be._hideCounterAxisInsideTickLabels=function(jn){var ar=Be._id.charAt(0)==="x",ur=[];for(var cr in Xe._plots){var er=Xe._plots[cr];Be._id!==er.xaxis._id&&Be._id!==er.yaxis._id||ur.push(ar?er.yaxis:er.xaxis)}ur.forEach(function(Tr,Ht){Tr&&Ye(Tr)&&(jn||[z,D,U,B,Z]).forEach(function(an){var _n=an.K==="tick"&&an.L==="text"&&Be.ticklabelmode==="period",vn=Xe._plots[Be._mainSubplot];(an.K===z.K?vn.zerolinelayer.selectAll("."+Be._id+"zl"):an.K===D.K?vn.minorGridlayer.selectAll("."+Be._id):an.K===U.K?vn.gridlayer.selectAll("."+Be._id):vn[Be._id.charAt(0)+"axislayer"]).each(function(){var Cn=A.select(this);an.L&&(Cn=Cn.selectAll(an.L)),Cn.each(function(Gn){var Fn=Be.l2p(_n?it(Gn):Gn.x)+Be._offset,Nn=A.select(this);Fn<Be["_visibleLabelMax_"+Tr._id]&&Fn>Be["_visibleLabelMin_"+Tr._id]?Nn.style("display","none"):an.K!=="tick"||Ht||Nn.style("display",null)})})})})},Ot(bt,Tt+1?Tt:Lt);var Bt=null;Be._selections&&(Be._selections[mt]=bt);var Kt=[function(){return Pt.length&&Promise.all(Pt)}];Be.automargin&&Xe._redrawFromAutoMarginCount&&Tt===90?(Bt=Tt,Kt.push(function(){Ot(bt,Tt)})):Kt.push(function(){if(Ot(bt,Lt),yt.length&&Be.autotickangles&&(Be.type!=="log"||String(Be.dtick).charAt(0)!=="D")){Bt=Be.autotickangles[0];var jn,ar=0,ur=[],cr=1;if(bt.each(function(yn){ar=Math.max(ar,yn.fontSize);var Tn=Be.l2p(yn.x),fn=et(this),Qt=n.bBox(fn.node());cr=Math.max(cr,o.lineCount(fn)),ur.push({top:0,bottom:10,height:10,left:Tn-Qt.width/2,right:Tn+Qt.width/2+2,width:Qt.width+2})}),Be.tickson!=="boundaries"&&!Be.showdividers||ot.secondary){var er=yt.length,Tr=Math.abs((yt[er-1].x-yt[0].x)*Be._m)/(er-1),Ht=Be.ticklabelposition||"",an=function(yn){return Ht.indexOf(yn)!==-1},_n=an("top"),vn=an("left"),Cn=an("right"),Gn=an("bottom")||vn||_n||Cn?(Be.tickwidth||0)+6:0,Fn=Tr,Nn=1.25*ar*cr,rr=Fn/Math.sqrt(Math.pow(Fn,2)+Math.pow(Nn,2)),Zt=Be.autotickangles.map(function(yn){return yn*Math.PI/180}),mn=Zt.find(function(yn){return Math.abs(Math.cos(yn))<=rr});mn===void 0&&(mn=Zt.reduce(function(yn,Tn){return Math.abs(Math.cos(yn))<Math.abs(Math.cos(Tn))?yn:Tn},Zt[0]));var It=mn*(180/Math.PI);for(jn=0;jn<ur.length-1;jn++)if(b.bBoxIntersect(ur[jn],ur[jn+1],Gn)){Bt=It;break}}else{var Xt=2;for(Be.ticks&&(Xt+=Be.tickwidth/2),jn=0;jn<ur.length;jn++){var tn=yt&&yt[jn].xbnd?yt[jn].xbnd:[null,null],bn=ur[jn];if(tn[0]!==null&&bn.left-Be.l2p(tn[0])<Xt||tn[1]!==null&&Be.l2p(tn[1])-bn.right<Xt){Bt=90;break}}}Bt&&Ot(bt,Bt)}}),Be._tickAngles&&Kt.push(function(){Be._tickAngles[mt]=Bt===null?k(Lt)?Lt:0:Bt});var on=function(){var jn=0,ar=0;return bt.each(function(ur,cr){var er,Tr=et(this);Tr.select(".text-math-group").empty()&&(Be._vals[cr]&&(er=Be._vals[cr].bb||n.bBox(Tr.node()),Be._vals[cr].bb=er),jn=Math.max(jn,er.width),ar=Math.max(ar,er.height))}),{labelsMaxW:jn,labelsMaxH:ar}},qt=Be._anchorAxis;if(qt&&(qt.autorange||qt.insiderange)&&Ye(Be)&&!ie(Xe,Be._id)&&(Xe._insideTickLabelsUpdaterange||(Xe._insideTickLabelsUpdaterange={}),qt.autorange&&(Xe._insideTickLabelsUpdaterange[qt._name+".autorange"]=qt.autorange,Kt.push(on)),qt.insiderange)){var Wt=on(),nn=Be._id.charAt(0)==="y"?Wt.labelsMaxW:Wt.labelsMaxH;nn+=6,Be.ticklabelposition==="inside"&&(nn+=Be.ticklen||0);var En=Be.side==="right"||Be.side==="top"?1:-1,Mn=En===1?1:0,dn=En===1?0:1,Jt=[];Jt[dn]=qt.range[dn];var un=qt.range,rn=qt.d2p(un[Mn]),hn=qt.d2p(un[dn]),kn=Xe._insideTickLabelsUpdaterange[qt._name+".range"];if(kn){var Ln=qt.d2p(kn[Mn]),Dn=qt.d2p(kn[dn]),zn=En*(Be._id.charAt(0)==="y"?1:-1);zn*rn<zn*Ln&&(rn=Ln,Jt[Mn]=un[Mn]=kn[Mn]),zn*hn>zn*Dn&&(hn=Dn,Jt[dn]=un[dn]=kn[dn])}var On=Math.abs(hn-rn);On-nn>0?nn*=1+nn/(On-=nn):nn=0,Be._id.charAt(0)!=="y"&&(nn=-nn),Jt[Mn]=qt.p2d(qt.d2p(un[Mn])+En*nn),qt.autorange==="min"||qt.autorange==="max reversed"?(Jt[0]=null,qt._rangeInitial0=void 0,qt._rangeInitial1=void 0):qt.autorange!=="max"&&qt.autorange!=="min reversed"||(Jt[1]=null,qt._rangeInitial0=void 0,qt._rangeInitial1=void 0),Xe._insideTickLabelsUpdaterange[qt._name+".range"]=Jt}var Hn=b.syncOrAsync(Kt);return Hn&&Hn.then&&Fe._promises.push(Hn),Hn},G.getPxPosition=function(Fe,Be){var ot,Xe=Fe._fullLayout._size,pt=Be._id.charAt(0),mt=Be.side;return Be.anchor!=="free"?ot=Be._anchorAxis:pt==="x"?ot={_offset:Xe.t+(1-(Be.position||0))*Xe.h,_length:0}:pt==="y"&&(ot={_offset:Xe.l+(Be.position||0)*Xe.w+Be._shift,_length:0}),mt==="top"||mt==="left"?ot._offset:mt==="bottom"||mt==="right"?ot._offset+ot._length:void 0},G.shouldShowZeroLine=function(Fe,Be,ot){var Xe=b.simpleMap(Be.range,Be.r2l);return Xe[0]*Xe[1]<=0&&Be.zeroline&&(Be.type==="linear"||Be.type==="-")&&!(Be.rangebreaks&&Be.maskBreaks(0)===I)&&(xt(Be,0)||!function(pt,mt,yt,ht){var Lt=yt._mainAxis;if(Lt){var Tt=pt._fullLayout,bt=mt._id.charAt(0),Pt=G.counterLetter(mt._id),Ot=mt._offset+(Math.abs(ht[0])<Math.abs(ht[1])==(bt==="x")?0:mt._length),Bt=Tt._plots[yt._mainSubplot];if(!(Bt.mainplotinfo||Bt).overlays.length)return Wt(yt);for(var Kt=G.list(pt,Pt),on=0;on<Kt.length;on++){var qt=Kt[on];if(qt._mainAxis===Lt&&Wt(qt))return!0}}function Wt(nn){if(!nn.showline||!nn.linewidth)return!1;var En=Math.max((nn.linewidth+mt.zerolinewidth)/2,1);function Mn(un){return typeof un=="number"&&Math.abs(un-Ot)<En}if(Mn(nn._mainLinePosition)||Mn(nn._mainMirrorPosition))return!0;var dn=nn._linepositions||{};for(var Jt in dn)if(Mn(dn[Jt][0])||Mn(dn[Jt][1]))return!0}}(Fe,Be,ot,Xe)||function(pt,mt){for(var yt=pt._fullData,ht=mt._mainSubplot,Lt=mt._id.charAt(0),Tt=0;Tt<yt.length;Tt++){var bt=yt[Tt];if(bt.visible===!0&&bt.xaxis+bt.yaxis===ht&&(w.traceIs(bt,"bar-like")&&bt.orientation==={x:"h",y:"v"}[Lt]||bt.fill&&bt.fill.charAt(bt.fill.length-1)===Lt))return!0}return!1}(Fe,Be))},G.clipEnds=function(Fe,Be){return Be.filter(function(ot){return xt(Fe,ot.x)})},G.allowAutoMargin=function(Fe){for(var Be=G.list(Fe,"",!0),ot=0;ot<Be.length;ot++){var Xe=Be[ot];Xe.automargin&&(a.allowAutoMargin(Fe,nt(Xe)),Xe.mirror&&a.allowAutoMargin(Fe,Mt(Xe))),w.getComponentMethod("rangeslider","isVisible")(Xe)&&a.allowAutoMargin(Fe,zt(Xe))}},G.swap=function(Fe,Be){for(var ot=function(pt,mt){var yt,ht,Lt=[];for(yt=0;yt<mt.length;yt++){var Tt=[],bt=pt._fullData[mt[yt]].xaxis,Pt=pt._fullData[mt[yt]].yaxis;if(bt&&Pt){for(ht=0;ht<Lt.length;ht++)Lt[ht].x.indexOf(bt)===-1&&Lt[ht].y.indexOf(Pt)===-1||Tt.push(ht);if(Tt.length){var Ot,Bt=Lt[Tt[0]];if(Tt.length>1)for(ht=1;ht<Tt.length;ht++)Ot=Lt[Tt[ht]],Ft(Bt.x,Ot.x),Ft(Bt.y,Ot.y);Ft(Bt.x,[bt]),Ft(Bt.y,[Pt])}else Lt.push({x:[bt],y:[Pt]})}}return Lt}(Fe,Be),Xe=0;Xe<ot.length;Xe++)Rt(Fe,ot[Xe].x,ot[Xe].y)}},52976:function(Y,P,e){var A=e(38248),k=e(3400),a=e(39032).BADNUM,w=k.isArrayOrTypedArray,b=k.isDateTime,h=k.cleanNumber,o=Math.round;function t(n,r){return r?A(n):typeof n=="number"}function i(n){return Math.max(1,(n-1)/1e3)}Y.exports=function(n,r,s){var l=n,u=s.noMultiCategory;if(w(l)&&!l.length)return"-";if(!u&&function(p){return w(p[0])&&w(p[1])}(l))return"multicategory";if(u&&Array.isArray(l[0])){for(var d=[],c=0;c<l.length;c++)if(w(l[c]))for(var x=0;x<l[c].length;x++)d.push(l[c][x]);l=d}if(function(p,v){for(var y=p.length,m=i(y),_=0,f=0,S={},T=0;T<y;T+=m){var E=p[o(T)],C=String(E);S[C]||(S[C]=1,b(E,v)&&_++,A(E)&&f++)}return _>2*f}(l,r))return"date";var g=s.autotypenumbers!=="strict";return function(p,v){for(var y=p.length,m=i(y),_=0,f=0,S={},T=0;T<y;T+=m){var E=p[o(T)],C=String(E);if(!S[C]){S[C]=1;var O=typeof E;O==="boolean"?f++:(v?h(E)!==a:O==="number")?_++:O==="string"&&f++}}return f>2*_}(l,g)?"category":function(p,v){for(var y=p.length,m=0;m<y;m++)if(t(p[m],v))return!0;return!1}(l,g)?"linear":"-"}},28336:function(Y,P,e){var A=e(38248),k=e(24040),a=e(3400),w=e(31780),b=e(51272),h=e(94724),o=e(26332),t=e(25404),i=e(95936),n=e(42568),r=e(22416),s=e(42136),l=e(96312),u=e(78344),d=e(33816).WEEKDAY_PATTERN,c=e(33816).HOUR_PATTERN;function x(v,y,m){function _(z,U){return a.coerce(v,y,h.rangebreaks,z,U)}if(_("enabled")){var f=_("bounds");if(f&&f.length>=2){var S,T,E="";if(f.length===2){for(S=0;S<2;S++)if(T=p(f[S])){E=d;break}}var C=_("pattern",E);if(C===d)for(S=0;S<2;S++)(T=p(f[S]))&&(y.bounds[S]=f[S]=T-1);if(C)for(S=0;S<2;S++)switch(T=f[S],C){case d:if(!A(T)||(T=+T)!==Math.floor(T)||T<0||T>=7)return void(y.enabled=!1);y.bounds[S]=f[S]=T;break;case c:if(!A(T)||(T=+T)<0||T>24)return void(y.enabled=!1);y.bounds[S]=f[S]=T}if(m.autorange===!1){var O=m.range;if(O[0]<O[1]){if(f[0]<O[0]&&f[1]>O[1])return void(y.enabled=!1)}else if(f[0]>O[0]&&f[1]<O[1])return void(y.enabled=!1)}}else{var I=_("values");if(!I||!I.length)return void(y.enabled=!1);_("dvalue")}}}Y.exports=function(v,y,m,_,f){var S,T=_.letter,E=_.font||{},C=_.splomStash||{},O=m("visible",!_.visibleDflt),I=y._template||{},z=y.type||I.type||"-";z==="date"&&(k.getComponentMethod("calendars","handleDefaults")(v,y,"calendar",_.calendar),_.noTicklabelmode||(S=m("ticklabelmode")));var U="";_.noTicklabelposition&&z!=="multicategory"||(U=a.coerce(v,y,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:S==="period"?["outside","inside"]:T==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),_.noTicklabeloverflow||m("ticklabeloverflow",U.indexOf("inside")!==-1?"hide past domain":z==="category"||z==="multicategory"?"allow":"hide past div"),u(y,f),l(v,y,m,_),r(v,y,m,_),z==="category"||_.noHover||m("hoverformat");var D=m("color"),B=D!==h.color.dflt?D:E.color,Z=C.label||f._dfltTitle[T];if(n(v,y,m,z,_),!O)return y;m("title.text",Z),a.coerceFont(m,"title.font",{family:E.family,size:a.bigFont(E.size),color:B}),o(v,y,m,z);var F=_.hasMinor;if(F&&(w.newContainer(y,"minor"),o(v,y,m,z,{isMinor:!0})),i(v,y,m,z,_),t(v,y,m,_),F){var j=_.isMinor;_.isMinor=!0,t(v,y,m,_),_.isMinor=j}s(v,y,m,{dfltColor:D,bgColor:_.bgColor,showGrid:_.showGrid,hasMinor:F,attributes:h}),!F||y.minor.ticks||y.minor.showgrid||delete y.minor,(y.showline||y.ticks)&&m("mirror");var V,te=z==="multicategory";if(_.noTickson||z!=="category"&&!te||!y.ticks&&!y.showgrid||(te&&(V="boundaries"),m("tickson",V)==="boundaries"&&delete y.ticklabelposition),te&&m("showdividers")&&(m("dividercolor"),m("dividerwidth")),z==="date")if(b(v,y,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:x}),y.rangebreaks.length){for(var Q=0;Q<y.rangebreaks.length;Q++)if(y.rangebreaks[Q].pattern===d){y._hasDayOfWeekBreaks=!0;break}if(u(y,f),f._has("scattergl")||f._has("splom"))for(var $=0;$<_.data.length;$++){var G=_.data[$];G.type!=="scattergl"&&G.type!=="splom"||(G.visible=!1,a.warn(G.type+" traces do not work on axes with rangebreaks. Setting trace "+G.index+" to `visible: false`."))}}else delete y.rangebreaks;return y};var g={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function p(v){if(typeof v=="string")return g[v.substr(0,3).toLowerCase()]}},29736:function(Y,P,e){var A=e(26880),k=A.FORMAT_LINK,a=A.DATE_FORMAT_LINK;function w(h,o){return["Sets the "+h+" formatting rule"+(o?"for `"+o+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+k+"."].join(" ")}function b(h,o){return w(h,o)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}Y.exports={axisHoverFormat:function(h,o){return{valType:"string",dflt:"",editType:"none",description:(o?w:b)("hover text",h)+["By default the values are formatted using "+(o?"generic number format":"`"+h+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:w,descriptionWithDates:b}},79811:function(Y,P,e){var A=e(24040),k=e(33816);function a(w,b){if(b&&b.length){for(var h=0;h<b.length;h++)if(b[h][w])return!0}return!1}P.id2name=function(w){if(typeof w=="string"&&w.match(k.AX_ID_PATTERN)){var b=w.split(" ")[0].substr(1);return b==="1"&&(b=""),w.charAt(0)+"axis"+b}},P.name2id=function(w){if(w.match(k.AX_NAME_PATTERN)){var b=w.substr(5);return b==="1"&&(b=""),w.charAt(0)+b}},P.cleanId=function(w,b,h){var o=/( domain)$/.test(w);if(typeof w=="string"&&w.match(k.AX_ID_PATTERN)&&(!b||w.charAt(0)===b)&&(!o||h)){var t=w.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),w.charAt(0)+t+(o&&h?" domain":"")}},P.list=function(w,b,h){var o=w._fullLayout;if(!o)return[];var t,i=P.listIds(w,b),n=new Array(i.length);for(t=0;t<i.length;t++){var r=i[t];n[t]=o[r.charAt(0)+"axis"+r.substr(1)]}if(!h){var s=o._subplots.gl3d||[];for(t=0;t<s.length;t++){var l=o[s[t]];b?n.push(l[b+"axis"]):n.push(l.xaxis,l.yaxis,l.zaxis)}}return n},P.listIds=function(w,b){var h=w._fullLayout;if(!h)return[];var o=h._subplots;return b?o[b+"axis"]:o.xaxis.concat(o.yaxis)},P.getFromId=function(w,b,h){var o=w._fullLayout;return b=b===void 0||typeof b!="string"?b:b.replace(" domain",""),h==="x"?b=b.replace(/y[0-9]*/,""):h==="y"&&(b=b.replace(/x[0-9]*/,"")),o[P.id2name(b)]},P.getFromTrace=function(w,b,h){var o=w._fullLayout,t=null;if(A.traceIs(b,"gl3d")){var i=b.scene;i.substr(0,5)==="scene"&&(t=o[i][h+"axis"])}else t=P.getFromId(w,b[h+"axis"]||h);return t},P.idSort=function(w,b){var h=w.charAt(0),o=b.charAt(0);return h!==o?h>o?1:-1:+(w.substr(1)||1)-+(b.substr(1)||1)},P.ref2id=function(w){return!!/^[xyz]/.test(w)&&w.split(" ")[0]},P.isLinked=function(w,b){return a(b,w._axisMatchGroups)||a(b,w._axisConstraintGroups)}},22416:function(Y,P,e){var A=e(38116).isTypedArraySpec;Y.exports=function(k,a,w,b){if(a.type==="category"){var h,o=k.categoryarray,t=Array.isArray(o)&&o.length>0||A(o);t&&(h="array");var i,n=w("categoryorder",h);n==="array"&&(i=w("categoryarray")),t||n!=="array"||(n=a.categoryorder="trace"),n==="trace"?a._initialCategories=[]:n==="array"?a._initialCategories=i.slice():(i=function(r,s){var l,u,d,c=s.dataAttr||r._id.charAt(0),x={};if(s.axData)l=s.axData;else for(l=[],u=0;u<s.data.length;u++){var g=s.data[u];g[c+"axis"]===r._id&&l.push(g)}for(u=0;u<l.length;u++){var p=l[u][c];for(d=0;d<p.length;d++){var v=p[d];v!=null&&(x[v]=1)}}return Object.keys(x)}(a,b).sort(),n==="category ascending"?a._initialCategories=i:n==="category descending"&&(a._initialCategories=i.reverse()))}}},98728:function(Y,P,e){var A=e(38248),k=e(3400),a=e(39032),w=a.ONEDAY,b=a.ONEWEEK;P.dtick=function(h,o){var t=o==="log",i=o==="date",n=o==="category",r=i?w:1;if(!h)return r;if(A(h))return(h=Number(h))<=0?r:n?Math.max(1,Math.round(h)):i?Math.max(.1,h):h;if(typeof h!="string"||!i&&!t)return r;var s=h.charAt(0),l=h.substr(1);return(l=A(l)?Number(l):0)<=0||!(i&&s==="M"&&l===Math.round(l)||t&&s==="L"||t&&s==="D"&&(l===1||l===2))?r:h},P.tick0=function(h,o,t,i){return o==="date"?k.cleanDate(h,k.dateTick0(t,i%b==0?1:0)):i!=="D1"&&i!=="D2"?A(h)?Number(h):0:void 0}},33816:function(Y,P,e){var A=e(53756).counter;Y.exports={idRegex:{x:A("x","( domain)?"),y:A("y","( domain)?")},attrRegex:A("[xy]axis"),xAxisMatch:A("xaxis"),yAxisMatch:A("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},71888:function(Y,P,e){var A=e(3400),k=e(19280),a=e(79811).id2name,w=e(94724),b=e(21160),h=e(78344),o=e(39032).ALMOST_EQUAL,t=e(84284).FROM_BL;function i(c,x,g){var p=g.axIds,v=g.layoutOut,y=g.hasImage,m=v._axisConstraintGroups,_=v._axisMatchGroups,f=x._id,S=f.charAt(0),T=((v._splomAxes||{})[S]||{})[f]||{},E=x._id,C=E.charAt(0)==="x";function O(X,J){return A.coerce(c,x,w,X,J)}x._matchGroup=null,x._constraintGroup=null,O("constrain",y?"domain":"range"),A.coerce(c,x,{constraintoward:{valType:"enumerated",values:C?["left","center","right"]:["bottom","middle","top"],dflt:C?"center":"middle"}},"constraintoward");var I,z,U=x.type,D=[];for(I=0;I<p.length;I++)(z=p[I])!==E&&v[a(z)].type===U&&D.push(z);var B=r(m,E);if(B){var Z=[];for(I=0;I<D.length;I++)B[z=D[I]]||Z.push(z);D=Z}var F,j,V=D.length;V&&(c.matches||T.matches)&&(F=A.coerce(c,x,{matches:{valType:"enumerated",values:D,dflt:D.indexOf(T.matches)!==-1?T.matches:void 0}},"matches"));var te=y&&!C?x.anchor:void 0;if(V&&!F&&(c.scaleanchor||te)&&(j=A.coerce(c,x,{scaleanchor:{valType:"enumerated",values:D.concat([!1])}},"scaleanchor",te)),F){x._matchGroup=s(_,E,F,1);var Q=v[a(F)],$=n(v,x)/n(v,Q);C!==(F.charAt(0)==="x")&&($=(C?"x":"y")+$),s(m,E,F,$)}else c.matches&&p.indexOf(c.matches)!==-1&&A.warn("ignored "+x._name+'.matches: "'+c.matches+'" to avoid an infinite loop');if(j){var G=O("scaleratio");G||(G=x.scaleratio=1),s(m,E,j,G)}else c.scaleanchor&&p.indexOf(c.scaleanchor)!==-1&&A.warn("ignored "+x._name+'.scaleanchor: "'+c.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function n(c,x){var g=x.domain;return g||(g=c[a(x.overlaying)].domain),g[1]-g[0]}function r(c,x){for(var g=0;g<c.length;g++)if(c[g][x])return c[g];return null}function s(c,x,g,p){var v,y,m,_,f,S=r(c,x);S===null?((S={})[x]=1,f=c.length,c.push(S)):f=c.indexOf(S);var T=Object.keys(S);for(v=0;v<c.length;v++)if(m=c[v],v!==f&&m[g]){var E=m[g];for(y=0;y<T.length;y++)m[_=T[y]]=l(E,l(p,S[_]));return void c.splice(f,1)}if(p!==1)for(y=0;y<T.length;y++){var C=T[y];S[C]=l(p,S[C])}S[g]=1}function l(c,x){var g,p,v="",y="";typeof c=="string"&&(g=(v=c.match(/^[xy]*/)[0]).length,c=+c.substr(g)),typeof x=="string"&&(p=(y=x.match(/^[xy]*/)[0]).length,x=+x.substr(p));var m=c*x;return g||p?g&&p&&v.charAt(0)!==y.charAt(0)?g===p?m:(g>p?v.substr(p):y.substr(g))+m:v+y+c*x:m}function u(c,x){for(var g=x._size,p=g.h/g.w,v={},y=Object.keys(c),m=0;m<y.length;m++){var _=y[m],f=c[_];if(typeof f=="string"){var S=f.match(/^[xy]*/)[0],T=S.length;f=+f.substr(T);for(var E=S.charAt(0)==="y"?p:1/p,C=0;C<T;C++)f*=E}v[_]=f}return v}function d(c,x){var g=c._inputDomain,p=t[c.constraintoward],v=g[0]+(g[1]-g[0])*p;c.domain=c._input.domain=[v+(g[0]-v)/x,v+(g[1]-v)/x],c.setScale()}P.handleDefaults=function(c,x,g){var p,v,y,m,_,f,S,T,E=g.axIds,C=g.axHasImage,O=x._axisConstraintGroups=[],I=x._axisMatchGroups=[];for(p=0;p<E.length;p++)i(_=c[m=a(E[p])],f=x[m],{axIds:E,layoutOut:x,hasImage:C[m]});function z(Q,$){for(p=0;p<Q.length;p++)for(y in v=Q[p])x[a(y)][$]=v}for(z(I,"_matchGroup"),p=0;p<O.length;p++)for(y in v=O[p])if((f=x[a(y)]).fixedrange){for(var U in v){var D=a(U);(c[D]||{}).fixedrange===!1&&A.warn("fixedrange was specified as false for axis "+D+" but was overridden because another axis in its constraint group has fixedrange true"),x[D].fixedrange=!0}break}for(p=0;p<O.length;){for(y in v=O[p]){(f=x[a(y)])._matchGroup&&Object.keys(f._matchGroup).length===Object.keys(v).length&&(O.splice(p,1),p--);break}p++}z(O,"_constraintGroup");var B=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],Z=!1,F=!1;function j(){T=f[S],S==="rangebreaks"&&(F=f._hasDayOfWeekBreaks)}for(p=0;p<I.length;p++){v=I[p];for(var V=0;V<B.length;V++){var te;for(y in S=B[V],T=null,v)if(_=c[m=a(y)],f=x[m],S in f){if(!f.matches&&(te=f,S in _)){j();break}T===null&&S in _&&j()}if(S==="range"&&T&&_.range&&_.range.length===2&&_.range[0]!==null&&_.range[1]!==null&&(Z=!0),S==="autorange"&&T===null&&Z&&(T=!1),T===null&&S in te&&(T=te[S]),T!==null)for(y in v)(f=x[a(y)])[S]=S==="range"?T.slice():T,S==="rangebreaks"&&(f._hasDayOfWeekBreaks=F,h(f,x))}}},P.enforce=function(c){var x,g,p,v,y,m,_,f,S=c._fullLayout,T=S._axisConstraintGroups||[];for(x=0;x<T.length;x++){p=u(T[x],S);var E=Object.keys(p),C=1/0,O=0,I=1/0,z={},U={},D=!1;for(g=0;g<E.length;g++)U[v=E[g]]=y=S[a(v)],y._inputDomain?y.domain=y._inputDomain.slice():y._inputDomain=y.domain.slice(),y._inputRange||(y._inputRange=y.range.slice()),y.setScale(),z[v]=m=Math.abs(y._m)/p[v],C=Math.min(C,m),y.constrain!=="domain"&&y._constraintShrinkable||(I=Math.min(I,m)),delete y._constraintShrinkable,O=Math.max(O,m),y.constrain==="domain"&&(D=!0);if(!(C>o*O)||D){for(g=0;g<E.length;g++)if(m=z[v=E[g]],_=(y=U[v]).constrain,m!==I||_==="domain")if(f=m/I,_==="range")b(y,f);else{var B=y._inputDomain,Z=(y.domain[1]-y.domain[0])/(B[1]-B[0]),F=(y.r2l(y.range[1])-y.r2l(y.range[0]))/(y.r2l(y._inputRange[1])-y.r2l(y._inputRange[0]));if((f/=Z)*F<1){y.domain=y._input.domain=B.slice(),b(y,f);continue}if(F<1&&(y.range=y._input.range=y._inputRange.slice(),f*=F),y.autorange){var j=y.r2l(y.range[0]),V=y.r2l(y.range[1]),te=(j+V)/2,Q=te,$=te,G=Math.abs(V-te),X=te-G*f*1.0001,J=te+G*f*1.0001,ne=k.makePadFn(S,y,0),ie=k.makePadFn(S,y,1);d(y,f);var ae,le,ce=Math.abs(y._m),pe=k.concatExtremes(c,y),ge=pe.min,me=pe.max;for(le=0;le<ge.length;le++)(ae=ge[le].val-ne(ge[le])/ce)>X&&ae<Q&&(Q=ae);for(le=0;le<me.length;le++)(ae=me[le].val+ie(me[le])/ce)<J&&ae>$&&($=ae);f/=($-Q)/(2*G),Q=y.l2r(Q),$=y.l2r($),y.range=y._input.range=j<V?[Q,$]:[$,Q]}d(y,f)}}}},P.getAxisGroup=function(c,x){for(var g=c._axisMatchGroups,p=0;p<g.length;p++)if(g[p][x])return"g"+p;return x},P.clean=function(c,x){if(x._inputDomain){for(var g=!1,p=x._id,v=c._fullLayout._axisConstraintGroups,y=0;y<v.length;y++)if(v[y][p]){g=!0;break}g&&x.constrain==="domain"||(x._input.domain=x.domain=x._inputDomain,delete x._inputDomain)}}},51184:function(Y,P,e){var A=e(33428),k=e(3400),a=k.numberFormat,w=e(49760),b=e(89184),h=e(24040),o=k.strTranslate,t=e(72736),i=e(76308),n=e(43616),r=e(93024),s=e(54460),l=e(93972),u=e(86476),d=e(72760),c=d.selectingOrDrawing,x=d.freeMode,g=e(84284).FROM_TL,p=e(73696),v=e(39172).redrawReglTraces,y=e(7316),m=e(79811).getFromId,_=e(22676).prepSelect,f=e(22676).clearOutline,S=e(22676).selectOnClick,T=e(21160),E=e(33816),C=E.MINDRAG,O=E.MINZOOM,I=!0;function z(ae,le,ce,pe){var ge=k.ensureSingle(ae.draglayer,le,ce,function(me){me.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ae.id)});return ge.call(l,pe),ge.node()}function U(ae,le,ce,pe,ge,me,ve){var Me=z(ae,"rect",le,ce);return A.select(Me).call(n.setRect,pe,ge,me,ve),Me}function D(ae,le){for(var ce=0;ce<ae.length;ce++)if(!ae[ce].fixedrange)return le;return""}function B(ae,le,ce,pe,ge){for(var me=0;me<ae.length;me++){var ve=ae[me];if(!ve.fixedrange)if(ve.rangebreaks){var Me=ve._id.charAt(0)==="y",_e=Me?1-le:le,we=Me?1-ce:ce;pe[ve._name+".range[0]"]=ve.l2r(ve.p2l(_e*ve._length)),pe[ve._name+".range[1]"]=ve.l2r(ve.p2l(we*ve._length))}else{var oe=ve._rl[0],se=ve._rl[1]-oe;pe[ve._name+".range[0]"]=ve.l2r(oe+se*le),pe[ve._name+".range[1]"]=ve.l2r(oe+se*ce)}}if(ge&&ge.length){var de=(le+(1-ce))/2;B(ge,de,1-de,pe,[])}}function Z(ae,le){for(var ce=0;ce<ae.length;ce++){var pe=ae[ce];if(!pe.fixedrange){if(pe.rangebreaks){var ge=pe._length,me=(pe.p2l(0+le)-pe.p2l(0)+(pe.p2l(ge+le)-pe.p2l(ge)))/2;pe.range=[pe.l2r(pe._rl[0]-me),pe.l2r(pe._rl[1]-me)]}else pe.range=[pe.l2r(pe._rl[0]-le/pe._m),pe.l2r(pe._rl[1]-le/pe._m)];pe.limitRange&&pe.limitRange()}}}function F(ae){return 1-(ae>=0?Math.min(ae,.9):1/(1/Math.max(ae,-.3)+3.222))}function j(ae,le,ce,pe,ge){return ae.append("path").attr("class","zoombox").style({fill:le>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",o(ce,pe)).attr("d",ge+"Z")}function V(ae,le,ce){return ae.append("path").attr("class","zoombox-corners").style({fill:i.background,stroke:i.defaultLine,"stroke-width":1,opacity:0}).attr("transform",o(le,ce)).attr("d","M0,0Z")}function te(ae,le,ce,pe,ge,me){ae.attr("d",pe+"M"+ce.l+","+ce.t+"v"+ce.h+"h"+ce.w+"v-"+ce.h+"h-"+ce.w+"Z"),Q(ae,le,ge,me)}function Q(ae,le,ce,pe){ce||(ae.transition().style("fill",pe>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),le.transition().style("opacity",1).duration(200))}function $(ae){A.select(ae).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function G(ae){I&&ae.data&&ae._context.showTips&&(k.notifier(k._(ae,"Double-click to zoom back out"),"long"),I=!1)}function X(ae){var le=Math.floor(Math.min(ae.b-ae.t,ae.r-ae.l,O)/2);return"M"+(ae.l-3.5)+","+(ae.t-.5+le)+"h3v"+-le+"h"+le+"v-3h-"+(le+3)+"ZM"+(ae.r+3.5)+","+(ae.t-.5+le)+"h-3v"+-le+"h"+-le+"v-3h"+(le+3)+"ZM"+(ae.r+3.5)+","+(ae.b+.5-le)+"h-3v"+le+"h"+-le+"v3h"+(le+3)+"ZM"+(ae.l-3.5)+","+(ae.b+.5-le)+"h3v"+le+"h"+le+"v3h-"+(le+3)+"Z"}function J(ae,le,ce,pe,ge){for(var me,ve,Me,_e,we=!1,oe={},se={},de=(ge||{}).xaHash,Ee=(ge||{}).yaHash,Te=0;Te<le.length;Te++){var Se=le[Te];for(me in ce)if(Se[me]){for(Me in Se)ge&&(de[Me]||Ee[Me])||(Me.charAt(0)==="x"?ce:pe)[Me]||(oe[Me]=me);for(ve in pe)ge&&(de[ve]||Ee[ve])||!Se[ve]||(we=!0)}for(ve in pe)if(Se[ve])for(_e in Se)ge&&(de[_e]||Ee[_e])||(_e.charAt(0)==="x"?ce:pe)[_e]||(se[_e]=ve)}we&&(k.extendFlat(oe,se),se={});var Le={},Oe=[];for(Me in oe){var he=m(ae,Me);Oe.push(he),Le[he._id]=he}var xe={},ke=[];for(_e in se){var Re=m(ae,_e);ke.push(Re),xe[Re._id]=Re}return{xaHash:Le,yaHash:xe,xaxes:Oe,yaxes:ke,xLinks:oe,yLinks:se,isSubplotConstrained:we}}function ne(ae,le){if(b){var ce=ae.onwheel!==void 0?"wheel":"mousewheel";ae._onwheel&&ae.removeEventListener(ce,ae._onwheel),ae._onwheel=le,ae.addEventListener(ce,le,{passive:!1})}else ae.onwheel!==void 0?ae.onwheel=le:ae.onmousewheel!==void 0?ae.onmousewheel=le:ae.isAddedWheelEvent||(ae.isAddedWheelEvent=!0,ae.addEventListener("wheel",le,{passive:!1}))}function ie(ae){var le=[];for(var ce in ae)le.push(ae[ce]);return le}Y.exports={makeDragBox:function(ae,le,ce,pe,ge,me,ve,Me){var _e,we,oe,se,de,Ee,Te,Se,Le,Oe,he,xe,ke,Re,ze,Ie,He,qe,Je,st,it,vt,_t,xt=ae._fullLayout._zoomlayer,et=ve+Me==="nsew",nt=(ve+Me).length===1;function Mt(){if(_e=le.xaxis,we=le.yaxis,Le=_e._length,Oe=we._length,Te=_e._offset,Se=we._offset,(oe={})[_e._id]=_e,(se={})[we._id]=we,ve&&Me)for(var Jt=le.overlays,un=0;un<Jt.length;un++){var rn=Jt[un].xaxis;oe[rn._id]=rn;var hn=Jt[un].yaxis;se[hn._id]=hn}de=ie(oe),Ee=ie(se),ke=D(de,Me),Re=D(Ee,ve),ze=!Re&&!ke,xe=J(ae,ae._fullLayout._axisMatchGroups,oe,se);var kn=(he=J(ae,ae._fullLayout._axisConstraintGroups,oe,se,xe)).isSubplotConstrained||xe.isSubplotConstrained;Ie=Me||kn,He=ve||kn;var Ln=ae._fullLayout;qe=Ln._has("scattergl"),Je=Ln._has("splom"),st=Ln._has("svg")}ce+=le.yaxis._shift,Mt();var zt=function(Jt,un,rn){return Jt?Jt==="nsew"?rn?"":un==="pan"?"move":"crosshair":Jt.toLowerCase()+"-resize":"pointer"}(Re+ke,ae._fullLayout.dragmode,et),Ft=U(le,ve+Me+"drag",zt,ce,pe,ge,me);if(ze&&!et)return Ft.onmousedown=null,Ft.style.pointerEvents="none",Ft;var Rt,We,Ze,Ne,Ye,lt,at,Fe,Be,ot,Xe={element:Ft,gd:ae,plotinfo:le};function pt(){Xe.plotinfo.selection=!1,f(ae)}function mt(Jt,un){var rn=Xe.gd;if(rn._fullLayout._activeShapeIndex>=0)rn._fullLayout._deactivateShape(rn);else{var hn=rn._fullLayout.clickmode;if($(rn),Jt!==2||nt||qt(),et)hn.indexOf("select")>-1&&S(un,rn,de,Ee,le.id,Xe),hn.indexOf("event")>-1&&r.click(rn,un,le.id);else if(Jt===1&&nt){var kn=ve?we:_e,Ln=ve==="s"||Me==="w"?0:1,Dn=kn._name+".range["+Ln+"]",zn=function(jn,ar){var ur,cr=jn.range[ar],er=Math.abs(cr-jn.range[1-ar]);return jn.type==="date"?cr:jn.type==="log"?(ur=Math.ceil(Math.max(0,-Math.log(er)/Math.LN10))+3,a("."+ur+"g")(Math.pow(10,cr))):(ur=Math.floor(Math.log(Math.abs(cr))/Math.LN10)-Math.floor(Math.log(er)/Math.LN10)+4,a("."+String(ur)+"g")(cr))}(kn,Ln),On="left",Hn="middle";if(kn.fixedrange)return;ve?(Hn=ve==="n"?"top":"bottom",kn.side==="right"&&(On="right")):Me==="e"&&(On="right"),rn._context.showAxisRangeEntryBoxes&&A.select(Ft).call(t.makeEditable,{gd:rn,immediate:!0,background:rn._fullLayout.paper_bgcolor,text:String(zn),fill:kn.tickfont?kn.tickfont.color:"#444",horizontalAlign:On,verticalAlign:Hn}).on("edit",function(jn){var ar=kn.d2r(jn);ar!==void 0&&h.call("_guiRelayout",rn,Dn,ar)})}}}function yt(Jt,un){if(ae._transitioningWithDuration)return!1;var rn=Math.max(0,Math.min(Le,vt*Jt+Rt)),hn=Math.max(0,Math.min(Oe,_t*un+We)),kn=Math.abs(rn-Rt),Ln=Math.abs(hn-We);function Dn(){at="",Ze.r=Ze.l,Ze.t=Ze.b,Be.attr("d","M0,0Z")}if(Ze.l=Math.min(Rt,rn),Ze.r=Math.max(Rt,rn),Ze.t=Math.min(We,hn),Ze.b=Math.max(We,hn),he.isSubplotConstrained)kn>O||Ln>O?(at="xy",kn/Le>Ln/Oe?(Ln=kn*Oe/Le,We>hn?Ze.t=We-Ln:Ze.b=We+Ln):(kn=Ln*Le/Oe,Rt>rn?Ze.l=Rt-kn:Ze.r=Rt+kn),Be.attr("d",X(Ze))):Dn();else if(xe.isSubplotConstrained)if(kn>O||Ln>O){at="xy";var zn=Math.min(Ze.l/Le,(Oe-Ze.b)/Oe),On=Math.max(Ze.r/Le,(Oe-Ze.t)/Oe);Ze.l=zn*Le,Ze.r=On*Le,Ze.b=(1-zn)*Oe,Ze.t=(1-On)*Oe,Be.attr("d",X(Ze))}else Dn();else!Re||Ln<Math.min(Math.max(.6*kn,C),O)?kn<C||!ke?Dn():(Ze.t=0,Ze.b=Oe,at="x",Be.attr("d",function(Hn,jn){return"M"+(Hn.l-.5)+","+(jn-O-.5)+"h-3v"+(2*O+1)+"h3ZM"+(Hn.r+.5)+","+(jn-O-.5)+"h3v"+(2*O+1)+"h-3Z"}(Ze,We))):!ke||kn<Math.min(.6*Ln,O)?(Ze.l=0,Ze.r=Le,at="y",Be.attr("d",function(Hn,jn){return"M"+(jn-O-.5)+","+(Hn.t-.5)+"v-3h"+(2*O+1)+"v3ZM"+(jn-O-.5)+","+(Hn.b+.5)+"v3h"+(2*O+1)+"v-3Z"}(Ze,Rt))):(at="xy",Be.attr("d",X(Ze)));Ze.w=Ze.r-Ze.l,Ze.h=Ze.b-Ze.t,at&&(ot=!0),ae._dragged=ot,te(Fe,Be,Ze,Ye,lt,Ne),ht(),ae.emit("plotly_relayouting",it),lt=!0}function ht(){it={},at!=="xy"&&at!=="x"||(B(de,Ze.l/Le,Ze.r/Le,it,he.xaxes),Kt("x",it)),at!=="xy"&&at!=="y"||(B(Ee,(Oe-Ze.b)/Oe,(Oe-Ze.t)/Oe,it,he.yaxes),Kt("y",it))}function Lt(){ht(),$(ae),Wt(),G(ae)}Xe.prepFn=function(Jt,un,rn){var hn=Xe.dragmode,kn=ae._fullLayout.dragmode;kn!==hn&&(Xe.dragmode=kn),Mt(),vt=ae._fullLayout._invScaleX,_t=ae._fullLayout._invScaleY,ze||(et?Jt.shiftKey?kn==="pan"?kn="zoom":c(kn)||(kn="pan"):Jt.ctrlKey&&(kn="pan"):kn="pan"),x(kn)?Xe.minDrag=1:Xe.minDrag=void 0,c(kn)?(Xe.xaxes=de,Xe.yaxes=Ee,_(Jt,un,rn,Xe,kn)):(Xe.clickFn=mt,c(hn)&&pt(),ze||(kn==="zoom"?(Xe.moveFn=yt,Xe.doneFn=Lt,Xe.minDrag=1,function(Ln,Dn,zn){var On=Ft.getBoundingClientRect();Rt=Dn-On.left,We=zn-On.top,ae._fullLayout._calcInverseTransform(ae);var Hn=k.apply3DTransform(ae._fullLayout._invTransform)(Rt,We);Rt=Hn[0],We=Hn[1],Ze={l:Rt,r:Rt,w:0,t:We,b:We,h:0},Ne=ae._hmpixcount?ae._hmlumcount/ae._hmpixcount:w(ae._fullLayout.plot_bgcolor).getLuminance(),lt=!1,at="xy",ot=!1,Fe=j(xt,Ne,Te,Se,Ye="M0,0H"+Le+"V"+Oe+"H0V0"),Be=V(xt,Te,Se)}(0,un,rn)):kn==="pan"&&(Xe.moveFn=Bt,Xe.doneFn=Wt))),ae._fullLayout._redrag=function(){var Ln=ae._dragdata;if(Ln&&Ln.element===Ft){var Dn=ae._fullLayout.dragmode;c(Dn)||(Mt(),nn([0,0,Le,Oe]),Xe.moveFn(Ln.dx,Ln.dy))}}},u.init(Xe);var Tt=[0,0,Le,Oe],bt=null,Pt=E.REDRAWDELAY,Ot=le.mainplot?ae._fullLayout._plots[le.mainplot]:le;function Bt(Jt,un){if(Jt*=vt,un*=_t,!ae._transitioningWithDuration){if(ae._fullLayout._replotting=!0,ke==="ew"||Re==="ns"){var rn=ke?-Jt:0,hn=Re?-un:0;if(xe.isSubplotConstrained){if(ke&&Re){var kn=(Jt/Le-un/Oe)/2;rn=-(Jt=kn*Le),hn=-(un=-kn*Oe)}Re?rn=-hn*Le/Oe:hn=-rn*Oe/Le}return ke&&(Z(de,Jt),Kt("x")),Re&&(Z(Ee,un),Kt("y")),nn([rn,hn,Le,Oe]),on(),void ae.emit("plotly_relayouting",it)}var Ln,Dn,zn=ke==="w"==(Re==="n")?1:-1;if(ke&&Re&&(he.isSubplotConstrained||xe.isSubplotConstrained)){var On=(Jt/Le+zn*un/Oe)/2;Jt=On*Le,un=zn*On*Oe}if(ke==="w"?Jt=ur(de,0,Jt):ke==="e"?Jt=ur(de,1,-Jt):ke||(Jt=0),Re==="n"?un=ur(Ee,1,un):Re==="s"?un=ur(Ee,0,-un):Re||(un=0),Ln=ke==="w"?Jt:0,Dn=Re==="n"?un:0,he.isSubplotConstrained&&!xe.isSubplotConstrained||xe.isSubplotConstrained&&ke&&Re&&zn>0){var Hn;if(xe.isSubplotConstrained||!ke&&Re.length===1){for(Hn=0;Hn<de.length;Hn++)de[Hn].range=de[Hn]._r.slice(),T(de[Hn],1-un/Oe);Ln=(Jt=un*Le/Oe)/2}if(xe.isSubplotConstrained||!Re&&ke.length===1){for(Hn=0;Hn<Ee.length;Hn++)Ee[Hn].range=Ee[Hn]._r.slice(),T(Ee[Hn],1-Jt/Le);Dn=(un=Jt*Oe/Le)/2}}xe.isSubplotConstrained&&Re||Kt("x"),xe.isSubplotConstrained&&ke||Kt("y");var jn=Le-Jt,ar=Oe-un;!xe.isSubplotConstrained||ke&&Re||(ke?(Dn=Ln?0:Jt*Oe/Le,ar=jn*Oe/Le):(Ln=Dn?0:un*Le/Oe,jn=ar*Le/Oe)),nn([Ln,Dn,jn,ar]),on(),ae.emit("plotly_relayouting",it)}function ur(cr,er,Tr){for(var Ht,an,_n=1-er,vn=0;vn<cr.length;vn++){var Cn=cr[vn];if(!Cn.fixedrange){Ht=Cn,an=Cn._rl[_n]+(Cn._rl[er]-Cn._rl[_n])/F(Tr/Cn._length);var Gn=Cn.l2r(an);Gn!==!1&&Gn!==void 0&&(Cn.range[er]=Gn)}}return Ht._length*(Ht._rl[er]-an)/(Ht._rl[er]-Ht._rl[_n])}}function Kt(Jt,un){for(var rn=xe.isSubplotConstrained?{x:Ee,y:de}[Jt]:xe[Jt+"axes"],hn=xe.isSubplotConstrained?{x:de,y:Ee}[Jt]:[],kn=0;kn<rn.length;kn++){var Ln=rn[kn],Dn=Ln._id,zn=xe.xLinks[Dn]||xe.yLinks[Dn],On=hn[0]||oe[zn]||se[zn];On&&(un?(un[Ln._name+".range[0]"]=un[On._name+".range[0]"],un[Ln._name+".range[1]"]=un[On._name+".range[1]"]):Ln.range=On.range.slice())}}function on(){var Jt,un=[];function rn(Dn){for(Jt=0;Jt<Dn.length;Jt++)Dn[Jt].fixedrange||un.push(Dn[Jt]._id)}function hn(Dn,zn){for(Jt=0;Jt<Dn.length;Jt++){var On=Dn[Jt],Hn=On[zn];On.fixedrange||Hn.tickmode!=="sync"||un.push(Hn._id)}}for(Ie&&(rn(de),rn(he.xaxes),rn(xe.xaxes),hn(le.overlays,"xaxis")),He&&(rn(Ee),rn(he.yaxes),rn(xe.yaxes),hn(le.overlays,"yaxis")),it={},Jt=0;Jt<un.length;Jt++){var kn=un[Jt],Ln=m(ae,kn);s.drawOne(ae,Ln,{skipTitle:!0}),it[Ln._name+".range[0]"]=Ln.range[0],it[Ln._name+".range[1]"]=Ln.range[1]}s.redrawComponents(ae,un)}function qt(){if(!ae._transitioningWithDuration){var Jt=ae._context.doubleClick,un=[];ke&&(un=un.concat(de)),Re&&(un=un.concat(Ee)),xe.xaxes&&(un=un.concat(xe.xaxes)),xe.yaxes&&(un=un.concat(xe.yaxes));var rn,hn,kn={};if(Jt==="reset+autosize")for(Jt="autosize",hn=0;hn<un.length;hn++){var Ln=(rn=un[hn])._rangeInitial0,Dn=rn._rangeInitial1,zn=Ln!==void 0||Dn!==void 0;if(zn&&(Ln!==void 0&&Ln!==rn.range[0]||Dn!==void 0&&Dn!==rn.range[1])||!zn&&rn.autorange!==!0){Jt="reset";break}}if(Jt==="autosize")for(hn=0;hn<un.length;hn++)(rn=un[hn]).fixedrange||(kn[rn._name+".autorange"]=!0);else if(Jt==="reset"){for((ke||he.isSubplotConstrained)&&(un=un.concat(he.xaxes)),Re&&!he.isSubplotConstrained&&(un=un.concat(he.yaxes)),he.isSubplotConstrained&&(ke?Re||(un=un.concat(Ee)):un=un.concat(de)),hn=0;hn<un.length;hn++)if(!(rn=un[hn]).fixedrange){var On=rn._name,Hn=rn._autorangeInitial;rn._rangeInitial0===void 0&&rn._rangeInitial1===void 0?kn[On+".autorange"]=!0:rn._rangeInitial0===void 0?(kn[On+".autorange"]=Hn,kn[On+".range"]=[null,rn._rangeInitial1]):rn._rangeInitial1===void 0?(kn[On+".range"]=[rn._rangeInitial0,null],kn[On+".autorange"]=Hn):kn[On+".range"]=[rn._rangeInitial0,rn._rangeInitial1]}}ae.emit("plotly_doubleclick",null),h.call("_guiRelayout",ae,kn)}}function Wt(){nn([0,0,Le,Oe]),k.syncOrAsync([y.previousPromises,function(){ae._fullLayout._replotting=!1,h.call("_guiRelayout",ae,it)}],ae)}function nn(Jt){var un,rn,hn,kn,Ln=ae._fullLayout,Dn=Ln._plots,zn=Ln._subplots.cartesian;if(Je&&h.subplotsRegistry.splom.drag(ae),qe){for(un=0;un<zn.length;un++)if(hn=(rn=Dn[zn[un]]).xaxis,kn=rn.yaxis,rn._scene){var On=k.simpleMap(hn.range,hn.r2l),Hn=k.simpleMap(kn.range,kn.r2l);hn.limitRange&&hn.limitRange(),kn.limitRange&&kn.limitRange(),On=hn.range,Hn=kn.range,rn._scene.update({range:[On[0],Hn[0],On[1],Hn[1]]})}}if((Je||qe)&&(p(ae),v(ae)),st){var jn=Jt[2]/_e._length,ar=Jt[3]/we._length;for(un=0;un<zn.length;un++){hn=(rn=Dn[zn[un]]).xaxis,kn=rn.yaxis;var ur,cr,er,Tr,Ht=(Ie||xe.isSubplotConstrained)&&!hn.fixedrange&&oe[hn._id],an=(He||xe.isSubplotConstrained)&&!kn.fixedrange&&se[kn._id];if(Ht?(ur=jn,er=Me||xe.isSubplotConstrained?Jt[0]:dn(hn,ur)):xe.xaHash[hn._id]?(ur=jn,er=Jt[0]*hn._length/_e._length):xe.yaHash[hn._id]?(ur=ar,er=Re==="ns"?-Jt[1]*hn._length/we._length:dn(hn,ur,{n:"top",s:"bottom"}[Re])):er=Mn(hn,ur=En(hn,jn,ar)),ur>1&&(hn.maxallowed!==void 0&&Ie===(hn.range[0]<hn.range[1]?"e":"w")||hn.minallowed!==void 0&&Ie===(hn.range[0]<hn.range[1]?"w":"e"))&&(ur=1,er=0),an?(cr=ar,Tr=ve||xe.isSubplotConstrained?Jt[1]:dn(kn,cr)):xe.yaHash[kn._id]?(cr=ar,Tr=Jt[1]*kn._length/we._length):xe.xaHash[kn._id]?(cr=jn,Tr=ke==="ew"?-Jt[0]*kn._length/_e._length:dn(kn,cr,{e:"right",w:"left"}[ke])):Tr=Mn(kn,cr=En(kn,jn,ar)),cr>1&&(kn.maxallowed!==void 0&&He===(kn.range[0]<kn.range[1]?"n":"s")||kn.minallowed!==void 0&&He===(kn.range[0]<kn.range[1]?"s":"n"))&&(cr=1,Tr=0),ur||cr){ur||(ur=1),cr||(cr=1);var _n=hn._offset-er/ur,vn=kn._offset-Tr/cr;rn.clipRect.call(n.setTranslate,er,Tr).call(n.setScale,ur,cr),rn.plot.call(n.setTranslate,_n,vn).call(n.setScale,1/ur,1/cr),ur===rn.xScaleFactor&&cr===rn.yScaleFactor||(n.setPointGroupScale(rn.zoomScalePts,ur,cr),n.setTextPointsScale(rn.zoomScaleTxt,ur,cr)),n.hideOutsideRangePoints(rn.clipOnAxisFalseTraces,rn),rn.xScaleFactor=ur,rn.yScaleFactor=cr}}}}function En(Jt,un,rn){return Jt.fixedrange?0:Ie&&he.xaHash[Jt._id]?un:He&&(he.isSubplotConstrained?he.xaHash:he.yaHash)[Jt._id]?rn:0}function Mn(Jt,un){return un?(Jt.range=Jt._r.slice(),T(Jt,un),dn(Jt,un)):0}function dn(Jt,un,rn){return Jt._length*(1-un)*g[rn||Jt.constraintoward||"middle"]}return ve.length*Me.length!=1&&ne(Ft,function(Jt){if(ae._context._scrollZoom.cartesian||ae._fullLayout._enablescrollzoom){if(pt(),ae._transitioningWithDuration)return Jt.preventDefault(),void Jt.stopPropagation();Mt(),clearTimeout(bt);var un=-Jt.deltaY;if(isFinite(un)||(un=Jt.wheelDelta/10),isFinite(un)){var rn,hn=Math.exp(-Math.min(Math.max(un,-20),20)/200),kn=Ot.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Ln=(Jt.clientX-kn.left)/kn.width,Dn=(kn.bottom-Jt.clientY)/kn.height;if(Ie){for(Me||(Ln=.5),rn=0;rn<de.length;rn++)zn(de[rn],Ln,hn);Kt("x"),Tt[2]*=hn,Tt[0]+=Tt[2]*Ln*(1/hn-1)}if(He){for(ve||(Dn=.5),rn=0;rn<Ee.length;rn++)zn(Ee[rn],Dn,hn);Kt("y"),Tt[3]*=hn,Tt[1]+=Tt[3]*(1-Dn)*(1/hn-1)}nn(Tt),on(),ae.emit("plotly_relayouting",it),bt=setTimeout(function(){ae._fullLayout&&(Tt=[0,0,Le,Oe],Wt())},Pt),Jt.preventDefault()}else k.log("Did not find wheel motion attributes: ",Jt)}function zn(On,Hn,jn){if(!On.fixedrange){var ar=k.simpleMap(On.range,On.r2l),ur=ar[0]+(ar[1]-ar[0])*Hn;On.range=ar.map(function(cr){return On.l2r(ur+(cr-ur)*jn)})}}}),Ft},makeDragger:z,makeRectDragger:U,makeZoombox:j,makeCorners:V,updateZoombox:te,xyCorners:X,transitionZoombox:Q,removeZoombox:$,showDoubleClickNotifier:G,attachWheelEventHandler:ne}},42464:function(Y,P,e){var A=e(33428),k=e(93024),a=e(86476),w=e(93972),b=e(51184).makeDragBox,h=e(33816).DRAGGERSIZE;P.initInteractions=function(o){var t=o._fullLayout;if(o._context.staticPlot)A.select(o).selectAll(".drag").remove();else if(t._has("cartesian")||t._has("splom")){Object.keys(t._plots||{}).sort(function(n,r){if((t._plots[n].mainplot&&!0)===(t._plots[r].mainplot&&!0)){var s=n.split("y"),l=r.split("y");return s[0]===l[0]?Number(s[1]||1)-Number(l[1]||1):Number(s[0]||1)-Number(l[0]||1)}return t._plots[n].mainplot?1:-1}).forEach(function(n){var r=t._plots[n],s=r.xaxis,l=r.yaxis;if(!r.mainplot){var u=b(o,r,s._offset,l._offset,s._length,l._length,"ns","ew");u.onmousemove=function(x){o._fullLayout._rehover=function(){o._fullLayout._hoversubplot===n&&o._fullLayout._plots[n]&&k.hover(o,x,n)},k.hover(o,x,n),o._fullLayout._lasthover=u,o._fullLayout._hoversubplot=n},u.onmouseout=function(x){o._dragging||(o._fullLayout._hoversubplot=null,a.unhover(o,x))},o._context.showAxisDragHandles&&(b(o,r,s._offset-h,l._offset-h,h,h,"n","w"),b(o,r,s._offset+s._length,l._offset-h,h,h,"n","e"),b(o,r,s._offset-h,l._offset+l._length,h,h,"s","w"),b(o,r,s._offset+s._length,l._offset+l._length,h,h,"s","e"))}if(o._context.showAxisDragHandles){if(n===s._mainSubplot){var d=s._mainLinePosition;s.side==="top"&&(d-=h),b(o,r,s._offset+.1*s._length,d,.8*s._length,h,"","ew"),b(o,r,s._offset,d,.1*s._length,h,"","w"),b(o,r,s._offset+.9*s._length,d,.1*s._length,h,"","e")}if(n===l._mainSubplot){var c=l._mainLinePosition;l.side!=="right"&&(c-=h),b(o,r,c,l._offset+.1*l._length,h,.8*l._length,"ns",""),b(o,r,c,l._offset+.9*l._length,h,.1*l._length,"s",""),b(o,r,c,l._offset,h,.1*l._length,"n","")}}});var i=t._hoverlayer.node();i.onmousemove=function(n){n.target=o._fullLayout._lasthover,k.hover(o,n,t._hoversubplot)},i.onclick=function(n){n.target=o._fullLayout._lasthover,k.click(o,n)},i.onmousedown=function(n){o._fullLayout._lasthover.onmousedown(n)},P.updateFx(o)}},P.updateFx=function(o){var t=o._fullLayout,i=t.dragmode==="pan"?"move":"crosshair";w(t._draggers,i)}},36632:function(Y,P,e){var A=e(24040),k=e(3400),a=e(79811);Y.exports=function(w){return function(b,h){var o=b[w];if(Array.isArray(o))for(var t=A.subplotsRegistry.cartesian,i=t.idRegex,n=h._subplots,r=n.xaxis,s=n.yaxis,l=n.cartesian,u=h._has("cartesian")||h._has("gl2d"),d=0;d<o.length;d++){var c=o[d];if(k.isPlainObject(c)){var x=a.cleanId(c.xref,"x",!1),g=a.cleanId(c.yref,"y",!1),p=i.x.test(x),v=i.y.test(g);if(p||v){u||k.pushUnique(h._basePlotModules,t);var y=!1;p&&r.indexOf(x)===-1&&(r.push(x),y=!0),v&&s.indexOf(g)===-1&&(s.push(g),y=!0),y&&p&&v&&l.push(x+g)}}}}}},57952:function(Y,P,e){var A=e(33428),k=e(24040),a=e(3400),w=e(7316),b=e(43616),h=e(84888)._M,o=e(79811),t=e(33816),i=e(9616),n=a.ensureSingle;function r(c,x,g){return a.ensureSingle(c,x,g,function(p){p.datum(g)})}function s(c,x,g,p,v){for(var y,m,_,f=t.traceLayerClasses,S=c._fullLayout,T=S._modules,E=[],C=[],O=0;O<T.length;O++){var I=(y=T[O]).name,z=k.modules[I].categories;if(z.svg){var U=y.layerName||I+"layer",D=y.plot;_=(m=h(g,D))[0],g=m[1],_.length&&E.push({i:f.indexOf(U),className:U,plotMethod:D,cdModule:_}),z.zoomScale&&C.push("."+U)}}E.sort(function(F,j){return F.i-j.i});var B=x.plot.selectAll("g.mlayer").data(E,function(F){return F.className});if(B.enter().append("g").attr("class",function(F){return F.className}).classed("mlayer",!0).classed("rangeplot",x.isRangePlot),B.exit().remove(),B.order(),B.each(function(F){var j=A.select(this),V=F.className;F.plotMethod(c,x,F.cdModule,j,p,v),t.clipOnAxisFalseQuery.indexOf("."+V)===-1&&b.setClipUrl(j,x.layerClipId,c)}),S._has("scattergl")&&(y=k.getModule("scattergl"),_=h(g,y)[0],y.plot(c,x,_)),!c._context.staticPlot&&(x._hasClipOnAxisFalse&&(x.clipOnAxisFalseTraces=x.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),C.length)){var Z=x.plot.selectAll(C.join(",")).selectAll(".trace");x.zoomScalePts=Z.selectAll("path.point"),x.zoomScaleTxt=Z.selectAll(".textpoint")}}function l(c,x){var g=x.plotgroup,p=x.id,v=t.layerValue2layerClass[x.xaxis.layer],y=t.layerValue2layerClass[x.yaxis.layer],m=c._fullLayout._hasOnlyLargeSploms;if(x.mainplot){var _=x.mainplotinfo,f=_.plotgroup,S=p+"-x",T=p+"-y";x.minorGridlayer=_.minorGridlayer,x.gridlayer=_.gridlayer,x.zerolinelayer=_.zerolinelayer,n(_.overlinesBelow,"path",S),n(_.overlinesBelow,"path",T),n(_.overaxesBelow,"g",S),n(_.overaxesBelow,"g",T),x.plot=n(_.overplot,"g",p),n(_.overlinesAbove,"path",S),n(_.overlinesAbove,"path",T),n(_.overaxesAbove,"g",S),n(_.overaxesAbove,"g",T),x.xlines=f.select(".overlines-"+v).select("."+S),x.ylines=f.select(".overlines-"+y).select("."+T),x.xaxislayer=f.select(".overaxes-"+v).select("."+S),x.yaxislayer=f.select(".overaxes-"+y).select("."+T)}else if(m)x.xlines=n(g,"path","xlines-above"),x.ylines=n(g,"path","ylines-above"),x.xaxislayer=n(g,"g","xaxislayer-above"),x.yaxislayer=n(g,"g","yaxislayer-above");else{var E=n(g,"g","layer-subplot");x.shapelayer=n(E,"g","shapelayer"),x.imagelayer=n(E,"g","imagelayer"),x.minorGridlayer=n(g,"g","minor-gridlayer"),x.gridlayer=n(g,"g","gridlayer"),x.zerolinelayer=n(g,"g","zerolinelayer"),n(g,"path","xlines-below"),n(g,"path","ylines-below"),x.overlinesBelow=n(g,"g","overlines-below"),n(g,"g","xaxislayer-below"),n(g,"g","yaxislayer-below"),x.overaxesBelow=n(g,"g","overaxes-below"),x.plot=n(g,"g","plot"),x.overplot=n(g,"g","overplot"),x.xlines=n(g,"path","xlines-above"),x.ylines=n(g,"path","ylines-above"),x.overlinesAbove=n(g,"g","overlines-above"),n(g,"g","xaxislayer-above"),n(g,"g","yaxislayer-above"),x.overaxesAbove=n(g,"g","overaxes-above"),x.xlines=g.select(".xlines-"+v),x.ylines=g.select(".ylines-"+y),x.xaxislayer=g.select(".xaxislayer-"+v),x.yaxislayer=g.select(".yaxislayer-"+y)}m||(r(x.minorGridlayer,"g",x.xaxis._id),r(x.minorGridlayer,"g",x.yaxis._id),x.minorGridlayer.selectAll("g").map(function(C){return C[0]}).sort(o.idSort),r(x.gridlayer,"g",x.xaxis._id),r(x.gridlayer,"g",x.yaxis._id),x.gridlayer.selectAll("g").map(function(C){return C[0]}).sort(o.idSort)),x.xlines.style("fill","none").classed("crisp",!0),x.ylines.style("fill","none").classed("crisp",!0)}function u(c,x){if(c){var g={};for(var p in c.each(function(_){var f=_[0];A.select(this).remove(),d(f,x),g[f]=!0}),x._plots)for(var v=x._plots[p].overlays||[],y=0;y<v.length;y++){var m=v[y];g[m.id]&&m.plot.selectAll(".trace").remove()}}}function d(c,x){x._draggers.selectAll("g."+c).remove(),x._defs.select("#clip"+x._uid+c+"plot").remove()}P.name="cartesian",P.attr=["xaxis","yaxis"],P.idRoot=["x","y"],P.idRegex=t.idRegex,P.attrRegex=t.attrRegex,P.attributes=e(26720),P.layoutAttributes=e(94724),P.supplyLayoutDefaults=e(67352),P.transitionAxes=e(73736),P.finalizeSubplots=function(c,x){var g,p,v,y=x._subplots,m=y.xaxis,_=y.yaxis,f=y.cartesian,S=f.concat(y.gl2d||[]),T={},E={};for(g=0;g<S.length;g++){var C=S[g].split("y");T[C[0]]=1,E["y"+C[1]]=1}for(g=0;g<m.length;g++)T[p=m[g]]||(v=(c[o.id2name(p)]||{}).anchor,t.idRegex.y.test(v)||(v="y"),f.push(p+v),S.push(p+v),E[v]||(E[v]=1,a.pushUnique(_,v)));for(g=0;g<_.length;g++)E[v=_[g]]||(p=(c[o.id2name(v)]||{}).anchor,t.idRegex.x.test(p)||(p="x"),f.push(p+v),S.push(p+v),T[p]||(T[p]=1,a.pushUnique(m,p)));if(!S.length){for(var O in p="",v="",c)t.attrRegex.test(O)&&(O.charAt(0)==="x"?(!p||+O.substr(5)<+p.substr(5))&&(p=O):(!v||+O.substr(5)<+v.substr(5))&&(v=O));p=p?o.name2id(p):"x",v=v?o.name2id(v):"y",m.push(p),_.push(v),f.push(p+v)}},P.plot=function(c,x,g,p){var v,y=c._fullLayout,m=y._subplots.cartesian,_=c.calcdata;if(!Array.isArray(x))for(x=[],v=0;v<_.length;v++)x.push(v);for(v=0;v<m.length;v++){for(var f,S=m[v],T=y._plots[S],E=[],C=0;C<_.length;C++){var O=_[C],I=O[0].trace;I.xaxis+I.yaxis===S&&((x.indexOf(I.index)!==-1||I.carpet)&&(f&&f[0].trace.xaxis+f[0].trace.yaxis===S&&["tonextx","tonexty","tonext"].indexOf(I.fill)!==-1&&E.indexOf(f)===-1&&E.push(f),E.push(O)),f=O)}s(c,T,E,g,p)}},P.clean=function(c,x,g,p){var v,y,m,_=p._plots||{},f=x._plots||{},S=p._subplots||{};if(p._hasOnlyLargeSploms&&!x._hasOnlyLargeSploms)for(m in _)(v=_[m]).plotgroup&&v.plotgroup.remove();var T=p._has&&p._has("gl"),E=x._has&&x._has("gl");if(T&&!E)for(m in _)(v=_[m])._scene&&v._scene.destroy();if(S.xaxis&&S.yaxis){var C=o.listIds({_fullLayout:p});for(y=0;y<C.length;y++){var O=C[y];x[o.id2name(O)]||p._infolayer.selectAll(".g-"+O+"title").remove()}}var I=p._has&&p._has("cartesian"),z=x._has&&x._has("cartesian");if(I&&!z)u(p._cartesianlayer.selectAll(".subplot"),p),p._defs.selectAll(".axesclip").remove(),delete p._axisConstraintGroups,delete p._axisMatchGroups;else if(S.cartesian)for(y=0;y<S.cartesian.length;y++){var U=S.cartesian[y];if(!f[U]){var D="."+U+",."+U+"-x,."+U+"-y";p._cartesianlayer.selectAll(D).remove(),d(U,p)}}},P.drawFramework=function(c){var x=c._fullLayout,g=function(v){var y,m,_,f,S,T,E=v._fullLayout,C=E._subplots.cartesian,O=C.length,I=[],z=[];for(y=0;y<O;y++){_=C[y],S=(f=E._plots[_]).xaxis,T=f.yaxis;var U=S._mainAxis,D=T._mainAxis,B=U._id+D._id,Z=E._plots[B];f.overlays=[],B!==_&&Z?(f.mainplot=B,f.mainplotinfo=Z,z.push(_)):(f.mainplot=void 0,f.mainplotinfo=void 0,I.push(_))}for(y=0;y<z.length;y++)_=z[y],(f=E._plots[_]).mainplotinfo.overlays.push(f);var F=I.concat(z),j=new Array(O);for(y=0;y<O;y++){_=F[y],S=(f=E._plots[_]).xaxis,T=f.yaxis;var V=[_,S.layer,T.layer,S.overlaying||"",T.overlaying||""];for(m=0;m<f.overlays.length;m++)V.push(f.overlays[m].id);j[y]=V}return j}(c),p=x._cartesianlayer.selectAll(".subplot").data(g,String);p.enter().append("g").attr("class",function(v){return"subplot "+v[0]}),p.order(),p.exit().call(u,x),p.each(function(v){var y=v[0],m=x._plots[y];m.plotgroup=A.select(this),l(c,m),m.draglayer=n(x._draggers,"g",y)})},P.rangePlot=function(c,x,g){l(c,x),s(c,x,g),w.style(c)},P.toSVG=function(c){var x=c._fullLayout._glimages,g=A.select(c).selectAll(".svg-container");g.filter(function(p,v){return v===g.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var p=this,v=p.toDataURL("image/png");x.append("svg:image").attr({xmlns:i.svg,"xlink:href":v,preserveAspectRatio:"none",x:0,y:0,width:p.style.width,height:p.style.height})})},P.updateFx=e(42464).updateFx},94724:function(Y,P,e){var A=e(25376),k=e(22548),a=e(98192).u,w=e(92880).extendFlat,b=e(31780).templatedArray,h=e(29736).descriptionWithDates,o=e(39032).ONEDAY,t=e(33816),i=t.HOUR_PATTERN,n=t.WEEKDAY_PATTERN,r={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},s=w({},r,{values:r.values.slice().concat(["sync"])});function l(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var u={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},d={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},c={valType:"data_array",editType:"ticks"},x={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function g(S){var T={valType:"number",min:0,editType:"ticks"};return S||(T.dflt=5),T}function p(S){var T={valType:"number",min:0,editType:"ticks"};return S||(T.dflt=1),T}var v={valType:"color",dflt:k.defaultLine,editType:"ticks"},y={valType:"color",dflt:k.lightLine,editType:"ticks"};function m(S){var T={valType:"number",min:0,editType:"ticks"};return S||(T.dflt=1),T}var _=w({},a,{editType:"ticks"}),f={valType:"boolean",editType:"ticks"};Y.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:k.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:A({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:b("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[n,i,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:o},editType:"calc"}),tickmode:s,nticks:l(),tick0:u,dtick:d,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:c,ticktext:{valType:"data_array",editType:"ticks"},ticks:x,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:g(),tickwidth:p(),tickcolor:v,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:w({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:A({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:h("tick label")},tickformatstops:b("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:h("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:k.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:f,gridcolor:y,gridwidth:m(),griddash:_,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:k.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:k.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:r,nticks:l("minor"),tick0:u,dtick:d,tickvals:c,ticks:x,ticklen:g("minor"),tickwidth:p("minor"),tickcolor:v,gridcolor:y,gridwidth:m("minor"),griddash:_,showgrid:f,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:A({editType:"ticks"})}}},67352:function(Y,P,e){var A=e(3400),k=e(76308),a=e(10624).isUnifiedHover,w=e(41008),b=e(31780),h=e(64859),o=e(94724),t=e(14944),i=e(28336),n=e(71888),r=e(37668),s=e(79811),l=s.id2name,u=s.name2id,d=e(33816).AX_ID_PATTERN,c=e(24040),x=c.traceIs,g=c.getComponentMethod;function p(v,y,m){Array.isArray(v[y])?v[y].push(m):v[y]=[m]}Y.exports=function(v,y,m){var _,f,S=y.autotypenumbers,T={},E={},C={},O={},I={},z={},U={},D={},B={},Z={};for(_=0;_<m.length;_++){var F=m[_];if(x(F,"cartesian")||x(F,"gl2d")){var j,V;if(F.xaxis)j=l(F.xaxis),p(T,j,F);else if(F.xaxes)for(f=0;f<F.xaxes.length;f++)p(T,l(F.xaxes[f]),F);if(F.yaxis)V=l(F.yaxis),p(T,V,F);else if(F.yaxes)for(f=0;f<F.yaxes.length;f++)p(T,l(F.yaxes[f]),F);F.type==="funnel"?F.orientation==="h"?(j&&(E[j]=!0),V&&(U[V]=!0)):V&&(C[V]=!0):F.type==="image"?(V&&(D[V]=!0),j&&(D[j]=!0)):(V&&(I[V]=!0,z[V]=!0),x(F,"carpet")&&(F.type!=="carpet"||F._cheater)||j&&(O[j]=!0)),F.type==="carpet"&&F._cheater&&j&&(E[j]=!0),x(F,"2dMap")&&(B[j]=!0,B[V]=!0),x(F,"oriented")&&(Z[F.orientation==="h"?V:j]=!0)}}var te=y._subplots,Q=te.xaxis,$=te.yaxis,G=A.simpleMap(Q,l),X=A.simpleMap($,l),J=G.concat(X),ne=k.background;Q.length&&$.length&&(ne=A.coerce(v,y,h,"plot_bgcolor"));var ie,ae,le,ce,pe,ge=k.combine(ne,y.paper_bgcolor);function me(){var nt=T[ie]||[];pe._traceIndices=nt.map(function(Mt){return Mt._expandedIndex}),pe._annIndices=[],pe._shapeIndices=[],pe._selectionIndices=[],pe._imgIndices=[],pe._subplotsWith=[],pe._counterAxes=[],pe._name=pe._attr=ie,pe._id=ae}function ve(nt,Mt){return A.coerce(ce,pe,o,nt,Mt)}function Me(nt,Mt){return A.coerce2(ce,pe,o,nt,Mt)}function _e(nt){return nt==="x"?$:Q}function we(nt,Mt){for(var zt=nt==="x"?G:X,Ft=[],Rt=0;Rt<zt.length;Rt++){var We=zt[Rt];We===Mt||(v[We]||{}).overlaying||Ft.push(u(We))}return Ft}var oe={x:_e("x"),y:_e("y")},se=oe.x.concat(oe.y),de={},Ee=[];function Te(){var nt=ce.matches;d.test(nt)&&se.indexOf(nt)===-1&&(de[nt]=ce.type,Ee=Object.keys(de))}var Se=w(v,y),Le=a(Se);for(_=0;_<J.length;_++){ie=J[_],ae=u(ie),le=ie.charAt(0),A.isPlainObject(v[ie])||(v[ie]={}),ce=v[ie],pe=b.newContainer(y,ie,le+"axis"),me();var Oe=le==="x"&&!O[ie]&&E[ie]||le==="y"&&!I[ie]&&C[ie],he=le==="y"&&(!z[ie]&&U[ie]||D[ie]),xe={hasMinor:!0,letter:le,font:y.font,outerTicks:B[ie],showGrid:!Z[ie],data:T[ie]||[],bgColor:ge,calendar:y.calendar,automargin:!0,visibleDflt:Oe,reverseDflt:he,autotypenumbersDflt:S,splomStash:((y._splomAxes||{})[le]||{})[ae],noAutotickangles:le==="y"};ve("uirevision",y.uirevision),t(ce,pe,ve,xe),i(ce,pe,ve,xe,y);var ke=Le&&le===Se.charAt(0),Re=Me("spikecolor",Le?pe.color:void 0),ze=Me("spikethickness",Le?1.5:void 0),Ie=Me("spikedash",Le?"dot":void 0),He=Me("spikemode",Le?"across":void 0),qe=Me("spikesnap");ve("showspikes",!!(ke||Re||ze||Ie||He||qe))||(delete pe.spikecolor,delete pe.spikethickness,delete pe.spikedash,delete pe.spikemode,delete pe.spikesnap);var Je=l(ce.overlaying),st=[0,1];if(y[Je]!==void 0){var it=l(y[Je].anchor);y[it]!==void 0&&(st=y[it].domain)}r(ce,pe,ve,{letter:le,counterAxes:oe[le],overlayableAxes:we(le,ie),grid:y.grid,overlayingDomain:st}),ve("title.standoff"),Te(),pe._input=ce}for(_=0;_<Ee.length;){ae=Ee[_++],le=(ie=l(ae)).charAt(0),A.isPlainObject(v[ie])||(v[ie]={}),ce=v[ie],pe=b.newContainer(y,ie,le+"axis"),me();var vt={letter:le,font:y.font,outerTicks:B[ie],showGrid:!Z[ie],data:[],bgColor:ge,calendar:y.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:S,splomStash:((y._splomAxes||{})[le]||{})[ae]};ve("uirevision",y.uirevision),pe.type=de[ae]||"linear",i(ce,pe,ve,vt,y),r(ce,pe,ve,{letter:le,counterAxes:oe[le],overlayableAxes:we(le,ie),grid:y.grid}),ve("fixedrange"),Te(),pe._input=ce}var _t=g("rangeslider","handleDefaults"),xt=g("rangeselector","handleDefaults");for(_=0;_<G.length;_++)ie=G[_],ce=v[ie],pe=y[ie],_t(v,y,ie),pe.type==="date"&&xt(ce,pe,y,X,pe.calendar),ve("fixedrange");for(_=0;_<X.length;_++){ie=X[_],ce=v[ie],pe=y[ie];var et=y[l(pe.anchor)];ve("fixedrange",g("rangeslider","isVisible")(et))}n.handleDefaults(v,y,{axIds:se.concat(Ee).sort(s.idSort),axHasImage:D})}},42136:function(Y,P,e){var A=e(49760).mix,k=e(22548),a=e(3400);Y.exports=function(w,b,h,o){var t=(o=o||{}).dfltColor;function i(v,y){return a.coerce2(w,b,o.attributes,v,y)}var n=i("linecolor",t),r=i("linewidth");h("showline",o.showLine||!!n||!!r)||(delete b.linecolor,delete b.linewidth);var s=i("gridcolor",A(t,o.bgColor,o.blend||k.lightFraction).toRgbString()),l=i("gridwidth"),u=i("griddash");if(h("showgrid",o.showGrid||!!s||!!l||!!u)||(delete b.gridcolor,delete b.gridwidth,delete b.griddash),o.hasMinor){var d=i("minor.gridcolor",A(b.gridcolor,o.bgColor,67).toRgbString()),c=i("minor.gridwidth",b.gridwidth||1),x=i("minor.griddash",b.griddash||"solid");h("minor.showgrid",!!d||!!c||!!x)||(delete b.minor.gridcolor,delete b.minor.gridwidth,delete b.minor.griddash)}if(!o.noZeroLine){var g=i("zerolinecolor",t),p=i("zerolinewidth");h("zeroline",o.showGrid||!!g||!!p)||(delete b.zerolinecolor,delete b.zerolinewidth)}}},37668:function(Y,P,e){var A=e(38248),k=e(3400);Y.exports=function(a,w,b,h){var o,t,i,n,r,s,l=h.counterAxes||[],u=h.overlayableAxes||[],d=h.letter,c=h.grid,x=h.overlayingDomain;c&&(t=c._domains[d][c._axisMap[w._id]],o=c._anchors[w._id],t&&(i=c[d+"side"].split(" ")[0],n=c.domain[d][i==="right"||i==="top"?1:0])),t=t||[0,1],o=o||(A(a.position)?"free":l[0]||"free"),i=i||(d==="x"?"bottom":"left"),n=n||0,r=0,s=!1;var g=k.coerce(a,w,{anchor:{valType:"enumerated",values:["free"].concat(l),dflt:o}},"anchor"),p=k.coerce(a,w,{side:{valType:"enumerated",values:d==="x"?["bottom","top"]:["left","right"],dflt:i}},"side");g==="free"&&(d==="y"&&(b("autoshift")&&(n=p==="left"?x[0]:x[1],s=!w.automargin||w.automargin,r=p==="left"?-3:3),b("shift",r)),b("position",n)),b("automargin",s);var v=!1;if(u.length&&(v=k.coerce(a,w,{overlaying:{valType:"enumerated",values:[!1].concat(u),dflt:!1}},"overlaying")),!v){var y=b("domain",t);y[0]>y[1]-.000244140625&&(w.domain=t),k.noneOrAll(a.domain,w.domain,t),w.tickmode==="sync"&&(w.tickmode="auto")}return b("layer"),w}},42568:function(Y,P,e){var A=e(85024);Y.exports=function(k,a,w,b,h){h||(h={});var o=h.tickSuffixDflt,t=A(k);w("tickprefix")&&w("showtickprefix",t),w("ticksuffix",o)&&w("showticksuffix",t)}},96312:function(Y,P,e){var A=e(76808);Y.exports=function(k,a,w,b){var h=a._template||{},o=a.type||h.type||"-";w("minallowed"),w("maxallowed");var t,i=w("range");i||b.noInsiderange||o==="log"||(!(t=w("insiderange"))||t[0]!==null&&t[1]!==null||(a.insiderange=!1,t=void 0),t&&(i=w("range",t)));var n,r=a.getAutorangeDflt(i,b),s=w("autorange",r);!i||(i[0]!==null||i[1]!==null)&&(i[0]!==null&&i[1]!==null||s!=="reversed"&&s!==!0)&&(i[0]===null||s!=="min"&&s!=="max reversed")&&(i[1]===null||s!=="max"&&s!=="min reversed")||(i=void 0,delete a.range,a.autorange=!0,n=!0),n||(s=w("autorange",r=a.getAutorangeDflt(i,b))),s&&(A(w,s,i),o!=="linear"&&o!=="-"||w("rangemode")),a.cleanRange()}},21160:function(Y,P,e){var A=e(84284).FROM_BL;Y.exports=function(k,a,w){w===void 0&&(w=A[k.constraintoward||"center"]);var b=[k.r2l(k.range[0]),k.r2l(k.range[1])],h=b[0]+(b[1]-b[0])*w;k.range=k._input.range=[k.l2r(h+(b[0]-h)*a),k.l2r(h+(b[1]-h)*a)],k.setScale()}},78344:function(Y,P,e){var A=e(33428),k=e(94336).E9,a=e(3400),w=a.numberFormat,b=e(38248),h=a.cleanNumber,o=a.ms2DateTime,t=a.dateTime2ms,i=a.ensureNumber,n=a.isArrayOrTypedArray,r=e(39032),s=r.FP_SAFE,l=r.BADNUM,u=r.LOG_CLIP,d=r.ONEWEEK,c=r.ONEDAY,x=r.ONEHOUR,g=r.ONEMIN,p=r.ONESEC,v=e(79811),y=e(33816),m=y.HOUR_PATTERN,_=y.WEEKDAY_PATTERN;function f(T){return Math.pow(10,T)}function S(T){return T!=null}Y.exports=function(T,E){E=E||{};var C=T._id||"x",O=C.charAt(0);function I(J,ne){if(J>0)return Math.log(J)/Math.LN10;if(J<=0&&ne&&T.range&&T.range.length===2){var ie=T.range[0],ae=T.range[1];return .5*(ie+ae-2*u*Math.abs(ie-ae))}return l}function z(J,ne,ie,ae){if((ae||{}).msUTC&&b(J))return+J;var le=t(J,ie||T.calendar);if(le===l){if(!b(J))return l;J=+J;var ce=Math.floor(10*a.mod(J+.05,1)),pe=Math.round(J-ce/10);le=t(new Date(pe))+ce/10}return le}function U(J,ne,ie){return o(J,ne,ie||T.calendar)}function D(J){return T._categories[Math.round(J)]}function B(J){if(S(J)){if(T._categoriesMap===void 0&&(T._categoriesMap={}),T._categoriesMap[J]!==void 0)return T._categoriesMap[J];T._categories.push(typeof J=="number"?String(J):J);var ne=T._categories.length-1;return T._categoriesMap[J]=ne,ne}return l}function Z(J){if(T._categoriesMap)return T._categoriesMap[J]}function F(J){var ne=Z(J);return ne!==void 0?ne:b(J)?+J:void 0}function j(J){return b(J)?+J:Z(J)}function V(J,ne,ie){return A.round(ie+ne*J,2)}function te(J,ne,ie){return(J-ie)/ne}var Q=function(J){return b(J)?V(J,T._m,T._b):l},$=function(J){return te(J,T._m,T._b)};if(T.rangebreaks){var G=O==="y";Q=function(J){if(!b(J))return l;var ne=T._rangebreaks.length;if(!ne)return V(J,T._m,T._b);var ie=G;T.range[0]>T.range[1]&&(ie=!ie);for(var ae=ie?-1:1,le=ae*J,ce=0,pe=0;pe<ne;pe++){var ge=ae*T._rangebreaks[pe].min,me=ae*T._rangebreaks[pe].max;if(le<ge)break;if(!(le>me)){ce=le<(ge+me)/2?pe:pe+1;break}ce=pe+1}var ve=T._B[ce]||0;return isFinite(ve)?V(J,T._m2,ve):0},$=function(J){var ne=T._rangebreaks.length;if(!ne)return te(J,T._m,T._b);for(var ie=0,ae=0;ae<ne&&!(J<T._rangebreaks[ae].pmin);ae++)J>T._rangebreaks[ae].pmax&&(ie=ae+1);return te(J,T._m2,T._B[ie])}}T.c2l=T.type==="log"?I:i,T.l2c=T.type==="log"?f:i,T.l2p=Q,T.p2l=$,T.c2p=T.type==="log"?function(J,ne){return Q(I(J,ne))}:Q,T.p2c=T.type==="log"?function(J){return f($(J))}:$,["linear","-"].indexOf(T.type)!==-1?(T.d2r=T.r2d=T.d2c=T.r2c=T.d2l=T.r2l=h,T.c2d=T.c2r=T.l2d=T.l2r=i,T.d2p=T.r2p=function(J){return T.l2p(h(J))},T.p2d=T.p2r=$,T.cleanPos=i):T.type==="log"?(T.d2r=T.d2l=function(J,ne){return I(h(J),ne)},T.r2d=T.r2c=function(J){return f(h(J))},T.d2c=T.r2l=h,T.c2d=T.l2r=i,T.c2r=I,T.l2d=f,T.d2p=function(J,ne){return T.l2p(T.d2r(J,ne))},T.p2d=function(J){return f($(J))},T.r2p=function(J){return T.l2p(h(J))},T.p2r=$,T.cleanPos=i):T.type==="date"?(T.d2r=T.r2d=a.identity,T.d2c=T.r2c=T.d2l=T.r2l=z,T.c2d=T.c2r=T.l2d=T.l2r=U,T.d2p=T.r2p=function(J,ne,ie){return T.l2p(z(J,0,ie))},T.p2d=T.p2r=function(J,ne,ie){return U($(J),ne,ie)},T.cleanPos=function(J){return a.cleanDate(J,l,T.calendar)}):T.type==="category"?(T.d2c=T.d2l=B,T.r2d=T.c2d=T.l2d=D,T.d2r=T.d2l_noadd=F,T.r2c=function(J){var ne=j(J);return ne!==void 0?ne:T.fraction2r(.5)},T.l2r=T.c2r=i,T.r2l=j,T.d2p=function(J){return T.l2p(T.r2c(J))},T.p2d=function(J){return D($(J))},T.r2p=T.d2p,T.p2r=$,T.cleanPos=function(J){return typeof J=="string"&&J!==""?J:i(J)}):T.type==="multicategory"&&(T.r2d=T.c2d=T.l2d=D,T.d2r=T.d2l_noadd=F,T.r2c=function(J){var ne=F(J);return ne!==void 0?ne:T.fraction2r(.5)},T.r2c_just_indices=Z,T.l2r=T.c2r=i,T.r2l=F,T.d2p=function(J){return T.l2p(T.r2c(J))},T.p2d=function(J){return D($(J))},T.r2p=T.d2p,T.p2r=$,T.cleanPos=function(J){return Array.isArray(J)||typeof J=="string"&&J!==""?J:i(J)},T.setupMultiCategory=function(J){var ne,ie,ae=T._traceIndices,le=T._matchGroup;if(le&&T._categories.length===0){for(var ce in le)if(ce!==C){var pe=E[v.id2name(ce)];ae=ae.concat(pe._traceIndices)}}var ge=[[0,{}],[0,{}]],me=[];for(ne=0;ne<ae.length;ne++){var ve=J[ae[ne]];if(O in ve){var Me=ve[O],_e=ve._length||a.minRowLength(Me);if(n(Me[0])&&n(Me[1]))for(ie=0;ie<_e;ie++){var we=Me[0][ie],oe=Me[1][ie];S(we)&&S(oe)&&(me.push([we,oe]),we in ge[0][1]||(ge[0][1][we]=ge[0][0]++),oe in ge[1][1]||(ge[1][1][oe]=ge[1][0]++))}}}for(me.sort(function(se,de){var Ee=ge[0][1],Te=Ee[se[0]]-Ee[de[0]];if(Te)return Te;var Se=ge[1][1];return Se[se[1]]-Se[de[1]]}),ne=0;ne<me.length;ne++)B(me[ne])}),T.fraction2r=function(J){var ne=T.r2l(T.range[0]),ie=T.r2l(T.range[1]);return T.l2r(ne+J*(ie-ne))},T.r2fraction=function(J){var ne=T.r2l(T.range[0]),ie=T.r2l(T.range[1]);return(T.r2l(J)-ne)/(ie-ne)},T.limitRange=function(J){var ne=T.minallowed,ie=T.maxallowed;if(ne!==void 0||ie!==void 0){J||(J="range");var ae=a.nestedProperty(T,J).get(),le=a.simpleMap(ae,T.r2l),ce=le[1]<le[0];ce&&le.reverse();var pe=a.simpleMap([ne,ie],T.r2l);if(ne!==void 0&&le[0]<pe[0]&&(ae[ce?1:0]=ne),ie!==void 0&&le[1]>pe[1]&&(ae[ce?0:1]=ie),ae[0]===ae[1]){var ge=T.l2r(ne),me=T.l2r(ie);if(ne!==void 0){var ve=ge+1;ie!==void 0&&(ve=Math.min(ve,me)),ae[ce?1:0]=ve}if(ie!==void 0){var Me=me+1;ne!==void 0&&(Me=Math.max(Me,ge)),ae[ce?0:1]=Me}}}},T.cleanRange=function(J,ne){T._cleanRange(J,ne),T.limitRange(J)},T._cleanRange=function(J,ne){ne||(ne={}),J||(J="range");var ie,ae,le=a.nestedProperty(T,J).get();if(ae=(ae=T.type==="date"?a.dfltRange(T.calendar):O==="y"?y.DFLTRANGEY:T._name==="realaxis"?[0,1]:ne.dfltRange||y.DFLTRANGEX).slice(),T.rangemode!=="tozero"&&T.rangemode!=="nonnegative"||(ae[0]=0),le&&le.length===2){var ce=le[0]===null,pe=le[1]===null;for(T.type!=="date"||T.autorange||(le[0]=a.cleanDate(le[0],l,T.calendar),le[1]=a.cleanDate(le[1],l,T.calendar)),ie=0;ie<2;ie++)if(T.type==="date"){if(!a.isDateTime(le[ie],T.calendar)){T[J]=ae;break}if(T.r2l(le[0])===T.r2l(le[1])){var ge=a.constrain(T.r2l(le[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);le[0]=T.l2r(ge-1e3),le[1]=T.l2r(ge+1e3);break}}else{if(!b(le[ie])){if(ce||pe||!b(le[1-ie])){T[J]=ae;break}le[ie]=le[1-ie]*(ie?10:.1)}if(le[ie]<-s?le[ie]=-s:le[ie]>s&&(le[ie]=s),le[0]===le[1]){var me=Math.max(1,Math.abs(1e-6*le[0]));le[0]-=me,le[1]+=me}}}else a.nestedProperty(T,J).set(ae)},T.setScale=function(J){var ne=E._size;if(T.overlaying){var ie=v.getFromId({_fullLayout:E},T.overlaying);T.domain=ie.domain}var ae=J&&T._r?"_r":"range",le=T.calendar;T.cleanRange(ae);var ce,pe,ge=T.r2l(T[ae][0],le),me=T.r2l(T[ae][1],le),ve=O==="y";if(ve?(T._offset=ne.t+(1-T.domain[1])*ne.h,T._length=ne.h*(T.domain[1]-T.domain[0]),T._m=T._length/(ge-me),T._b=-T._m*me):(T._offset=ne.l+T.domain[0]*ne.w,T._length=ne.w*(T.domain[1]-T.domain[0]),T._m=T._length/(me-ge),T._b=-T._m*ge),T._rangebreaks=[],T._lBreaks=0,T._m2=0,T._B=[],T.rangebreaks&&(T._rangebreaks=T.locateBreaks(Math.min(ge,me),Math.max(ge,me)),T._rangebreaks.length)){for(ce=0;ce<T._rangebreaks.length;ce++)pe=T._rangebreaks[ce],T._lBreaks+=Math.abs(pe.max-pe.min);var Me=ve;ge>me&&(Me=!Me),Me&&T._rangebreaks.reverse();var _e=Me?-1:1;for(T._m2=_e*T._length/(Math.abs(me-ge)-T._lBreaks),T._B.push(-T._m2*(ve?me:ge)),ce=0;ce<T._rangebreaks.length;ce++)pe=T._rangebreaks[ce],T._B.push(T._B[T._B.length-1]-_e*T._m2*(pe.max-pe.min));for(ce=0;ce<T._rangebreaks.length;ce++)(pe=T._rangebreaks[ce]).pmin=Q(pe.min),pe.pmax=Q(pe.max)}if(!isFinite(T._m)||!isFinite(T._b)||T._length<0)throw E._replotting=!1,new Error("Something went wrong with axis scaling")},T.maskBreaks=function(J){var ne,ie,ae,le,ce,pe=T.rangebreaks||[];pe._cachedPatterns||(pe._cachedPatterns=pe.map(function(we){return we.enabled&&we.bounds?a.simpleMap(we.bounds,we.pattern?h:T.d2c):null})),pe._cachedValues||(pe._cachedValues=pe.map(function(we){return we.enabled&&we.values?a.simpleMap(we.values,T.d2c).sort(a.sorterAsc):null}));for(var ge=0;ge<pe.length;ge++){var me=pe[ge];if(me.enabled){if(me.bounds){var ve=me.pattern;switch(ie=(ne=pe._cachedPatterns[ge])[0],ae=ne[1],ve){case _:le=(ce=new Date(J)).getUTCDay(),ie>ae&&(ae+=7,le<ie&&(le+=7));break;case m:le=(ce=new Date(J)).getUTCHours()+(ce.getUTCMinutes()/60+ce.getUTCSeconds()/3600+ce.getUTCMilliseconds()/36e5),ie>ae&&(ae+=24,le<ie&&(le+=24));break;case"":le=J}if(le>=ie&&le<ae)return l}else for(var Me=pe._cachedValues[ge],_e=0;_e<Me.length;_e++)if(ae=(ie=Me[_e])+me.dvalue,J>=ie&&J<ae)return l}}return J},T.locateBreaks=function(J,ne){var ie,ae,le,ce,pe=[];if(!T.rangebreaks)return pe;var ge=T.rangebreaks.slice().sort(function(Se,Le){return Se.pattern===_&&Le.pattern===m?-1:Le.pattern===_&&Se.pattern===m?1:0}),me=function(Se,Le){if((Se=a.constrain(Se,J,ne))!==(Le=a.constrain(Le,J,ne))){for(var Oe=!0,he=0;he<pe.length;he++){var xe=pe[he];Se<xe.max&&Le>=xe.min&&(Se<xe.min&&(xe.min=Se),Le>xe.max&&(xe.max=Le),Oe=!1)}Oe&&pe.push({min:Se,max:Le})}};for(ie=0;ie<ge.length;ie++){var ve=ge[ie];if(ve.enabled)if(ve.bounds){var Me=J,_e=ne;ve.pattern&&(Me=Math.floor(Me)),le=(ae=a.simpleMap(ve.bounds,ve.pattern?h:T.r2l))[0],ce=ae[1];var we,oe,se=new Date(Me);switch(ve.pattern){case _:oe=d,we=(ce-le+(ce<le?7:0))*c,Me+=le*c-(se.getUTCDay()*c+se.getUTCHours()*x+se.getUTCMinutes()*g+se.getUTCSeconds()*p+se.getUTCMilliseconds());break;case m:oe=c,we=(ce-le+(ce<le?24:0))*x,Me+=le*x-(se.getUTCHours()*x+se.getUTCMinutes()*g+se.getUTCSeconds()*p+se.getUTCMilliseconds());break;default:Me=Math.min(ae[0],ae[1]),we=oe=(_e=Math.max(ae[0],ae[1]))-Me}for(var de=Me;de<_e;de+=oe)me(de,de+we)}else for(var Ee=a.simpleMap(ve.values,T.d2c),Te=0;Te<Ee.length;Te++)me(le=Ee[Te],ce=le+ve.dvalue)}return pe.sort(function(Se,Le){return Se.min-Le.min}),pe},T.makeCalcdata=function(J,ne,ie){var ae,le,ce,pe,ge=T.type,me=ge==="date"&&J[ne+"calendar"];if(ne in J){if(ae=J[ne],pe=J._length||a.minRowLength(ae),a.isTypedArray(ae)&&(ge==="linear"||ge==="log")){if(pe===ae.length)return ae;if(ae.subarray)return ae.subarray(0,pe)}if(ge==="multicategory")return function(_e,we){for(var oe=new Array(we),se=0;se<we;se++){var de=(_e[0]||[])[se],Ee=(_e[1]||[])[se];oe[se]=Z([de,Ee])}return oe}(ae,pe);for(le=new Array(pe),ce=0;ce<pe;ce++)le[ce]=T.d2c(ae[ce],0,me,ie)}else{var ve=ne+"0"in J?T.d2c(J[ne+"0"],0,me):0,Me=J["d"+ne]?Number(J["d"+ne]):1;for(ae=J[{x:"y",y:"x"}[ne]],pe=J._length||ae.length,le=new Array(pe),ce=0;ce<pe;ce++)le[ce]=ve+ce*Me}if(T.rangebreaks)for(ce=0;ce<pe;ce++)le[ce]=T.maskBreaks(le[ce]);return le},T.isValidRange=function(J,ne){return Array.isArray(J)&&J.length===2&&(ne&&J[0]===null||b(T.r2l(J[0])))&&(ne&&J[1]===null||b(T.r2l(J[1])))},T.getAutorangeDflt=function(J,ne){var ie=!T.isValidRange(J,"nullOk");return ie&&ne&&ne.reverseDflt?ie="reversed":J&&(J[0]===null&&J[1]===null?ie=!0:J[0]===null&&J[1]!==null?ie="min":J[0]!==null&&J[1]===null&&(ie="max")),ie},T.isReversed=function(){var J=T.autorange;return J==="reversed"||J==="min reversed"||J==="max reversed"},T.isPtWithinRange=function(J,ne){var ie=T.c2l(J[O],null,ne),ae=T.r2l(T.range[0]),le=T.r2l(T.range[1]);return ae<le?ae<=ie&&ie<=le:le<=ie&&ie<=ae},T._emptyCategories=function(){T._categories=[],T._categoriesMap={}},T.clearCalc=function(){var J=T._matchGroup;if(J){var ne=null,ie=null;for(var ae in J){var le=E[v.id2name(ae)];if(le._categories){ne=le._categories,ie=le._categoriesMap;break}}ne&&ie?(T._categories=ne,T._categoriesMap=ie):T._emptyCategories()}else T._emptyCategories();if(T._initialCategories)for(var ce=0;ce<T._initialCategories.length;ce++)B(T._initialCategories[ce])},T.sortByInitialCategories=function(){var J=[];if(T._emptyCategories(),T._initialCategories)for(var ne=0;ne<T._initialCategories.length;ne++)B(T._initialCategories[ne]);J=J.concat(T._traceIndices);var ie=T._matchGroup;for(var ae in ie)if(C!==ae){var le=E[v.id2name(ae)];le._categories=T._categories,le._categoriesMap=T._categoriesMap,J=J.concat(le._traceIndices)}return J};var X=E._d3locale;T.type==="date"&&(T._dateFormat=X?X.timeFormat:k,T._extraFormat=E._extraFormat),T._separators=E.separators,T._numFormat=X?X.numberFormat:w,delete T._minDtick,delete T._forceTick0}},85024:function(Y){Y.exports=function(P){var e=["showexponent","showtickprefix","showticksuffix"].filter(function(A){return P[A]!==void 0});if(e.every(function(A){return P[A]===P[e[0]]})||e.length===1)return P[e[0]]}},95936:function(Y,P,e){var A=e(3400),k=e(76308).contrast,a=e(94724),w=e(85024),b=e(51272);function h(o,t){function i(n,r){return A.coerce(o,t,a.tickformatstops,n,r)}i("enabled")&&(i("dtickrange"),i("value"))}Y.exports=function(o,t,i,n,r){r||(r={});var s=i("labelalias");A.isPlainObject(s)||delete t.labelalias;var l=w(o);if(i("showticklabels")){var u=r.font||{},d=t.color,c=(t.ticklabelposition||"").indexOf("inside")!==-1?k(r.bgColor):d&&d!==a.color.dflt?d:u.color;if(A.coerceFont(i,"tickfont",{family:u.family,size:u.size,color:c}),r.noTicklabelstep||n==="multicategory"||n==="log"||i("ticklabelstep"),!r.noAng){var x=i("tickangle");r.noAutotickangles||x!=="auto"||i("autotickangles")}if(n!=="category"){var g=i("tickformat");b(o,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:h}),t.tickformatstops.length||delete t.tickformatstops,r.noExp||g||n==="date"||(i("showexponent",l),i("exponentformat"),i("minexponent"),i("separatethousands"))}}}},25404:function(Y,P,e){var A=e(3400),k=e(94724);Y.exports=function(a,w,b,h){var o=h.isMinor,t=o?a.minor||{}:a,i=o?w.minor:w,n=o?k.minor:k,r=o?"minor.":"",s=A.coerce2(t,i,n,"ticklen",o?.6*(w.ticklen||5):void 0),l=A.coerce2(t,i,n,"tickwidth",o?w.tickwidth||1:void 0),u=A.coerce2(t,i,n,"tickcolor",(o?w.tickcolor:void 0)||i.color);b(r+"ticks",!o&&h.outerTicks||s||l||u?"outside":"")||(delete i.ticklen,delete i.tickwidth,delete i.tickcolor)}},26332:function(Y,P,e){var A=e(98728),k=e(3400).isArrayOrTypedArray,a=e(38116).isTypedArraySpec,w=e(38116).decodeTypedArraySpec;Y.exports=function(b,h,o,t,i){i||(i={});var n=i.isMinor,r=n?b.minor||{}:b,s=n?h.minor:h,l=n?"minor.":"";function u(v){var y=r[v];return a(y)&&(y=w(y)),y!==void 0?y:(s._template||{})[v]}var d=u("tick0"),c=u("dtick"),x=u("tickvals"),g=o(l+"tickmode",k(x)?"array":c?"linear":"auto");if(g==="auto"||g==="sync")o(l+"nticks");else if(g==="linear"){var p=s.dtick=A.dtick(c,t);s.tick0=A.tick0(d,t,h.calendar,p)}else t!=="multicategory"&&(o(l+"tickvals")===void 0?s.tickmode="auto":n||o("ticktext"))}},73736:function(Y,P,e){var A=e(33428),k=e(24040),a=e(3400),w=e(43616),b=e(54460);Y.exports=function(h,o,t,i){var n=h._fullLayout;if(o.length!==0){var r,s,l,u;i&&(r=i());var d=A.ease(t.easing);return h._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(u),u=null,function(){for(var g={},p=0;p<o.length;p++){var v=o[p],y=v.plotinfo.xaxis,m=v.plotinfo.yaxis;v.xr0&&(g[y._name+".range"]=v.xr0.slice()),v.yr0&&(g[m._name+".range"]=v.yr0.slice())}return k.call("relayout",h,g).then(function(){for(var _=0;_<o.length;_++)c(o[_].plotinfo)})}()}),s=Date.now(),u=window.requestAnimationFrame(function g(){l=Date.now();for(var p=Math.min(1,(l-s)/t.duration),v=d(p),y=0;y<o.length;y++)x(o[y],v);l-s>t.duration?(function(){for(var m={},_=0;_<o.length;_++){var f=o[_],S=f.plotinfo.xaxis,T=f.plotinfo.yaxis;f.xr1&&(m[S._name+".range"]=f.xr1.slice()),f.yr1&&(m[T._name+".range"]=f.yr1.slice())}r&&r(),k.call("relayout",h,m).then(function(){for(var E=0;E<o.length;E++)c(o[E].plotinfo)})}(),u=window.cancelAnimationFrame(g)):u=window.requestAnimationFrame(g)}),Promise.resolve()}function c(g){var p=g.xaxis,v=g.yaxis;n._defs.select("#"+g.clipId+"> rect").call(w.setTranslate,0,0).call(w.setScale,1,1),g.plot.call(w.setTranslate,p._offset,v._offset).call(w.setScale,1,1);var y=g.plot.selectAll(".scatterlayer .trace");y.selectAll(".point").call(w.setPointGroupScale,1,1),y.selectAll(".textpoint").call(w.setTextPointsScale,1,1),y.call(w.hideOutsideRangePoints,g)}function x(g,p){var v=g.plotinfo,y=v.xaxis,m=v.yaxis,_=y._length,f=m._length,S=!!g.xr1,T=!!g.yr1,E=[];if(S){var C=a.simpleMap(g.xr0,y.r2l),O=a.simpleMap(g.xr1,y.r2l),I=C[1]-C[0],z=O[1]-O[0];E[0]=(C[0]*(1-p)+p*O[0]-C[0])/(C[1]-C[0])*_,E[2]=_*(1-p+p*z/I),y.range[0]=y.l2r(C[0]*(1-p)+p*O[0]),y.range[1]=y.l2r(C[1]*(1-p)+p*O[1])}else E[0]=0,E[2]=_;if(T){var U=a.simpleMap(g.yr0,m.r2l),D=a.simpleMap(g.yr1,m.r2l),B=U[1]-U[0],Z=D[1]-D[0];E[1]=(U[1]*(1-p)+p*D[1]-U[1])/(U[0]-U[1])*f,E[3]=f*(1-p+p*Z/B),m.range[0]=y.l2r(U[0]*(1-p)+p*D[0]),m.range[1]=m.l2r(U[1]*(1-p)+p*D[1])}else E[1]=0,E[3]=f;b.drawOne(h,y,{skipTitle:!0}),b.drawOne(h,m,{skipTitle:!0}),b.redrawComponents(h,[y._id,m._id]);var F=S?_/E[2]:1,j=T?f/E[3]:1,V=S?E[0]:0,te=T?E[1]:0,Q=S?E[0]/E[2]*_:0,$=T?E[1]/E[3]*f:0,G=y._offset-Q,X=m._offset-$;v.clipRect.call(w.setTranslate,V,te).call(w.setScale,1/F,1/j),v.plot.call(w.setTranslate,G,X).call(w.setScale,F,j),w.setPointGroupScale(v.zoomScalePts,1/F,1/j),w.setTextPointsScale(v.zoomScaleTxt,1/F,1/j)}b.redrawComponents(h)}},14944:function(Y,P,e){var A=e(24040).traceIs,k=e(52976);function a(b){return{v:"x",h:"y"}[b.orientation||"v"]}function w(b,h){var o=a(b),t=A(b,"box-violin"),i=A(b._fullInput||{},"candlestick");return t&&!i&&h===o&&b[o]===void 0&&b[o+"0"]===void 0}Y.exports=function(b,h,o,t){o("autotypenumbers",t.autotypenumbersDflt),o("type",(t.splomStash||{}).type)==="-"&&(function(i,n){if(i.type==="-"){var r,s=i._id,l=s.charAt(0);s.indexOf("scene")!==-1&&(s=l);var u=function(m,_,f){for(var S=0;S<m.length;S++){var T=m[S];if(T.type==="splom"&&T._length>0&&(T["_"+f+"axes"]||{})[_]||(T[f+"axis"]||f)===_&&(w(T,f)||(T[f]||[]).length||T[f+"0"]))return T}}(n,s,l);if(u)if(u.type!=="histogram"||l!=={v:"y",h:"x"}[u.orientation||"v"]){var d=l+"calendar",c=u[d],x={noMultiCategory:!A(u,"cartesian")||A(u,"noMultiCategory")};if(u.type==="box"&&u._hasPreCompStats&&l==={h:"x",v:"y"}[u.orientation||"v"]&&(x.noMultiCategory=!0),x.autotypenumbers=i.autotypenumbers,w(u,l)){var g=a(u),p=[];for(r=0;r<n.length;r++){var v=n[r];A(v,"box-violin")&&(v[l+"axis"]||l)===s&&(v[g]!==void 0?p.push(v[g][0]):v.name!==void 0?p.push(v.name):p.push("text"),v[d]!==c&&(c=void 0))}i.type=k(p,c,x)}else if(u.type==="splom"){var y=u.dimensions[u._axesDim[s]];y.visible&&(i.type=k(y.values,c,x))}else i.type=k(u[l]||[u[l+"0"]],c,x)}else i.type="linear"}}(h,t.data),h.type==="-"?h.type="linear":b.type=h.type)}},62460:function(Y,P,e){var A=e(24040),k=e(3400);function a(o,t,i){var n,r,s,l=!1;if(t.type==="data")n=o._fullData[t.traces!==null?t.traces[0]:0];else{if(t.type!=="layout")return!1;n=o._fullLayout}return r=k.nestedProperty(n,t.prop).get(),(s=i[t.type]=i[t.type]||{}).hasOwnProperty(t.prop)&&s[t.prop]!==r&&(l=!0),s[t.prop]=r,{changed:l,value:r}}function w(o,t){var i=[],n=t[0],r={};if(typeof n=="string")r[n]=t[1];else{if(!k.isPlainObject(n))return i;r=n}return h(r,function(s,l,u){i.push({type:"layout",prop:s,value:u})},"",0),i}function b(o,t){var i,n,r,s,l=[];if(n=t[0],r=t[1],i=t[2],s={},typeof n=="string")s[n]=r;else{if(!k.isPlainObject(n))return l;s=n,i===void 0&&(i=r)}return i===void 0&&(i=null),h(s,function(u,d,c){var x,g;if(Array.isArray(c)){g=c.slice();var p=Math.min(g.length,o.data.length);i&&(p=Math.min(p,i.length)),x=[];for(var v=0;v<p;v++)x[v]=i?i[v]:v}else g=c,x=i?i.slice():null;if(x===null)Array.isArray(g)&&(g=g[0]);else if(Array.isArray(x)){if(!Array.isArray(g)){var y=g;g=[];for(var m=0;m<x.length;m++)g[m]=y}g.length=Math.min(x.length,g.length)}l.push({type:"data",prop:u,traces:x,value:g})},"",0),l}function h(o,t,i,n){Object.keys(o).forEach(function(r){var s=o[r];if(r[0]!=="_"){var l=i+(n>0?".":"")+r;k.isPlainObject(s)?h(s,t,l,n+1):t(l,r,s)}})}P.manageCommandObserver=function(o,t,i,n){var r={},s=!0;t&&t._commandObserver&&(r=t._commandObserver),r.cache||(r.cache={}),r.lookupTable={};var l=P.hasSimpleAPICommandBindings(o,i,r.lookupTable);if(t&&t._commandObserver){if(l)return r;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,r}if(l){a(o,l,r.cache),r.check=function(){if(s){var c=a(o,l,r.cache);return c.changed&&n&&r.lookupTable[c.value]!==void 0&&(r.disable(),Promise.resolve(n({value:c.value,type:l.type,prop:l.prop,traces:l.traces,index:r.lookupTable[c.value]})).then(r.enable,r.enable)),c.changed}};for(var u=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],d=0;d<u.length;d++)o._internalOn(u[d],r.check);r.remove=function(){for(var c=0;c<u.length;c++)o._removeInternalListener(u[c],r.check)}}else k.log("Unable to automatically bind plot updates to API command"),r.lookupTable={},r.remove=function(){};return r.disable=function(){s=!1},r.enable=function(){s=!0},t&&(t._commandObserver=r),r},P.hasSimpleAPICommandBindings=function(o,t,i){var n,r,s=t.length;for(n=0;n<s;n++){var l,u=t[n],d=u.method,c=u.args;if(Array.isArray(c)||(c=[]),!d)return!1;var x=P.computeAPICommandBindings(o,d,c);if(x.length!==1)return!1;if(r){if((l=x[0]).type!==r.type||l.prop!==r.prop)return!1;if(Array.isArray(r.traces)){if(!Array.isArray(l.traces))return!1;l.traces.sort();for(var g=0;g<r.traces.length;g++)if(r.traces[g]!==l.traces[g])return!1}else if(l.prop!==r.prop)return!1}else r=x[0],Array.isArray(r.traces)&&r.traces.sort();var p=(l=x[0]).value;if(Array.isArray(p)){if(p.length!==1)return!1;p=p[0]}i&&(i[p]=n)}return r},P.executeAPICommand=function(o,t,i){if(t==="skip")return Promise.resolve();var n=A.apiMethodRegistry[t],r=[o];Array.isArray(i)||(i=[]);for(var s=0;s<i.length;s++)r.push(i[s]);return n.apply(null,r).catch(function(l){return k.warn("API call to Plotly."+t+" rejected.",l),Promise.reject(l)})},P.computeAPICommandBindings=function(o,t,i){var n;switch(Array.isArray(i)||(i=[]),t){case"restyle":n=b(o,i);break;case"relayout":n=w(0,i);break;case"update":n=b(o,[i[0],i[2]]).concat(w(0,[i[1]]));break;case"animate":n=function(r,s){return Array.isArray(s[0])&&s[0].length===1&&["string","number"].indexOf(typeof s[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:s[0][0].toString()}]:[]}(0,i);break;default:n=[]}return n}},86968:function(Y,P,e){var A=e(92880).extendFlat;P.u=function(k,a){a=a||{};var w={valType:"info_array",editType:(k=k||{}).editType,items:[{valType:"number",min:0,max:1,editType:k.editType},{valType:"number",min:0,max:1,editType:k.editType}],dflt:[0,1]},b=(k.name&&k.name,k.trace,a.description&&a.description,{x:A({},w,{}),y:A({},w,{}),editType:k.editType});return k.noGridCell||(b.row={valType:"integer",min:0,dflt:0,editType:k.editType},b.column={valType:"integer",min:0,dflt:0,editType:k.editType}),b},P.Q=function(k,a,w,b){var h=b&&b.x||[0,1],o=b&&b.y||[0,1],t=a.grid;if(t){var i=w("domain.column");i!==void 0&&(i<t.columns?h=t._domains.x[i]:delete k.domain.column);var n=w("domain.row");n!==void 0&&(n<t.rows?o=t._domains.y[n]:delete k.domain.row)}var r=w("domain.x",h),s=w("domain.y",o);r[0]<r[1]||(k.domain.x=h.slice()),s[0]<s[1]||(k.domain.y=o.slice())}},25376:function(Y){Y.exports=function(P){var e=P.editType,A=P.colorEditType;A===void 0&&(A=e);var k={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:A},editType:e};return P.autoSize&&(k.size.dflt="auto"),P.autoColor&&(k.color.dflt="auto"),P.arrayOk&&(k.family.arrayOk=!0,k.size.arrayOk=!0,k.color.arrayOk=!0),k}},16672:function(Y){Y.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},79552:function(Y,P){P.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},P.axesNames=["lonaxis","lataxis"],P.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},P.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},P.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},P.clipPad=.001,P.precision=.1,P.landColor="#F0DC82",P.waterColor="#3399FF",P.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},P.sphereSVG={type:"Sphere"},P.fillLayers={ocean:1,land:1,lakes:1},P.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},P.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],P.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],P.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},43520:function(Y,P,e){var A=e(33428),k=e(83356),a=k.geoPath,w=k.geoDistance,b=e(87108),h=e(24040),o=e(3400),t=o.strTranslate,i=e(76308),n=e(43616),r=e(93024),s=e(7316),l=e(54460),u=e(19280).getAutoRange,d=e(86476),c=e(22676).prepSelect,x=e(22676).clearOutline,g=e(22676).selectOnClick,p=e(79248),v=e(79552),y=e(27144),m=e(59972),_=e(55712).NO;function f(E){this.id=E.id,this.graphDiv=E.graphDiv,this.container=E.container,this.topojsonURL=E.topojsonURL,this.isStatic=E.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var S=f.prototype;function T(E,C){var O=v.clipPad,I=E[0]+O,z=E[1]-O,U=C[0]+O,D=C[1]-O;I>0&&z<0&&(z+=360);var B=(z-I)/4;return{type:"Polygon",coordinates:[[[I,U],[I,D],[I+B,D],[I+2*B,D],[I+3*B,D],[z,D],[z,U],[z-B,U],[z-2*B,U],[z-3*B,U],[I,U]]]}}Y.exports=function(E){return new f(E)},S.plot=function(E,C,O,I){var z=this;if(I)return z.update(E,C,!0);z._geoCalcData=E,z._fullLayout=C;var U=C[this.id],D=[],B=!1;for(var Z in v.layerNameToAdjective)if(Z!=="frame"&&U["show"+Z]){B=!0;break}for(var F=!1,j=0;j<E.length;j++){var V=E[0][0].trace;V._geo=z,V.locationmode&&(B=!0);var te=V.marker;if(te){var Q=te.angle,$=te.angleref;(Q||$==="north"||$==="previous")&&(F=!0)}}if(this._hasMarkerAngles=F,B){var G=m.getTopojsonName(U);z.topojson!==null&&G===z.topojsonName||(z.topojsonName=G,PlotlyGeoAssets.topojson[z.topojsonName]===void 0&&D.push(z.fetchTopojson()))}D=D.concat(y.fetchTraceGeoData(E)),O.push(new Promise(function(X,J){Promise.all(D).then(function(){z.topojson=PlotlyGeoAssets.topojson[z.topojsonName],z.update(E,C),X()}).catch(J)}))},S.fetchTopojson=function(){var E=this,C=m.getTopojsonPath(E.topojsonURL,E.topojsonName);return new Promise(function(O,I){A.json(C,function(z,U){if(z)return z.status===404?I(new Error(["plotly.js could not find topojson file at",C+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):I(new Error(["unexpected error while fetching topojson file at",C].join(" ")));PlotlyGeoAssets.topojson[E.topojsonName]=U,O()})})},S.update=function(E,C,O){var I=C[this.id];this.hasChoropleth=!1;for(var z=0;z<E.length;z++){var U=E[z],D=U[0].trace;D.type==="choropleth"&&(this.hasChoropleth=!0),D.visible===!0&&D._length>0&&D._module.calcGeoJSON(U,C)}if(!O){if(this.updateProjection(E,C))return;this.viewInitial&&this.scope===I.scope||this.saveViewInitial(I)}this.scope=I.scope,this.updateBaseLayers(C,I),this.updateDims(C,I),this.updateFx(C,I),s.generalUpdatePerTraceModule(this.graphDiv,this,E,I);var B=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=B.selectAll(".point"),this.dataPoints.text=B.selectAll("text"),this.dataPaths.line=B.selectAll(".js-line");var Z=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=Z.selectAll("path"),this._render()},S.updateProjection=function(E,C){var O=this.graphDiv,I=C[this.id],z=C._size,U=I.domain,D=I.projection,B=I.lonaxis,Z=I.lataxis,F=B._ax,j=Z._ax,V=this.projection=function(se){var de=se.projection,Ee=de.type,Te=v.projNames[Ee];Te="geo"+o.titleCase(Te);for(var Se=(k[Te]||b[Te])(),Le=se._isSatellite?180*Math.acos(1/de.distance)/Math.PI:se._isClipped?v.lonaxisSpan[Ee]/2:null,Oe=["center","rotate","parallels","clipExtent"],he=function(Re){return Re?Se:[]},xe=0;xe<Oe.length;xe++){var ke=Oe[xe];typeof Se[ke]!="function"&&(Se[ke]=he)}return Se.isLonLatOverEdges=function(Re){if(Se(Re)===null)return!0;if(Le){var ze=Se.rotate();return w(Re,[-ze[0],-ze[1]])>Le*Math.PI/180}return!1},Se.getPath=function(){return a().projection(Se)},Se.getBounds=function(Re){return Se.getPath().bounds(Re)},Se.precision(v.precision),se._isSatellite&&Se.tilt(de.tilt).distance(de.distance),Le&&Se.clipAngle(Le-v.clipPad),Se}(I),te=[[z.l+z.w*U.x[0],z.t+z.h*(1-U.y[1])],[z.l+z.w*U.x[1],z.t+z.h*(1-U.y[0])]],Q=I.center||{},$=D.rotation||{},G=B.range||[],X=Z.range||[];if(I.fitbounds){F._length=te[1][0]-te[0][0],j._length=te[1][1]-te[0][1],F.range=u(O,F),j.range=u(O,j);var J=(F.range[0]+F.range[1])/2,ne=(j.range[0]+j.range[1])/2;if(I._isScoped)Q={lon:J,lat:ne};else if(I._isClipped){Q={lon:J,lat:ne},$={lon:J,lat:ne,roll:$.roll};var ie=D.type,ae=v.lonaxisSpan[ie]/2||180,le=v.lataxisSpan[ie]/2||90;G=[J-ae,J+ae],X=[ne-le,ne+le]}else Q={lon:J,lat:ne},$={lon:J,lat:$.lat,roll:$.roll}}V.center([Q.lon-$.lon,Q.lat-$.lat]).rotate([-$.lon,-$.lat,$.roll]).parallels(D.parallels);var ce=T(G,X);V.fitExtent(te,ce);var pe=this.bounds=V.getBounds(ce),ge=this.fitScale=V.scale(),me=V.translate();if(I.fitbounds){var ve=V.getBounds(T(F.range,j.range)),Me=Math.min((pe[1][0]-pe[0][0])/(ve[1][0]-ve[0][0]),(pe[1][1]-pe[0][1])/(ve[1][1]-ve[0][1]));isFinite(Me)?V.scale(Me*ge):o.warn("Something went wrong during"+this.id+"fitbounds computations.")}else V.scale(D.scale*ge);var _e=this.midPt=[(pe[0][0]+pe[1][0])/2,(pe[0][1]+pe[1][1])/2];if(V.translate([me[0]+(_e[0]-me[0]),me[1]+(_e[1]-me[1])]).clipExtent(pe),I._isAlbersUsa){var we=V([Q.lon,Q.lat]),oe=V.translate();V.translate([oe[0]-(we[0]-oe[0]),oe[1]-(we[1]-oe[1])])}},S.updateBaseLayers=function(E,C){var O=this,I=O.topojson,z=O.layers,U=O.basePaths;function D(V){return V==="lonaxis"||V==="lataxis"}function B(V){return Boolean(v.lineLayers[V])}function Z(V){return Boolean(v.fillLayers[V])}var F=(this.hasChoropleth?v.layersForChoropleth:v.layers).filter(function(V){return B(V)||Z(V)?C["show"+V]:!D(V)||C[V].showgrid}),j=O.framework.selectAll(".layer").data(F,String);j.exit().each(function(V){delete z[V],delete U[V],A.select(this).remove()}),j.enter().append("g").attr("class",function(V){return"layer "+V}).each(function(V){var te=z[V]=A.select(this);V==="bg"?O.bgRect=te.append("rect").style("pointer-events","all"):D(V)?U[V]=te.append("path").style("fill","none"):V==="backplot"?te.append("g").classed("choroplethlayer",!0):V==="frontplot"?te.append("g").classed("scatterlayer",!0):B(V)?U[V]=te.append("path").style("fill","none").style("stroke-miterlimit",2):Z(V)&&(U[V]=te.append("path").style("stroke","none"))}),j.order(),j.each(function(V){var te=U[V],Q=v.layerNameToAdjective[V];V==="frame"?te.datum(v.sphereSVG):B(V)||Z(V)?te.datum(_(I,I.objects[V])):D(V)&&te.datum(function($,G,X){var J,ne,ie,ae=G[$],le=v.scopeDefaults[G.scope];$==="lonaxis"?(J=le.lonaxisRange,ne=le.lataxisRange,ie=function(oe,se){return[oe,se]}):$==="lataxis"&&(J=le.lataxisRange,ne=le.lonaxisRange,ie=function(oe,se){return[se,oe]});var ce={type:"linear",range:[J[0],J[1]-1e-6],tick0:ae.tick0,dtick:ae.dtick};l.setConvert(ce,X);var pe=l.calcTicks(ce);G.isScoped||$!=="lonaxis"||pe.pop();for(var ge=pe.length,me=new Array(ge),ve=0;ve<ge;ve++)for(var Me=pe[ve].x,_e=me[ve]=[],we=ne[0];we<ne[1]+2.5;we+=2.5)_e.push(ie(Me,we));return{type:"MultiLineString",coordinates:me}}(V,C,E)).call(i.stroke,C[V].gridcolor).call(n.dashLine,C[V].griddash,C[V].gridwidth),B(V)?te.call(i.stroke,C[Q+"color"]).call(n.dashLine,"",C[Q+"width"]):Z(V)&&te.call(i.fill,C[Q+"color"])})},S.updateDims=function(E,C){var O=this.bounds,I=(C.framewidth||0)/2,z=O[0][0]-I,U=O[0][1]-I,D=O[1][0]-z+I,B=O[1][1]-U+I;n.setRect(this.clipRect,z,U,D,B),this.bgRect.call(n.setRect,z,U,D,B).call(i.fill,C.bgcolor),this.xaxis._offset=z,this.xaxis._length=D,this.yaxis._offset=U,this.yaxis._length=B},S.updateFx=function(E,C){var O=this,I=O.graphDiv,z=O.bgRect,U=E.dragmode,D=E.clickmode;if(!O.isStatic){var B={element:O.bgRect.node(),gd:I,plotinfo:{id:O.id,xaxis:O.xaxis,yaxis:O.yaxis,fillRangeItems:function(F,j){j.isRect?(F.range={})[O.id]=[Z([j.xmin,j.ymin]),Z([j.xmax,j.ymax])]:(F.lassoPoints={})[O.id]=j.map(Z)}},xaxes:[O.xaxis],yaxes:[O.yaxis],subplot:O.id,clickFn:function(F){F===2&&x(I)}};U==="pan"?(z.node().onmousedown=null,z.call(p(O,C)),z.on("dblclick.zoom",function(){var F=O.viewInitial,j={};for(var V in F)j[O.id+"."+V]=F[V];h.call("_guiRelayout",I,j),I.emit("plotly_doubleclick",null)}),I._context._scrollZoom.geo||z.on("wheel.zoom",null)):U!=="select"&&U!=="lasso"||(z.on(".zoom",null),B.prepFn=function(F,j,V){c(F,j,V,B,U)},d.init(B)),z.on("mousemove",function(){var F=O.projection.invert(o.getPositionFromD3Event());if(!F)return d.unhover(I,A.event);O.xaxis.p2c=function(){return F[0]},O.yaxis.p2c=function(){return F[1]},r.hover(I,A.event,O.id)}),z.on("mouseout",function(){I._dragging||d.unhover(I,A.event)}),z.on("click",function(){U!=="select"&&U!=="lasso"&&(D.indexOf("select")>-1&&g(A.event,I,[O.xaxis],[O.yaxis],O.id,B),D.indexOf("event")>-1&&r.click(I,A.event))})}function Z(F){return O.projection.invert([F[0]+O.xaxis._offset,F[1]+O.yaxis._offset])}},S.makeFramework=function(){var E=this,C=E.graphDiv,O=C._fullLayout,I="clip"+O._uid+E.id;E.clipDef=O._clips.append("clipPath").attr("id",I),E.clipRect=E.clipDef.append("rect"),E.framework=A.select(E.container).append("g").attr("class","geo "+E.id).call(n.setClipUrl,I,C),E.project=function(z){var U=E.projection(z);return U?[U[0]-E.xaxis._offset,U[1]-E.yaxis._offset]:[null,null]},E.xaxis={_id:"x",c2p:function(z){return E.project(z)[0]}},E.yaxis={_id:"y",c2p:function(z){return E.project(z)[1]}},E.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},l.setConvert(E.mockAxis,O)},S.saveViewInitial=function(E){var C,O=E.center||{},I=E.projection,z=I.rotation||{};this.viewInitial={fitbounds:E.fitbounds,"projection.scale":I.scale},C=E._isScoped?{"center.lon":O.lon,"center.lat":O.lat}:E._isClipped?{"projection.rotation.lon":z.lon,"projection.rotation.lat":z.lat}:{"center.lon":O.lon,"center.lat":O.lat,"projection.rotation.lon":z.lon},o.extendFlat(this.viewInitial,C)},S.render=function(E){this._hasMarkerAngles&&E?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},S._render=function(){var E,C=this.projection,O=C.getPath();function I(U){var D=C(U.lonlat);return D?t(D[0],D[1]):null}function z(U){return C.isLonLatOverEdges(U.lonlat)?"none":null}for(E in this.basePaths)this.basePaths[E].attr("d",O);for(E in this.dataPaths)this.dataPaths[E].attr("d",function(U){return O(U.geojson)});for(E in this.dataPoints)this.dataPoints[E].attr("display",z).attr("transform",I)}},10816:function(Y,P,e){var A=e(84888).KY,k=e(3400).counterRegex,a=e(43520),w="geo",b=k(w),h={};h[w]={valType:"subplotid",dflt:w,editType:"calc"},Y.exports={attr:w,name:w,idRoot:w,idRegex:b,attrRegex:b,attributes:h,layoutAttributes:e(40384),supplyLayoutDefaults:e(86920),plot:function(o){for(var t=o._fullLayout,i=o.calcdata,n=t._subplots[w],r=0;r<n.length;r++){var s=n[r],l=A(i,w,s),u=t[s]._subplot;u||(u=a({id:s,graphDiv:o,container:t._geolayer.node(),topojsonURL:o._context.topojsonURL,staticPlot:o._context.staticPlot}),t[s]._subplot=u),u.plot(l,t,o._promises)}},updateFx:function(o){for(var t=o._fullLayout,i=t._subplots[w],n=0;n<i.length;n++){var r=t[i[n]];r._subplot.updateFx(t,r)}},clean:function(o,t,i,n){for(var r=n._subplots[w]||[],s=0;s<r.length;s++){var l=r[s],u=n[l]._subplot;!t[l]&&u&&(u.framework.remove(),u.clipDef.remove())}}}},40384:function(Y,P,e){var A=e(22548),k=e(86968).u,a=e(98192).u,w=e(79552),b=e(67824).overrideAll,h=e(95376),o={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:A.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:a};(Y.exports=b({domain:k({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:h(w.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:h(w.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:A.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:w.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:w.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:w.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:w.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:A.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:A.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:A.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:A.background},lonaxis:o,lataxis:o},"plot","from-root")).uirevision={valType:"any",editType:"none"}},86920:function(Y,P,e){var A=e(3400),k=e(168),a=e(84888).op,w=e(79552),b=e(40384),h=w.axesNames;function o(t,i,n,r){var s=a(r.fullData,"geo",r.id).map(function($){return $._expandedIndex}),l=n("resolution"),u=n("scope"),d=w.scopeDefaults[u],c=n("projection.type",d.projType),x=i._isAlbersUsa=c==="albers usa";x&&(u=i.scope="usa");var g=i._isScoped=u!=="world",p=i._isSatellite=c==="satellite",v=i._isConic=c.indexOf("conic")!==-1||c==="albers",y=i._isClipped=!!w.lonaxisSpan[c];if(t.visible===!1){var m=A.extendDeep({},i._template);m.showcoastlines=!1,m.showcountries=!1,m.showframe=!1,m.showlakes=!1,m.showland=!1,m.showocean=!1,m.showrivers=!1,m.showsubunits=!1,m.lonaxis&&(m.lonaxis.showgrid=!1),m.lataxis&&(m.lataxis.showgrid=!1),i._template=m}for(var _=n("visible"),f=0;f<h.length;f++){var S,T=h[f],E=[30,10][f];if(g)S=d[T+"Range"];else{var C=w[T+"Span"],O=(C[c]||C["*"])/2,I=n("projection.rotation."+T.substr(0,3),d.projRotate[f]);S=[I-O,I+O]}var z=n(T+".range",S);n(T+".tick0"),n(T+".dtick",E),n(T+".showgrid",!!_&&void 0)&&(n(T+".gridcolor"),n(T+".gridwidth"),n(T+".griddash")),i[T]._ax={type:"linear",_id:T.slice(0,3),_traceIndices:s,setScale:A.identity,c2l:A.identity,r2l:A.identity,autorange:!0,range:z.slice(),_m:1,_input:{}}}var U=i.lonaxis.range,D=i.lataxis.range,B=U[0],Z=U[1];B>0&&Z<0&&(Z+=360);var F,j,V,te=(B+Z)/2;if(!x){var Q=g?d.projRotate:[te,0,0];F=n("projection.rotation.lon",Q[0]),n("projection.rotation.lat",Q[1]),n("projection.rotation.roll",Q[2]),n("showcoastlines",!g&&_)&&(n("coastlinecolor"),n("coastlinewidth")),n("showocean",!!_&&void 0)&&n("oceancolor")}x?(j=-96.6,V=38.7):(j=g?te:F,V=(D[0]+D[1])/2),n("center.lon",j),n("center.lat",V),p&&(n("projection.tilt"),n("projection.distance")),v&&n("projection.parallels",d.projParallels||[0,60]),n("projection.scale"),n("showland",!!_&&void 0)&&n("landcolor"),n("showlakes",!!_&&void 0)&&n("lakecolor"),n("showrivers",!!_&&void 0)&&(n("rivercolor"),n("riverwidth")),n("showcountries",g&&u!=="usa"&&_)&&(n("countrycolor"),n("countrywidth")),(u==="usa"||u==="north america"&&l===50)&&(n("showsubunits",_),n("subunitcolor"),n("subunitwidth")),g||n("showframe",_)&&(n("framecolor"),n("framewidth")),n("bgcolor"),n("fitbounds")&&(delete i.projection.scale,g?(delete i.center.lon,delete i.center.lat):y?(delete i.center.lon,delete i.center.lat,delete i.projection.rotation.lon,delete i.projection.rotation.lat,delete i.lonaxis.range,delete i.lataxis.range):(delete i.center.lon,delete i.center.lat,delete i.projection.rotation.lon))}Y.exports=function(t,i,n){k(t,i,n,{type:"geo",attributes:b,handleDefaults:o,fullData:n,partition:"y"})}},79248:function(Y,P,e){var A=e(33428),k=e(3400),a=e(24040),w=Math.PI/180,b=180/Math.PI,h={cursor:"pointer"},o={cursor:"auto"};function t(g,p){return A.behavior.zoom().translate(p.translate()).scale(p.scale())}function i(g,p,v){var y=g.id,m=g.graphDiv,_=m.layout,f=_[y],S=m._fullLayout,T=S[y],E={},C={};function O(I,z){E[y+"."+I]=k.nestedProperty(f,I).get(),a.call("_storeDirectGUIEdit",_,S._preGUI,E);var U=k.nestedProperty(T,I);U.get()!==z&&(U.set(z),k.nestedProperty(f,I).set(z),C[y+"."+I]=z)}v(O),O("projection.scale",p.scale()/g.fitScale),O("fitbounds",!1),m.emit("plotly_relayout",C)}function n(g,p){var v=t(0,p);function y(m){var _=p.invert(g.midPt);m("center.lon",_[0]),m("center.lat",_[1])}return v.on("zoomstart",function(){A.select(this).style(h)}).on("zoom",function(){p.scale(A.event.scale).translate(A.event.translate),g.render(!0);var m=p.invert(g.midPt);g.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":p.scale()/g.fitScale,"geo.center.lon":m[0],"geo.center.lat":m[1]})}).on("zoomend",function(){A.select(this).style(o),i(g,p,y)}),v}function r(g,p){var v,y,m,_,f,S,T,E,C,O=t(0,p);function I(U){return p.invert(U)}function z(U){var D=p.rotate(),B=p.invert(g.midPt);U("projection.rotation.lon",-D[0]),U("center.lon",B[0]),U("center.lat",B[1])}return O.on("zoomstart",function(){A.select(this).style(h),v=A.mouse(this),y=p.rotate(),m=p.translate(),_=y,f=I(v)}).on("zoom",function(){if(S=A.mouse(this),function(B){var Z=I(B);if(!Z)return!0;var F=p(Z);return Math.abs(F[0]-B[0])>2||Math.abs(F[1]-B[1])>2}(v))return O.scale(p.scale()),void O.translate(p.translate());p.scale(A.event.scale),p.translate([m[0],A.event.translate[1]]),f?I(S)&&(E=I(S),T=[_[0]+(E[0]-f[0]),y[1],y[2]],p.rotate(T),_=T):f=I(v=S),C=!0,g.render(!0);var U=p.rotate(),D=p.invert(g.midPt);g.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":p.scale()/g.fitScale,"geo.center.lon":D[0],"geo.center.lat":D[1],"geo.projection.rotation.lon":-U[0]})}).on("zoomend",function(){A.select(this).style(o),C&&i(g,p,z)}),O}function s(g,p){var v;p.rotate(),p.scale();var y=t(0,p),m=function(T){for(var E=0,C=arguments.length,O=[];++E<C;)O.push(arguments[E]);var I=A.dispatch.apply(null,O);return I.of=function(z,U){return function(D){var B;try{B=D.sourceEvent=A.event,D.target=T,A.event=D,I[D.type].apply(z,U)}finally{A.event=B}}},I}(y,"zoomstart","zoom","zoomend"),_=0,f=y.on;function S(T){var E=p.rotate();T("projection.rotation.lon",-E[0]),T("projection.rotation.lat",-E[1])}return y.on("zoomstart",function(){A.select(this).style(h);var T,E,C,O,I,z,U,D,B,Z,F,j=A.mouse(this),V=p.rotate(),te=V,Q=p.translate(),$=(E=.5*(T=V)[0]*w,C=.5*T[1]*w,O=.5*T[2]*w,I=Math.sin(E),z=Math.cos(E),U=Math.sin(C),D=Math.cos(C),B=Math.sin(O),[z*D*(Z=Math.cos(O))+I*U*B,I*D*Z-z*U*B,z*U*Z+I*D*B,z*D*B-I*U*Z]);v=l(p,j),f.call(y,"zoom",function(){var G,X,J,ne,ie,ae,le,ce,pe,ge,me=A.mouse(this);if(p.scale(A.event.scale),v){if(l(p,me)){p.rotate(V).translate(Q);var ve=l(p,me),Me=function(oe,se){if(oe&&se){var de=function(Le,Oe){return[Le[1]*Oe[2]-Le[2]*Oe[1],Le[2]*Oe[0]-Le[0]*Oe[2],Le[0]*Oe[1]-Le[1]*Oe[0]]}(oe,se),Ee=Math.sqrt(x(de,de)),Te=.5*Math.acos(Math.max(-1,Math.min(1,x(oe,se)))),Se=Math.sin(Te)/Ee;return Ee&&[Math.cos(Te),de[2]*Se,-de[1]*Se,de[0]*Se]}}(v,ve),_e=function(oe){return[Math.atan2(2*(oe[0]*oe[1]+oe[2]*oe[3]),1-2*(oe[1]*oe[1]+oe[2]*oe[2]))*b,Math.asin(Math.max(-1,Math.min(1,2*(oe[0]*oe[2]-oe[3]*oe[1]))))*b,Math.atan2(2*(oe[0]*oe[3]+oe[1]*oe[2]),1-2*(oe[2]*oe[2]+oe[3]*oe[3]))*b]}((J=(G=$)[0],ne=G[1],ie=G[2],ae=G[3],[J*(le=(X=Me)[0])-ne*(ce=X[1])-ie*(pe=X[2])-ae*(ge=X[3]),J*ce+ne*le+ie*ge-ae*pe,J*pe-ne*ge+ie*le+ae*ce,J*ge+ne*pe-ie*ce+ae*le])),we=function(oe,se,de){var Ee=c(se,2,oe[0]);Ee=c(Ee,1,oe[1]),Ee=c(Ee,0,oe[2]-de[2]);var Te,Se,Le=se[0],Oe=se[1],he=se[2],xe=Ee[0],ke=Ee[1],Re=Ee[2],ze=Math.atan2(Oe,Le)*b,Ie=Math.sqrt(Le*Le+Oe*Oe);Math.abs(ke)>Ie?(Se=(ke>0?90:-90)-ze,Te=0):(Se=Math.asin(ke/Ie)*b-ze,Te=Math.sqrt(Ie*Ie-ke*ke));var He=180-Se-2*ze,qe=(Math.atan2(Re,xe)-Math.atan2(he,Te))*b,Je=(Math.atan2(Re,xe)-Math.atan2(he,-Te))*b;return u(de[0],de[1],Se,qe)<=u(de[0],de[1],He,Je)?[Se,qe,de[2]]:[He,Je,de[2]]}(_e,v,te);isFinite(we[0])&&isFinite(we[1])&&isFinite(we[2])||(we=te),p.rotate(we),te=we}}else v=l(p,j=me);m.of(this,arguments)({type:"zoom"})}),F=m.of(this,arguments),_++||F({type:"zoomstart"})}).on("zoomend",function(){var T;A.select(this).style(o),f.call(y,"zoom",null),T=m.of(this,arguments),--_||T({type:"zoomend"}),i(g,p,S)}).on("zoom.redraw",function(){g.render(!0);var T=p.rotate();g.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":p.scale()/g.fitScale,"geo.projection.rotation.lon":-T[0],"geo.projection.rotation.lat":-T[1]})}),A.rebind(y,m,"on")}function l(g,p){var v=g.invert(p);return v&&isFinite(v[0])&&isFinite(v[1])&&function(y){var m=y[0]*w,_=y[1]*w,f=Math.cos(_);return[f*Math.cos(m),f*Math.sin(m),Math.sin(_)]}(v)}function u(g,p,v,y){var m=d(v-g),_=d(y-p);return Math.sqrt(m*m+_*_)}function d(g){return(g%360+540)%360-180}function c(g,p,v){var y=v*w,m=g.slice(),_=p===0?1:0,f=p===2?1:2,S=Math.cos(y),T=Math.sin(y);return m[_]=g[_]*S-g[f]*T,m[f]=g[f]*S+g[_]*T,m}function x(g,p){for(var v=0,y=0,m=g.length;y<m;++y)v+=g[y]*p[y];return v}Y.exports=function(g,p){var v=g.projection;return(p._isScoped?n:p._isClipped?s:r)(g,v)}},84888:function(Y,P,e){var A=e(24040),k=e(33816).SUBPLOT_PATTERN;P.KY=function(a,w,b){var h=A.subplotsRegistry[w];if(!h)return[];for(var o=h.attr,t=[],i=0;i<a.length;i++){var n=a[i];n[0].trace[o]===b&&t.push(n)}return t},P._M=function(a,w){var b,h=[],o=[];if(!(b=typeof w=="string"?A.getModule(w).plot:typeof w=="function"?w:w.plot))return[h,a];for(var t=0;t<a.length;t++){var i=a[t],n=i[0].trace;n.visible===!0&&n._length!==0&&(n._module&&n._module.plot===b?h.push(i):o.push(i))}return[h,o]},P.op=function(a,w,b){if(!A.subplotsRegistry[w])return[];var h,o,t,i=A.subplotsRegistry[w].attr,n=[];if(w==="gl2d"){var r=b.match(k);o="x"+r[1],t="y"+r[2]}for(var s=0;s<a.length;s++)h=a[s],w==="gl2d"&&A.traceIs(h,"gl2d")?h[i[0]]===o&&h[i[1]]===t&&n.push(h):h[i]===b&&n.push(h);return n}},2428:function(Y,P,e){var A=e(62644),k=e(97264),a=e(29128),w=e(33816),b=e(89184);function h(o,t){this.element=o,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}Y.exports=function(o){var t=o.mouseContainer,i=o.glplot,n=new h(t,i);function r(){o.xaxis.autorange=!1,o.yaxis.autorange=!1}function s(l,u,d){var c,x,g=o.calcDataBox(),p=i.viewBox,v=n.lastPos[0],y=n.lastPos[1],m=w.MINDRAG*i.pixelRatio,_=w.MINZOOM*i.pixelRatio;function f(I,z,U){var D=Math.min(z,U),B=Math.max(z,U);D!==B?(g[I]=D,g[I+2]=B,n.dataBox=g,o.setRanges(g)):(o.selectBox.selectBox=[0,0,1,1],o.glplot.setDirty())}switch(u*=i.pixelRatio,d*=i.pixelRatio,d=p[3]-p[1]-d,o.fullLayout.dragmode){case"zoom":if(l){var S=u/(p[2]-p[0])*(g[2]-g[0])+g[0],T=d/(p[3]-p[1])*(g[3]-g[1])+g[1];n.boxInited||(n.boxStart[0]=S,n.boxStart[1]=T,n.dragStart[0]=u,n.dragStart[1]=d),n.boxEnd[0]=S,n.boxEnd[1]=T,n.boxInited=!0,n.boxEnabled||n.boxStart[0]===n.boxEnd[0]&&n.boxStart[1]===n.boxEnd[1]||(n.boxEnabled=!0);var E=Math.abs(n.dragStart[0]-u)<_,C=Math.abs(n.dragStart[1]-d)<_;if(!function(){for(var I=o.graphDiv._fullLayout._axisConstraintGroups,z=o.xaxis._id,U=o.yaxis._id,D=0;D<I.length;D++)if(I[D][z]!==-1){if(I[D][U]!==-1)return!0;break}return!1}()||E&&C)E&&(n.boxEnd[0]=n.boxStart[0]),C&&(n.boxEnd[1]=n.boxStart[1]);else{c=n.boxEnd[0]-n.boxStart[0],x=n.boxEnd[1]-n.boxStart[1];var O=(g[3]-g[1])/(g[2]-g[0]);Math.abs(c*O)>Math.abs(x)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(c)*O*(x>=0?1:-1),n.boxEnd[1]<g[1]?(n.boxEnd[1]=g[1],n.boxEnd[0]=n.boxStart[0]+(g[1]-n.boxStart[1])/Math.abs(O)):n.boxEnd[1]>g[3]&&(n.boxEnd[1]=g[3],n.boxEnd[0]=n.boxStart[0]+(g[3]-n.boxStart[1])/Math.abs(O))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(x)/O*(c>=0?1:-1),n.boxEnd[0]<g[0]?(n.boxEnd[0]=g[0],n.boxEnd[1]=n.boxStart[1]+(g[0]-n.boxStart[0])*Math.abs(O)):n.boxEnd[0]>g[2]&&(n.boxEnd[0]=g[2],n.boxEnd[1]=n.boxStart[1]+(g[2]-n.boxStart[0])*Math.abs(O)))}}else n.boxEnabled?(c=n.boxStart[0]!==n.boxEnd[0],x=n.boxStart[1]!==n.boxEnd[1],c||x?(c&&(f(0,n.boxStart[0],n.boxEnd[0]),o.xaxis.autorange=!1),x&&(f(1,n.boxStart[1],n.boxEnd[1]),o.yaxis.autorange=!1),o.relayoutCallback()):o.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,l?(n.panning||(n.dragStart[0]=u,n.dragStart[1]=d),Math.abs(n.dragStart[0]-u)<m&&(u=n.dragStart[0]),Math.abs(n.dragStart[1]-d)<m&&(d=n.dragStart[1]),c=(v-u)*(g[2]-g[0])/(i.viewBox[2]-i.viewBox[0]),x=(y-d)*(g[3]-g[1])/(i.viewBox[3]-i.viewBox[1]),g[0]+=c,g[2]+=c,g[1]+=x,g[3]+=x,o.setRanges(g),n.panning=!0,n.lastInputTime=Date.now(),r(),o.cameraChanged(),o.handleAnnotations()):n.panning&&(n.panning=!1,o.relayoutCallback())}n.lastPos[0]=u,n.lastPos[1]=d}return n.mouseListener=A(t,s),t.addEventListener("touchstart",function(l){var u=a(l.changedTouches[0],t);s(0,u[0],u[1]),s(1,u[0],u[1]),l.preventDefault()},!!b&&{passive:!1}),t.addEventListener("touchmove",function(l){l.preventDefault();var u=a(l.changedTouches[0],t);s(1,u[0],u[1]),l.preventDefault()},!!b&&{passive:!1}),t.addEventListener("touchend",function(l){s(0,n.lastPos[0],n.lastPos[1]),l.preventDefault()},!!b&&{passive:!1}),n.wheelListener=k(t,function(l,u){if(!o.scrollZoom)return!1;var d=o.calcDataBox(),c=i.viewBox,x=n.lastPos[0],g=n.lastPos[1],p=Math.exp(5*u/(c[3]-c[1])),v=x/(c[2]-c[0])*(d[2]-d[0])+d[0],y=g/(c[3]-c[1])*(d[3]-d[1])+d[1];return d[0]=(d[0]-v)*p+v,d[2]=(d[2]-v)*p+v,d[1]=(d[1]-y)*p+y,d[3]=(d[3]-y)*p+y,o.setRanges(d),n.lastInputTime=Date.now(),r(),o.cameraChanged(),o.handleAnnotations(),o.relayoutCallback(),!0},!0),n}},92568:function(Y,P,e){var A=e(54460),k=e(43080);function a(h){this.scene=h,this.gl=h.gl,this.pixelRatio=h.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var w=a.prototype,b=["xaxis","yaxis"];w.merge=function(h){var o,t,i,n,r,s,l,u,d,c,x;for(this.titleEnable=!1,this.backgroundColor=k(h.plot_bgcolor),c=0;c<2;++c){var g=(o=b[c]).charAt(0);for(i=(t=h[this.scene[o]._name]).title.text===this.scene.fullLayout._dfltTitle[g]?"":t.title.text,x=0;x<=2;x+=2)this.labelEnable[c+x]=!1,this.labels[c+x]=i,this.labelColor[c+x]=k(t.title.font.color),this.labelFont[c+x]=t.title.font.family,this.labelSize[c+x]=t.title.font.size,this.labelPad[c+x]=this.getLabelPad(o,t),this.tickEnable[c+x]=!1,this.tickColor[c+x]=k((t.tickfont||{}).color),this.tickAngle[c+x]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[c+x]=this.getTickPad(t),this.tickMarkLength[c+x]=0,this.tickMarkWidth[c+x]=t.tickwidth||0,this.tickMarkColor[c+x]=k(t.tickcolor),this.borderLineEnable[c+x]=!1,this.borderLineColor[c+x]=k(t.linecolor),this.borderLineWidth[c+x]=t.linewidth||0;l=this.hasSharedAxis(t),r=this.hasAxisInDfltPos(o,t)&&!l,s=this.hasAxisInAltrPos(o,t)&&!l,n=t.mirror||!1,u=l?String(n).indexOf("all")!==-1:!!n,d=l?n==="allticks":String(n).indexOf("ticks")!==-1,r?this.labelEnable[c]=!0:s&&(this.labelEnable[c+2]=!0),r?this.tickEnable[c]=t.showticklabels:s&&(this.tickEnable[c+2]=t.showticklabels),(r||u)&&(this.borderLineEnable[c]=t.showline),(s||u)&&(this.borderLineEnable[c+2]=t.showline),(r||d)&&(this.tickMarkLength[c]=this.getTickMarkLength(t)),(s||d)&&(this.tickMarkLength[c+2]=this.getTickMarkLength(t)),this.gridLineEnable[c]=t.showgrid,this.gridLineColor[c]=k(t.gridcolor),this.gridLineWidth[c]=t.gridwidth,this.zeroLineEnable[c]=t.zeroline,this.zeroLineColor[c]=k(t.zerolinecolor),this.zeroLineWidth[c]=t.zerolinewidth}},w.hasSharedAxis=function(h){var o=this.scene,t=o.fullLayout._subplots.gl2d;return A.findSubplotsWithAxis(t,h).indexOf(o.id)!==0},w.hasAxisInDfltPos=function(h,o){var t=o.side;return h==="xaxis"?t==="bottom":h==="yaxis"?t==="left":void 0},w.hasAxisInAltrPos=function(h,o){var t=o.side;return h==="xaxis"?t==="top":h==="yaxis"?t==="right":void 0},w.getLabelPad=function(h,o){var t=1.5,i=o.title.font.size,n=o.showticklabels;return h==="xaxis"?o.side==="top"?i*(t+(n?1:0))-10:i*(t+(n?.5:0))-10:h==="yaxis"?o.side==="right"?10+i*(t+(n?1:.5)):10+i*(t+(n?.5:0)):void 0},w.getTickPad=function(h){return h.ticks==="outside"?10+h.ticklen:15},w.getTickMarkLength=function(h){if(!h.ticks)return 0;var o=h.ticklen;return h.ticks==="inside"?-o:o},Y.exports=function(h){return new a(h)}},39952:function(Y,P,e){var A=e(67824).overrideAll,k=e(17188),a=e(64859),w=e(9616),b=e(33816),h=e(57952),o=e(65460),t=e(84888).op;P.name="gl2d",P.attr=["xaxis","yaxis"],P.idRoot=["x","y"],P.idRegex=b.idRegex,P.attrRegex=b.attrRegex,P.attributes=e(26720),P.supplyLayoutDefaults=function(i,n,r){n._has("cartesian")||h.supplyLayoutDefaults(i,n,r)},P.layoutAttrOverrides=A(h.layoutAttributes,"plot","from-root"),P.baseLayoutAttrOverrides=A({plot_bgcolor:a.plot_bgcolor,hoverlabel:o.hoverlabel},"plot","nested"),P.plot=function(i){for(var n=i._fullLayout,r=i._fullData,s=n._subplots.gl2d,l=0;l<s.length;l++){var u=s[l],d=n._plots[u],c=t(r,"gl2d",u),x=d._scene2d;x===void 0&&(x=new k({id:u,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio},n),d._scene2d=x),x.plot(c,i.calcdata,n,i.layout)}},P.clean=function(i,n,r,s){for(var l=s._subplots.gl2d||[],u=0;u<l.length;u++){var d=l[u],c=s._plots[d];c._scene2d&&t(i,"gl2d",d).length===0&&(c._scene2d.destroy(),delete s._plots[d])}h.clean.apply(this,arguments)},P.drawFramework=function(i){i._context.staticPlot||h.drawFramework(i)},P.toSVG=function(i){for(var n=i._fullLayout,r=n._subplots.gl2d,s=0;s<r.length;s++){var l=n._plots[r[s]]._scene2d,u=l.toImage("png");n._glimages.append("svg:image").attr({xmlns:w.svg,"xlink:href":u,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),l.destroy()}},P.updateFx=function(i){for(var n=i._fullLayout,r=n._subplots.gl2d,s=0;s<r.length;s++)n._plots[r[s]]._scene2d.updateFx(n.dragmode)}},17188:function(Y,P,e){var A,k,a=e(24040),w=e(54460),b=e(93024),h=e(67792).gl_plot2d,o=e(67792).gl_spikes2d,t=e(67792).gl_select_box,i=e(5408),n=e(92568),r=e(2428),s=e(16576),l=e(71888),u=l.enforce,d=l.clean,c=e(19280).doAutoRange,x=e(72760),g=x.drawMode,p=x.selectMode,v=["xaxis","yaxis"],y=e(33816).SUBPLOT_PATTERN;function m(f,S){this.container=f.container,this.graphDiv=f.graphDiv,this.pixelRatio=f.plotGlPixelRatio||window.devicePixelRatio,this.id=f.id,this.staticPlot=!!f.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(S),this.makeFramework(),this.stopped||(this.glplotOptions=n(this),this.glplotOptions.merge(S),this.glplot=h(this.glplotOptions),this.camera=r(this),this.traces={},this.spikes=o(this.glplot),this.selectBox=t(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}Y.exports=m;var _=m.prototype;_.makeFramework=function(){if(this.staticPlot){if(!(k||(A=document.createElement("canvas"),k=i({canvas:A,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=A,this.gl=k}else{var f=this.container.querySelector(".gl-canvas-focus"),S=i({canvas:f,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!S)return s(this),void(this.stopped=!0);this.canvas=f,this.gl=S}var T=this.canvas;T.style.width="100%",T.style.height="100%",T.style.position="absolute",T.style.top="0px",T.style.left="0px",T.style["pointer-events"]="none",this.updateSize(T);var E=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");E.style.position="absolute",E.style.top=E.style.left="0px",E.style.width=E.style.height="100%",E.style["z-index"]=20,E.style["pointer-events"]="none";var C=this.mouseContainer=document.createElement("div");C.style.position="absolute",C.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var O=this.container;O.appendChild(E),O.appendChild(C);var I=this;C.addEventListener("mouseout",function(){I.isMouseOver=!1,I.unhover()}),C.addEventListener("mouseover",function(){I.isMouseOver=!0})},_.toImage=function(f){f||(f="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(A),this.updateSize(this.canvas);var S=this.glplot.gl,T=S.drawingBufferWidth,E=S.drawingBufferHeight;S.clearColor(1,1,1,0),S.clear(S.COLOR_BUFFER_BIT|S.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),S.bindFramebuffer(S.FRAMEBUFFER,null);var C=new Uint8Array(T*E*4);S.readPixels(0,0,T,E,S.RGBA,S.UNSIGNED_BYTE,C);for(var O=0,I=E-1;O<I;++O,--I)for(var z=0;z<T;++z)for(var U=0;U<4;++U){var D=C[4*(T*O+z)+U];C[4*(T*O+z)+U]=C[4*(T*I+z)+U],C[4*(T*I+z)+U]=D}var B=document.createElement("canvas");B.width=T,B.height=E;var Z,F=B.getContext("2d",{willReadFrequently:!0}),j=F.createImageData(T,E);switch(j.data.set(C),F.putImageData(j,0,0),f){case"jpeg":Z=B.toDataURL("image/jpeg");break;case"webp":Z=B.toDataURL("image/webp");break;default:Z=B.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(A),Z},_.updateSize=function(f){f||(f=this.canvas);var S=this.pixelRatio,T=this.fullLayout,E=T.width,C=T.height,O=0|Math.ceil(S*E),I=0|Math.ceil(S*C);return f.width===O&&f.height===I||(f.width=O,f.height=I),f},_.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var f=[w.calcTicks(this.xaxis),w.calcTicks(this.yaxis)],S=0;S<2;++S)for(var T=0;T<f[S].length;++T)f[S][T].text=f[S][T].text+"";return f},_.updateRefs=function(f){this.fullLayout=f;var S=this.id.match(y),T="xaxis"+S[1],E="yaxis"+S[2];this.xaxis=this.fullLayout[T],this.yaxis=this.fullLayout[E]},_.relayoutCallback=function(){var f=this.graphDiv,S=this.xaxis,T=this.yaxis,E=f.layout,C={},O=C[S._name+".range"]=S.range.slice(),I=C[T._name+".range"]=T.range.slice();C[S._name+".autorange"]=S.autorange,C[T._name+".autorange"]=T.autorange,a.call("_storeDirectGUIEdit",f.layout,f._fullLayout._preGUI,C);var z=E[S._name];z.range=O,z.autorange=S.autorange;var U=E[T._name];U.range=I,U.autorange=T.autorange,C.lastInputTime=this.camera.lastInputTime,f.emit("plotly_relayout",C)},_.cameraChanged=function(){var f=this.camera;this.glplot.setDataBox(this.calcDataBox());var S=this.computeTickMarks();(function(T,E){for(var C=0;C<2;++C){var O=T[C],I=E[C];if(O.length!==I.length)return!0;for(var z=0;z<O.length;++z)if(O[z].x!==I[z].x)return!0}return!1})(S,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=S,this.glplotOptions.dataBox=f.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},_.handleAnnotations=function(){for(var f=this.graphDiv,S=this.fullLayout.annotations,T=0;T<S.length;T++){var E=S[T];E.xref===this.xaxis._id&&E.yref===this.yaxis._id&&a.getComponentMethod("annotations","drawOne")(f,T)}},_.destroy=function(){if(this.glplot){var f=this.traces;f&&Object.keys(f).map(function(S){f[S].dispose(),delete f[S]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},_.plot=function(f,S,T){var E=this.glplot;this.updateRefs(T),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(f,S),this.updateFx(T.dragmode);var C=T.width,O=T.height;this.updateSize(this.canvas);var I=this.glplotOptions;I.merge(T),I.screenBox=[0,0,C,O];var z={_fullLayout:{_axisConstraintGroups:T._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:T._size}};d(z,this.xaxis),d(z,this.yaxis);var U,D,B=T._size,Z=this.xaxis.domain,F=this.yaxis.domain;for(I.viewBox=[B.l+Z[0]*B.w,B.b+F[0]*B.h,C-B.r-(1-Z[1])*B.w,O-B.t-(1-F[1])*B.h],this.mouseContainer.style.width=B.w*(Z[1]-Z[0])+"px",this.mouseContainer.style.height=B.h*(F[1]-F[0])+"px",this.mouseContainer.height=B.h*(F[1]-F[0]),this.mouseContainer.style.left=B.l+Z[0]*B.w+"px",this.mouseContainer.style.top=B.t+(1-F[1])*B.h+"px",D=0;D<2;++D)(U=this[v[D]])._length=I.viewBox[D+2]-I.viewBox[D],c(this.graphDiv,U),U.setScale();u(z),I.ticks=this.computeTickMarks(),I.dataBox=this.calcDataBox(),I.merge(T),E.update(I),this.glplot.draw()},_.calcDataBox=function(){var f=this.xaxis,S=this.yaxis,T=f.range,E=S.range,C=f.r2l,O=S.r2l;return[C(T[0]),O(E[0]),C(T[1]),O(E[1])]},_.setRanges=function(f){var S=this.xaxis,T=this.yaxis,E=S.l2r,C=T.l2r;S.range=[E(f[0]),E(f[2])],T.range=[C(f[1]),C(f[3])]},_.updateTraces=function(f,S){var T,E,C,O=Object.keys(this.traces);this.fullData=f;e:for(T=0;T<O.length;T++){var I=O[T],z=this.traces[I];for(E=0;E<f.length;E++)if((C=f[E]).uid===I&&C.type===z.type)continue e;z.dispose(),delete this.traces[I]}for(T=0;T<f.length;T++){C=f[T];var U=S[T],D=this.traces[C.uid];D?D.update(C,U):(D=C._module.plot(this,C,U),this.traces[C.uid]=D)}this.glplot.objects.sort(function(B,Z){return B._trace.index-Z._trace.index})},_.updateFx=function(f){p(f)||g(f)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor=f==="pan"?"move":f==="zoom"?"crosshair":null},_.emitPointAction=function(f,S){for(var T,E=f.trace.uid,C=f.pointIndex,O=0;O<this.fullData.length;O++)this.fullData[O].uid===E&&(T=this.fullData[O]);var I={x:f.traceCoord[0],y:f.traceCoord[1],curveNumber:T.index,pointNumber:C,data:T._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};b.appendArrayPointValue(I,T,C),this.graphDiv.emit(S,{points:[I]})},_.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var f=this.glplot,S=this.camera,T=S.mouseListener,E=this.lastButtonState===1&&T.buttons===0,C=this.fullLayout;this.lastButtonState=T.buttons,this.cameraChanged();var O,I=T.x*f.pixelRatio,z=this.canvas.height-f.pixelRatio*T.y;if(S.boxEnabled&&C.dragmode==="zoom"){this.selectBox.enabled=!0;for(var U=this.selectBox.selectBox=[Math.min(S.boxStart[0],S.boxEnd[0]),Math.min(S.boxStart[1],S.boxEnd[1]),Math.max(S.boxStart[0],S.boxEnd[0]),Math.max(S.boxStart[1],S.boxEnd[1])],D=0;D<2;D++)S.boxStart[D]===S.boxEnd[D]&&(U[D]=f.dataBox[D],U[D+2]=f.dataBox[D+2]);f.setDirty()}else if(!S.panning&&this.isMouseOver){this.selectBox.enabled=!1;var B=C._size,Z=this.xaxis.domain,F=this.yaxis.domain,j=(O=f.pick(I/f.pixelRatio+B.l+Z[0]*B.w,z/f.pixelRatio-(B.t+(1-F[1])*B.h)))&&O.object._trace.handlePick(O);if(j&&E&&this.emitPointAction(j,"plotly_click"),O&&O.object._trace.hoverinfo!=="skip"&&C.hovermode&&j&&(!this.lastPickResult||this.lastPickResult.traceUid!==j.trace.uid||this.lastPickResult.dataCoord[0]!==j.dataCoord[0]||this.lastPickResult.dataCoord[1]!==j.dataCoord[1])){var V=j;this.lastPickResult={traceUid:j.trace?j.trace.uid:null,dataCoord:j.dataCoord.slice()},this.spikes.update({center:O.dataCoord}),V.screenCoord=[((f.viewBox[2]-f.viewBox[0])*(O.dataCoord[0]-f.dataBox[0])/(f.dataBox[2]-f.dataBox[0])+f.viewBox[0])/f.pixelRatio,(this.canvas.height-(f.viewBox[3]-f.viewBox[1])*(O.dataCoord[1]-f.dataBox[1])/(f.dataBox[3]-f.dataBox[1])-f.viewBox[1])/f.pixelRatio],this.emitPointAction(j,"plotly_hover");var te=this.fullData[V.trace.index]||{},Q=V.pointIndex,$=b.castHoverinfo(te,C,Q);if($&&$!=="all"){var G=$.split("+");G.indexOf("x")===-1&&(V.traceCoord[0]=void 0),G.indexOf("y")===-1&&(V.traceCoord[1]=void 0),G.indexOf("z")===-1&&(V.traceCoord[2]=void 0),G.indexOf("text")===-1&&(V.textLabel=void 0),G.indexOf("name")===-1&&(V.name=void 0)}b.loneHover({x:V.screenCoord[0],y:V.screenCoord[1],xLabel:this.hoverFormatter("xaxis",V.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",V.traceCoord[1]),zLabel:V.traceCoord[2],text:V.textLabel,name:V.name,color:b.castHoverOption(te,Q,"bgcolor")||V.color,borderColor:b.castHoverOption(te,Q,"bordercolor"),fontFamily:b.castHoverOption(te,Q,"font.family"),fontSize:b.castHoverOption(te,Q,"font.size"),fontColor:b.castHoverOption(te,Q,"font.color"),nameLength:b.castHoverOption(te,Q,"namelength"),textAlign:b.castHoverOption(te,Q,"align")},{container:this.svgContainer,gd:this.graphDiv})}}O||this.unhover(),f.draw()}},_.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),b.loneUnhover(this.svgContainer))},_.hoverFormatter=function(f,S){if(S!==void 0){var T=this[f];return w.tickText(T,T.c2l(S),"hover").text}}},12536:function(Y,P,e){var A=e(67824).overrideAll,k=e(65460),a=e(98432),w=e(84888).op,b=e(3400),h=e(9616),o="gl3d",t="scene";P.name=o,P.attr=t,P.idRoot=t,P.idRegex=P.attrRegex=b.counterRegex("scene"),P.attributes=e(6636),P.layoutAttributes=e(346),P.baseLayoutAttrOverrides=A({hoverlabel:k.hoverlabel},"plot","nested"),P.supplyLayoutDefaults=e(5208),P.plot=function(i){for(var n=i._fullLayout,r=i._fullData,s=n._subplots[o],l=0;l<s.length;l++){var u=s[l],d=w(r,o,u),c=n[u],x=c.camera,g=c._scene;g||(g=new a({id:u,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio,camera:x},n),c._scene=g),g.viewInitial||(g.viewInitial={up:{x:x.up.x,y:x.up.y,z:x.up.z},eye:{x:x.eye.x,y:x.eye.y,z:x.eye.z},center:{x:x.center.x,y:x.center.y,z:x.center.z}}),g.plot(d,n,i.layout)}},P.clean=function(i,n,r,s){for(var l=s._subplots[o]||[],u=0;u<l.length;u++){var d=l[u];!n[d]&&s[d]._scene&&(s[d]._scene.destroy(),s._infolayer&&s._infolayer.selectAll(".annotation-"+d).remove())}},P.toSVG=function(i){for(var n=i._fullLayout,r=n._subplots[o],s=n._size,l=0;l<r.length;l++){var u=n[r[l]],d=u.domain,c=u._scene,x=c.toImage("png");n._glimages.append("svg:image").attr({xmlns:h.svg,"xlink:href":x,x:s.l+s.w*d.x[0],y:s.t+s.h*(1-d.y[1]),width:s.w*(d.x[1]-d.x[0]),height:s.h*(d.y[1]-d.y[0]),preserveAspectRatio:"none"}),c.destroy()}},P.cleanId=function(i){if(i.match(/^scene[0-9]*$/)){var n=i.substr(5);return n==="1"&&(n=""),t+n}},P.updateFx=function(i){for(var n=i._fullLayout,r=n._subplots[o],s=0;s<r.length;s++)n[r[s]]._scene.updateFx(n.dragmode,n.hovermode)}},6636:function(Y){Y.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},86140:function(Y,P,e){var A=e(76308),k=e(94724),a=e(92880).extendFlat,w=e(67824).overrideAll;Y.exports=w({visible:k.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:A.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:k.color,categoryorder:k.categoryorder,categoryarray:k.categoryarray,title:{text:k.title.text,font:k.title.font},type:a({},k.type,{values:["-","linear","log","date","category"]}),autotypenumbers:k.autotypenumbers,autorange:k.autorange,autorangeoptions:{minallowed:k.autorangeoptions.minallowed,maxallowed:k.autorangeoptions.maxallowed,clipmin:k.autorangeoptions.clipmin,clipmax:k.autorangeoptions.clipmax,include:k.autorangeoptions.include,editType:"plot"},rangemode:k.rangemode,minallowed:k.minallowed,maxallowed:k.maxallowed,range:a({},k.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:k.minor.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:k.ticks,mirror:k.mirror,ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,showticklabels:k.showticklabels,labelalias:k.labelalias,tickfont:k.tickfont,tickangle:k.tickangle,tickprefix:k.tickprefix,showtickprefix:k.showtickprefix,ticksuffix:k.ticksuffix,showticksuffix:k.showticksuffix,showexponent:k.showexponent,exponentformat:k.exponentformat,minexponent:k.minexponent,separatethousands:k.separatethousands,tickformat:k.tickformat,tickformatstops:k.tickformatstops,hoverformat:k.hoverformat,showline:k.showline,linecolor:k.linecolor,linewidth:k.linewidth,showgrid:k.showgrid,gridcolor:a({},k.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:k.gridwidth,zeroline:k.zeroline,zerolinecolor:k.zerolinecolor,zerolinewidth:k.zerolinewidth,_deprecated:{title:k._deprecated.title,titlefont:k._deprecated.titlefont}},"plot","from-root")},64380:function(Y,P,e){var A=e(49760).mix,k=e(3400),a=e(31780),w=e(86140),b=e(14944),h=e(28336),o=["xaxis","yaxis","zaxis"];Y.exports=function(t,i,n){var r,s;function l(c,x){return k.coerce(r,s,w,c,x)}for(var u=0;u<o.length;u++){var d=o[u];r=t[d]||{},(s=a.newContainer(i,d))._id=d[0]+n.scene,s._name=d,b(r,s,l,n),h(r,s,l,{font:n.font,letter:d[0],data:n.data,showGrid:!0,noAutotickangles:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:n.bgColor,calendar:n.calendar},n.fullLayout),l("gridcolor",A(s.color,n.bgColor,72.72727272727273).toRgbString()),l("title.text",d[0]),s.setScale=k.noop,l("showspikes")&&(l("spikesides"),l("spikethickness"),l("spikecolor",s.color)),l("showaxeslabels"),l("showbackground")&&l("backgroundcolor")}}},44728:function(Y,P,e){var A=e(43080),k=e(3400),a=["xaxis","yaxis","zaxis"];function w(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}w.prototype.merge=function(b,h){for(var o=this,t=0;t<3;++t){var i=h[a[t]];i.visible?(o.labels[t]=b._meta?k.templateString(i.title.text,b._meta):i.title.text,"font"in i.title&&(i.title.font.color&&(o.labelColor[t]=A(i.title.font.color)),i.title.font.family&&(o.labelFont[t]=i.title.font.family),i.title.font.size&&(o.labelSize[t]=i.title.font.size)),"showline"in i&&(o.lineEnable[t]=i.showline),"linecolor"in i&&(o.lineColor[t]=A(i.linecolor)),"linewidth"in i&&(o.lineWidth[t]=i.linewidth),"showgrid"in i&&(o.gridEnable[t]=i.showgrid),"gridcolor"in i&&(o.gridColor[t]=A(i.gridcolor)),"gridwidth"in i&&(o.gridWidth[t]=i.gridwidth),i.type==="log"?o.zeroEnable[t]=!1:"zeroline"in i&&(o.zeroEnable[t]=i.zeroline),"zerolinecolor"in i&&(o.zeroLineColor[t]=A(i.zerolinecolor)),"zerolinewidth"in i&&(o.zeroLineWidth[t]=i.zerolinewidth),"ticks"in i&&i.ticks?o.lineTickEnable[t]=!0:o.lineTickEnable[t]=!1,"ticklen"in i&&(o.lineTickLength[t]=o._defaultLineTickLength[t]=i.ticklen),"tickcolor"in i&&(o.lineTickColor[t]=A(i.tickcolor)),"tickwidth"in i&&(o.lineTickWidth[t]=i.tickwidth),"tickangle"in i&&(o.tickAngle[t]=i.tickangle==="auto"?-3600:Math.PI*-i.tickangle/180),"showticklabels"in i&&(o.tickEnable[t]=i.showticklabels),"tickfont"in i&&(i.tickfont.color&&(o.tickColor[t]=A(i.tickfont.color)),i.tickfont.family&&(o.tickFont[t]=i.tickfont.family),i.tickfont.size&&(o.tickSize[t]=i.tickfont.size)),"mirror"in i?["ticks","all","allticks"].indexOf(i.mirror)!==-1?(o.lineTickMirror[t]=!0,o.lineMirror[t]=!0):i.mirror===!0?(o.lineTickMirror[t]=!1,o.lineMirror[t]=!0):(o.lineTickMirror[t]=!1,o.lineMirror[t]=!1):o.lineMirror[t]=!1,"showbackground"in i&&i.showbackground!==!1?(o.backgroundEnable[t]=!0,o.backgroundColor[t]=A(i.backgroundcolor)):o.backgroundEnable[t]=!1):(o.tickEnable[t]=!1,o.labelEnable[t]=!1,o.lineEnable[t]=!1,o.lineTickEnable[t]=!1,o.gridEnable[t]=!1,o.zeroEnable[t]=!1,o.backgroundEnable[t]=!1)}},Y.exports=function(b,h){var o=new w;return o.merge(b,h),o}},5208:function(Y,P,e){var A=e(3400),k=e(76308),a=e(24040),w=e(168),b=e(64380),h=e(346),o=e(84888).op,t="gl3d";function i(n,r,s,l){for(var u=s("bgcolor"),d=k.combine(u,l.paper_bgcolor),c=["up","center","eye"],x=0;x<c.length;x++)s("camera."+c[x]+".x"),s("camera."+c[x]+".y"),s("camera."+c[x]+".z");s("camera.projection.type");var g=!!s("aspectratio.x")&&!!s("aspectratio.y")&&!!s("aspectratio.z"),p=s("aspectmode",g?"manual":"auto");g||(n.aspectratio=r.aspectratio={x:1,y:1,z:1},p==="manual"&&(r.aspectmode="auto"),n.aspectmode=r.aspectmode);var v=o(l.fullData,t,l.id);b(n,r,{font:l.font,scene:l.id,data:v,bgColor:d,calendar:l.calendar,autotypenumbersDflt:l.autotypenumbersDflt,fullLayout:l.fullLayout}),a.getComponentMethod("annotations3d","handleDefaults")(n,r,l);var y=l.getDfltFromLayout("dragmode");if(y!==!1&&!y)if(y="orbit",n.camera&&n.camera.up){var m=n.camera.up.x,_=n.camera.up.y,f=n.camera.up.z;f!==0&&(m&&_&&f?f/Math.sqrt(m*m+_*_+f*f)>.999&&(y="turntable"):y="turntable")}else y="turntable";s("dragmode",y),s("hovermode",l.getDfltFromLayout("hovermode"))}Y.exports=function(n,r,s){var l=r._basePlotModules.length>1;w(n,r,s,{type:t,attributes:h,handleDefaults:i,fullLayout:r,font:r.font,fullData:s,getDfltFromLayout:function(u){if(!l)return A.validate(n[u],h[u])?n[u]:void 0},autotypenumbersDflt:r.autotypenumbers,paper_bgcolor:r.paper_bgcolor,calendar:r.calendar})}},346:function(Y,P,e){var A=e(86140),k=e(86968).u,a=e(92880).extendFlat,w=e(3400).counterRegex;function b(h,o,t){return{x:{valType:"number",dflt:h,editType:"camera"},y:{valType:"number",dflt:o,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}Y.exports={_arrayAttrRegexps:[w("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:a(b(0,0,1),{}),center:a(b(0,0,0),{}),eye:a(b(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:k({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:A,yaxis:A,zaxis:A,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},9020:function(Y,P,e){var A=e(43080),k=["xaxis","yaxis","zaxis"];function a(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}a.prototype.merge=function(w){for(var b=0;b<3;++b){var h=w[k[b]];h.visible?(this.enabled[b]=h.showspikes,this.colors[b]=A(h.spikecolor),this.drawSides[b]=h.spikesides,this.lineWidth[b]=h.spikethickness):(this.enabled[b]=!1,this.drawSides[b]=!1)}},Y.exports=function(w){var b=new a;return b.merge(w),b}},87152:function(Y,P,e){Y.exports=function(b){for(var h=b.axesOptions,o=b.glplot.axesPixels,t=b.fullSceneLayout,i=[[],[],[]],n=0;n<3;++n){var r=t[a[n]];if(r._length=(o[n].hi-o[n].lo)*o[n].pixelsPerDataUnit/b.dataScale[n],Math.abs(r._length)===1/0||isNaN(r._length))i[n]=[];else{r._input_range=r.range.slice(),r.range[0]=o[n].lo/b.dataScale[n],r.range[1]=o[n].hi/b.dataScale[n],r._m=1/(b.dataScale[n]*o[n].pixelsPerDataUnit),r.range[0]===r.range[1]&&(r.range[0]-=1,r.range[1]+=1);var s=r.tickmode;if(r.tickmode==="auto"){r.tickmode="linear";var l=r.nticks||k.constrain(r._length/40,4,9);A.autoTicks(r,Math.abs(r.range[1]-r.range[0])/l)}for(var u=A.calcTicks(r,{msUTC:!0}),d=0;d<u.length;++d)u[d].x=u[d].x*b.dataScale[n],r.type==="date"&&(u[d].text=u[d].text.replace(/\<br\>/g," "));i[n]=u,r.tickmode=s}}for(h.ticks=i,n=0;n<3;++n)for(w[n]=.5*(b.glplot.bounds[0][n]+b.glplot.bounds[1][n]),d=0;d<2;++d)h.bounds[d][n]=b.glplot.bounds[d][n];b.contourLevels=function(c){for(var x=new Array(3),g=0;g<3;++g){for(var p=c[g],v=new Array(p.length),y=0;y<p.length;++y)v[y]=p[y].x;x[g]=v}return x}(i)};var A=e(54460),k=e(3400),a=["xaxis","yaxis","zaxis"],w=[0,0,0]},94424:function(Y){function P(e,A){var k,a,w=[0,0,0,0];for(k=0;k<4;++k)for(a=0;a<4;++a)w[a]+=e[4*k+a]*A[k];return w}Y.exports=function(e,A){return P(e.projection,P(e.view,P(e.model,[A[0],A[1],A[2],1])))}},98432:function(Y,P,e){var A,k,a=e(67792).gl_plot3d,w=a.createCamera,b=a.createScene,h=e(5408),o=e(89184),t=e(24040),i=e(3400),n=i.preserveDrawingBuffer(),r=e(54460),s=e(93024),l=e(43080),u=e(16576),d=e(94424),c=e(44728),x=e(9020),g=e(87152),p=e(19280).applyAutorangeOptions,v=!1;function y(T,E){var C=document.createElement("div"),O=T.container;this.graphDiv=T.graphDiv;var I=document.createElementNS("http://www.w3.org/2000/svg","svg");I.style.position="absolute",I.style.top=I.style.left="0px",I.style.width=I.style.height="100%",I.style["z-index"]=20,I.style["pointer-events"]="none",C.appendChild(I),this.svgContainer=I,C.id=T.id,C.style.position="absolute",C.style.top=C.style.left="0px",C.style.width=C.style.height="100%",O.appendChild(C),this.fullLayout=E,this.id=T.id||"scene",this.fullSceneLayout=E[this.id],this.plotArgs=[[],{},{}],this.axesOptions=c(E,E[this.id]),this.spikeOptions=x(E[this.id]),this.container=C,this.staticMode=!!T.staticPlot,this.pixelRatio=this.pixelRatio||T.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=t.getComponentMethod("annotations3d","convert"),this.drawAnnotations=t.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var m=y.prototype;m.prepareOptions=function(){var T=this,E={canvas:T.canvas,gl:T.gl,glOptions:{preserveDrawingBuffer:n,premultipliedAlpha:!0,antialias:!0},container:T.container,axes:T.axesOptions,spikes:T.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:T.camera,pixelRatio:T.pixelRatio};if(T.staticMode){if(!(k||(A=document.createElement("canvas"),k=h({canvas:A,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");E.gl=k,E.canvas=A}return E};var _=!0;m.tryCreatePlot=function(){var T=this,E=T.prepareOptions(),C=!0;try{T.glplot=b(E)}catch{if(T.staticMode||!_||n)C=!1;else{i.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{n=E.glOptions.preserveDrawingBuffer=!0,T.glplot=b(E)}catch{n=E.glOptions.preserveDrawingBuffer=!1,C=!1}}}return _=!1,C},m.initializeGLCamera=function(){var T=this,E=T.fullSceneLayout.camera,C=E.projection.type==="orthographic";T.camera=w(T.container,{center:[E.center.x,E.center.y,E.center.z],eye:[E.eye.x,E.eye.y,E.eye.z],up:[E.up.x,E.up.y,E.up.z],_ortho:C,zoomMin:.01,zoomMax:100,mode:"orbit"})},m.initializeGLPlot=function(){var T=this;if(T.initializeGLCamera(),!T.tryCreatePlot())return u(T);T.traces={},T.make4thDimension();var E=T.graphDiv,C=E.layout,O=function(){var z={};return T.isCameraChanged(C)&&(z[T.id+".camera"]=T.getCamera()),T.isAspectChanged(C)&&(z[T.id+".aspectratio"]=T.glplot.getAspectratio(),C[T.id].aspectmode!=="manual"&&(T.fullSceneLayout.aspectmode=C[T.id].aspectmode=z[T.id+".aspectmode"]="manual")),z},I=function(z){if(z.fullSceneLayout.dragmode!==!1){var U=O();z.saveLayout(C),z.graphDiv.emit("plotly_relayout",U)}};return T.glplot.canvas&&(T.glplot.canvas.addEventListener("mouseup",function(){I(T)}),T.glplot.canvas.addEventListener("touchstart",function(){v=!0}),T.glplot.canvas.addEventListener("wheel",function(z){if(E._context._scrollZoom.gl3d){if(T.camera._ortho){var U=z.deltaX>z.deltaY?1.1:.9090909090909091,D=T.glplot.getAspectratio();T.glplot.setAspectratio({x:U*D.x,y:U*D.y,z:U*D.z})}I(T)}},!!o&&{passive:!1}),T.glplot.canvas.addEventListener("mousemove",function(){if(T.fullSceneLayout.dragmode!==!1&&T.camera.mouseListener.buttons!==0){var z=O();T.graphDiv.emit("plotly_relayouting",z)}}),T.staticMode||T.glplot.canvas.addEventListener("webglcontextlost",function(z){E&&E.emit&&E.emit("plotly_webglcontextlost",{event:z,layer:T.id})},!1)),T.glplot.oncontextloss=function(){T.recoverContext()},T.glplot.onrender=function(){T.render()},!0},m.render=function(){var T,E=this,C=E.graphDiv,O=E.svgContainer,I=E.container.getBoundingClientRect();C._fullLayout._calcInverseTransform(C);var z=C._fullLayout._invScaleX,U=C._fullLayout._invScaleY,D=I.width*z,B=I.height*U;O.setAttributeNS(null,"viewBox","0 0 "+D+" "+B),O.setAttributeNS(null,"width",D),O.setAttributeNS(null,"height",B),g(E),E.glplot.axes.update(E.axesOptions);for(var Z=Object.keys(E.traces),F=null,j=E.glplot.selection,V=0;V<Z.length;++V)(T=E.traces[Z[V]]).data.hoverinfo!=="skip"&&T.handlePick(j)&&(F=T),T.setContourLevels&&T.setContourLevels();function te(me,ve,Me){var _e=E.fullSceneLayout[me+"axis"];return _e.type!=="log"&&(ve=_e.d2l(ve)),r.hoverLabelText(_e,ve,Me)}if(F!==null){var Q=d(E.glplot.cameraParams,j.dataCoordinate);T=F.data;var $,G=C._fullData[T.index],X=j.index,J={xLabel:te("x",j.traceCoordinate[0],T.xhoverformat),yLabel:te("y",j.traceCoordinate[1],T.yhoverformat),zLabel:te("z",j.traceCoordinate[2],T.zhoverformat)},ne=s.castHoverinfo(G,E.fullLayout,X),ie=(ne||"").split("+"),ae=ne&&ne==="all";G.hovertemplate||ae||(ie.indexOf("x")===-1&&(J.xLabel=void 0),ie.indexOf("y")===-1&&(J.yLabel=void 0),ie.indexOf("z")===-1&&(J.zLabel=void 0),ie.indexOf("text")===-1&&(j.textLabel=void 0),ie.indexOf("name")===-1&&(F.name=void 0));var le=[];T.type==="cone"||T.type==="streamtube"?(J.uLabel=te("x",j.traceCoordinate[3],T.uhoverformat),(ae||ie.indexOf("u")!==-1)&&le.push("u: "+J.uLabel),J.vLabel=te("y",j.traceCoordinate[4],T.vhoverformat),(ae||ie.indexOf("v")!==-1)&&le.push("v: "+J.vLabel),J.wLabel=te("z",j.traceCoordinate[5],T.whoverformat),(ae||ie.indexOf("w")!==-1)&&le.push("w: "+J.wLabel),J.normLabel=j.traceCoordinate[6].toPrecision(3),(ae||ie.indexOf("norm")!==-1)&&le.push("norm: "+J.normLabel),T.type==="streamtube"&&(J.divergenceLabel=j.traceCoordinate[7].toPrecision(3),(ae||ie.indexOf("divergence")!==-1)&&le.push("divergence: "+J.divergenceLabel)),j.textLabel&&le.push(j.textLabel),$=le.join("<br>")):T.type==="isosurface"||T.type==="volume"?(J.valueLabel=r.hoverLabelText(E._mockAxis,E._mockAxis.d2l(j.traceCoordinate[3]),T.valuehoverformat),le.push("value: "+J.valueLabel),j.textLabel&&le.push(j.textLabel),$=le.join("<br>")):$=j.textLabel;var ce={x:j.traceCoordinate[0],y:j.traceCoordinate[1],z:j.traceCoordinate[2],data:G._input,fullData:G,curveNumber:G.index,pointNumber:X};s.appendArrayPointValue(ce,G,X),T._module.eventData&&(ce=G._module.eventData(ce,j,G,{},X));var pe={points:[ce]};if(E.fullSceneLayout.hovermode){var ge=[];s.loneHover({trace:G,x:(.5+.5*Q[0]/Q[3])*D,y:(.5-.5*Q[1]/Q[3])*B,xLabel:J.xLabel,yLabel:J.yLabel,zLabel:J.zLabel,text:$,name:F.name,color:s.castHoverOption(G,X,"bgcolor")||F.color,borderColor:s.castHoverOption(G,X,"bordercolor"),fontFamily:s.castHoverOption(G,X,"font.family"),fontSize:s.castHoverOption(G,X,"font.size"),fontColor:s.castHoverOption(G,X,"font.color"),nameLength:s.castHoverOption(G,X,"namelength"),textAlign:s.castHoverOption(G,X,"align"),hovertemplate:i.castOption(G,X,"hovertemplate"),hovertemplateLabels:i.extendFlat({},ce,J),eventData:[ce]},{container:O,gd:C,inOut_bbox:ge}),ce.bbox=ge[0]}j.distance<5&&(j.buttons||v)?C.emit("plotly_click",pe):C.emit("plotly_hover",pe),this.oldEventData=pe}else s.loneUnhover(O),this.oldEventData&&C.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;E.drawAnnotations(E)},m.recoverContext=function(){var T=this;T.glplot.dispose();var E=function(){T.glplot.gl.isContextLost()?requestAnimationFrame(E):T.initializeGLPlot()?T.plot.apply(T,T.plotArgs):i.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(E)};var f=["xaxis","yaxis","zaxis"];function S(T,E,C){for(var O=T.fullSceneLayout,I=0;I<3;I++){var z=f[I],U=z.charAt(0),D=O[z],B=E[U],Z=E[U+"calendar"],F=E["_"+U+"length"];if(i.isArrayOrTypedArray(B))for(var j,V=0;V<(F||B.length);V++)if(i.isArrayOrTypedArray(B[V]))for(var te=0;te<B[V].length;++te)j=D.d2l(B[V][te],0,Z),!isNaN(j)&&isFinite(j)&&(C[0][I]=Math.min(C[0][I],j),C[1][I]=Math.max(C[1][I],j));else j=D.d2l(B[V],0,Z),!isNaN(j)&&isFinite(j)&&(C[0][I]=Math.min(C[0][I],j),C[1][I]=Math.max(C[1][I],j));else C[0][I]=Math.min(C[0][I],0),C[1][I]=Math.max(C[1][I],F-1)}}m.plot=function(T,E,C){var O=this;if(O.plotArgs=[T,E,C],!O.glplot.contextLost){var I,z,U,D,B,Z,F=E[O.id],j=C[O.id];O.fullLayout=E,O.fullSceneLayout=F,O.axesOptions.merge(E,F),O.spikeOptions.merge(F),O.setViewport(F),O.updateFx(F.dragmode,F.hovermode),O.camera.enableWheel=O.graphDiv._context._scrollZoom.gl3d,O.glplot.setClearColor(l(F.bgcolor)),O.setConvert(B),T?Array.isArray(T)||(T=[T]):T=[];var V=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(U=0;U<T.length;++U)(I=T[U]).visible===!0&&I._length!==0&&S(this,I,V);(function(Le,Oe){for(var he=Le.fullSceneLayout,xe=he.annotations||[],ke=0;ke<3;ke++)for(var Re=f[ke],ze=Re.charAt(0),Ie=he[Re],He=0;He<xe.length;He++){var qe=xe[He];if(qe.visible){var Je=Ie.r2l(qe[ze]);!isNaN(Je)&&isFinite(Je)&&(Oe[0][ke]=Math.min(Oe[0][ke],Je),Oe[1][ke]=Math.max(Oe[1][ke],Je))}}})(this,V);var te=[1,1,1];for(D=0;D<3;++D)V[1][D]===V[0][D]?te[D]=1:te[D]=1/(V[1][D]-V[0][D]);for(O.dataScale=te,O.convertAnnotations(this),U=0;U<T.length;++U)(I=T[U]).visible===!0&&I._length!==0&&((z=O.traces[I.uid])?z.data.type===I.type?z.update(I):(z.dispose(),z=I._module.plot(this,I),O.traces[I.uid]=z):(z=I._module.plot(this,I),O.traces[I.uid]=z),z.name=I.name);var Q=Object.keys(O.traces);e:for(U=0;U<Q.length;++U){for(D=0;D<T.length;++D)if(T[D].uid===Q[U]&&T[D].visible===!0&&T[D]._length!==0)continue e;(z=O.traces[Q[U]]).dispose(),delete O.traces[Q[U]]}O.glplot.objects.sort(function(Le,Oe){return Le._trace.data.index-Oe._trace.data.index});var $,G=[[0,0,0],[0,0,0]],X=[],J={};for(U=0;U<3;++U){var ne;if((Z=(B=F[f[U]]).type)in J?(J[Z].acc*=te[U],J[Z].count+=1):J[Z]={acc:te[U],count:1},B.autorange){G[0][U]=1/0,G[1][U]=-1/0;var ie=O.glplot.objects,ae=O.fullSceneLayout.annotations||[],le=B._name.charAt(0);for(D=0;D<ie.length;D++){var ce=ie[D],pe=ce.bounds,ge=ce._trace.data._pad||0;ce.constructor.name==="ErrorBars"&&B._lowerLogErrorBound?G[0][U]=Math.min(G[0][U],B._lowerLogErrorBound):G[0][U]=Math.min(G[0][U],pe[0][U]/te[U]-ge),G[1][U]=Math.max(G[1][U],pe[1][U]/te[U]+ge)}for(D=0;D<ae.length;D++){var me=ae[D];if(me.visible){var ve=B.r2l(me[le]);G[0][U]=Math.min(G[0][U],ve),G[1][U]=Math.max(G[1][U],ve)}}if("rangemode"in B&&B.rangemode==="tozero"&&(G[0][U]=Math.min(G[0][U],0),G[1][U]=Math.max(G[1][U],0)),G[0][U]>G[1][U])G[0][U]=-1,G[1][U]=1;else{var Me=G[1][U]-G[0][U];G[0][U]-=Me/32,G[1][U]+=Me/32}if(ne=[G[0][U],G[1][U]],ne=p(ne,B),G[0][U]=ne[0],G[1][U]=ne[1],B.isReversed()){var _e=G[0][U];G[0][U]=G[1][U],G[1][U]=_e}}else ne=B.range,G[0][U]=B.r2l(ne[0]),G[1][U]=B.r2l(ne[1]);G[0][U]===G[1][U]&&(G[0][U]-=1,G[1][U]+=1),X[U]=G[1][U]-G[0][U],B.range=[G[0][U],G[1][U]],B.limitRange(),O.glplot.setBounds(U,{min:B.range[0]*te[U],max:B.range[1]*te[U]})}var we=F.aspectmode;if(we==="cube")$=[1,1,1];else if(we==="manual"){var oe=F.aspectratio;$=[oe.x,oe.y,oe.z]}else{if(we!=="auto"&&we!=="data")throw new Error("scene.js aspectRatio was not one of the enumerated types");var se=[1,1,1];for(U=0;U<3;++U){var de=J[Z=(B=F[f[U]]).type];se[U]=Math.pow(de.acc,1/de.count)/te[U]}$=we==="data"||Math.max.apply(null,se)/Math.min.apply(null,se)<=4?se:[1,1,1]}F.aspectratio.x=j.aspectratio.x=$[0],F.aspectratio.y=j.aspectratio.y=$[1],F.aspectratio.z=j.aspectratio.z=$[2],O.glplot.setAspectratio(F.aspectratio),O.viewInitial.aspectratio||(O.viewInitial.aspectratio={x:F.aspectratio.x,y:F.aspectratio.y,z:F.aspectratio.z}),O.viewInitial.aspectmode||(O.viewInitial.aspectmode=F.aspectmode);var Ee=F.domain||null,Te=E._size||null;if(Ee&&Te){var Se=O.container.style;Se.position="absolute",Se.left=Te.l+Ee.x[0]*Te.w+"px",Se.top=Te.t+(1-Ee.y[1])*Te.h+"px",Se.width=Te.w*(Ee.x[1]-Ee.x[0])+"px",Se.height=Te.h*(Ee.y[1]-Ee.y[0])+"px"}O.glplot.redraw()}},m.destroy=function(){var T=this;T.glplot&&(T.camera.mouseListener.enabled=!1,T.container.removeEventListener("wheel",T.camera.wheelListener),T.camera=null,T.glplot.dispose(),T.container.parentNode.removeChild(T.container),T.glplot=null)},m.getCamera=function(){var T,E=this;return E.camera.view.recalcMatrix(E.camera.view.lastT()),{up:{x:(T=E.camera).up[0],y:T.up[1],z:T.up[2]},center:{x:T.center[0],y:T.center[1],z:T.center[2]},eye:{x:T.eye[0],y:T.eye[1],z:T.eye[2]},projection:{type:T._ortho===!0?"orthographic":"perspective"}}},m.setViewport=function(T){var E,C=this,O=T.camera;C.camera.lookAt.apply(this,[[(E=O).eye.x,E.eye.y,E.eye.z],[E.center.x,E.center.y,E.center.z],[E.up.x,E.up.y,E.up.z]]),C.glplot.setAspectratio(T.aspectratio),O.projection.type==="orthographic"!==C.camera._ortho&&(C.glplot.redraw(),C.glplot.clearRGBA(),C.glplot.dispose(),C.initializeGLPlot())},m.isCameraChanged=function(T){var E=this.getCamera(),C=i.nestedProperty(T,this.id+".camera").get();function O(D,B,Z,F){var j=["up","center","eye"],V=["x","y","z"];return B[j[Z]]&&D[j[Z]][V[F]]===B[j[Z]][V[F]]}var I=!1;if(C===void 0)I=!0;else{for(var z=0;z<3;z++)for(var U=0;U<3;U++)if(!O(E,C,z,U)){I=!0;break}(!C.projection||E.projection&&E.projection.type!==C.projection.type)&&(I=!0)}return I},m.isAspectChanged=function(T){var E=this.glplot.getAspectratio(),C=i.nestedProperty(T,this.id+".aspectratio").get();return C===void 0||C.x!==E.x||C.y!==E.y||C.z!==E.z},m.saveLayout=function(T){var E,C,O,I,z,U,D=this,B=D.fullLayout,Z=D.isCameraChanged(T),F=D.isAspectChanged(T),j=Z||F;if(j){var V={};Z&&(E=D.getCamera(),O=(C=i.nestedProperty(T,D.id+".camera")).get(),V[D.id+".camera"]=O),F&&(I=D.glplot.getAspectratio(),U=(z=i.nestedProperty(T,D.id+".aspectratio")).get(),V[D.id+".aspectratio"]=U),t.call("_storeDirectGUIEdit",T,B._preGUI,V),Z&&(C.set(E),i.nestedProperty(B,D.id+".camera").set(E)),F&&(z.set(I),i.nestedProperty(B,D.id+".aspectratio").set(I),D.glplot.redraw())}return j},m.updateFx=function(T,E){var C=this,O=C.camera;if(O)if(T==="orbit")O.mode="orbit",O.keyBindingMode="rotate";else if(T==="turntable"){O.up=[0,0,1],O.mode="turntable",O.keyBindingMode="rotate";var I=C.graphDiv,z=I._fullLayout,U=C.fullSceneLayout.camera,D=U.up.x,B=U.up.y,Z=U.up.z;if(Z/Math.sqrt(D*D+B*B+Z*Z)<.999){var F=C.id+".camera.up",j={x:0,y:0,z:1},V={};V[F]=j;var te=I.layout;t.call("_storeDirectGUIEdit",te,z._preGUI,V),U.up=j,i.nestedProperty(te,F).set(j)}}else O.keyBindingMode=T;C.fullSceneLayout.hovermode=E},m.toImage=function(T){var E=this;T||(T="png"),E.staticMode&&E.container.appendChild(A),E.glplot.redraw();var C=E.glplot.gl,O=C.drawingBufferWidth,I=C.drawingBufferHeight;C.bindFramebuffer(C.FRAMEBUFFER,null);var z=new Uint8Array(O*I*4);C.readPixels(0,0,O,I,C.RGBA,C.UNSIGNED_BYTE,z),function(F,j,V){for(var te=0,Q=V-1;te<Q;++te,--Q)for(var $=0;$<j;++$)for(var G=0;G<4;++G){var X=4*(j*te+$)+G,J=4*(j*Q+$)+G,ne=F[X];F[X]=F[J],F[J]=ne}}(z,O,I),function(F,j,V){for(var te=0;te<V;++te)for(var Q=0;Q<j;++Q){var $=4*(j*te+Q),G=F[$+3];if(G>0)for(var X=255/G,J=0;J<3;++J)F[$+J]=Math.min(X*F[$+J],255)}}(z,O,I);var U=document.createElement("canvas");U.width=O,U.height=I;var D,B=U.getContext("2d",{willReadFrequently:!0}),Z=B.createImageData(O,I);switch(Z.data.set(z),B.putImageData(Z,0,0),T){case"jpeg":D=U.toDataURL("image/jpeg");break;case"webp":D=U.toDataURL("image/webp");break;default:D=U.toDataURL("image/png")}return E.staticMode&&E.container.removeChild(A),D},m.setConvert=function(){for(var T=0;T<3;T++){var E=this.fullSceneLayout[f[T]];r.setConvert(E,this.fullLayout),E.setScale=i.noop}},m.make4thDimension=function(){var T=this,E=T.graphDiv._fullLayout;T._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},r.setConvert(T._mockAxis,E)},Y.exports=y},52094:function(Y){Y.exports=function(P,e,A,k){k=k||P.length;for(var a=new Array(k),w=0;w<k;w++)a[w]=[P[w],e[w],A[w]];return a}},64859:function(Y,P,e){var A=e(25376),k=e(85656),a=e(22548),w=e(92872),b=e(34200),h=e(66741),o=e(92880).extendFlat,t=A({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=a.defaultLine,Y.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:A({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:o(h({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:w.newshape,activeshape:w.activeshape,newselection:b.newselection,activeselection:b.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:o({},k.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:A({editType:"layoutstyle"})}}},47552:function(Y,P,e){var A=e(95376),k="1.13.4",a='\xA9 <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',w=['\xA9 <a target="_blank" href="https://carto.com/">Carto</a>',a].join(" "),b=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),h={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:a,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:w,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:w,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:b,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:b,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},o=A(h);Y.exports={requiredVersion:k,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:h,styleValuesNonMapbox:o,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+k+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",o.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},89032:function(Y,P,e){var A=e(3400);Y.exports=function(k,a){var w=k.split(" "),b=w[0],h=w[1],o=A.isArrayOrTypedArray(a)?A.mean(a):a,t=.5+o/100,i=1.5+o/100,n=["",""],r=[0,0];switch(b){case"top":n[0]="top",r[1]=-i;break;case"bottom":n[0]="bottom",r[1]=i}switch(h){case"left":n[1]="right",r[0]=-t;break;case"right":n[1]="left",r[0]=t}return{anchor:n[0]&&n[1]?n.join("-"):n[0]?n[0]:n[1]?n[1]:"center",offset:r}}},33688:function(Y,P,e){var A=e(3480),k=e(3400),a=k.strTranslate,w=k.strScale,b=e(84888).KY,h=e(9616),o=e(33428),t=e(43616),i=e(72736),n=e(14440),r="mapbox",s=P.constants=e(47552);function l(u){return typeof u=="string"&&(s.styleValuesMapbox.indexOf(u)!==-1||u.indexOf("mapbox://")===0||u.indexOf("stamen")===0)}P.name=r,P.attr="subplot",P.idRoot=r,P.idRegex=P.attrRegex=k.counterRegex(r),P.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},P.layoutAttributes=e(5232),P.supplyLayoutDefaults=e(5976),P.plot=function(u){var d=u._fullLayout,c=u.calcdata,x=d._subplots[r];if(A.version!==s.requiredVersion)throw new Error(s.wrongVersionErrorMsg);var g=function(f,S){var T=f._fullLayout;if(f._context.mapboxAccessToken==="")return"";for(var E=[],C=[],O=!1,I=!1,z=0;z<S.length;z++){var U=T[S[z]],D=U.accesstoken;l(U.style)&&(D?k.pushUnique(E,D):(l(U._input.style)&&(k.error("Uses Mapbox map style, but did not set an access token."),O=!0),I=!0)),D&&k.pushUnique(C,D)}if(I){var B=O?s.noAccessTokenErrorMsg:s.missingStyleErrorMsg;throw k.error(B),new Error(B)}return E.length?(E.length>1&&k.warn(s.multipleTokensErrorMsg),E[0]):(C.length&&k.log(["Listed mapbox access token(s)",C.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(u,x);A.accessToken=g;for(var p=0;p<x.length;p++){var v=x[p],y=b(c,r,v),m=d[v],_=m._subplot;_||(_=new n(u,v),d[v]._subplot=_),_.viewInitial||(_.viewInitial={center:k.extendFlat({},m.center),zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),_.plot(y,d,u._promises)}},P.clean=function(u,d,c,x){for(var g=x._subplots[r]||[],p=0;p<g.length;p++){var v=g[p];!d[v]&&x[v]._subplot&&x[v]._subplot.destroy()}},P.toSVG=function(u){for(var d=u._fullLayout,c=d._subplots[r],x=d._size,g=0;g<c.length;g++){var p=d[c[g]],v=p.domain,y=p._subplot.toImage("png");d._glimages.append("svg:image").attr({xmlns:h.svg,"xlink:href":y,x:x.l+x.w*v.x[0],y:x.t+x.h*(1-v.y[1]),width:x.w*(v.x[1]-v.x[0]),height:x.h*(v.y[1]-v.y[0]),preserveAspectRatio:"none"});var m=o.select(p._subplot.div);if(m.select(".mapboxgl-ctrl-logo").node().offsetParent!==null){var _=d._glimages.append("g");_.attr("transform",a(x.l+x.w*v.x[0]+10,x.t+x.h*(1-v.y[0])-31)),_.append("path").attr("d",s.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),_.append("path").attr("d",s.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),_.append("path").attr("d",s.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),_.append("polygon").attr("points",s.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var f=m.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),S=d._glimages.append("g"),T=S.append("text");T.text(f).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":f});var E=t.bBox(T.node()),C=x.w*(v.x[1]-v.x[0]);if(E.width>C/2){var O=f.split("|").join("<br>");T.text(O).attr("data-unformatted",O).call(i.convertToTspans,u),E=t.bBox(T.node())}T.attr("transform",a(-3,8-E.height)),S.insert("rect",".static-attribution").attr({x:-E.width-6,y:-E.height-3,width:E.width+6,height:E.height+3,fill:"rgba(255, 255, 255, 0.75)"});var I=1;E.width+6>C&&(I=C/(E.width+6));var z=[x.l+x.w*v.x[1],x.t+x.h*(1-v.y[0])];S.attr("transform",a(z[0],z[1])+w(I))}},P.updateFx=function(u){for(var d=u._fullLayout,c=d._subplots[r],x=0;x<c.length;x++)d[c[x]]._subplot.updateFx(d)}},22360:function(Y,P,e){var A=e(3400),k=e(72736).sanitizeHTML,a=e(89032),w=e(47552);function b(i,n){this.subplot=i,this.uid=i.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=w.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var h=b.prototype;function o(i){if(!i.visible)return!1;var n=i.source;if(Array.isArray(n)&&n.length>0){for(var r=0;r<n.length;r++)if(typeof n[r]!="string"||n[r].length===0)return!1;return!0}return A.isPlainObject(n)||typeof n=="string"&&n.length>0}function t(i){var n={},r={};switch(i.type){case"circle":A.extendFlat(r,{"circle-radius":i.circle.radius,"circle-color":i.color,"circle-opacity":i.opacity});break;case"line":A.extendFlat(r,{"line-width":i.line.width,"line-color":i.color,"line-opacity":i.opacity,"line-dasharray":i.line.dash});break;case"fill":A.extendFlat(r,{"fill-color":i.color,"fill-outline-color":i.fill.outlinecolor,"fill-opacity":i.opacity});break;case"symbol":var s=i.symbol,l=a(s.textposition,s.iconsize);A.extendFlat(n,{"icon-image":s.icon+"-15","icon-size":s.iconsize/10,"text-field":s.text,"text-size":s.textfont.size,"text-anchor":l.anchor,"text-offset":l.offset,"symbol-placement":s.placement}),A.extendFlat(r,{"icon-color":i.color,"text-color":s.textfont.color,"text-opacity":i.opacity});break;case"raster":A.extendFlat(r,{"raster-fade-duration":0,"raster-opacity":i.opacity})}return{layout:n,paint:r}}h.update=function(i){this.visible?this.needsNewImage(i)?this.updateImage(i):this.needsNewSource(i)?(this.removeLayer(),this.updateSource(i),this.updateLayer(i)):this.needsNewLayer(i)?this.updateLayer(i):this.updateStyle(i):(this.updateSource(i),this.updateLayer(i)),this.visible=o(i)},h.needsNewImage=function(i){return this.subplot.map.getSource(this.idSource)&&this.sourceType==="image"&&i.sourcetype==="image"&&(this.source!==i.source||JSON.stringify(this.coordinates)!==JSON.stringify(i.coordinates))},h.needsNewSource=function(i){return this.sourceType!==i.sourcetype||JSON.stringify(this.source)!==JSON.stringify(i.source)||this.layerType!==i.type},h.needsNewLayer=function(i){return this.layerType!==i.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},h.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},h.updateImage=function(i){this.subplot.map.getSource(this.idSource).updateImage({url:i.source,coordinates:i.coordinates});var n=this.findFollowingMapboxLayerId(this.lookupBelow());n!==null&&this.subplot.map.moveLayer(this.idLayer,n)},h.updateSource=function(i){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=i.sourcetype,this.source=i.source,o(i)){var r=function(s){var l,u=s.sourcetype,d=s.source,c={type:u};return u==="geojson"?l="data":u==="vector"?l=typeof d=="string"?"url":"tiles":u==="raster"?(l="tiles",c.tileSize=256):u==="image"&&(l="url",c.coordinates=s.coordinates),c[l]=d,s.sourceattribution&&(c.attribution=k(s.sourceattribution)),c}(i);n.addSource(this.idSource,r)}},h.findFollowingMapboxLayerId=function(i){if(i==="traces")for(var n=this.subplot.getMapLayers(),r=0;r<n.length;r++){var s=n[r].id;if(typeof s=="string"&&s.indexOf(w.traceLayerPrefix)===0){i=s;break}}return i},h.updateLayer=function(i){var n=this.subplot,r=t(i),s=this.lookupBelow(),l=this.findFollowingMapboxLayerId(s);this.removeLayer(),o(i)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":i.sourcelayer||"",type:i.type,minzoom:i.minzoom,maxzoom:i.maxzoom,layout:r.layout,paint:r.paint},l),this.layerType=i.type,this.below=s},h.updateStyle=function(i){if(o(i)){var n=t(i);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},h.removeLayer=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer)},h.dispose=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer),i.getSource(this.idSource)&&i.removeSource(this.idSource)},Y.exports=function(i,n,r){var s=new b(i,n);return s.update(r),s}},5232:function(Y,P,e){var A=e(3400),k=e(76308).defaultLine,a=e(86968).u,w=e(25376),b=e(52904).textposition,h=e(67824).overrideAll,o=e(31780).templatedArray,t=e(47552),i=w({});i.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(Y.exports=h({_arrayAttrRegexps:[A.counterRegex("mapbox",".layers",!0)],domain:a({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:o("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:k},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:k}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:i,textposition:A.extendFlat({},b,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},5976:function(Y,P,e){var A=e(3400),k=e(168),a=e(51272),w=e(5232);function b(o,t,i,n){i("accesstoken",n.accessToken),i("style"),i("center.lon"),i("center.lat"),i("zoom"),i("bearing"),i("pitch");var r=i("bounds.west"),s=i("bounds.east"),l=i("bounds.south"),u=i("bounds.north");r!==void 0&&s!==void 0&&l!==void 0&&u!==void 0||delete t.bounds,a(o,t,{name:"layers",handleItemDefaults:h}),t._input=o}function h(o,t){function i(u,d){return A.coerce(o,t,w.layers,u,d)}if(i("visible")){var n,r=i("sourcetype"),s=r==="raster"||r==="image";i("source"),i("sourceattribution"),r==="vector"&&i("sourcelayer"),r==="image"&&i("coordinates"),s&&(n="raster");var l=i("type",n);s&&l!=="raster"&&(l=t.type="raster",A.log("Source types *raster* and *image* must drawn *raster* layer type.")),i("below"),i("color"),i("opacity"),i("minzoom"),i("maxzoom"),l==="circle"&&i("circle.radius"),l==="line"&&(i("line.width"),i("line.dash")),l==="fill"&&i("fill.outlinecolor"),l==="symbol"&&(i("symbol.icon"),i("symbol.iconsize"),i("symbol.text"),A.coerceFont(i,"symbol.textfont"),i("symbol.textposition"),i("symbol.placement"))}}Y.exports=function(o,t,i){k(o,t,i,{type:"mapbox",attributes:w,handleDefaults:b,partition:"y",accessToken:t._mapboxAccessToken})}},14440:function(Y,P,e){var A=e(3480),k=e(3400),a=e(27144),w=e(24040),b=e(54460),h=e(86476),o=e(93024),t=e(72760),i=t.drawMode,n=t.selectMode,r=e(22676).prepSelect,s=e(22676).clearOutline,l=e(22676).clearSelectionsCache,u=e(22676).selectOnClick,d=e(47552),c=e(22360);function x(_,f){this.id=f,this.gd=_;var S=_._fullLayout,T=_._context;this.container=S._glcontainer.node(),this.isStatic=T.staticPlot,this.uid=S._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(S),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var g=x.prototype;g.plot=function(_,f,S){var T,E=this,C=f[E.id];E.map&&C.accesstoken!==E.accessToken&&(E.map.remove(),E.map=null,E.styleObj=null,E.traceHash={},E.layerList=[]),T=E.map?new Promise(function(O,I){E.updateMap(_,f,O,I)}):new Promise(function(O,I){E.createMap(_,f,O,I)}),S.push(T)},g.createMap=function(_,f,S,T){var E=this,C=f[E.id],O=E.styleObj=v(C.style,f);E.accessToken=C.accesstoken;var I=C.bounds,z=I?[[I.west,I.south],[I.east,I.north]]:null,U=E.map=new A.Map({container:E.div,style:O.style,center:m(C.center),zoom:C.zoom,bearing:C.bearing,pitch:C.pitch,maxBounds:z,interactive:!E.isStatic,preserveDrawingBuffer:E.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new A.AttributionControl({compact:!0}));U._canvas.style.left="0px",U._canvas.style.top="0px",E.rejectOnError(T),E.isStatic||E.initFx(_,f);var D=[];D.push(new Promise(function(B){U.once("load",B)})),D=D.concat(a.fetchTraceGeoData(_)),Promise.all(D).then(function(){E.fillBelowLookup(_,f),E.updateData(_),E.updateLayout(f),E.resolveOnRender(S)}).catch(T)},g.updateMap=function(_,f,S,T){var E=this,C=E.map,O=f[this.id];E.rejectOnError(T);var I=[],z=v(O.style,f);JSON.stringify(E.styleObj)!==JSON.stringify(z)&&(E.styleObj=z,C.setStyle(z.style),E.traceHash={},I.push(new Promise(function(U){C.once("styledata",U)}))),I=I.concat(a.fetchTraceGeoData(_)),Promise.all(I).then(function(){E.fillBelowLookup(_,f),E.updateData(_),E.updateLayout(f),E.resolveOnRender(S)}).catch(T)},g.fillBelowLookup=function(_,f){var S,T,E=f[this.id].layers,C=this.belowLookup={},O=!1;for(S=0;S<_.length;S++){var I=_[S][0].trace,z=I._module;typeof I.below=="string"?T=I.below:z.getBelow&&(T=z.getBelow(I,this)),T===""&&(O=!0),C["trace-"+I.uid]=T||""}for(S=0;S<E.length;S++){var U=E[S];T=typeof U.below=="string"?U.below:O?"traces":"",C["layout-"+S]=T}var D,B,Z={};for(D in C)Z[T=C[D]]?Z[T].push(D):Z[T]=[D];for(T in Z){var F=Z[T];if(F.length>1)for(S=0;S<F.length;S++)(D=F[S]).indexOf("trace-")===0?(B=D.split("trace-")[1],this.traceHash[B]&&(this.traceHash[B].below=null)):D.indexOf("layout-")===0&&(B=D.split("layout-")[1],this.layerList[B]&&(this.layerList[B].below=null))}};var p={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function v(_,f){var S={};if(k.isPlainObject(_))S.id=_.id,S.style=_;else if(typeof _=="string")if(S.id=_,d.styleValuesMapbox.indexOf(_)!==-1)S.style=y(_);else if(d.stylesNonMapbox[_]){S.style=d.stylesNonMapbox[_];var T=S.style.sources["plotly-"+_],E=T?T.tiles:void 0;E&&E[0]&&E[0].slice(-9)==="?api_key="&&(E[0]+=f._mapboxAccessToken)}else S.style=_;else S.id=d.styleValueDflt,S.style=y(d.styleValueDflt);return S.transition={duration:0,delay:0},S}function y(_){return d.styleUrlPrefix+_+"-"+d.styleUrlSuffix}function m(_){return[_.lon,_.lat]}g.updateData=function(_){var f,S,T,E,C=this.traceHash,O=_.slice().sort(function(B,Z){return p[B[0].trace.type]-p[Z[0].trace.type]});for(T=0;T<O.length;T++){var I=O[T],z=!1;(f=C[(S=I[0].trace).uid])&&(f.type===S.type?(f.update(I),z=!0):f.dispose()),!z&&S._module&&(C[S.uid]=S._module.plot(this,I))}var U=Object.keys(C);e:for(T=0;T<U.length;T++){var D=U[T];for(E=0;E<_.length;E++)if(D===(S=_[E][0].trace).uid)continue e;(f=C[D]).dispose(),delete C[D]}},g.updateLayout=function(_){var f=this.map,S=_[this.id];this.dragging||this.wheeling||(f.setCenter(m(S.center)),f.setZoom(S.zoom),f.setBearing(S.bearing),f.setPitch(S.pitch)),this.updateLayers(_),this.updateFramework(_),this.updateFx(_),this.map.resize(),this.gd._context._scrollZoom.mapbox?f.scrollZoom.enable():f.scrollZoom.disable()},g.resolveOnRender=function(_){var f=this.map;f.on("render",function S(){f.loaded()&&(f.off("render",S),setTimeout(_,10))})},g.rejectOnError=function(_){var f=this.map;function S(){_(new Error(d.mapOnErrorMsg))}f.once("error",S),f.once("style.error",S),f.once("source.error",S),f.once("tile.error",S),f.once("layer.error",S)},g.createFramework=function(_){var f=this,S=f.div=document.createElement("div");S.id=f.uid,S.style.position="absolute",f.container.appendChild(S),f.xaxis={_id:"x",c2p:function(T){return f.project(T).x}},f.yaxis={_id:"y",c2p:function(T){return f.project(T).y}},f.updateFramework(_),f.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},b.setConvert(f.mockAxis,_)},g.initFx=function(_,f){var S=this,T=S.gd,E=S.map;function C(){o.loneUnhover(f._hoverlayer)}function O(){var I=S.getView();T.emit("plotly_relayouting",S.getViewEditsWithDerived(I))}E.on("moveend",function(I){if(S.map){var z=T._fullLayout;if(I.originalEvent||S.wheeling){var U=z[S.id];w.call("_storeDirectGUIEdit",T.layout,z._preGUI,S.getViewEdits(U));var D=S.getView();U._input.center=U.center=D.center,U._input.zoom=U.zoom=D.zoom,U._input.bearing=U.bearing=D.bearing,U._input.pitch=U.pitch=D.pitch,T.emit("plotly_relayout",S.getViewEditsWithDerived(D))}I.originalEvent&&I.originalEvent.type==="mouseup"?S.dragging=!1:S.wheeling&&(S.wheeling=!1),z._rehover&&z._rehover()}}),E.on("wheel",function(){S.wheeling=!0}),E.on("mousemove",function(I){var z=S.div.getBoundingClientRect(),U=[I.originalEvent.offsetX,I.originalEvent.offsetY];I.target.getBoundingClientRect=function(){return z},S.xaxis.p2c=function(){return E.unproject(U).lng},S.yaxis.p2c=function(){return E.unproject(U).lat},T._fullLayout._rehover=function(){T._fullLayout._hoversubplot===S.id&&T._fullLayout[S.id]&&o.hover(T,I,S.id)},o.hover(T,I,S.id),T._fullLayout._hoversubplot=S.id}),E.on("dragstart",function(){S.dragging=!0,C()}),E.on("zoomstart",C),E.on("mouseout",function(){T._fullLayout._hoversubplot=null}),E.on("drag",O),E.on("zoom",O),E.on("dblclick",function(){var I=T._fullLayout[S.id];w.call("_storeDirectGUIEdit",T.layout,T._fullLayout._preGUI,S.getViewEdits(I));var z=S.viewInitial;E.setCenter(m(z.center)),E.setZoom(z.zoom),E.setBearing(z.bearing),E.setPitch(z.pitch);var U=S.getView();I._input.center=I.center=U.center,I._input.zoom=I.zoom=U.zoom,I._input.bearing=I.bearing=U.bearing,I._input.pitch=I.pitch=U.pitch,T.emit("plotly_doubleclick",null),T.emit("plotly_relayout",S.getViewEditsWithDerived(U))}),S.clearOutline=function(){l(S.dragOptions),s(S.dragOptions.gd)},S.onClickInPanFn=function(I){return function(z){var U=T._fullLayout.clickmode;U.indexOf("select")>-1&&u(z.originalEvent,T,[S.xaxis],[S.yaxis],S.id,I),U.indexOf("event")>-1&&o.click(T,z.originalEvent)}}},g.updateFx=function(_){var f=this,S=f.map,T=f.gd;if(!f.isStatic){var E,C=_.dragmode;E=function(z,U){U.isRect?(z.range={})[f.id]=[I([U.xmin,U.ymin]),I([U.xmax,U.ymax])]:(z.lassoPoints={})[f.id]=U.map(I)};var O=f.dragOptions;f.dragOptions=k.extendDeep(O||{},{dragmode:_.dragmode,element:f.div,gd:T,plotinfo:{id:f.id,domain:_[f.id].domain,xaxis:f.xaxis,yaxis:f.yaxis,fillRangeItems:E},xaxes:[f.xaxis],yaxes:[f.yaxis],subplot:f.id}),S.off("click",f.onClickInPanHandler),n(C)||i(C)?(S.dragPan.disable(),S.on("zoomstart",f.clearOutline),f.dragOptions.prepFn=function(z,U,D){r(z,U,D,f.dragOptions,C)},h.init(f.dragOptions)):(S.dragPan.enable(),S.off("zoomstart",f.clearOutline),f.div.onmousedown=null,f.div.ontouchstart=null,f.div.removeEventListener("touchstart",f.div._ontouchstart),f.onClickInPanHandler=f.onClickInPanFn(f.dragOptions),S.on("click",f.onClickInPanHandler))}function I(z){var U=f.map.unproject(z);return[U.lng,U.lat]}},g.updateFramework=function(_){var f=_[this.id].domain,S=_._size,T=this.div.style;T.width=S.w*(f.x[1]-f.x[0])+"px",T.height=S.h*(f.y[1]-f.y[0])+"px",T.left=S.l+f.x[0]*S.w+"px",T.top=S.t+(1-f.y[1])*S.h+"px",this.xaxis._offset=S.l+f.x[0]*S.w,this.xaxis._length=S.w*(f.x[1]-f.x[0]),this.yaxis._offset=S.t+(1-f.y[1])*S.h,this.yaxis._length=S.h*(f.y[1]-f.y[0])},g.updateLayers=function(_){var f,S=_[this.id].layers,T=this.layerList;if(S.length!==T.length){for(f=0;f<T.length;f++)T[f].dispose();for(T=this.layerList=[],f=0;f<S.length;f++)T.push(c(this,f,S[f]))}else for(f=0;f<S.length;f++)T[f].update(S[f])},g.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},g.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},g.setOptions=function(_,f,S){for(var T in S)this.map[f](_,T,S[T])},g.getMapLayers=function(){return this.map.getStyle().layers},g.addLayer=function(_,f){var S=this.map;if(typeof f=="string"){if(f==="")return void S.addLayer(_,f);for(var T=this.getMapLayers(),E=0;E<T.length;E++)if(f===T[E].id)return void S.addLayer(_,f);k.warn(["Trying to add layer with *below* value",f,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}S.addLayer(_)},g.project=function(_){return this.map.project(new A.LngLat(_[0],_[1]))},g.getView=function(){var _=this.map,f=_.getCenter(),S={lon:f.lng,lat:f.lat},T=_.getCanvas(),E=parseInt(T.style.width),C=parseInt(T.style.height);return{center:S,zoom:_.getZoom(),bearing:_.getBearing(),pitch:_.getPitch(),_derived:{coordinates:[_.unproject([0,0]).toArray(),_.unproject([E,0]).toArray(),_.unproject([E,C]).toArray(),_.unproject([0,C]).toArray()]}}},g.getViewEdits=function(_){for(var f=this.id,S=["center","zoom","bearing","pitch"],T={},E=0;E<S.length;E++){var C=S[E];T[f+"."+C]=_[C]}return T},g.getViewEditsWithDerived=function(_){var f=this.id,S=this.getViewEdits(_);return S[f+"._derived"]=_._derived,S},Y.exports=x},66741:function(Y){Y.exports=function(P){var e=P.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},7316:function(Y,P,e){var A=e(33428),k=e(94336).m_,a=e(57624).SO,w=e(38248),b=e(83160),h=e(24040),o=e(73060),t=e(31780),i=e(3400),n=e(76308),r=e(39032).BADNUM,s=e(79811),l=e(1936).clearOutline,u=e(55308),d=e(85656),c=e(16672),x=e(84888)._M,g=i.relinkPrivateKeys,p=i._,v=Y.exports={};i.extendFlat(v,h),v.attributes=e(45464),v.attributes.type.values=v.allTypes,v.fontAttrs=e(25376),v.layoutAttributes=e(64859),v.fontWeight="normal";var y=v.transformsRegistry,m=e(62460);v.executeAPICommand=m.executeAPICommand,v.computeAPICommandBindings=m.computeAPICommandBindings,v.manageCommandObserver=m.manageCommandObserver,v.hasSimpleAPICommandBindings=m.hasSimpleAPICommandBindings,v.redrawText=function(F){return F=i.getGraphDiv(F),new Promise(function(j){setTimeout(function(){F._fullLayout&&(h.getComponentMethod("annotations","draw")(F),h.getComponentMethod("legend","draw")(F),h.getComponentMethod("colorbar","draw")(F),j(v.previousPromises(F)))},300)})},v.resize=function(F){var j;F=i.getGraphDiv(F);var V=new Promise(function(te,Q){F&&!i.isHidden(F)||Q(new Error("Resize must be passed a displayed plot div element.")),F._redrawTimer&&clearTimeout(F._redrawTimer),F._resolveResize&&(j=F._resolveResize),F._resolveResize=te,F._redrawTimer=setTimeout(function(){if(!F.layout||F.layout.width&&F.layout.height||i.isHidden(F))te(F);else{delete F.layout.width,delete F.layout.height;var $=F.changed;F.autoplay=!0,h.call("relayout",F,{autosize:!0}).then(function(){F.changed=$,F._resolveResize===te&&(delete F._resolveResize,te(F))})}},100)});return j&&j(V),V},v.previousPromises=function(F){if((F._promises||[]).length)return Promise.all(F._promises).then(function(){F._promises=[]})},v.addLinks=function(F){if(F._context.showLink||F._context.showSources){var j=F._fullLayout,V=i.ensureSingle(j._paper,"text","js-plot-link-container",function(J){J.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:n.defaultLine,"pointer-events":"all"}).each(function(){var ne=A.select(this);ne.append("tspan").classed("js-link-to-tool",!0),ne.append("tspan").classed("js-link-spacer",!0),ne.append("tspan").classed("js-sourcelinks",!0)})}),te=V.node(),Q={y:j._paper.attr("height")-9};document.body.contains(te)&&te.getComputedTextLength()>=j.width-20?(Q["text-anchor"]="start",Q.x=5):(Q["text-anchor"]="end",Q.x=j._paper.attr("width")-7),V.attr(Q);var $=V.select(".js-link-to-tool"),G=V.select(".js-link-spacer"),X=V.select(".js-sourcelinks");F._context.showSources&&F._context.showSources(F),F._context.showLink&&function(J,ne){ne.text("");var ie=ne.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(J._context.linkText+" "+String.fromCharCode(187));if(J._context.sendData)ie.on("click",function(){v.sendDataToCloud(J)});else{var ae=window.location.pathname.split("/"),le=window.location.search;ie.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+ae[2].split(".")[0]+"/"+ae[1]+le})}}(F,$),G.text($.text()&&X.text()?" - ":"")}},v.sendDataToCloud=function(F){var j=(window.PLOTLYENV||{}).BASE_URL||F._context.plotlyServerURL;if(j){F.emit("plotly_beforeexport");var V=A.select(F).append("div").attr("id","hiddenform").style("display","none"),te=V.append("form").attr({action:j+"/external",method:"post",target:"_blank"});return te.append("input").attr({type:"text",name:"data"}).node().value=v.graphJson(F,!1,"keepdata"),te.node().submit(),V.remove(),F.emit("plotly_afterexport"),!1}};var _=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],f=["year","month","dayMonth","dayMonthYear"];function S(F,j){var V=F._context.locale;V||(V="en-US");var te=!1,Q={};function $(ae){for(var le=!0,ce=0;ce<j.length;ce++){var pe=j[ce];Q[pe]||(ae[pe]?Q[pe]=ae[pe]:le=!1)}le&&(te=!0)}for(var G=0;G<2;G++){for(var X=F._context.locales,J=0;J<2;J++){var ne=(X[V]||{}).format;if(ne&&($(ne),te))break;X=h.localeRegistry}var ie=V.split("-")[0];if(te||ie===V)break;V=ie}return te||$(h.localeRegistry.en.format),Q}function T(F,j){var V={_fullLayout:j},te=F._id.charAt(0)==="x",Q=F._mainAxis._anchorAxis,$="",G="",X="";if(Q&&(X=Q._mainAxis._id,$=te?F._id+X:X+F._id),!$||!j._plots[$]){$="";for(var J=F._counterAxes,ne=0;ne<J.length;ne++){var ie=J[ne],ae=te?F._id+ie:ie+F._id;G||(G=ae);var le=s.getFromId(V,ie);if(X&&le.overlaying===X){$=ae;break}}}return $||G}function E(F){var j=F.transforms;if(Array.isArray(j)&&j.length)for(var V=0;V<j.length;V++){var te=j[V],Q=te._module||y[te.type];if(Q&&Q.makesData)return!0}return!1}function C(F,j,V,te){for(var Q=F.transforms,$=[F],G=0;G<Q.length;G++){var X=Q[G],J=y[X.type];J&&J.transform&&($=J.transform($,{transform:X,fullTrace:F,fullData:j,layout:V,fullLayout:te,transformIndex:G}))}return $}function O(F){return typeof F=="string"&&F.substr(F.length-2)==="px"&&parseFloat(F)}function I(F){var j=F.margin;if(!F._size){var V=F._size={l:Math.round(j.l),r:Math.round(j.r),t:Math.round(j.t),b:Math.round(j.b),p:Math.round(j.pad)};V.w=Math.round(F.width)-V.l-V.r,V.h=Math.round(F.height)-V.t-V.b}F._pushmargin||(F._pushmargin={}),F._pushmarginIds||(F._pushmarginIds={}),F._reservedMargin||(F._reservedMargin={})}v.supplyDefaults=function(F,j){var V=j&&j.skipUpdateCalc,te=F._fullLayout||{};if(te._skipDefaults)delete te._skipDefaults;else{var Q,$=F._fullLayout={},G=F.layout||{},X=F._fullData||[],J=F._fullData=[],ne=F.data||[],ie=F.calcdata||[],ae=F._context||{};F._transitionData||v.createTransitionData(F),$._dfltTitle={plot:p(F,"Click to enter Plot title"),x:p(F,"Click to enter X axis title"),y:p(F,"Click to enter Y axis title"),colorbar:p(F,"Click to enter Colorscale title"),annotation:p(F,"new text")},$._traceWord=p(F,"trace");var le=S(F,_);if($._mapboxAccessToken=ae.mapboxAccessToken,te._initialAutoSizeIsDone){var ce=te.width,pe=te.height;v.supplyLayoutGlobalDefaults(G,$,le),G.width||($.width=ce),G.height||($.height=pe),v.sanitizeMargins($)}else{v.supplyLayoutGlobalDefaults(G,$,le);var ge=!G.width||!G.height,me=$.autosize,ve=ae.autosizable;ge&&(me||ve)?v.plotAutoSize(F,G,$):ge&&v.sanitizeMargins($),!me&&ge&&(G.width=$.width,G.height=$.height)}$._d3locale=function(Ie,He){return Ie.decimal=He.charAt(0),Ie.thousands=He.charAt(1),{numberFormat:function(qe){try{qe=a(Ie).format(i.adjustFormat(qe))}catch{return i.warnBadFormat(qe),i.noFormat}return qe},timeFormat:k(Ie).utcFormat}}(le,$.separators),$._extraFormat=S(F,f),$._initialAutoSizeIsDone=!0,$._dataLength=ne.length,$._modules=[],$._visibleModules=[],$._basePlotModules=[];var Me=$._subplots=function(){var Ie,He,qe=h.collectableSubplotTypes,Je={};if(!qe){qe=[];var st=h.subplotsRegistry;for(var it in st){var vt=st[it].attr;if(vt&&(qe.push(it),Array.isArray(vt)))for(He=0;He<vt.length;He++)i.pushUnique(qe,vt[He])}}for(Ie=0;Ie<qe.length;Ie++)Je[qe[Ie]]=[];return Je}(),_e=$._splomAxes={x:{},y:{}},we=$._splomSubplots={};$._splomGridDflt={},$._scatterStackOpts={},$._firstScatter={},$._alignmentOpts={},$._colorAxes={},$._requestRangeslider={},$._traceUids=function(Ie,He){var qe,Je,st=He.length,it=[];for(qe=0;qe<Ie.length;qe++){var vt=Ie[qe]._fullInput;vt!==Je&&it.push(vt),Je=vt}var _t=it.length,xt=new Array(st),et={};function nt(Ft,Rt){xt[Rt]=Ft,et[Ft]=1}function Mt(Ft,Rt){if(Ft&&typeof Ft=="string"&&!et[Ft])return nt(Ft,Rt),!0}for(qe=0;qe<st;qe++){var zt=He[qe].uid;typeof zt=="number"&&(zt=String(zt)),Mt(zt,qe)||qe<_t&&Mt(it[qe].uid,qe)||nt(i.randstr(et),qe)}return xt}(X,ne),$._globalTransforms=(F._context||{}).globalTransforms,v.supplyDataDefaults(ne,J,G,$);var oe=Object.keys(_e.x),se=Object.keys(_e.y);if(oe.length>1&&se.length>1){for(h.getComponentMethod("grid","sizeDefaults")(G,$),Q=0;Q<oe.length;Q++)i.pushUnique(Me.xaxis,oe[Q]);for(Q=0;Q<se.length;Q++)i.pushUnique(Me.yaxis,se[Q]);for(var de in we)i.pushUnique(Me.cartesian,de)}if($._has=v._hasPlotType.bind($),X.length===J.length)for(Q=0;Q<J.length;Q++)g(J[Q],X[Q]);v.supplyLayoutModuleDefaults(G,$,J,F._transitionData);var Ee=$._visibleModules,Te=[];for(Q=0;Q<Ee.length;Q++){var Se=Ee[Q].crossTraceDefaults;Se&&i.pushUnique(Te,Se)}for(Q=0;Q<Te.length;Q++)Te[Q](J,$);$._hasOnlyLargeSploms=$._basePlotModules.length===1&&$._basePlotModules[0].name==="splom"&&oe.length>15&&se.length>15&&$.shapes.length===0&&$.images.length===0,v.linkSubplots(J,$,X,te),v.cleanPlot(J,$,X,te);var Le=!(!te._has||!te._has("gl2d")),Oe=!(!$._has||!$._has("gl2d")),he=!(!te._has||!te._has("cartesian"))||Le,xe=!(!$._has||!$._has("cartesian"))||Oe;he&&!xe?te._bgLayer.remove():xe&&!he&&($._shouldCreateBgLayer=!0),te._zoomlayer&&!F._dragging&&l({_fullLayout:te}),function(Ie,He){var qe,Je=[];He.meta&&(qe=He._meta={meta:He.meta,layout:{meta:He.meta}});for(var st=0;st<Ie.length;st++){var it=Ie[st];it.meta?Je[it.index]=it._meta={meta:it.meta}:He.meta&&(it._meta={meta:He.meta}),He.meta&&(it._meta.layout={meta:He.meta})}Je.length&&(qe||(qe=He._meta={}),qe.data=Je)}(J,$),g($,te),h.getComponentMethod("colorscale","crossTraceDefaults")(J,$),$._preGUI||($._preGUI={}),$._tracePreGUI||($._tracePreGUI={});var ke,Re=$._tracePreGUI,ze={};for(ke in Re)ze[ke]="old";for(Q=0;Q<J.length;Q++)ze[ke=J[Q]._fullInput.uid]||(Re[ke]={}),ze[ke]="new";for(ke in ze)ze[ke]==="old"&&delete Re[ke];I($),h.getComponentMethod("rangeslider","makeData")($),V||ie.length!==J.length||v.supplyDefaultsUpdateCalc(ie,J)}},v.supplyDefaultsUpdateCalc=function(F,j){for(var V=0;V<j.length;V++){var te=j[V],Q=(F[V]||[])[0];if(Q&&Q.trace){var $=Q.trace;if($._hasCalcTransform){var G,X,J,ne=$._arrayAttrs;for(G=0;G<ne.length;G++)X=ne[G],J=i.nestedProperty($,X).get().slice(),i.nestedProperty(te,X).set(J)}Q.trace=te}}},v.createTransitionData=function(F){F._transitionData||(F._transitionData={}),F._transitionData._frames||(F._transitionData._frames=[]),F._transitionData._frameHash||(F._transitionData._frameHash={}),F._transitionData._counter||(F._transitionData._counter=0),F._transitionData._interruptCallbacks||(F._transitionData._interruptCallbacks=[])},v._hasPlotType=function(F){var j,V=this._basePlotModules||[];for(j=0;j<V.length;j++)if(V[j].name===F)return!0;var te=this._modules||[];for(j=0;j<te.length;j++){var Q=te[j].name;if(Q===F)return!0;var $=h.modules[Q];if($&&$.categories[F])return!0}return!1},v.cleanPlot=function(F,j,V,te){var Q,$,G=te._basePlotModules||[];for(Q=0;Q<G.length;Q++){var X=G[Q];X.clean&&X.clean(F,j,V,te)}var J=te._has&&te._has("gl"),ne=j._has&&j._has("gl");J&&!ne&&te._glcontainer!==void 0&&(te._glcontainer.selectAll(".gl-canvas").remove(),te._glcontainer.selectAll(".no-webgl").remove(),te._glcanvas=null);var ie=!!te._infolayer;e:for(Q=0;Q<V.length;Q++){var ae=V[Q].uid;for($=0;$<F.length;$++)if(ae===F[$].uid)continue e;ie&&te._infolayer.select(".cb"+ae).remove()}},v.linkSubplots=function(F,j,V,te){var Q,$,G=te._plots||{},X=j._plots={},J=j._subplots,ne={_fullData:F,_fullLayout:j},ie=J.cartesian.concat(J.gl2d||[]);for(Q=0;Q<ie.length;Q++){var ae,le=ie[Q],ce=G[le],pe=s.getFromId(ne,le,"x"),ge=s.getFromId(ne,le,"y");for(ce?ae=X[le]=ce:(ae=X[le]={}).id=le,pe._counterAxes.push(ge._id),ge._counterAxes.push(pe._id),pe._subplotsWith.push(le),ge._subplotsWith.push(le),ae.xaxis=pe,ae.yaxis=ge,ae._hasClipOnAxisFalse=!1,$=0;$<F.length;$++){var me=F[$];if(me.xaxis===ae.xaxis._id&&me.yaxis===ae.yaxis._id&&me.cliponaxis===!1){ae._hasClipOnAxisFalse=!0;break}}}var ve,Me=s.list(ne,null,!0);for(Q=0;Q<Me.length;Q++){var _e=null;(ve=Me[Q]).overlaying&&(_e=s.getFromId(ne,ve.overlaying))&&_e.overlaying&&(ve.overlaying=!1,_e=null),ve._mainAxis=_e||ve,_e&&(ve.domain=_e.domain.slice()),ve._anchorAxis=ve.anchor==="free"?null:s.getFromId(ne,ve.anchor)}for(Q=0;Q<Me.length;Q++)if((ve=Me[Q])._counterAxes.sort(s.idSort),ve._subplotsWith.sort(i.subplotSort),ve._mainSubplot=T(ve,j),ve._counterAxes.length&&(ve.spikemode&&ve.spikemode.indexOf("across")!==-1||ve.automargin&&ve.mirror&&ve.anchor!=="free"||h.getComponentMethod("rangeslider","isVisible")(ve))){var we=1,oe=0;for($=0;$<ve._counterAxes.length;$++){var se=s.getFromId(ne,ve._counterAxes[$]);we=Math.min(we,se.domain[0]),oe=Math.max(oe,se.domain[1])}we<oe&&(ve._counterDomainMin=we,ve._counterDomainMax=oe)}},v.clearExpandedTraceDefaultColors=function(F){var j,V,te;for(V=[],(j=F._module._colorAttrs)||(F._module._colorAttrs=j=[],o.crawl(F._module.attributes,function(Q,$,G,X){V[X]=$,V.length=X+1,Q.valType==="color"&&Q.dflt===void 0&&j.push(V.join("."))})),te=0;te<j.length;te++)i.nestedProperty(F,"_input."+j[te]).get()||i.nestedProperty(F,j[te]).set(null)},v.supplyDataDefaults=function(F,j,V,te){var Q,$,G,X=te._modules,J=te._visibleModules,ne=te._basePlotModules,ie=0,ae=0;function le(de){j.push(de);var Ee=de._module;Ee&&(i.pushUnique(X,Ee),de.visible===!0&&i.pushUnique(J,Ee),i.pushUnique(ne,de._module.basePlotModule),ie++,de._input.visible!==!1&&ae++)}te._transformModules=[];var ce={},pe=[],ge=(V.template||{}).data||{},me=t.traceTemplater(ge);for(Q=0;Q<F.length;Q++){if(G=F[Q],($=me.newTrace(G)).uid=te._traceUids[Q],v.supplyTraceDefaults(G,$,ae,te,Q),$.index=Q,$._input=G,$._expandedIndex=ie,$.transforms&&$.transforms.length)for(var ve=G.visible!==!1&&$.visible===!1,Me=C($,j,V,te),_e=0;_e<Me.length;_e++){var we=Me[_e],oe={_template:$._template,type:$.type,uid:$.uid+_e};ve&&we.visible===!1&&delete we.visible,v.supplyTraceDefaults(we,oe,ie,te,Q),g(oe,we),oe.index=Q,oe._input=G,oe._fullInput=$,oe._expandedIndex=ie,oe._expandedInput=we,le(oe)}else $._fullInput=$,$._expandedInput=$,le($);h.traceIs($,"carpetAxis")&&(ce[$.carpet]=$),h.traceIs($,"carpetDependent")&&pe.push(Q)}for(Q=0;Q<pe.length;Q++)if(($=j[pe[Q]]).visible){var se=ce[$.carpet];$._carpet=se,se&&se.visible?($.xaxis=se.xaxis,$.yaxis=se.yaxis):$.visible=!1}},v.supplyAnimationDefaults=function(F){var j;F=F||{};var V={};function te(Q,$){return i.coerce(F||{},V,d,Q,$)}if(te("mode"),te("direction"),te("fromcurrent"),Array.isArray(F.frame))for(V.frame=[],j=0;j<F.frame.length;j++)V.frame[j]=v.supplyAnimationFrameDefaults(F.frame[j]||{});else V.frame=v.supplyAnimationFrameDefaults(F.frame||{});if(Array.isArray(F.transition))for(V.transition=[],j=0;j<F.transition.length;j++)V.transition[j]=v.supplyAnimationTransitionDefaults(F.transition[j]||{});else V.transition=v.supplyAnimationTransitionDefaults(F.transition||{});return V},v.supplyAnimationFrameDefaults=function(F){var j={};function V(te,Q){return i.coerce(F||{},j,d.frame,te,Q)}return V("duration"),V("redraw"),j},v.supplyAnimationTransitionDefaults=function(F){var j={};function V(te,Q){return i.coerce(F||{},j,d.transition,te,Q)}return V("duration"),V("easing"),j},v.supplyFrameDefaults=function(F){var j={};function V(te,Q){return i.coerce(F,j,c,te,Q)}return V("group"),V("name"),V("traces"),V("baseframe"),V("data"),V("layout"),j},v.supplyTraceDefaults=function(F,j,V,te,Q){var $,G=te.colorway||n.defaults,X=G[V%G.length];function J(_e,we){return i.coerce(F,j,v.attributes,_e,we)}var ne=J("visible");J("type"),J("name",te._traceWord+" "+Q),J("uirevision",te.uirevision);var ie=v.getModule(j);if(j._module=ie,ie){var ae=ie.basePlotModule,le=ae.attr,ce=ae.attributes;if(le&&ce){var pe=te._subplots,ge="";if(ne||ae.name!=="gl2d"){if(Array.isArray(le))for($=0;$<le.length;$++){var me=le[$],ve=i.coerce(F,j,ce,me);pe[me]&&i.pushUnique(pe[me],ve),ge+=ve}else ge=i.coerce(F,j,ce,le);pe[ae.name]&&i.pushUnique(pe[ae.name],ge)}}}if(ne){if(J("customdata"),J("ids"),J("meta"),h.traceIs(j,"showLegend")?(i.coerce(F,j,ie.attributes.showlegend?ie.attributes:v.attributes,"showlegend"),J("legend"),J("legendwidth"),J("legendgroup"),J("legendgrouptitle.text"),J("legendrank"),j._dfltShowLegend=!0):j._dfltShowLegend=!1,ie&&ie.supplyDefaults(F,j,X,te),h.traceIs(j,"noOpacity")||J("opacity"),h.traceIs(j,"notLegendIsolatable")&&(j.visible=!!j.visible),h.traceIs(j,"noHover")||(j.hovertemplate||i.coerceHoverinfo(F,j,te),j.type!=="parcats"&&h.getComponentMethod("fx","supplyDefaults")(F,j,X,te)),ie&&ie.selectPoints){var Me=J("selectedpoints");i.isTypedArray(Me)&&(j.selectedpoints=Array.from(Me))}v.supplyTransformDefaults(F,j,te)}return j},v.hasMakesDataTransform=E,v.supplyTransformDefaults=function(F,j,V){if(j._length||E(F)){var te=V._globalTransforms||[],Q=V._transformModules||[];if(Array.isArray(F.transforms)||te.length!==0)for(var $=F.transforms||[],G=te.concat($),X=j.transforms=[],J=0;J<G.length;J++){var ne,ie=G[J],ae=ie.type,le=y[ae],ce=!(ie._module&&ie._module===le),pe=le&&typeof le.transform=="function";le||i.warn("Unrecognized transform type "+ae+"."),le&&le.supplyDefaults&&(ce||pe)?((ne=le.supplyDefaults(ie,j,V,F)).type=ae,ne._module=le,i.pushUnique(Q,le)):ne=i.extendFlat({},ie),X.push(ne)}}},v.supplyLayoutGlobalDefaults=function(F,j,V){function te(ie,ae){return i.coerce(F,j,v.layoutAttributes,ie,ae)}var Q=F.template;i.isPlainObject(Q)&&(j.template=Q,j._template=Q.layout,j._dataTemplate=Q.data),te("autotypenumbers");var $=i.coerceFont(te,"font"),G=$.size;i.coerceFont(te,"title.font",i.extendFlat({},$,{size:Math.round(1.4*G)})),te("title.text",j._dfltTitle.plot),te("title.xref");var X=te("title.yref");te("title.pad.t"),te("title.pad.r"),te("title.pad.b"),te("title.pad.l");var J=te("title.automargin");te("title.x"),te("title.xanchor"),te("title.y"),te("title.yanchor"),J&&(X==="paper"&&(j.title.y!==0&&(j.title.y=1),j.title.yanchor==="auto"&&(j.title.yanchor=j.title.y===0?"top":"bottom")),X==="container"&&(j.title.y==="auto"&&(j.title.y=1),j.title.yanchor==="auto"&&(j.title.yanchor=j.title.y<.5?"bottom":"top"))),te("uniformtext.mode")&&te("uniformtext.minsize"),te("autosize",!(F.width&&F.height)),te("width"),te("height"),te("minreducedwidth"),te("minreducedheight"),te("margin.l"),te("margin.r"),te("margin.t"),te("margin.b"),te("margin.pad"),te("margin.autoexpand"),F.width&&F.height&&v.sanitizeMargins(j),h.getComponentMethod("grid","sizeDefaults")(F,j),te("paper_bgcolor"),te("separators",V.decimal+V.thousands),te("hidesources"),te("colorway"),te("datarevision");var ne=te("uirevision");te("editrevision",ne),te("selectionrevision",ne),h.getComponentMethod("modebar","supplyLayoutDefaults")(F,j),h.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(F,j,te),h.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(F,j,te),te("meta"),i.isPlainObject(F.transition)&&(te("transition.duration"),te("transition.easing"),te("transition.ordering")),h.getComponentMethod("calendars","handleDefaults")(F,j,"calendar"),h.getComponentMethod("fx","supplyLayoutGlobalDefaults")(F,j,te),i.coerce(F,j,u,"scattermode")},v.plotAutoSize=function(F,j,V){var te,Q,$=F._context||{},G=$.frameMargins,X=i.isPlotDiv(F);if(X&&F.emit("plotly_autosize"),$.fillFrame)te=window.innerWidth,Q=window.innerHeight,document.body.style.overflow="hidden";else{var J=X?window.getComputedStyle(F):{};if(te=O(J.width)||O(J.maxWidth)||V.width,Q=O(J.height)||O(J.maxHeight)||V.height,w(G)&&G>0){var ne=1-2*G;te=Math.round(ne*te),Q=Math.round(ne*Q)}}var ie=v.layoutAttributes.width.min,ae=v.layoutAttributes.height.min;te<ie&&(te=ie),Q<ae&&(Q=ae);var le=!j.width&&Math.abs(V.width-te)>1,ce=!j.height&&Math.abs(V.height-Q)>1;(ce||le)&&(le&&(V.width=te),ce&&(V.height=Q)),F._initialAutoSize||(F._initialAutoSize={width:te,height:Q}),v.sanitizeMargins(V)},v.supplyLayoutModuleDefaults=function(F,j,V,te){var Q,$,G,X=h.componentsRegistry,J=j._basePlotModules,ne=h.subplotsRegistry.cartesian;for(Q in X)(G=X[Q]).includeBasePlot&&G.includeBasePlot(F,j);for(var ie in J.length||J.push(ne),j._has("cartesian")&&(h.getComponentMethod("grid","contentDefaults")(F,j),ne.finalizeSubplots(F,j)),j._subplots)j._subplots[ie].sort(i.subplotSort);for($=0;$<J.length;$++)(G=J[$]).supplyLayoutDefaults&&G.supplyLayoutDefaults(F,j,V);var ae=j._modules;for($=0;$<ae.length;$++)(G=ae[$]).supplyLayoutDefaults&&G.supplyLayoutDefaults(F,j,V);var le=j._transformModules;for($=0;$<le.length;$++)(G=le[$]).supplyLayoutDefaults&&G.supplyLayoutDefaults(F,j,V,te);for(Q in X)(G=X[Q]).supplyLayoutDefaults&&G.supplyLayoutDefaults(F,j,V)},v.purge=function(F){var j=F._fullLayout||{};j._glcontainer!==void 0&&(j._glcontainer.selectAll(".gl-canvas").remove(),j._glcontainer.remove(),j._glcanvas=null),j._modeBar&&j._modeBar.destroy(),F._transitionData&&(F._transitionData._interruptCallbacks&&(F._transitionData._interruptCallbacks.length=0),F._transitionData._animationRaf&&window.cancelAnimationFrame(F._transitionData._animationRaf)),i.clearThrottle(),i.clearResponsive(F),delete F.data,delete F.layout,delete F._fullData,delete F._fullLayout,delete F.calcdata,delete F.empty,delete F.fid,delete F.undoqueue,delete F.undonum,delete F.autoplay,delete F.changed,delete F._promises,delete F._redrawTimer,delete F._hmlumcount,delete F._hmpixcount,delete F._transitionData,delete F._transitioning,delete F._initialAutoSize,delete F._transitioningWithDuration,delete F._dragging,delete F._dragged,delete F._dragdata,delete F._hoverdata,delete F._snapshotInProgress,delete F._editing,delete F._mouseDownTime,delete F._legendMouseDownTime,F.removeAllListeners&&F.removeAllListeners()},v.style=function(F){var j,V=F._fullLayout._visibleModules,te=[];for(j=0;j<V.length;j++){var Q=V[j];Q.style&&i.pushUnique(te,Q.style)}for(j=0;j<te.length;j++)te[j](F)},v.sanitizeMargins=function(F){if(F&&F.margin){var j,V=F.width,te=F.height,Q=F.margin,$=V-(Q.l+Q.r),G=te-(Q.t+Q.b);$<0&&(j=(V-1)/(Q.l+Q.r),Q.l=Math.floor(j*Q.l),Q.r=Math.floor(j*Q.r)),G<0&&(j=(te-1)/(Q.t+Q.b),Q.t=Math.floor(j*Q.t),Q.b=Math.floor(j*Q.b))}},v.clearAutoMarginIds=function(F){F._fullLayout._pushmarginIds={}},v.allowAutoMargin=function(F,j){F._fullLayout._pushmarginIds[j]=1},v.autoMargin=function(F,j,V){var te=F._fullLayout,Q=te.width,$=te.height,G=te.margin,X=te.minreducedwidth,J=te.minreducedheight,ne=i.constrain(Q-G.l-G.r,2,X),ie=i.constrain($-G.t-G.b,2,J),ae=Math.max(0,Q-ne),le=Math.max(0,$-ie),ce=te._pushmargin,pe=te._pushmarginIds;if(G.autoexpand!==!1){if(V){var ge=V.pad;if(ge===void 0&&(ge=Math.min(12,G.l,G.r,G.t,G.b)),ae){var me=(V.l+V.r)/ae;me>1&&(V.l/=me,V.r/=me)}if(le){var ve=(V.t+V.b)/le;ve>1&&(V.t/=ve,V.b/=ve)}var Me=V.xl!==void 0?V.xl:V.x,_e=V.xr!==void 0?V.xr:V.x,we=V.yt!==void 0?V.yt:V.y,oe=V.yb!==void 0?V.yb:V.y;ce[j]={l:{val:Me,size:V.l+ge},r:{val:_e,size:V.r+ge},b:{val:oe,size:V.b+ge},t:{val:we,size:V.t+ge}},pe[j]=1}else delete ce[j],delete pe[j];if(!te._replotting)return v.doAutoMargin(F)}},v.doAutoMargin=function(F){var j=F._fullLayout,V=j.width,te=j.height;j._size||(j._size={}),I(j);var Q=j._size,$=j.margin,G={t:0,b:0,l:0,r:0},X=i.extendFlat({},Q),J=$.l,ne=$.r,ie=$.t,ae=$.b,le=j._pushmargin,ce=j._pushmarginIds,pe=j.minreducedwidth,ge=j.minreducedheight;if($.autoexpand!==!1){for(var me in le)ce[me]||delete le[me];var ve=F._fullLayout._reservedMargin;for(var Me in ve)for(var _e in ve[Me]){var we=ve[Me][_e];G[_e]=Math.max(G[_e],we)}for(var oe in le.base={l:{val:0,size:J},r:{val:1,size:ne},t:{val:1,size:ie},b:{val:0,size:ae}},G){var se=0;for(var de in le)de!=="base"&&w(le[de][oe].size)&&(se=le[de][oe].size>se?le[de][oe].size:se);var Ee=Math.max(0,$[oe]-se);G[oe]=Math.max(0,G[oe]-Ee)}for(var Te in le){var Se=le[Te].l||{},Le=le[Te].b||{},Oe=Se.val,he=Se.size,xe=Le.val,ke=Le.size,Re=V-G.r-G.l,ze=te-G.t-G.b;for(var Ie in le){if(w(he)&&le[Ie].r){var He=le[Ie].r.val,qe=le[Ie].r.size;if(He>Oe){var Je=(he*He+(qe-Re)*Oe)/(He-Oe),st=(qe*(1-Oe)+(he-Re)*(1-He))/(He-Oe);Je+st>J+ne&&(J=Je,ne=st)}}if(w(ke)&&le[Ie].t){var it=le[Ie].t.val,vt=le[Ie].t.size;if(it>xe){var _t=(ke*it+(vt-ze)*xe)/(it-xe),xt=(vt*(1-xe)+(ke-ze)*(1-it))/(it-xe);_t+xt>ae+ie&&(ae=_t,ie=xt)}}}}}var et=i.constrain(V-$.l-$.r,2,pe),nt=i.constrain(te-$.t-$.b,2,ge),Mt=Math.max(0,V-et),zt=Math.max(0,te-nt);if(Mt){var Ft=(J+ne)/Mt;Ft>1&&(J/=Ft,ne/=Ft)}if(zt){var Rt=(ae+ie)/zt;Rt>1&&(ae/=Rt,ie/=Rt)}if(Q.l=Math.round(J)+G.l,Q.r=Math.round(ne)+G.r,Q.t=Math.round(ie)+G.t,Q.b=Math.round(ae)+G.b,Q.p=Math.round($.pad),Q.w=Math.round(V)-Q.l-Q.r,Q.h=Math.round(te)-Q.t-Q.b,!j._replotting&&(v.didMarginChange(X,Q)||function(Ze){if("_redrawFromAutoMarginCount"in Ze._fullLayout)return!1;var Ne=s.list(Ze,"",!0);for(var Ye in Ne)if(Ne[Ye].autoshift||Ne[Ye].shift)return!0;return!1}(F))){"_redrawFromAutoMarginCount"in j?j._redrawFromAutoMarginCount++:j._redrawFromAutoMarginCount=1;var We=3*(1+Object.keys(ce).length);if(j._redrawFromAutoMarginCount<We)return h.call("_doPlot",F);j._size=X,i.warn("Too many auto-margin redraws.")}(function(Ze){var Ne=s.list(Ze,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Ye){for(var lt=0;lt<Ne.length;lt++){var at=Ne[lt][Ye];at&&at()}})})(F)};var z=["l","r","t","b","p","w","h"];function U(F,j,V){var te=!1,Q=[v.previousPromises,function(){if(F._transitionData)return F._transitioning=!1,function(G){var X=Promise.resolve();if(!G)return X;for(;G.length;)X=X.then(G.shift());return X}(F._transitionData._interruptCallbacks)},V.prepareFn,v.rehover,v.reselect,function(){return F.emit("plotly_transitioning",[]),new Promise(function(G){F._transitioning=!0,j.duration>0&&(F._transitioningWithDuration=!0),F._transitionData._interruptCallbacks.push(function(){te=!0}),V.redraw&&F._transitionData._interruptCallbacks.push(function(){return h.call("redraw",F)}),F._transitionData._interruptCallbacks.push(function(){F.emit("plotly_transitioninterrupted",[])});var X=0,J=0;function ne(){return X++,function(){var ie;J++,te||J!==X||(ie=G,F._transitionData&&(function(ae){if(ae)for(;ae.length;)ae.shift()}(F._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(V.redraw)return h.call("redraw",F)}).then(function(){F._transitioning=!1,F._transitioningWithDuration=!1,F.emit("plotly_transitioned",[])}).then(ie)))}}V.runFn(ne),setTimeout(ne())})}],$=i.syncOrAsync(Q,F);return $&&$.then||($=Promise.resolve()),$.then(function(){return F})}v.didMarginChange=function(F,j){for(var V=0;V<z.length;V++){var te=z[V],Q=F[te],$=j[te];if(!w(Q)||Math.abs($-Q)>1)return!0}return!1},v.graphJson=function(F,j,V,te,Q,$){(Q&&j&&!F._fullData||Q&&!j&&!F._fullLayout)&&v.supplyDefaults(F);var G=Q?F._fullData:F.data,X=Q?F._fullLayout:F.layout,J=(F._transitionData||{})._frames;function ne(le,ce){if(typeof le=="function")return ce?"_function_":null;if(i.isPlainObject(le)){var pe,ge={};return Object.keys(le).sort().forEach(function(_e){if(["_","["].indexOf(_e.charAt(0))===-1)if(typeof le[_e]!="function"){if(V==="keepdata"){if(_e.substr(_e.length-3)==="src")return}else if(V==="keepstream"){if(typeof(pe=le[_e+"src"])=="string"&&pe.indexOf(":")>0&&!i.isPlainObject(le.stream))return}else if(V!=="keepall"&&typeof(pe=le[_e+"src"])=="string"&&pe.indexOf(":")>0)return;ge[_e]=ne(le[_e],ce)}else ce&&(ge[_e]="_function")}),ge}var me=Array.isArray(le),ve=i.isTypedArray(le);if((me||ve)&&le.dtype&&le.shape){var Me=le.bdata;return ne({dtype:le.dtype,shape:le.shape,bdata:i.isArrayBuffer(Me)?b.encode(Me):Me},ce)}return me?le.map(function(_e){return ne(_e,ce)}):ve?i.simpleMap(le,i.identity):i.isJSDate(le)?i.ms2DateTimeLocal(+le):le}var ie={data:(G||[]).map(function(le){var ce=ne(le);return j&&delete ce.fit,ce})};if(!j&&(ie.layout=ne(X),Q)){var ae=X._size;ie.layout.computed={margin:{b:ae.b,l:ae.l,r:ae.r,t:ae.t}}}return J&&(ie.frames=ne(J)),$&&(ie.config=ne(F._context,!0)),te==="object"?ie:JSON.stringify(ie)},v.modifyFrames=function(F,j){var V,te,Q,$=F._transitionData._frames,G=F._transitionData._frameHash;for(V=0;V<j.length;V++)switch((te=j[V]).type){case"replace":Q=te.value;var X=($[te.index]||{}).name,J=Q.name;$[te.index]=G[J]=Q,J!==X&&(delete G[X],G[J]=Q);break;case"insert":G[(Q=te.value).name]=Q,$.splice(te.index,0,Q);break;case"delete":delete G[(Q=$[te.index]).name],$.splice(te.index,1)}return Promise.resolve()},v.computeFrame=function(F,j){var V,te,Q,$,G=F._transitionData._frameHash;if(!j)throw new Error("computeFrame must be given a string frame name");var X=G[j.toString()];if(!X)return!1;for(var J=[X],ne=[X.name];X.baseframe&&(X=G[X.baseframe.toString()])&&ne.indexOf(X.name)===-1;)J.push(X),ne.push(X.name);for(var ie={};X=J.pop();)if(X.layout&&(ie.layout=v.extendLayout(ie.layout,X.layout)),X.data){if(ie.data||(ie.data=[]),!(te=X.traces))for(te=[],V=0;V<X.data.length;V++)te[V]=V;for(ie.traces||(ie.traces=[]),V=0;V<X.data.length;V++)(Q=te[V])!=null&&(($=ie.traces.indexOf(Q))===-1&&($=ie.data.length,ie.traces[$]=Q),ie.data[$]=v.extendTrace(ie.data[$],X.data[V]))}return ie},v.recomputeFrameHash=function(F){for(var j=F._transitionData._frameHash={},V=F._transitionData._frames,te=0;te<V.length;te++){var Q=V[te];Q&&Q.name&&(j[Q.name]=Q)}},v.extendObjectWithContainers=function(F,j,V){var te,Q,$,G,X,J,ne,ie=i.extendDeepNoArrays({},j||{}),ae=i.expandObjectPaths(ie),le={};if(V&&V.length)for($=0;$<V.length;$++)(Q=(te=i.nestedProperty(ae,V[$])).get())===void 0?i.nestedProperty(le,V[$]).set(null):(te.set(null),i.nestedProperty(le,V[$]).set(Q));if(F=i.extendDeepNoArrays(F||{},ae),V&&V.length){for($=0;$<V.length;$++)if(J=i.nestedProperty(le,V[$]).get()){for(ne=(X=i.nestedProperty(F,V[$])).get(),Array.isArray(ne)||(ne=[],X.set(ne)),G=0;G<J.length;G++){var ce=J[G];ne[G]=ce===null?null:v.extendObjectWithContainers(ne[G],ce)}X.set(ne)}}return F},v.dataArrayContainers=["transforms","dimensions"],v.layoutArrayContainers=h.layoutArrayContainers,v.extendTrace=function(F,j){return v.extendObjectWithContainers(F,j,v.dataArrayContainers)},v.extendLayout=function(F,j){return v.extendObjectWithContainers(F,j,v.layoutArrayContainers)},v.transition=function(F,j,V,te,Q,$){var G={redraw:Q.redraw},X={},J=[];return G.prepareFn=function(){for(var ne=Array.isArray(j)?j.length:0,ie=te.slice(0,ne),ae=0;ae<ie.length;ae++){var le=ie[ae],ce=F._fullData[le]._module;if(ce){if(ce.animatable){var pe=ce.basePlotModule.name;X[pe]||(X[pe]=[]),X[pe].push(le)}F.data[ie[ae]]=v.extendTrace(F.data[ie[ae]],j[ae])}}var ge=i.expandObjectPaths(i.extendDeepNoArrays({},V)),me=/^[xy]axis[0-9]*$/;for(var ve in ge)me.test(ve)&&delete ge[ve].range;v.extendLayout(F.layout,ge),delete F.calcdata,v.supplyDefaults(F),v.doCalcdata(F);var Me=i.expandObjectPaths(V);if(Me){var _e=F._fullLayout._plots;for(var we in _e){var oe=_e[we],se=oe.xaxis,de=oe.yaxis,Ee=se.range.slice(),Te=de.range.slice(),Se=null,Le=null,Oe=null,he=null;Array.isArray(Me[se._name+".range"])?Se=Me[se._name+".range"].slice():Array.isArray((Me[se._name]||{}).range)&&(Se=Me[se._name].range.slice()),Array.isArray(Me[de._name+".range"])?Le=Me[de._name+".range"].slice():Array.isArray((Me[de._name]||{}).range)&&(Le=Me[de._name].range.slice()),Ee&&Se&&(se.r2l(Ee[0])!==se.r2l(Se[0])||se.r2l(Ee[1])!==se.r2l(Se[1]))&&(Oe={xr0:Ee,xr1:Se}),Te&&Le&&(de.r2l(Te[0])!==de.r2l(Le[0])||de.r2l(Te[1])!==de.r2l(Le[1]))&&(he={yr0:Te,yr1:Le}),(Oe||he)&&J.push(i.extendFlat({plotinfo:oe},Oe,he))}}return Promise.resolve()},G.runFn=function(ne){var ie,ae,le=F._fullLayout._basePlotModules,ce=J.length;if(V)for(ae=0;ae<le.length;ae++)le[ae].transitionAxes&&le[ae].transitionAxes(F,J,$,ne);for(var pe in ce?((ie=i.extendFlat({},$)).duration=0,delete X.cartesian):ie=$,X){var ge=X[pe];F._fullData[ge[0]]._module.basePlotModule.plot(F,ge,ie,ne)}},U(F,$,G)},v.transitionFromReact=function(F,j,V,te){var Q=F._fullLayout,$=Q.transition,G={},X=[];return G.prepareFn=function(){var J=Q._plots;for(var ne in G.redraw=!1,j.anim==="some"&&(G.redraw=!0),V.anim==="some"&&(G.redraw=!0),J){var ie=J[ne],ae=ie.xaxis,le=ie.yaxis,ce=te[ae._name].range.slice(),pe=te[le._name].range.slice(),ge=ae.range.slice(),me=le.range.slice();ae.setScale(),le.setScale();var ve=null,Me=null;ae.r2l(ce[0])===ae.r2l(ge[0])&&ae.r2l(ce[1])===ae.r2l(ge[1])||(ve={xr0:ce,xr1:ge}),le.r2l(pe[0])===le.r2l(me[0])&&le.r2l(pe[1])===le.r2l(me[1])||(Me={yr0:pe,yr1:me}),(ve||Me)&&X.push(i.extendFlat({plotinfo:ie},ve,Me))}return Promise.resolve()},G.runFn=function(J){for(var ne,ie,ae,le=F._fullData,ce=F._fullLayout._basePlotModules,pe=[],ge=0;ge<le.length;ge++)pe.push(ge);function me(){if(F._fullLayout)for(var Me=0;Me<ce.length;Me++)ce[Me].transitionAxes&&ce[Me].transitionAxes(F,X,ne,J)}function ve(){if(F._fullLayout)for(var Me=0;Me<ce.length;Me++)ce[Me].plot(F,ae,ie,J)}X.length&&j.anim?$.ordering==="traces first"?(ne=i.extendFlat({},$,{duration:0}),ae=pe,ie=$,setTimeout(me,$.duration),ve()):(ne=$,ae=null,ie=i.extendFlat({},$,{duration:0}),setTimeout(ve,ne.duration),me()):X.length?(ne=$,me()):j.anim&&(ae=pe,ie=$,ve())},U(F,$,G)},v.doCalcdata=function(F,j){var V,te,Q,$,G=s.list(F),X=F._fullData,J=F._fullLayout,ne=new Array(X.length),ie=(F.calcdata||[]).slice();for(F.calcdata=ne,J._numBoxes=0,J._numViolins=0,J._violinScaleGroupStats={},F._hmpixcount=0,F._hmlumcount=0,J._piecolormap={},J._sunburstcolormap={},J._treemapcolormap={},J._iciclecolormap={},J._funnelareacolormap={},Q=0;Q<X.length;Q++)Array.isArray(j)&&j.indexOf(Q)===-1&&(ne[Q]=ie[Q]);for(Q=0;Q<X.length;Q++)(V=X[Q])._arrayAttrs=o.findArrayAttributes(V),V._extremes={};var ae=J._subplots.polar||[];for(Q=0;Q<ae.length;Q++)G.push(J[ae[Q]].radialaxis,J[ae[Q]].angularaxis);for(var le in J._colorAxes){var ce=J[le];ce.cauto!==!1&&(delete ce.cmin,delete ce.cmax)}var pe=!1;function ge(Me){if(V=X[Me],te=V._module,V.visible===!0&&V.transforms){if(te&&te.calc){var _e=te.calc(F,V);_e[0]&&_e[0].t&&_e[0].t._scene&&delete _e[0].t._scene.dirty}for($=0;$<V.transforms.length;$++){var we=V.transforms[$];(te=y[we.type])&&te.calcTransform&&(V._hasCalcTransform=!0,pe=!0,te.calcTransform(F,V,we))}}}function me(Me,_e){if(V=X[Me],!!(te=V._module).isContainer===_e){var we=[];if(V.visible===!0&&V._length!==0){delete V._indexToPoints;var oe=V.transforms||[];for($=oe.length-1;$>=0;$--)if(oe[$].enabled){V._indexToPoints=oe[$]._indexToPoints;break}te&&te.calc&&(we=te.calc(F,V))}Array.isArray(we)&&we[0]||(we=[{x:r,y:r}]),we[0].t||(we[0].t={}),we[0].trace=V,ne[Me]=we}}for(B(G,X,J),Q=0;Q<X.length;Q++)me(Q,!0);for(Q=0;Q<X.length;Q++)ge(Q);for(pe&&B(G,X,J),Q=0;Q<X.length;Q++)me(Q,!0);for(Q=0;Q<X.length;Q++)me(Q,!1);Z(F);var ve=function(Me,_e){var we,oe,se,de,Ee,Te=[];function Se(Ye,lt,at){var Fe=lt._id.charAt(0);if(Ye==="histogram2dcontour"){var Be=lt._counterAxes[0],ot=s.getFromId(_e,Be),Xe=Fe==="x"||Be==="x"&&ot.type==="category",pt=Fe==="y"||Be==="y"&&ot.type==="category";return function(mt,yt){return mt===0||yt===0||Xe&&mt===at[yt].length-1||pt&&yt===at.length-1?-1:(Fe==="y"?yt:mt)-1}}return function(mt,yt){return Fe==="y"?yt:mt}}var Le={min:function(Ye){return i.aggNums(Math.min,null,Ye)},max:function(Ye){return i.aggNums(Math.max,null,Ye)},sum:function(Ye){return i.aggNums(function(lt,at){return lt+at},null,Ye)},total:function(Ye){return i.aggNums(function(lt,at){return lt+at},null,Ye)},mean:function(Ye){return i.mean(Ye)},median:function(Ye){return i.median(Ye)}};function Oe(Ye,lt){return Ye[1]-lt[1]}function he(Ye,lt){return lt[1]-Ye[1]}for(we=0;we<Me.length;we++){var xe=Me[we];if(xe.type==="category"){var ke=xe.categoryorder.match(D);if(ke){var Re=ke[1],ze=ke[2],Ie=xe._id.charAt(0),He=Ie==="x",qe=[];for(oe=0;oe<xe._categories.length;oe++)qe.push([xe._categories[oe],[]]);for(oe=0;oe<xe._traceIndices.length;oe++){var Je=xe._traceIndices[oe],st=_e._fullData[Je];if(st.visible===!0){var it=st.type;h.traceIs(st,"histogram")&&(delete st._xautoBinFinished,delete st._yautoBinFinished);var vt=it==="splom",_t=it==="scattergl",xt=_e.calcdata[Je];for(se=0;se<xt.length;se++){var et,nt,Mt=xt[se];if(vt){var zt=st._axesDim[xe._id];if(!He){var Ft=st._diag[zt][0];Ft&&(xe=_e._fullLayout[s.id2name(Ft)])}var Rt=Mt.trace.dimensions[zt].values;for(de=0;de<Rt.length;de++)for(et=xe._categoriesMap[Rt[de]],Ee=0;Ee<Mt.trace.dimensions.length;Ee++)if(Ee!==zt){var We=Mt.trace.dimensions[Ee];qe[et][1].push(We.values[de])}}else if(_t){for(de=0;de<Mt.t.x.length;de++)He?(et=Mt.t.x[de],nt=Mt.t.y[de]):(et=Mt.t.y[de],nt=Mt.t.x[de]),qe[et][1].push(nt);Mt.t&&Mt.t._scene&&delete Mt.t._scene.dirty}else if(Mt.hasOwnProperty("z")){nt=Mt.z;var Ze=Se(st.type,xe,nt);for(de=0;de<nt.length;de++)for(Ee=0;Ee<nt[de].length;Ee++)(et=Ze(Ee,de))+1&&qe[et][1].push(nt[de][Ee])}else for((et=Mt.p)===void 0&&(et=Mt[Ie]),(nt=Mt.s)===void 0&&(nt=Mt.v),nt===void 0&&(nt=He?Mt.y:Mt.x),Array.isArray(nt)||(nt=nt===void 0?[]:[nt]),de=0;de<nt.length;de++)qe[et][1].push(nt[de])}}}xe._categoriesValue=qe;var Ne=[];for(oe=0;oe<qe.length;oe++)Ne.push([qe[oe][0],Le[Re](qe[oe][1])]);Ne.sort(ze==="descending"?he:Oe),xe._categoriesAggregatedValue=Ne,xe._initialCategories=Ne.map(function(Ye){return Ye[0]}),Te=Te.concat(xe.sortByInitialCategories())}}}return Te}(G,F);if(ve.length){for(J._numBoxes=0,J._numViolins=0,Q=0;Q<ve.length;Q++)me(ve[Q],!0);for(Q=0;Q<ve.length;Q++)me(ve[Q],!1);Z(F)}h.getComponentMethod("fx","calc")(F),h.getComponentMethod("errorbars","calc")(F)};var D=/(total|sum|min|max|mean|median) (ascending|descending)/;function B(F,j,V){var te={};function Q(J){J.clearCalc(),J.type==="multicategory"&&J.setupMultiCategory(j),te[J._id]=1}i.simpleMap(F,Q);for(var $=V._axisMatchGroups||[],G=0;G<$.length;G++)for(var X in $[G])te[X]||Q(V[s.id2name(X)])}function Z(F){var j,V,te,Q=F._fullLayout,$=Q._visibleModules,G={};for(V=0;V<$.length;V++){var X=$[V],J=X.crossTraceCalc;if(J){var ne=X.basePlotModule.name;G[ne]?i.pushUnique(G[ne],J):G[ne]=[J]}}for(te in G){var ie=G[te],ae=Q._subplots[te];if(Array.isArray(ae))for(j=0;j<ae.length;j++){var le=ae[j],ce=te==="cartesian"?Q._plots[le]:Q[le];for(V=0;V<ie.length;V++)ie[V](F,ce,le)}else for(V=0;V<ie.length;V++)ie[V](F)}}v.rehover=function(F){F._fullLayout._rehover&&F._fullLayout._rehover()},v.redrag=function(F){F._fullLayout._redrag&&F._fullLayout._redrag()},v.reselect=function(F){var j=F._fullLayout,V=(F.layout||{}).selections,te=j._previousSelections;j._previousSelections=V;var Q=j._reselect||JSON.stringify(V)!==JSON.stringify(te);h.getComponentMethod("selections","reselect")(F,Q)},v.generalUpdatePerTraceModule=function(F,j,V,te){var Q,$=j.traceHash,G={};for(Q=0;Q<V.length;Q++){var X=V[Q],J=X[0].trace;J.visible&&(G[J.type]=G[J.type]||[],G[J.type].push(X))}for(var ne in $)if(!G[ne]){var ie=$[ne][0];ie[0].trace.visible=!1,G[ne]=[ie]}for(var ae in G){var le=G[ae];le[0][0].trace._module.plot(F,j,i.filterVisible(le),te)}j.traceHash=G},v.plotBasePlot=function(F,j,V,te,Q){var $=h.getModule(F),G=x(j.calcdata,$)[0];$.plot(j,G,te,Q)},v.cleanBasePlot=function(F,j,V,te,Q){var $=Q._has&&Q._has(F),G=V._has&&V._has(F);$&&!G&&Q["_"+F+"layer"].selectAll("g.trace").remove()}},39360:function(Y){Y.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},57384:function(Y,P,e){var A=e(3400),k=e(92065).tester,a=A.findIndexOfMin,w=A.isAngleInsideSector,b=A.angleDelta,h=A.angleDist;function o(r,s,l,u){var d,c,x=u[0],g=u[1],p=i(Math.sin(s)-Math.sin(r)),v=i(Math.cos(s)-Math.cos(r)),y=Math.tan(l),m=i(1/y),_=p/v,f=g-_*x;return m?p&&v?c=y*(d=f/(y-_)):v?(d=g*m,c=g):(d=x,c=x*y):p&&v?(d=0,c=f):v?(d=0,c=g):d=c=NaN,[d,c]}function t(r,s,l,u){return A.isFullCircle([s,l])?function(d,c){var x,g=c.length,p=new Array(g+1);for(x=0;x<g;x++){var v=c[x];p[x]=[d*Math.cos(v),d*Math.sin(v)]}return p[x]=p[0].slice(),p}(r,u):function(d,c,x,g){var p,v,y=g.length,m=[];function _(U){return[d*Math.cos(U),d*Math.sin(U)]}function f(U,D,B){return o(U,D,B,_(U))}function S(U){return A.mod(U,y)}function T(U){return w(U,[c,x])}var E=a(g,function(U){return T(U)?h(U,c):1/0}),C=f(g[E],g[S(E-1)],c);for(m.push(C),p=E,v=0;v<y;p++,v++){var O=g[S(p)];if(!T(O))break;m.push(_(O))}var I=a(g,function(U){return T(U)?h(U,x):1/0}),z=f(g[I],g[S(I+1)],x);return m.push(z),m.push([0,0]),m.push(m[0].slice()),m}(r,s,l,u)}function i(r){return Math.abs(r)>1e-10?r:0}function n(r,s,l){s=s||0,l=l||0;for(var u=r.length,d=new Array(u),c=0;c<u;c++){var x=r[c];d[c]=[s+x[0],l-x[1]]}return d}Y.exports={isPtInsidePolygon:function(r,s,l,u,d){if(!w(s,u))return!1;var c,x;l[0]<l[1]?(c=l[0],x=l[1]):(c=l[1],x=l[0]);var g=k(t(c,u[0],u[1],d)),p=k(t(x,u[0],u[1],d)),v=[r*Math.cos(s),r*Math.sin(s)];return p.contains(v)&&!g.contains(v)},findPolygonOffset:function(r,s,l,u){for(var d=1/0,c=1/0,x=t(r,s,l,u),g=0;g<x.length;g++){var p=x[g];d=Math.min(d,p[0]),c=Math.min(c,-p[1])}return[d,c]},findEnclosingVertexAngles:function(r,s){var l=a(s,function(d){var c=b(d,r);return c>0?c:1/0}),u=A.mod(l+1,s.length);return[s[l],s[u]]},findIntersectionXY:o,findXYatLength:function(r,s,l,u){var d=-s*l,c=s*s+1,x=2*(s*d-l),g=d*d+l*l-r*r,p=Math.sqrt(x*x-4*c*g),v=(-x+p)/(2*c),y=(-x-p)/(2*c);return[[v,s*v+d+u],[y,s*y+d+u]]},clampTiny:i,pathPolygon:function(r,s,l,u,d,c){return"M"+n(t(r,s,l,u),d,c).join("L")},pathPolygonAnnulus:function(r,s,l,u,d,c,x){var g,p;r<s?(g=r,p=s):(g=s,p=r);var v=n(t(g,l,u,d),c,x);return"M"+n(t(p,l,u,d),c,x).reverse().join("L")+"M"+v.join("L")}}},40872:function(Y,P,e){var A=e(84888).KY,k=e(3400).counterRegex,a=e(62400),w=e(39360),b=w.attr,h=w.name,o=k(h),t={};t[b]={valType:"subplotid",dflt:h,editType:"calc"},Y.exports={attr:b,name:h,idRoot:h,idRegex:o,attrRegex:o,attributes:t,layoutAttributes:e(95300),supplyLayoutDefaults:e(84380),plot:function(i){for(var n=i._fullLayout,r=i.calcdata,s=n._subplots[h],l=0;l<s.length;l++){var u=s[l],d=A(r,h,u),c=n[u]._subplot;c||(c=a(i,u),n[u]._subplot=c),c.plot(d,n,i._promises)}},clean:function(i,n,r,s){for(var l=s._subplots[h]||[],u=s._has&&s._has("gl"),d=n._has&&n._has("gl"),c=u&&!d,x=0;x<l.length;x++){var g=l[x],p=s[g]._subplot;if(!n[g]&&p)for(var v in p.framework.remove(),p.layers["radial-axis-title"].remove(),p.clipPaths)p.clipPaths[v].remove();c&&p._scene&&(p._scene.destroy(),p._scene=null)}},toSVG:e(57952).toSVG}},95300:function(Y,P,e){var A=e(22548),k=e(94724),a=e(86968).u,w=e(3400).extendFlat,b=e(67824).overrideAll,h=b({color:k.color,showline:w({},k.showline,{dflt:!0}),linecolor:k.linecolor,linewidth:k.linewidth,showgrid:w({},k.showgrid,{dflt:!0}),gridcolor:k.gridcolor,gridwidth:k.gridwidth,griddash:k.griddash},"plot","from-root"),o=b({tickmode:k.minor.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:k.ticks,ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,ticklabelstep:k.ticklabelstep,showticklabels:k.showticklabels,labelalias:k.labelalias,showtickprefix:k.showtickprefix,tickprefix:k.tickprefix,showticksuffix:k.showticksuffix,ticksuffix:k.ticksuffix,showexponent:k.showexponent,exponentformat:k.exponentformat,minexponent:k.minexponent,separatethousands:k.separatethousands,tickfont:k.tickfont,tickangle:k.tickangle,tickformat:k.tickformat,tickformatstops:k.tickformatstops,layer:k.layer},"plot","from-root"),t={visible:w({},k.visible,{dflt:!0}),type:w({},k.type,{values:["-","linear","log","date","category"]}),autotypenumbers:k.autotypenumbers,autorangeoptions:{minallowed:k.autorangeoptions.minallowed,maxallowed:k.autorangeoptions.maxallowed,clipmin:k.autorangeoptions.clipmin,clipmax:k.autorangeoptions.clipmax,include:k.autorangeoptions.include,editType:"plot"},autorange:w({},k.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:w({},k.minallowed,{editType:"plot"}),maxallowed:w({},k.maxallowed,{editType:"plot"}),range:w({},k.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:k.categoryorder,categoryarray:k.categoryarray,angle:{valType:"angle",editType:"plot"},autotickangles:k.autotickangles,side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:w({},k.title.text,{editType:"plot",dflt:""}),font:w({},k.title.font,{editType:"plot"}),editType:"plot"},hoverformat:k.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:k._deprecated.title,titlefont:k._deprecated.titlefont}};w(t,h,o);var i={visible:w({},k.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:k.autotypenumbers,categoryorder:k.categoryorder,categoryarray:k.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:k.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};w(i,h,o),Y.exports={domain:a({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:A.background},radialaxis:t,angularaxis:i,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},84380:function(Y,P,e){var A=e(3400),k=e(76308),a=e(31780),w=e(168),b=e(84888).op,h=e(26332),o=e(25404),t=e(95936),i=e(42568),n=e(22416),r=e(42136),s=e(76808),l=e(52976),u=e(95300),d=e(57696),c=e(39360),x=c.axisNames;function g(v,y,m,_){var f=m("bgcolor");_.bgColor=k.combine(f,_.paper_bgcolor);var S=m("sector");m("hole");var T,E=b(_.fullData,c.name,_.id),C=_.layoutOut;function O(ae,le){return m(T+"."+ae,le)}for(var I=0;I<x.length;I++){T=x[I],A.isPlainObject(v[T])||(v[T]={});var z=v[T],U=a.newContainer(y,T);U._id=U._name=T,U._attr=_.id+"."+T,U._traceIndices=E.map(function(ae){return ae._expandedIndex});var D=c.axisName2dataArray[T],B=p(z,U,O,E,D,_);n(z,U,O,{axData:E,dataAttr:D});var Z=O("visible");switch(d(U,y,C),O("uirevision",y.uirevision),U._m=1,T){case"radialaxis":O("minallowed"),O("maxallowed");var F,j=O("range"),V=U.getAutorangeDflt(j),te=O("autorange",V);!j||(j[0]!==null||j[1]!==null)&&(j[0]!==null&&j[1]!==null||te!=="reversed"&&te!==!0)&&(j[0]===null||te!=="min"&&te!=="max reversed")&&(j[1]===null||te!=="max"&&te!=="min reversed")||(j=void 0,delete U.range,U.autorange=!0,F=!0),F||(te=O("autorange",V=U.getAutorangeDflt(j))),z.autorange=te,te&&(s(O,te,j),B!=="linear"&&B!=="-"||O("rangemode"),U.isReversed()&&(U._m=-1)),U.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(B==="date"){A.log("Polar plots do not support date angular axes yet.");for(var Q=0;Q<E.length;Q++)E[Q].visible=!1;B=z.type=U.type="linear"}O(B==="linear"?"thetaunit":"period");var $=O("direction");O("rotation",{counterclockwise:0,clockwise:90}[$])}if(i(z,U,O,U.type,{tickSuffixDflt:U.thetaunit==="degrees"?"\xB0":void 0}),Z){var G,X,J,ne,ie=_.font||{};X=(G=O("color"))===z.color?G:ie.color,J=ie.size,ne=ie.family,h(z,U,O,U.type),t(z,U,O,U.type,{font:{color:X,size:J,family:ne},noAutotickangles:T==="angularaxis"}),o(z,U,O,{outerTicks:!0}),r(z,U,O,{dfltColor:G,bgColor:_.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[T]}),O("layer"),T==="radialaxis"&&(O("side"),O("angle",S[0]),O("title.text"),A.coerceFont(O,"title.font",{color:X,size:A.bigFont(J),family:ne}))}B!=="category"&&O("hoverformat"),U._input=z}y.angularaxis.type==="category"&&m("gridshape")}function p(v,y,m,_,f,S){var T=m("autotypenumbers",S.autotypenumbersDflt);if(m("type")==="-"){for(var E,C=0;C<_.length;C++)if(_[C].visible){E=_[C];break}E&&E[f]&&(y.type=l(E[f],"gregorian",{noMultiCategory:!0,autotypenumbers:T})),y.type==="-"?y.type="linear":v.type=y.type}return y.type}Y.exports=function(v,y,m){w(v,y,m,{type:c.name,attributes:u,handleDefaults:g,font:y.font,autotypenumbersDflt:y.autotypenumbers,paper_bgcolor:y.paper_bgcolor,fullData:m,layoutOut:y})}},62400:function(Y,P,e){var A=e(33428),k=e(49760),a=e(24040),w=e(3400),b=w.strRotate,h=w.strTranslate,o=e(76308),t=e(43616),i=e(7316),n=e(54460),r=e(78344),s=e(57696),l=e(19280).doAutoRange,u=e(51184),d=e(86476),c=e(93024),x=e(81668),g=e(22676).prepSelect,p=e(22676).selectOnClick,v=e(22676).clearOutline,y=e(93972),m=e(73696),_=e(39172).redrawReglTraces,f=e(84284).MID_SHIFT,S=e(39360),T=e(57384),E=e(36416),C=E.smith,O=E.reactanceArc,I=E.resistanceArc,z=E.smithTransform,U=w._,D=w.mod,B=w.deg2rad,Z=w.rad2deg;function F($,G,X){this.isSmith=X||!1,this.id=G,this.gd=$,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var J=$._fullLayout,ne="clip"+J._uid+G;this.clipIds.forTraces=ne+"-for-traces",this.clipPaths.forTraces=J._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=J["_"+(X?"smith":"polar")+"layer"].append("g").attr("class",G),this.getHole=function(ie){return this.isSmith?0:ie.hole},this.getSector=function(ie){return this.isSmith?[0,360]:ie.sector},this.getRadial=function(ie){return this.isSmith?ie.realaxis:ie.radialaxis},this.getAngular=function(ie){return this.isSmith?ie.imaginaryaxis:ie.angularaxis},X||(this.radialTickLayout=null,this.angularTickLayout=null)}var j=F.prototype;function V($){var G=$.ticks+String($.ticklen)+String($.showticklabels);return"side"in $&&(G+=$.side),G}function te($,G){return G[w.findIndexOfMin(G,function(X){return w.angleDist($,X)})]}function Q($,G,X){return G?($.attr("display",null),$.attr(X)):$&&$.attr("display","none"),$}Y.exports=function($,G,X){return new F($,G,X)},j.plot=function($,G){for(var X=this,J=G[X.id],ne=!1,ie=0;ie<$.length;ie++)if($[ie][0].trace.cliponaxis===!1){ne=!0;break}X._hasClipOnAxisFalse=ne,X.updateLayers(G,J),X.updateLayout(G,J),i.generalUpdatePerTraceModule(X.gd,X,$,J),X.updateFx(G,J),X.isSmith&&(delete J.realaxis.range,delete J.imaginaryaxis.range)},j.updateLayers=function($,G){var X=this,J=X.isSmith,ne=X.layers,ie=X.getRadial(G),ae=X.getAngular(G),le=S.layerNames,ce=le.indexOf("frontplot"),pe=le.slice(0,ce),ge=ae.layer==="below traces",me=ie.layer==="below traces";ge&&pe.push("angular-line"),me&&pe.push("radial-line"),ge&&pe.push("angular-axis"),me&&pe.push("radial-axis"),pe.push("frontplot"),ge||pe.push("angular-line"),me||pe.push("radial-line"),ge||pe.push("angular-axis"),me||pe.push("radial-axis");var ve=(J?"smith":"polar")+"sublayer",Me=X.framework.selectAll("."+ve).data(pe,String);Me.enter().append("g").attr("class",function(_e){return ve+" "+_e}).each(function(_e){var we=ne[_e]=A.select(this);switch(_e){case"frontplot":J||we.append("g").classed("barlayer",!0),we.append("g").classed("scatterlayer",!0);break;case"backplot":we.append("g").classed("maplayer",!0);break;case"plotbg":ne.bg=we.append("path");break;case"radial-grid":case"angular-grid":we.style("fill","none");break;case"radial-line":we.append("line").style("fill","none");break;case"angular-line":we.append("path").style("fill","none")}}),Me.order()},j.updateLayout=function($,G){var X=this,J=X.layers,ne=$._size,ie=X.getRadial(G),ae=X.getAngular(G),le=G.domain.x,ce=G.domain.y;X.xOffset=ne.l+ne.w*le[0],X.yOffset=ne.t+ne.h*(1-ce[1]);var pe=X.xLength=ne.w*(le[1]-le[0]),ge=X.yLength=ne.h*(ce[1]-ce[0]),me=X.getSector(G);X.sectorInRad=me.map(B);var ve,Me,_e,we,oe,se=X.sectorBBox=function(st){var it,vt=st[0],_t=st[1]-vt,xt=D(vt,360),et=xt+_t,nt=Math.cos(B(xt)),Mt=Math.sin(B(xt)),zt=Math.cos(B(et)),Ft=Math.sin(B(et));return it=xt<=90&&et>=90||xt>90&&et>=450?1:Mt<=0&&Ft<=0?0:Math.max(Mt,Ft),[xt<=180&&et>=180||xt>180&&et>=540?-1:nt>=0&&zt>=0?0:Math.min(nt,zt),xt<=270&&et>=270||xt>270&&et>=630?-1:Mt>=0&&Ft>=0?0:Math.min(Mt,Ft),et>=360?1:nt<=0&&zt<=0?0:Math.max(nt,zt),it]}(me),de=se[2]-se[0],Ee=se[3]-se[1],Te=ge/pe,Se=Math.abs(Ee/de);Te>Se?(ve=pe,oe=(ge-(Me=pe*Se))/ne.h/2,_e=[le[0],le[1]],we=[ce[0]+oe,ce[1]-oe]):(Me=ge,oe=(pe-(ve=ge/Se))/ne.w/2,_e=[le[0]+oe,le[1]-oe],we=[ce[0],ce[1]]),X.xLength2=ve,X.yLength2=Me,X.xDomain2=_e,X.yDomain2=we;var Le,Oe=X.xOffset2=ne.l+ne.w*_e[0],he=X.yOffset2=ne.t+ne.h*(1-we[1]),xe=X.radius=ve/de,ke=X.innerRadius=X.getHole(G)*xe,Re=X.cx=Oe-xe*se[0],ze=X.cy=he+xe*se[3],Ie=X.cxx=Re-Oe,He=X.cyy=ze-he,qe=ie.side;qe==="counterclockwise"?(Le=qe,qe="top"):qe==="clockwise"&&(Le=qe,qe="bottom"),X.radialAxis=X.mockAxis($,G,ie,{_id:"x",side:qe,_trueSide:Le,domain:[ke/ne.w,xe/ne.w]}),X.angularAxis=X.mockAxis($,G,ae,{side:"right",domain:[0,Math.PI],autorange:!1}),X.doAutoRange($,G),X.updateAngularAxis($,G),X.updateRadialAxis($,G),X.updateRadialAxisTitle($,G),X.xaxis=X.mockCartesianAxis($,G,{_id:"x",domain:_e}),X.yaxis=X.mockCartesianAxis($,G,{_id:"y",domain:we});var Je=X.pathSubplot();X.clipPaths.forTraces.select("path").attr("d",Je).attr("transform",h(Ie,He)),J.frontplot.attr("transform",h(Oe,he)).call(t.setClipUrl,X._hasClipOnAxisFalse?null:X.clipIds.forTraces,X.gd),J.bg.attr("d",Je).attr("transform",h(Re,ze)).call(o.fill,G.bgcolor)},j.mockAxis=function($,G,X,J){var ne=w.extendFlat({},X,J);return s(ne,G,$),ne},j.mockCartesianAxis=function($,G,X){var J=this,ne=J.isSmith,ie=X._id,ae=w.extendFlat({type:"linear"},X);r(ae,$);var le={x:[0,2],y:[1,3]};return ae.setRange=function(){var ce=J.sectorBBox,pe=le[ie],ge=J.radialAxis._rl,me=(ge[1]-ge[0])/(1-J.getHole(G));ae.range=[ce[pe[0]]*me,ce[pe[1]]*me]},ae.isPtWithinRange=ie!=="x"||ne?function(){return!0}:function(ce){return J.isPtInside(ce)},ae.setRange(),ae.setScale(),ae},j.doAutoRange=function($,G){var X=this,J=X.gd,ne=X.radialAxis,ie=X.getRadial(G);l(J,ne);var ae=ne.range;if(ie.range=ae.slice(),ie._input.range=ae.slice(),ne._rl=[ne.r2l(ae[0],null,"gregorian"),ne.r2l(ae[1],null,"gregorian")],ne.minallowed!==void 0){var le=ne.r2l(ne.minallowed);ne._rl[0]>ne._rl[1]?ne._rl[1]=Math.max(ne._rl[1],le):ne._rl[0]=Math.max(ne._rl[0],le)}if(ne.maxallowed!==void 0){var ce=ne.r2l(ne.maxallowed);ne._rl[0]<ne._rl[1]?ne._rl[1]=Math.min(ne._rl[1],ce):ne._rl[0]=Math.min(ne._rl[0],ce)}},j.updateRadialAxis=function($,G){var X=this,J=X.gd,ne=X.layers,ie=X.radius,ae=X.innerRadius,le=X.cx,ce=X.cy,pe=X.getRadial(G),ge=D(X.getSector(G)[0],360),me=X.radialAxis,ve=ae<ie,Me=X.isSmith;Me||(X.fillViewInitialKey("radialaxis.angle",pe.angle),X.fillViewInitialKey("radialaxis.range",me.range.slice()),me.setGeometry()),me.tickangle==="auto"&&ge>90&&ge<=270&&(me.tickangle=180);var _e=Me?function(he){var xe=z(X,C([he.x,0]));return h(xe[0]-le,xe[1]-ce)}:function(he){return h(me.l2p(he.x)+ae,0)},we=Me?function(he){return I(X,he.x,-1/0,1/0)}:function(he){return X.pathArc(me.r2p(he.x)+ae)},oe=V(pe);if(X.radialTickLayout!==oe&&(ne["radial-axis"].selectAll(".xtick").remove(),X.radialTickLayout=oe),ve){me.setScale();var se=0,de=Me?(me.tickvals||[]).filter(function(he){return he>=0}).map(function(he){return n.tickText(me,he,!0,!1)}):n.calcTicks(me),Ee=Me?de:n.clipEnds(me,de),Te=n.getTickSigns(me)[2];Me&&((me.ticks==="top"&&me.side==="bottom"||me.ticks==="bottom"&&me.side==="top")&&(Te=-Te),me.ticks==="top"&&me.side==="top"&&(se=-me.ticklen),me.ticks==="bottom"&&me.side==="bottom"&&(se=me.ticklen)),n.drawTicks(J,me,{vals:de,layer:ne["radial-axis"],path:n.makeTickPath(me,0,Te),transFn:_e,crisp:!1}),n.drawGrid(J,me,{vals:Ee,layer:ne["radial-grid"],path:we,transFn:w.noop,crisp:!1}),n.drawLabels(J,me,{vals:de,layer:ne["radial-axis"],transFn:_e,labelFns:n.makeLabelFns(me,se)})}var Se=X.radialAxisAngle=X.vangles?Z(te(B(pe.angle),X.vangles)):pe.angle,Le=h(le,ce),Oe=Le+b(-Se);Q(ne["radial-axis"],ve&&(pe.showticklabels||pe.ticks),{transform:Oe}),Q(ne["radial-grid"],ve&&pe.showgrid,{transform:Me?"":Le}),Q(ne["radial-line"].select("line"),ve&&pe.showline,{x1:Me?-ie:ae,y1:0,x2:ie,y2:0,transform:Oe}).attr("stroke-width",pe.linewidth).call(o.stroke,pe.linecolor)},j.updateRadialAxisTitle=function($,G,X){if(!this.isSmith){var J=this,ne=J.gd,ie=J.radius,ae=J.cx,le=J.cy,ce=J.getRadial(G),pe=J.id+"title",ge=0;if(ce.title){var me=t.bBox(J.layers["radial-axis"].node()).height,ve=ce.title.font.size,Me=ce.side;ge=Me==="top"?ve:Me==="counterclockwise"?-(me+.4*ve):me+.8*ve}var _e=X!==void 0?X:J.radialAxisAngle,we=B(_e),oe=Math.cos(we),se=Math.sin(we),de=ae+ie/2*oe+ge*se,Ee=le-ie/2*se+ge*oe;J.layers["radial-axis-title"]=x.draw(ne,pe,{propContainer:ce,propName:J.id+".radialaxis.title",placeholder:U(ne,"Click to enter radial axis title"),attributes:{x:de,y:Ee,"text-anchor":"middle"},transform:{rotate:-_e}})}},j.updateAngularAxis=function($,G){var X=this,J=X.gd,ne=X.layers,ie=X.radius,ae=X.innerRadius,le=X.cx,ce=X.cy,pe=X.getAngular(G),ge=X.angularAxis,me=X.isSmith;me||(X.fillViewInitialKey("angularaxis.rotation",pe.rotation),ge.setGeometry(),ge.setScale());var ve=me?function(he){var xe=z(X,C([0,he.x]));return Math.atan2(xe[0]-le,xe[1]-ce)-Math.PI/2}:function(he){return ge.t2g(he.x)};ge.type==="linear"&&ge.thetaunit==="radians"&&(ge.tick0=Z(ge.tick0),ge.dtick=Z(ge.dtick));var Me=function(he){return h(le+ie*Math.cos(he),ce-ie*Math.sin(he))},_e=me?function(he){var xe=z(X,C([0,he.x]));return h(xe[0],xe[1])}:function(he){return Me(ve(he))},we=me?function(he){var xe=z(X,C([0,he.x])),ke=Math.atan2(xe[0]-le,xe[1]-ce)-Math.PI/2;return h(xe[0],xe[1])+b(-Z(ke))}:function(he){var xe=ve(he);return Me(xe)+b(-Z(xe))},oe=me?function(he){return O(X,he.x,0,1/0)}:function(he){var xe=ve(he),ke=Math.cos(xe),Re=Math.sin(xe);return"M"+[le+ae*ke,ce-ae*Re]+"L"+[le+ie*ke,ce-ie*Re]},se=n.makeLabelFns(ge,0).labelStandoff,de={xFn:function(he){var xe=ve(he);return Math.cos(xe)*se},yFn:function(he){var xe=ve(he),ke=Math.sin(xe)>0?.2:1;return-Math.sin(xe)*(se+he.fontSize*ke)+Math.abs(Math.cos(xe))*(he.fontSize*f)},anchorFn:function(he){var xe=ve(he),ke=Math.cos(xe);return Math.abs(ke)<.1?"middle":ke>0?"start":"end"},heightFn:function(he,xe,ke){var Re=ve(he);return-.5*(1+Math.sin(Re))*ke}},Ee=V(pe);X.angularTickLayout!==Ee&&(ne["angular-axis"].selectAll("."+ge._id+"tick").remove(),X.angularTickLayout=Ee);var Te,Se=me?[1/0].concat(ge.tickvals||[]).map(function(he){return n.tickText(ge,he,!0,!1)}):n.calcTicks(ge);if(me&&(Se[0].text="\u221E",Se[0].fontSize*=1.75),G.gridshape==="linear"?(Te=Se.map(ve),w.angleDelta(Te[0],Te[1])<0&&(Te=Te.slice().reverse())):Te=null,X.vangles=Te,ge.type==="category"&&(Se=Se.filter(function(he){return w.isAngleInsideSector(ve(he),X.sectorInRad)})),ge.visible){var Le=ge.ticks==="inside"?-1:1,Oe=(ge.linewidth||1)/2;n.drawTicks(J,ge,{vals:Se,layer:ne["angular-axis"],path:"M"+Le*Oe+",0h"+Le*ge.ticklen,transFn:we,crisp:!1}),n.drawGrid(J,ge,{vals:Se,layer:ne["angular-grid"],path:oe,transFn:w.noop,crisp:!1}),n.drawLabels(J,ge,{vals:Se,layer:ne["angular-axis"],repositionOnUpdate:!0,transFn:_e,labelFns:de})}Q(ne["angular-line"].select("path"),pe.showline,{d:X.pathSubplot(),transform:h(le,ce)}).attr("stroke-width",pe.linewidth).call(o.stroke,pe.linecolor)},j.updateFx=function($,G){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag($),this.updateRadialDrag($,G,0),this.updateRadialDrag($,G,1)),this.updateHoverAndMainDrag($))},j.updateHoverAndMainDrag=function($){var G,X,J=this,ne=J.isSmith,ie=J.gd,ae=J.layers,le=$._zoomlayer,ce=S.MINZOOM,pe=S.OFFEDGE,ge=J.radius,me=J.innerRadius,ve=J.cx,Me=J.cy,_e=J.cxx,we=J.cyy,oe=J.sectorInRad,se=J.vangles,de=J.radialAxis,Ee=T.clampTiny,Te=T.findXYatLength,Se=T.findEnclosingVertexAngles,Le=S.cornerHalfWidth,Oe=S.cornerLen/2,he=u.makeDragger(ae,"path","maindrag",$.dragmode===!1?"none":"crosshair");A.select(he).attr("d",J.pathSubplot()).attr("transform",h(ve,Me)),he.onmousemove=function(at){c.hover(ie,at,J.id),ie._fullLayout._lasthover=he,ie._fullLayout._hoversubplot=J.id},he.onmouseout=function(at){ie._dragging||d.unhover(ie,at)};var xe,ke,Re,ze,Ie,He,qe,Je,st,it={element:he,gd:ie,subplot:J.id,plotinfo:{id:J.id,xaxis:J.xaxis,yaxis:J.yaxis},xaxes:[J.xaxis],yaxes:[J.yaxis]};function vt(at,Fe){return Math.sqrt(at*at+Fe*Fe)}function _t(at,Fe){return vt(at-_e,Fe-we)}function xt(at,Fe){return Math.atan2(we-Fe,at-_e)}function et(at,Fe){return[at*Math.cos(Fe),at*Math.sin(-Fe)]}function nt(at,Fe){if(at===0)return J.pathSector(2*Le);var Be=Oe/at,ot=Fe-Be,Xe=Fe+Be,pt=Math.max(0,Math.min(at,ge)),mt=pt-Le,yt=pt+Le;return"M"+et(mt,ot)+"A"+[mt,mt]+" 0,0,0 "+et(mt,Xe)+"L"+et(yt,Xe)+"A"+[yt,yt]+" 0,0,1 "+et(yt,ot)+"Z"}function Mt(at,Fe,Be){if(at===0)return J.pathSector(2*Le);var ot,Xe,pt=et(at,Fe),mt=et(at,Be),yt=Ee((pt[0]+mt[0])/2),ht=Ee((pt[1]+mt[1])/2);if(yt&&ht){var Lt=ht/yt,Tt=-1/Lt,bt=Te(Le,Lt,yt,ht);ot=Te(Oe,Tt,bt[0][0],bt[0][1]),Xe=Te(Oe,Tt,bt[1][0],bt[1][1])}else{var Pt,Ot;ht?(Pt=Oe,Ot=Le):(Pt=Le,Ot=Oe),ot=[[yt-Pt,ht-Ot],[yt+Pt,ht-Ot]],Xe=[[yt-Pt,ht+Ot],[yt+Pt,ht+Ot]]}return"M"+ot.join("L")+"L"+Xe.reverse().join("L")+"Z"}function zt(at,Fe){return Fe=Math.max(Math.min(Fe,ge),me),at<pe?at=0:ge-at<pe?at=ge:Fe<pe?Fe=0:ge-Fe<pe&&(Fe=ge),Math.abs(Fe-at)>ce?(at<Fe?(Re=at,ze=Fe):(Re=Fe,ze=at),!0):(Re=null,ze=null,!1)}function Ft(at,Fe){at=at||Ie,Fe=Fe||"M0,0Z",Je.attr("d",at),st.attr("d",Fe),u.transitionZoombox(Je,st,He,qe),He=!0;var Be={};Ye(Be),ie.emit("plotly_relayouting",Be)}function Rt(at,Fe){var Be,ot,Xe=xe+(at*=G),pt=ke+(Fe*=X),mt=_t(xe,ke),yt=Math.min(_t(Xe,pt),ge),ht=xt(xe,ke);zt(mt,yt)&&(Be=Ie+J.pathSector(ze),Re&&(Be+=J.pathSector(Re)),ot=nt(Re,ht)+nt(ze,ht)),Ft(Be,ot)}function We(at,Fe,Be,ot){var Xe=T.findIntersectionXY(Be,ot,Be,[at-_e,we-Fe]);return vt(Xe[0],Xe[1])}function Ze(at,Fe){var Be,ot,Xe=xe+at,pt=ke+Fe,mt=xt(xe,ke),yt=xt(Xe,pt),ht=Se(mt,se),Lt=Se(yt,se);zt(We(xe,ke,ht[0],ht[1]),Math.min(We(Xe,pt,Lt[0],Lt[1]),ge))&&(Be=Ie+J.pathSector(ze),Re&&(Be+=J.pathSector(Re)),ot=[Mt(Re,ht[0],ht[1]),Mt(ze,ht[0],ht[1])].join(" ")),Ft(Be,ot)}function Ne(){if(u.removeZoombox(ie),Re!==null&&ze!==null){var at={};Ye(at),u.showDoubleClickNotifier(ie),a.call("_guiRelayout",ie,at)}}function Ye(at){var Fe=de._rl,Be=(Fe[1]-Fe[0])/(1-me/ge)/ge,ot=[Fe[0]+(Re-me)*Be,Fe[0]+(ze-me)*Be];at[J.id+".radialaxis.range"]=ot}function lt(at,Fe){var Be=ie._fullLayout.clickmode;if(u.removeZoombox(ie),at===2){var ot={};for(var Xe in J.viewInitial)ot[J.id+"."+Xe]=J.viewInitial[Xe];ie.emit("plotly_doubleclick",null),a.call("_guiRelayout",ie,ot)}Be.indexOf("select")>-1&&at===1&&p(Fe,ie,[J.xaxis],[J.yaxis],J.id,it),Be.indexOf("event")>-1&&c.click(ie,Fe,J.id)}it.prepFn=function(at,Fe,Be){var ot=ie._fullLayout.dragmode,Xe=he.getBoundingClientRect();ie._fullLayout._calcInverseTransform(ie);var pt=ie._fullLayout._invTransform;G=ie._fullLayout._invScaleX,X=ie._fullLayout._invScaleY;var mt=w.apply3DTransform(pt)(Fe-Xe.left,Be-Xe.top);if(xe=mt[0],ke=mt[1],se){var yt=T.findPolygonOffset(ge,oe[0],oe[1],se);xe+=_e+yt[0],ke+=we+yt[1]}switch(ot){case"zoom":it.clickFn=lt,ne||(it.moveFn=se?Ze:Rt,it.doneFn=Ne,function(){Re=null,ze=null,Ie=J.pathSubplot(),He=!1;var ht=ie._fullLayout[J.id];qe=k(ht.bgcolor).getLuminance(),(Je=u.makeZoombox(le,qe,ve,Me,Ie)).attr("fill-rule","evenodd"),st=u.makeCorners(le,ve,Me),v(ie)}());break;case"select":case"lasso":g(at,Fe,Be,it,ot)}},d.init(it)},j.updateRadialDrag=function($,G,X){var J=this,ne=J.gd,ie=J.layers,ae=J.radius,le=J.innerRadius,ce=J.cx,pe=J.cy,ge=J.radialAxis,me=S.radialDragBoxSize,ve=me/2;if(ge.visible){var Me,_e,we,oe=B(J.radialAxisAngle),se=ge._rl,de=se[0],Ee=se[1],Te=se[X],Se=.75*(se[1]-se[0])/(1-J.getHole(G))/ae;X?(Me=ce+(ae+ve)*Math.cos(oe),_e=pe-(ae+ve)*Math.sin(oe),we="radialdrag"):(Me=ce+(le-ve)*Math.cos(oe),_e=pe-(le-ve)*Math.sin(oe),we="radialdrag-inner");var Le,Oe,he,xe=u.makeRectDragger(ie,we,"crosshair",-ve,-ve,me,me),ke={element:xe,gd:ne};$.dragmode===!1&&(ke.dragmode=!1),Q(A.select(xe),ge.visible&&le<ae,{transform:h(Me,_e)}),ke.prepFn=function(){Le=null,Oe=null,he=null,ke.moveFn=Re,ke.doneFn=ze,v(ne)},ke.clampFn=function(qe,Je){return Math.sqrt(qe*qe+Je*Je)<S.MINDRAG&&(qe=0,Je=0),[qe,Je]},d.init(ke)}function Re(qe,Je){if(Le)Le(qe,Je);else{var st=[qe,-Je],it=[Math.cos(oe),Math.sin(oe)],vt=Math.abs(w.dot(st,it)/Math.sqrt(w.dot(st,st)));isNaN(vt)||(Le=vt<.5?Ie:He)}var _t={};(function(xt){Oe!==null?xt[J.id+".radialaxis.angle"]=Oe:he!==null&&(xt[J.id+".radialaxis.range["+X+"]"]=he)})(_t),ne.emit("plotly_relayouting",_t)}function ze(){Oe!==null?a.call("_guiRelayout",ne,J.id+".radialaxis.angle",Oe):he!==null&&a.call("_guiRelayout",ne,J.id+".radialaxis.range["+X+"]",he)}function Ie(qe,Je){if(X!==0){var st=Me+qe,it=_e+Je;Oe=Math.atan2(pe-it,st-ce),J.vangles&&(Oe=te(Oe,J.vangles)),Oe=Z(Oe);var vt=h(ce,pe)+b(-Oe);ie["radial-axis"].attr("transform",vt),ie["radial-line"].select("line").attr("transform",vt);var _t=J.gd._fullLayout,xt=_t[J.id];J.updateRadialAxisTitle(_t,xt,Oe)}}function He(qe,Je){var st=w.dot([qe,-Je],[Math.cos(oe),Math.sin(oe)]);if(he=Te-Se*st,Se>0==(X?he>de:he<Ee)){var it=ne._fullLayout,vt=it[J.id];ge.range[X]=he,ge._rl[X]=he,J.updateRadialAxis(it,vt),J.xaxis.setRange(),J.xaxis.setScale(),J.yaxis.setRange(),J.yaxis.setScale();var _t=!1;for(var xt in J.traceHash){var et=J.traceHash[xt],nt=w.filterVisible(et);et[0][0].trace._module.plot(ne,J,nt,vt),a.traceIs(xt,"gl")&&nt.length&&(_t=!0)}_t&&(m(ne),_(ne))}else he=null}},j.updateAngularDrag=function($){var G=this,X=G.gd,J=G.layers,ne=G.radius,ie=G.angularAxis,ae=G.cx,le=G.cy,ce=G.cxx,pe=G.cyy,ge=S.angularDragBoxSize,me=u.makeDragger(J,"path","angulardrag",$.dragmode===!1?"none":"move"),ve={element:me,gd:X};function Me(ke,Re){return Math.atan2(pe+ge-Re,ke-ce-ge)}$.dragmode===!1?ve.dragmode=!1:A.select(me).attr("d",G.pathAnnulus(ne,ne+ge)).attr("transform",h(ae,le)).call(y,"move");var _e,we,oe,se,de,Ee,Te=J.frontplot.select(".scatterlayer").selectAll(".trace"),Se=Te.selectAll(".point"),Le=Te.selectAll(".textpoint");function Oe(ke,Re){var ze=G.gd._fullLayout,Ie=ze[G.id],He=Me(_e+ke*$._invScaleX,we+Re*$._invScaleY),qe=Z(He-Ee);if(se=oe+qe,J.frontplot.attr("transform",h(G.xOffset2,G.yOffset2)+b([-qe,ce,pe])),G.vangles){de=G.radialAxisAngle+qe;var Je=h(ae,le)+b(-qe),st=h(ae,le)+b(-de);J.bg.attr("transform",Je),J["radial-grid"].attr("transform",Je),J["radial-axis"].attr("transform",st),J["radial-line"].select("line").attr("transform",st),G.updateRadialAxisTitle(ze,Ie,de)}else G.clipPaths.forTraces.select("path").attr("transform",h(ce,pe)+b(qe));Se.each(function(){var nt=A.select(this),Mt=t.getTranslate(nt);nt.attr("transform",h(Mt.x,Mt.y)+b([qe]))}),Le.each(function(){var nt=A.select(this),Mt=nt.select("text"),zt=t.getTranslate(nt);nt.attr("transform",b([qe,Mt.attr("x"),Mt.attr("y")])+h(zt.x,zt.y))}),ie.rotation=w.modHalf(se,360),G.updateAngularAxis(ze,Ie),G._hasClipOnAxisFalse&&!w.isFullCircle(G.sectorInRad)&&Te.call(t.hideOutsideRangePoints,G);var it=!1;for(var vt in G.traceHash)if(a.traceIs(vt,"gl")){var _t=G.traceHash[vt],xt=w.filterVisible(_t);_t[0][0].trace._module.plot(X,G,xt,Ie),xt.length&&(it=!0)}it&&(m(X),_(X));var et={};he(et),X.emit("plotly_relayouting",et)}function he(ke){ke[G.id+".angularaxis.rotation"]=se,G.vangles&&(ke[G.id+".radialaxis.angle"]=de)}function xe(){Le.select("text").attr("transform",null);var ke={};he(ke),a.call("_guiRelayout",X,ke)}ve.prepFn=function(ke,Re,ze){var Ie=$[G.id];oe=Ie.angularaxis.rotation;var He=me.getBoundingClientRect();_e=Re-He.left,we=ze-He.top,X._fullLayout._calcInverseTransform(X);var qe=w.apply3DTransform($._invTransform)(_e,we);_e=qe[0],we=qe[1],Ee=Me(_e,we),ve.moveFn=Oe,ve.doneFn=xe,v(X)},G.vangles&&!w.isFullCircle(G.sectorInRad)&&(ve.prepFn=w.noop,y(A.select(me),null)),d.init(ve)},j.isPtInside=function($){if(this.isSmith)return!0;var G=this.sectorInRad,X=this.vangles,J=this.angularAxis.c2g($.theta),ne=this.radialAxis,ie=ne.c2l($.r),ae=ne._rl;return(X?T.isPtInsidePolygon:w.isPtInsideSector)(ie,J,ae,G,X)},j.pathArc=function($){var G=this.sectorInRad,X=this.vangles;return(X?T.pathPolygon:w.pathArc)($,G[0],G[1],X)},j.pathSector=function($){var G=this.sectorInRad,X=this.vangles;return(X?T.pathPolygon:w.pathSector)($,G[0],G[1],X)},j.pathAnnulus=function($,G){var X=this.sectorInRad,J=this.vangles;return(J?T.pathPolygonAnnulus:w.pathAnnulus)($,G,X[0],X[1],J)},j.pathSubplot=function(){var $=this.innerRadius,G=this.radius;return $?this.pathAnnulus($,G):this.pathSector(G)},j.fillViewInitialKey=function($,G){$ in this.viewInitial||(this.viewInitial[$]=G)}},57696:function(Y,P,e){var A=e(3400),k=e(78344),a=A.deg2rad,w=A.rad2deg;Y.exports=function(b,h,o){switch(k(b,o),b._id){case"x":case"radialaxis":(function(t,i){var n=i._subplot;t.setGeometry=function(){var r=t._rl[0],s=t._rl[1],l=n.innerRadius,u=(n.radius-l)/(s-r),d=l/u,c=r>s?function(x){return x<=0}:function(x){return x>=0};t.c2g=function(x){var g=t.c2l(x)-r;return(c(g)?g:0)+d},t.g2c=function(x){return t.l2c(x+r-d)},t.g2p=function(x){return x*u},t.c2p=function(x){return t.g2p(t.c2g(x))}}})(b,h);break;case"angularaxis":(function(t,i){var n=t.type;if(n==="linear"){var r=t.d2c,s=t.c2d;t.d2c=function(l,u){return function(d,c){return c==="degrees"?a(d):d}(r(l),u)},t.c2d=function(l,u){return s(function(d,c){return c==="degrees"?w(d):d}(l,u))}}t.makeCalcdata=function(l,u){var d,c,x=l[u],g=l._length,p=function(f){return t.d2c(f,l.thetaunit)};if(x)for(d=new Array(g),c=0;c<g;c++)d[c]=p(x[c]);else{var v=u+"0",y="d"+u,m=v in l?p(l[v]):0,_=l[y]?p(l[y]):(t.period||2*Math.PI)/g;for(d=new Array(g),c=0;c<g;c++)d[c]=m+c*_}return d},t.setGeometry=function(){var l,u,d,c,x=i.sector,g=x.map(a),p={clockwise:-1,counterclockwise:1}[t.direction],v=a(t.rotation),y=function(S){return p*S+v},m=function(S){return(S-v)/p};switch(n){case"linear":u=l=A.identity,c=a,d=w,t.range=A.isFullCircle(g)?[x[0],x[0]+360]:g.map(m).map(w);break;case"category":var _=t._categories.length,f=t.period?Math.max(t.period,_):_;f===0&&(f=1),u=c=function(S){return 2*S*Math.PI/f},l=d=function(S){return S*f/Math.PI/2},t.range=[0,f]}t.c2g=function(S){return y(u(S))},t.g2c=function(S){return l(m(S))},t.t2g=function(S){return y(c(S))},t.g2t=function(S){return d(m(S))}}})(b,h)}}},55012:function(Y){Y.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},36416:function(Y){function P(a){return a<0?-1:a>0?1:0}function e(a){var w=a[0],b=a[1];if(!isFinite(w)||!isFinite(b))return[1,0];var h=(w+1)*(w+1)+b*b;return[(w*w+b*b-1)/h,2*b/h]}function A(a,w){var b=w[0],h=w[1];return[b*a.radius+a.cx,-h*a.radius+a.cy]}function k(a,w){return w*a.radius}Y.exports={smith:e,reactanceArc:function(a,w,b,h){var o=A(a,e([b,w])),t=o[0],i=o[1],n=A(a,e([h,w])),r=n[0],s=n[1];if(w===0)return["M"+t+","+i,"L"+r+","+s].join(" ");var l=k(a,1/Math.abs(w));return["M"+t+","+i,"A"+l+","+l+" 0 0,"+(w<0?1:0)+" "+r+","+s].join(" ")},resistanceArc:function(a,w,b,h){var o=k(a,1/(w+1)),t=A(a,e([w,b])),i=t[0],n=t[1],r=A(a,e([w,h])),s=r[0],l=r[1];if(P(b)!==P(h)){var u=A(a,e([w,0]));return["M"+i+","+n,"A"+o+","+o+" 0 0,"+(0<b?0:1)+" "+u[0]+","+u[1],"A"+o+","+o+" 0 0,"+(h<0?0:1)+s+","+l].join(" ")}return["M"+i+","+n,"A"+o+","+o+" 0 0,"+(h<b?0:1)+" "+s+","+l].join(" ")},smithTransform:A}},47788:function(Y,P,e){var A=e(84888).KY,k=e(3400).counterRegex,a=e(62400),w=e(55012),b=w.attr,h=w.name,o=k(h),t={};t[b]={valType:"subplotid",dflt:h,editType:"calc"},Y.exports={attr:b,name:h,idRoot:h,idRegex:o,attrRegex:o,attributes:t,layoutAttributes:e(6183),supplyLayoutDefaults:e(22836),plot:function(i){for(var n=i._fullLayout,r=i.calcdata,s=n._subplots[h],l=0;l<s.length;l++){var u=s[l],d=A(r,h,u),c=n[u]._subplot;c||(c=a(i,u,!0),n[u]._subplot=c),c.plot(d,n,i._promises)}},clean:function(i,n,r,s){for(var l=s._subplots[h]||[],u=0;u<l.length;u++){var d=l[u],c=s[d]._subplot;if(!n[d]&&c)for(var x in c.framework.remove(),c.clipPaths)c.clipPaths[x].remove()}},toSVG:e(57952).toSVG}},6183:function(Y,P,e){var A=e(22548),k=e(94724),a=e(86968).u,w=e(3400).extendFlat,b=e(67824).overrideAll,h=b({color:k.color,showline:w({},k.showline,{dflt:!0}),linecolor:k.linecolor,linewidth:k.linewidth,showgrid:w({},k.showgrid,{dflt:!0}),gridcolor:k.gridcolor,gridwidth:k.gridwidth,griddash:k.griddash},"plot","from-root"),o=b({ticklen:k.ticklen,tickwidth:w({},k.tickwidth,{dflt:2}),tickcolor:k.tickcolor,showticklabels:k.showticklabels,labelalias:k.labelalias,showtickprefix:k.showtickprefix,tickprefix:k.tickprefix,showticksuffix:k.showticksuffix,ticksuffix:k.ticksuffix,tickfont:k.tickfont,tickformat:k.tickformat,hoverformat:k.hoverformat,layer:k.layer},"plot","from-root"),t=w({visible:w({},k.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:w({},k.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},h,o),i=w({visible:w({},k.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:k.ticks,editType:"calc"},h,o);Y.exports={domain:a({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:A.background},realaxis:t,imaginaryaxis:i,editType:"calc"}},22836:function(Y,P,e){var A,k,a,w=e(3400),b=e(76308),h=e(31780),o=e(168),t=e(84888).op,i=e(42568),n=e(95936),r=e(42136),s=e(78344),l=e(6183),u=e(55012),d=u.axisNames,c=(A=function(g){return w.isTypedArray(g)&&(g=Array.from(g)),g.slice().reverse().map(function(p){return-p}).concat([0]).concat(g)},k=String,a={},function(g){var p=k?k(g):g;if(p in a)return a[p];var v=A(g);return a[p]=v,v});function x(g,p,v,y){var m=v("bgcolor");y.bgColor=b.combine(m,y.paper_bgcolor);var _,f=t(y.fullData,u.name,y.id),S=y.layoutOut;function T(j,V){return v(_+"."+j,V)}for(var E=0;E<d.length;E++){_=d[E],w.isPlainObject(g[_])||(g[_]={});var C=g[_],O=h.newContainer(p,_);O._id=O._name=_,O._attr=y.id+"."+_,O._traceIndices=f.map(function(j){return j._expandedIndex});var I=T("visible");if(O.type="linear",s(O,S),i(C,O,T,O.type),I){var z,U,D,B,Z=_==="realaxis";Z&&T("side"),Z?T("tickvals"):T("tickvals",c(p.realaxis.tickvals||l.realaxis.tickvals.dflt)),w.isTypedArray(O.tickvals)&&(O.tickvals=Array.from(O.tickvals));var F=y.font||{};I&&(U=(z=T("color"))===C.color?z:F.color,D=F.size,B=F.family),n(C,O,T,O.type,{noAutotickangles:!0,noTicklabelstep:!0,noAng:!Z,noExp:!0,font:{color:U,size:D,family:B}}),w.coerce2(g,p,l,_+".ticklen"),w.coerce2(g,p,l,_+".tickwidth"),w.coerce2(g,p,l,_+".tickcolor",p.color),T("ticks")||(delete p[_].ticklen,delete p[_].tickwidth,delete p[_].tickcolor),r(C,O,T,{dfltColor:z,bgColor:y.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[_]}),T("layer")}T("hoverformat"),delete O.type,O._input=C}}Y.exports=function(g,p,v){o(g,p,v,{noUirevision:!0,type:u.name,attributes:l,handleDefaults:x,font:p.font,paper_bgcolor:p.paper_bgcolor,fullData:v,layoutOut:p})}},168:function(Y,P,e){var A=e(3400),k=e(31780),a=e(86968).Q;Y.exports=function(w,b,h,o){var t,i,n=o.type,r=o.attributes,s=o.handleDefaults,l=o.partition||"x",u=b._subplots[n],d=u.length,c=d&&u[0].replace(/\d+$/,"");function x(y,m){return A.coerce(t,i,r,y,m)}for(var g=0;g<d;g++){var p=u[g];t=w[p]?w[p]:w[p]={},i=k.newContainer(b,p,c),o.noUirevision||x("uirevision",b.uirevision);var v={};v[l]=[g/d,(g+1)/d],a(i,b,x,v),o.id=p,s(t,i,x,o)}}},21776:function(Y,P,e){var A=e(26880);function k(a){var w=a.description?" "+a.description:"",b=a.keys||[];if(b.length>0){for(var h=[],o=0;o<b.length;o++)h[o]="`"+b[o]+"`";w+="Finally, the template string has access to ",w=b.length===1?w+"variable "+h[0]:w+"variables "+h.slice(0,-1).join(", ")+" and "+h.slice(-1)+"."}return w}A.FORMAT_LINK,A.DATE_FORMAT_LINK,P.Ks=function(a,w){a=a||{},k(w=w||{});var b={valType:"string",dflt:"",editType:a.editType||"none"};return a.arrayOk!==!1&&(b.arrayOk=!0),b},P.Gw=function(a,w){a=a||{},k(w=w||{});var b={valType:"string",dflt:"",editType:a.editType||"calc"};return a.arrayOk!==!1&&(b.arrayOk=!0),b},P.ye=function(a,w){return w=w||{},(a=a||{}).newshape,k(w),{valType:"string",dflt:"",editType:a.editType||"arraydraw"}}},19352:function(Y,P,e){var A=e(24696),k=e(84888).KY,a=e(3400).counterRegex,w="ternary";P.name=w;var b=P.attr="subplot";P.idRoot=w,P.idRegex=P.attrRegex=a(w),(P.attributes={})[b]={valType:"subplotid",dflt:"ternary",editType:"calc"},P.layoutAttributes=e(86379),P.supplyLayoutDefaults=e(38536),P.plot=function(h){for(var o=h._fullLayout,t=h.calcdata,i=o._subplots[w],n=0;n<i.length;n++){var r=i[n],s=k(t,w,r),l=o[r]._subplot;l||(l=new A({id:r,graphDiv:h,container:o._ternarylayer.node()},o),o[r]._subplot=l),l.plot(s,o,h._promises)}},P.clean=function(h,o,t,i){for(var n=i._subplots[w]||[],r=0;r<n.length;r++){var s=n[r],l=i[s]._subplot;!o[s]&&l&&(l.plotContainer.remove(),l.clipDef.remove(),l.clipDefRelative.remove(),l.layers["a-title"].remove(),l.layers["b-title"].remove(),l.layers["c-title"].remove())}}},86379:function(Y,P,e){var A=e(22548),k=e(86968).u,a=e(94724),w=e(67824).overrideAll,b=e(92880).extendFlat,h={title:{text:a.title.text,font:a.title.font},color:a.color,tickmode:a.minor.tickmode,nticks:b({},a.nticks,{dflt:6,min:1}),tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:a.ticks,ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,showtickprefix:a.showtickprefix,tickprefix:a.tickprefix,showticksuffix:a.showticksuffix,ticksuffix:a.ticksuffix,showexponent:a.showexponent,exponentformat:a.exponentformat,minexponent:a.minexponent,separatethousands:a.separatethousands,tickfont:a.tickfont,tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,hoverformat:a.hoverformat,showline:b({},a.showline,{dflt:!0}),linecolor:a.linecolor,linewidth:a.linewidth,showgrid:b({},a.showgrid,{dflt:!0}),gridcolor:a.gridcolor,gridwidth:a.gridwidth,griddash:a.griddash,layer:a.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:a._deprecated.title,titlefont:a._deprecated.titlefont}},o=Y.exports=w({domain:k({name:"ternary"}),bgcolor:{valType:"color",dflt:A.background},sum:{valType:"number",dflt:1,min:0},aaxis:h,baxis:h,caxis:h},"plot","from-root");o.uirevision={valType:"any",editType:"none"},o.aaxis.uirevision=o.baxis.uirevision=o.caxis.uirevision={valType:"any",editType:"none"}},38536:function(Y,P,e){var A=e(76308),k=e(31780),a=e(3400),w=e(168),b=e(95936),h=e(42568),o=e(25404),t=e(26332),i=e(42136),n=e(86379),r=["aaxis","baxis","caxis"];function s(u,d,c,x){var g,p,v,y=c("bgcolor"),m=c("sum");x.bgColor=A.combine(y,x.paper_bgcolor);for(var _=0;_<r.length;_++)p=u[g=r[_]]||{},(v=k.newContainer(d,g))._name=g,l(p,v,x,d);var f=d.aaxis,S=d.baxis,T=d.caxis;f.min+S.min+T.min>=m&&(f.min=0,S.min=0,T.min=0,u.aaxis&&delete u.aaxis.min,u.baxis&&delete u.baxis.min,u.caxis&&delete u.caxis.min)}function l(u,d,c,x){var g=n[d._name];function p(S,T){return a.coerce(u,d,g,S,T)}p("uirevision",x.uirevision),d.type="linear";var v=p("color"),y=v!==g.color.dflt?v:c.font.color,m=d._name.charAt(0).toUpperCase(),_="Component "+m,f=p("title.text",_);d._hovertitle=f===_?f:m,a.coerceFont(p,"title.font",{family:c.font.family,size:a.bigFont(c.font.size),color:y}),p("min"),t(u,d,p,"linear"),h(u,d,p,"linear"),b(u,d,p,"linear",{noAutotickangles:!0}),o(u,d,p,{outerTicks:!0}),p("showticklabels")&&(a.coerceFont(p,"tickfont",{family:c.font.family,size:c.font.size,color:y}),p("tickangle"),p("tickformat")),i(u,d,p,{dfltColor:v,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:g}),p("hoverformat"),p("layer")}Y.exports=function(u,d,c){w(u,d,c,{type:"ternary",attributes:n,handleDefaults:s,font:d.font,paper_bgcolor:d.paper_bgcolor})}},24696:function(Y,P,e){var A=e(33428),k=e(49760),a=e(24040),w=e(3400),b=w.strTranslate,h=w._,o=e(76308),t=e(43616),i=e(78344),n=e(92880).extendFlat,r=e(7316),s=e(54460),l=e(86476),u=e(93024),d=e(72760),c=d.freeMode,x=d.rectMode,g=e(81668),p=e(22676).prepSelect,v=e(22676).selectOnClick,y=e(22676).clearOutline,m=e(22676).clearSelectionsCache,_=e(33816);function f(D,B){this.id=D.id,this.graphDiv=D.graphDiv,this.init(B),this.makeFramework(B),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}Y.exports=f;var S=f.prototype;S.init=function(D){this.container=D._ternarylayer,this.defs=D._defs,this.layoutId=D._uid,this.traceHash={},this.layers={}},S.plot=function(D,B){var Z=this,F=B[Z.id],j=B._size;Z._hasClipOnAxisFalse=!1;for(var V=0;V<D.length;V++)if(D[V][0].trace.cliponaxis===!1){Z._hasClipOnAxisFalse=!0;break}Z.updateLayers(F),Z.adjustLayout(F,j),r.generalUpdatePerTraceModule(Z.graphDiv,Z,D,F),Z.layers.plotbg.select("path").call(o.fill,F.bgcolor)},S.makeFramework=function(D){var B=this,Z=B.graphDiv,F=D[B.id],j=B.clipId="clip"+B.layoutId+B.id,V=B.clipIdRelative="clip-relative"+B.layoutId+B.id;B.clipDef=w.ensureSingleById(D._clips,"clipPath",j,function(te){te.append("path").attr("d","M0,0Z")}),B.clipDefRelative=w.ensureSingleById(D._clips,"clipPath",V,function(te){te.append("path").attr("d","M0,0Z")}),B.plotContainer=w.ensureSingle(B.container,"g",B.id),B.updateLayers(F),t.setClipUrl(B.layers.backplot,j,Z),t.setClipUrl(B.layers.grids,j,Z)},S.updateLayers=function(D){var B=this.layers,Z=["draglayer","plotbg","backplot","grids"];D.aaxis.layer==="below traces"&&Z.push("aaxis","aline"),D.baxis.layer==="below traces"&&Z.push("baxis","bline"),D.caxis.layer==="below traces"&&Z.push("caxis","cline"),Z.push("frontplot"),D.aaxis.layer==="above traces"&&Z.push("aaxis","aline"),D.baxis.layer==="above traces"&&Z.push("baxis","bline"),D.caxis.layer==="above traces"&&Z.push("caxis","cline");var F=this.plotContainer.selectAll("g.toplevel").data(Z,String),j=["agrid","bgrid","cgrid"];F.enter().append("g").attr("class",function(V){return"toplevel "+V}).each(function(V){var te=A.select(this);B[V]=te,V==="frontplot"?te.append("g").classed("scatterlayer",!0):V==="backplot"?te.append("g").classed("maplayer",!0):V==="plotbg"?te.append("path").attr("d","M0,0Z"):V==="aline"||V==="bline"||V==="cline"?te.append("path"):V==="grids"&&j.forEach(function(Q){B[Q]=te.append("g").classed("grid "+Q,!0)})}),F.order()};var T=Math.sqrt(4/3);S.adjustLayout=function(D,B){var Z,F,j,V,te,Q,$=this,G=D.domain,X=(G.x[0]+G.x[1])/2,J=(G.y[0]+G.y[1])/2,ne=G.x[1]-G.x[0],ie=G.y[1]-G.y[0],ae=ne*B.w,le=ie*B.h,ce=D.sum,pe=D.aaxis.min,ge=D.baxis.min,me=D.caxis.min;ae>T*le?j=(V=le)*T:V=(j=ae)/T,te=ne*j/ae,Q=ie*V/le,Z=B.l+B.w*X-j/2,F=B.t+B.h*(1-J)-V/2,$.x0=Z,$.y0=F,$.w=j,$.h=V,$.sum=ce,$.xaxis={type:"linear",range:[pe+2*me-ce,ce-pe-2*ge],domain:[X-te/2,X+te/2],_id:"x"},i($.xaxis,$.graphDiv._fullLayout),$.xaxis.setScale(),$.xaxis.isPtWithinRange=function(Le){return Le.a>=$.aaxis.range[0]&&Le.a<=$.aaxis.range[1]&&Le.b>=$.baxis.range[1]&&Le.b<=$.baxis.range[0]&&Le.c>=$.caxis.range[1]&&Le.c<=$.caxis.range[0]},$.yaxis={type:"linear",range:[pe,ce-ge-me],domain:[J-Q/2,J+Q/2],_id:"y"},i($.yaxis,$.graphDiv._fullLayout),$.yaxis.setScale(),$.yaxis.isPtWithinRange=function(){return!0};var ve=$.yaxis.domain[0],Me=$.aaxis=n({},D.aaxis,{range:[pe,ce-ge-me],side:"left",tickangle:(+D.aaxis.tickangle||0)-30,domain:[ve,ve+Q*T],anchor:"free",position:0,_id:"y",_length:j});i(Me,$.graphDiv._fullLayout),Me.setScale();var _e=$.baxis=n({},D.baxis,{range:[ce-pe-me,ge],side:"bottom",domain:$.xaxis.domain,anchor:"free",position:0,_id:"x",_length:j});i(_e,$.graphDiv._fullLayout),_e.setScale();var we=$.caxis=n({},D.caxis,{range:[ce-pe-ge,me],side:"right",tickangle:(+D.caxis.tickangle||0)+30,domain:[ve,ve+Q*T],anchor:"free",position:0,_id:"y",_length:j});i(we,$.graphDiv._fullLayout),we.setScale();var oe="M"+Z+","+(F+V)+"h"+j+"l-"+j/2+",-"+V+"Z";$.clipDef.select("path").attr("d",oe),$.layers.plotbg.select("path").attr("d",oe);var se="M0,"+V+"h"+j+"l-"+j/2+",-"+V+"Z";$.clipDefRelative.select("path").attr("d",se);var de=b(Z,F);$.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",de),$.clipDefRelative.select("path").attr("transform",null);var Ee=b(Z-_e._offset,F+V);$.layers.baxis.attr("transform",Ee),$.layers.bgrid.attr("transform",Ee);var Te=b(Z+j/2,F)+"rotate(30)"+b(0,-Me._offset);$.layers.aaxis.attr("transform",Te),$.layers.agrid.attr("transform",Te);var Se=b(Z+j/2,F)+"rotate(-30)"+b(0,-we._offset);$.layers.caxis.attr("transform",Se),$.layers.cgrid.attr("transform",Se),$.drawAxes(!0),$.layers.aline.select("path").attr("d",Me.showline?"M"+Z+","+(F+V)+"l"+j/2+",-"+V:"M0,0").call(o.stroke,Me.linecolor||"#000").style("stroke-width",(Me.linewidth||0)+"px"),$.layers.bline.select("path").attr("d",_e.showline?"M"+Z+","+(F+V)+"h"+j:"M0,0").call(o.stroke,_e.linecolor||"#000").style("stroke-width",(_e.linewidth||0)+"px"),$.layers.cline.select("path").attr("d",we.showline?"M"+(Z+j/2)+","+F+"l"+j/2+","+V:"M0,0").call(o.stroke,we.linecolor||"#000").style("stroke-width",(we.linewidth||0)+"px"),$.graphDiv._context.staticPlot||$.initInteractions(),t.setClipUrl($.layers.frontplot,$._hasClipOnAxisFalse?null:$.clipId,$.graphDiv)},S.drawAxes=function(D){var B=this,Z=B.graphDiv,F=B.id.substr(7)+"title",j=B.layers,V=B.aaxis,te=B.baxis,Q=B.caxis;if(B.drawAx(V),B.drawAx(te),B.drawAx(Q),D){var $=Math.max(V.showticklabels?V.tickfont.size/2:0,(Q.showticklabels?.75*Q.tickfont.size:0)+(Q.ticks==="outside"?.87*Q.ticklen:0)),G=(te.showticklabels?te.tickfont.size:0)+(te.ticks==="outside"?te.ticklen:0)+3;j["a-title"]=g.draw(Z,"a"+F,{propContainer:V,propName:B.id+".aaxis.title",placeholder:h(Z,"Click to enter Component A title"),attributes:{x:B.x0+B.w/2,y:B.y0-V.title.font.size/3-$,"text-anchor":"middle"}}),j["b-title"]=g.draw(Z,"b"+F,{propContainer:te,propName:B.id+".baxis.title",placeholder:h(Z,"Click to enter Component B title"),attributes:{x:B.x0-G,y:B.y0+B.h+.83*te.title.font.size+G,"text-anchor":"middle"}}),j["c-title"]=g.draw(Z,"c"+F,{propContainer:Q,propName:B.id+".caxis.title",placeholder:h(Z,"Click to enter Component C title"),attributes:{x:B.x0+B.w+G,y:B.y0+B.h+.83*Q.title.font.size+G,"text-anchor":"middle"}})}},S.drawAx=function(D){var B,Z=this,F=Z.graphDiv,j=D._name,V=j.charAt(0),te=D._id,Q=Z.layers[j],$=V+"tickLayout",G=(B=D).ticks+String(B.ticklen)+String(B.showticklabels);Z[$]!==G&&(Q.selectAll("."+te+"tick").remove(),Z[$]=G),D.setScale();var X=s.calcTicks(D),J=s.clipEnds(D,X),ne=s.makeTransTickFn(D),ie=s.getTickSigns(D)[2],ae=w.deg2rad(30),le=ie*(D.linewidth||1)/2,ce=ie*D.ticklen,pe=Z.w,ge=Z.h,me=V==="b"?"M0,"+le+"l"+Math.sin(ae)*ce+","+Math.cos(ae)*ce:"M"+le+",0l"+Math.cos(ae)*ce+","+-Math.sin(ae)*ce,ve={a:"M0,0l"+ge+",-"+pe/2,b:"M0,0l-"+pe/2+",-"+ge,c:"M0,0l-"+ge+","+pe/2}[V];s.drawTicks(F,D,{vals:D.ticks==="inside"?J:X,layer:Q,path:me,transFn:ne,crisp:!1}),s.drawGrid(F,D,{vals:J,layer:Z.layers[V+"grid"],path:ve,transFn:ne,crisp:!1}),s.drawLabels(F,D,{vals:X,layer:Q,transFn:ne,labelFns:s.makeLabelFns(D,0,30)})};var E=_.MINZOOM/2+.87,C="m-0.87,.5h"+E+"v3h-"+(E+5.2)+"l"+(E/2+2.6)+",-"+(.87*E+4.5)+"l2.6,1.5l-"+E/2+","+.87*E+"Z",O="m0.87,.5h-"+E+"v3h"+(E+5.2)+"l-"+(E/2+2.6)+",-"+(.87*E+4.5)+"l-2.6,1.5l"+E/2+","+.87*E+"Z",I="m0,1l"+E/2+","+.87*E+"l2.6,-1.5l-"+(E/2+2.6)+",-"+(.87*E+4.5)+"l-"+(E/2+2.6)+","+(.87*E+4.5)+"l2.6,1.5l"+E/2+",-"+.87*E+"Z",z=!0;function U(D){A.select(D).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}S.clearOutline=function(){m(this.dragOptions),y(this.dragOptions.gd)},S.initInteractions=function(){var D,B,Z,F,j,V,te,Q,$,G,X,J,ne=this,ie=ne.layers.plotbg.select("path").node(),ae=ne.graphDiv,le=ae._fullLayout._zoomlayer;function ce(se){var de={};return de[ne.id+".aaxis.min"]=se.a,de[ne.id+".baxis.min"]=se.b,de[ne.id+".caxis.min"]=se.c,de}function pe(se,de){var Ee=ae._fullLayout.clickmode;U(ae),se===2&&(ae.emit("plotly_doubleclick",null),a.call("_guiRelayout",ae,ce({a:0,b:0,c:0}))),Ee.indexOf("select")>-1&&se===1&&v(de,ae,[ne.xaxis],[ne.yaxis],ne.id,ne.dragOptions),Ee.indexOf("event")>-1&&u.click(ae,de,ne.id)}function ge(se,de){return 1-de/ne.h}function me(se,de){return 1-(se+(ne.h-de)/Math.sqrt(3))/ne.w}function ve(se,de){return(se-(ne.h-de)/Math.sqrt(3))/ne.w}function Me(se,de){var Ee=Z+se*D,Te=F+de*B,Se=Math.max(0,Math.min(1,ge(0,F),ge(0,Te))),Le=Math.max(0,Math.min(1,me(Z,F),me(Ee,Te))),Oe=Math.max(0,Math.min(1,ve(Z,F),ve(Ee,Te))),he=(Se/2+Oe)*ne.w,xe=(1-Se/2-Le)*ne.w,ke=(he+xe)/2,Re=xe-he,ze=(1-Se)*ne.h,Ie=ze-Re/T;Re<_.MINZOOM?(te=j,X.attr("d",$),J.attr("d","M0,0Z")):(te={a:j.a+Se*V,b:j.b+Le*V,c:j.c+Oe*V},X.attr("d",$+"M"+he+","+ze+"H"+xe+"L"+ke+","+Ie+"L"+he+","+ze+"Z"),J.attr("d","M"+Z+","+F+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+he+","+ze+C+"M"+xe+","+ze+O+"M"+ke+","+Ie+I)),G||(X.transition().style("fill",Q>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),J.transition().style("opacity",1).duration(200),G=!0),ae.emit("plotly_relayouting",ce(te))}function _e(){U(ae),te!==j&&(a.call("_guiRelayout",ae,ce(te)),z&&ae.data&&ae._context.showTips&&(w.notifier(h(ae,"Double-click to zoom back out"),"long"),z=!1))}function we(se,de){var Ee=se/ne.xaxis._m,Te=de/ne.yaxis._m,Se=[(te={a:j.a-Te,b:j.b+(Ee+Te)/2,c:j.c-(Ee-Te)/2}).a,te.b,te.c].sort(w.sorterAsc),Le=Se.indexOf(te.a),Oe=Se.indexOf(te.b),he=Se.indexOf(te.c);Se[0]<0&&(Se[1]+Se[0]/2<0?(Se[2]+=Se[0]+Se[1],Se[0]=Se[1]=0):(Se[2]+=Se[0]/2,Se[1]+=Se[0]/2,Se[0]=0),te={a:Se[Le],b:Se[Oe],c:Se[he]},de=(j.a-te.a)*ne.yaxis._m,se=(j.c-te.c-j.b+te.b)*ne.xaxis._m);var xe=b(ne.x0+se,ne.y0+de);ne.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",xe);var ke=b(-se,-de);ne.clipDefRelative.select("path").attr("transform",ke),ne.aaxis.range=[te.a,ne.sum-te.b-te.c],ne.baxis.range=[ne.sum-te.a-te.c,te.b],ne.caxis.range=[ne.sum-te.a-te.b,te.c],ne.drawAxes(!1),ne._hasClipOnAxisFalse&&ne.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,ne),ae.emit("plotly_relayouting",ce(te))}function oe(){a.call("_guiRelayout",ae,ce(te))}this.dragOptions={element:ie,gd:ae,plotinfo:{id:ne.id,domain:ae._fullLayout[ne.id].domain,xaxis:ne.xaxis,yaxis:ne.yaxis},subplot:ne.id,prepFn:function(se,de,Ee){ne.dragOptions.xaxes=[ne.xaxis],ne.dragOptions.yaxes=[ne.yaxis],D=ae._fullLayout._invScaleX,B=ae._fullLayout._invScaleY;var Te=ne.dragOptions.dragmode=ae._fullLayout.dragmode;c(Te)?ne.dragOptions.minDrag=1:ne.dragOptions.minDrag=void 0,Te==="zoom"?(ne.dragOptions.moveFn=Me,ne.dragOptions.clickFn=pe,ne.dragOptions.doneFn=_e,function(Se,Le,Oe){var he=ie.getBoundingClientRect();Z=Le-he.left,F=Oe-he.top,ae._fullLayout._calcInverseTransform(ae);var xe=ae._fullLayout._invTransform,ke=w.apply3DTransform(xe)(Z,F);Z=ke[0],F=ke[1],j={a:ne.aaxis.range[0],b:ne.baxis.range[1],c:ne.caxis.range[1]},te=j,V=ne.aaxis.range[1]-j.a,Q=k(ne.graphDiv._fullLayout[ne.id].bgcolor).getLuminance(),$="M0,"+ne.h+"L"+ne.w/2+", 0L"+ne.w+","+ne.h+"Z",G=!1,X=le.append("path").attr("class","zoombox").attr("transform",b(ne.x0,ne.y0)).style({fill:Q>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",$),J=le.append("path").attr("class","zoombox-corners").attr("transform",b(ne.x0,ne.y0)).style({fill:o.background,stroke:o.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),ne.clearOutline(ae)}(0,de,Ee)):Te==="pan"?(ne.dragOptions.moveFn=we,ne.dragOptions.clickFn=pe,ne.dragOptions.doneFn=oe,j={a:ne.aaxis.range[0],b:ne.baxis.range[1],c:ne.caxis.range[1]},te=j,ne.clearOutline(ae)):(x(Te)||c(Te))&&p(se,de,Ee,ne.dragOptions,Te)}},ie.onmousemove=function(se){u.hover(ae,se,ne.id),ae._fullLayout._lasthover=ie,ae._fullLayout._hoversubplot=ne.id},ie.onmouseout=function(se){ae._dragging||l.unhover(ae,se)},l.init(this.dragOptions)}},24040:function(Y,P,e){var A=e(24248),k=e(16628),a=e(52416),w=e(63620),b=e(52200).addStyleRule,h=e(92880),o=e(45464),t=e(64859),i=h.extendFlat,n=h.extendDeepAll;function r(v){var y=v.name,m=v.categories,_=v.meta;if(P.modules[y])A.log("Type "+y+" already registered");else{P.subplotsRegistry[v.basePlotModule.name]||function(z){var U=z.name;if(P.subplotsRegistry[U])A.log("Plot type "+U+" already registered.");else for(var D in d(z),P.subplotsRegistry[U]=z,P.componentsRegistry)g(D,z.name)}(v.basePlotModule);for(var f={},S=0;S<m.length;S++)f[m[S]]=!0,P.allCategories[m[S]]=!0;for(var T in P.modules[y]={_module:v,categories:f},_&&Object.keys(_).length&&(P.modules[y].meta=_),P.allTypes.push(y),P.componentsRegistry)c(T,y);v.layoutAttributes&&i(P.traceLayoutAttributes,v.layoutAttributes);var E=v.basePlotModule,C=E.name;if(C==="mapbox"){var O=E.constants.styleRules;for(var I in O)b(".js-plotly-plot .plotly .mapboxgl-"+I,O[I])}C!=="geo"&&C!=="mapbox"||window.PlotlyGeoAssets!==void 0||(window.PlotlyGeoAssets={topojson:{}})}}function s(v){if(typeof v.name!="string")throw new Error("Component module *name* must be a string.");var y=v.name;for(var m in P.componentsRegistry[y]=v,v.layoutAttributes&&(v.layoutAttributes._isLinkedToArray&&a(P.layoutArrayContainers,y),d(v)),P.modules)c(y,m);for(var _ in P.subplotsRegistry)g(y,_);for(var f in P.transformsRegistry)x(y,f);v.schema&&v.schema.layout&&n(t,v.schema.layout)}function l(v){if(typeof v.name!="string")throw new Error("Transform module *name* must be a string.");var y="Transform module "+v.name,m=typeof v.transform=="function",_=typeof v.calcTransform=="function";if(!m&&!_)throw new Error(y+" is missing a *transform* or *calcTransform* method.");for(var f in m&&_&&A.log([y+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),w(v.attributes)||A.log(y+" registered without an *attributes* object."),typeof v.supplyDefaults!="function"&&A.log(y+" registered without a *supplyDefaults* method."),P.transformsRegistry[v.name]=v,P.componentsRegistry)x(f,v.name)}function u(v){var y=v.name,m=y.split("-")[0],_=v.dictionary,f=v.format,S=_&&Object.keys(_).length,T=f&&Object.keys(f).length,E=P.localeRegistry,C=E[y];if(C||(E[y]=C={}),m!==y){var O=E[m];O||(E[m]=O={}),S&&O.dictionary===C.dictionary&&(O.dictionary=_),T&&O.format===C.format&&(O.format=f)}S&&(C.dictionary=_),T&&(C.format=f)}function d(v){if(v.layoutAttributes){var y=v.layoutAttributes._arrayAttrRegexps;if(y)for(var m=0;m<y.length;m++)a(P.layoutArrayRegexes,y[m])}}function c(v,y){var m=P.componentsRegistry[v].schema;if(m&&m.traces){var _=m.traces[y];_&&n(P.modules[y]._module.attributes,_)}}function x(v,y){var m=P.componentsRegistry[v].schema;if(m&&m.transforms){var _=m.transforms[y];_&&n(P.transformsRegistry[y].attributes,_)}}function g(v,y){var m=P.componentsRegistry[v].schema;if(m&&m.subplots){var _=P.subplotsRegistry[y],f=_.layoutAttributes,S=_.attr==="subplot"?_.name:_.attr;Array.isArray(S)&&(S=S[0]);var T=m.subplots[S];f&&T&&n(f,T)}}function p(v){return typeof v=="object"&&(v=v.type),v}P.modules={},P.allCategories={},P.allTypes=[],P.subplotsRegistry={},P.transformsRegistry={},P.componentsRegistry={},P.layoutArrayContainers=[],P.layoutArrayRegexes=[],P.traceLayoutAttributes={},P.localeRegistry={},P.apiMethodRegistry={},P.collectableSubplotTypes=null,P.register=function(v){if(P.collectableSubplotTypes=null,!v)throw new Error("No argument passed to Plotly.register.");v&&!Array.isArray(v)&&(v=[v]);for(var y=0;y<v.length;y++){var m=v[y];if(!m)throw new Error("Invalid module was attempted to be registered!");switch(m.moduleType){case"trace":r(m);break;case"transform":l(m);break;case"component":s(m);break;case"locale":u(m);break;case"apiMethod":var _=m.name;P.apiMethodRegistry[_]=m.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},P.getModule=function(v){var y=P.modules[p(v)];return!!y&&y._module},P.traceIs=function(v,y){if((v=p(v))==="various")return!1;var m=P.modules[v];return m||(v&&A.log("Unrecognized trace type "+v+"."),m=P.modules[o.type.dflt]),!!m.categories[y]},P.getTransformIndices=function(v,y){for(var m=[],_=v.transforms||[],f=0;f<_.length;f++)_[f].type===y&&m.push(f);return m},P.hasTransform=function(v,y){for(var m=v.transforms||[],_=0;_<m.length;_++)if(m[_].type===y)return!0;return!1},P.getComponentMethod=function(v,y){var m=P.componentsRegistry[v];return m&&m[y]||k},P.call=function(){var v=arguments[0],y=[].slice.call(arguments,1);return P.apiMethodRegistry[v].apply(null,y)}},91536:function(Y,P,e){var A=e(24040),k=e(3400),a=k.extendFlat,w=k.extendDeep;function b(h){var o;switch(h){case"themes__thumb":o={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":o={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:o={}}return o}Y.exports=function(h,o){var t,i,n=h.data,r=h.layout,s=w([],n),l=w({},r,b(o.tileClass)),u=h._context||{};if(o.width&&(l.width=o.width),o.height&&(l.height=o.height),o.tileClass==="thumbnail"||o.tileClass==="themes__thumb"){l.annotations=[];var d=Object.keys(l);for(t=0;t<d.length;t++)i=d[t],["xaxis","yaxis","zaxis"].indexOf(i.slice(0,5))>-1&&(l[d[t]].title={text:""});for(t=0;t<s.length;t++){var c=s[t];c.showscale=!1,c.marker&&(c.marker.showscale=!1),A.traceIs(c,"pie-like")&&(c.textposition="none")}}if(Array.isArray(o.annotations))for(t=0;t<o.annotations.length;t++)l.annotations.push(o.annotations[t]);var x=Object.keys(l).filter(function(m){return m.match(/^scene\d*$/)});if(x.length){var g={};for(o.tileClass==="thumbnail"&&(g={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),t=0;t<x.length;t++){var p=l[x[t]];p.xaxis||(p.xaxis={}),p.yaxis||(p.yaxis={}),p.zaxis||(p.zaxis={}),a(p.xaxis,g),a(p.yaxis,g),a(p.zaxis,g),p._scene=null}}var v=document.createElement("div");o.tileClass&&(v.className=o.tileClass);var y={gd:v,td:v,layout:l,data:s,config:{staticPlot:o.staticPlot===void 0||o.staticPlot,plotGlPixelRatio:o.plotGlPixelRatio===void 0?2:o.plotGlPixelRatio,displaylogo:o.displaylogo||!1,showLink:o.showLink||!1,showTips:o.showTips||!1,mapboxAccessToken:u.mapboxAccessToken}};return o.setBackground!=="transparent"&&(y.config.setBackground=o.setBackground||"opaque"),y.gd.defaultLayout=b(o.tileClass),y}},39792:function(Y,P,e){var A=e(3400),k=e(67024),a=e(48616),w=e(81792);Y.exports=function(b,h){var o;return A.isPlainObject(b)||(o=A.getGraphDiv(b)),(h=h||{}).format=h.format||"png",h.width=h.width||null,h.height=h.height||null,h.imageDataOnly=!0,new Promise(function(t,i){o&&o._snapshotInProgress&&i(new Error("Snapshotting already in progress.")),A.isIE()&&h.format!=="svg"&&i(new Error(w.MSG_IE_BAD_FORMAT)),o&&(o._snapshotInProgress=!0);var n=k(b,h),r=h.filename||b.fn||"newplot";r+="."+h.format.replace("-","."),n.then(function(s){return o&&(o._snapshotInProgress=!1),a(s,r,h.format)}).then(function(s){t(s)}).catch(function(s){o&&(o._snapshotInProgress=!1),i(s)})})}},48616:function(Y,P,e){var A=e(3400),k=e(81792);Y.exports=function(a,w,b){var h=document.createElement("a"),o="download"in h;return new Promise(function(t,i){var n,r;if(A.isIE())return n=k.createBlob(a,"svg"),window.navigator.msSaveBlob(n,w),n=null,t(w);if(o)return n=k.createBlob(a,b),r=k.createObjectURL(n),h.href=r,h.download=w,document.body.appendChild(h),h.click(),document.body.removeChild(h),k.revokeObjectURL(r),n=null,t(w);if(A.isSafari()){var s=b==="svg"?",":";base64,";return k.octetStream(s+encodeURIComponent(a)),t(w)}i(new Error("download error"))})}},81792:function(Y,P,e){var A=e(24040);P.getDelay=function(a){return a._has&&(a._has("gl3d")||a._has("gl2d")||a._has("mapbox"))?500:0},P.getRedrawFunc=function(a){return function(){A.getComponentMethod("colorbar","draw")(a)}},P.encodeSVG=function(a){return"data:image/svg+xml,"+encodeURIComponent(a)},P.encodeJSON=function(a){return"data:application/json,"+encodeURIComponent(a)};var k=window.URL||window.webkitURL;P.createObjectURL=function(a){return k.createObjectURL(a)},P.revokeObjectURL=function(a){return k.revokeObjectURL(a)},P.createBlob=function(a,w){if(w==="svg")return new window.Blob([a],{type:"image/svg+xml;charset=utf-8"});if(w==="full-json")return new window.Blob([a],{type:"application/json;charset=utf-8"});var b=function(h){for(var o=h.length,t=new ArrayBuffer(o),i=new Uint8Array(t),n=0;n<o;n++)i[n]=h.charCodeAt(n);return t}(window.atob(a));return new window.Blob([b],{type:"image/"+w})},P.octetStream=function(a){document.location.href="data:application/octet-stream"+a},P.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,P.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},78904:function(Y,P,e){var A=e(81792),k={getDelay:A.getDelay,getRedrawFunc:A.getRedrawFunc,clone:e(91536),toSVG:e(37164),svgToImg:e(63268),toImage:e(61808),downloadImage:e(39792)};Y.exports=k},63268:function(Y,P,e){var A=e(3400),k=e(61252).EventEmitter,a=e(81792);Y.exports=function(w){var b=w.emitter||new k,h=new Promise(function(o,t){var i=window.Image,n=w.svg,r=w.format||"png";if(A.isIE()&&r!=="svg"){var s=new Error(a.MSG_IE_BAD_FORMAT);return t(s),w.promise?h:b.emit("error",s)}var l,u,d=w.canvas,c=w.scale||1,x=w.width||300,g=w.height||150,p=c*x,v=c*g,y=d.getContext("2d",{willReadFrequently:!0}),m=new i;r==="svg"||A.isSafari()?u=a.encodeSVG(n):(l=a.createBlob(n,"svg"),u=a.createObjectURL(l)),d.width=p,d.height=v,m.onload=function(){var _;switch(l=null,a.revokeObjectURL(u),r!=="svg"&&y.drawImage(m,0,0,p,v),r){case"jpeg":_=d.toDataURL("image/jpeg");break;case"png":_=d.toDataURL("image/png");break;case"webp":_=d.toDataURL("image/webp");break;case"svg":_=u;break;default:var f="Image format is not jpeg, png, svg or webp.";if(t(new Error(f)),!w.promise)return b.emit("error",f)}o(_),w.promise||b.emit("success",_)},m.onerror=function(_){if(l=null,a.revokeObjectURL(u),t(_),!w.promise)return b.emit("error",_)},m.src=u});return w.promise?h:b}},61808:function(Y,P,e){var A=e(61252).EventEmitter,k=e(24040),a=e(3400),w=e(81792),b=e(91536),h=e(37164),o=e(63268);Y.exports=function(t,i){var n=new A,r=b(t,{format:"png"}),s=r.gd;s.style.position="absolute",s.style.left="-5000px",document.body.appendChild(s);var l=w.getRedrawFunc(s);return k.call("_doPlot",s,r.data,r.layout,r.config).then(l).then(function(){var u=w.getDelay(s._fullLayout);setTimeout(function(){var d=h(s),c=document.createElement("canvas");c.id=a.randstr(),(n=o({format:i.format,width:s._fullLayout.width,height:s._fullLayout.height,canvas:c,emitter:n,svg:d})).clean=function(){s&&document.body.removeChild(s)}},u)}).catch(function(u){n.emit("error",u)}),n}},37164:function(Y,P,e){var A=e(33428),k=e(3400),a=e(43616),w=e(76308),b=e(9616),h=/"/g,o="TOBESTRIPPED",t=new RegExp('("'+o+")|("+o+'")',"g");Y.exports=function(i,n,r){var s,l=i._fullLayout,u=l._paper,d=l._toppaper,c=l.width,x=l.height;u.insert("rect",":first-child").call(a.setRect,0,0,c,x).call(w.fill,l.paper_bgcolor);var g=l._basePlotModules||[];for(s=0;s<g.length;s++){var p=g[s];p.toSVG&&p.toSVG(i)}if(d){var v=d.node().childNodes,y=Array.prototype.slice.call(v);for(s=0;s<y.length;s++){var m=y[s];m.childNodes.length&&u.node().appendChild(m)}}l._draggers&&l._draggers.remove(),u.node().style.background="",u.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var f=A.select(this);if(this.style.visibility!=="hidden"&&this.style.display!=="none"){f.style({visibility:null,display:null});var S=this.style.fontFamily;S&&S.indexOf('"')!==-1&&f.style("font-family",S.replace(h,o))}else f.remove()}),u.selectAll(".gradient_filled,.pattern_filled").each(function(){var f=A.select(this),S=this.style.fill;S&&S.indexOf("url(")!==-1&&f.style("fill",S.replace(h,o));var T=this.style.stroke;T&&T.indexOf("url(")!==-1&&f.style("stroke",T.replace(h,o))}),n!=="pdf"&&n!=="eps"||u.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),u.node().setAttributeNS(b.xmlns,"xmlns",b.svg),u.node().setAttributeNS(b.xmlns,"xmlns:xlink",b.xlink),n==="svg"&&r&&(u.attr("width",r*c),u.attr("height",r*x),u.attr("viewBox","0 0 "+c+" "+x));var _=new window.XMLSerializer().serializeToString(u.node());return _=(_=(_=function(f){var S=A.select("body").append("div").style({display:"none"}).html(""),T=f.replace(/(&[^;]*;)/gi,function(E){return E==="&lt;"?"&#60;":E==="&rt;"?"&#62;":E.indexOf("<")!==-1||E.indexOf(">")!==-1?"":S.html(E).text()});return S.remove(),T}(_)).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(t,"'"),k.isIE()&&(_=(_=(_=_.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),_}},84664:function(Y,P,e){var A=e(3400);Y.exports=function(k,a){for(var w=0;w<k.length;w++)k[w].i=w;A.mergeArray(a.text,k,"tx"),A.mergeArray(a.hovertext,k,"htx");var b=a.marker;if(b){A.mergeArray(b.opacity,k,"mo",!0),A.mergeArray(b.color,k,"mc");var h=b.line;h&&(A.mergeArray(h.color,k,"mlc"),A.mergeArrayCastPositive(h.width,k,"mlw"))}}},20832:function(Y,P,e){var A=e(52904),k=e(29736).axisHoverFormat,a=e(21776).Ks,w=e(21776).Gw,b=e(49084),h=e(25376),o=e(78048),t=e(98192).c,i=e(92880).extendFlat,n=h({editType:"calc",arrayOk:!0,colorEditType:"style"}),r=i({},A.marker.line.width,{dflt:0}),s=i({width:r,editType:"calc"},b("marker.line")),l=i({line:s,editType:"calc"},b("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t,cornerradius:{valType:"any",editType:"calc"}});Y.exports={x:A.x,x0:A.x0,dx:A.dx,y:A.y,y0:A.y0,dy:A.dy,xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:A.xperiod0,yperiod0:A.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,xhoverformat:k("x"),yhoverformat:k("y"),text:A.text,texttemplate:w({editType:"plot"},{keys:o.eventDataKeys}),hovertext:A.hovertext,hovertemplate:a({},{keys:o.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:i({},n,{}),insidetextfont:i({},n,{}),outsidetextfont:i({},n,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:i({},A.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:l,offsetgroup:A.offsetgroup,alignmentgroup:A.alignmentgroup,selected:{marker:{opacity:A.selected.marker.opacity,color:A.selected.marker.color,editType:"style"},textfont:A.selected.textfont,editType:"style"},unselected:{marker:{opacity:A.unselected.marker.opacity,color:A.unselected.marker.color,editType:"style"},textfont:A.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},71820:function(Y,P,e){var A=e(54460),k=e(1220),a=e(94288).hasColorscale,w=e(47128),b=e(84664),h=e(4500);Y.exports=function(o,t){var i,n,r,s,l,u,d=A.getFromId(o,t.xaxis||"x"),c=A.getFromId(o,t.yaxis||"y"),x={msUTC:!(!t.base&&t.base!==0)};t.orientation==="h"?(i=d.makeCalcdata(t,"x",x),r=c.makeCalcdata(t,"y"),s=k(t,c,"y",r),l=!!t.yperiodalignment,u="y"):(i=c.makeCalcdata(t,"y",x),r=d.makeCalcdata(t,"x"),s=k(t,d,"x",r),l=!!t.xperiodalignment,u="x"),n=s.vals;for(var g=Math.min(n.length,i.length),p=new Array(g),v=0;v<g;v++)p[v]={p:n[v],s:i[v]},l&&(p[v].orig_p=r[v],p[v][u+"End"]=s.ends[v],p[v][u+"Start"]=s.starts[v]),t.ids&&(p[v].id=String(t.ids[v]));return a(t,"marker")&&w(o,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),a(t,"marker.line")&&w(o,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),b(p,t),h(p,t),p}},78048:function(Y){Y.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},96376:function(Y,P,e){var A=e(38248),k=e(3400).isArrayOrTypedArray,a=e(39032).BADNUM,w=e(24040),b=e(54460),h=e(71888).getAxisGroup,o=e(72592);function t(g,p,v,y,m){if(y.length){var _,f,S,T;switch(function(E,C){var O,I;for(O=0;O<C.length;O++){var z,U=C[O],D=U[0].trace,B=D.type==="funnel"?D._base:D.base,Z=D.orientation==="h"?D.xcalendar:D.ycalendar,F=E.type==="category"||E.type==="multicategory"?function(){return null}:E.d2c;if(k(B)){for(I=0;I<Math.min(B.length,U.length);I++)z=F(B[I],0,Z),A(z)?(U[I].b=+z,U[I].hasB=1):U[I].b=0;for(;I<U.length;I++)U[I].b=0}else{z=F(B,0,Z);var j=A(z);for(z=j?z:0,I=0;I<U.length;I++)U[I].b=z,j&&(U[I].hasB=1)}}}(v,y),m.mode){case"overlay":i(p,v,y,m);break;case"group":for(_=[],f=[],S=0;S<y.length;S++)(T=y[S])[0].trace.offset===void 0?f.push(T):_.push(T);f.length&&function(E,C,O,I,z){var U=new o(I,{posAxis:C,sepNegVal:!1,overlapNoMerge:!z.norm});(function(D,B,Z,F){for(var j=D._fullLayout,V=Z.positions,te=Z.distinctPositions,Q=Z.minDiff,$=Z.traces,G=$.length,X=V.length!==te.length,J=Q*(1-F.gap),ne=h(j,B._id)+$[0][0].trace.orientation,ie=j._alignmentOpts[ne]||{},ae=0;ae<G;ae++){var le,ce,pe=$[ae],ge=pe[0].trace,me=ie[ge.alignmentgroup]||{},ve=Object.keys(me.offsetGroups||{}).length,Me=(le=ve?J/ve:X?J/G:J)*(1-(F.groupgap||0));ce=ve?((2*ge._offsetIndex+1-ve)*le-Me)/2:X?((2*ae+1-G)*le-Me)/2:-Me/2;var _e=pe[0].t;_e.barwidth=Me,_e.poffset=ce,_e.bargroupwidth=J,_e.bardelta=Q}Z.binWidth=$[0][0].t.barwidth/100,r(Z),s(B,Z),l(B,Z,X)})(E,C,U,z),function(D,B){for(var Z=D.traces,F=0;F<Z.length;F++){var j=Z[F];if(j[0].trace.base===void 0)for(var V=new o([j],{posAxis:B,sepNegVal:!0,overlapNoMerge:!0}),te=0;te<j.length;te++){var Q=j[te];if(Q.p!==a){var $=V.put(Q.p,Q.b+Q.s);$&&(Q.b=$)}}}}(U,C),z.norm?(d(U),c(O,U,z)):u(O,U)}(g,p,v,f,m),_.length&&i(p,v,_,m);break;case"stack":case"relative":for(_=[],f=[],S=0;S<y.length;S++)(T=y[S])[0].trace.base===void 0?f.push(T):_.push(T);(function(E){if(!(E.length<2)){var C,O,I,z,U,D;for(C=0;C<E.length&&(z=(O=E[C][0].trace).marker?O.marker.cornerradius:void 0)===void 0;C++);if(z!==void 0)for(U=A(z)?+z:+z.slice(0,-1),D=A(z)?"px":"%",C=0;C<E.length;C++)(I=E[C][0].t).cornerradiusvalue=U,I.cornerradiusform=D}})(f),f.length&&function(E,C,O,I,z){var U=new o(I,{posAxis:C,sepNegVal:z.mode==="relative",overlapNoMerge:!(z.norm||z.mode==="stack"||z.mode==="relative")});n(C,U,z),function(j,V,te){var Q,$,G,X,J,ne,ie=x(j),ae=V.traces;for(X=0;X<ae.length;X++)if(($=(Q=ae[X])[0].trace).type==="funnel")for(J=0;J<Q.length;J++)(ne=Q[J]).s!==a&&V.put(ne.p,-.5*ne.s);for(X=0;X<ae.length;X++){G=($=(Q=ae[X])[0].trace).type==="funnel";var le=[];for(J=0;J<Q.length;J++)if((ne=Q[J]).s!==a){var ce;ce=G?ne.s:ne.s+ne.b;var pe=V.put(ne.p,ce),ge=pe+ce;ne.b=pe,ne[ie]=ge,te.norm||(le.push(ge),ne.hasB&&le.push(pe))}te.norm||($._extremes[j._id]=b.findExtremes(j,le,{tozero:!0,padded:!0}))}}(O,U,z);for(var D=0;D<I.length;D++)for(var B=I[D],Z=0;Z<B.length;Z++){var F=B[Z];F.s!==a&&F.b+F.s===U.get(F.p,F.s)&&(F._outmost=!0)}z.norm&&c(O,U,z)}(0,p,v,f,m),_.length&&i(p,v,_,m)}(function(E){var C,O,I,z,U,D,B;for(C=0;C<E.length;C++)I=(O=E[C])[0].trace,(z=O[0].t).cornerradiusvalue===void 0&&(U=I.marker?I.marker.cornerradius:void 0)!==void 0&&(D=A(U)?+U:+U.slice(0,-1),B=A(U)?"px":"%",z.cornerradiusvalue=D,z.cornerradiusform=B)})(y),function(E,C){var O,I,z,U=x(C),D={},B=1/0,Z=-1/0;for(O=0;O<E.length;O++)for(z=E[O],I=0;I<z.length;I++){var F=z[I].p;A(F)&&(B=Math.min(B,F),Z=Math.max(Z,F))}var j=1e4/(Z-B),V=D.round=function(ge){return String(Math.round(j*(ge-B)))},te={},Q={},$=E.some(function(ge){var me=ge[0].trace;return"marker"in me&&me.marker.cornerradius});for(O=0;O<E.length;O++){(z=E[O])[0].t.extents=D;var G=z[0].t.poffset,X=k(G);for(I=0;I<z.length;I++){var J=z[I],ne=J[U]-J.w/2;if(A(ne)){var ie=J[U]+J.w/2,ae=V(J.p);D[ae]?D[ae]=[Math.min(ne,D[ae][0]),Math.max(ie,D[ae][1])]:D[ae]=[ne,ie]}if(J.p0=J.p+(X?G[I]:G),J.p1=J.p0+J.w,J.s0=J.b,J.s1=J.s0+J.s,$){var le=Math.min(J.s0,J.s1)||0,ce=Math.max(J.s0,J.s1)||0,pe=J[U];te[pe]=pe in te?Math.min(te[pe],le):le,Q[pe]=pe in Q?Math.max(Q[pe],ce):ce}}}$&&function(ge,me,ve,Me){for(var _e=x(Me),we=0;we<ge.length;we++)for(var oe=ge[we],se=0;se<oe.length;se++){var de=oe[se],Ee=de[_e];de._sMin=me[Ee],de._sMax=ve[Ee]}}(E,te,Q,C)}(y,p)}}function i(g,p,v,y){for(var m=0;m<v.length;m++){var _=v[m],f=new o([_],{posAxis:g,sepNegVal:!1,overlapNoMerge:!y.norm});n(g,f,y),y.norm?(d(f),c(p,f,y)):u(p,f)}}function n(g,p,v){for(var y=p.minDiff,m=p.traces,_=y*(1-v.gap),f=_*(1-(v.groupgap||0)),S=-f/2,T=0;T<m.length;T++){var E=m[T][0].t;E.barwidth=f,E.poffset=S,E.bargroupwidth=_,E.bardelta=y}p.binWidth=m[0][0].t.barwidth/100,r(p),s(g,p),l(g,p)}function r(g){var p,v,y=g.traces;for(p=0;p<y.length;p++){var m,_=y[p],f=_[0],S=f.trace,T=f.t,E=S._offset||S.offset,C=T.poffset;if(k(E)){for(m=Array.prototype.slice.call(E,0,_.length),v=0;v<m.length;v++)A(m[v])||(m[v]=C);for(v=m.length;v<_.length;v++)m.push(C);T.poffset=m}else E!==void 0&&(T.poffset=E);var O=S._width||S.width,I=T.barwidth;if(k(O)){var z=Array.prototype.slice.call(O,0,_.length);for(v=0;v<z.length;v++)A(z[v])||(z[v]=I);for(v=z.length;v<_.length;v++)z.push(I);if(T.barwidth=z,E===void 0){for(m=[],v=0;v<_.length;v++)m.push(C+(I-z[v])/2);T.poffset=m}}else O!==void 0&&(T.barwidth=O,E===void 0&&(T.poffset=C+(I-O)/2))}}function s(g,p){for(var v=p.traces,y=x(g),m=0;m<v.length;m++)for(var _=v[m],f=_[0].t,S=f.poffset,T=k(S),E=f.barwidth,C=k(E),O=0;O<_.length;O++){var I=_[O],z=I.w=C?E[O]:E;I.p===void 0&&(I.p=I[y],I["orig_"+y]=I[y]);var U=(T?S[O]:S)+z/2;I[y]=I.p+U}}function l(g,p,v){var y=p.traces,m=p.minDiff/2;b.minDtick(g,p.minDiff,p.distinctPositions[0],v);for(var _=0;_<y.length;_++){var f,S,T,E,C=y[_],O=C[0],I=O.trace,z=[];for(E=0;E<C.length;E++)S=(f=C[E]).p-m,T=f.p+m,z.push(S,T);if(I.width||I.offset){var U=O.t,D=U.poffset,B=U.barwidth,Z=k(D),F=k(B);for(E=0;E<C.length;E++){f=C[E];var j=Z?D[E]:D,V=F?B[E]:B;T=(S=f.p+j)+V,z.push(S,T)}}I._extremes[g._id]=b.findExtremes(g,z,{padded:!1})}}function u(g,p){for(var v=p.traces,y=x(g),m=0;m<v.length;m++){for(var _=v[m],f=_[0].trace,S=f.type==="scatter",T=f.orientation==="v",E=[],C=!1,O=0;O<_.length;O++){var I=_[O],z=S?0:I.b,U=S?T?I.y:I.x:z+I.s;I[y]=U,E.push(U),I.hasB&&E.push(z),I.hasB&&I.b||(C=!0)}f._extremes[g._id]=b.findExtremes(g,E,{tozero:C,padded:!0})}}function d(g){for(var p=g.traces,v=0;v<p.length;v++)for(var y=p[v],m=0;m<y.length;m++){var _=y[m];_.s!==a&&g.put(_.p,_.b+_.s)}}function c(g,p,v){var y=p.traces,m=x(g),_=v.norm==="fraction"?1:100,f=_/1e9,S=g.l2c(g.c2l(0)),T=v.mode==="stack"?_:S;function E(te){return A(g.c2l(te))&&(te<S-f||te>T+f||!A(S))}for(var C=0;C<y.length;C++){for(var O=y[C],I=O[0].trace,z=[],U=!1,D=!1,B=0;B<O.length;B++){var Z=O[B];if(Z.s!==a){var F=Math.abs(_/p.get(Z.p,Z.s));Z.b*=F,Z.s*=F;var j=Z.b,V=j+Z.s;Z[m]=V,z.push(V),D=D||E(V),Z.hasB&&(z.push(j),D=D||E(j)),Z.hasB&&Z.b||(U=!0)}}I._extremes[g._id]=b.findExtremes(g,z,{tozero:U,padded:D})}}function x(g){return g._id.charAt(0)}Y.exports={crossTraceCalc:function(g,p){for(var v=p.xaxis,y=p.yaxis,m=g._fullLayout,_=g._fullData,f=g.calcdata,S=[],T=[],E=0;E<_.length;E++){var C=_[E];if(C.visible===!0&&w.traceIs(C,"bar")&&C.xaxis===v._id&&C.yaxis===y._id&&(C.orientation==="h"?S.push(f[E]):T.push(f[E]),C._computePh))for(var O=g.calcdata[E],I=0;I<O.length;I++)typeof O[I].ph0=="function"&&(O[I].ph0=O[I].ph0()),typeof O[I].ph1=="function"&&(O[I].ph1=O[I].ph1())}var z={xCat:v.type==="category"||v.type==="multicategory",yCat:y.type==="category"||y.type==="multicategory",mode:m.barmode,norm:m.barnorm,gap:m.bargap,groupgap:m.bargroupgap};t(g,v,y,T,z),t(g,y,v,S,z)},setGroupPositions:t}},31508:function(Y,P,e){var A=e(38248),k=e(3400),a=e(76308),w=e(24040),b=e(43980),h=e(31147),o=e(55592),t=e(20011),i=e(20832),n=k.coerceFont;function r(l){if(A(l)){if((l=+l)>=0)return l}else if(typeof l=="string"&&(l=l.trim()).slice(-1)==="%"&&A(l.slice(0,-1))&&(l=+l.slice(0,-1))>=0)return l+"%"}function s(l,u,d,c,x,g){var p=(g=g||{}).moduleHasSelected!==!1,v=g.moduleHasUnselected!==!1,y=g.moduleHasConstrain!==!1,m=g.moduleHasCliponaxis!==!1,_=g.moduleHasTextangle!==!1,f=g.moduleHasInsideanchor!==!1,S=!!g.hasPathbar,T=Array.isArray(x)||x==="auto",E=T||x==="inside",C=T||x==="outside";if(E||C){var O=n(c,"textfont",d.font),I=k.extendFlat({},O),z=!(l.textfont&&l.textfont.color);if(z&&delete I.color,n(c,"insidetextfont",I),S){var U=k.extendFlat({},O);z&&delete U.color,n(c,"pathbar.textfont",U)}C&&n(c,"outsidetextfont",O),p&&c("selected.textfont.color"),v&&c("unselected.textfont.color"),y&&c("constraintext"),m&&c("cliponaxis"),_&&c("textangle"),c("texttemplate")}E&&f&&c("insidetextanchor")}Y.exports={supplyDefaults:function(l,u,d,c){function x(y,m){return k.coerce(l,u,i,y,m)}if(b(l,u,c,x)){h(l,u,c,x),x("xhoverformat"),x("yhoverformat"),x("orientation",u.x&&!u.y?"h":"v"),x("base"),x("offset"),x("width"),x("text"),x("hovertext"),x("hovertemplate");var g=x("textposition");s(l,0,c,x,g,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),o(l,u,x,d,c);var p=(u.marker.line||{}).color,v=w.getComponentMethod("errorbars","supplyDefaults");v(l,u,p||a.defaultLine,{axis:"y"}),v(l,u,p||a.defaultLine,{axis:"x",inherit:"y"}),k.coerceSelectionMarkerOpacity(u,x)}else u.visible=!1},crossTraceDefaults:function(l,u){var d,c;function x(v,y){return k.coerce(c._input,c,i,v,y)}for(var g=0;g<l.length;g++)if((c=l[g]).type==="bar"){d=c._input;var p=x("marker.cornerradius",u.barcornerradius);c.marker&&(c.marker.cornerradius=r(p)),u.barmode==="group"&&t(d,c,u,x)}},handleText:s,validateCornerradius:r}},52160:function(Y){Y.exports=function(P,e,A){return P.x="xVal"in e?e.xVal:e.x,P.y="yVal"in e?e.yVal:e.y,e.xa&&(P.xaxis=e.xa),e.ya&&(P.yaxis=e.ya),A.orientation==="h"?(P.label=P.y,P.value=P.x):(P.label=P.x,P.value=P.y),P}},60444:function(Y,P,e){var A=e(38248),k=e(49760),a=e(3400).isArrayOrTypedArray;P.coerceString=function(w,b,h){if(typeof b=="string"){if(b||!w.noBlank)return b}else if((typeof b=="number"||b===!0)&&!w.strict)return String(b);return h!==void 0?h:w.dflt},P.coerceNumber=function(w,b,h){if(A(b)){b=+b;var o=w.min,t=w.max;if(!(o!==void 0&&b<o||t!==void 0&&b>t))return b}return h!==void 0?h:w.dflt},P.coerceColor=function(w,b,h){return k(b).isValid()?b:h!==void 0?h:w.dflt},P.coerceEnumerated=function(w,b,h){return w.coerceNumber&&(b=+b),w.values.indexOf(b)!==-1?b:h!==void 0?h:w.dflt},P.getValue=function(w,b){var h;return a(w)?b<w.length&&(h=w[b]):h=w,h},P.getLineWidth=function(w,b){return 0<b.mlw?b.mlw:a(w.marker.line.width)?0:w.marker.line.width}},63400:function(Y,P,e){var A=e(93024),k=e(24040),a=e(76308),w=e(3400).fillText,b=e(60444).getLineWidth,h=e(54460).hoverLabelText,o=e(39032).BADNUM;function t(n,r,s,l,u){var d,c,x,g,p,v,y,m=n.cd,_=m[0].trace,f=m[0].t,S=l==="closest",T=_.type==="waterfall",E=n.maxHoverDistance,C=n.maxSpikeDistance;_.orientation==="h"?(d=s,c=r,x="y",g="x",p=Q,v=V):(d=r,c=s,x="x",g="y",v=Q,p=V);var O=_[x+"period"],I=S||O;function z(le){return D(le,-1)}function U(le){return D(le,1)}function D(le,ce){var pe=le.w;return le[x]+ce*pe/2}function B(le){return le[x+"End"]-le[x+"Start"]}var Z=S?z:O?function(le){return le.p-B(le)/2}:function(le){return Math.min(z(le),le.p-f.bardelta/2)},F=S?U:O?function(le){return le.p+B(le)/2}:function(le){return Math.max(U(le),le.p+f.bardelta/2)};function j(le,ce,pe){return u.finiteRange&&(pe=0),A.inbox(le-d,ce-d,pe+Math.min(1,Math.abs(ce-le)/y)-1)}function V(le){return j(Z(le),F(le),E)}function te(le){var ce=le[g];if(T){var pe=Math.abs(le.rawS)||0;c>0?ce+=pe:c<0&&(ce-=pe)}return ce}function Q(le){var ce=c,pe=le.b,ge=te(le);return A.inbox(pe-ce,ge-ce,E+(ge-ce)/(ge-pe)-1)}var $=n[x+"a"],G=n[g+"a"];y=Math.abs($.r2c($.range[1])-$.r2c($.range[0]));var X=A.getDistanceFunction(l,p,v,function(le){return(p(le)+v(le))/2});if(A.getClosest(m,X,n),n.index!==!1&&m[n.index].p!==o){I||(Z=function(le){return Math.min(z(le),le.p-f.bargroupwidth/2)},F=function(le){return Math.max(U(le),le.p+f.bargroupwidth/2)});var J=m[n.index],ne=_.base?J.b+J.s:J.s;n[g+"0"]=n[g+"1"]=G.c2p(J[g],!0),n[g+"LabelVal"]=ne;var ie=f.extents[f.extents.round(J.p)];n[x+"0"]=$.c2p(S?Z(J):ie[0],!0),n[x+"1"]=$.c2p(S?F(J):ie[1],!0);var ae=J.orig_p!==void 0;return n[x+"LabelVal"]=ae?J.orig_p:J.p,n.labelLabel=h($,n[x+"LabelVal"],_[x+"hoverformat"]),n.valueLabel=h(G,n[g+"LabelVal"],_[g+"hoverformat"]),n.baseLabel=h(G,J.b,_[g+"hoverformat"]),n.spikeDistance=(function(le){var ce=c,pe=le.b,ge=te(le);return A.inbox(pe-ce,ge-ce,C+(ge-ce)/(ge-pe)-1)}(J)+function(le){return j(z(le),U(le),C)}(J))/2,n[x+"Spike"]=$.c2p(J.p,!0),w(J,_,n),n.hovertemplate=_.hovertemplate,n}}function i(n,r){var s=r.mcc||n.marker.color,l=r.mlcc||n.marker.line.color,u=b(n,r);return a.opacity(s)?s:a.opacity(l)&&u?l:void 0}Y.exports={hoverPoints:function(n,r,s,l,u){var d=t(n,r,s,l,u);if(d){var c=d.cd,x=c[0].trace,g=c[d.index];return d.color=i(x,g),k.getComponentMethod("errorbars","hoverInfo")(g,x,d),[d]}},hoverOnBars:t,getTraceColor:i}},51132:function(Y,P,e){Y.exports={attributes:e(20832),layoutAttributes:e(39324),supplyDefaults:e(31508).supplyDefaults,crossTraceDefaults:e(31508).crossTraceDefaults,supplyLayoutDefaults:e(37156),calc:e(71820),crossTraceCalc:e(96376).crossTraceCalc,colorbar:e(5528),arraysToCalcdata:e(84664),plot:e(98184).plot,style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(63400).hoverPoints,eventData:e(52160),selectPoints:e(45784),moduleType:"trace",name:"bar",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},39324:function(Y){Y.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},37156:function(Y,P,e){var A=e(24040),k=e(54460),a=e(3400),w=e(39324),b=e(31508).validateCornerradius;Y.exports=function(h,o,t){function i(p,v){return a.coerce(h,o,w,p,v)}for(var n=!1,r=!1,s=!1,l={},u=i("barmode"),d=0;d<t.length;d++){var c=t[d];if(A.traceIs(c,"bar")&&c.visible){if(n=!0,u==="group"){var x=c.xaxis+c.yaxis;l[x]&&(s=!0),l[x]=!0}c.visible&&c.type==="histogram"&&k.getFromId({_fullLayout:o},c[c.orientation==="v"?"xaxis":"yaxis"]).type!=="category"&&(r=!0)}}if(n){u!=="overlay"&&i("barnorm"),i("bargap",r&&!s?0:.2),i("bargroupgap");var g=i("barcornerradius");o.barcornerradius=b(g)}else delete o.barmode}},98184:function(Y,P,e){var A=e(33428),k=e(38248),a=e(3400),w=e(72736),b=e(76308),h=e(43616),o=e(24040),t=e(54460).tickText,i=e(82744),n=i.recordMinTextSize,r=i.clearMinTextSize,s=e(60100),l=e(60444),u=e(78048),d=e(20832),c=d.text,x=d.textposition,g=e(10624).appendArrayPointValue,p=u.TEXTPAD;function v(I){return I.id}function y(I){if(I.ids)return v}function m(I){return(I>0)-(I<0)}function _(I,z){return I<z?1:-1}function f(I,z,U,D){var B;return!z.uniformtext.mode&&S(U)?(D&&(B=D()),I.transition().duration(U.duration).ease(U.easing).each("end",function(){B&&B()}).each("interrupt",function(){B&&B()})):I}function S(I){return I&&I.duration>0}function T(I,z,U,D,B){return!(I<0||z<0)&&(U<=I&&D<=z||U<=z&&D<=I||(B?I>=U*(z/D):z>=D*(I/U)))}function E(I){return I==="auto"?0:I}function C(I,z){var U=Math.PI/180*z,D=Math.abs(Math.sin(U)),B=Math.abs(Math.cos(U));return{x:I.width*B+I.height*D,y:I.width*D+I.height*B}}function O(I,z,U,D,B,Z){var F=!!Z.isHorizontal,j=!!Z.constrained,V=Z.angle||0,te=Z.anchor,Q=te==="end",$=te==="start",G=((Z.leftToRight||0)+1)/2,X=1-G,J=Z.hasB,ne=Z.r,ie=Z.overhead,ae=B.width,le=B.height,ce=Math.abs(z-I),pe=Math.abs(D-U),ge=ce>2*p&&pe>2*p?p:0;ce-=2*ge,pe-=2*ge;var me=E(V);V!=="auto"||ae<=ce&&le<=pe||!(ae>ce||le>pe)||(ae>pe||le>ce)&&ae<le==ce<pe||(me+=90);var ve,Me,_e=C(B,me);if(ne&&ne-ie>p){var we=function(he,xe,ke,Re,ze,Ie,He,qe,Je){var st,it,vt,_t,xt=Math.max(0,Math.abs(xe-he)-2*p),et=Math.max(0,Math.abs(Re-ke)-2*p),nt=Ie-p,Mt=He?nt-Math.sqrt(nt*nt-(nt-He)*(nt-He)):nt,zt=Je?2*nt:qe?nt-He:2*Mt,Ft=Je?2*nt:qe?2*Mt:nt-He;return ze.y/ze.x>=et/(xt-zt)?_t=et/ze.y:ze.y/ze.x<=(et-Ft)/xt?_t=xt/ze.x:!Je&&qe?(st=ze.x*ze.x+ze.y*ze.y/4,vt=(xt-nt)*(xt-nt)+(et/2-nt)*(et/2-nt)-nt*nt,_t=(-(it=-2*ze.x*(xt-nt)-ze.y*(et/2-nt))+Math.sqrt(it*it-4*st*vt))/(2*st)):Je?(st=(ze.x*ze.x+ze.y*ze.y)/4,vt=(xt/2-nt)*(xt/2-nt)+(et/2-nt)*(et/2-nt)-nt*nt,_t=(-(it=-ze.x*(xt/2-nt)-ze.y*(et/2-nt))+Math.sqrt(it*it-4*st*vt))/(2*st)):(st=ze.x*ze.x/4+ze.y*ze.y,vt=(xt/2-nt)*(xt/2-nt)+(et-nt)*(et-nt)-nt*nt,_t=(-(it=-ze.x*(xt/2-nt)-2*ze.y*(et-nt))+Math.sqrt(it*it-4*st*vt))/(2*st)),{scale:_t=Math.min(1,_t),pad:qe?Math.max(0,nt-Math.sqrt(Math.max(0,nt*nt-(nt-(et-ze.y*_t)/2)*(nt-(et-ze.y*_t)/2)))-He):Math.max(0,nt-Math.sqrt(Math.max(0,nt*nt-(nt-(xt-ze.x*_t)/2)*(nt-(xt-ze.x*_t)/2)))-He)}}(I,z,U,D,_e,ne,ie,F,J);ve=we.scale,Me=we.pad}else ve=1,j&&(ve=Math.min(1,ce/_e.x,pe/_e.y)),Me=0;var oe=B.left*X+B.right*G,se=(B.top+B.bottom)/2,de=(I+p)*X+(z-p)*G,Ee=(U+D)/2,Te=0,Se=0;if($||Q){var Le=(F?_e.x:_e.y)/2;ne&&(Q||J)&&(ge+=Me);var Oe=F?_(I,z):_(U,D);F?$?(de=I+Oe*ge,Te=-Oe*Le):(de=z-Oe*ge,Te=Oe*Le):$?(Ee=U+Oe*ge,Se=-Oe*Le):(Ee=D-Oe*ge,Se=Oe*Le)}return{textX:oe,textY:se,targetX:de,targetY:Ee,anchorX:Te,anchorY:Se,scale:ve,rotate:me}}Y.exports={plot:function(I,z,U,D,B,Z){var F=z.xaxis,j=z.yaxis,V=I._fullLayout,te=I._context.staticPlot;B||(B={mode:V.barmode,norm:V.barmode,gap:V.bargap,groupgap:V.bargroupgap},r("bar",V));var Q=a.makeTraceGroups(D,U,"trace bars").each(function($){var G=A.select(this),X=$[0].trace,J=$[0].t,ne=X.type==="waterfall",ie=X.type==="funnel",ae=X.type==="histogram",le=X.type==="bar",ce=le||ie,pe=0;ne&&X.connector.visible&&X.connector.mode==="between"&&(pe=X.connector.line.width/2);var ge=X.orientation==="h",me=S(B),ve=a.ensureSingle(G,"g","points"),Me=y(X),_e=ve.selectAll("g.point").data(a.identity,Me);_e.enter().append("g").classed("point",!0),_e.exit().remove(),_e.each(function(oe,se){var de,Ee,Te=A.select(this),Se=function(at,Fe,Be,ot){var Xe=[],pt=[],mt=ot?Fe:Be,yt=ot?Be:Fe;return Xe[0]=mt.c2p(at.s0,!0),pt[0]=yt.c2p(at.p0,!0),Xe[1]=mt.c2p(at.s1,!0),pt[1]=yt.c2p(at.p1,!0),ot?[Xe,pt]:[pt,Xe]}(oe,F,j,ge),Le=Se[0][0],Oe=Se[0][1],he=Se[1][0],xe=Se[1][1],ke=(ge?Oe-Le:xe-he)==0;if(ke&&ce&&l.getLineWidth(X,oe)&&(ke=!1),ke||(ke=!(k(Le)&&k(Oe)&&k(he)&&k(xe))),oe.isBlank=ke,ke&&(ge?Oe=Le:xe=he),pe&&!ke&&(ge?(Le-=_(Le,Oe)*pe,Oe+=_(Le,Oe)*pe):(he-=_(he,xe)*pe,xe+=_(he,xe)*pe)),X.type==="waterfall"){if(!ke){var Re=X[oe.dir].marker;de=Re.line.width,Ee=Re.color}}else de=l.getLineWidth(X,oe),Ee=oe.mc||X.marker.color;function ze(at){var Fe=A.round(de/2%1,2);return B.gap===0&&B.groupgap===0?A.round(Math.round(at)-Fe,2):at}var Ie=b.opacity(Ee)<1||de>.01?ze:function(at,Fe,Be){return Be&&at===Fe?at:Math.abs(at-Fe)>=2?ze(at):at>Fe?Math.ceil(at):Math.floor(at)};I._context.staticPlot||(Le=Ie(Le,Oe,ge),Oe=Ie(Oe,Le,ge),he=Ie(he,xe,!ge),xe=Ie(xe,he,!ge));var He,qe=ge?F.c2p:j.c2p;He=oe.s0>0?oe._sMax:oe.s0<0?oe._sMin:oe.s1>0?oe._sMax:oe._sMin;var Je,st,it=le||ae?function(at,Fe){if(!at)return 0;var Be,ot=Math.abs(ge?xe-he:Oe-Le),Xe=Math.abs(ge?Oe-Le:xe-he),pt=Ie(Math.abs(qe(He,!0)-qe(0,!0))),mt=oe.hasB?Math.min(ot/2,Xe/2):Math.min(ot/2,pt);return Be=Fe==="%"?ot*(Math.min(50,at)/100):at,Ie(Math.max(Math.min(Be,mt),0))}(J.cornerradiusvalue,J.cornerradiusform):0,vt="M"+Le+","+he+"V"+xe+"H"+Oe+"V"+he+"Z",_t=0;if(it&&oe.s){var xt=m(oe.s0)===0||m(oe.s)===m(oe.s0)?oe.s1:oe.s0;if((_t=Ie(oe.hasB?0:Math.abs(qe(He,!0)-qe(xt,!0))))<it){var et=_(Le,Oe),nt=_(he,xe),Mt=et===-nt?1:0;if(ge)if(oe.hasB)Je="M"+(Le+it*et)+","+he+"A "+it+","+it+" 0 0 "+Mt+" "+Le+","+(he+it*nt)+"V"+(xe-it*nt)+"A "+it+","+it+" 0 0 "+Mt+" "+(Le+it*et)+","+xe+"H"+(Oe-it*et)+"A "+it+","+it+" 0 0 "+Mt+" "+Oe+","+(xe-it*nt)+"V"+(he+it*nt)+"A "+it+","+it+" 0 0 "+Mt+" "+(Oe-it*et)+","+he+"Z";else{var zt=(st=Math.abs(Oe-Le)+_t)<it?it-Math.sqrt(st*(2*it-st)):0,Ft=_t>0?Math.sqrt(_t*(2*it-_t)):0,Rt=et>0?Math.max:Math.min;Je="M"+Le+","+he+"V"+(xe-zt*nt)+"H"+Rt(Oe-(it-_t)*et,Le)+"A "+it+","+it+" 0 0 "+Mt+" "+Oe+","+(xe-it*nt-Ft)+"V"+(he+it*nt+Ft)+"A "+it+","+it+" 0 0 "+Mt+" "+Rt(Oe-(it-_t)*et,Le)+","+(he+zt*nt)+"Z"}else if(oe.hasB)Je="M"+(Le+it*et)+","+he+"A "+it+","+it+" 0 0 "+Mt+" "+Le+","+(he+it*nt)+"V"+(xe-it*nt)+"A "+it+","+it+" 0 0 "+Mt+" "+(Le+it*et)+","+xe+"H"+(Oe-it*et)+"A "+it+","+it+" 0 0 "+Mt+" "+Oe+","+(xe-it*nt)+"V"+(he+it*nt)+"A "+it+","+it+" 0 0 "+Mt+" "+(Oe-it*et)+","+he+"Z";else{var We=(st=Math.abs(xe-he)+_t)<it?it-Math.sqrt(st*(2*it-st)):0,Ze=_t>0?Math.sqrt(_t*(2*it-_t)):0,Ne=nt>0?Math.max:Math.min;Je="M"+(Le+We*et)+","+he+"V"+Ne(xe-(it-_t)*nt,he)+"A "+it+","+it+" 0 0 "+Mt+" "+(Le+it*et-Ze)+","+xe+"H"+(Oe-it*et+Ze)+"A "+it+","+it+" 0 0 "+Mt+" "+(Oe-We*et)+","+Ne(xe-(it-_t)*nt,he)+"V"+he+"Z"}}else Je=vt}else Je=vt;var Ye=f(a.ensureSingle(Te,"path"),V,B,Z);if(Ye.style("vector-effect",te?"none":"non-scaling-stroke").attr("d",isNaN((Oe-Le)*(xe-he))||ke&&I._context.staticPlot?"M0,0Z":Je).call(h.setClipUrl,z.layerClipId,I),!V.uniformtext.mode&&me){var lt=h.makePointStyleFns(X);h.singlePointStyle(oe,Ye,X,lt,I)}(function(at,Fe,Be,ot,Xe,pt,mt,yt,ht,Lt,Tt,bt,Pt){var Ot,Bt=Fe.xaxis,Kt=Fe.yaxis,on=at._fullLayout;function qt(rr,Zt,mn){return a.ensureSingle(rr,"text").text(Zt).attr({class:"bartext bartext-"+Ot,"text-anchor":"middle","data-notex":1}).call(h.font,mn).call(w.convertToTspans,at)}var Wt=ot[0].trace,nn=Wt.orientation==="h",En=function(rr,Zt,mn,It,Xt){var tn,bn=Zt[0].trace;return tn=bn.texttemplate?function(yn,Tn,fn,Qt,en){var ln=Tn[0].trace,pn=a.castOption(ln,fn,"texttemplate");if(!pn)return"";var Sn,In,Vn,qn,$n=ln.type==="histogram",Zn=ln.type==="waterfall",or=ln.type==="funnel",tr=ln.orientation==="h";function Qn(Br){return t(qn,qn.c2l(Br),!0).text}tr?(Sn="y",In=en,Vn="x",qn=Qt):(Sn="x",In=Qt,Vn="y",qn=en);var mr,fr=Tn[fn],dr={};dr.label=fr.p,dr.labelLabel=dr[Sn+"Label"]=(mr=fr.p,t(In,In.c2l(mr),!0).text);var sr=a.castOption(ln,fr.i,"text");(sr===0||sr)&&(dr.text=sr),dr.value=fr.s,dr.valueLabel=dr[Vn+"Label"]=Qn(fr.s);var xr={};g(xr,ln,fr.i),($n||xr.x===void 0)&&(xr.x=tr?dr.value:dr.label),($n||xr.y===void 0)&&(xr.y=tr?dr.label:dr.value),($n||xr.xLabel===void 0)&&(xr.xLabel=tr?dr.valueLabel:dr.labelLabel),($n||xr.yLabel===void 0)&&(xr.yLabel=tr?dr.labelLabel:dr.valueLabel),Zn&&(dr.delta=+fr.rawS||fr.s,dr.deltaLabel=Qn(dr.delta),dr.final=fr.v,dr.finalLabel=Qn(dr.final),dr.initial=dr.final-dr.delta,dr.initialLabel=Qn(dr.initial)),or&&(dr.value=fr.s,dr.valueLabel=Qn(dr.value),dr.percentInitial=fr.begR,dr.percentInitialLabel=a.formatPercent(fr.begR),dr.percentPrevious=fr.difR,dr.percentPreviousLabel=a.formatPercent(fr.difR),dr.percentTotal=fr.sumR,dr.percenTotalLabel=a.formatPercent(fr.sumR));var Sr=a.castOption(ln,fr.i,"customdata");return Sr&&(dr.customdata=Sr),a.texttemplateString(pn,dr,yn._d3locale,xr,dr,ln._meta||{})}(rr,Zt,mn,It,Xt):bn.textinfo?function(yn,Tn,fn,Qt){var en=yn[0].trace,ln=en.orientation==="h",pn=en.type==="waterfall",Sn=en.type==="funnel";function In(Sr){return t(ln?fn:Qt,+Sr,!0).text}var Vn,qn,$n=en.textinfo,Zn=yn[Tn],or=$n.split("+"),tr=[],Qn=function(Sr){return or.indexOf(Sr)!==-1};if(Qn("label")&&tr.push((qn=yn[Tn].p,t(ln?Qt:fn,qn,!0).text)),Qn("text")&&((Vn=a.castOption(en,Zn.i,"text"))===0||Vn)&&tr.push(Vn),pn){var mr=+Zn.rawS||Zn.s,fr=Zn.v,dr=fr-mr;Qn("initial")&&tr.push(In(dr)),Qn("delta")&&tr.push(In(mr)),Qn("final")&&tr.push(In(fr))}if(Sn){Qn("value")&&tr.push(In(Zn.s));var sr=0;Qn("percent initial")&&sr++,Qn("percent previous")&&sr++,Qn("percent total")&&sr++;var xr=sr>1;Qn("percent initial")&&(Vn=a.formatPercent(Zn.begR),xr&&(Vn+=" of initial"),tr.push(Vn)),Qn("percent previous")&&(Vn=a.formatPercent(Zn.difR),xr&&(Vn+=" of previous"),tr.push(Vn)),Qn("percent total")&&(Vn=a.formatPercent(Zn.sumR),xr&&(Vn+=" of total"),tr.push(Vn))}return tr.join("<br>")}(Zt,mn,It,Xt):l.getValue(bn.text,mn),l.coerceString(c,tn)}(on,ot,Xe,Bt,Kt);Ot=function(rr,Zt){var mn=l.getValue(rr.textposition,Zt);return l.coerceEnumerated(x,mn)}(Wt,Xe);var Mn=bt.mode==="stack"||bt.mode==="relative",dn=ot[Xe],Jt=!Mn||dn._outmost,un=dn.hasB,rn=Lt&&Lt-Tt>p;if(En&&Ot!=="none"&&(!dn.isBlank&&pt!==mt&&yt!==ht||Ot!=="auto"&&Ot!=="inside")){var hn=on.font,kn=s.getBarColor(ot[Xe],Wt),Ln=s.getInsideTextFont(Wt,Xe,hn,kn),Dn=s.getOutsideTextFont(Wt,Xe,hn),zn=Wt.insidetextanchor||"end",On=Be.datum();nn?Bt.type==="log"&&On.s0<=0&&(pt=Bt.range[0]<Bt.range[1]?0:Bt._length):Kt.type==="log"&&On.s0<=0&&(yt=Kt.range[0]<Kt.range[1]?Kt._length:0);var Hn,jn,ar,ur,cr,er=Math.abs(mt-pt),Tr=Math.abs(ht-yt),Ht=er-2*p,an=Tr-2*p;if(Ot==="outside"&&(Jt||dn.hasB||(Ot="inside")),Ot==="auto")if(Jt){Ot="inside",Hn=qt(Be,En,cr=a.ensureUniformFontSize(at,Ln)),ar=(jn=h.bBox(Hn.node())).width,ur=jn.height;var _n,vn=ar>0&&ur>0;_n=rn?un?T(Ht-2*Lt,an,ar,ur,nn)||T(Ht,an-2*Lt,ar,ur,nn):nn?T(Ht-(Lt-Tt),an,ar,ur,nn)||T(Ht,an-2*(Lt-Tt),ar,ur,nn):T(Ht,an-(Lt-Tt),ar,ur,nn)||T(Ht-2*(Lt-Tt),an,ar,ur,nn):T(Ht,an,ar,ur,nn),vn&&_n?Ot="inside":(Ot="outside",Hn.remove(),Hn=null)}else Ot="inside";if(!Hn){var Cn=(Hn=qt(Be,En,cr=a.ensureUniformFontSize(at,Ot==="outside"?Dn:Ln))).attr("transform");if(Hn.attr("transform",""),ar=(jn=h.bBox(Hn.node())).width,ur=jn.height,Hn.attr("transform",Cn),ar<=0||ur<=0)return void Hn.remove()}var Gn,Fn=Wt.textangle;Gn=Ot==="outside"?function(rr,Zt,mn,It,Xt,tn){var bn,yn=!!tn.isHorizontal,Tn=!!tn.constrained,fn=tn.angle||0,Qt=Xt.width,en=Xt.height,ln=Math.abs(Zt-rr),pn=Math.abs(It-mn);bn=yn?pn>2*p?p:0:ln>2*p?p:0;var Sn=1;Tn&&(Sn=yn?Math.min(1,pn/en):Math.min(1,ln/Qt));var In=E(fn),Vn=C(Xt,In),qn=(yn?Vn.x:Vn.y)/2,$n=(Xt.left+Xt.right)/2,Zn=(Xt.top+Xt.bottom)/2,or=(rr+Zt)/2,tr=(mn+It)/2,Qn=0,mr=0,fr=yn?_(Zt,rr):_(mn,It);return yn?(or=Zt-fr*bn,Qn=fr*qn):(tr=It+fr*bn,mr=-fr*qn),{textX:$n,textY:Zn,targetX:or,targetY:tr,anchorX:Qn,anchorY:mr,scale:Sn,rotate:In}}(pt,mt,yt,ht,jn,{isHorizontal:nn,constrained:Wt.constraintext==="both"||Wt.constraintext==="outside",angle:Fn}):O(pt,mt,yt,ht,jn,{isHorizontal:nn,constrained:Wt.constraintext==="both"||Wt.constraintext==="inside",angle:Fn,anchor:zn,hasB:un,r:Lt,overhead:Tt}),Gn.fontSize=cr.size,n(Wt.type==="histogram"?"bar":Wt.type,Gn,on),dn.transform=Gn;var Nn=f(Hn,on,bt,Pt);a.setTransormAndDisplay(Nn,Gn)}else Be.select("text").remove()})(I,z,Te,$,se,Le,Oe,he,xe,it,_t,B,Z),z.layerClipId&&h.hideOutsideRangePoint(oe,Te.select("text"),F,j,X.xcalendar,X.ycalendar)});var we=X.cliponaxis===!1;h.setClipUrl(G,we?null:z.layerClipId,I)});o.getComponentMethod("errorbars","plot")(I,Q,z,B)},toMoveInsideBar:O}},45784:function(Y){function P(e,A,k,a,w){var b=A.c2p(a?e.s0:e.p0,!0),h=A.c2p(a?e.s1:e.p1,!0),o=k.c2p(a?e.p0:e.s0,!0),t=k.c2p(a?e.p1:e.s1,!0);return w?[(b+h)/2,(o+t)/2]:a?[h,(o+t)/2]:[(b+h)/2,t]}Y.exports=function(e,A){var k,a=e.cd,w=e.xaxis,b=e.yaxis,h=a[0].trace,o=h.type==="funnel",t=h.orientation==="h",i=[];if(A===!1)for(k=0;k<a.length;k++)a[k].selected=0;else for(k=0;k<a.length;k++){var n=a[k],r="ct"in n?n.ct:P(n,w,b,t,o);A.contains(r,!1,k,e)?(i.push({pointNumber:k,x:w.c2d(n.x),y:b.c2d(n.y)}),n.selected=1):n.selected=0}return i}},72592:function(Y,P,e){Y.exports=k;var A=e(3400).distinctVals;function k(a,w){this.traces=a,this.sepNegVal=w.sepNegVal,this.overlapNoMerge=w.overlapNoMerge;for(var b=1/0,h=w.posAxis._id.charAt(0),o=[],t=0;t<a.length;t++){for(var i=a[t],n=0;n<i.length;n++){var r=i[n],s=r.p;s===void 0&&(s=r[h]),s!==void 0&&o.push(s)}i[0]&&i[0].width1&&(b=Math.min(i[0].width1,b))}this.positions=o;var l=A(o);this.distinctPositions=l.vals,l.vals.length===1&&b!==1/0?this.minDiff=b:this.minDiff=Math.min(l.minDiff,b);var u=(w.posAxis||{}).type;u!=="category"&&u!=="multicategory"||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}k.prototype.put=function(a,w){var b=this.getLabel(a,w),h=this.bins[b]||0;return this.bins[b]=h+w,h},k.prototype.get=function(a,w){var b=this.getLabel(a,w);return this.bins[b]||0},k.prototype.getLabel=function(a,w){return(w<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?a:Math.round(a/this.binWidth))}},60100:function(Y,P,e){var A=e(33428),k=e(76308),a=e(43616),w=e(3400),b=e(24040),h=e(82744).resizeText,o=e(20832),t=o.textfont,i=o.insidetextfont,n=o.outsidetextfont,r=e(60444);function s(v,y,m){a.pointStyle(v.selectAll("path"),y,m),l(v,y,m)}function l(v,y,m){v.selectAll("text").each(function(_){var f=A.select(this),S=w.ensureUniformFontSize(m,u(f,_,y,m));a.font(f,S)})}function u(v,y,m,_){var f=_._fullLayout.font,S=m.textfont;if(v.classed("bartext-inside")){var T=p(y,m);S=c(m,y.i,f,T)}else v.classed("bartext-outside")&&(S=x(m,y.i,f));return S}function d(v,y,m){return g(t,v.textfont,y,m)}function c(v,y,m,_){var f=d(v,y,m);return(v._input.textfont===void 0||v._input.textfont.color===void 0||Array.isArray(v.textfont.color)&&v.textfont.color[y]===void 0)&&(f={color:k.contrast(_),family:f.family,size:f.size}),g(i,v.insidetextfont,y,f)}function x(v,y,m){var _=d(v,y,m);return g(n,v.outsidetextfont,y,_)}function g(v,y,m,_){y=y||{};var f=r.getValue(y.family,m),S=r.getValue(y.size,m),T=r.getValue(y.color,m);return{family:r.coerceString(v.family,f,_.family),size:r.coerceNumber(v.size,S,_.size),color:r.coerceColor(v.color,T,_.color)}}function p(v,y){return y.type==="waterfall"?y[v.dir].marker.color:v.mcc||v.mc||y.marker.color}Y.exports={style:function(v){var y=A.select(v).selectAll("g.barlayer").selectAll("g.trace");h(v,y,"bar");var m=y.size(),_=v._fullLayout;y.style("opacity",function(f){return f[0].trace.opacity}).each(function(f){(_.barmode==="stack"&&m>1||_.bargap===0&&_.bargroupgap===0&&!f[0].trace.marker.line.width)&&A.select(this).attr("shape-rendering","crispEdges")}),y.selectAll("g.points").each(function(f){s(A.select(this),f[0].trace,v)}),b.getComponentMethod("errorbars","style")(y)},styleTextPoints:l,styleOnSelect:function(v,y,m){var _=y[0].trace;_.selectedpoints?function(f,S,T){a.selectedPointStyle(f.selectAll("path"),S),function(E,C,O){E.each(function(I){var z,U=A.select(this);if(I.selected){z=w.ensureUniformFontSize(O,u(U,I,C,O));var D=C.selected.textfont&&C.selected.textfont.color;D&&(z.color=D),a.font(U,z)}else a.selectedTextStyle(U,C)})}(f.selectAll("text"),S,T)}(m,_,v):(s(m,_,v),b.getComponentMethod("errorbars","style")(m))},getInsideTextFont:c,getOutsideTextFont:x,getBarColor:p,resizeText:h}},55592:function(Y,P,e){var A=e(76308),k=e(94288).hasColorscale,a=e(27260),w=e(3400).coercePattern;Y.exports=function(b,h,o,t,i){var n=o("marker.color",t),r=k(b,"marker");r&&a(b,h,i,o,{prefix:"marker.",cLetter:"c"}),o("marker.line.color",A.defaultLine),k(b,"marker.line")&&a(b,h,i,o,{prefix:"marker.line.",cLetter:"c"}),o("marker.line.width"),o("marker.opacity"),w(o,"marker.pattern",n,r),o("selected.marker.color"),o("unselected.marker.color")}},82744:function(Y,P,e){var A=e(33428),k=e(3400);function a(w){return"_"+w+"Text_minsize"}Y.exports={recordMinTextSize:function(w,b,h){if(h.uniformtext.mode){var o=a(w),t=h.uniformtext.minsize,i=b.scale*b.fontSize;b.hide=i<t,h[o]=h[o]||1/0,b.hide||(h[o]=Math.min(h[o],Math.max(i,t)))}},clearMinTextSize:function(w,b){b[a(w)]=void 0},resizeText:function(w,b,h){var o=w._fullLayout,t=o["_"+h+"Text_minsize"];if(t){var i,n=o.uniformtext.mode==="hide";switch(h){case"funnelarea":case"pie":case"sunburst":i="g.slice";break;case"treemap":case"icicle":i="g.slice, g.pathbar";break;default:i="g.points > g.point"}b.selectAll(i).each(function(r){var s=r.transform;if(s){s.scale=n&&s.hide?0:t/s.fontSize;var l=A.select(this).select("text");k.setTransormAndDisplay(l,s)}})}}}},78100:function(Y,P,e){var A,k=e(21776).Ks,a=e(92880).extendFlat,w=e(8319),b=e(20832);Y.exports={r:w.r,theta:w.theta,r0:w.r0,dr:w.dr,theta0:w.theta0,dtheta:w.dtheta,thetaunit:w.thetaunit,base:a({},b.base,{}),offset:a({},b.offset,{}),width:a({},b.width,{}),text:a({},b.text,{}),hovertext:a({},b.hovertext,{}),marker:(A=a({},b.marker),delete A.cornerradius,A),hoverinfo:w.hoverinfo,hovertemplate:k(),selected:b.selected,unselected:b.unselected}},47056:function(Y,P,e){var A=e(94288).hasColorscale,k=e(47128),a=e(3400).isArrayOrTypedArray,w=e(84664),b=e(96376).setGroupPositions,h=e(4500),o=e(24040).traceIs,t=e(3400).extendFlat;Y.exports={calc:function(i,n){for(var r=i._fullLayout,s=n.subplot,l=r[s].radialaxis,u=r[s].angularaxis,d=l.makeCalcdata(n,"r"),c=u.makeCalcdata(n,"theta"),x=n._length,g=new Array(x),p=d,v=c,y=0;y<x;y++)g[y]={p:v[y],s:p[y]};function m(_){var f=n[_];f!==void 0&&(n["_"+_]=a(f)?u.makeCalcdata(n,_):u.d2c(f,n.thetaunit))}return u.type==="linear"&&(m("width"),m("offset")),A(n,"marker")&&k(i,n,{vals:n.marker.color,containerStr:"marker",cLetter:"c"}),A(n,"marker.line")&&k(i,n,{vals:n.marker.line.color,containerStr:"marker.line",cLetter:"c"}),w(g,n),h(g,n),g},crossTraceCalc:function(i,n,r){for(var s=i.calcdata,l=[],u=0;u<s.length;u++){var d=s[u],c=d[0].trace;c.visible===!0&&o(c,"bar")&&c.subplot===r&&l.push(d)}var x=t({},n.radialaxis,{_id:"x"}),g=n.angularaxis;b(i,g,x,l,{mode:n.barmode,norm:n.barnorm,gap:n.bargap,groupgap:n.bargroupgap})}}},70384:function(Y,P,e){var A=e(3400),k=e(85968).handleRThetaDefaults,a=e(55592),w=e(78100);Y.exports=function(b,h,o,t){function i(n,r){return A.coerce(b,h,w,n,r)}k(b,h,t,i)?(i("thetaunit"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate"),a(b,h,i,o,t),A.coerceSelectionMarkerOpacity(h,i)):h.visible=!1}},68896:function(Y,P,e){var A=e(93024),k=e(3400),a=e(63400).getTraceColor,w=k.fillText,b=e(8504).makeHoverPointText,h=e(57384).isPtInsidePolygon;Y.exports=function(o,t,i){var n=o.cd,r=n[0].trace,s=o.subplot,l=s.radialAxis,u=s.angularAxis,d=s.vangles,c=d?h:k.isPtInsideSector,x=o.maxHoverDistance,g=u._period||2*Math.PI,p=Math.abs(l.g2p(Math.sqrt(t*t+i*i))),v=Math.atan2(i,t);if(l.range[0]>l.range[1]&&(v+=Math.PI),A.getClosest(n,function(_){return c(p,v,[_.rp0,_.rp1],[_.thetag0,_.thetag1],d)?x+Math.min(1,Math.abs(_.thetag1-_.thetag0)/g)-1+(_.rp1-p)/(_.rp1-_.rp0)-1:1/0},o),o.index!==!1){var y=n[o.index];o.x0=o.x1=y.ct[0],o.y0=o.y1=y.ct[1];var m=k.extendFlat({},y,{r:y.s,theta:y.p});return w(y,r,o),b(m,r,s,o),o.hovertemplate=r.hovertemplate,o.color=a(r,y),o.xLabelVal=o.yLabelVal=void 0,y.s<0&&(o.idealAlign="left"),[o]}}},94456:function(Y,P,e){Y.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(40872),categories:["polar","bar","showLegend"],attributes:e(78100),layoutAttributes:e(9320),supplyDefaults:e(70384),supplyLayoutDefaults:e(89580),calc:e(47056).calc,crossTraceCalc:e(47056).crossTraceCalc,plot:e(42040),colorbar:e(5528),formatLabels:e(22852),style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,hoverPoints:e(68896),selectPoints:e(45784),meta:{}}},9320:function(Y){Y.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},89580:function(Y,P,e){var A=e(3400),k=e(9320);Y.exports=function(a,w,b){var h,o={};function t(r,s){return A.coerce(a[h]||{},w[h],k,r,s)}for(var i=0;i<b.length;i++){var n=b[i];n.type==="barpolar"&&n.visible===!0&&(o[h=n.subplot]||(t("barmode"),t("bargap"),o[h]=1))}}},42040:function(Y,P,e){var A=e(33428),k=e(38248),a=e(3400),w=e(43616),b=e(57384);Y.exports=function(h,o,t){var i=h._context.staticPlot,n=o.xaxis,r=o.yaxis,s=o.radialAxis,l=o.angularAxis,u=function(c){var x=c.cxx,g=c.cyy;return c.vangles?function(p,v,y,m){var _,f;a.angleDelta(y,m)>0?(_=y,f=m):(_=m,f=y);var S=[b.findEnclosingVertexAngles(_,c.vangles)[0],(_+f)/2,b.findEnclosingVertexAngles(f,c.vangles)[1]];return b.pathPolygonAnnulus(p,v,_,f,S,x,g)}:function(p,v,y,m){return a.pathAnnulus(p,v,y,m,x,g)}}(o),d=o.layers.frontplot.select("g.barlayer");a.makeTraceGroups(d,t,"trace bars").each(function(){var c=A.select(this),x=a.ensureSingle(c,"g","points").selectAll("g.point").data(a.identity);x.enter().append("g").style("vector-effect",i?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),x.exit().remove(),x.each(function(g){var p,v=A.select(this),y=g.rp0=s.c2p(g.s0),m=g.rp1=s.c2p(g.s1),_=g.thetag0=l.c2g(g.p0),f=g.thetag1=l.c2g(g.p1);if(k(y)&&k(m)&&k(_)&&k(f)&&y!==m&&_!==f){var S=s.c2g(g.s1),T=(_+f)/2;g.ct=[n.c2p(S*Math.cos(T)),r.c2p(S*Math.sin(T))],p=u(y,m,_,f)}else p="M0,0Z";a.ensureSingle(v,"path").attr("d",p)}),w.setClipUrl(c,o._hasClipOnAxisFalse?o.clipIds.forTraces:null,h)})}},63188:function(Y,P,e){var A=e(52904),k=e(20832),a=e(22548),w=e(29736).axisHoverFormat,b=e(21776).Ks,h=e(92880).extendFlat,o=A.marker,t=o.line;Y.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:A.xperiod0,yperiod0:A.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,xhoverformat:w("x"),yhoverformat:w("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:h({},o.symbol,{arrayOk:!1,editType:"plot"}),opacity:h({},o.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:h({},o.angle,{arrayOk:!1,editType:"calc"}),size:h({},o.size,{arrayOk:!1,editType:"calc"}),color:h({},o.color,{arrayOk:!1,editType:"style"}),line:{color:h({},t.color,{arrayOk:!1,dflt:a.defaultLine,editType:"style"}),width:h({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:A.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:k.offsetgroup,alignmentgroup:k.alignmentgroup,selected:{marker:A.selected.marker,editType:"style"},unselected:{marker:A.unselected.marker,editType:"style"},text:h({},A.text,{}),hovertext:h({},A.hovertext,{}),hovertemplate:b({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},62555:function(Y,P,e){var A=e(38248),k=e(54460),a=e(1220),w=e(3400),b=e(39032).BADNUM,h=w._;Y.exports=function(c,x){var g,p,v,y,m,_,f,S=c._fullLayout,T=k.getFromId(c,x.xaxis||"x"),E=k.getFromId(c,x.yaxis||"y"),C=[],O=x.type==="violin"?"_numViolins":"_numBoxes";x.orientation==="h"?(v=T,y="x",m=E,_="y",f=!!x.yperiodalignment):(v=E,y="y",m=T,_="x",f=!!x.xperiodalignment);var I,z,U,D,B,Z,F=function(ze,Ie,He,qe){var Je,st=Ie+"0"in ze;if(Ie in ze||st&&"d"+Ie in ze){var it=He.makeCalcdata(ze,Ie);return[a(ze,He,Ie,it).vals,it]}Je=st?ze[Ie+"0"]:"name"in ze&&(He.type==="category"||A(ze.name)&&["linear","log"].indexOf(He.type)!==-1||w.isDateTime(ze.name)&&He.type==="date")?ze.name:qe;for(var vt=He.type==="multicategory"?He.r2c_just_indices(Je):He.d2c(Je,0,ze[Ie+"calendar"]),_t=ze._length,xt=new Array(_t),et=0;et<_t;et++)xt[et]=vt;return[xt]}(x,_,m,S[O]),j=F[0],V=F[1],te=w.distinctVals(j,m),Q=te.vals,$=te.minDiff/2,G=(x.boxpoints||x.points)==="all"?w.identity:function(ze){return ze.v<I.lf||ze.v>I.uf};if(x._hasPreCompStats){var X=x[y],J=function(ze){return v.d2c((x[ze]||[])[g])},ne=1/0,ie=-1/0;for(g=0;g<x._length;g++){var ae=j[g];if(A(ae)){if((I={}).pos=I[_]=ae,f&&V&&(I.orig_p=V[g]),I.q1=J("q1"),I.med=J("median"),I.q3=J("q3"),z=[],X&&w.isArrayOrTypedArray(X[g]))for(p=0;p<X[g].length;p++)(Z=v.d2c(X[g][p]))!==b&&(t(B={v:Z,i:[g,p]},x,[g,p]),z.push(B));if(I.pts=z.sort(i),D=(U=I[y]=z.map(n)).length,I.med!==b&&I.q1!==b&&I.q3!==b&&I.med>=I.q1&&I.q3>=I.med){var le=J("lowerfence");I.lf=le!==b&&le<=I.q1?le:r(I,U,D);var ce=J("upperfence");I.uf=ce!==b&&ce>=I.q3?ce:s(I,U,D);var pe=J("mean");I.mean=pe!==b?pe:D?w.mean(U,D):(I.q1+I.q3)/2;var ge=J("sd");I.sd=pe!==b&&ge>=0?ge:D?w.stdev(U,D,I.mean):I.q3-I.q1,I.lo=l(I),I.uo=u(I);var me=J("notchspan");me=me!==b&&me>0?me:d(I,D),I.ln=I.med-me,I.un=I.med+me;var ve=I.lf,Me=I.uf;x.boxpoints&&U.length&&(ve=Math.min(ve,U[0]),Me=Math.max(Me,U[D-1])),x.notched&&(ve=Math.min(ve,I.ln),Me=Math.max(Me,I.un)),I.min=ve,I.max=Me}else{var _e;w.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+I.q1,"median = "+I.med,"q3 = "+I.q3].join(`
`)),_e=I.med!==b?I.med:I.q1!==b?I.q3!==b?(I.q1+I.q3)/2:I.q1:I.q3!==b?I.q3:0,I.med=_e,I.q1=I.q3=_e,I.lf=I.uf=_e,I.mean=I.sd=_e,I.ln=I.un=_e,I.min=I.max=_e}ne=Math.min(ne,I.min),ie=Math.max(ie,I.max),I.pts2=z.filter(G),C.push(I)}}x._extremes[v._id]=k.findExtremes(v,[ne,ie],{padded:!0})}else{var we=v.makeCalcdata(x,y),oe=function(ze,Ie){for(var He=ze.length,qe=new Array(He+1),Je=0;Je<He;Je++)qe[Je]=ze[Je]-Ie;return qe[He]=ze[He-1]+Ie,qe}(Q,$),se=Q.length,de=function(ze){for(var Ie=new Array(ze),He=0;He<ze;He++)Ie[He]=[];return Ie}(se);for(g=0;g<x._length;g++)if(Z=we[g],A(Z)){var Ee=w.findBin(j[g],oe);Ee>=0&&Ee<se&&(t(B={v:Z,i:g},x,g),de[Ee].push(B))}var Te=1/0,Se=-1/0,Le=x.quartilemethod,Oe=Le==="exclusive",he=Le==="inclusive";for(g=0;g<se;g++)if(de[g].length>0){var xe,ke;(I={}).pos=I[_]=Q[g],z=I.pts=de[g].sort(i),D=(U=I[y]=z.map(n)).length,I.min=U[0],I.max=U[D-1],I.mean=w.mean(U,D),I.sd=w.stdev(U,D,I.mean)*x.sdmultiple,I.med=w.interp(U,.5),D%2&&(Oe||he)?(Oe?(xe=U.slice(0,D/2),ke=U.slice(D/2+1)):he&&(xe=U.slice(0,D/2+1),ke=U.slice(D/2)),I.q1=w.interp(xe,.5),I.q3=w.interp(ke,.5)):(I.q1=w.interp(U,.25),I.q3=w.interp(U,.75)),I.lf=r(I,U,D),I.uf=s(I,U,D),I.lo=l(I),I.uo=u(I);var Re=d(I,D);I.ln=I.med-Re,I.un=I.med+Re,Te=Math.min(Te,I.ln),Se=Math.max(Se,I.un),I.pts2=z.filter(G),C.push(I)}x.notched&&w.isTypedArray(we)&&(we=Array.from(we)),x._extremes[v._id]=k.findExtremes(v,x.notched?we.concat([Te,Se]):we,{padded:!0})}return function(ze,Ie){if(w.isArrayOrTypedArray(Ie.selectedpoints))for(var He=0;He<ze.length;He++){for(var qe=ze[He].pts||[],Je={},st=0;st<qe.length;st++)Je[qe[st].i]=st;w.tagSelected(qe,Ie,Je)}}(C,x),C.length>0?(C[0].t={num:S[O],dPos:$,posLetter:_,valLetter:y,labels:{med:h(c,"median:"),min:h(c,"min:"),q1:h(c,"q1:"),q3:h(c,"q3:"),max:h(c,"max:"),mean:x.boxmean==="sd"||x.sizemode==="sd"?h(c,"mean \xB1 \u03C3:").replace("\u03C3",x.sdmultiple===1?"\u03C3":x.sdmultiple+"\u03C3"):h(c,"mean:"),lf:h(c,"lower fence:"),uf:h(c,"upper fence:")}},S[O]++,C):[{t:{empty:!0}}]};var o={text:"tx",hovertext:"htx"};function t(c,x,g){for(var p in o)w.isArrayOrTypedArray(x[p])&&(Array.isArray(g)?w.isArrayOrTypedArray(x[p][g[0]])&&(c[o[p]]=x[p][g[0]][g[1]]):c[o[p]]=x[p][g])}function i(c,x){return c.v-x.v}function n(c){return c.v}function r(c,x,g){return g===0?c.q1:Math.min(c.q1,x[Math.min(w.findBin(2.5*c.q1-1.5*c.q3,x,!0)+1,g-1)])}function s(c,x,g){return g===0?c.q3:Math.max(c.q3,x[Math.max(w.findBin(2.5*c.q3-1.5*c.q1,x),0)])}function l(c){return 4*c.q1-3*c.q3}function u(c){return 4*c.q3-3*c.q1}function d(c,x){return x===0?0:1.57*(c.q3-c.q1)/Math.sqrt(x)}},96404:function(Y,P,e){var A=e(54460),k=e(3400),a=e(71888).getAxisGroup,w=["v","h"];function b(h,o,t,i){var n,r,s,l=o.calcdata,u=o._fullLayout,d=i._id,c=d.charAt(0),x=[],g=0;for(n=0;n<t.length;n++)for(s=l[t[n]],r=0;r<s.length;r++)x.push(i.c2l(s[r].pos,!0)),g+=(s[r].pts2||[]).length;if(x.length){var p=k.distinctVals(x);i.type!=="category"&&i.type!=="multicategory"||(p.minDiff=1);var v=p.minDiff/2;A.minDtick(i,p.minDiff,p.vals[0],!0);var y=u[h==="violin"?"_numViolins":"_numBoxes"],m=u[h+"mode"]==="group"&&y>1,_=1-u[h+"gap"],f=1-u[h+"groupgap"];for(n=0;n<t.length;n++){var S,T,E,C,O,I,z=(s=l[t[n]])[0].trace,U=s[0].t,D=z.width,B=z.side;if(D)S=T=C=D/2,E=0;else if(S=v,m){var Z=a(u,i._id)+z.orientation,F=(u._alignmentOpts[Z]||{})[z.alignmentgroup]||{},j=Object.keys(F.offsetGroups||{}).length,V=j||y;T=S*_*f/V,E=2*S*(((j?z._offsetIndex:U.num)+.5)/V-.5)*_,C=S*_/V}else T=S*_*f,E=0,C=S;U.dPos=S,U.bPos=E,U.bdPos=T,U.wHover=C;var te,Q,$,G,X,J,ne=E+T,ie=Boolean(D);if(B==="positive"?(O=S*(D?1:.5),te=ne,I=te=E):B==="negative"?(O=te=E,I=S*(D?1:.5),Q=ne):(O=I=S,te=Q=ne),(z.boxpoints||z.points)&&g>0){var ae=z.pointpos,le=z.jitter,ce=z.marker.size/2,pe=0;ae+le>=0&&((pe=ne*(ae+le))>O?(ie=!0,X=ce,$=pe):pe>te&&(X=ce,$=O)),pe<=O&&($=O);var ge=0;ae-le<=0&&((ge=-ne*(ae-le))>I?(ie=!0,J=ce,G=ge):ge>Q&&(J=ce,G=I)),ge<=I&&(G=I)}else $=O,G=I;var me=new Array(s.length);for(r=0;r<s.length;r++)me[r]=s[r].pos;z._extremes[d]=A.findExtremes(i,me,{padded:ie,vpadminus:G,vpadplus:$,vpadLinearized:!0,ppadminus:{x:J,y:X}[c],ppadplus:{x:X,y:J}[c]})}}}Y.exports={crossTraceCalc:function(h,o){for(var t=h.calcdata,i=o.xaxis,n=o.yaxis,r=0;r<w.length;r++){for(var s=w[r],l=s==="h"?n:i,u=[],d=0;d<t.length;d++){var c=t[d],x=c[0].t,g=c[0].trace;g.visible!==!0||g.type!=="box"&&g.type!=="candlestick"||x.empty||(g.orientation||"v")!==s||g.xaxis!==i._id||g.yaxis!==n._id||u.push(d)}b("box",h,u,l)}},setPositionOffset:b}},90624:function(Y,P,e){var A=e(3400),k=e(24040),a=e(76308),w=e(31147),b=e(20011),h=e(52976),o=e(63188);function t(n,r,s,l){function u(B){var Z=0;return B&&B.length&&(Z+=1,A.isArrayOrTypedArray(B[0])&&B[0].length&&(Z+=1)),Z}function d(B){return A.validate(n[B],o[B])}var c,x=s("y"),g=s("x");if(r.type==="box"){var p=s("q1"),v=s("median"),y=s("q3");r._hasPreCompStats=p&&p.length&&v&&v.length&&y&&y.length,c=Math.min(A.minRowLength(p),A.minRowLength(v),A.minRowLength(y))}var m,_,f=u(x),S=u(g),T=f&&A.minRowLength(x),E=S&&A.minRowLength(g),C=l.calendar,O={autotypenumbers:l.autotypenumbers};if(r._hasPreCompStats)switch(String(S)+String(f)){case"00":var I=d("x0")||d("dx");m=!d("y0")&&!d("dy")||I?"v":"h",_=c;break;case"10":m="v",_=Math.min(c,E);break;case"20":m="h",_=Math.min(c,g.length);break;case"01":m="h",_=Math.min(c,T);break;case"02":m="v",_=Math.min(c,x.length);break;case"12":m="v",_=Math.min(c,E,x.length);break;case"21":m="h",_=Math.min(c,g.length,T);break;case"11":_=0;break;case"22":var z,U=!1;for(z=0;z<g.length;z++)if(h(g[z],C,O)==="category"){U=!0;break}if(U)m="v",_=Math.min(c,E,x.length);else{for(z=0;z<x.length;z++)if(h(x[z],C,O)==="category"){U=!0;break}U?(m="h",_=Math.min(c,g.length,T)):(m="v",_=Math.min(c,E,x.length))}}else f>0?(m="v",_=S>0?Math.min(E,T):Math.min(T)):S>0?(m="h",_=Math.min(E)):_=0;if(_){r._length=_;var D=s("orientation",m);r._hasPreCompStats?D==="v"&&S===0?(s("x0",0),s("dx",1)):D==="h"&&f===0&&(s("y0",0),s("dy",1)):D==="v"&&S===0?s("x0"):D==="h"&&f===0&&s("y0"),k.getComponentMethod("calendars","handleTraceDefaults")(n,r,["x","y"],l)}else r.visible=!1}function i(n,r,s,l){var u=l.prefix,d=A.coerce2(n,r,o,"marker.outliercolor"),c=s("marker.line.outliercolor"),x="outliers";r._hasPreCompStats?x="all":(d||c)&&(x="suspectedoutliers");var g=s(u+"points",x);g?(s("jitter",g==="all"?.3:0),s("pointpos",g==="all"?-1.5:0),s("marker.symbol"),s("marker.opacity"),s("marker.size"),s("marker.angle"),s("marker.color",r.line.color),s("marker.line.color"),s("marker.line.width"),g==="suspectedoutliers"&&(s("marker.line.outliercolor",r.marker.color),s("marker.line.outlierwidth")),s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size"),s("text"),s("hovertext")):delete r.marker;var p=s("hoveron");p!=="all"&&p.indexOf("points")===-1||s("hovertemplate"),A.coerceSelectionMarkerOpacity(r,s)}Y.exports={supplyDefaults:function(n,r,s,l){function u(_,f){return A.coerce(n,r,o,_,f)}if(t(n,r,u,l),r.visible!==!1){w(n,r,l,u),u("xhoverformat"),u("yhoverformat");var d=r._hasPreCompStats;d&&(u("lowerfence"),u("upperfence")),u("line.color",(n.marker||{}).color||s),u("line.width"),u("fillcolor",a.addOpacity(r.line.color,.5));var c=!1;if(d){var x=u("mean"),g=u("sd");x&&x.length&&(c=!0,g&&g.length&&(c="sd"))}u("whiskerwidth");var p,v=u("sizemode");v==="quartiles"&&(p=u("boxmean",c)),u("showwhiskers",v==="quartiles"),v!=="sd"&&p!=="sd"||u("sdmultiple"),u("width"),u("quartilemethod");var y=!1;if(d){var m=u("notchspan");m&&m.length&&(y=!0)}else A.validate(n.notchwidth,o.notchwidth)&&(y=!0);u("notched",y)&&u("notchwidth"),i(n,r,u,{prefix:"box"})}},crossTraceDefaults:function(n,r){var s,l;function u(x){return A.coerce(l._input,l,o,x)}for(var d=0;d<n.length;d++){var c=(l=n[d]).type;c!=="box"&&c!=="violin"||(s=l._input,r[c+"mode"]==="group"&&b(s,l,r,u))}},handleSampleDefaults:t,handlePointsDefaults:i}},10392:function(Y){Y.exports=function(P,e){return e.hoverOnBox&&(P.hoverOnBox=e.hoverOnBox),"xVal"in e&&(P.x=e.xVal),"yVal"in e&&(P.y=e.yVal),e.xa&&(P.xaxis=e.xa),e.ya&&(P.yaxis=e.ya),P}},27576:function(Y,P,e){var A=e(54460),k=e(3400),a=e(93024),w=e(76308),b=k.fillText;function h(t,i,n,r){var s,l,u,d,c,x,g,p,v,y,m,_,f,S,T=t.cd,E=t.xa,C=t.ya,O=T[0].trace,I=T[0].t,z=O.type==="violin",U=I.bdPos,D=I.wHover,B=function(_e){return u.c2l(_e.pos)+I.bPos-u.c2l(x)};z&&O.side!=="both"?(O.side==="positive"&&(v=function(_e){var we=B(_e);return a.inbox(we,we+D,y)},_=U,f=0),O.side==="negative"&&(v=function(_e){var we=B(_e);return a.inbox(we-D,we,y)},_=0,f=U)):(v=function(_e){var we=B(_e);return a.inbox(we-D,we+D,y)},_=f=U),S=z?function(_e){return a.inbox(_e.span[0]-c,_e.span[1]-c,y)}:function(_e){return a.inbox(_e.min-c,_e.max-c,y)},O.orientation==="h"?(c=i,x=n,g=S,p=v,s="y",u=C,l="x",d=E):(c=n,x=i,g=v,p=S,s="x",u=E,l="y",d=C);var Z=Math.min(1,U/Math.abs(u.r2c(u.range[1])-u.r2c(u.range[0])));function F(_e){return(g(_e)+p(_e))/2}y=t.maxHoverDistance-Z,m=t.maxSpikeDistance-Z;var j=a.getDistanceFunction(r,g,p,F);if(a.getClosest(T,j,t),t.index===!1)return[];var V=T[t.index],te=O.line.color,Q=(O.marker||{}).color;w.opacity(te)&&O.line.width?t.color=te:w.opacity(Q)&&O.boxpoints?t.color=Q:t.color=O.fillcolor,t[s+"0"]=u.c2p(V.pos+I.bPos-f,!0),t[s+"1"]=u.c2p(V.pos+I.bPos+_,!0),t[s+"LabelVal"]=V.orig_p!==void 0?V.orig_p:V.pos;var $=s+"Spike";t.spikeDistance=F(V)*m/y,t[$]=u.c2p(V.pos,!0);var G=O.boxmean||O.sizemode==="sd"||(O.meanline||{}).visible,X=O.boxpoints||O.points,J=X&&G?["max","uf","q3","med","mean","q1","lf","min"]:X&&!G?["max","uf","q3","med","q1","lf","min"]:!X&&G?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],ne=d.range[1]<d.range[0];O.orientation===(ne?"v":"h")&&J.reverse();for(var ie=t.spikeDistance,ae=t[$],le=[],ce=0;ce<J.length;ce++){var pe=J[ce];if(pe in V){var ge=V[pe],me=d.c2p(ge,!0),ve=k.extendFlat({},t);ve.attr=pe,ve[l+"0"]=ve[l+"1"]=me,ve[l+"LabelVal"]=ge,ve[l+"Label"]=(I.labels?I.labels[pe]+" ":"")+A.hoverLabelText(d,ge,O[l+"hoverformat"]),ve.hoverOnBox=!0,pe!=="mean"||!("sd"in V)||O.boxmean!=="sd"&&O.sizemode!=="sd"||(ve[l+"err"]=V.sd),ve.hovertemplate=!1,le.push(ve)}}t.name="",t.spikeDistance=void 0,t[$]=void 0;for(var Me=0;Me<le.length;Me++)le[Me].attr!=="med"?(le[Me].name="",le[Me].spikeDistance=void 0,le[Me][$]=void 0):(le[Me].spikeDistance=ie,le[Me][$]=ae);return le}function o(t,i,n){for(var r,s,l,u=t.cd,d=t.xa,c=t.ya,x=u[0].trace,g=d.c2p(i),p=c.c2p(n),v=a.quadrature(function(z){var U=Math.max(3,z.mrc||0);return Math.max(Math.abs(d.c2p(z.x)-g)-U,1-3/U)},function(z){var U=Math.max(3,z.mrc||0);return Math.max(Math.abs(c.c2p(z.y)-p)-U,1-3/U)}),y=!1,m=0;m<u.length;m++){s=u[m];for(var _=0;_<(s.pts||[]).length;_++){var f=v(l=s.pts[_]);f<=t.distance&&(t.distance=f,y=[m,_])}}if(!y)return!1;l=(s=u[y[0]]).pts[y[1]];var S=d.c2p(l.x,!0),T=c.c2p(l.y,!0),E=l.mrc||1;r=k.extendFlat({},t,{index:l.i,color:(x.marker||{}).color,name:x.name,x0:S-E,x1:S+E,y0:T-E,y1:T+E,spikeDistance:t.distance,hovertemplate:x.hovertemplate});var C,O=s.orig_p,I=O!==void 0?O:s.pos;return x.orientation==="h"?(C=c,r.xLabelVal=l.x,r.yLabelVal=I):(C=d,r.xLabelVal=I,r.yLabelVal=l.y),r[C._id.charAt(0)+"Spike"]=C.c2p(s.pos,!0),b(l,x,r),r}Y.exports={hoverPoints:function(t,i,n,r){var s,l=t.cd[0].trace.hoveron,u=[];return l.indexOf("boxes")!==-1&&(u=u.concat(h(t,i,n,r))),l.indexOf("points")!==-1&&(s=o(t,i,n)),r==="closest"?s?[s]:u:(s&&u.push(s),u)},hoverOnBoxes:h,hoverOnPoints:o}},67244:function(Y,P,e){Y.exports={attributes:e(63188),layoutAttributes:e(16560),supplyDefaults:e(90624).supplyDefaults,crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(68832).supplyLayoutDefaults,calc:e(62555),crossTraceCalc:e(96404).crossTraceCalc,plot:e(18728).plot,style:e(25776).style,styleOnSelect:e(25776).styleOnSelect,hoverPoints:e(27576).hoverPoints,eventData:e(10392),selectPoints:e(8264),moduleType:"trace",name:"box",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},16560:function(Y){Y.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},68832:function(Y,P,e){var A=e(24040),k=e(3400),a=e(16560);function w(b,h,o,t,i){for(var n=i+"Layout",r=!1,s=0;s<o.length;s++){var l=o[s];if(A.traceIs(l,n)){r=!0;break}}r&&(t(i+"mode"),t(i+"gap"),t(i+"groupgap"))}Y.exports={supplyLayoutDefaults:function(b,h,o){w(0,0,o,function(t,i){return k.coerce(b,h,a,t,i)},"box")},_supply:w}},18728:function(Y,P,e){var A=e(33428),k=e(3400),a=e(43616);function w(o,t,i,n,r){var s,l,u=i.orientation==="h",d=t.val,c=t.pos,x=!!c.rangebreaks,g=n.bPos,p=n.wdPos||0,v=n.bPosPxOffset||0,y=i.whiskerwidth||0,m=i.showwhiskers!==!1,_=i.notched||!1,f=_?1-2*i.notchwidth:1;Array.isArray(n.bdPos)?(s=n.bdPos[0],l=n.bdPos[1]):(s=n.bdPos,l=n.bdPos);var S=o.selectAll("path.box").data(i.type!=="violin"||i.box.visible?k.identity:[]);S.enter().append("path").style("vector-effect",r?"none":"non-scaling-stroke").attr("class","box"),S.exit().remove(),S.each(function(T){if(T.empty)return A.select(this).attr("d","M0,0Z");var E=c.c2l(T.pos+g,!0),C=c.l2p(E-s)+v,O=c.l2p(E+l)+v,I=x?(C+O)/2:c.l2p(E)+v,z=i.whiskerwidth,U=x?C*z+(1-z)*I:c.l2p(E-p)+v,D=x?O*z+(1-z)*I:c.l2p(E+p)+v,B=c.l2p(E-s*f)+v,Z=c.l2p(E+l*f)+v,F=i.sizemode==="sd",j=d.c2p(F?T.mean-T.sd:T.q1,!0),V=F?d.c2p(T.mean+T.sd,!0):d.c2p(T.q3,!0),te=k.constrain(F?d.c2p(T.mean,!0):d.c2p(T.med,!0),Math.min(j,V)+1,Math.max(j,V)-1),Q=T.lf===void 0||i.boxpoints===!1||F,$=d.c2p(Q?T.min:T.lf,!0),G=d.c2p(Q?T.max:T.uf,!0),X=d.c2p(T.ln,!0),J=d.c2p(T.un,!0);u?A.select(this).attr("d","M"+te+","+B+"V"+Z+"M"+j+","+C+"V"+O+(_?"H"+X+"L"+te+","+Z+"L"+J+","+O:"")+"H"+V+"V"+C+(_?"H"+J+"L"+te+","+B+"L"+X+","+C:"")+"Z"+(m?"M"+j+","+I+"H"+$+"M"+V+","+I+"H"+G+(y===0?"":"M"+$+","+U+"V"+D+"M"+G+","+U+"V"+D):"")):A.select(this).attr("d","M"+B+","+te+"H"+Z+"M"+C+","+j+"H"+O+(_?"V"+X+"L"+Z+","+te+"L"+O+","+J:"")+"V"+V+"H"+C+(_?"V"+J+"L"+B+","+te+"L"+C+","+X:"")+"Z"+(m?"M"+I+","+j+"V"+$+"M"+I+","+V+"V"+G+(y===0?"":"M"+U+","+$+"H"+D+"M"+U+","+G+"H"+D):""))})}function b(o,t,i,n){var r=t.x,s=t.y,l=n.bdPos,u=n.bPos,d=i.boxpoints||i.points;k.seedPseudoRandom();var c=o.selectAll("g.points").data(d?function(g){return g.forEach(function(p){p.t=n,p.trace=i}),g}:[]);c.enter().append("g").attr("class","points"),c.exit().remove();var x=c.selectAll("path").data(function(g){var p,v,y=g.pts2,m=Math.max((g.max-g.min)/10,g.q3-g.q1),_=1e-9*m,f=.01*m,S=[],T=0;if(i.jitter){if(m===0)for(T=1,S=new Array(y.length),p=0;p<y.length;p++)S[p]=1;else for(p=0;p<y.length;p++){var E=Math.max(0,p-5),C=y[E].v,O=Math.min(y.length-1,p+5),I=y[O].v;d!=="all"&&(y[p].v<g.lf?I=Math.min(I,g.lf):C=Math.max(C,g.uf));var z=Math.sqrt(f*(O-E)/(I-C+_))||0;z=k.constrain(Math.abs(z),0,1),S.push(z),T=Math.max(z,T)}v=2*i.jitter/(T||1)}for(p=0;p<y.length;p++){var U=y[p],D=U.v,B=i.jitter?v*S[p]*(k.pseudoRandom()-.5):0,Z=g.pos+u+l*(i.pointpos+B);i.orientation==="h"?(U.y=Z,U.x=D):(U.x=Z,U.y=D),d==="suspectedoutliers"&&D<g.uo&&D>g.lo&&(U.so=!0)}return y});x.enter().append("path").classed("point",!0),x.exit().remove(),x.call(a.translatePoints,r,s)}function h(o,t,i,n){var r,s,l=t.val,u=t.pos,d=!!u.rangebreaks,c=n.bPos,x=n.bPosPxOffset||0,g=i.boxmean||(i.meanline||{}).visible;Array.isArray(n.bdPos)?(r=n.bdPos[0],s=n.bdPos[1]):(r=n.bdPos,s=n.bdPos);var p=o.selectAll("path.mean").data(i.type==="box"&&i.boxmean||i.type==="violin"&&i.box.visible&&i.meanline.visible?k.identity:[]);p.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),p.exit().remove(),p.each(function(v){var y=u.c2l(v.pos+c,!0),m=u.l2p(y-r)+x,_=u.l2p(y+s)+x,f=d?(m+_)/2:u.l2p(y)+x,S=l.c2p(v.mean,!0),T=l.c2p(v.mean-v.sd,!0),E=l.c2p(v.mean+v.sd,!0);i.orientation==="h"?A.select(this).attr("d","M"+S+","+m+"V"+_+(g==="sd"?"m0,0L"+T+","+f+"L"+S+","+m+"L"+E+","+f+"Z":"")):A.select(this).attr("d","M"+m+","+S+"H"+_+(g==="sd"?"m0,0L"+f+","+T+"L"+m+","+S+"L"+f+","+E+"Z":""))})}Y.exports={plot:function(o,t,i,n){var r=o._context.staticPlot,s=t.xaxis,l=t.yaxis;k.makeTraceGroups(n,i,"trace boxes").each(function(u){var d,c,x=A.select(this),g=u[0],p=g.t,v=g.trace;p.wdPos=p.bdPos*v.whiskerwidth,v.visible!==!0||p.empty?x.remove():(v.orientation==="h"?(d=l,c=s):(d=s,c=l),w(x,{pos:d,val:c},v,p,r),b(x,{x:s,y:l},v,p),h(x,{pos:d,val:c},v,p))})},plotBoxAndWhiskers:w,plotPoints:b,plotBoxMean:h}},8264:function(Y){Y.exports=function(P,e){var A,k,a=P.cd,w=P.xaxis,b=P.yaxis,h=[];if(e===!1)for(A=0;A<a.length;A++)for(k=0;k<(a[A].pts||[]).length;k++)a[A].pts[k].selected=0;else for(A=0;A<a.length;A++)for(k=0;k<(a[A].pts||[]).length;k++){var o=a[A].pts[k],t=w.c2p(o.x),i=b.c2p(o.y);e.contains([t,i],null,o.i,P)?(h.push({pointNumber:o.i,x:w.c2d(o.x),y:b.c2d(o.y)}),o.selected=1):o.selected=0}return h}},25776:function(Y,P,e){var A=e(33428),k=e(76308),a=e(43616);Y.exports={style:function(w,b,h){var o=h||A.select(w).selectAll("g.trace.boxes");o.style("opacity",function(t){return t[0].trace.opacity}),o.each(function(t){var i=A.select(this),n=t[0].trace,r=n.line.width;function s(d,c,x,g){d.style("stroke-width",c+"px").call(k.stroke,x).call(k.fill,g)}var l=i.selectAll("path.box");if(n.type==="candlestick")l.each(function(d){if(!d.empty){var c=A.select(this),x=n[d.dir];s(c,x.line.width,x.line.color,x.fillcolor),c.style("opacity",n.selectedpoints&&!d.selected?.3:1)}});else{s(l,r,n.line.color,n.fillcolor),i.selectAll("path.mean").style({"stroke-width":r,"stroke-dasharray":2*r+"px,"+r+"px"}).call(k.stroke,n.line.color);var u=i.selectAll("path.point");a.pointStyle(u,n,w)}})},styleOnSelect:function(w,b,h){var o=b[0].trace,t=h.selectAll("path.point");o.selectedpoints?a.selectedPointStyle(t,o):a.pointStyle(t,o,w)}}},64216:function(Y,P,e){var A=e(3400).extendFlat,k=e(29736).axisHoverFormat,a=e(20279),w=e(63188);function b(h){return{line:{color:A({},w.line.color,{dflt:h}),width:w.line.width,editType:"style"},fillcolor:w.fillcolor,editType:"style"}}Y.exports={xperiod:a.xperiod,xperiod0:a.xperiod0,xperiodalignment:a.xperiodalignment,xhoverformat:k("x"),yhoverformat:k("y"),x:a.x,open:a.open,high:a.high,low:a.low,close:a.close,line:{width:A({},w.line.width,{}),editType:"style"},increasing:b(a.increasing.line.color.dflt),decreasing:b(a.decreasing.line.color.dflt),text:a.text,hovertext:a.hovertext,whiskerwidth:A({},w.whiskerwidth,{dflt:0}),hoverlabel:a.hoverlabel}},46283:function(Y,P,e){var A=e(3400),k=e(54460),a=e(1220),w=e(42812).calcCommon;function b(h,o,t,i){return{min:t,q1:Math.min(h,i),med:i,q3:Math.max(h,i),max:o}}Y.exports=function(h,o){var t=h._fullLayout,i=k.getFromId(h,o.xaxis),n=k.getFromId(h,o.yaxis),r=i.makeCalcdata(o,"x"),s=a(o,i,"x",r).vals,l=w(h,o,r,s,n,b);return l.length?(A.extendFlat(l[0].t,{num:t._numBoxes,dPos:A.distinctVals(s).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,l):[{t:{empty:!0}}]}},64588:function(Y,P,e){var A=e(3400),k=e(76308),a=e(52744),w=e(31147),b=e(64216);function h(o,t,i,n){var r=i(n+".line.color");i(n+".line.width",t.line.width),i(n+".fillcolor",k.addOpacity(r,.5))}Y.exports=function(o,t,i,n){function r(s,l){return A.coerce(o,t,b,s,l)}a(o,t,r,n)?(w(o,t,n,r,{x:!0}),r("xhoverformat"),r("yhoverformat"),r("line.width"),h(0,t,r,"increasing"),h(0,t,r,"decreasing"),r("text"),r("hovertext"),r("whiskerwidth"),n._requestRangeslider[t.xaxis]=!0):t.visible=!1}},61712:function(Y,P,e){Y.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(57952),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(64216),layoutAttributes:e(16560),supplyLayoutDefaults:e(68832).supplyLayoutDefaults,crossTraceCalc:e(96404).crossTraceCalc,supplyDefaults:e(64588),calc:e(46283),plot:e(18728).plot,layerName:"boxlayer",style:e(25776).style,hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},93504:function(Y,P,e){var A=e(63856),k=e(31780);Y.exports=function(a,w,b,h,o){h("a")||(h("da"),h("a0")),h("b")||(h("db"),h("b0")),function(t,i,n,r){["aaxis","baxis"].forEach(function(s){var l=s.charAt(0),u=t[s]||{},d=k.newContainer(i,s),c={noAutotickangles:!0,noTicklabelstep:!0,tickfont:"x",id:l+"axis",letter:l,font:i.font,name:s,data:t[l],calendar:i.calendar,dfltColor:r,bgColor:n.paper_bgcolor,autotypenumbersDflt:n.autotypenumbers,fullLayout:n};A(u,d,c),d._categories=d._categories||[],t[s]||u.type==="-"||(t[s]={type:u.type})})}(a,w,b,o)}},51676:function(Y,P,e){var A=e(3400).isArrayOrTypedArray;function k(a,w){if(!A(a)||w>=10)return null;for(var b=1/0,h=-1/0,o=a.length,t=0;t<o;t++){var i=a[t];if(A(i)){var n=k(i,w+1);n&&(b=Math.min(n[0],b),h=Math.max(n[1],h))}else b=Math.min(i,b),h=Math.max(i,h)}return[b,h]}Y.exports=function(a){return k(a,0)}},85720:function(Y,P,e){var A=e(25376),k=e(98692),a=e(22548),w=A({editType:"calc"});w.family.dflt='"Open Sans", verdana, arial, sans-serif',w.size.dflt=12,w.color.dflt=a.defaultLine,Y.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:k,baxis:k,font:w,color:{valType:"color",dflt:a.defaultLine,editType:"plot"},transforms:void 0}},77712:function(Y,P,e){var A=e(3400).isArrayOrTypedArray;Y.exports=function(k,a,w,b){var h,o,t,i,n,r,s,l,u,d,c,x,g,p=A(w)?"a":"b",v=(p==="a"?k.aaxis:k.baxis).smoothing,y=p==="a"?k.a2i:k.b2j,m=p==="a"?w:b,_=p==="a"?b:w,f=p==="a"?a.a.length:a.b.length,S=p==="a"?a.b.length:a.a.length,T=Math.floor(p==="a"?k.b2j(_):k.a2i(_)),E=p==="a"?function(te){return k.evalxy([],te,T)}:function(te){return k.evalxy([],T,te)};v&&(t=Math.max(0,Math.min(S-2,T)),i=T-t,o=p==="a"?function(te,Q){return k.dxydi([],te,t,Q,i)}:function(te,Q){return k.dxydj([],t,te,i,Q)});var C=y(m[0]),O=y(m[1]),I=C<O?1:-1,z=1e-8*(O-C),U=I>0?Math.floor:Math.ceil,D=I>0?Math.ceil:Math.floor,B=I>0?Math.min:Math.max,Z=I>0?Math.max:Math.min,F=U(C+z),j=D(O-z),V=[[s=E(C)]];for(h=F;h*I<j*I;h+=I)n=[],c=Z(C,h),g=(x=B(O,h+I))-c,r=Math.max(0,Math.min(f-2,Math.floor(.5*(c+x)))),l=E(x),v&&(u=o(r,c-r),d=o(r,x-r),n.push([s[0]+u[0]/3*g,s[1]+u[1]/3*g]),n.push([l[0]-d[0]/3*g,l[1]-d[1]/3*g])),n.push(l),V.push(n),s=l;return V}},98692:function(Y,P,e){var A=e(25376),k=e(22548),a=e(94724),w=e(29736).descriptionWithDates,b=e(67824).overrideAll,h=e(98192).u,o=e(92880).extendFlat;Y.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:A({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:a.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:o({},a.labelalias,{editType:"calc"}),tickfont:A({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:w("tick label")},tickformatstops:b(a.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:k.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:o({},h,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:o({},h,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:k.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:A({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},63856:function(Y,P,e){var A=e(85720),k=e(76308).addOpacity,a=e(24040),w=e(3400),b=e(26332),h=e(95936),o=e(42568),t=e(22416),i=e(78344),n=e(52976);Y.exports=function(r,s,l){var u=l.letter,d=l.font||{},c=A[u+"axis"];function x(I,z){return w.coerce(r,s,c,I,z)}function g(I,z){return w.coerce2(r,s,c,I,z)}l.name&&(s._name=l.name,s._id=l.name),x("autotypenumbers",l.autotypenumbersDflt);var p=x("type");p==="-"&&(l.data&&function(I,z){if(I.type==="-"){var U=I._id.charAt(0),D=I[U+"calendar"];I.type=n(z,D,{autotypenumbers:I.autotypenumbers})}}(s,l.data),s.type==="-"?s.type="linear":p=r.type=s.type),x("smoothing"),x("cheatertype"),x("showticklabels"),x("labelprefix",u+" = "),x("labelsuffix"),x("showtickprefix"),x("showticksuffix"),x("separatethousands"),x("tickformat"),x("exponentformat"),x("minexponent"),x("showexponent"),x("categoryorder"),x("tickmode"),x("tickvals"),x("ticktext"),x("tick0"),x("dtick"),s.tickmode==="array"&&(x("arraytick0"),x("arraydtick")),x("labelpadding"),s._hovertitle=u,p==="date"&&a.getComponentMethod("calendars","handleDefaults")(r,s,"calendar",l.calendar),i(s,l.fullLayout),s.c2p=w.identity;var v=x("color",l.dfltColor),y=v===r.color?v:d.color;x("title.text")&&(w.coerceFont(x,"title.font",{family:d.family,size:w.bigFont(d.size),color:y}),x("title.offset")),x("tickangle"),x("autorange",!s.isValidRange(r.range))&&x("rangemode"),x("range"),s.cleanRange(),x("fixedrange"),b(r,s,x,p),o(r,s,x,p,l),h(r,s,x,p,l),t(r,s,x,{data:l.data,dataAttr:u});var m=g("gridcolor",k(v,.3)),_=g("gridwidth"),f=g("griddash"),S=x("showgrid");S||(delete s.gridcolor,delete s.gridwidth,delete s.griddash);var T=g("startlinecolor",v),E=g("startlinewidth",_);x("startline",s.showgrid||!!T||!!E)||(delete s.startlinecolor,delete s.startlinewidth);var C=g("endlinecolor",v),O=g("endlinewidth",_);return x("endline",s.showgrid||!!C||!!O)||(delete s.endlinecolor,delete s.endlinewidth),S?(x("minorgridcount"),x("minorgridwidth",_),x("minorgriddash",f),x("minorgridcolor",k(m,.06)),s.minorgridcount||(delete s.minorgridwidth,delete s.minorgriddash,delete s.minorgridcolor)):(delete s.gridcolor,delete s.gridwidth,delete s.griddash),s.showticklabels==="none"&&(delete s.tickfont,delete s.tickangle,delete s.showexponent,delete s.exponentformat,delete s.minexponent,delete s.tickformat,delete s.showticksuffix,delete s.showtickprefix),s.showticksuffix||delete s.ticksuffix,s.showtickprefix||delete s.tickprefix,x("tickmode"),s}},58744:function(Y,P,e){var A=e(54460),k=e(3400).isArray1D,a=e(60776),w=e(51676),b=e(19216),h=e(14724),o=e(24944),t=e(26136),i=e(51512),n=e(2872),r=e(81e3);Y.exports=function(s,l){var u=A.getFromId(s,l.xaxis),d=A.getFromId(s,l.yaxis),c=l.aaxis,x=l.baxis,g=l.x,p=l.y,v=[];g&&k(g)&&v.push("x"),p&&k(p)&&v.push("y"),v.length&&n(l,c,x,"a","b",v);var y=l._a=l._a||l.a,m=l._b=l._b||l.b;g=l._x||l.x,p=l._y||l.y;var _={};if(l._cheater){var f=c.cheatertype==="index"?y.length:y,S=x.cheatertype==="index"?m.length:m;g=a(f,S,l.cheaterslope)}l._x=g=t(g),l._y=p=t(p),i(g,y,m),i(p,y,m),r(l),l.setScale();var T=w(g),E=w(p),C=.5*(T[1]-T[0]),O=.5*(T[1]+T[0]),I=.5*(E[1]-E[0]),z=.5*(E[1]+E[0]),U=1.3;return T=[O-C*U,O+C*U],E=[z-I*U,z+I*U],l._extremes[u._id]=A.findExtremes(u,T,{padded:!0}),l._extremes[d._id]=A.findExtremes(d,E,{padded:!0}),b(l,"a","b"),b(l,"b","a"),h(l,c),h(l,x),_.clipsegments=o(l._xctrl,l._yctrl,c,x),_.x=g,_.y=p,_.a=y,_.b=m,[_]}},24944:function(Y){Y.exports=function(P,e,A,k){var a,w,b,h=[],o=!!A.smoothing,t=!!k.smoothing,i=P[0].length-1,n=P.length-1;for(a=0,w=[],b=[];a<=i;a++)w[a]=P[0][a],b[a]=e[0][a];for(h.push({x:w,y:b,bicubic:o}),a=0,w=[],b=[];a<=n;a++)w[a]=P[a][i],b[a]=e[a][i];for(h.push({x:w,y:b,bicubic:t}),a=i,w=[],b=[];a>=0;a--)w[i-a]=P[n][a],b[i-a]=e[n][a];for(h.push({x:w,y:b,bicubic:o}),a=n,w=[],b=[];a>=0;a--)w[n-a]=P[a][0],b[n-a]=e[a][0];return h.push({x:w,y:b,bicubic:t}),h}},19216:function(Y,P,e){var A=e(54460),k=e(92880).extendFlat;Y.exports=function(a,w,b){var h,o,t,i,n,r,s,l,u,d,c,x,g,p,v=a["_"+w],y=a[w+"axis"],m=y._gridlines=[],_=y._minorgridlines=[],f=y._boundarylines=[],S=a["_"+b],T=a[b+"axis"];y.tickmode==="array"&&(y.tickvals=v.slice());var E=a._xctrl,C=a._yctrl,O=E[0].length,I=E.length,z=a._a.length,U=a._b.length;A.prepTicks(y),y.tickmode==="array"&&delete y.tickvals;var D=y.smoothing?3:1;function B(F){var j,V,te,Q,$,G,X,J,ne,ie,ae,le,ce=[],pe=[],ge={};if(w==="b")for(V=a.b2j(F),te=Math.floor(Math.max(0,Math.min(U-2,V))),Q=V-te,ge.length=U,ge.crossLength=z,ge.xy=function(me){return a.evalxy([],me,V)},ge.dxy=function(me,ve){return a.dxydi([],me,te,ve,Q)},j=0;j<z;j++)G=Math.min(z-2,j),X=j-G,J=a.evalxy([],j,V),T.smoothing&&j>0&&(ne=a.dxydi([],j-1,te,0,Q),ce.push($[0]+ne[0]/3),pe.push($[1]+ne[1]/3),ie=a.dxydi([],j-1,te,1,Q),ce.push(J[0]-ie[0]/3),pe.push(J[1]-ie[1]/3)),ce.push(J[0]),pe.push(J[1]),$=J;else for(j=a.a2i(F),G=Math.floor(Math.max(0,Math.min(z-2,j))),X=j-G,ge.length=z,ge.crossLength=U,ge.xy=function(me){return a.evalxy([],j,me)},ge.dxy=function(me,ve){return a.dxydj([],G,me,X,ve)},V=0;V<U;V++)te=Math.min(U-2,V),Q=V-te,J=a.evalxy([],j,V),T.smoothing&&V>0&&(ae=a.dxydj([],G,V-1,X,0),ce.push($[0]+ae[0]/3),pe.push($[1]+ae[1]/3),le=a.dxydj([],G,V-1,X,1),ce.push(J[0]-le[0]/3),pe.push(J[1]-le[1]/3)),ce.push(J[0]),pe.push(J[1]),$=J;return ge.axisLetter=w,ge.axis=y,ge.crossAxis=T,ge.value=F,ge.constvar=b,ge.index=l,ge.x=ce,ge.y=pe,ge.smoothing=T.smoothing,ge}function Z(F){var j,V,te,Q,$,G=[],X=[],J={};if(J.length=v.length,J.crossLength=S.length,w==="b")for(te=Math.max(0,Math.min(U-2,F)),$=Math.min(1,Math.max(0,F-te)),J.xy=function(ne){return a.evalxy([],ne,F)},J.dxy=function(ne,ie){return a.dxydi([],ne,te,ie,$)},j=0;j<O;j++)G[j]=E[F*D][j],X[j]=C[F*D][j];else for(V=Math.max(0,Math.min(z-2,F)),Q=Math.min(1,Math.max(0,F-V)),J.xy=function(ne){return a.evalxy([],F,ne)},J.dxy=function(ne,ie){return a.dxydj([],V,ne,Q,ie)},j=0;j<I;j++)G[j]=E[j][F*D],X[j]=C[j][F*D];return J.axisLetter=w,J.axis=y,J.crossAxis=T,J.value=v[F],J.constvar=b,J.index=F,J.x=G,J.y=X,J.smoothing=T.smoothing,J}if(y.tickmode==="array"){for(i=5e-15,r=(n=[Math.floor((v.length-1-y.arraytick0)/y.arraydtick*(1+i)),Math.ceil(-y.arraytick0/y.arraydtick/(1+i))].sort(function(F,j){return F-j}))[0]-1,s=n[1]+1,l=r;l<s;l++)(o=y.arraytick0+y.arraydtick*l)<0||o>v.length-1||m.push(k(Z(o),{color:y.gridcolor,width:y.gridwidth,dash:y.griddash}));for(l=r;l<s;l++)if(t=y.arraytick0+y.arraydtick*l,c=Math.min(t+y.arraydtick,v.length-1),!(t<0||t>v.length-1||c<0||c>v.length-1))for(x=v[t],g=v[c],h=0;h<y.minorgridcount;h++)(p=c-t)<=0||(d=x+(g-x)*(h+1)/(y.minorgridcount+1)*(y.arraydtick/p))<v[0]||d>v[v.length-1]||_.push(k(B(d),{color:y.minorgridcolor,width:y.minorgridwidth,dash:y.minorgriddash}));y.startline&&f.push(k(Z(0),{color:y.startlinecolor,width:y.startlinewidth})),y.endline&&f.push(k(Z(v.length-1),{color:y.endlinecolor,width:y.endlinewidth}))}else{for(i=5e-15,r=(n=[Math.floor((v[v.length-1]-y.tick0)/y.dtick*(1+i)),Math.ceil((v[0]-y.tick0)/y.dtick/(1+i))].sort(function(F,j){return F-j}))[0],s=n[1],l=r;l<=s;l++)u=y.tick0+y.dtick*l,m.push(k(B(u),{color:y.gridcolor,width:y.gridwidth,dash:y.griddash}));for(l=r-1;l<s+1;l++)for(u=y.tick0+y.dtick*l,h=0;h<y.minorgridcount;h++)(d=u+y.dtick*(h+1)/(y.minorgridcount+1))<v[0]||d>v[v.length-1]||_.push(k(B(d),{color:y.minorgridcolor,width:y.minorgridwidth,dash:y.minorgriddash}));y.startline&&f.push(k(B(v[0]),{color:y.startlinecolor,width:y.startlinewidth})),y.endline&&f.push(k(B(v[v.length-1]),{color:y.endlinecolor,width:y.endlinewidth}))}}},14724:function(Y,P,e){var A=e(54460),k=e(92880).extendFlat;Y.exports=function(a,w){var b,h,o,t=w._labels=[],i=w._gridlines;for(b=0;b<i.length;b++)o=i[b],["start","both"].indexOf(w.showticklabels)!==-1&&(h=A.tickText(w,o.value),k(h,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:o.xy(0),dxy:o.dxy(0,0),axis:o.axis,length:o.crossAxis.length,font:o.axis.tickfont,isFirst:b===0,isLast:b===i.length-1}),t.push(h)),["end","both"].indexOf(w.showticklabels)!==-1&&(h=A.tickText(w,o.value),k(h,{endAnchor:!1,xy:o.xy(o.crossLength-1),dxy:o.dxy(o.crossLength-2,1),axis:o.axis,length:o.crossAxis.length,font:o.axis.tickfont,isFirst:b===0,isLast:b===i.length-1}),t.push(h))}},62284:function(Y){Y.exports=function(P,e,A,k){var a=P[0]-e[0],w=P[1]-e[1],b=A[0]-e[0],h=A[1]-e[1],o=Math.pow(a*a+w*w,.25),t=Math.pow(b*b+h*h,.25),i=(t*t*a-o*o*b)*k,n=(t*t*w-o*o*h)*k,r=t*(o+t)*3,s=o*(o+t)*3;return[[e[0]+(r&&i/r),e[1]+(r&&n/r)],[e[0]-(s&&i/s),e[1]-(s&&n/s)]]}},60776:function(Y,P,e){var A=e(3400).isArrayOrTypedArray;Y.exports=function(k,a,w){var b,h,o,t,i,n,r=[],s=A(k)?k.length:k,l=A(a)?a.length:a,u=A(k)?k:null,d=A(a)?a:null;u&&(o=(u.length-1)/(u[u.length-1]-u[0])/(s-1)),d&&(t=(d.length-1)/(d[d.length-1]-d[0])/(l-1));var c=1/0,x=-1/0;for(h=0;h<l;h++)for(r[h]=[],i=d?(d[h]-d[0])*t:h/(l-1),b=0;b<s;b++)n=(u?(u[b]-u[0])*o:b/(s-1))-i*w,c=Math.min(n,c),x=Math.max(n,x),r[h][b]=n;var g=1/(x-c),p=-c*g;for(h=0;h<l;h++)for(b=0;b<s;b++)r[h][b]=g*r[h][b]+p;return r}},30180:function(Y,P,e){var A=e(62284),k=e(3400).ensureArray;function a(w,b,h){var o=-.5*h[0]+1.5*b[0],t=-.5*h[1]+1.5*b[1];return[(2*o+w[0])/3,(2*t+w[1])/3]}Y.exports=function(w,b,h,o,t,i){var n,r,s,l,u,d,c,x,g,p,v=h[0].length,y=h.length,m=t?3*v-2:v,_=i?3*y-2:y;for(w=k(w,_),b=k(b,_),s=0;s<_;s++)w[s]=k(w[s],m),b[s]=k(b[s],m);for(r=0,l=0;r<y;r++,l+=i?3:1)for(u=w[l],d=b[l],c=h[r],x=o[r],n=0,s=0;n<v;n++,s+=t?3:1)u[s]=c[n],d[s]=x[n];if(t)for(r=0,l=0;r<y;r++,l+=i?3:1){for(n=1,s=3;n<v-1;n++,s+=3)g=A([h[r][n-1],o[r][n-1]],[h[r][n],o[r][n]],[h[r][n+1],o[r][n+1]],t),w[l][s-1]=g[0][0],b[l][s-1]=g[0][1],w[l][s+1]=g[1][0],b[l][s+1]=g[1][1];p=a([w[l][0],b[l][0]],[w[l][2],b[l][2]],[w[l][3],b[l][3]]),w[l][1]=p[0],b[l][1]=p[1],p=a([w[l][m-1],b[l][m-1]],[w[l][m-3],b[l][m-3]],[w[l][m-4],b[l][m-4]]),w[l][m-2]=p[0],b[l][m-2]=p[1]}if(i)for(s=0;s<m;s++){for(l=3;l<_-3;l+=3)g=A([w[l-3][s],b[l-3][s]],[w[l][s],b[l][s]],[w[l+3][s],b[l+3][s]],i),w[l-1][s]=g[0][0],b[l-1][s]=g[0][1],w[l+1][s]=g[1][0],b[l+1][s]=g[1][1];p=a([w[0][s],b[0][s]],[w[2][s],b[2][s]],[w[3][s],b[3][s]]),w[1][s]=p[0],b[1][s]=p[1],p=a([w[_-1][s],b[_-1][s]],[w[_-3][s],b[_-3][s]],[w[_-4][s],b[_-4][s]]),w[_-2][s]=p[0],b[_-2][s]=p[1]}if(t&&i)for(l=1;l<_;l+=(l+1)%3==0?2:1){for(s=3;s<m-3;s+=3)g=A([w[l][s-3],b[l][s-3]],[w[l][s],b[l][s]],[w[l][s+3],b[l][s+3]],t),w[l][s-1]=.5*(w[l][s-1]+g[0][0]),b[l][s-1]=.5*(b[l][s-1]+g[0][1]),w[l][s+1]=.5*(w[l][s+1]+g[1][0]),b[l][s+1]=.5*(b[l][s+1]+g[1][1]);p=a([w[l][0],b[l][0]],[w[l][2],b[l][2]],[w[l][3],b[l][3]]),w[l][1]=.5*(w[l][1]+p[0]),b[l][1]=.5*(b[l][1]+p[1]),p=a([w[l][m-1],b[l][m-1]],[w[l][m-3],b[l][m-3]],[w[l][m-4],b[l][m-4]]),w[l][m-2]=.5*(w[l][m-2]+p[0]),b[l][m-2]=.5*(b[l][m-2]+p[1])}return[w,b]}},24588:function(Y){Y.exports={RELATIVE_CULL_TOLERANCE:1e-6}},26435:function(Y){Y.exports=function(P,e,A){return e&&A?function(k,a,w,b,h){var o,t,i,n,r,s;k||(k=[]),a*=3,w*=3;var l=b*b,u=1-b,d=u*u,c=u*b*2,x=-3*d,g=3*(d-c),p=3*(c-l),v=3*l,y=h*h,m=y*h,_=1-h,f=_*_,S=f*_;for(s=0;s<P.length;s++)o=x*(r=P[s])[w][a]+g*r[w][a+1]+p*r[w][a+2]+v*r[w][a+3],t=x*r[w+1][a]+g*r[w+1][a+1]+p*r[w+1][a+2]+v*r[w+1][a+3],i=x*r[w+2][a]+g*r[w+2][a+1]+p*r[w+2][a+2]+v*r[w+2][a+3],n=x*r[w+3][a]+g*r[w+3][a+1]+p*r[w+3][a+2]+v*r[w+3][a+3],k[s]=S*o+3*(f*h*t+_*y*i)+m*n;return k}:e?function(k,a,w,b,h){var o,t,i,n;k||(k=[]),a*=3;var r=b*b,s=1-b,l=s*s,u=s*b*2,d=-3*l,c=3*(l-u),x=3*(u-r),g=3*r,p=1-h;for(i=0;i<P.length;i++)o=d*(n=P[i])[w][a]+c*n[w][a+1]+x*n[w][a+2]+g*n[w][a+3],t=d*n[w+1][a]+c*n[w+1][a+1]+x*n[w+1][a+2]+g*n[w+1][a+3],k[i]=p*o+h*t;return k}:A?function(k,a,w,b,h){var o,t,i,n,r,s;k||(k=[]),w*=3;var l=h*h,u=l*h,d=1-h,c=d*d,x=c*d;for(r=0;r<P.length;r++)o=(s=P[r])[w][a+1]-s[w][a],t=s[w+1][a+1]-s[w+1][a],i=s[w+2][a+1]-s[w+2][a],n=s[w+3][a+1]-s[w+3][a],k[r]=x*o+3*(c*h*t+d*l*i)+u*n;return k}:function(k,a,w,b,h){var o,t,i,n;k||(k=[]);var r=1-h;for(i=0;i<P.length;i++)o=(n=P[i])[w][a+1]-n[w][a],t=n[w+1][a+1]-n[w+1][a],k[i]=r*o+h*t;return k}}},24464:function(Y){Y.exports=function(P,e,A){return e&&A?function(k,a,w,b,h){var o,t,i,n,r,s;k||(k=[]),a*=3,w*=3;var l=b*b,u=l*b,d=1-b,c=d*d,x=c*d,g=h*h,p=1-h,v=p*p,y=p*h*2,m=-3*v,_=3*(v-y),f=3*(y-g),S=3*g;for(s=0;s<P.length;s++)o=m*(r=P[s])[w][a]+_*r[w+1][a]+f*r[w+2][a]+S*r[w+3][a],t=m*r[w][a+1]+_*r[w+1][a+1]+f*r[w+2][a+1]+S*r[w+3][a+1],i=m*r[w][a+2]+_*r[w+1][a+2]+f*r[w+2][a+2]+S*r[w+3][a+2],n=m*r[w][a+3]+_*r[w+1][a+3]+f*r[w+2][a+3]+S*r[w+3][a+3],k[s]=x*o+3*(c*b*t+d*l*i)+u*n;return k}:e?function(k,a,w,b,h){var o,t,i,n,r,s;k||(k=[]),a*=3;var l=h*h,u=l*h,d=1-h,c=d*d,x=c*d;for(r=0;r<P.length;r++)o=(s=P[r])[w+1][a]-s[w][a],t=s[w+1][a+1]-s[w][a+1],i=s[w+1][a+2]-s[w][a+2],n=s[w+1][a+3]-s[w][a+3],k[r]=x*o+3*(c*h*t+d*l*i)+u*n;return k}:A?function(k,a,w,b,h){var o,t,i,n;k||(k=[]),w*=3;var r=1-b,s=h*h,l=1-h,u=l*l,d=l*h*2,c=-3*u,x=3*(u-d),g=3*(d-s),p=3*s;for(i=0;i<P.length;i++)o=c*(n=P[i])[w][a]+x*n[w+1][a]+g*n[w+2][a]+p*n[w+3][a],t=c*n[w][a+1]+x*n[w+1][a+1]+g*n[w+2][a+1]+p*n[w+3][a+1],k[i]=r*o+b*t;return k}:function(k,a,w,b,h){var o,t,i,n;k||(k=[]);var r=1-b;for(i=0;i<P.length;i++)o=(n=P[i])[w+1][a]-n[w][a],t=n[w+1][a+1]-n[w][a+1],k[i]=r*o+b*t;return k}}},29056:function(Y){Y.exports=function(P,e,A,k,a){var w=e-2,b=A-2;return k&&a?function(h,o,t){var i,n,r,s,l,u;h||(h=[]);var d=Math.max(0,Math.min(Math.floor(o),w)),c=Math.max(0,Math.min(Math.floor(t),b)),x=Math.max(0,Math.min(1,o-d)),g=Math.max(0,Math.min(1,t-c));d*=3,c*=3;var p=x*x,v=p*x,y=1-x,m=y*y,_=m*y,f=g*g,S=f*g,T=1-g,E=T*T,C=E*T;for(u=0;u<P.length;u++)i=_*(l=P[u])[c][d]+3*(m*x*l[c][d+1]+y*p*l[c][d+2])+v*l[c][d+3],n=_*l[c+1][d]+3*(m*x*l[c+1][d+1]+y*p*l[c+1][d+2])+v*l[c+1][d+3],r=_*l[c+2][d]+3*(m*x*l[c+2][d+1]+y*p*l[c+2][d+2])+v*l[c+2][d+3],s=_*l[c+3][d]+3*(m*x*l[c+3][d+1]+y*p*l[c+3][d+2])+v*l[c+3][d+3],h[u]=C*i+3*(E*g*n+T*f*r)+S*s;return h}:k?function(h,o,t){h||(h=[]);var i,n,r,s,l,u,d=Math.max(0,Math.min(Math.floor(o),w)),c=Math.max(0,Math.min(Math.floor(t),b)),x=Math.max(0,Math.min(1,o-d)),g=Math.max(0,Math.min(1,t-c));d*=3;var p=x*x,v=p*x,y=1-x,m=y*y,_=m*y,f=1-g;for(l=0;l<P.length;l++)i=f*(u=P[l])[c][d]+g*u[c+1][d],n=f*u[c][d+1]+g*u[c+1][d+1],r=f*u[c][d+2]+g*u[c+1][d+1],s=f*u[c][d+3]+g*u[c+1][d+1],h[l]=_*i+3*(m*x*n+y*p*r)+v*s;return h}:a?function(h,o,t){h||(h=[]);var i,n,r,s,l,u,d=Math.max(0,Math.min(Math.floor(o),w)),c=Math.max(0,Math.min(Math.floor(t),b)),x=Math.max(0,Math.min(1,o-d)),g=Math.max(0,Math.min(1,t-c));c*=3;var p=g*g,v=p*g,y=1-g,m=y*y,_=m*y,f=1-x;for(l=0;l<P.length;l++)i=f*(u=P[l])[c][d]+x*u[c][d+1],n=f*u[c+1][d]+x*u[c+1][d+1],r=f*u[c+2][d]+x*u[c+2][d+1],s=f*u[c+3][d]+x*u[c+3][d+1],h[l]=_*i+3*(m*g*n+y*p*r)+v*s;return h}:function(h,o,t){h||(h=[]);var i,n,r,s,l=Math.max(0,Math.min(Math.floor(o),w)),u=Math.max(0,Math.min(Math.floor(t),b)),d=Math.max(0,Math.min(1,o-l)),c=Math.max(0,Math.min(1,t-u)),x=1-c,g=1-d;for(r=0;r<P.length;r++)i=g*(s=P[r])[u][l]+d*s[u][l+1],n=g*s[u+1][l]+d*s[u+1][l+1],h[r]=x*i+c*n;return h}}},38356:function(Y,P,e){var A=e(3400),k=e(86411),a=e(93504),w=e(85720),b=e(22548);Y.exports=function(h,o,t,i){function n(s,l){return A.coerce(h,o,w,s,l)}o._clipPathId="clip"+o.uid+"carpet";var r=n("color",b.defaultLine);A.coerceFont(n,"font"),n("carpet"),a(h,o,i,n,r),o.a&&o.b?(o.a.length<3&&(o.aaxis.smoothing=0),o.b.length<3&&(o.baxis.smoothing=0),k(h,o,n)||(o.visible=!1),o._cheater&&n("cheaterslope")):o.visible=!1}},95856:function(Y,P,e){Y.exports={attributes:e(85720),supplyDefaults:e(38356),plot:e(164),calc:e(58744),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},50948:function(Y){Y.exports=function(P,e){for(var A,k=P._fullData.length,a=0;a<k;a++){var w=P._fullData[a];if(w.index!==e.index&&w.type==="carpet"&&(A||(A=w),w.carpet===e.carpet))return w}return A}},53416:function(Y){Y.exports=function(P,e,A){if(P.length===0)return"";var k,a=[],w=A?3:1;for(k=0;k<P.length;k+=w)a.push(P[k]+","+e[k]),A&&k<P.length-w&&(a.push("C"),a.push([P[k+1]+","+e[k+1],P[k+2]+","+e[k+2]+" "].join(" ")));return a.join(A?"":"L")}},87072:function(Y,P,e){var A=e(3400).isArrayOrTypedArray;Y.exports=function(k,a,w){var b;for(A(k)?k.length>a.length&&(k=k.slice(0,a.length)):k=[],b=0;b<a.length;b++)k[b]=w(a[b]);return k}},15584:function(Y){Y.exports=function(P,e,A,k,a,w){var b=a[0]*P.dpdx(e),h=a[1]*P.dpdy(A),o=1,t=1;if(w){var i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),n=Math.sqrt(w[0]*w[0]+w[1]*w[1]),r=(a[0]*w[0]+a[1]*w[1])/i/n;t=Math.max(0,r)}var s=180*Math.atan2(h,b)/Math.PI;return s<-90?(s+=180,o=-o):s>90&&(s-=180,o=-o),{angle:s,flip:o,p:P.c2p(k,e,A),offsetMultplier:t}}},164:function(Y,P,e){var A=e(33428),k=e(43616),a=e(87072),w=e(53416),b=e(15584),h=e(72736),o=e(3400),t=o.strRotate,i=o.strTranslate,n=e(84284);function r(c,x,g,p,v,y,m){var _="const-"+v+"-lines",f=g.selectAll("."+_).data(y);f.enter().append("path").classed(_,!0).style("vector-effect",m?"none":"non-scaling-stroke"),f.each(function(S){var T=S,E=T.x,C=T.y,O=a([],E,c.c2p),I=a([],C,x.c2p),z="M"+w(O,I,T.smoothing);A.select(this).attr("d",z).style("stroke-width",T.width).style("stroke",T.color).style("stroke-dasharray",k.dashStyle(T.dash,T.width)).style("fill","none")}),f.exit().remove()}function s(c,x,g,p,v,y,m,_){var f=y.selectAll("text."+_).data(m);f.enter().append("text").classed(_,!0);var S=0,T={};return f.each(function(E,C){var O;if(E.axis.tickangle==="auto")O=b(p,x,g,E.xy,E.dxy);else{var I=(E.axis.tickangle+180)*Math.PI/180;O=b(p,x,g,E.xy,[Math.cos(I),Math.sin(I)])}C||(T={angle:O.angle,flip:O.flip});var z=(E.endAnchor?-1:1)*O.flip,U=A.select(this).attr({"text-anchor":z>0?"start":"end","data-notex":1}).call(k.font,E.font).text(E.text).call(h.convertToTspans,c),D=k.bBox(this);U.attr("transform",i(O.p[0],O.p[1])+t(O.angle)+i(E.axis.labelpadding*z,.3*D.height)),S=Math.max(S,D.width+E.axis.labelpadding)}),f.exit().remove(),T.maxExtent=S,T}Y.exports=function(c,x,g,p){var v=c._context.staticPlot,y=x.xaxis,m=x.yaxis,_=c._fullLayout._clips;o.makeTraceGroups(p,g,"trace").each(function(f){var S=A.select(this),T=f[0],E=T.trace,C=E.aaxis,O=E.baxis,I=o.ensureSingle(S,"g","minorlayer"),z=o.ensureSingle(S,"g","majorlayer"),U=o.ensureSingle(S,"g","boundarylayer"),D=o.ensureSingle(S,"g","labellayer");S.style("opacity",E.opacity),r(y,m,z,0,"a",C._gridlines,!0),r(y,m,z,0,"b",O._gridlines,!0),r(y,m,I,0,"a",C._minorgridlines,!0),r(y,m,I,0,"b",O._minorgridlines,!0),r(y,m,U,0,"a-boundary",C._boundarylines,v),r(y,m,U,0,"b-boundary",O._boundarylines,v);var B=s(c,y,m,E,0,D,C._labels,"a-label"),Z=s(c,y,m,E,0,D,O._labels,"b-label");(function(F,j,V,te,Q,$,G,X){var J,ne,ie,ae,le=o.aggNums(Math.min,null,V.a),ce=o.aggNums(Math.max,null,V.a),pe=o.aggNums(Math.min,null,V.b),ge=o.aggNums(Math.max,null,V.b);J=.5*(le+ce),ne=pe,ie=V.ab2xy(J,ne,!0),ae=V.dxyda_rough(J,ne),G.angle===void 0&&o.extendFlat(G,b(V,Q,$,ie,V.dxydb_rough(J,ne))),d(F,j,V,0,ie,ae,V.aaxis,Q,$,G,"a-title"),J=le,ne=.5*(pe+ge),ie=V.ab2xy(J,ne,!0),ae=V.dxydb_rough(J,ne),X.angle===void 0&&o.extendFlat(X,b(V,Q,$,ie,V.dxyda_rough(J,ne))),d(F,j,V,0,ie,ae,V.baxis,Q,$,X,"b-title")})(c,D,E,0,y,m,B,Z),function(F,j,V,te,Q){var $,G,X,J,ne=V.select("#"+F._clipPathId);ne.size()||(ne=V.append("clipPath").classed("carpetclip",!0));var ie=o.ensureSingle(ne,"path","carpetboundary"),ae=j.clipsegments,le=[];for(J=0;J<ae.length;J++)$=ae[J],G=a([],$.x,te.c2p),X=a([],$.y,Q.c2p),le.push(w(G,X,$.bicubic));var ce="M"+le.join("L")+"Z";ne.attr("id",F._clipPathId),ie.attr("d",ce)}(E,T,_,y,m)})};var l=n.LINE_SPACING,u=(1-n.MID_SHIFT)/l+1;function d(c,x,g,p,v,y,m,_,f,S,T){var E=[];m.title.text&&E.push(m.title.text);var C=x.selectAll("text."+T).data(E),O=S.maxExtent;C.enter().append("text").classed(T,!0),C.each(function(){var I=b(g,_,f,v,y);["start","both"].indexOf(m.showticklabels)===-1&&(O=0);var z=m.title.font.size;O+=z+m.title.offset;var U=(S.angle+(S.flip<0?180:0)-I.angle+450)%360,D=U>90&&U<270,B=A.select(this);B.text(m.title.text).call(h.convertToTspans,c),D&&(O=(-h.lineCount(B)+u)*l*z-O),B.attr("transform",i(I.p[0],I.p[1])+t(I.angle)+i(0,O)).attr("text-anchor","middle").call(k.font,m.title.font)}),C.exit().remove()}},81e3:function(Y,P,e){var A=e(24588),k=e(14952).findBin,a=e(30180),w=e(29056),b=e(26435),h=e(24464);Y.exports=function(o){var t=o._a,i=o._b,n=t.length,r=i.length,s=o.aaxis,l=o.baxis,u=t[0],d=t[n-1],c=i[0],x=i[r-1],g=t[t.length-1]-t[0],p=i[i.length-1]-i[0],v=g*A.RELATIVE_CULL_TOLERANCE,y=p*A.RELATIVE_CULL_TOLERANCE;u-=v,d+=v,c-=y,x+=y,o.isVisible=function(m,_){return m>u&&m<d&&_>c&&_<x},o.isOccluded=function(m,_){return m<u||m>d||_<c||_>x},o.setScale=function(){var m=o._x,_=o._y,f=a(o._xctrl,o._yctrl,m,_,s.smoothing,l.smoothing);o._xctrl=f[0],o._yctrl=f[1],o.evalxy=w([o._xctrl,o._yctrl],n,r,s.smoothing,l.smoothing),o.dxydi=b([o._xctrl,o._yctrl],s.smoothing,l.smoothing),o.dxydj=h([o._xctrl,o._yctrl],s.smoothing,l.smoothing)},o.i2a=function(m){var _=Math.max(0,Math.floor(m[0]),n-2),f=m[0]-_;return(1-f)*t[_]+f*t[_+1]},o.j2b=function(m){var _=Math.max(0,Math.floor(m[1]),n-2),f=m[1]-_;return(1-f)*i[_]+f*i[_+1]},o.ij2ab=function(m){return[o.i2a(m[0]),o.j2b(m[1])]},o.a2i=function(m){var _=Math.max(0,Math.min(k(m,t),n-2)),f=t[_],S=t[_+1];return Math.max(0,Math.min(n-1,_+(m-f)/(S-f)))},o.b2j=function(m){var _=Math.max(0,Math.min(k(m,i),r-2)),f=i[_],S=i[_+1];return Math.max(0,Math.min(r-1,_+(m-f)/(S-f)))},o.ab2ij=function(m){return[o.a2i(m[0]),o.b2j(m[1])]},o.i2c=function(m,_){return o.evalxy([],m,_)},o.ab2xy=function(m,_,f){if(!f&&(m<t[0]||m>t[n-1]|_<i[0]||_>i[r-1]))return[!1,!1];var S=o.a2i(m),T=o.b2j(_),E=o.evalxy([],S,T);if(f){var C,O,I,z,U=0,D=0,B=[];m<t[0]?(C=0,O=0,U=(m-t[0])/(t[1]-t[0])):m>t[n-1]?(C=n-2,O=1,U=(m-t[n-1])/(t[n-1]-t[n-2])):O=S-(C=Math.max(0,Math.min(n-2,Math.floor(S)))),_<i[0]?(I=0,z=0,D=(_-i[0])/(i[1]-i[0])):_>i[r-1]?(I=r-2,z=1,D=(_-i[r-1])/(i[r-1]-i[r-2])):z=T-(I=Math.max(0,Math.min(r-2,Math.floor(T)))),U&&(o.dxydi(B,C,I,O,z),E[0]+=B[0]*U,E[1]+=B[1]*U),D&&(o.dxydj(B,C,I,O,z),E[0]+=B[0]*D,E[1]+=B[1]*D)}return E},o.c2p=function(m,_,f){return[_.c2p(m[0]),f.c2p(m[1])]},o.p2x=function(m,_,f){return[_.p2c(m[0]),f.p2c(m[1])]},o.dadi=function(m){var _=Math.max(0,Math.min(t.length-2,m));return t[_+1]-t[_]},o.dbdj=function(m){var _=Math.max(0,Math.min(i.length-2,m));return i[_+1]-i[_]},o.dxyda=function(m,_,f,S){var T=o.dxydi(null,m,_,f,S),E=o.dadi(m,f);return[T[0]/E,T[1]/E]},o.dxydb=function(m,_,f,S){var T=o.dxydj(null,m,_,f,S),E=o.dbdj(_,S);return[T[0]/E,T[1]/E]},o.dxyda_rough=function(m,_,f){var S=g*(f||.1),T=o.ab2xy(m+S,_,!0),E=o.ab2xy(m-S,_,!0);return[.5*(T[0]-E[0])/S,.5*(T[1]-E[1])/S]},o.dxydb_rough=function(m,_,f){var S=p*(f||.1),T=o.ab2xy(m,_+S,!0),E=o.ab2xy(m,_-S,!0);return[.5*(T[0]-E[0])/S,.5*(T[1]-E[1])/S]},o.dpdx=function(m){return m._m},o.dpdy=function(m){return m._m}}},51512:function(Y,P,e){var A=e(3400);Y.exports=function(k,a,w){var b,h,o,t=[],i=[],n=k[0].length,r=k.length;function s(F,j){var V,te=0,Q=0;return F>0&&(V=k[j][F-1])!==void 0&&(Q++,te+=V),F<n-1&&(V=k[j][F+1])!==void 0&&(Q++,te+=V),j>0&&(V=k[j-1][F])!==void 0&&(Q++,te+=V),j<r-1&&(V=k[j+1][F])!==void 0&&(Q++,te+=V),te/Math.max(1,Q)}var l,u,d,c,x,g,p,v,y,m,_,f=0;for(b=0;b<n;b++)for(h=0;h<r;h++)k[h][b]===void 0&&(t.push(b),i.push(h),k[h][b]=s(b,h)),f=Math.max(f,Math.abs(k[h][b]));if(!t.length)return k;var S=0,T=0,E=t.length;do{for(S=0,o=0;o<E;o++){b=t[o],h=i[o];var C,O,I,z,U,D,B=0,Z=0;b===0?(I=a[U=Math.min(n-1,2)],z=a[1],C=k[h][U],Z+=(O=k[h][1])+(O-C)*(a[0]-z)/(z-I),B++):b===n-1&&(I=a[U=Math.max(0,n-3)],z=a[n-2],C=k[h][U],Z+=(O=k[h][n-2])+(O-C)*(a[n-1]-z)/(z-I),B++),(b===0||b===n-1)&&h>0&&h<r-1&&(l=w[h+1]-w[h],Z+=((u=w[h]-w[h-1])*k[h+1][b]+l*k[h-1][b])/(u+l),B++),h===0?(I=w[D=Math.min(r-1,2)],z=w[1],C=k[D][b],Z+=(O=k[1][b])+(O-C)*(w[0]-z)/(z-I),B++):h===r-1&&(I=w[D=Math.max(0,r-3)],z=w[r-2],C=k[D][b],Z+=(O=k[r-2][b])+(O-C)*(w[r-1]-z)/(z-I),B++),(h===0||h===r-1)&&b>0&&b<n-1&&(l=a[b+1]-a[b],Z+=((u=a[b]-a[b-1])*k[h][b+1]+l*k[h][b-1])/(u+l),B++),B?Z/=B:(d=a[b+1]-a[b],c=a[b]-a[b-1],v=(x=w[h+1]-w[h])*(g=w[h]-w[h-1])*(x+g),Z=((p=d*c*(d+c))*(g*k[h+1][b]+x*k[h-1][b])+v*(c*k[h][b+1]+d*k[h][b-1]))/(v*(c+d)+p*(g+x))),S+=(m=(y=Z-k[h][b])/f)*m,_=B?0:.85,k[h][b]+=y*(1+_)}S=Math.sqrt(S)}while(T++<100&&S>1e-5);return A.log("Smoother converged to",S,"after",T,"iterations"),k}},86411:function(Y,P,e){var A=e(3400).isArray1D;Y.exports=function(k,a,w){var b=w("x"),h=b&&b.length,o=w("y"),t=o&&o.length;if(!h&&!t)return!1;if(a._cheater=!b,h&&!A(b)||t&&!A(o))a._length=null;else{var i=h?b.length:1/0;t&&(i=Math.min(i,o.length)),a.a&&a.a.length&&(i=Math.min(i,a.a.length)),a.b&&a.b.length&&(i=Math.min(i,a.b.length)),a._length=i}return!0}},83372:function(Y,P,e){var A=e(21776).Ks,k=e(6096),a=e(49084),w=e(45464),b=e(22548).defaultLine,h=e(92880).extendFlat,o=k.marker.line;Y.exports=h({locations:{valType:"data_array",editType:"calc"},locationmode:k.locationmode,z:{valType:"data_array",editType:"calc"},geojson:h({},k.geojson,{}),featureidkey:k.featureidkey,text:h({},k.text,{}),hovertext:h({},k.hovertext,{}),marker:{line:{color:h({},o.color,{dflt:b}),width:h({},o.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:k.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:k.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:h({},w.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:A(),showlegend:h({},w.showlegend,{dflt:!1})},a("",{cLetter:"z",editTypeOverride:"calc"}))},7924:function(Y,P,e){var A=e(38248),k=e(39032).BADNUM,a=e(47128),w=e(20148),b=e(4500);function h(o){return o&&typeof o=="string"}Y.exports=function(o,t){var i,n=t._length,r=new Array(n);i=t.geojson?function(c){return h(c)||A(c)}:h;for(var s=0;s<n;s++){var l=r[s]={},u=t.locations[s],d=t.z[s];i(u)&&A(d)?(l.loc=u,l.z=d):(l.loc=null,l.z=k),l.index=s}return w(r,t),a(o,t,{vals:t.z,containerStr:"",cLetter:"z"}),b(r,t),r}},30972:function(Y,P,e){var A=e(3400),k=e(27260),a=e(83372);Y.exports=function(w,b,h,o){function t(l,u){return A.coerce(w,b,a,l,u)}var i=t("locations"),n=t("z");if(i&&i.length&&A.isArrayOrTypedArray(n)&&n.length){b._length=Math.min(i.length,n.length);var r,s=t("geojson");(typeof s=="string"&&s!==""||A.isPlainObject(s))&&(r="geojson-id"),t("locationmode",r)==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),k(w,b,o,t,{prefix:"",cLetter:"z"}),A.coerceSelectionMarkerOpacity(b,t)}else b.visible=!1}},52428:function(Y){Y.exports=function(P,e,A,k,a){P.location=e.location,P.z=e.z;var w=k[a];return w.fIn&&w.fIn.properties&&(P.properties=w.fIn.properties),P.ct=w.ct,P}},69224:function(Y,P,e){var A=e(54460),k=e(83372),a=e(3400).fillText;Y.exports=function(w,b,h){var o,t,i,n,r=w.cd,s=r[0].trace,l=w.subplot,u=[b,h],d=[b+360,h];for(t=0;t<r.length;t++)if(n=!1,(o=r[t])._polygons){for(i=0;i<o._polygons.length;i++)o._polygons[i].contains(u)&&(n=!n),o._polygons[i].contains(d)&&(n=!n);if(n)break}if(n&&o)return w.x0=w.x1=w.xa.c2p(o.ct),w.y0=w.y1=w.ya.c2p(o.ct),w.index=o.index,w.location=o.loc,w.z=o.z,w.zLabel=A.tickText(l.mockAxis,l.mockAxis.c2l(o.z),"hover").text,w.hovertemplate=o.hovertemplate,function(c,x,g){if(!x.hovertemplate){var p=g.hi||x.hoverinfo,v=String(g.loc),y=p==="all"?k.hoverinfo.flags:p.split("+"),m=y.indexOf("name")!==-1,_=y.indexOf("location")!==-1,f=y.indexOf("z")!==-1,S=y.indexOf("text")!==-1,T=[];!m&&_?c.nameOverride=v:(m&&(c.nameOverride=x.name),_&&T.push(v)),f&&T.push(c.zLabel),S&&a(g,x,T),c.extraText=T.join("<br>")}}(w,s,o),[w]}},54272:function(Y,P,e){Y.exports={attributes:e(83372),supplyDefaults:e(30972),colorbar:e(96288),calc:e(7924),calcGeoJSON:e(88364).calcGeoJSON,plot:e(88364).plot,style:e(7947).style,styleOnSelect:e(7947).styleOnSelect,hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),moduleType:"trace",name:"choropleth",basePlotModule:e(10816),categories:["geo","noOpacity","showLegend"],meta:{}}},88364:function(Y,P,e){var A=e(33428),k=e(3400),a=e(27144),w=e(59972).getTopojsonFeatures,b=e(19280).findExtremes,h=e(7947).style;Y.exports={calcGeoJSON:function(o,t){for(var i=o[0].trace,n=t[i.geo],r=n._subplot,s=i.locationmode,l=i._length,u=s==="geojson-id"?a.extractTraceFeature(o):w(i,r.topojson),d=[],c=[],x=0;x<l;x++){var g=o[x],p=s==="geojson-id"?g.fOut:a.locationToFeature(s,g.loc,u);if(p){g.geojson=p,g.ct=p.properties.ct,g._polygons=a.feature2polygons(p);var v=a.computeBbox(p);d.push(v[0],v[2]),c.push(v[1],v[3])}else g.geojson=null}if(n.fitbounds==="geojson"&&s==="geojson-id"){var y=a.computeBbox(a.getTraceGeojson(i));d=[y[0],y[2]],c=[y[1],y[3]]}var m={padded:!0};i._extremes.lon=b(n.lonaxis._ax,d,m),i._extremes.lat=b(n.lataxis._ax,c,m)},plot:function(o,t,i){var n=t.layers.backplot.select(".choroplethlayer");k.makeTraceGroups(n,i,"trace choropleth").each(function(r){var s=A.select(this).selectAll("path.choroplethlocation").data(k.identity);s.enter().append("path").classed("choroplethlocation",!0),s.exit().remove(),h(o,r)})}}},17328:function(Y){Y.exports=function(P,e){var A,k,a,w,b,h=P.cd,o=P.xaxis,t=P.yaxis,i=[];if(e===!1)for(A=0;A<h.length;A++)h[A].selected=0;else for(A=0;A<h.length;A++)(a=(k=h[A]).ct)&&(w=o.c2p(a),b=t.c2p(a),e.contains([w,b],null,A,P)?(i.push({pointNumber:A,lon:a[0],lat:a[1]}),k.selected=1):k.selected=0);return i}},7947:function(Y,P,e){var A=e(33428),k=e(76308),a=e(43616),w=e(8932);function b(h,o){var t=o[0].trace,i=o[0].node3.selectAll(".choroplethlocation"),n=t.marker||{},r=n.line||{},s=w.makeColorScaleFuncFromTrace(t);i.each(function(l){A.select(this).attr("fill",s(l.z)).call(k.stroke,l.mlc||r.color).call(a.dashLine,"",l.mlw||r.width||0).style("opacity",n.opacity)}),a.selectedPointStyle(i,t)}Y.exports={style:function(h,o){o&&b(0,o)},styleOnSelect:function(h,o){var t=o[0].node3,i=o[0].trace;i.selectedpoints?a.selectedPointStyle(t.selectAll(".choroplethlocation"),i):b(0,o)}}},45608:function(Y,P,e){var A=e(83372),k=e(49084),a=e(21776).Ks,w=e(45464),b=e(92880).extendFlat;Y.exports=b({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:b({},A.featureidkey,{}),below:{valType:"string",editType:"plot"},text:A.text,hovertext:A.hovertext,marker:{line:{color:b({},A.marker.line.color,{editType:"plot"}),width:b({},A.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:b({},A.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:b({},A.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:b({},A.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:A.hoverinfo,hovertemplate:a({},{keys:["properties"]}),showlegend:b({},w.showlegend,{dflt:!1})},k("",{cLetter:"z",editTypeOverride:"calc"}))},13504:function(Y,P,e){var A=e(38248),k=e(3400),a=e(8932),w=e(43616),b=e(44808).makeBlank,h=e(27144);function o(t){var i,n=t[0].trace,r=n._opts;if(n.selectedpoints){for(var s=w.makeSelectedPointStyleFns(n),l=0;l<t.length;l++){var u=t[l];u.fOut&&(u.fOut.properties.mo2=s.selectedOpacityFn(u))}i={type:"identity",property:"mo2"}}else i=k.isArrayOrTypedArray(n.marker.opacity)?{type:"identity",property:"mo"}:n.marker.opacity;return k.extendFlat(r.fill.paint,{"fill-opacity":i}),k.extendFlat(r.line.paint,{"line-opacity":i}),r}Y.exports={convert:function(t){var i=t[0].trace,n=i.visible===!0&&i._length!==0,r={layout:{visibility:"none"},paint:{}},s={layout:{visibility:"none"},paint:{}},l=i._opts={fill:r,line:s,geojson:b()};if(!n)return l;var u=h.extractTraceFeature(t);if(!u)return l;var d,c,x,g=a.makeColorScaleFuncFromTrace(i),p=i.marker,v=p.line||{};k.isArrayOrTypedArray(p.opacity)&&(d=function(T){var E=T.mo;return A(E)?+k.constrain(E,0,1):0}),k.isArrayOrTypedArray(v.color)&&(c=function(T){return T.mlc}),k.isArrayOrTypedArray(v.width)&&(x=function(T){return T.mlw});for(var y=0;y<t.length;y++){var m=t[y],_=m.fOut;if(_){var f=_.properties;f.fc=g(m.z),d&&(f.mo=d(m)),c&&(f.mlc=c(m)),x&&(f.mlw=x(m)),m.ct=f.ct,m._polygons=h.feature2polygons(_)}}var S=d?{type:"identity",property:"mo"}:p.opacity;return k.extendFlat(r.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":S}),k.extendFlat(s.paint,{"line-color":c?{type:"identity",property:"mlc"}:v.color,"line-width":x?{type:"identity",property:"mlw"}:v.width,"line-opacity":S}),r.layout.visibility="visible",s.layout.visibility="visible",l.geojson={type:"FeatureCollection",features:u},o(t),l},convertOnSelect:o}},9352:function(Y,P,e){var A=e(3400),k=e(27260),a=e(45608);Y.exports=function(w,b,h,o){function t(s,l){return A.coerce(w,b,a,s,l)}var i=t("locations"),n=t("z"),r=t("geojson");A.isArrayOrTypedArray(i)&&i.length&&A.isArrayOrTypedArray(n)&&n.length&&(typeof r=="string"&&r!==""||A.isPlainObject(r))?(t("featureidkey"),b._length=Math.min(i.length,n.length),t("below"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),k(w,b,o,t,{prefix:"",cLetter:"z"}),A.coerceSelectionMarkerOpacity(b,t)):b.visible=!1}},85404:function(Y,P,e){Y.exports={attributes:e(45608),supplyDefaults:e(9352),colorbar:e(96288),calc:e(7924),plot:e(61288),hoverPoints:e(69224),eventData:e(52428),selectPoints:e(17328),styleOnSelect:function(A,k){k&&k[0].trace._glTrace.updateOnSelect(k)},getBelow:function(A,k){for(var a=k.getMapLayers(),w=a.length-2;w>=0;w--){var b=a[w].id;if(typeof b=="string"&&b.indexOf("water")===0){for(var h=w+1;h<a.length;h++)if(typeof(b=a[h].id)=="string"&&b.indexOf("plotly-")===-1)return b}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(33688),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},61288:function(Y,P,e){var A=e(13504).convert,k=e(13504).convertOnSelect,a=e(47552).traceLayerPrefix;function w(h,o){this.type="choroplethmapbox",this.subplot=h,this.uid=o,this.sourceId="source-"+o,this.layerList=[["fill",a+o+"-fill"],["line",a+o+"-line"]],this.below=null}var b=w.prototype;b.update=function(h){this._update(A(h)),h[0].trace._glTrace=this},b.updateOnSelect=function(h){this._update(k(h))},b._update=function(h){var o=this.subplot,t=this.layerList,i=o.belowLookup["trace-"+this.uid];o.map.getSource(this.sourceId).setData(h.geojson),i!==this.below&&(this._removeLayers(),this._addLayers(h,i),this.below=i);for(var n=0;n<t.length;n++){var r=t[n],s=r[0],l=r[1],u=h[s];o.setOptions(l,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&o.setOptions(l,"setPaintProperty",u.paint)}},b._addLayers=function(h,o){for(var t=this.subplot,i=this.layerList,n=this.sourceId,r=0;r<i.length;r++){var s=i[r],l=s[0],u=h[l];t.addLayer({type:l,id:s[1],source:n,layout:u.layout,paint:u.paint},o)}},b._removeLayers=function(){for(var h=this.subplot.map,o=this.layerList,t=o.length-1;t>=0;t--)h.removeLayer(o[t][1])},b.dispose=function(){var h=this.subplot.map;this._removeLayers(),h.removeSource(this.sourceId)},Y.exports=function(h,o){var t=o[0].trace,i=new w(h,t.uid),n=i.sourceId,r=A(o),s=i.below=h.belowLookup["trace-"+t.uid];return h.map.addSource(n,{type:"geojson",data:r.geojson}),i._addLayers(r,s),o[0].trace._glTrace=i,i}},86040:function(Y,P,e){var A=e(49084),k=e(29736).axisHoverFormat,a=e(21776).Ks,w=e(52948),b=e(45464),h=e(92880).extendFlat,o={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["norm"]}),uhoverformat:k("u",1),vhoverformat:k("v",1),whoverformat:k("w",1),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),showlegend:h({},b.showlegend,{dflt:!1})};h(o,A("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){o[t]=w[t]}),o.hoverinfo=h({},b.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),o.transforms=void 0,Y.exports=o},83344:function(Y,P,e){var A=e(47128);Y.exports=function(k,a){for(var w=a.u,b=a.v,h=a.w,o=Math.min(a.x.length,a.y.length,a.z.length,w.length,b.length,h.length),t=-1/0,i=1/0,n=0;n<o;n++){var r=w[n],s=b[n],l=h[n],u=Math.sqrt(r*r+s*s+l*l);t=Math.max(t,u),i=Math.min(i,u)}a._len=o,a._normMax=t,A(k,a,{vals:[i,t],containerStr:"",cLetter:"c"})}},6648:function(Y,P,e){var A=e(67792).gl_cone3d,k=e(67792).gl_cone3d.createConeMesh,a=e(3400).simpleMap,w=e(33040).parseColorScale,b=e(8932).extractOpts,h=e(3400).isArrayOrTypedArray,o=e(52094);function t(u,d){this.scene=u,this.uid=d,this.mesh=null,this.data=null}var i=t.prototype;i.handlePick=function(u){if(u.object===this.mesh){var d=u.index=u.data.index,c=this.data.x[d],x=this.data.y[d],g=this.data.z[d],p=this.data.u[d],v=this.data.v[d],y=this.data.w[d];u.traceCoordinate=[c,x,g,p,v,y,Math.sqrt(p*p+v*v+y*y)];var m=this.data.hovertext||this.data.text;return h(m)&&m[d]!==void 0?u.textLabel=m[d]:m&&(u.textLabel=m),!0}};var n={xaxis:0,yaxis:1,zaxis:2},r={tip:1,tail:0,cm:.25,center:.5},s={tip:1,tail:1,cm:.75,center:.5};function l(u,d){var c=u.fullSceneLayout,x=u.dataScale,g={};function p(_,f){var S=c[f],T=x[n[f]];return a(_,function(E){return S.d2l(E)*T})}g.vectors=o(p(d.u,"xaxis"),p(d.v,"yaxis"),p(d.w,"zaxis"),d._len),g.positions=o(p(d.x,"xaxis"),p(d.y,"yaxis"),p(d.z,"zaxis"),d._len);var v=b(d);g.colormap=w(d),g.vertexIntensityBounds=[v.min/d._normMax,v.max/d._normMax],g.coneOffset=r[d.anchor],d.sizemode==="scaled"?g.coneSize=d.sizeref||.5:g.coneSize=d.sizeref&&d._normMax?d.sizeref/d._normMax:.5;var y=A(g),m=d.lightposition;return y.lightPosition=[m.x,m.y,m.z],y.ambient=d.lighting.ambient,y.diffuse=d.lighting.diffuse,y.specular=d.lighting.specular,y.roughness=d.lighting.roughness,y.fresnel=d.lighting.fresnel,y.opacity=d.opacity,d._pad=s[d.anchor]*y.vectorScale*y.coneScale*d._normMax,y}i.update=function(u){this.data=u;var d=l(this.scene,u);this.mesh.update(d)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},Y.exports=function(u,d){var c=u.glplot.gl,x=l(u,d),g=k(c,x),p=new t(u,d.uid);return p.mesh=g,p.data=d,g._trace=p,u.glplot.add(g),p}},86096:function(Y,P,e){var A=e(3400),k=e(27260),a=e(86040);Y.exports=function(w,b,h,o){function t(d,c){return A.coerce(w,b,a,d,c)}var i=t("u"),n=t("v"),r=t("w"),s=t("x"),l=t("y"),u=t("z");i&&i.length&&n&&n.length&&r&&r.length&&s&&s.length&&l&&l.length&&u&&u.length?(t("sizeref"),t("sizemode"),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),k(w,b,o,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),b._length=null):b.visible=!1}},26048:function(Y,P,e){Y.exports={moduleType:"trace",name:"cone",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(86040),supplyDefaults:e(86096),colorbar:{min:"cmin",max:"cmax"},calc:e(83344),plot:e(6648),eventData:function(A,k){return A.norm=k.traceCoordinate[6],A},meta:{}}},67104:function(Y,P,e){var A=e(83328),k=e(52904),a=e(29736),w=a.axisHoverFormat,b=a.descriptionOnlyNumbers,h=e(49084),o=e(98192).u,t=e(25376),i=e(92880).extendFlat,n=e(69104),r=n.COMPARISON_OPS2,s=n.INTERVAL_OPS,l=k.line;Y.exports=i({z:A.z,x:A.x,x0:A.x0,dx:A.dx,y:A.y,y0:A.y0,dy:A.dy,xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,text:A.text,hovertext:A.hovertext,transpose:A.transpose,xtype:A.xtype,ytype:A.ytype,xhoverformat:w("x"),yhoverformat:w("y"),zhoverformat:w("z",1),hovertemplate:A.hovertemplate,texttemplate:i({},A.texttemplate,{}),textfont:i({},A.textfont,{}),hoverongaps:A.hoverongaps,connectgaps:i({},A.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:b("contour label")},operation:{valType:"enumerated",values:[].concat(r).concat(s),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:i({},l.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:o,smoothing:i({},l.smoothing,{}),editType:"plot"}},h("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},20688:function(Y,P,e){var A=e(8932),k=e(19512),a=e(54444),w=e(46960);Y.exports=function(b,h){var o=k(b,h),t=o[0].z;a(h,t);var i,n=h.contours,r=A.extractOpts(h);if(n.coloring==="heatmap"&&r.auto&&h.autocontour===!1){var s=n.start,l=w(n),u=n.size||1,d=Math.floor((l-s)/u)+1;isFinite(u)||(u=1,d=1);var c=s-u/2;i=[c,c+d*u]}else i=t;return A.calc(b,h,{vals:i,cLetter:"z"}),o}},56008:function(Y){Y.exports=function(P,e){var A,k=P[0],a=k.z;switch(e.type){case"levels":var w=Math.min(a[0][0],a[0][1]);for(A=0;A<P.length;A++){var b=P[A];b.prefixBoundary=!b.edgepaths.length&&(w>b.level||b.starts.length&&w===b.level)}break;case"constraint":if(k.prefixBoundary=!1,k.edgepaths.length)return;var h=k.x.length,o=k.y.length,t=-1/0,i=1/0;for(A=0;A<o;A++)i=Math.min(i,a[A][0]),i=Math.min(i,a[A][h-1]),t=Math.max(t,a[A][0]),t=Math.max(t,a[A][h-1]);for(A=1;A<h-1;A++)i=Math.min(i,a[0][A]),i=Math.min(i,a[o-1][A]),t=Math.max(t,a[0][A]),t=Math.max(t,a[o-1][A]);var n,r,s=e.value;switch(e._operation){case">":s>t&&(k.prefixBoundary=!0);break;case"<":(s<i||k.starts.length&&s===i)&&(k.prefixBoundary=!0);break;case"[]":n=Math.min(s[0],s[1]),((r=Math.max(s[0],s[1]))<i||n>t||k.starts.length&&r===i)&&(k.prefixBoundary=!0);break;case"][":n=Math.min(s[0],s[1]),r=Math.max(s[0],s[1]),n<i&&r>t&&(k.prefixBoundary=!0)}}}},55296:function(Y,P,e){var A=e(8932),k=e(41076),a=e(46960);Y.exports={min:"zmin",max:"zmax",calc:function(w,b,h){var o=b.contours,t=b.line,i=o.size||1,n=o.coloring,r=k(b,{isColorbar:!0});if(n==="heatmap"){var s=A.extractOpts(b);h._fillgradient=s.reversescale?A.flipScale(s.colorscale):s.colorscale,h._zrange=[s.min,s.max]}else n==="fill"&&(h._fillcolor=r);h._line={color:n==="lines"?r:t.color,width:o.showlines!==!1?t.width:0,dash:t.dash},h._levels={start:o.start,end:a(o),size:i}}}},93252:function(Y){Y.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},95536:function(Y,P,e){var A=e(38248),k=e(17428),a=e(76308),w=a.addOpacity,b=a.opacity,h=e(69104),o=e(3400).isArrayOrTypedArray,t=h.CONSTRAINT_REDUCTION,i=h.COMPARISON_OPS2;Y.exports=function(n,r,s,l,u,d){var c,x,g,p=r.contours,v=s("contours.operation");p._operation=t[v],function(y,m){var _;i.indexOf(m.operation)===-1?(y("contours.value",[0,1]),o(m.value)?m.value.length>2?m.value=m.value.slice(2):m.length===0?m.value=[0,1]:m.length<2?(_=parseFloat(m.value[0]),m.value=[_,_+1]):m.value=[parseFloat(m.value[0]),parseFloat(m.value[1])]:A(m.value)&&(_=parseFloat(m.value),m.value=[_,_+1])):(y("contours.value",0),A(m.value)||(o(m.value)?m.value=parseFloat(m.value[0]):m.value=0))}(s,p),v==="="?c=p.showlines=!0:(c=s("contours.showlines"),g=s("fillcolor",w((n.line||{}).color||u,.5))),c&&(x=s("line.color",g&&b(g)?w(r.fillcolor,1):u),s("line.width",2),s("line.dash")),s("line.smoothing"),k(s,l,x,d)}},3212:function(Y,P,e){var A=e(69104),k=e(38248);function a(h,o){var t,i=Array.isArray(o);function n(r){return k(r)?+r:null}return A.COMPARISON_OPS2.indexOf(h)!==-1?t=n(i?o[0]:o):A.INTERVAL_OPS.indexOf(h)!==-1?t=i?[n(o[0]),n(o[1])]:[n(o),n(o)]:A.SET_OPS.indexOf(h)!==-1&&(t=i?o.map(n):[n(o)]),t}function w(h){return function(o){o=a(h,o);var t=Math.min(o[0],o[1]),i=Math.max(o[0],o[1]);return{start:t,end:i,size:i-t}}}function b(h){return function(o){return{start:o=a(h,o),end:1/0,size:1/0}}}Y.exports={"[]":w("[]"),"][":w("]["),">":b(">"),"<":b("<"),"=":b("=")}},84952:function(Y){Y.exports=function(P,e,A,k){var a=k("contours.start"),w=k("contours.end"),b=a===!1||w===!1,h=A("contours.size");!(b?e.autocontour=!0:A("autocontour",!1))&&h||A("ncontours")}},82172:function(Y,P,e){var A=e(3400);function k(a){return A.extendFlat({},a,{edgepaths:A.extendDeep([],a.edgepaths),paths:A.extendDeep([],a.paths),starts:A.extendDeep([],a.starts)})}Y.exports=function(a,w){var b,h,o,t=function(r){return r.reverse()},i=function(r){return r};switch(w){case"=":case"<":return a;case">":for(a.length!==1&&A.warn("Contour data invalid for the specified inequality operation."),h=a[0],b=0;b<h.edgepaths.length;b++)h.edgepaths[b]=t(h.edgepaths[b]);for(b=0;b<h.paths.length;b++)h.paths[b]=t(h.paths[b]);for(b=0;b<h.starts.length;b++)h.starts[b]=t(h.starts[b]);return a;case"][":var n=t;t=i,i=n;case"[]":for(a.length!==2&&A.warn("Contour data invalid for the specified inequality range operation."),h=k(a[0]),o=k(a[1]),b=0;b<h.edgepaths.length;b++)h.edgepaths[b]=t(h.edgepaths[b]);for(b=0;b<h.paths.length;b++)h.paths[b]=t(h.paths[b]);for(b=0;b<h.starts.length;b++)h.starts[b]=t(h.starts[b]);for(;o.edgepaths.length;)h.edgepaths.push(i(o.edgepaths.shift()));for(;o.paths.length;)h.paths.push(i(o.paths.shift()));for(;o.starts.length;)h.starts.push(i(o.starts.shift()));return[h]}}},57004:function(Y,P,e){var A=e(3400),k=e(51264),a=e(31147),w=e(95536),b=e(84952),h=e(97680),o=e(39096),t=e(67104);Y.exports=function(i,n,r,s){function l(d,c){return A.coerce(i,n,t,d,c)}if(k(i,n,l,s)){a(i,n,s,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hoverongaps"),l("hovertemplate");var u=l("contours.type")==="constraint";l("connectgaps",A.isArray1D(n.z)),u?w(i,n,l,s,r):(b(i,n,l,function(d){return A.coerce2(i,n,t,d)}),h(i,n,l,s)),n.contours&&n.contours.coloring==="heatmap"&&o(l,s)}else n.visible=!1}},61512:function(Y,P,e){var A=e(3400),k=e(3212),a=e(46960);Y.exports=function(w,b,h){for(var o=w.type==="constraint"?k[w._operation](w.value):w,t=o.size,i=[],n=a(o),r=h.trace._carpetTrace,s=r?{xaxis:r.aaxis,yaxis:r.baxis,x:h.a,y:h.b}:{xaxis:b.xaxis,yaxis:b.yaxis,x:h.x,y:h.y},l=o.start;l<n;l+=t)if(i.push(A.extendFlat({level:l,crossings:{},starts:[],edgepaths:[],paths:[],z:h.z,smoothing:h.trace.line.smoothing},s)),i.length>1e3){A.warn("Too many contours, clipping at 1000",w);break}return i}},46960:function(Y){Y.exports=function(P){return P.end+P.size/1e6}},88748:function(Y,P,e){var A=e(3400),k=e(93252);function a(h,o,t,i){return Math.abs(h[0]-o[0])<t&&Math.abs(h[1]-o[1])<i}function w(h,o,t,i,n){var r,s=o.join(","),l=h.crossings[s],u=function(ne,ie,ae){var le=0,ce=0;return ne>20&&ie?ne===208||ne===1114?le=ae[0]===0?1:-1:ce=ae[1]===0?1:-1:k.BOTTOMSTART.indexOf(ne)!==-1?ce=1:k.LEFTSTART.indexOf(ne)!==-1?le=1:k.TOPSTART.indexOf(ne)!==-1?ce=-1:le=-1,[le,ce]}(l,t,o),d=[b(h,o,[-u[0],-u[1]])],c=h.z.length,x=h.z[0].length,g=o.slice(),p=u.slice();for(r=0;r<1e4;r++){if(l>20?(l=k.CHOOSESADDLE[l][(u[0]||u[1])<0?0:1],h.crossings[s]=k.SADDLEREMAINDER[l]):delete h.crossings[s],!(u=k.NEWDELTA[l])){A.log("Found bad marching index:",l,o,h.level);break}d.push(b(h,o,u)),o[0]+=u[0],o[1]+=u[1],s=o.join(","),a(d[d.length-1],d[d.length-2],i,n)&&d.pop();var v=u[0]&&(o[0]<0||o[0]>x-2)||u[1]&&(o[1]<0||o[1]>c-2);if(o[0]===g[0]&&o[1]===g[1]&&u[0]===p[0]&&u[1]===p[1]||t&&v)break;l=h.crossings[s]}r===1e4&&A.log("Infinite loop in contour?");var y,m,_,f,S,T,E,C,O,I,z,U,D,B,Z,F=a(d[0],d[d.length-1],i,n),j=0,V=.2*h.smoothing,te=[],Q=0;for(r=1;r<d.length;r++)U=d[r],D=d[r-1],B=U[2]-D[2],Z=U[3]-D[3],j+=E=Math.sqrt(B*B+Z*Z),te.push(E);var $=j/te.length*V;function G(ne){return d[ne%d.length]}for(r=d.length-2;r>=Q;r--)if((y=te[r])<$){for(_=0,m=r-1;m>=Q&&y+te[m]<$;m--)y+=te[m];if(F&&r===d.length-2)for(_=0;_<m&&y+te[_]<$;_++)y+=te[_];S=r-m+_+1,T=Math.floor((r+m+_+2)/2),f=F||r!==d.length-2?F||m!==-1?S%2?G(T):[(G(T)[0]+G(T+1)[0])/2,(G(T)[1]+G(T+1)[1])/2]:d[0]:d[d.length-1],d.splice(m+1,r-m+1,f),r=m+1,_&&(Q=_),F&&(r===d.length-2?d[_]=d[d.length-1]:r===0&&(d[d.length-1]=d[0]))}for(d.splice(0,Q),r=0;r<d.length;r++)d[r].length=2;if(!(d.length<2))if(F)d.pop(),h.paths.push(d);else{t||A.log("Unclosed interior contour?",h.level,g.join(","),d.join("L"));var X=!1;for(C=0;C<h.edgepaths.length;C++)if(I=h.edgepaths[C],!X&&a(I[0],d[d.length-1],i,n)){d.pop(),X=!0;var J=!1;for(O=0;O<h.edgepaths.length;O++)if(a((z=h.edgepaths[O])[z.length-1],d[0],i,n)){J=!0,d.shift(),h.edgepaths.splice(C,1),O===C?h.paths.push(d.concat(z)):(O>C&&O--,h.edgepaths[O]=z.concat(d,I));break}J||(h.edgepaths[C]=d.concat(I))}for(C=0;C<h.edgepaths.length&&!X;C++)a((I=h.edgepaths[C])[I.length-1],d[0],i,n)&&(d.shift(),h.edgepaths[C]=I.concat(d),X=!0);X||h.edgepaths.push(d)}}function b(h,o,t){var i=o[0]+Math.max(t[0],0),n=o[1]+Math.max(t[1],0),r=h.z[n][i],s=h.xaxis,l=h.yaxis;if(t[1]){var u=(h.level-r)/(h.z[n][i+1]-r),d=(u!==1?(1-u)*s.c2l(h.x[i]):0)+(u!==0?u*s.c2l(h.x[i+1]):0);return[s.c2p(s.l2c(d),!0),l.c2p(h.y[n],!0),i+u,n]}var c=(h.level-r)/(h.z[n+1][i]-r),x=(c!==1?(1-c)*l.c2l(h.y[n]):0)+(c!==0?c*l.c2l(h.y[n+1]):0);return[s.c2p(h.x[i],!0),l.c2p(l.l2c(x),!0),i,n+c]}Y.exports=function(h,o,t){var i,n,r,s;for(o=o||.01,t=t||.01,n=0;n<h.length;n++){for(r=h[n],s=0;s<r.starts.length;s++)w(r,r.starts[s],"edge",o,t);for(i=0;Object.keys(r.crossings).length&&i<1e4;)i++,w(r,Object.keys(r.crossings)[0].split(",").map(Number),void 0,o,t);i===1e4&&A.log("Infinite loop in contour?")}}},38200:function(Y,P,e){var A=e(76308),k=e(55512);Y.exports=function(a,w,b,h,o){o||(o={}),o.isContour=!0;var t=k(a,w,b,h,o);return t&&t.forEach(function(i){var n=i.trace;n.contours.type==="constraint"&&(n.fillcolor&&A.opacity(n.fillcolor)?i.color=A.addOpacity(n.fillcolor,1):n.contours.showlines&&A.opacity(n.line.color)&&(i.color=A.addOpacity(n.line.color,1)))}),t}},66240:function(Y,P,e){Y.exports={attributes:e(67104),supplyDefaults:e(57004),calc:e(20688),plot:e(23676).plot,style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"contour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},17428:function(Y,P,e){var A=e(3400);Y.exports=function(k,a,w,b){if(b||(b={}),k("contours.showlabels")){var h=a.font;A.coerceFont(k,"contours.labelfont",{family:h.family,size:h.size,color:w}),k("contours.labelformat")}b.hasHover!==!1&&k("zhoverformat")}},41076:function(Y,P,e){var A=e(33428),k=e(8932),a=e(46960);Y.exports=function(w){var b=w.contours,h=b.start,o=a(b),t=b.size||1,i=Math.floor((o-h)/t)+1,n=b.coloring==="lines"?0:1,r=k.extractOpts(w);isFinite(t)||(t=1,i=1);var s,l,u=r.reversescale?k.flipScale(r.colorscale):r.colorscale,d=u.length,c=new Array(d),x=new Array(d),g=r.min,p=r.max;if(b.coloring==="heatmap"){for(l=0;l<d;l++)s=u[l],c[l]=s[0]*(p-g)+g,x[l]=s[1];var v=A.extent([g,p,b.start,b.start+t*(i-1)]),y=v[g<p?0:1],m=v[g<p?1:0];y!==g&&(c.splice(0,0,y),x.splice(0,0,x[0])),m!==p&&(c.push(m),x.push(x[x.length-1]))}else{var _=w._input&&typeof w._input.zmin=="number"&&typeof w._input.zmax=="number";for(_&&(h<=g||o>=p)&&(h<=g&&(h=g),o>=p&&(o=p),i=Math.floor((o-h)/t)+1,n=0),l=0;l<d;l++)s=u[l],c[l]=(s[0]*(i+n-1)-n/2)*t+h,x[l]=s[1];(_||w.autocontour)&&(c[0]>g&&(c.unshift(g),x.unshift(x[0])),c[c.length-1]<p&&(c.push(p),x.push(x[x.length-1])))}return k.makeColorScaleFunc({domain:c,range:x},{noNumericCheck:!0})}},72424:function(Y,P,e){var A=e(93252);function k(a,w){var b=(w[0][0]>a?0:1)+(w[0][1]>a?0:2)+(w[1][1]>a?0:4)+(w[1][0]>a?0:8);return b===5||b===10?a>(w[0][0]+w[0][1]+w[1][0]+w[1][1])/4?b===5?713:1114:b===5?104:208:b===15?0:b}Y.exports=function(a){var w,b,h,o,t,i,n,r,s,l=a[0].z,u=l.length,d=l[0].length,c=u===2||d===2;for(b=0;b<u-1;b++)for(o=[],b===0&&(o=o.concat(A.BOTTOMSTART)),b===u-2&&(o=o.concat(A.TOPSTART)),w=0;w<d-1;w++)for(h=o.slice(),w===0&&(h=h.concat(A.LEFTSTART)),w===d-2&&(h=h.concat(A.RIGHTSTART)),t=w+","+b,i=[[l[b][w],l[b][w+1]],[l[b+1][w],l[b+1][w+1]]],s=0;s<a.length;s++)(n=k((r=a[s]).level,i))&&(r.crossings[t]=n,h.indexOf(n)!==-1&&(r.starts.push([w,b]),c&&h.indexOf(n,h.indexOf(n)+1)!==-1&&r.starts.push([w,b])))}},23676:function(Y,P,e){var A=e(33428),k=e(3400),a=e(43616),w=e(8932),b=e(72736),h=e(54460),o=e(78344),t=e(41420),i=e(72424),n=e(88748),r=e(61512),s=e(82172),l=e(56008),u=e(93252),d=u.LABELOPTIMIZER;function c(p,v){var y,m,_,f,S,T,E,C="",O=0,I=p.edgepaths.map(function(F,j){return j}),z=!0;function U(F){return Math.abs(F[1]-v[2][1])<.01}function D(F){return Math.abs(F[0]-v[0][0])<.01}function B(F){return Math.abs(F[0]-v[2][0])<.01}for(;I.length;){for(T=a.smoothopen(p.edgepaths[O],p.smoothing),C+=z?T:T.replace(/^M/,"L"),I.splice(I.indexOf(O),1),y=p.edgepaths[O][p.edgepaths[O].length-1],f=-1,_=0;_<4;_++){if(!y){k.log("Missing end?",O,p);break}for(E=y,Math.abs(E[1]-v[0][1])<.01&&!B(y)?m=v[1]:D(y)?m=v[0]:U(y)?m=v[3]:B(y)&&(m=v[2]),S=0;S<p.edgepaths.length;S++){var Z=p.edgepaths[S][0];Math.abs(y[0]-m[0])<.01?Math.abs(y[0]-Z[0])<.01&&(Z[1]-y[1])*(m[1]-Z[1])>=0&&(m=Z,f=S):Math.abs(y[1]-m[1])<.01?Math.abs(y[1]-Z[1])<.01&&(Z[0]-y[0])*(m[0]-Z[0])>=0&&(m=Z,f=S):k.log("endpt to newendpt is not vert. or horz.",y,m,Z)}if(y=m,f>=0)break;C+="L"+m}if(f===p.edgepaths.length){k.log("unclosed perimeter path");break}O=f,(z=I.indexOf(O)===-1)&&(O=I[0],C+="Z")}for(O=0;O<p.paths.length;O++)C+=a.smoothclosed(p.paths[O],p.smoothing);return C}function x(p,v,y,m){var _=v.width/2,f=v.height/2,S=p.x,T=p.y,E=p.theta,C=Math.cos(E)*_,O=Math.sin(E)*_,I=(S>m.center?m.right-S:S-m.left)/(C+Math.abs(Math.sin(E)*f)),z=(T>m.middle?m.bottom-T:T-m.top)/(Math.abs(O)+Math.cos(E)*f);if(I<1||z<1)return 1/0;var U=d.EDGECOST*(1/(I-1)+1/(z-1));U+=d.ANGLECOST*E*E;for(var D=S-C,B=T-O,Z=S+C,F=T+O,j=0;j<y.length;j++){var V=y[j],te=Math.cos(V.theta)*V.width/2,Q=Math.sin(V.theta)*V.width/2,$=2*k.segmentDistance(D,B,Z,F,V.x-te,V.y-Q,V.x+te,V.y+Q)/(v.height+V.height),G=V.level===v.level,X=G?d.SAMELEVELDISTANCE:1;if($<=X)return 1/0;U+=d.NEIGHBORCOST*(G?d.SAMELEVELFACTOR:1)/($-X)}return U}function g(p){var v,y,m=p.trace._emptypoints,_=[],f=p.z.length,S=p.z[0].length,T=[];for(v=0;v<S;v++)T.push(1);for(v=0;v<f;v++)_.push(T.slice());for(v=0;v<m.length;v++)_[(y=m[v])[0]][y[1]]=0;return p.zmask=_,_}P.plot=function(p,v,y,m){var _=v.xaxis,f=v.yaxis;k.makeTraceGroups(m,y,"contour").each(function(S){var T=A.select(this),E=S[0],C=E.trace,O=E.x,I=E.y,z=C.contours,U=r(z,v,E),D=k.ensureSingle(T,"g","heatmapcoloring"),B=[];z.coloring==="heatmap"&&(B=[S]),t(p,v,B,D),i(U),n(U);var Z=_.c2p(O[0],!0),F=_.c2p(O[O.length-1],!0),j=f.c2p(I[0],!0),V=f.c2p(I[I.length-1],!0),te=[[Z,V],[F,V],[F,j],[Z,j]],Q=U;z.type==="constraint"&&(Q=s(U,z._operation)),function($,G,X){var J=k.ensureSingle($,"g","contourbg").selectAll("path").data(X.coloring==="fill"?[0]:[]);J.enter().append("path"),J.exit().remove(),J.attr("d","M"+G.join("L")+"Z").style("stroke","none")}(T,te,z),function($,G,X,J){var ne=J.coloring==="fill"||J.type==="constraint"&&J._operation!=="=",ie="M"+X.join("L")+"Z";ne&&l(G,J);var ae=k.ensureSingle($,"g","contourfill").selectAll("path").data(ne?G:[]);ae.enter().append("path"),ae.exit().remove(),ae.each(function(le){var ce=(le.prefixBoundary?ie:"")+c(le,X);ce?A.select(this).attr("d",ce).style("stroke","none"):A.select(this).remove()})}(T,Q,te,z),function($,G,X,J,ne){var ie=X._context.staticPlot,ae=k.ensureSingle($,"g","contourlines"),le=ne.showlines!==!1,ce=ne.showlabels,pe=le&&ce,ge=P.createLines(ae,le||ce,G,ie),me=P.createLineClip(ae,pe,X,J.trace.uid),ve=$.selectAll("g.contourlabels").data(ce?[0]:[]);if(ve.exit().remove(),ve.enter().append("g").classed("contourlabels",!0),ce){var Me=[],_e=[];k.clearLocationCache();var we=P.labelFormatter(X,J),oe=a.tester.append("text").attr("data-notex",1).call(a.font,ne.labelfont),se=G[0].xaxis,de=G[0].yaxis,Ee=se._length,Te=de._length,Se=se.range,Le=de.range,Oe=k.aggNums(Math.min,null,J.x),he=k.aggNums(Math.max,null,J.x),xe=k.aggNums(Math.min,null,J.y),ke=k.aggNums(Math.max,null,J.y),Re=Math.max(se.c2p(Oe,!0),0),ze=Math.min(se.c2p(he,!0),Ee),Ie=Math.max(de.c2p(ke,!0),0),He=Math.min(de.c2p(xe,!0),Te),qe={};Se[0]<Se[1]?(qe.left=Re,qe.right=ze):(qe.left=ze,qe.right=Re),Le[0]<Le[1]?(qe.top=Ie,qe.bottom=He):(qe.top=He,qe.bottom=Ie),qe.middle=(qe.top+qe.bottom)/2,qe.center=(qe.left+qe.right)/2,Me.push([[qe.left,qe.top],[qe.right,qe.top],[qe.right,qe.bottom],[qe.left,qe.bottom]]);var Je=Math.sqrt(Ee*Ee+Te*Te),st=u.LABELDISTANCE*Je/Math.max(1,G.length/u.LABELINCREASE);ge.each(function(it){var vt=P.calcTextOpts(it.level,we,oe,X);A.select(this).selectAll("path").each(function(){var _t=k.getVisibleSegment(this,qe,vt.height/2);if(_t&&!(_t.len<(vt.width+vt.height)*u.LABELMIN))for(var xt=Math.min(Math.ceil(_t.len/st),u.LABELMAX),et=0;et<xt;et++){var nt=P.findBestTextLocation(this,_t,vt,_e,qe);if(!nt)break;P.addLabelData(nt,vt,_e,Me)}})}),oe.remove(),P.drawLabels(ve,_e,X,me,pe?Me:null)}ce&&!le&&ge.remove()}(T,U,p,E,z),function($,G,X,J,ne){var ie=J.trace,ae=X._fullLayout._clips,le="clip"+ie.uid,ce=ae.selectAll("#"+le).data(ie.connectgaps?[]:[0]);if(ce.enter().append("clipPath").classed("contourclip",!0).attr("id",le),ce.exit().remove(),ie.connectgaps===!1){var pe={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:G.xaxis,yaxis:G.yaxis,x:J.x,y:J.y,z:g(J),smoothing:0};i([pe]),n([pe]),l([pe],{type:"levels"}),k.ensureSingle(ce,"path","").attr("d",(pe.prefixBoundary?"M"+ne.join("L")+"Z":"")+c(pe,ne))}else le=null;a.setClipUrl($,le,X)}(T,v,p,E,te)})},P.createLines=function(p,v,y,m){var _=y[0].smoothing,f=p.selectAll("g.contourlevel").data(v?y:[]);if(f.exit().remove(),f.enter().append("g").classed("contourlevel",!0),v){var S=f.selectAll("path.openline").data(function(E){return E.pedgepaths||E.edgepaths});S.exit().remove(),S.enter().append("path").classed("openline",!0),S.attr("d",function(E){return a.smoothopen(E,_)}).style("stroke-miterlimit",1).style("vector-effect",m?"none":"non-scaling-stroke");var T=f.selectAll("path.closedline").data(function(E){return E.ppaths||E.paths});T.exit().remove(),T.enter().append("path").classed("closedline",!0),T.attr("d",function(E){return a.smoothclosed(E,_)}).style("stroke-miterlimit",1).style("vector-effect",m?"none":"non-scaling-stroke")}return f},P.createLineClip=function(p,v,y,m){var _=v?"clipline"+m:null,f=y._fullLayout._clips.selectAll("#"+_).data(v?[0]:[]);return f.exit().remove(),f.enter().append("clipPath").classed("contourlineclip",!0).attr("id",_),a.setClipUrl(p,_,y),f},P.labelFormatter=function(p,v){var y=p._fullLayout,m=v.trace,_=m.contours,f={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(_.labelformat)f.tickformat=_.labelformat,o(f,y);else{var S=w.extractOpts(m);if(S&&S.colorbar&&S.colorbar._axis)f=S.colorbar._axis;else{if(_.type==="constraint"){var T=_.value;k.isArrayOrTypedArray(T)?f.range=[T[0],T[T.length-1]]:f.range=[T,T]}else f.range=[_.start,_.end],f.nticks=(_.end-_.start)/_.size;f.range[0]===f.range[1]&&(f.range[1]+=f.range[0]||1),f.nticks||(f.nticks=1e3),o(f,y),h.prepTicks(f),f._tmin=null,f._tmax=null}}return function(E){return h.tickText(f,E).text}},P.calcTextOpts=function(p,v,y,m){var _=v(p);y.text(_).call(b.convertToTspans,m);var f=y.node(),S=a.bBox(f,!0);return{text:_,width:S.width,height:S.height,fontSize:+f.style["font-size"].replace("px",""),level:p,dy:(S.top+S.bottom)/2}},P.findBestTextLocation=function(p,v,y,m,_){var f,S,T,E,C,O=y.width;v.isClosed?(S=v.len/d.INITIALSEARCHPOINTS,f=v.min+S/2,T=v.max):(S=(v.len-O)/(d.INITIALSEARCHPOINTS+1),f=v.min+S+O/2,T=v.max-(S+O)/2);for(var I=1/0,z=0;z<d.ITERATIONS;z++){for(var U=f;U<T;U+=S){var D=k.getTextLocation(p,v.total,U,O),B=x(D,y,m,_);B<I&&(I=B,C=D,E=U)}if(I>2*d.MAXCOST)break;z&&(S/=2),T=(f=E-S/2)+1.5*S}if(I<=d.MAXCOST)return C},P.addLabelData=function(p,v,y,m){var _=v.fontSize,f=v.width+_/3,S=Math.max(0,v.height-_/3),T=p.x,E=p.y,C=p.theta,O=Math.sin(C),I=Math.cos(C),z=function(D,B){return[T+D*I-B*O,E+D*O+B*I]},U=[z(-f/2,-S/2),z(-f/2,S/2),z(f/2,S/2),z(f/2,-S/2)];y.push({text:v.text,x:T,y:E,dy:v.dy,theta:C,level:v.level,width:f,height:S}),m.push(U)},P.drawLabels=function(p,v,y,m,_){var f=p.selectAll("text").data(v,function(E){return E.text+","+E.x+","+E.y+","+E.theta});if(f.exit().remove(),f.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(E){var C=E.x+Math.sin(E.theta)*E.dy,O=E.y-Math.cos(E.theta)*E.dy;A.select(this).text(E.text).attr({x:C,y:O,transform:"rotate("+180*E.theta/Math.PI+" "+C+" "+O+")"}).call(b.convertToTspans,y)}),_){for(var S="",T=0;T<_.length;T++)S+="M"+_[T].join("L")+"Z";k.ensureSingle(m,"path","").attr("d",S)}}},54444:function(Y,P,e){var A=e(54460),k=e(3400);function a(w,b,h){var o={type:"linear",range:[w,b]};return A.autoTicks(o,(b-w)/(h||15)),o}Y.exports=function(w,b){var h=w.contours;if(w.autocontour){var o=w.zmin,t=w.zmax;(w.zauto||o===void 0)&&(o=k.aggNums(Math.min,null,b)),(w.zauto||t===void 0)&&(t=k.aggNums(Math.max,null,b));var i=a(o,t,w.ncontours);h.size=i.dtick,h.start=A.tickFirst(i),i.range.reverse(),h.end=A.tickFirst(i),h.start===o&&(h.start+=h.size),h.end===t&&(h.end-=h.size),h.start>h.end&&(h.start=h.end=(h.start+h.end)/2),w._input.contours||(w._input.contours={}),k.extendFlat(w._input.contours,{start:h.start,end:h.end,size:h.size}),w._input.autocontour=!0}else if(h.type!=="constraint"){var n,r=h.start,s=h.end,l=w._input.contours;r>s&&(h.start=l.start=s,s=h.end=l.end=r,r=h.start),h.size>0||(n=r===s?1:a(r,s,w.ncontours).dtick,l.size=h.size=n)}}},52440:function(Y,P,e){var A=e(33428),k=e(43616),a=e(41648),w=e(41076);Y.exports=function(b){var h=A.select(b).selectAll("g.contour");h.style("opacity",function(o){return o[0].trace.opacity}),h.each(function(o){var t=A.select(this),i=o[0].trace,n=i.contours,r=i.line,s=n.size||1,l=n.start,u=n.type==="constraint",d=!u&&n.coloring==="lines",c=!u&&n.coloring==="fill",x=d||c?w(i):null;t.selectAll("g.contourlevel").each(function(v){A.select(this).selectAll("path").call(k.lineGroupStyle,r.width,d?x(v.level):r.color,r.dash)});var g=n.labelfont;if(t.selectAll("g.contourlabels text").each(function(v){k.font(A.select(this),{family:g.family,size:g.size,color:g.color||(d?x(v.level):r.color)})}),u)t.selectAll("g.contourfill path").style("fill",i.fillcolor);else if(c){var p;t.selectAll("g.contourfill path").style("fill",function(v){return p===void 0&&(p=v.level),x(v.level+.5*s)}),p===void 0&&(p=l),t.selectAll("g.contourbg path").style("fill",x(p-.5*s))}}),a(b)}},97680:function(Y,P,e){var A=e(27260),k=e(17428);Y.exports=function(a,w,b,h,o){var t,i=b("contours.coloring"),n="";i==="fill"&&(t=b("contours.showlines")),t!==!1&&(i!=="lines"&&(n=b("line.color","#000")),b("line.width",.5),b("line.dash")),i!=="none"&&(a.showlegend!==!0&&(w.showlegend=!1),w._dfltShowLegend=!1,A(a,w,h,b,{prefix:"",cLetter:"z"})),b("line.smoothing"),k(b,h,n,o)}},37960:function(Y,P,e){var A=e(83328),k=e(67104),a=e(49084),w=e(92880).extendFlat,b=k.contours;Y.exports=w({carpet:{valType:"string",editType:"calc"},z:A.z,a:A.x,a0:A.x0,da:A.dx,b:A.y,b0:A.y0,db:A.dy,text:A.text,hovertext:A.hovertext,transpose:A.transpose,atype:A.xtype,btype:A.ytype,fillcolor:k.fillcolor,autocontour:k.autocontour,ncontours:k.ncontours,contours:{type:b.type,start:b.start,end:b.end,size:b.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:b.showlines,showlabels:b.showlabels,labelfont:b.labelfont,labelformat:b.labelformat,operation:b.operation,value:b.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:k.line.color,width:k.line.width,dash:k.line.dash,smoothing:k.line.smoothing,editType:"plot"},transforms:void 0},a("",{cLetter:"z",autoColorDflt:!1}))},30572:function(Y,P,e){var A=e(47128),k=e(3400),a=e(2872),w=e(26136),b=e(70448),h=e(11240),o=e(35744),t=e(3252),i=e(50948),n=e(54444);Y.exports=function(r,s){var l=s._carpetTrace=i(r,s);if(l&&l.visible&&l.visible!=="legendonly"){if(!s.a||!s.b){var u=r.data[l.index],d=r.data[s.index];d.a||(d.a=u.a),d.b||(d.b=u.b),t(d,s,s._defaultColor,r._fullLayout)}var c=function(x,g){var p,v,y,m,_,f,S,T=g._carpetTrace,E=T.aaxis,C=T.baxis;E._minDtick=0,C._minDtick=0,k.isArray1D(g.z)&&a(g,E,C,"a","b",["z"]),p=g._a=g._a||g.a,m=g._b=g._b||g.b,p=p?E.makeCalcdata(g,"_a"):[],m=m?C.makeCalcdata(g,"_b"):[],v=g.a0||0,y=g.da||1,_=g.b0||0,f=g.db||1,S=g._z=w(g._z||g.z,g.transpose),g._emptypoints=h(S),b(S,g._emptypoints);var O=k.maxRowLength(S),I=g.xtype==="scaled"?"":p,z=o(g,I,v,y,O,E),U=g.ytype==="scaled"?"":m,D={a:z,b:o(g,U,_,f,S.length,C),z:S};return g.contours.type==="levels"&&g.contours.coloring!=="none"&&A(x,g,{vals:S,containerStr:"",cLetter:"z"}),[D]}(r,s);return n(s,s._z),c}}},3252:function(Y,P,e){var A=e(3400),k=e(51264),a=e(37960),w=e(95536),b=e(84952),h=e(97680);Y.exports=function(o,t,i,n){function r(s,l){return A.coerce(o,t,a,s,l)}if(r("carpet"),o.a&&o.b){if(!k(o,t,r,n,"a","b"))return void(t.visible=!1);r("text"),r("contours.type")==="constraint"?w(o,t,r,n,i,{hasHover:!1}):(b(o,t,r,function(s){return A.coerce2(o,t,a,s)}),h(o,t,r,n,{hasHover:!1}))}else t._defaultColor=i,t._length=null}},40448:function(Y,P,e){Y.exports={attributes:e(37960),supplyDefaults:e(3252),colorbar:e(55296),calc:e(30572),plot:e(94440),style:e(52440),moduleType:"trace",name:"contourcarpet",basePlotModule:e(57952),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},94440:function(Y,P,e){var A=e(33428),k=e(87072),a=e(53416),w=e(43616),b=e(3400),h=e(72424),o=e(88748),t=e(23676),i=e(93252),n=e(82172),r=e(61512),s=e(56008),l=e(50948),u=e(77712);function d(g,p,v){var y=g.getPointAtLength(p),m=g.getPointAtLength(v),_=m.x-y.x,f=m.y-y.y,S=Math.sqrt(_*_+f*f);return[_/S,f/S]}function c(g){var p=Math.sqrt(g[0]*g[0]+g[1]*g[1]);return[g[0]/p,g[1]/p]}function x(g,p){var v=Math.abs(g[0]*p[0]+g[1]*p[1]);return Math.sqrt(1-v*v)/v}Y.exports=function(g,p,v,y){var m=p.xaxis,_=p.yaxis;b.makeTraceGroups(y,v,"contour").each(function(f){var S=A.select(this),T=f[0],E=T.trace,C=E._carpetTrace=l(g,E),O=g.calcdata[C.index][0];if(C.visible&&C.visible!=="legendonly"){var I=T.a,z=T.b,U=E.contours,D=r(U,p,T),B=U.type==="constraint",Z=U._operation,F=B?Z==="="?"lines":"fill":U.coloring,j=[[I[0],z[z.length-1]],[I[I.length-1],z[z.length-1]],[I[I.length-1],z[0]],[I[0],z[0]]];h(D);var V=1e-8*(I[I.length-1]-I[0]),te=1e-8*(z[z.length-1]-z[0]);o(D,V,te);var Q,$,G,X,J=D;U.type==="constraint"&&(J=n(D,Z)),function(le,ce){var pe,ge,me,ve,Me,_e,we,oe,se;for(pe=0;pe<le.length;pe++){for(Me=(ve=le[pe]).pedgepaths=[],_e=ve.ppaths=[],ge=0;ge<ve.edgepaths.length;ge++){for(se=ve.edgepaths[ge],we=[],me=0;me<se.length;me++)we[me]=ce(se[me]);Me.push(we)}for(ge=0;ge<ve.paths.length;ge++){for(se=ve.paths[ge],oe=[],me=0;me<se.length;me++)oe[me]=ce(se[me]);_e.push(oe)}}}(D,ae);var ne=[];for(X=O.clipsegments.length-1;X>=0;X--)Q=O.clipsegments[X],$=k([],Q.x,m.c2p),G=k([],Q.y,_.c2p),$.reverse(),G.reverse(),ne.push(a($,G,Q.bicubic));var ie="M"+ne.join("L")+"Z";(function(le,ce,pe,ge,me,ve){var Me,_e,we,oe,se=b.ensureSingle(le,"g","contourbg").selectAll("path").data(ve!=="fill"||me?[]:[0]);se.enter().append("path"),se.exit().remove();var de=[];for(oe=0;oe<ce.length;oe++)Me=ce[oe],_e=k([],Me.x,pe.c2p),we=k([],Me.y,ge.c2p),de.push(a(_e,we,Me.bicubic));se.attr("d","M"+de.join("L")+"Z").style("stroke","none")})(S,O.clipsegments,m,_,B,F),function(le,ce,pe,ge,me,ve,Me,_e,we,oe,se){var de=oe==="fill";de&&s(me,le.contours);var Ee=b.ensureSingle(ce,"g","contourfill").selectAll("path").data(de?me:[]);Ee.enter().append("path"),Ee.exit().remove(),Ee.each(function(Te){var Se=(Te.prefixBoundary?se:"")+function(Le,Oe,he,xe,ke,Re,ze,Ie){var He,qe,Je,st,it,vt,_t,xt="",et=Oe.edgepaths.map(function(at,Fe){return Fe}),nt=!0,Mt=1e-4*Math.abs(he[0][0]-he[2][0]),zt=1e-4*Math.abs(he[0][1]-he[2][1]);function Ft(at){return Math.abs(at[1]-he[0][1])<zt}function Rt(at){return Math.abs(at[1]-he[2][1])<zt}function We(at){return Math.abs(at[0]-he[0][0])<Mt}function Ze(at){return Math.abs(at[0]-he[2][0])<Mt}function Ne(at,Fe){var Be,ot,Xe,pt,mt="";for(Ft(at)&&!Ze(at)||Rt(at)&&!We(at)?(pt=ke.aaxis,Xe=u(ke,Re,[at[0],Fe[0]],.5*(at[1]+Fe[1]))):(pt=ke.baxis,Xe=u(ke,Re,.5*(at[0]+Fe[0]),[at[1],Fe[1]])),Be=1;Be<Xe.length;Be++)for(mt+=pt.smoothing?"C":"L",ot=0;ot<Xe[Be].length;ot++){var yt=Xe[Be][ot];mt+=[ze.c2p(yt[0]),Ie.c2p(yt[1])]+" "}return mt}for(He=0,qe=null;et.length;){var Ye=Oe.edgepaths[He][0];for(qe&&(xt+=Ne(qe,Ye)),_t=w.smoothopen(Oe.edgepaths[He].map(xe),Oe.smoothing),xt+=nt?_t:_t.replace(/^M/,"L"),et.splice(et.indexOf(He),1),qe=Oe.edgepaths[He][Oe.edgepaths[He].length-1],it=-1,st=0;st<4;st++){if(!qe){b.log("Missing end?",He,Oe);break}for(Ft(qe)&&!Ze(qe)?Je=he[1]:We(qe)?Je=he[0]:Rt(qe)?Je=he[3]:Ze(qe)&&(Je=he[2]),vt=0;vt<Oe.edgepaths.length;vt++){var lt=Oe.edgepaths[vt][0];Math.abs(qe[0]-Je[0])<Mt?Math.abs(qe[0]-lt[0])<Mt&&(lt[1]-qe[1])*(Je[1]-lt[1])>=0&&(Je=lt,it=vt):Math.abs(qe[1]-Je[1])<zt?Math.abs(qe[1]-lt[1])<zt&&(lt[0]-qe[0])*(Je[0]-lt[0])>=0&&(Je=lt,it=vt):b.log("endpt to newendpt is not vert. or horz.",qe,Je,lt)}if(it>=0)break;xt+=Ne(qe,Je),qe=Je}if(it===Oe.edgepaths.length){b.log("unclosed perimeter path");break}He=it,(nt=et.indexOf(He)===-1)&&(He=et[0],xt+=Ne(qe,Je)+"Z",qe=null)}for(He=0;He<Oe.paths.length;He++)xt+=w.smoothclosed(Oe.paths[He].map(xe),Oe.smoothing);return xt}(0,Te,ve,Me,_e,we,pe,ge);Se?A.select(this).attr("d",Se).style("stroke","none"):A.select(this).remove()})}(E,S,m,_,J,j,ae,C,O,F,ie),function(le,ce,pe,ge,me,ve,Me){var _e=pe._context.staticPlot,we=b.ensureSingle(le,"g","contourlines"),oe=me.showlines!==!1,se=me.showlabels,de=oe&&se,Ee=t.createLines(we,oe||se,ce,_e),Te=t.createLineClip(we,de,pe,ge.trace.uid),Se=le.selectAll("g.contourlabels").data(se?[0]:[]);if(Se.exit().remove(),Se.enter().append("g").classed("contourlabels",!0),se){var Le=ve.xaxis,Oe=ve.yaxis,he=Le._length,xe=Oe._length,ke=[[[0,0],[he,0],[he,xe],[0,xe]]],Re=[];b.clearLocationCache();var ze=t.labelFormatter(pe,ge),Ie=w.tester.append("text").attr("data-notex",1).call(w.font,me.labelfont),He={left:0,right:he,center:he/2,top:0,bottom:xe,middle:xe/2},qe=Math.sqrt(he*he+xe*xe),Je=i.LABELDISTANCE*qe/Math.max(1,ce.length/i.LABELINCREASE);Ee.each(function(st){var it=t.calcTextOpts(st.level,ze,Ie,pe);A.select(this).selectAll("path").each(function(vt){var _t=this,xt=b.getVisibleSegment(_t,He,it.height/2);if(xt&&(function(zt,Ft,Rt,We,Ze,Ne){for(var Ye,lt=0;lt<Rt.pedgepaths.length;lt++)Ft===Rt.pedgepaths[lt]&&(Ye=Rt.edgepaths[lt]);if(Ye){var at=Ze.a[0],Fe=Ze.a[Ze.a.length-1],Be=Ze.b[0],ot=Ze.b[Ze.b.length-1],Xe=d(zt,0,1),pt=d(zt,We.total,We.total-1),mt=ht(Ye[0],Xe),yt=We.total-ht(Ye[Ye.length-1],pt);We.min<mt&&(We.min=mt),We.max>yt&&(We.max=yt),We.len=We.max-We.min}function ht(Lt,Tt){var bt,Pt=0,Ot=.1;return(Math.abs(Lt[0]-at)<Ot||Math.abs(Lt[0]-Fe)<Ot)&&(bt=c(Ze.dxydb_rough(Lt[0],Lt[1],Ot)),Pt=Math.max(Pt,Ne*x(Tt,bt)/2)),(Math.abs(Lt[1]-Be)<Ot||Math.abs(Lt[1]-ot)<Ot)&&(bt=c(Ze.dxyda_rough(Lt[0],Lt[1],Ot)),Pt=Math.max(Pt,Ne*x(Tt,bt)/2)),Pt}}(_t,vt,st,xt,Me,it.height),!(xt.len<(it.width+it.height)*i.LABELMIN)))for(var et=Math.min(Math.ceil(xt.len/Je),i.LABELMAX),nt=0;nt<et;nt++){var Mt=t.findBestTextLocation(_t,xt,it,Re,He);if(!Mt)break;t.addLabelData(Mt,it,Re,ke)}})}),Ie.remove(),t.drawLabels(Se,Re,pe,Te,de?ke:null)}se&&!oe&&Ee.remove()}(S,D,g,T,U,p,C),w.setClipUrl(S,C._clipPathId,g)}function ae(le){var ce=C.ab2xy(le[0],le[1],!0);return[m.c2p(ce[0]),_.c2p(ce[1])]}})}},33928:function(Y,P,e){var A=e(49084),k=e(21776).Ks,a=e(45464),w=e(31512),b=e(92880).extendFlat;Y.exports=b({lon:w.lon,lat:w.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:w.text,hovertext:w.hovertext,hoverinfo:b({},a.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:k(),showlegend:b({},a.showlegend,{dflt:!1})},A("",{cLetter:"z",editTypeOverride:"calc"}))},90876:function(Y,P,e){var A=e(38248),k=e(3400).isArrayOrTypedArray,a=e(39032).BADNUM,w=e(47128),b=e(3400)._;Y.exports=function(h,o){for(var t=o._length,i=new Array(t),n=o.z,r=k(n)&&n.length,s=0;s<t;s++){var l=i[s]={},u=o.lon[s],d=o.lat[s];if(l.lonlat=A(u)&&A(d)?[+u,+d]:[a,a],r){var c=n[s];l.z=A(c)?c:a}}return w(h,o,{vals:r?n:[0,1],containerStr:"",cLetter:"z"}),t&&(i[0].t={labels:{lat:b(h,"lat:")+" ",lon:b(h,"lon:")+" "}}),i}},4629:function(Y,P,e){var A=e(38248),k=e(3400),a=e(76308),w=e(8932),b=e(39032).BADNUM,h=e(44808).makeBlank;Y.exports=function(o){var t=o[0].trace,i=t.visible===!0&&t._length!==0,n=t._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:h()};if(!i)return n;var r,s=[],l=t.z,u=t.radius,d=k.isArrayOrTypedArray(l)&&l.length,c=k.isArrayOrTypedArray(u);for(r=0;r<o.length;r++){var x=o[r],g=x.lonlat;if(g[0]!==b){var p={};if(d){var v=x.z;p.z=v!==b?v:0}c&&(p.r=A(u[r])&&u[r]>0?+u[r]:0),s.push({type:"Feature",geometry:{type:"Point",coordinates:g},properties:p})}}var y=w.extractOpts(t),m=y.reversescale?w.flipScale(y.colorscale):y.colorscale,_=m[0][1],f=["interpolate",["linear"],["heatmap-density"],0,a.opacity(_)<1?_:a.addOpacity(_,0)];for(r=1;r<m.length;r++)f.push(m[r][0],m[r][1]);var S=["interpolate",["linear"],["get","z"],y.min,0,y.max,1];return k.extendFlat(n.heatmap.paint,{"heatmap-weight":d?S:1/(y.max-y.min),"heatmap-color":f,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),n.geojson={type:"FeatureCollection",features:s},n.heatmap.layout.visibility="visible",n}},97664:function(Y,P,e){var A=e(3400),k=e(27260),a=e(33928);Y.exports=function(w,b,h,o){function t(s,l){return A.coerce(w,b,a,s,l)}var i=t("lon")||[],n=t("lat")||[],r=Math.min(i.length,n.length);r?(b._length=r,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),k(w,b,o,t,{prefix:"",cLetter:"z"})):b.visible=!1}},96176:function(Y){Y.exports=function(P,e){return P.lon=e.lon,P.lat=e.lat,P.z=e.z,P}},25336:function(Y,P,e){var A=e(54460),k=e(63312).hoverPoints,a=e(63312).getExtraText;Y.exports=function(w,b,h){var o=k(w,b,h);if(o){var t=o[0],i=t.cd,n=i[0].trace,r=i[t.index];if(delete t.color,"z"in r){var s=t.subplot.mockAxis;t.z=r.z,t.zLabel=A.tickText(s,s.c2l(r.z),"hover").text}return t.extraText=a(n,r,i[0].t.labels),[t]}}},15088:function(Y,P,e){Y.exports={attributes:e(33928),supplyDefaults:e(97664),colorbar:e(96288),formatLabels:e(11960),calc:e(90876),plot:e(35256),hoverPoints:e(25336),eventData:e(96176),getBelow:function(A,k){for(var a=k.getMapLayers(),w=0;w<a.length;w++){var b=a[w],h=b.id;if(b.type==="symbol"&&typeof h=="string"&&h.indexOf("plotly-")===-1)return h}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(33688),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},35256:function(Y,P,e){var A=e(4629),k=e(47552).traceLayerPrefix;function a(b,h){this.type="densitymapbox",this.subplot=b,this.uid=h,this.sourceId="source-"+h,this.layerList=[["heatmap",k+h+"-heatmap"]],this.below=null}var w=a.prototype;w.update=function(b){var h=this.subplot,o=this.layerList,t=A(b),i=h.belowLookup["trace-"+this.uid];h.map.getSource(this.sourceId).setData(t.geojson),i!==this.below&&(this._removeLayers(),this._addLayers(t,i),this.below=i);for(var n=0;n<o.length;n++){var r=o[n],s=r[0],l=r[1],u=t[s];h.setOptions(l,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&h.setOptions(l,"setPaintProperty",u.paint)}},w._addLayers=function(b,h){for(var o=this.subplot,t=this.layerList,i=this.sourceId,n=0;n<t.length;n++){var r=t[n],s=r[0],l=b[s];o.addLayer({type:s,id:r[1],source:i,layout:l.layout,paint:l.paint},h)}},w._removeLayers=function(){for(var b=this.subplot.map,h=this.layerList,o=h.length-1;o>=0;o--)b.removeLayer(h[o][1])},w.dispose=function(){var b=this.subplot.map;this._removeLayers(),b.removeSource(this.sourceId)},Y.exports=function(b,h){var o=h[0].trace,t=new a(b,o.uid),i=t.sourceId,n=A(h),r=t.below=b.belowLookup["trace-"+o.uid];return b.map.addSource(i,{type:"geojson",data:n.geojson}),t._addLayers(n,r),t}},74248:function(Y,P,e){var A=e(3400);Y.exports=function(k,a){for(var w=0;w<k.length;w++)k[w].i=w;A.mergeArray(a.text,k,"tx"),A.mergeArray(a.hovertext,k,"htx");var b=a.marker;if(b){A.mergeArray(b.opacity,k,"mo"),A.mergeArray(b.color,k,"mc");var h=b.line;h&&(A.mergeArray(h.color,k,"mlc"),A.mergeArrayCastPositive(h.width,k,"mlw"))}}},20088:function(Y,P,e){var A,k=e(20832),a=e(52904).line,w=e(45464),b=e(29736).axisHoverFormat,h=e(21776).Ks,o=e(21776).Gw,t=e(74732),i=e(92880).extendFlat,n=e(76308);Y.exports={x:k.x,x0:k.x0,dx:k.dx,y:k.y,y0:k.y0,dy:k.dy,xperiod:k.xperiod,yperiod:k.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:k.xperiodalignment,yperiodalignment:k.yperiodalignment,xhoverformat:b("x"),yhoverformat:b("y"),hovertext:k.hovertext,hovertemplate:h({},{keys:t.eventDataKeys}),hoverinfo:i({},w.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:o({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),text:k.text,textposition:k.textposition,insidetextanchor:i({},k.insidetextanchor,{dflt:"middle"}),textangle:i({},k.textangle,{dflt:0}),textfont:k.textfont,insidetextfont:k.insidetextfont,outsidetextfont:k.outsidetextfont,constraintext:k.constraintext,cliponaxis:k.cliponaxis,orientation:i({},k.orientation,{}),offset:i({},k.offset,{arrayOk:!1}),width:i({},k.width,{arrayOk:!1}),marker:(A=i({},k.marker),delete A.pattern,delete A.cornerradius,A),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:i({},a.color,{dflt:n.defaultLine}),width:i({},a.width,{dflt:0,editType:"plot"}),dash:a.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:k.offsetgroup,alignmentgroup:k.alignmentgroup}},23096:function(Y,P,e){var A=e(54460),k=e(1220),a=e(74248),w=e(4500),b=e(39032).BADNUM;function h(o){return o===b?0:o}Y.exports=function(o,t){var i,n,r,s,l,u,d,c,x=A.getFromId(o,t.xaxis||"x"),g=A.getFromId(o,t.yaxis||"y");t.orientation==="h"?(i=x.makeCalcdata(t,"x"),r=g.makeCalcdata(t,"y"),s=k(t,g,"y",r),l=!!t.yperiodalignment,u="y"):(i=g.makeCalcdata(t,"y"),r=x.makeCalcdata(t,"x"),s=k(t,x,"x",r),l=!!t.xperiodalignment,u="x"),n=s.vals;var p,v=Math.min(n.length,i.length),y=new Array(v);for(t._base=[],d=0;d<v;d++){i[d]<0&&(i[d]=b);var m=!1;i[d]!==b&&d+1<v&&i[d+1]!==b&&(m=!0),c=y[d]={p:n[d],s:i[d],cNext:m},t._base[d]=-.5*c.s,l&&(y[d].orig_p=r[d],y[d][u+"End"]=s.ends[d],y[d][u+"Start"]=s.starts[d]),t.ids&&(c.id=String(t.ids[d])),d===0&&(y[0].vTotal=0),y[0].vTotal+=h(c.s),c.begR=h(c.s)/h(y[0].s)}for(d=0;d<v;d++)(c=y[d]).s!==b&&(c.sumR=c.s/y[0].vTotal,c.difR=p!==void 0?c.s/p:1,p=c.s);return a(y,t),w(y,t),y}},74732:function(Y){Y.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},4804:function(Y,P,e){var A=e(96376).setGroupPositions;Y.exports=function(k,a){var w,b,h=k._fullLayout,o=k._fullData,t=k.calcdata,i=a.xaxis,n=a.yaxis,r=[],s=[],l=[];for(b=0;b<o.length;b++){var u=o[b],d=u.orientation==="h";u.visible===!0&&u.xaxis===i._id&&u.yaxis===n._id&&u.type==="funnel"&&(w=t[b],d?l.push(w):s.push(w),r.push(w))}var c={mode:h.funnelmode,norm:h.funnelnorm,gap:h.funnelgap,groupgap:h.funnelgroupgap};for(A(k,i,n,s,c),A(k,n,i,l,c),b=0;b<r.length;b++){w=r[b];for(var x=0;x<w.length;x++)x+1<w.length&&(w[x].nextP0=w[x+1].p0,w[x].nextS0=w[x+1].s0,w[x].nextP1=w[x+1].p1,w[x].nextS1=w[x+1].s1)}}},45432:function(Y,P,e){var A=e(3400),k=e(20011),a=e(31508).handleText,w=e(43980),b=e(31147),h=e(20088),o=e(76308);Y.exports={supplyDefaults:function(t,i,n,r){function s(c,x){return A.coerce(t,i,h,c,x)}if(w(t,i,r,s)){b(t,i,r,s),s("xhoverformat"),s("yhoverformat"),s("orientation",i.y&&!i.x?"v":"h"),s("offset"),s("width");var l=s("text");s("hovertext"),s("hovertemplate");var u=s("textposition");a(t,i,r,s,u,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),i.textposition==="none"||i.texttemplate||s("textinfo",A.isArrayOrTypedArray(l)?"text+value":"value");var d=s("marker.color",n);s("marker.line.color",o.defaultLine),s("marker.line.width"),s("connector.visible")&&(s("connector.fillcolor",function(c){var x=A.isArrayOrTypedArray(c)?"#000":c;return o.addOpacity(x,.5*o.opacity(x))}(d)),s("connector.line.width")&&(s("connector.line.color"),s("connector.line.dash")))}else i.visible=!1},crossTraceDefaults:function(t,i){var n,r;function s(u){return A.coerce(r._input,r,h,u)}if(i.funnelmode==="group")for(var l=0;l<t.length;l++)n=(r=t[l])._input,k(n,r,i,s)}}},34580:function(Y){Y.exports=function(P,e){return P.x="xVal"in e?e.xVal:e.x,P.y="yVal"in e?e.yVal:e.y,"percentInitial"in e&&(P.percentInitial=e.percentInitial),"percentPrevious"in e&&(P.percentPrevious=e.percentPrevious),"percentTotal"in e&&(P.percentTotal=e.percentTotal),e.xa&&(P.xaxis=e.xa),e.ya&&(P.yaxis=e.ya),P}},31488:function(Y,P,e){var A=e(76308).opacity,k=e(63400).hoverOnBars,a=e(3400).formatPercent;Y.exports=function(w,b,h,o,t){var i=k(w,b,h,o,t);if(i){var n=i.cd,r=n[0].trace,s=r.orientation==="h",l=n[i.index];i[(s?"x":"y")+"LabelVal"]=l.s,i.percentInitial=l.begR,i.percentInitialLabel=a(l.begR,1),i.percentPrevious=l.difR,i.percentPreviousLabel=a(l.difR,1),i.percentTotal=l.sumR,i.percentTotalLabel=a(l.sumR,1);var u=l.hi||r.hoverinfo,d=[];if(u&&u!=="none"&&u!=="skip"){var c=u==="all",x=u.split("+"),g=function(p){return c||x.indexOf(p)!==-1};g("percent initial")&&d.push(i.percentInitialLabel+" of initial"),g("percent previous")&&d.push(i.percentPreviousLabel+" of previous"),g("percent total")&&d.push(i.percentTotalLabel+" of total")}return i.extraText=d.join("<br>"),i.color=function(p,v){var y=p.marker,m=v.mc||y.color,_=v.mlc||y.line.color,f=v.mlw||y.line.width;return A(m)?m:A(_)&&f?_:void 0}(r,l),[i]}}},94704:function(Y,P,e){Y.exports={attributes:e(20088),layoutAttributes:e(7076),supplyDefaults:e(45432).supplyDefaults,crossTraceDefaults:e(45432).crossTraceDefaults,supplyLayoutDefaults:e(11631),calc:e(23096),crossTraceCalc:e(4804),plot:e(42200),style:e(44544).style,hoverPoints:e(31488),eventData:e(34580),selectPoints:e(45784),moduleType:"trace",name:"funnel",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},7076:function(Y){Y.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},11631:function(Y,P,e){var A=e(3400),k=e(7076);Y.exports=function(a,w,b){var h=!1;function o(n,r){return A.coerce(a,w,k,n,r)}for(var t=0;t<b.length;t++){var i=b[t];if(i.visible&&i.type==="funnel"){h=!0;break}}h&&(o("funnelmode"),o("funnelgap",.2),o("funnelgroupgap"))}},42200:function(Y,P,e){var A=e(33428),k=e(3400),a=e(43616),w=e(39032).BADNUM,b=e(98184),h=e(82744).clearMinTextSize;function o(t,i,n,r){var s=[],l=[],u=r?i:n,d=r?n:i;return s[0]=u.c2p(t.s0,!0),l[0]=d.c2p(t.p0,!0),s[1]=u.c2p(t.s1,!0),l[1]=d.c2p(t.p1,!0),s[2]=u.c2p(t.nextS0,!0),l[2]=d.c2p(t.nextP0,!0),s[3]=u.c2p(t.nextS1,!0),l[3]=d.c2p(t.nextP1,!0),r?[s,l]:[l,s]}Y.exports=function(t,i,n,r){var s=t._fullLayout;h("funnel",s),function(l,u,d,c){var x=u.xaxis,g=u.yaxis;k.makeTraceGroups(c,d,"trace bars").each(function(p){var v=A.select(this),y=p[0].trace,m=k.ensureSingle(v,"g","regions");if(y.connector&&y.connector.visible){var _=y.orientation==="h",f=m.selectAll("g.region").data(k.identity);f.enter().append("g").classed("region",!0),f.exit().remove();var S=f.size();f.each(function(T,E){if(E===S-1||T.cNext){var C=o(T,x,g,_),O=C[0],I=C[1],z="";O[0]!==w&&I[0]!==w&&O[1]!==w&&I[1]!==w&&O[2]!==w&&I[2]!==w&&O[3]!==w&&I[3]!==w&&(z+=_?"M"+O[0]+","+I[1]+"L"+O[2]+","+I[2]+"H"+O[3]+"L"+O[1]+","+I[1]+"Z":"M"+O[1]+","+I[1]+"L"+O[2]+","+I[3]+"V"+I[2]+"L"+O[1]+","+I[0]+"Z"),z===""&&(z="M0,0Z"),k.ensureSingle(A.select(this),"path").attr("d",z).call(a.setClipUrl,u.layerClipId,l)}})}else m.remove()})}(t,i,n,r),function(l,u,d,c){var x=u.xaxis,g=u.yaxis;k.makeTraceGroups(c,d,"trace bars").each(function(p){var v=A.select(this),y=p[0].trace,m=k.ensureSingle(v,"g","lines");if(y.connector&&y.connector.visible&&y.connector.line.width){var _=y.orientation==="h",f=m.selectAll("g.line").data(k.identity);f.enter().append("g").classed("line",!0),f.exit().remove();var S=f.size();f.each(function(T,E){if(E===S-1||T.cNext){var C=o(T,x,g,_),O=C[0],I=C[1],z="";O[3]!==void 0&&I[3]!==void 0&&(_?(z+="M"+O[0]+","+I[1]+"L"+O[2]+","+I[2],z+="M"+O[1]+","+I[1]+"L"+O[3]+","+I[2]):(z+="M"+O[1]+","+I[1]+"L"+O[2]+","+I[3],z+="M"+O[1]+","+I[0]+"L"+O[2]+","+I[2])),z===""&&(z="M0,0Z"),k.ensureSingle(A.select(this),"path").attr("d",z).call(a.setClipUrl,u.layerClipId,l)}})}else m.remove()})}(t,i,n,r),b.plot(t,i,n,r,{mode:s.funnelmode,norm:s.funnelmode,gap:s.funnelgap,groupgap:s.funnelgroupgap})}},44544:function(Y,P,e){var A=e(33428),k=e(43616),a=e(76308),w=e(13448).DESELECTDIM,b=e(60100),h=e(82744).resizeText,o=b.styleTextPoints;Y.exports={style:function(t,i,n){var r=n||A.select(t).selectAll("g.funnellayer").selectAll("g.trace");h(t,r,"funnel"),r.style("opacity",function(s){return s[0].trace.opacity}),r.each(function(s){var l=A.select(this),u=s[0].trace;l.selectAll(".point > path").each(function(d){if(!d.isBlank){var c=u.marker;A.select(this).call(a.fill,d.mc||c.color).call(a.stroke,d.mlc||c.line.color).call(k.dashLine,c.line.dash,d.mlw||c.line.width).style("opacity",u.selectedpoints&&!d.selected?w:1)}}),o(l,u,t),l.selectAll(".regions").each(function(){A.select(this).selectAll("path").style("stroke-width",0).call(a.fill,u.connector.fillcolor)}),l.selectAll(".lines").each(function(){var d=u.connector.line;k.lineGroupStyle(A.select(this).selectAll("path"),d.width,d.color,d.dash)})})}}},22332:function(Y,P,e){var A=e(74996),k=e(45464),a=e(86968).u,w=e(21776).Ks,b=e(21776).Gw,h=e(92880).extendFlat;Y.exports={labels:A.labels,label0:A.label0,dlabel:A.dlabel,values:A.values,marker:{colors:A.marker.colors,line:{color:h({},A.marker.line.color,{dflt:null}),width:h({},A.marker.line.width,{dflt:1}),editType:"calc"},pattern:A.marker.pattern,editType:"calc"},text:A.text,hovertext:A.hovertext,scalegroup:h({},A.scalegroup,{}),textinfo:h({},A.textinfo,{flags:["label","text","value","percent"]}),texttemplate:b({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:h({},k.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:w({},{keys:["label","color","value","text","percent"]}),textposition:h({},A.textposition,{values:["inside","none"],dflt:"inside"}),textfont:A.textfont,insidetextfont:A.insidetextfont,title:{text:A.title.text,font:A.title.font,position:h({},A.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:a({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},91248:function(Y,P,e){var A=e(7316);P.name="funnelarea",P.plot=function(k,a,w,b){A.plotBasePlot(P.name,k,a,w,b)},P.clean=function(k,a,w,b){A.cleanBasePlot(P.name,k,a,w,b)}},54e3:function(Y,P,e){var A=e(45768);Y.exports={calc:function(k,a){return A.calc(k,a)},crossTraceCalc:function(k){A.crossTraceCalc(k,{type:"funnelarea"})}}},92688:function(Y,P,e){var A=e(3400),k=e(22332),a=e(86968).Q,w=e(31508).handleText,b=e(74174).handleLabelsAndValues,h=e(74174).handleMarkerDefaults;Y.exports=function(o,t,i,n){function r(v,y){return A.coerce(o,t,k,v,y)}var s=r("labels"),l=r("values"),u=b(s,l),d=u.len;if(t._hasLabels=u.hasLabels,t._hasValues=u.hasValues,!t._hasLabels&&t._hasValues&&(r("label0"),r("dlabel")),d){t._length=d,h(o,t,n,r),r("scalegroup");var c,x=r("text"),g=r("texttemplate");if(g||(c=r("textinfo",Array.isArray(x)?"text+percent":"percent")),r("hovertext"),r("hovertemplate"),g||c&&c!=="none"){var p=r("textposition");w(o,t,n,r,p,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}a(t,n,r),r("title.text")&&(r("title.position"),A.coerceFont(r,"title.font",n.font)),r("aspectratio"),r("baseratio")}else t.visible=!1}},62396:function(Y,P,e){Y.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(91248),categories:["pie-like","funnelarea","showLegend"],attributes:e(22332),layoutAttributes:e(61280),supplyDefaults:e(92688),supplyLayoutDefaults:e(35384),calc:e(54e3).calc,crossTraceCalc:e(54e3).crossTraceCalc,plot:e(39472),style:e(62096),styleOne:e(10528),meta:{}}},61280:function(Y,P,e){var A=e(85204).hiddenlabels;Y.exports={hiddenlabels:A,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},35384:function(Y,P,e){var A=e(3400),k=e(61280);Y.exports=function(a,w){function b(h,o){return A.coerce(a,w,k,h,o)}b("hiddenlabels"),b("funnelareacolorway",w.colorway),b("extendfunnelareacolors")}},39472:function(Y,P,e){var A=e(33428),k=e(43616),a=e(3400),w=a.strScale,b=a.strTranslate,h=e(72736),o=e(98184).toMoveInsideBar,t=e(82744),i=t.recordMinTextSize,n=t.clearMinTextSize,r=e(69656),s=e(37820),l=s.attachFxHandlers,u=s.determineInsideTextFont,d=s.layoutAreas,c=s.prerenderTitles,x=s.positionTitleOutside,g=s.formatSliceLabel;function p(v,y){return"l"+(y[0]-v[0])+","+(y[1]-v[1])}Y.exports=function(v,y){var m=v._context.staticPlot,_=v._fullLayout;n("funnelarea",_),c(y,v),d(y,_._size),a.makeTraceGroups(_._funnelarealayer,y,"trace").each(function(f){var S=A.select(this),T=f[0],E=T.trace;(function(C){if(C.length){var O=C[0],I=O.trace,z=I.aspectratio,U=I.baseratio;U>.999&&(U=.999);var D,B,Z,F=Math.pow(U,2),j=O.vTotal,V=j,te=j*F/(1-F)/j,Q=[];for(Q.push(we()),B=C.length-1;B>-1;B--)if(!(Z=C[B]).hidden){var $=Z.v/V;te+=$,Q.push(we())}var G=1/0,X=-1/0;for(B=0;B<Q.length;B++)D=Q[B],G=Math.min(G,D[1]),X=Math.max(X,D[1]);for(B=0;B<Q.length;B++)Q[B][1]-=(X+G)/2;var J=Q[Q.length-1][0],ne=O.r,ie=(X-G)/2,ae=ne/J,le=ne/ie*z;for(O.r=le*ie,B=0;B<Q.length;B++)Q[B][0]*=ae,Q[B][1]*=le;var ce,pe,ge=[-(D=Q[0])[0],D[1]],me=[D[0],D[1]],ve=0;for(B=C.length-1;B>-1;B--)if(!(Z=C[B]).hidden){var Me=Q[ve+=1][0],_e=Q[ve][1];Z.TL=[-Me,_e],Z.TR=[Me,_e],Z.BL=ge,Z.BR=me,Z.pxmid=(ce=Z.TR,pe=Z.BR,[.5*(ce[0]+pe[0]),.5*(ce[1]+pe[1])]),ge=Z.TL,me=Z.TR}}function we(){var oe,se={x:oe=Math.sqrt(te),y:-oe};return[se.x,se.y]}})(f),S.each(function(){var C=A.select(this).selectAll("g.slice").data(f);C.enter().append("g").classed("slice",!0),C.exit().remove(),C.each(function(I,z){if(I.hidden)A.select(this).selectAll("path,g").remove();else{I.pointNumber=I.i,I.curveNumber=E.index;var U=T.cx,D=T.cy,B=A.select(this),Z=B.selectAll("path.surface").data([I]);Z.enter().append("path").classed("surface",!0).style({"pointer-events":m?"none":"all"}),B.call(l,v,f);var F="M"+(U+I.TR[0])+","+(D+I.TR[1])+p(I.TR,I.BR)+p(I.BR,I.BL)+p(I.BL,I.TL)+"Z";Z.attr("d",F),g(v,I,T);var j=r.castOption(E.textposition,I.pts),V=B.selectAll("g.slicetext").data(I.text&&j!=="none"?[0]:[]);V.enter().append("g").classed("slicetext",!0),V.exit().remove(),V.each(function(){var te=a.ensureSingle(A.select(this),"text","",function(ae){ae.attr("data-notex",1)}),Q=a.ensureUniformFontSize(v,u(E,I,_.font));te.text(I.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(k.font,Q).call(h.convertToTspans,v);var $,G,X,J=k.bBox(te.node()),ne=Math.min(I.BL[1],I.BR[1])+D,ie=Math.max(I.TL[1],I.TR[1])+D;G=Math.max(I.TL[0],I.BL[0])+U,X=Math.min(I.TR[0],I.BR[0])+U,($=o(G,X,ne,ie,J,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=Q.size,i(E.type,$,_),f[z].transform=$,a.setTransormAndDisplay(te,$)})}});var O=A.select(this).selectAll("g.titletext").data(E.title.text?[0]:[]);O.enter().append("g").classed("titletext",!0),O.exit().remove(),O.each(function(){var I=a.ensureSingle(A.select(this),"text","",function(D){D.attr("data-notex",1)}),z=E.title.text;E._meta&&(z=a.templateString(z,E._meta)),I.text(z).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(k.font,E.title.font).call(h.convertToTspans,v);var U=x(T,_._size);I.attr("transform",b(U.x,U.y)+w(Math.min(1,U.scale))+b(U.tx,U.ty))})})})}},62096:function(Y,P,e){var A=e(33428),k=e(10528),a=e(82744).resizeText;Y.exports=function(w){var b=w._fullLayout._funnelarealayer.selectAll(".trace");a(w,b,"funnelarea"),b.each(function(h){var o=h[0].trace,t=A.select(this);t.style({opacity:o.opacity}),t.selectAll("path.surface").each(function(i){A.select(this).call(k,i,o,w)})})}},83328:function(Y,P,e){var A=e(52904),k=e(45464),a=e(25376),w=e(29736).axisHoverFormat,b=e(21776).Ks,h=e(21776).Gw,o=e(49084),t=e(92880).extendFlat;Y.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},A.x,{impliedEdits:{xtype:"array"}}),x0:t({},A.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},A.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},A.y,{impliedEdits:{ytype:"array"}}),y0:t({},A.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},A.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},A.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},A.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},A.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},A.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},A.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},A.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:w("x"),yhoverformat:w("y"),zhoverformat:w("z",1),hovertemplate:b(),texttemplate:h({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:a({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},k.showlegend,{dflt:!1})},{transforms:void 0},o("",{cLetter:"z",autoColorDflt:!1}))},19512:function(Y,P,e){var A=e(24040),k=e(3400),a=e(54460),w=e(1220),b=e(55480),h=e(47128),o=e(2872),t=e(26136),i=e(70448),n=e(11240),r=e(35744),s=e(39032).BADNUM;function l(u){for(var d=[],c=u.length,x=0;x<c;x++){var g=u[x];g!==s&&d.push(g)}return d}Y.exports=function(u,d){var c,x,g,p,v,y,m,_,f,S,T,E=a.getFromId(u,d.xaxis||"x"),C=a.getFromId(u,d.yaxis||"y"),O=A.traceIs(d,"contour"),I=A.traceIs(d,"histogram"),z=A.traceIs(d,"gl2d"),U=O?"best":d.zsmooth;if(E._minDtick=0,C._minDtick=0,I)p=(T=b(u,d)).orig_x,c=T.x,x=T.x0,g=T.dx,_=T.orig_y,v=T.y,y=T.y0,m=T.dy,f=T.z;else{var D=d.z;k.isArray1D(D)?(o(d,E,C,"x","y",["z"]),c=d._x,v=d._y,D=d._z):(p=d.x?E.makeCalcdata(d,"x"):[],_=d.y?C.makeCalcdata(d,"y"):[],c=w(d,E,"x",p).vals,v=w(d,C,"y",_).vals,d._x=c,d._y=v),x=d.x0,g=d.dx,y=d.y0,m=d.dy,f=t(D,d,E,C)}function B(X){U=d._input.zsmooth=d.zsmooth=!1,k.warn('cannot use zsmooth: "fast": '+X)}function Z(X){if(X.length>1){var J=(X[X.length-1]-X[0])/(X.length-1),ne=Math.abs(J/100);for(S=0;S<X.length-1;S++)if(Math.abs(X[S+1]-X[S]-J)>ne)return!1}return!0}(E.rangebreaks||C.rangebreaks)&&(f=function(X,J,ne){for(var ie=[],ae=-1,le=0;le<ne.length;le++)if(J[le]!==s){ie[++ae]=[];for(var ce=0;ce<ne[le].length;ce++)X[ce]!==s&&ie[ae].push(ne[le][ce])}return ie}(c,v,f),I||(c=l(c),v=l(v),d._x=c,d._y=v)),I||!O&&!d.connectgaps||(d._emptypoints=n(f),i(f,d._emptypoints)),d._islinear=!1,E.type==="log"||C.type==="log"?U==="fast"&&B("log axis found"):Z(c)?Z(v)?d._islinear=!0:U==="fast"&&B("y scale is not linear"):U==="fast"&&B("x scale is not linear");var F=k.maxRowLength(f),j=d.xtype==="scaled"?"":c,V=r(d,j,x,g,F,E),te=d.ytype==="scaled"?"":v,Q=r(d,te,y,m,f.length,C);z||(d._extremes[E._id]=a.findExtremes(E,V),d._extremes[C._id]=a.findExtremes(C,Q));var $={x:V,y:Q,z:f,text:d._text||d.text,hovertext:d._hovertext||d.hovertext};if(d.xperiodalignment&&p&&($.orig_x=p),d.yperiodalignment&&_&&($.orig_y=_),j&&j.length===V.length-1&&($.xCenter=j),te&&te.length===Q.length-1&&($.yCenter=te),I&&($.xRanges=T.xRanges,$.yRanges=T.yRanges,$.pts=T.pts),O||h(u,d,{vals:f,cLetter:"z"}),O&&d.contours&&d.contours.coloring==="heatmap"){var G={type:d.type==="contour"?"heatmap":"histogram2d",xcalendar:d.xcalendar,ycalendar:d.ycalendar};$.xfill=r(G,j,x,g,F,E),$.yfill=r(G,te,y,m,f.length,C)}return[$]}},26136:function(Y,P,e){var A=e(38248),k=e(3400),a=e(39032).BADNUM;Y.exports=function(w,b,h,o){var t,i,n,r,s,l;function u(v){if(A(v))return+v}if(b&&b.transpose){for(t=0,s=0;s<w.length;s++)t=Math.max(t,w[s].length);if(t===0)return!1;n=function(v){return v.length},r=function(v,y,m){return(v[m]||[])[y]}}else t=w.length,n=function(v,y){return v[y].length},r=function(v,y,m){return(v[y]||[])[m]};var d=function(v,y,m){return y===a||m===a?a:r(v,y,m)};function c(v){if(b&&b.type!=="carpet"&&b.type!=="contourcarpet"&&v&&v.type==="category"&&b["_"+v._id.charAt(0)].length){var y=v._id.charAt(0),m={},_=b["_"+y+"CategoryMap"]||b[y];for(s=0;s<_.length;s++)m[_[s]]=s;return function(f){var S=m[v._categories[f]];return S+1?S:a}}return k.identity}var x=c(h),g=c(o);o&&o.type==="category"&&(t=o._categories.length);var p=new Array(t);for(s=0;s<t;s++)for(i=h&&h.type==="category"?h._categories.length:n(w,s),p[s]=new Array(i),l=0;l<i;l++)p[s][l]=u(d(w,g(s),x(l)));return p}},96288:function(Y){Y.exports={min:"zmin",max:"zmax"}},2872:function(Y,P,e){var A=e(3400),k=e(39032).BADNUM,a=e(1220);Y.exports=function(w,b,h,o,t,i){var n=w._length,r=b.makeCalcdata(w,o),s=h.makeCalcdata(w,t);r=a(w,b,o,r).vals,s=a(w,h,t,s).vals;var l,u,d,c,x=w.text,g=x!==void 0&&A.isArray1D(x),p=w.hovertext,v=p!==void 0&&A.isArray1D(p),y=A.distinctVals(r),m=y.vals,_=A.distinctVals(s),f=_.vals,S=[],T=f.length,E=m.length;for(l=0;l<i.length;l++)S[l]=A.init2dArray(T,E);g&&(d=A.init2dArray(T,E)),v&&(c=A.init2dArray(T,E));var C=A.init2dArray(T,E);for(l=0;l<n;l++)if(r[l]!==k&&s[l]!==k){var O=A.findBin(r[l]+y.minDiff/2,m),I=A.findBin(s[l]+_.minDiff/2,f);for(u=0;u<i.length;u++){var z=w[i[u]];S[u][I][O]=z[l],C[I][O]=l}g&&(d[I][O]=x[l]),v&&(c[I][O]=p[l])}for(w["_"+o]=m,w["_"+t]=f,u=0;u<i.length;u++)w["_"+i[u]]=S[u];g&&(w._text=d),v&&(w._hovertext=c),b&&b.type==="category"&&(w["_"+o+"CategoryMap"]=m.map(function(U){return b._categories[U]})),h&&h.type==="category"&&(w["_"+t+"CategoryMap"]=f.map(function(U){return h._categories[U]})),w._after2before=C}},24480:function(Y,P,e){var A=e(3400),k=e(51264),a=e(39096),w=e(31147),b=e(82748),h=e(27260),o=e(83328);Y.exports=function(t,i,n,r){function s(l,u){return A.coerce(t,i,o,l,u)}k(t,i,s,r)?(w(t,i,r,s),s("xhoverformat"),s("yhoverformat"),s("text"),s("hovertext"),s("hovertemplate"),a(s,r),b(t,i,s,r),s("hoverongaps"),s("connectgaps",A.isArray1D(i.z)&&i.zsmooth!==!1),h(t,i,r,s,{prefix:"",cLetter:"z"})):i.visible=!1}},11240:function(Y,P,e){var A=e(3400).maxRowLength;Y.exports=function(k){var a,w,b,h,o,t,i,n,r=[],s={},l=[],u=k[0],d=[],c=[0,0,0],x=A(k);for(w=0;w<k.length;w++)for(a=d,d=u,u=k[w+1]||[],b=0;b<x;b++)d[b]===void 0&&((t=(d[b-1]!==void 0?1:0)+(d[b+1]!==void 0?1:0)+(a[b]!==void 0?1:0)+(u[b]!==void 0?1:0))?(w===0&&t++,b===0&&t++,w===k.length-1&&t++,b===d.length-1&&t++,t<4&&(s[[w,b]]=[w,b,t]),r.push([w,b,t])):l.push([w,b]));for(;l.length;){for(i={},n=!1,o=l.length-1;o>=0;o--)(t=((s[[(w=(h=l[o])[0])-1,b=h[1]]]||c)[2]+(s[[w+1,b]]||c)[2]+(s[[w,b-1]]||c)[2]+(s[[w,b+1]]||c)[2])/20)&&(i[h]=[w,b,t],l.splice(o,1),n=!0);if(!n)throw"findEmpties iterated with no new neighbors";for(h in i)s[h]=i[h],r.push(i[h])}return r.sort(function(g,p){return p[2]-g[2]})}},55512:function(Y,P,e){var A=e(93024),k=e(3400),a=k.isArrayOrTypedArray,w=e(54460),b=e(8932).extractOpts;Y.exports=function(h,o,t,i,n){n||(n={});var r,s,l,u,d=n.isContour,c=h.cd[0],x=c.trace,g=h.xa,p=h.ya,v=c.x,y=c.y,m=c.z,_=c.xCenter,f=c.yCenter,S=c.zmask,T=x.zhoverformat,E=v,C=y;if(h.index!==!1){try{l=Math.round(h.index[1]),u=Math.round(h.index[0])}catch{return void k.error("Error hovering on heatmap, pointNumber must be [row,col], found:",h.index)}if(l<0||l>=m[0].length||u<0||u>m.length)return}else{if(A.inbox(o-v[0],o-v[v.length-1],0)>0||A.inbox(t-y[0],t-y[y.length-1],0)>0)return;if(d){var O;for(E=[2*v[0]-v[1]],O=1;O<v.length;O++)E.push((v[O]+v[O-1])/2);for(E.push([2*v[v.length-1]-v[v.length-2]]),C=[2*y[0]-y[1]],O=1;O<y.length;O++)C.push((y[O]+y[O-1])/2);C.push([2*y[y.length-1]-y[y.length-2]])}l=Math.max(0,Math.min(E.length-2,k.findBin(o,E))),u=Math.max(0,Math.min(C.length-2,k.findBin(t,C)))}var I,z,U=g.c2p(v[l]),D=g.c2p(v[l+1]),B=p.c2p(y[u]),Z=p.c2p(y[u+1]);d?(I=c.orig_x||v,z=c.orig_y||y,D=U,r=I[l],Z=B,s=z[u]):(I=c.orig_x||_||v,z=c.orig_y||f||y,r=_?I[l]:(I[l]+I[l+1])/2,s=f?z[u]:(z[u]+z[u+1])/2,g&&g.type==="category"&&(r=v[l]),p&&p.type==="category"&&(s=y[u]),x.zsmooth&&(U=D=g.c2p(r),B=Z=p.c2p(s)));var F=m[u][l];if(S&&!S[u][l]&&(F=void 0),F!==void 0||x.hoverongaps){var j;a(c.hovertext)&&a(c.hovertext[u])?j=c.hovertext[u][l]:a(c.text)&&a(c.text[u])&&(j=c.text[u][l]);var V=b(x),te={type:"linear",range:[V.min,V.max],hoverformat:T,_separators:g._separators,_numFormat:g._numFormat},Q=w.tickText(te,F,"hover").text;return[k.extendFlat(h,{index:x._after2before?x._after2before[u][l]:[u,l],distance:h.maxHoverDistance,spikeDistance:h.maxSpikeDistance,x0:U,x1:D,y0:B,y1:Z,xLabelVal:r,yLabelVal:s,zLabelVal:F,zLabel:Q,text:j})]}}},81932:function(Y,P,e){Y.exports={attributes:e(83328),supplyDefaults:e(24480),calc:e(19512),plot:e(41420),colorbar:e(96288),style:e(41648),hoverPoints:e(55512),moduleType:"trace",name:"heatmap",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},70448:function(Y,P,e){var A=e(3400),k=[[-1,0],[1,0],[0,-1],[0,1]];function a(b){return .5-.25*Math.min(1,.5*b)}function w(b,h,o){var t,i,n,r,s,l,u,d,c,x,g,p,v,y=0;for(r=0;r<h.length;r++){for(i=(t=h[r])[0],n=t[1],g=b[i][n],x=0,c=0,s=0;s<4;s++)(u=b[i+(l=k[s])[0]])&&(d=u[n+l[1]])!==void 0&&(x===0?p=v=d:(p=Math.min(p,d),v=Math.max(v,d)),c++,x+=d);if(c===0)throw"iterateInterp2d order is wrong: no defined neighbors";b[i][n]=x/c,g===void 0?c<4&&(y=1):(b[i][n]=(1+o)*b[i][n]-o*g,v>p&&(y=Math.max(y,Math.abs(b[i][n]-g)/(v-p))))}return y}Y.exports=function(b,h){var o,t=1;for(w(b,h),o=0;o<h.length&&!(h[o][2]<4);o++);for(h=h.slice(o),o=0;o<100&&t>.01;o++)t=w(b,h,a(t));return t>.01&&A.log("interp2d didn't converge quickly",t),b}},39096:function(Y,P,e){var A=e(3400);Y.exports=function(k,a){k("texttemplate");var w=A.extendFlat({},a.font,{color:"auto",size:"auto"});A.coerceFont(k,"textfont",w)}},35744:function(Y,P,e){var A=e(24040),k=e(3400).isArrayOrTypedArray;Y.exports=function(a,w,b,h,o,t){var i,n,r,s=[],l=A.traceIs(a,"contour"),u=A.traceIs(a,"histogram"),d=A.traceIs(a,"gl2d");if(k(w)&&w.length>1&&!u&&t.type!=="category"){var c=w.length;if(!(c<=o))return l?w.slice(0,o):w.slice(0,o+1);if(l||d)s=Array.from(w).slice(0,o);else if(o===1)s=t.type==="log"?[.5*w[0],2*w[0]]:[w[0]-.5,w[0]+.5];else if(t.type==="log"){for(s=[Math.pow(w[0],1.5)/Math.pow(w[1],.5)],r=1;r<c;r++)s.push(Math.sqrt(w[r-1]*w[r]));s.push(Math.pow(w[c-1],1.5)/Math.pow(w[c-2],.5))}else{for(s=[1.5*w[0]-.5*w[1]],r=1;r<c;r++)s.push(.5*(w[r-1]+w[r]));s.push(1.5*w[c-1]-.5*w[c-2])}if(c<o){var x,g=s[s.length-1];if(t.type==="log")for(x=g/s[s.length-2],r=c;r<o;r++)g*=x,s.push(g);else for(x=g-s[s.length-2],r=c;r<o;r++)g+=x,s.push(g)}}else{var p=a[t._id.charAt(0)+"calendar"];for(i=u?t.r2c(b,0,p):k(w)&&w.length===1?w[0]:b===void 0?0:(t.type==="log"?t.d2c:t.r2c)(b,0,p),n=h||1,r=l||d?0:-.5;r<o;r++)s.push(i+n*r)}return s}},41420:function(Y,P,e){var A=e(33428),k=e(49760),a=e(24040),w=e(43616),b=e(54460),h=e(3400),o=e(72736),t=e(76688),i=e(76308),n=e(8932).extractOpts,r=e(8932).makeColorScaleFuncFromTrace,s=e(9616),l=e(84284).LINE_SPACING,u=e(9188),d=e(2264).STYLE,c="heatmap-label";function x(m){return m.selectAll("g."+c)}function g(m){x(m).remove()}function p(m,_){var f=_.length-2,S=h.constrain(h.findBin(m,_),0,f),T=_[S],E=_[S+1],C=h.constrain(S+(m-T)/(E-T)-.5,0,f),O=Math.round(C),I=Math.abs(C-O);return C&&C!==f&&I?{bin0:O,frac:I,bin1:Math.round(O+I/(C-O))}:{bin0:O,bin1:O,frac:0}}function v(m,_){var f=_.length-1,S=h.constrain(h.findBin(m,_),0,f),T=_[S],E=(m-T)/(_[S+1]-T)||0;return E<=0?{bin0:S,bin1:S,frac:0}:E<.5?{bin0:S,bin1:S+1,frac:E}:{bin0:S+1,bin1:S,frac:1-E}}function y(m,_,f){m[_]=f[0],m[_+1]=f[1],m[_+2]=f[2],m[_+3]=Math.round(255*f[3])}Y.exports=function(m,_,f,S){var T=_.xaxis,E=_.yaxis;h.makeTraceGroups(S,f,"hm").each(function(C){var O,I,z,U,D,B,Z,F,j=A.select(this),V=C[0],te=V.trace,Q=te.xgap||0,$=te.ygap||0,G=V.z,X=V.x,J=V.y,ne=V.xCenter,ie=V.yCenter,ae=a.traceIs(te,"contour"),le=ae?"best":te.zsmooth,ce=G.length,pe=h.maxRowLength(G),ge=!1,me=!1;for(B=0;O===void 0&&B<X.length-1;)O=T.c2p(X[B]),B++;for(B=X.length-1;I===void 0&&B>0;)I=T.c2p(X[B]),B--;for(I<O&&(z=I,I=O,O=z,ge=!0),B=0;U===void 0&&B<J.length-1;)U=E.c2p(J[B]),B++;for(B=J.length-1;D===void 0&&B>0;)D=E.c2p(J[B]),B--;D<U&&(z=U,U=D,D=z,me=!0),ae&&(ne=X,ie=J,X=V.xfill,J=V.yfill);var ve="default";if(le?ve=le==="best"?"smooth":"fast":te._islinear&&Q===0&&$===0&&u()&&(ve="fast"),ve!=="fast"){var Me=le==="best"?0:.5;O=Math.max(-Me*T._length,O),I=Math.min((1+Me)*T._length,I),U=Math.max(-Me*E._length,U),D=Math.min((1+Me)*E._length,D)}var _e,we,oe=Math.round(I-O),se=Math.round(D-U);if(O>=T._length||I<=0||U>=E._length||D<=0)return j.selectAll("image").data([]).exit().remove(),void g(j);ve==="fast"?(_e=pe,we=ce):(_e=oe,we=se);var de=document.createElement("canvas");de.width=_e,de.height=we;var Ee,Te,Se=de.getContext("2d",{willReadFrequently:!0}),Le=r(te,{noNumericCheck:!0,returnArray:!0});ve==="fast"?(Ee=ge?function(Ht){return pe-1-Ht}:h.identity,Te=me?function(Ht){return ce-1-Ht}:h.identity):(Ee=function(Ht){return h.constrain(Math.round(T.c2p(X[Ht])-O),0,oe)},Te=function(Ht){return h.constrain(Math.round(E.c2p(J[Ht])-U),0,se)});var Oe,he,xe,ke,Re=Te(0),ze=[Re,Re],Ie=ge?0:1,He=me?0:1,qe=0,Je=0,st=0,it=0;function vt(Ht,an){if(Ht!==void 0){var _n=Le(Ht);return _n[0]=Math.round(_n[0]),_n[1]=Math.round(_n[1]),_n[2]=Math.round(_n[2]),qe+=an,Je+=_n[0]*an,st+=_n[1]*an,it+=_n[2]*an,_n}return[0,0,0,0]}function _t(Ht,an,_n,vn){var Cn=Ht[_n.bin0];if(Cn===void 0)return vt(void 0,1);var Gn,Fn=Ht[_n.bin1],Nn=an[_n.bin0],rr=an[_n.bin1],Zt=Fn-Cn||0,mn=Nn-Cn||0;return Gn=Fn===void 0?rr===void 0?0:Nn===void 0?2*(rr-Cn):2*(2*rr-Nn-Cn)/3:rr===void 0?Nn===void 0?0:2*(2*Cn-Fn-Nn)/3:Nn===void 0?2*(2*rr-Fn-Cn)/3:rr+Cn-Fn-Nn,vt(Cn+_n.frac*Zt+vn.frac*(mn+_n.frac*Gn))}if(ve!=="default"){var xt,et=0;try{xt=new Uint8Array(_e*we*4)}catch{xt=new Array(_e*we*4)}if(ve==="smooth"){var nt,Mt,zt,Ft=ne||X,Rt=ie||J,We=new Array(Ft.length),Ze=new Array(Rt.length),Ne=new Array(oe),Ye=ne?v:p,lt=ie?v:p;for(B=0;B<Ft.length;B++)We[B]=Math.round(T.c2p(Ft[B])-O);for(B=0;B<Rt.length;B++)Ze[B]=Math.round(E.c2p(Rt[B])-U);for(B=0;B<oe;B++)Ne[B]=Ye(B,We);for(Z=0;Z<se;Z++)for(Mt=G[(nt=lt(Z,Ze)).bin0],zt=G[nt.bin1],B=0;B<oe;B++,et+=4)y(xt,et,ke=_t(Mt,zt,Ne[B],nt))}else for(Z=0;Z<ce;Z++)for(xe=G[Z],ze=Te(Z),B=0;B<pe;B++)ke=vt(xe[B],1),y(xt,et=4*(ze*pe+Ee(B)),ke);var at=Se.createImageData(_e,we);try{at.data.set(xt)}catch{var Fe=at.data,Be=Fe.length;for(Z=0;Z<Be;Z++)Fe[Z]=xt[Z]}Se.putImageData(at,0,0)}else{var ot=Math.floor(Q/2),Xe=Math.floor($/2);for(Z=0;Z<ce;Z++)if(xe=G[Z],ze.reverse(),ze[He]=Te(Z+1),ze[0]!==ze[1]&&ze[0]!==void 0&&ze[1]!==void 0)for(Oe=[he=Ee(0),he],B=0;B<pe;B++)Oe.reverse(),Oe[Ie]=Ee(B+1),Oe[0]!==Oe[1]&&Oe[0]!==void 0&&Oe[1]!==void 0&&(ke=vt(xe[B],(Oe[1]-Oe[0])*(ze[1]-ze[0])),Se.fillStyle="rgba("+ke.join(",")+")",Se.fillRect(Oe[0]+ot,ze[0]+Xe,Oe[1]-Oe[0]-Q,ze[1]-ze[0]-$))}Je=Math.round(Je/qe),st=Math.round(st/qe),it=Math.round(it/qe);var pt=k("rgb("+Je+","+st+","+it+")");m._hmpixcount=(m._hmpixcount||0)+qe,m._hmlumcount=(m._hmlumcount||0)+qe*pt.getLuminance();var mt=j.selectAll("image").data(C);mt.enter().append("svg:image").attr({xmlns:s.svg,preserveAspectRatio:"none"}),mt.attr({height:se,width:oe,x:O,y:U,"xlink:href":de.toDataURL("image/png")}),ve!=="fast"||le||mt.attr("style",d),g(j);var yt=te.texttemplate;if(yt){var ht=n(te),Lt={type:"linear",range:[ht.min,ht.max],_separators:T._separators,_numFormat:T._numFormat},Tt=te.type==="histogram2dcontour",bt=te.type==="contour",Pt=bt?ce-1:ce,Ot=bt?1:0,Bt=bt?pe-1:pe,Kt=[];for(B=bt?1:0;B<Pt;B++){var on;if(bt)on=V.y[B];else if(Tt){if(B===0||B===ce-1)continue;on=V.y[B]}else if(V.yCenter)on=V.yCenter[B];else{if(B+1===ce&&V.y[B+1]===void 0)continue;on=(V.y[B]+V.y[B+1])/2}var qt=Math.round(E.c2p(on));if(!(0>qt||qt>E._length))for(Z=Ot;Z<Bt;Z++){var Wt;if(bt)Wt=V.x[Z];else if(Tt){if(Z===0||Z===pe-1)continue;Wt=V.x[Z]}else if(V.xCenter)Wt=V.xCenter[Z];else{if(Z+1===pe&&V.x[Z+1]===void 0)continue;Wt=(V.x[Z]+V.x[Z+1])/2}var nn=Math.round(T.c2p(Wt));if(!(0>nn||nn>T._length)){var En=t({x:Wt,y:on},te,m._fullLayout);En.x=Wt,En.y=on;var Mn=V.z[B][Z];Mn===void 0?(En.z="",En.zLabel=""):(En.z=Mn,En.zLabel=b.tickText(Lt,Mn,"hover").text);var dn=V.text&&V.text[B]&&V.text[B][Z];dn!==void 0&&dn!==!1||(dn=""),En.text=dn;var Jt=h.texttemplateString(yt,En,m._fullLayout._d3locale,En,te._meta||{});if(Jt){var un=Jt.split("<br>"),rn=un.length,hn=0;for(F=0;F<rn;F++)hn=Math.max(hn,un[F].length);Kt.push({l:rn,c:hn,t:Jt,x:nn,y:qt,z:Mn})}}}}var kn=te.textfont,Ln=kn.family,Dn=kn.size,zn=m._fullLayout.font.size;if(!Dn||Dn==="auto"){var On=1/0,Hn=1/0,jn=0,ar=0;for(F=0;F<Kt.length;F++){var ur=Kt[F];if(jn=Math.max(jn,ur.l),ar=Math.max(ar,ur.c),F<Kt.length-1){var cr=Kt[F+1],er=Math.abs(cr.x-ur.x),Tr=Math.abs(cr.y-ur.y);er&&(On=Math.min(On,er)),Tr&&(Hn=Math.min(Hn,Tr))}}isFinite(On)&&isFinite(Hn)?(On-=Q,Hn-=$,On/=ar,Hn/=jn,On/=l/2,Hn/=l,Dn=Math.min(Math.floor(On),Math.floor(Hn),zn)):Dn=zn}if(Dn<=0||!isFinite(Dn))return;x(j).data(Kt).enter().append("g").classed(c,1).append("text").attr("text-anchor","middle").each(function(Ht){var an=A.select(this),_n=kn.color;_n&&_n!=="auto"||(_n=i.contrast("rgba("+Le(Ht.z).join()+")")),an.attr("data-notex",1).call(o.positionText,function(vn){return vn.x}(Ht),function(vn){return vn.y-Dn*(vn.l*l/2-1)}(Ht)).call(w.font,Ln,Dn,_n).text(Ht.t).call(o.convertToTspans,m)})}})}},41648:function(Y,P,e){var A=e(33428);Y.exports=function(k){A.select(k).selectAll(".hm image").style("opacity",function(a){return a.trace.opacity})}},82748:function(Y){Y.exports=function(P,e,A){A("zsmooth")===!1&&(A("xgap"),A("ygap")),A("zhoverformat")}},51264:function(Y,P,e){var A=e(38248),k=e(3400),a=e(24040);function w(b,h){var o=h(b);return(o?h(b+"type","array"):"scaled")==="scaled"&&(h(b+"0"),h("d"+b)),o}Y.exports=function(b,h,o,t,i,n){var r,s,l=o("z");if(i=i||"x",n=n||"y",l===void 0||!l.length)return 0;if(k.isArray1D(l)){r=o(i),s=o(n);var u=k.minRowLength(r),d=k.minRowLength(s);if(u===0||d===0)return 0;h._length=Math.min(u,d,l.length)}else{if(r=w(i,o),s=w(n,o),!function(c){for(var x,g=!0,p=!1,v=!1,y=0;y<c.length;y++){if(x=c[y],!k.isArrayOrTypedArray(x)){g=!1;break}x.length>0&&(p=!0);for(var m=0;m<x.length;m++)if(A(x[m])){v=!0;break}}return g&&p&&v}(l))return 0;o("transpose"),h._length=null}return b.type==="heatmapgl"||a.getComponentMethod("calendars","handleTraceDefaults")(b,h,[i,n],t),!0}},74512:function(Y,P,e){for(var A=e(83328),k=e(49084),a=e(92880).extendFlat,w=e(67824).overrideAll,b=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],h={},o=0;o<b.length;o++){var t=b[o];h[t]=A[t]}h.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},a(h,k("",{cLetter:"z",autoColorDflt:!1})),Y.exports=w(h,"calc","nested")},84656:function(Y,P,e){var A=e(67792).gl_heatmap2d,k=e(54460),a=e(43080);function w(h,o){this.scene=h,this.uid=o,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=A(h.glplot,this.options),this.heatmap._trace=this}var b=w.prototype;b.handlePick=function(h){var o=this.options,t=o.shape,i=h.pointId,n=i%t[0],r=Math.floor(i/t[0]),s=i;return{trace:this,dataCoord:h.dataCoord,traceCoord:[o.x[n],o.y[r],o.z[s]],textLabel:this.textLabels[i],name:this.name,pointIndex:[r,n],hoverinfo:this.hoverinfo}},b.update=function(h,o){var t=o[0];this.index=h.index,this.name=h.name,this.hoverinfo=h.hoverinfo;var i=t.z;this.options.z=[].concat.apply([],i);var n=i[0].length,r=i.length;this.options.shape=[n,r],this.options.x=t.x,this.options.y=t.y,this.options.zsmooth=h.zsmooth;var s=function(x){for(var g=x.colorscale,p=x.zmin,v=x.zmax,y=g.length,m=new Array(y),_=new Array(4*y),f=0;f<y;f++){var S=g[f],T=a(S[1]);m[f]=p+S[0]*(v-p);for(var E=0;E<4;E++)_[4*f+E]=T[E]}return{colorLevels:m,colorValues:_}}(h);this.options.colorLevels=s.colorLevels,this.options.colorValues=s.colorValues,this.textLabels=[].concat.apply([],h.text),this.heatmap.update(this.options);var l,u,d=this.scene.xaxis,c=this.scene.yaxis;h.zsmooth===!1&&(l={ppad:t.x[1]-t.x[0]},u={ppad:t.y[1]-t.y[0]}),h._extremes[d._id]=k.findExtremes(d,t.x,l),h._extremes[c._id]=k.findExtremes(c,t.y,u)},b.dispose=function(){this.heatmap.dispose()},Y.exports=function(h,o,t){var i=new w(h,o.uid);return i.update(o,t),i}},86464:function(Y,P,e){var A=e(3400),k=e(51264),a=e(27260),w=e(74512);Y.exports=function(b,h,o,t){function i(n,r){return A.coerce(b,h,w,n,r)}k(b,h,i,t)?(i("text"),i("zsmooth"),a(b,h,t,i,{prefix:"",cLetter:"z"})):h.visible=!1}},45536:function(Y,P,e){Y.exports={attributes:e(74512),supplyDefaults:e(86464),colorbar:e(96288),calc:e(19512),plot:e(84656),moduleType:"trace",name:"heatmapgl",basePlotModule:e(39952),categories:["gl","gl2d","2dMap"],meta:{}}},40196:function(Y,P,e){var A=e(20832),k=e(29736).axisHoverFormat,a=e(21776).Ks,w=e(21776).Gw,b=e(25376),h=e(11120),o=e(73316),t=e(92880).extendFlat;Y.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:k("x"),yhoverformat:k("y"),text:t({},A.text,{}),hovertext:t({},A.hovertext,{}),orientation:A.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:h("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:h("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({},{keys:o.eventDataKeys}),texttemplate:w({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},A.textposition,{arrayOk:!1}),textfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:b({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:A.insidetextanchor,textangle:A.textangle,cliponaxis:A.cliponaxis,constraintext:A.constraintext,marker:A.marker,offsetgroup:A.offsetgroup,alignmentgroup:A.alignmentgroup,selected:A.selected,unselected:A.unselected,_deprecated:{bardir:A._deprecated.bardir}}},2e3:function(Y){Y.exports=function(P,e){for(var A=P.length,k=0,a=0;a<A;a++)e[a]?(P[a]/=e[a],k+=P[a]):P[a]=null;return k}},11120:function(Y){Y.exports=function(P,e){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},16964:function(Y,P,e){var A=e(38248);Y.exports={count:function(k,a,w){return w[k]++,1},sum:function(k,a,w,b){var h=b[a];return A(h)?(h=Number(h),w[k]+=h,h):0},avg:function(k,a,w,b,h){var o=b[a];return A(o)&&(o=Number(o),w[k]+=o,h[k]++),0},min:function(k,a,w,b){var h=b[a];if(A(h)){if(h=Number(h),!A(w[k]))return w[k]=h,h;if(w[k]>h){var o=h-w[k];return w[k]=h,o}}return 0},max:function(k,a,w,b){var h=b[a];if(A(h)){if(h=Number(h),!A(w[k]))return w[k]=h,h;if(w[k]<h){var o=h-w[k];return w[k]=h,o}}return 0}}},67712:function(Y,P,e){var A=e(39032),k=A.ONEAVGYEAR,a=A.ONEAVGMONTH,w=A.ONEDAY,b=A.ONEHOUR,h=A.ONEMIN,o=A.ONESEC,t=e(54460).tickIncrement;function i(l,u,d,c){if(l*u<=0)return 1/0;for(var x=Math.abs(u-l),g=d.type==="date",p=n(x,g),v=0;v<10;v++){var y=n(80*p,g);if(p===y||!r(y,l,u,g,d,c))break;p=y}return p}function n(l,u){return u&&l>o?l>w?l>1.1*k?k:l>1.1*a?a:w:l>b?b:l>h?h:o:Math.pow(10,Math.floor(Math.log(l)/Math.LN10))}function r(l,u,d,c,x,g){if(c&&l>w){var p=s(u,x,g),v=s(d,x,g),y=l===k?0:1;return p[y]!==v[y]}return Math.floor(d/l)-Math.floor(u/l)>.1}function s(l,u,d){var c=u.c2d(l,k,d).split("-");return c[0]===""&&(c.unshift(),c[0]="-"+c[0]),c}Y.exports=function(l,u,d,c,x){var g,p,v=-1.1*u,y=-.1*u,m=l-y,_=d[0],f=d[1],S=Math.min(i(_+y,_+m,c,x),i(f+y,f+m,c,x)),T=Math.min(i(_+v,_+y,c,x),i(f+v,f+y,c,x));if(S>T&&T<Math.abs(f-_)/4e3?(g=S,p=!1):(g=Math.min(S,T),p=!0),c.type==="date"&&g>w){var E=g===k?1:6,C=g===k?"M12":"M1";return function(O,I){var z=c.c2d(O,k,x),U=z.indexOf("-",E);U>0&&(z=z.substr(0,U));var D=c.d2c(z,0,x);if(D<O){var B=t(D,C,!1,x);(D+B)/2<O+l&&(D=B)}return I&&p?t(D,C,!0,x):D}}return function(O,I){var z=g*Math.round(O/g);return z+g/10<O&&z+.9*g<O+l&&(z+=g),I&&p&&(z-=g),z}}},35852:function(Y,P,e){var A=e(38248),k=e(3400),a=e(24040),w=e(54460),b=e(84664),h=e(16964),o=e(10648),t=e(2e3),i=e(67712);function n(r,s,l,u,d){var c,x,g,p,v,y,m,_=u+"bins",f=r._fullLayout,S=s["_"+u+"bingroup"],T=f._histogramBinOpts[S],E=f.barmode==="overlay",C=function(me){return l.r2c(me,0,p)},O=function(me){return l.c2r(me,0,p)},I=l.type==="date"?function(me){return me||me===0?k.cleanDate(me,null,p):null}:function(me){return A(me)?Number(me):null};function z(me,ve,Me){ve[me+"Found"]?(ve[me]=I(ve[me]),ve[me]===null&&(ve[me]=Me[me])):(y[me]=ve[me]=Me[me],k.nestedProperty(x[0],_+"."+me).set(Me[me]))}if(s["_"+u+"autoBinFinished"])delete s["_"+u+"autoBinFinished"];else{x=T.traces;var U=[],D=!0,B=!1,Z=!1;for(c=0;c<x.length;c++)if((g=x[c]).visible){var F=T.dirs[c];v=g["_"+F+"pos0"]=l.makeCalcdata(g,F),U=k.concat(U,v),delete g["_"+u+"autoBinFinished"],s.visible===!0&&(D?D=!1:(delete g._autoBin,g["_"+u+"autoBinFinished"]=1),a.traceIs(g,"2dMap")&&(B=!0),g.type==="histogram2dcontour"&&(Z=!0))}p=x[0][u+"calendar"];var j=w.autoBin(U,l,T.nbins,B,p,T.sizeFound&&T.size),V=x[0]._autoBin={};if(y=V[T.dirs[0]]={},Z&&(T.size||(j.start=O(w.tickIncrement(C(j.start),j.size,!0,p))),T.end===void 0&&(j.end=O(w.tickIncrement(C(j.end),j.size,!1,p)))),E&&!a.traceIs(s,"2dMap")&&j._dataSpan===0&&l.type!=="category"&&l.type!=="multicategory"&&s.bingroup===""&&s.xbins===void 0){if(d)return[j,v,!0];j=function(me,ve,Me,_e,we){var oe,se,de,Ee=me._fullLayout,Te=function(Je,st){for(var it=st.xaxis,vt=st.yaxis,_t=st.orientation,xt=[],et=Je._fullData,nt=0;nt<et.length;nt++){var Mt=et[nt];Mt.type==="histogram"&&Mt.visible===!0&&Mt.orientation===_t&&Mt.xaxis===it&&Mt.yaxis===vt&&xt.push(Mt)}return xt}(me,ve),Se=!1,Le=1/0,Oe=[ve];for(oe=0;oe<Te.length;oe++)if((se=Te[oe])===ve)Se=!0;else if(Se){var he=n(me,se,Me,_e,!0),xe=he[0],ke=he[2];se["_"+_e+"autoBinFinished"]=1,se["_"+_e+"pos0"]=he[1],ke?Oe.push(se):Le=Math.min(Le,xe.size)}else de=Ee._histogramBinOpts[se["_"+_e+"bingroup"]],Le=Math.min(Le,de.size||se[we].size);var Re=new Array(Oe.length);for(oe=0;oe<Oe.length;oe++)for(var ze=Oe[oe]["_"+_e+"pos0"],Ie=0;Ie<ze.length;Ie++)if(ze[Ie]!==void 0){Re[oe]=ze[Ie];break}for(isFinite(Le)||(Le=k.distinctVals(Re).minDiff),oe=0;oe<Oe.length;oe++){var He=(se=Oe[oe])[_e+"calendar"],qe={start:Me.c2r(Re[oe]-Le/2,0,He),end:Me.c2r(Re[oe]+Le/2,0,He),size:Le};se._input[we]=se[we]=qe,(de=Ee._histogramBinOpts[se["_"+_e+"bingroup"]])&&k.extendFlat(de,qe)}return ve[we]}(r,s,l,u,_)}(m=g.cumulative||{}).enabled&&m.currentbin!=="include"&&(m.direction==="decreasing"?j.start=O(w.tickIncrement(C(j.start),j.size,!0,p)):j.end=O(w.tickIncrement(C(j.end),j.size,!1,p))),T.size=j.size,T.sizeFound||(y.size=j.size,k.nestedProperty(x[0],_+".size").set(j.size)),z("start",T,j),z("end",T,j)}v=s["_"+u+"pos0"],delete s["_"+u+"pos0"];var te=s._input[_]||{},Q=k.extendFlat({},T),$=T.start,G=l.r2l(te.start),X=G!==void 0;if((T.startFound||X)&&G!==l.r2l($)){var J=X?G:k.aggNums(Math.min,null,v),ne={type:l.type==="category"||l.type==="multicategory"?"linear":l.type,r2l:l.r2l,dtick:T.size,tick0:$,calendar:p,range:[J,w.tickIncrement(J,T.size,!1,p)].map(l.l2r)},ie=w.tickFirst(ne);ie>l.r2l(J)&&(ie=w.tickIncrement(ie,T.size,!0,p)),Q.start=l.l2r(ie),X||k.nestedProperty(s,_+".start").set(Q.start)}var ae=T.end,le=l.r2l(te.end),ce=le!==void 0;if((T.endFound||ce)&&le!==l.r2l(ae)){var pe=ce?le:k.aggNums(Math.max,null,v);Q.end=l.l2r(pe),ce||k.nestedProperty(s,_+".start").set(Q.end)}var ge="autobin"+u;return s._input[ge]===!1&&(s._input[_]=k.extendFlat({},s[_]||{}),delete s._input[ge],delete s[ge]),[Q,v]}Y.exports={calc:function(r,s){var l,u,d,c,x=[],g=[],p=s.orientation==="h",v=w.getFromId(r,p?s.yaxis:s.xaxis),y=p?"y":"x",m={x:"y",y:"x"}[y],_=s[y+"calendar"],f=s.cumulative,S=n(r,s,v,y),T=S[0],E=S[1],C=typeof T.size=="string",O=[],I=C?O:T,z=[],U=[],D=[],B=0,Z=s.histnorm,F=s.histfunc,j=Z.indexOf("density")!==-1;f.enabled&&j&&(Z=Z.replace(/ ?density$/,""),j=!1);var V,te=F==="max"||F==="min"?null:0,Q=h.count,$=o[Z],G=!1,X=function(se){return v.r2c(se,0,_)};for(k.isArrayOrTypedArray(s[m])&&F!=="count"&&(V=s[m],G=F==="avg",Q=h[F]),l=X(T.start),d=X(T.end)+(l-w.tickIncrement(l,T.size,!1,_))/1e6;l<d&&x.length<1e6&&(u=w.tickIncrement(l,T.size,!1,_),x.push((l+u)/2),g.push(te),D.push([]),O.push(l),j&&z.push(1/(u-l)),G&&U.push(0),!(u<=l));)l=u;O.push(l),C||v.type!=="date"||(I={start:X(I.start),end:X(I.end),size:I.size}),r._fullLayout._roundFnOpts||(r._fullLayout._roundFnOpts={});var J=s["_"+y+"bingroup"],ne={leftGap:1/0,rightGap:1/0};J&&(r._fullLayout._roundFnOpts[J]||(r._fullLayout._roundFnOpts[J]=ne),ne=r._fullLayout._roundFnOpts[J]);var ie,ae=g.length,le=!0,ce=ne.leftGap,pe=ne.rightGap,ge={};for(l=0;l<E.length;l++){var me=E[l];(c=k.findBin(me,I))>=0&&c<ae&&(B+=Q(c,l,g,V,U),le&&D[c].length&&me!==E[D[c][0]]&&(le=!1),D[c].push(l),ge[l]=c,ce=Math.min(ce,me-O[c]),pe=Math.min(pe,O[c+1]-me))}ne.leftGap=ce,ne.rightGap=pe,le||(ie=function(se,de){return function(){var Ee=r._fullLayout._roundFnOpts[J];return i(Ee.leftGap,Ee.rightGap,O,v,_)(se,de)}}),G&&(B=t(g,U)),$&&$(g,B,z),f.enabled&&function(se,de,Ee){var Te,Se,Le;function Oe(xe){Le=se[xe],se[xe]/=2}function he(xe){Se=se[xe],se[xe]=Le+Se/2,Le+=Se}if(Ee==="half")if(de==="increasing")for(Oe(0),Te=1;Te<se.length;Te++)he(Te);else for(Oe(se.length-1),Te=se.length-2;Te>=0;Te--)he(Te);else if(de==="increasing"){for(Te=1;Te<se.length;Te++)se[Te]+=se[Te-1];Ee==="exclude"&&(se.unshift(0),se.pop())}else{for(Te=se.length-2;Te>=0;Te--)se[Te]+=se[Te+1];Ee==="exclude"&&(se.push(0),se.shift())}}(g,f.direction,f.currentbin);var ve=Math.min(x.length,g.length),Me=[],_e=0,we=ve-1;for(l=0;l<ve;l++)if(g[l]){_e=l;break}for(l=ve-1;l>=_e;l--)if(g[l]){we=l;break}for(l=_e;l<=we;l++)if(A(x[l])&&A(g[l])){var oe={p:x[l],s:g[l],b:0};f.enabled||(oe.pts=D[l],le?oe.ph0=oe.ph1=D[l].length?E[D[l][0]]:x[l]:(s._computePh=!0,oe.ph0=ie(O[l]),oe.ph1=ie(O[l+1],!0))),Me.push(oe)}return Me.length===1&&(Me[0].width1=w.tickIncrement(Me[0].p,T.size,!1,_)-Me[0].p),b(Me,s),k.isArrayOrTypedArray(s.selectedpoints)&&k.tagSelected(Me,s,ge),Me},calcAllAutoBins:n}},73316:function(Y){Y.exports={eventDataKeys:["binNumber"]}},80536:function(Y,P,e){var A=e(3400),k=e(79811),a=e(24040).traceIs,w=e(20011),b=e(31508).validateCornerradius,h=A.nestedProperty,o=e(71888).getAxisGroup,t=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],i=["x","y"];Y.exports=function(n,r){var s,l,u,d,c,x,g,p=r._histogramBinOpts={},v=[],y={},m=[];function _(te,Q){return A.coerce(s._input,s,s._module.attributes,te,Q)}function f(te){return te.orientation==="v"?"x":"y"}function S(te,Q,$){var G=te.uid+"__"+$;Q||(Q=G);var X=function(ae,le){return k.getFromTrace({_fullLayout:r},ae,le).type}(te,$),J=te[$+"calendar"]||"",ne=p[Q],ie=!0;ne&&(X===ne.axType&&J===ne.calendar?(ie=!1,ne.traces.push(te),ne.dirs.push($)):(Q=G,X!==ne.axType&&A.warn(["Attempted to group the bins of trace",te.index,"set on a","type:"+X,"axis","with bins on","type:"+ne.axType,"axis."].join(" ")),J!==ne.calendar&&A.warn(["Attempted to group the bins of trace",te.index,"set with a",J,"calendar","with bins",ne.calendar?"on a "+ne.calendar+" calendar":"w/o a set calendar"].join(" ")))),ie&&(p[Q]={traces:[te],dirs:[$],axType:X,calendar:te[$+"calendar"]||""}),te["_"+$+"bingroup"]=Q}for(c=0;c<n.length;c++)if(s=n[c],a(s,"histogram")){if(v.push(s),delete s._xautoBinFinished,delete s._yautoBinFinished,s.type==="histogram"){var T=_("marker.cornerradius",r.barcornerradius);s.marker&&(s.marker.cornerradius=b(T))}a(s,"2dMap")||w(s._input,s,r,_)}var E=r._alignmentOpts||{};for(c=0;c<v.length;c++){if(s=v[c],u="",!a(s,"2dMap")){if(d=f(s),r.barmode==="group"&&s.alignmentgroup){var C=s[d+"axis"],O=o(r,C)+s.orientation;(E[O]||{})[s.alignmentgroup]&&(u=O)}u||r.barmode==="overlay"||(u=o(r,s.xaxis)+o(r,s.yaxis)+f(s))}u?(y[u]||(y[u]=[]),y[u].push(s)):m.push(s)}for(u in y)if((l=y[u]).length!==1){var I=!1;for(l.length&&(s=l[0],I=_("bingroup")),u=I||u,c=0;c<l.length;c++){var z=(s=l[c])._input.bingroup;z&&z!==u&&A.warn(["Trace",s.index,"must match","within bingroup",u+".","Ignoring its bingroup:",z,"setting."].join(" ")),s.bingroup=u,S(s,u,f(s))}}else m.push(l[0]);for(c=0;c<m.length;c++){s=m[c];var U=_("bingroup");if(a(s,"2dMap"))for(g=0;g<2;g++){var D=_((d=i[g])+"bingroup",U?U+"__"+d:null);S(s,D,d)}else S(s,U,f(s))}for(u in p){var B=p[u];for(l=B.traces,x=0;x<t.length;x++){var Z,F,j=t[x],V=j.name;if(V!=="nbins"||!B.sizeFound){for(c=0;c<l.length;c++){if(s=l[c],d=B.dirs[c],Z=j.aStr[d],h(s._input,Z).get()!==void 0){B[V]=_(Z),B[V+"Found"]=!0;break}(F=(s._autoBin||{})[d]||{})[V]&&h(s,Z).set(F[V])}if(V==="start"||V==="end")for(;c<l.length;c++)(s=l[c])["_"+d+"bingroup"]&&_(Z,(F=(s._autoBin||{})[d]||{})[V]);V!=="nbins"||B.sizeFound||B.nbinsFound||(s=l[0],B[V]=_(Z))}}}}},6616:function(Y,P,e){var A=e(24040),k=e(3400),a=e(76308),w=e(31508).handleText,b=e(55592),h=e(40196);Y.exports=function(o,t,i,n){function r(y,m){return k.coerce(o,t,h,y,m)}var s=r("x"),l=r("y");r("cumulative.enabled")&&(r("cumulative.direction"),r("cumulative.currentbin")),r("text");var u=r("textposition");w(o,t,n,r,u,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),r("hovertext"),r("hovertemplate"),r("xhoverformat"),r("yhoverformat");var d=r("orientation",l&&!s?"h":"v"),c=d==="v"?"x":"y",x=d==="v"?"y":"x",g=s&&l?Math.min(k.minRowLength(s)&&k.minRowLength(l)):k.minRowLength(t[c]||[]);if(g){t._length=g,A.getComponentMethod("calendars","handleTraceDefaults")(o,t,["x","y"],n),t[x]&&r("histfunc"),r("histnorm"),r("autobin"+c),b(o,t,r,i,n),k.coerceSelectionMarkerOpacity(t,r);var p=(t.marker.line||{}).color,v=A.getComponentMethod("errorbars","supplyDefaults");v(o,t,p||a.defaultLine,{axis:"y"}),v(o,t,p||a.defaultLine,{axis:"x",inherit:"y"})}else t.visible=!1}},84980:function(Y){Y.exports=function(P,e,A,k,a){if(P.x="xVal"in e?e.xVal:e.x,P.y="yVal"in e?e.yVal:e.y,"zLabelVal"in e&&(P.z=e.zLabelVal),e.xa&&(P.xaxis=e.xa),e.ya&&(P.yaxis=e.ya),!(A.cumulative||{}).enabled){var w,b=Array.isArray(a)?k[0].pts[a[0]][a[1]]:k[a].pts;if(P.pointNumbers=b,P.binNumber=P.pointNumber,delete P.pointNumber,delete P.pointIndex,A._indexToPoints){w=[];for(var h=0;h<b.length;h++)w=w.concat(A._indexToPoints[b[h]])}else w=b;P.pointIndices=w}return P}},43339:function(Y,P,e){var A=e(63400).hoverPoints,k=e(54460).hoverLabelText;Y.exports=function(a,w,b,h,o){var t=A(a,w,b,h,o);if(t){var i=(a=t[0]).cd[a.index],n=a.cd[0].trace;if(!n.cumulative.enabled){var r=n.orientation==="h"?"y":"x";a[r+"Label"]=k(a[r+"a"],[i.ph0,i.ph1],n[r+"hoverformat"])}return t}}},42600:function(Y,P,e){Y.exports={attributes:e(40196),layoutAttributes:e(39324),supplyDefaults:e(6616),crossTraceDefaults:e(80536),supplyLayoutDefaults:e(37156),calc:e(35852).calc,crossTraceCalc:e(96376).crossTraceCalc,plot:e(98184).plot,layerName:"barlayer",style:e(60100).style,styleOnSelect:e(60100).styleOnSelect,colorbar:e(5528),hoverPoints:e(43339),selectPoints:e(45784),eventData:e(84980),moduleType:"trace",name:"histogram",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},10648:function(Y){Y.exports={percent:function(P,e){for(var A=P.length,k=100/e,a=0;a<A;a++)P[a]*=k},probability:function(P,e){for(var A=P.length,k=0;k<A;k++)P[k]/=e},density:function(P,e,A,k){var a=P.length;k=k||1;for(var w=0;w<a;w++)P[w]*=A[w]*k},"probability density":function(P,e,A,k){var a=P.length;k&&(e/=k);for(var w=0;w<a;w++)P[w]*=A[w]/e}}},37008:function(Y,P,e){var A=e(40196),k=e(11120),a=e(83328),w=e(45464),b=e(29736).axisHoverFormat,h=e(21776).Ks,o=e(21776).Gw,t=e(49084),i=e(92880).extendFlat;Y.exports=i({x:A.x,y:A.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:A.histnorm,histfunc:A.histfunc,nbinsx:A.nbinsx,xbins:k("x"),nbinsy:A.nbinsy,ybins:k("y"),autobinx:A.autobinx,autobiny:A.autobiny,bingroup:i({},A.bingroup,{}),xbingroup:i({},A.bingroup,{}),ybingroup:i({},A.bingroup,{}),xgap:a.xgap,ygap:a.ygap,zsmooth:a.zsmooth,xhoverformat:b("x"),yhoverformat:b("y"),zhoverformat:b("z",1),hovertemplate:h({},{keys:"z"}),texttemplate:o({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:a.textfont,showlegend:i({},w.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},55480:function(Y,P,e){var A=e(3400),k=e(54460),a=e(16964),w=e(10648),b=e(2e3),h=e(67712),o=e(35852).calcAllAutoBins;function t(r,s,l,u){var d,c=new Array(r);if(u)for(d=0;d<r;d++)c[d]=1/(s[d+1]-s[d]);else{var x=1/l;for(d=0;d<r;d++)c[d]=x}return c}function i(r,s){return{start:r(s.start),end:r(s.end),size:s.size}}function n(r,s,l,u,d,c){var x,g=r.length-1,p=new Array(g),v=h(l,u,r,d,c);for(x=0;x<g;x++){var y=(s||[])[x];p[x]=y===void 0?[v(r[x]),v(r[x+1],!0)]:[y,y]}return p}Y.exports=function(r,s){var l,u,d,c,x=k.getFromId(r,s.xaxis),g=k.getFromId(r,s.yaxis),p=s.xcalendar,v=s.ycalendar,y=function(vt){return x.r2c(vt,0,p)},m=function(vt){return g.r2c(vt,0,v)},_=o(r,s,x,"x"),f=_[0],S=_[1],T=o(r,s,g,"y"),E=T[0],C=T[1],O=s._length;S.length>O&&S.splice(O,S.length-O),C.length>O&&C.splice(O,C.length-O);var I=[],z=[],U=[],D=typeof f.size=="string",B=typeof E.size=="string",Z=[],F=[],j=D?Z:f,V=B?F:E,te=0,Q=[],$=[],G=s.histnorm,X=s.histfunc,J=G.indexOf("density")!==-1,ne=X==="max"||X==="min"?null:0,ie=a.count,ae=w[G],le=!1,ce=[],pe=[],ge="z"in s?s.z:"marker"in s&&Array.isArray(s.marker.color)?s.marker.color:"";ge&&X!=="count"&&(le=X==="avg",ie=a[X]);var me=f.size,ve=y(f.start),Me=y(f.end)+(ve-k.tickIncrement(ve,me,!1,p))/1e6;for(l=ve;l<Me;l=k.tickIncrement(l,me,!1,p))z.push(ne),Z.push(l),le&&U.push(0);Z.push(l);var _e,we=z.length,oe=(l-ve)/we,se=(_e=ve+oe/2,x.c2r(_e,0,p)),de=E.size,Ee=m(E.start),Te=m(E.end)+(Ee-k.tickIncrement(Ee,de,!1,v))/1e6;for(l=Ee;l<Te;l=k.tickIncrement(l,de,!1,v)){I.push(z.slice()),F.push(l);var Se=new Array(we);for(u=0;u<we;u++)Se[u]=[];$.push(Se),le&&Q.push(U.slice())}F.push(l);var Le=I.length,Oe=(l-Ee)/Le,he=function(vt){return g.c2r(vt,0,v)}(Ee+Oe/2);J&&(ce=t(z.length,j,oe,D),pe=t(I.length,V,Oe,B)),D||x.type!=="date"||(j=i(y,j)),B||g.type!=="date"||(V=i(m,V));var xe=!0,ke=!0,Re=new Array(we),ze=new Array(Le),Ie=1/0,He=1/0,qe=1/0,Je=1/0;for(l=0;l<O;l++){var st=S[l],it=C[l];d=A.findBin(st,j),c=A.findBin(it,V),d>=0&&d<we&&c>=0&&c<Le&&(te+=ie(d,l,I[c],ge,Q[c]),$[c][d].push(l),xe&&(Re[d]===void 0?Re[d]=st:Re[d]!==st&&(xe=!1)),ke&&(ze[c]===void 0?ze[c]=it:ze[c]!==it&&(ke=!1)),Ie=Math.min(Ie,st-Z[d]),He=Math.min(He,Z[d+1]-st),qe=Math.min(qe,it-F[c]),Je=Math.min(Je,F[c+1]-it))}if(le)for(c=0;c<Le;c++)te+=b(I[c],Q[c]);if(ae)for(c=0;c<Le;c++)ae(I[c],te,ce,pe[c]);return{x:S,xRanges:n(Z,xe&&Re,Ie,He,x,p),x0:se,dx:oe,y:C,yRanges:n(F,ke&&ze,qe,Je,g,v),y0:he,dy:Oe,z:I,pts:$}}},99784:function(Y,P,e){var A=e(3400),k=e(56408),a=e(82748),w=e(27260),b=e(39096),h=e(37008);Y.exports=function(o,t,i,n){function r(s,l){return A.coerce(o,t,h,s,l)}k(o,t,r,n),t.visible!==!1&&(a(o,t,r,n),w(o,t,n,r,{prefix:"",cLetter:"z"}),r("hovertemplate"),b(r,n),r("xhoverformat"),r("yhoverformat"))}},59576:function(Y,P,e){var A=e(55512),k=e(54460).hoverLabelText;Y.exports=function(a,w,b,h,o){var t=A(a,w,b,h,o);if(t){var i=(a=t[0]).index,n=i[0],r=i[1],s=a.cd[0],l=s.trace,u=s.xRanges[r],d=s.yRanges[n];return a.xLabel=k(a.xa,[u[0],u[1]],l.xhoverformat),a.yLabel=k(a.ya,[d[0],d[1]],l.yhoverformat),t}}},21536:function(Y,P,e){Y.exports={attributes:e(37008),supplyDefaults:e(99784),crossTraceDefaults:e(80536),calc:e(19512),plot:e(41420),layerName:"heatmaplayer",colorbar:e(96288),style:e(41648),hoverPoints:e(59576),eventData:e(84980),moduleType:"trace",name:"histogram2d",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},56408:function(Y,P,e){var A=e(24040),k=e(3400);Y.exports=function(a,w,b,h){var o=b("x"),t=b("y"),i=k.minRowLength(o),n=k.minRowLength(t);i&&n?(w._length=Math.min(i,n),A.getComponentMethod("calendars","handleTraceDefaults")(a,w,["x","y"],h),(b("z")||b("marker.color"))&&b("histfunc"),b("histnorm"),b("autobinx"),b("autobiny")):w.visible=!1}},81220:function(Y,P,e){var A=e(37008),k=e(67104),a=e(49084),w=e(29736).axisHoverFormat,b=e(92880).extendFlat;Y.exports=b({x:A.x,y:A.y,z:A.z,marker:A.marker,histnorm:A.histnorm,histfunc:A.histfunc,nbinsx:A.nbinsx,xbins:A.xbins,nbinsy:A.nbinsy,ybins:A.ybins,autobinx:A.autobinx,autobiny:A.autobiny,bingroup:A.bingroup,xbingroup:A.xbingroup,ybingroup:A.ybingroup,autocontour:k.autocontour,ncontours:k.ncontours,contours:k.contours,line:{color:k.line.color,width:b({},k.line.width,{dflt:.5}),dash:k.line.dash,smoothing:k.line.smoothing,editType:"plot"},xhoverformat:w("x"),yhoverformat:w("y"),zhoverformat:w("z",1),hovertemplate:A.hovertemplate,texttemplate:k.texttemplate,textfont:k.textfont},a("",{cLetter:"z",editTypeOverride:"calc"}))},3704:function(Y,P,e){var A=e(3400),k=e(56408),a=e(84952),w=e(97680),b=e(39096),h=e(81220);Y.exports=function(o,t,i,n){function r(s,l){return A.coerce(o,t,h,s,l)}k(o,t,r,n),t.visible!==!1&&(a(o,t,r,function(s){return A.coerce2(o,t,h,s)}),w(o,t,r,n),r("xhoverformat"),r("yhoverformat"),r("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&b(r,n))}},65664:function(Y,P,e){Y.exports={attributes:e(81220),supplyDefaults:e(3704),crossTraceDefaults:e(80536),calc:e(20688),plot:e(23676).plot,layerName:"contourlayer",style:e(52440),colorbar:e(55296),hoverPoints:e(38200),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},97376:function(Y,P,e){var A=e(21776).Ks,k=e(21776).Gw,a=e(49084),w=e(86968).u,b=e(74996),h=e(424),o=e(40516),t=e(32984),i=e(92880).extendFlat,n=e(98192).c;Y.exports={labels:h.labels,parents:h.parents,values:h.values,branchvalues:h.branchvalues,count:h.count,level:h.level,maxdepth:h.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:o.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:i({colors:h.marker.colors,line:h.marker.line,pattern:n,editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),leaf:h.leaf,pathbar:o.pathbar,text:b.text,textinfo:h.textinfo,texttemplate:k({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:b.hovertext,hoverinfo:h.hoverinfo,hovertemplate:A({},{keys:t.eventDataKeys}),textfont:b.textfont,insidetextfont:b.insidetextfont,outsidetextfont:o.outsidetextfont,textposition:o.textposition,sort:b.sort,root:h.root,domain:w({name:"icicle",trace:!0,editType:"calc"})}},59564:function(Y,P,e){var A=e(7316);P.name="icicle",P.plot=function(k,a,w,b){A.plotBasePlot(P.name,k,a,w,b)},P.clean=function(k,a,w,b){A.cleanBasePlot(P.name,k,a,w,b)}},73876:function(Y,P,e){var A=e(3776);P.r=function(k,a){return A.calc(k,a)},P.q=function(k){return A._runCrossTraceCalc("icicle",k)}},7045:function(Y,P,e){var A=e(3400),k=e(97376),a=e(76308),w=e(86968).Q,b=e(31508).handleText,h=e(78048).TEXTPAD,o=e(74174).handleMarkerDefaults,t=e(8932),i=t.hasColorscale,n=t.handleDefaults;Y.exports=function(r,s,l,u){function d(m,_){return A.coerce(r,s,k,m,_)}var c=d("labels"),x=d("parents");if(c&&c.length&&x&&x.length){var g=d("values");g&&g.length?d("branchvalues"):d("count"),d("level"),d("maxdepth"),d("tiling.orientation"),d("tiling.flip"),d("tiling.pad");var p=d("text");d("texttemplate"),s.texttemplate||d("textinfo",A.isArrayOrTypedArray(p)?"text+label":"label"),d("hovertext"),d("hovertemplate");var v=d("pathbar.visible");b(r,s,u,d,"auto",{hasPathbar:v,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),d("textposition"),o(r,s,u,d);var y=s._hasColorscale=i(r,"marker","colors")||(r.marker||{}).coloraxis;y&&n(r,s,u,d,{prefix:"marker.",cLetter:"c"}),d("leaf.opacity",y?1:.7),s._hovered={marker:{line:{width:2,color:a.contrast(u.paper_bgcolor)}}},v&&(d("pathbar.thickness",s.pathbar.textfont.size+2*h),d("pathbar.side"),d("pathbar.edgeshape")),d("sort"),d("root.color"),w(s,u,d),s._length=null}else s.visible=!1}},67880:function(Y,P,e){var A=e(33428),k=e(3400),a=e(43616),w=e(72736),b=e(25132),h=e(47192).styleOne,o=e(32984),t=e(78176),i=e(45716),n=e(96488).formatSliceLabel,r=!1;Y.exports=function(s,l,u,d,c){var x=c.width,g=c.height,p=c.viewX,v=c.viewY,y=c.pathSlice,m=c.toMoveInsideSlice,_=c.strTransform,f=c.hasTransition,S=c.handleSlicesExit,T=c.makeUpdateSliceInterpolator,E=c.makeUpdateTextInterpolator,C=c.prevEntry,O=s._context.staticPlot,I=s._fullLayout,z=l[0].trace,U=z.textposition.indexOf("left")!==-1,D=z.textposition.indexOf("right")!==-1,B=z.textposition.indexOf("bottom")!==-1,Z=b(u,[x,g],{flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,orientation:z.tiling.orientation,pad:{inner:z.tiling.pad},maxDepth:z._maxDepth}).descendants(),F=1/0,j=-1/0;Z.forEach(function(G){var X=G.depth;X>=z._maxDepth?(G.x0=G.x1=(G.x0+G.x1)/2,G.y0=G.y1=(G.y0+G.y1)/2):(F=Math.min(F,X),j=Math.max(j,X))}),d=d.data(Z,t.getPtId),z._maxVisibleLayers=isFinite(j)?j-F+1:0,d.enter().append("g").classed("slice",!0),S(d,r,{},[x,g],y),d.order();var V=null;if(f&&C){var te=t.getPtId(C);d.each(function(G){V===null&&t.getPtId(G)===te&&(V={x0:G.x0,x1:G.x1,y0:G.y0,y1:G.y1})})}var Q=function(){return V||{x0:0,x1:x,y0:0,y1:g}},$=d;return f&&($=$.transition().each("end",function(){var G=A.select(this);t.setSliceCursor(G,s,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),$.each(function(G){G._x0=p(G.x0),G._x1=p(G.x1),G._y0=v(G.y0),G._y1=v(G.y1),G._hoverX=p(G.x1-z.tiling.pad),G._hoverY=v(B?G.y1-z.tiling.pad/2:G.y0+z.tiling.pad/2);var X=A.select(this),J=k.ensureSingle(X,"path","surface",function(le){le.style("pointer-events",O?"none":"all")});f?J.transition().attrTween("d",function(le){var ce=T(le,r,Q(),[x,g],{orientation:z.tiling.orientation,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1});return function(pe){return y(ce(pe))}}):J.attr("d",y),X.call(i,u,s,l,{styleOne:h,eventDataKeys:o.eventDataKeys,transitionTime:o.CLICK_TRANSITION_TIME,transitionEasing:o.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,s,{isTransitioning:s._transitioning}),J.call(h,G,z,s,{hovered:!1}),G.x0===G.x1||G.y0===G.y1?G._text="":G._text=n(G,u,z,l,I)||"";var ne=k.ensureSingle(X,"g","slicetext"),ie=k.ensureSingle(ne,"text","",function(le){le.attr("data-notex",1)}),ae=k.ensureUniformFontSize(s,t.determineTextFont(z,G,I.font));ie.text(G._text||" ").classed("slicetext",!0).attr("text-anchor",D?"end":U?"start":"middle").call(a.font,ae).call(w.convertToTspans,s),G.textBB=a.bBox(ie.node()),G.transform=m(G,{fontSize:ae.size}),G.transform.fontSize=ae.size,f?ie.transition().attrTween("transform",function(le){var ce=E(le,r,Q(),[x,g]);return function(pe){return _(ce(pe))}}):ie.attr("transform",_(G))}),V}},29044:function(Y,P,e){Y.exports={moduleType:"trace",name:"icicle",basePlotModule:e(59564),categories:[],animatable:!0,attributes:e(97376),layoutAttributes:e(90676),supplyDefaults:e(7045),supplyLayoutDefaults:e(4304),calc:e(73876).r,crossTraceCalc:e(73876).q,plot:e(38364),style:e(47192).style,colorbar:e(5528),meta:{}}},90676:function(Y){Y.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},4304:function(Y,P,e){var A=e(3400),k=e(90676);Y.exports=function(a,w){function b(h,o){return A.coerce(a,w,k,h,o)}b("iciclecolorway",w.colorway),b("extendiciclecolors")}},25132:function(Y,P,e){var A=e(74148),k=e(83024);Y.exports=function(a,w,b){var h=b.flipX,o=b.flipY,t=b.orientation==="h",i=b.maxDepth,n=w[0],r=w[1];i&&(n=(a.height+1)*w[0]/Math.min(a.height+1,i),r=(a.height+1)*w[1]/Math.min(a.height+1,i));var s=A.partition().padding(b.pad.inner).size(t?[w[1],n]:[w[0],r])(a);return(t||h||o)&&k(s,w,{swapXY:t,flipX:h,flipY:o}),s}},38364:function(Y,P,e){var A=e(95808),k=e(67880);Y.exports=function(a,w,b,h){return A(a,w,b,h,{type:"icicle",drawDescendants:k})}},47192:function(Y,P,e){var A=e(33428),k=e(76308),a=e(3400),w=e(82744).resizeText,b=e(60404);function h(o,t,i,n){var r=t.data.data,s=!t.children,l=r.i,u=a.castOption(i,l,"marker.line.color")||k.defaultLine,d=a.castOption(i,l,"marker.line.width")||0;o.call(b,t,i,n).style("stroke-width",d).call(k.stroke,u).style("opacity",s?i.leaf.opacity:null)}Y.exports={style:function(o){var t=o._fullLayout._iciclelayer.selectAll(".trace");w(o,t,"icicle"),t.each(function(i){var n=A.select(this),r=i[0].trace;n.style("opacity",r.opacity),n.selectAll("path.surface").each(function(s){A.select(this).call(h,s,r,o)})})},styleOne:h}},95188:function(Y,P,e){for(var A=e(45464),k=e(21776).Ks,a=e(92880).extendFlat,w=e(47797).colormodel,b=["rgb","rgba","rgba256","hsl","hsla"],h=[],o=[],t=0;t<b.length;t++){var i=w[b[t]];h.push("For the `"+b[t]+"` colormodel, it is ["+(i.zminDflt||i.min).join(", ")+"]."),o.push("For the `"+b[t]+"` colormodel, it is ["+(i.zmaxDflt||i.max).join(", ")+"].")}Y.exports=a({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:b,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:a({},A.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:k({},{keys:["z","color","colormodel"]}),transforms:void 0})},93336:function(Y,P,e){var A=e(3400),k=e(47797),a=e(38248),w=e(54460),b=e(3400).maxRowLength,h=e(18712).i;function o(i,n,r,s){return function(l){return A.constrain((l-i)*n,r,s)}}function t(i,n){return function(r){return A.constrain(r,i,n)}}Y.exports=function(i,n){var r,s;if(n._hasZ)r=n.z.length,s=b(n.z);else if(n._hasSource){var l=h(n.source);r=l.height,s=l.width}var u,d=w.getFromId(i,n.xaxis||"x"),c=w.getFromId(i,n.yaxis||"y"),x=d.d2c(n.x0)-n.dx/2,g=c.d2c(n.y0)-n.dy/2,p=[x,x+s*n.dx],v=[g,g+r*n.dy];if(d&&d.type==="log")for(u=0;u<s;u++)p.push(x+u*n.dx);if(c&&c.type==="log")for(u=0;u<r;u++)v.push(g+u*n.dy);return n._extremes[d._id]=w.findExtremes(d,p),n._extremes[c._id]=w.findExtremes(c,v),n._scaler=function(y){var m=k.colormodel[y.colormodel],_=(m.colormodel||y.colormodel).length;y._sArray=[];for(var f=0;f<_;f++)m.min[f]!==y.zmin[f]||m.max[f]!==y.zmax[f]?y._sArray.push(o(y.zmin[f],(m.max[f]-m.min[f])/(y.zmax[f]-y.zmin[f]),m.min[f],m.max[f])):y._sArray.push(t(m.min[f],m.max[f]));return function(S){for(var T=S.slice(0,_),E=0;E<_;E++){var C=T[E];if(!a(C))return!1;T[E]=y._sArray[E](C)}return T}}(n),[{x0:x,y0:g,z:n.z,w:s,h:r}]}},47797:function(Y){Y.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(P){return P.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(P){return P.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(P){return P.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(P){var e=P.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["\xB0","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(P){var e=P.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["\xB0","%","%",""]}}}},13188:function(Y,P,e){var A=e(3400),k=e(95188),a=e(47797),w=e(81792).IMAGE_URL_PREFIX;Y.exports=function(b,h){function o(n,r){return A.coerce(b,h,k,n,r)}o("source"),h.source&&!h.source.match(w)&&delete h.source,h._hasSource=!!h.source;var t,i=o("z");h._hasZ=!(i===void 0||!i.length||!i[0]||!i[0].length),h._hasZ||h._hasSource?(o("x0"),o("y0"),o("dx"),o("dy"),h._hasZ?(o("colormodel","rgb"),o("zmin",(t=a.colormodel[h.colormodel]).zminDflt||t.min),o("zmax",t.zmaxDflt||t.max)):h._hasSource&&(h.colormodel="rgba256",t=a.colormodel[h.colormodel],h.zmin=t.zminDflt,h.zmax=t.zmaxDflt),o("zsmooth"),o("text"),o("hovertext"),o("hovertemplate"),h._length=null):h.visible=!1}},79972:function(Y){Y.exports=function(P,e){return"xVal"in e&&(P.x=e.xVal),"yVal"in e&&(P.y=e.yVal),e.xa&&(P.xaxis=e.xa),e.ya&&(P.yaxis=e.ya),P.color=e.color,P.colormodel=e.trace.colormodel,P.z||(P.z=e.color),P}},18712:function(Y,P,e){var A=e(19480),k=e(81792).IMAGE_URL_PREFIX,a=e(33576).Buffer;P.i=function(w){var b=w.replace(k,""),h=new a(b,"base64");return A(h)}},24892:function(Y,P,e){var A=e(93024),k=e(3400),a=k.isArrayOrTypedArray,w=e(47797);Y.exports=function(b,h,o){var t=b.cd[0],i=t.trace,n=b.xa,r=b.ya;if(!(A.inbox(h-t.x0,h-(t.x0+t.w*i.dx),0)>0||A.inbox(o-t.y0,o-(t.y0+t.h*i.dy),0)>0)){var s,l=Math.floor((h-t.x0)/i.dx),u=Math.floor(Math.abs(o-t.y0)/i.dy);if(i._hasZ?s=t.z[u][l]:i._hasSource&&(s=i._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(l,u,1,1).data),s){var d,c=t.hi||i.hoverinfo;if(c){var x=c.split("+");x.indexOf("all")!==-1&&(x=["color"]),x.indexOf("color")!==-1&&(d=!0)}var g,p=w.colormodel[i.colormodel],v=p.colormodel||i.colormodel,y=v.length,m=i._scaler(s),_=p.suffix,f=[];(i.hovertemplate||d)&&(f.push("["+[m[0]+_[0],m[1]+_[1],m[2]+_[2]].join(", ")),y===4&&f.push(", "+m[3]+_[3]),f.push("]"),f=f.join(""),b.extraText=v.toUpperCase()+": "+f),a(i.hovertext)&&a(i.hovertext[u])?g=i.hovertext[u][l]:a(i.text)&&a(i.text[u])&&(g=i.text[u][l]);var S=r.c2p(t.y0+(u+.5)*i.dy),T=t.x0+(l+.5)*i.dx,E=t.y0+(u+.5)*i.dy,C="["+s.slice(0,i.colormodel.length).join(", ")+"]";return[k.extendFlat(b,{index:[u,l],x0:n.c2p(t.x0+l*i.dx),x1:n.c2p(t.x0+(l+1)*i.dx),y0:S,y1:S,color:m,xVal:T,xLabelVal:T,yVal:E,yLabelVal:E,zLabelVal:C,text:g,hovertemplateLabels:{zLabel:C,colorLabel:f,"color[0]Label":m[0]+_[0],"color[1]Label":m[1]+_[1],"color[2]Label":m[2]+_[2],"color[3]Label":m[3]+_[3]}})]}}}},48928:function(Y,P,e){Y.exports={attributes:e(95188),supplyDefaults:e(13188),calc:e(93336),plot:e(63715),style:e(28576),hoverPoints:e(24892),eventData:e(79972),moduleType:"trace",name:"image",basePlotModule:e(57952),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},63715:function(Y,P,e){var A=e(33428),k=e(3400),a=k.strTranslate,w=e(9616),b=e(47797),h=e(9188),o=e(2264).STYLE;Y.exports=function(t,i,n,r){var s=i.xaxis,l=i.yaxis,u=!t._context._exportedPlot&&h();k.makeTraceGroups(r,n,"im").each(function(d){var c=A.select(this),x=d[0],g=x.trace,p=(g.zsmooth==="fast"||g.zsmooth===!1&&u)&&!g._hasZ&&g._hasSource&&s.type==="linear"&&l.type==="linear";g._realImage=p;var v,y,m,_,f,S,T=x.z,E=x.x0,C=x.y0,O=x.w,I=x.h,z=g.dx,U=g.dy;for(S=0;v===void 0&&S<O;)v=s.c2p(E+S*z),S++;for(S=O;y===void 0&&S>0;)y=s.c2p(E+S*z),S--;for(S=0;_===void 0&&S<I;)_=l.c2p(C+S*U),S++;for(S=I;f===void 0&&S>0;)f=l.c2p(C+S*U),S--;y<v&&(m=y,y=v,v=m),f<_&&(m=_,_=f,f=m),p||(v=Math.max(-.5*s._length,v),y=Math.min(1.5*s._length,y),_=Math.max(-.5*l._length,_),f=Math.min(1.5*l._length,f));var D=Math.round(y-v),B=Math.round(f-_);if(D<=0||B<=0)c.selectAll("image").data([]).exit().remove();else{var Z=c.selectAll("image").data([d]);Z.enter().append("svg:image").attr({xmlns:w.svg,preserveAspectRatio:"none"}),Z.exit().remove();var F=g.zsmooth===!1?o:"";if(p){var j=k.simpleMap(s.range,s.r2l),V=k.simpleMap(l.range,l.r2l),te=j[1]<j[0],Q=V[1]>V[0];if(te||Q){var $=v+D/2,G=_+B/2;F+="transform:"+a($+"px",G+"px")+"scale("+(te?-1:1)+","+(Q?-1:1)+")"+a(-$+"px",-G+"px")+";"}}Z.attr("style",F);var X=new Promise(function(ne){if(g._hasZ)ne();else if(g._hasSource)if(g._canvas&&g._canvas.el.width===O&&g._canvas.el.height===I&&g._canvas.source===g.source)ne();else{var ie=document.createElement("canvas");ie.width=O,ie.height=I;var ae=ie.getContext("2d",{willReadFrequently:!0});g._image=g._image||new Image;var le=g._image;le.onload=function(){ae.drawImage(le,0,0),g._canvas={el:ie,source:g.source},ne()},le.setAttribute("src",g.source)}}).then(function(){var ne,ie;if(g._hasZ)ie=J(function(le,ce){var pe=T[ce][le];return k.isTypedArray(pe)&&(pe=Array.from(pe)),pe}),ne=ie.toDataURL("image/png");else if(g._hasSource)if(p)ne=g.source;else{var ae=g._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,O,I).data;ie=J(function(le,ce){var pe=4*(ce*O+le);return[ae[pe],ae[pe+1],ae[pe+2],ae[pe+3]]}),ne=ie.toDataURL("image/png")}Z.attr({"xlink:href":ne,height:B,width:D,x:v,y:_})});t._promises.push(X)}function J(ne){var ie=document.createElement("canvas");ie.width=D,ie.height=B;var ae,le=ie.getContext("2d",{willReadFrequently:!0}),ce=function(de){return k.constrain(Math.round(s.c2p(E+de*z)-v),0,D)},pe=function(de){return k.constrain(Math.round(l.c2p(C+de*U)-_),0,B)},ge=b.colormodel[g.colormodel],me=ge.colormodel||g.colormodel,ve=ge.fmt;for(S=0;S<x.w;S++){var Me=ce(S),_e=ce(S+1);if(_e!==Me&&!isNaN(_e)&&!isNaN(Me))for(var we=0;we<x.h;we++){var oe=pe(we),se=pe(we+1);se===oe||isNaN(se)||isNaN(oe)||!ne(S,we)||(ae=g._scaler(ne(S,we)),le.fillStyle=ae?me+"("+ve(ae).join(",")+")":"rgba(0,0,0,0)",le.fillRect(Me,oe,_e-Me,se-oe))}}return ie}})}},28576:function(Y,P,e){var A=e(33428);Y.exports=function(k){A.select(k).selectAll(".im image").style("opacity",function(a){return a[0].trace.opacity})}},89864:function(Y,P,e){var A=e(92880).extendFlat,k=e(92880).extendDeep,a=e(67824).overrideAll,w=e(25376),b=e(22548),h=e(86968).u,o=e(94724),t=e(31780).templatedArray,i=e(48164),n=e(29736).descriptionOnlyNumbers,r=w({editType:"plot",colorEditType:"plot"}),s={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:b.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},l={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},u=t("step",k({},s,{range:l}));Y.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:h({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:A({},r,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:n("value")},font:A({},r,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:n("value")},increasing:{symbol:{valType:"string",dflt:i.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:i.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:i.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:i.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:A({},r,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:k({},s,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:b.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:a({range:l,visible:A({},o.visible,{dflt:!0}),tickmode:o.minor.tickmode,nticks:o.nticks,tick0:o.tick0,dtick:o.dtick,tickvals:o.tickvals,ticktext:o.ticktext,ticks:A({},o.ticks,{dflt:"outside"}),ticklen:o.ticklen,tickwidth:o.tickwidth,tickcolor:o.tickcolor,ticklabelstep:o.ticklabelstep,showticklabels:o.showticklabels,labelalias:o.labelalias,tickfont:w({}),tickangle:o.tickangle,tickformat:o.tickformat,tickformatstops:o.tickformatstops,tickprefix:o.tickprefix,showtickprefix:o.showtickprefix,ticksuffix:o.ticksuffix,showticksuffix:o.showticksuffix,separatethousands:o.separatethousands,exponentformat:o.exponentformat,minexponent:o.minexponent,showexponent:o.showexponent,editType:"plot"},"plot"),steps:u,threshold:{line:{color:A({},s.line.color,{}),width:A({},s.line.width,{dflt:1}),editType:"plot"},thickness:A({},s.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},92728:function(Y,P,e){var A=e(7316);P.name="indicator",P.plot=function(k,a,w,b){A.plotBasePlot(P.name,k,a,w,b)},P.clean=function(k,a,w,b){A.cleanBasePlot(P.name,k,a,w,b)}},79136:function(Y){Y.exports={calc:function(P,e){var A=[],k=e.value;typeof e._lastValue!="number"&&(e._lastValue=e.value);var a=e._lastValue,w=a;return e._hasDelta&&typeof e.delta.reference=="number"&&(w=e.delta.reference),A[0]={y:k,lastY:a,delta:k-w,relativeDelta:(k-w)/w},A}}},12096:function(Y){Y.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},20424:function(Y,P,e){var A=e(3400),k=e(89864),a=e(86968).Q,w=e(31780),b=e(51272),h=e(12096),o=e(26332),t=e(25404),i=e(95936),n=e(42568);function r(s,l){function u(d,c){return A.coerce(s,l,k.gauge.steps,d,c)}u("color"),u("line.color"),u("line.width"),u("range"),u("thickness")}Y.exports={supplyDefaults:function(s,l,u,d){function c(C,O){return A.coerce(s,l,k,C,O)}a(l,d,c),c("mode"),l._hasNumber=l.mode.indexOf("number")!==-1,l._hasDelta=l.mode.indexOf("delta")!==-1,l._hasGauge=l.mode.indexOf("gauge")!==-1;var x=c("value");l._range=[0,typeof x=="number"?1.5*x:1];var g,p,v,y,m,_,f=new Array(2);function S(C,O){return A.coerce(v,y,k.gauge,C,O)}function T(C,O){return A.coerce(m,_,k.gauge.axis,C,O)}if(l._hasNumber&&(c("number.valueformat"),c("number.font.color",d.font.color),c("number.font.family",d.font.family),c("number.font.size"),l.number.font.size===void 0&&(l.number.font.size=h.defaultNumberFontSize,f[0]=!0),c("number.prefix"),c("number.suffix"),g=l.number.font.size),l._hasDelta&&(c("delta.font.color",d.font.color),c("delta.font.family",d.font.family),c("delta.font.size"),l.delta.font.size===void 0&&(l.delta.font.size=(l._hasNumber?.5:1)*(g||h.defaultNumberFontSize),f[1]=!0),c("delta.reference",l.value),c("delta.relative"),c("delta.valueformat",l.delta.relative?"2%":""),c("delta.increasing.symbol"),c("delta.increasing.color"),c("delta.decreasing.symbol"),c("delta.decreasing.color"),c("delta.position"),c("delta.prefix"),c("delta.suffix"),p=l.delta.font.size),l._scaleNumbers=(!l._hasNumber||f[0])&&(!l._hasDelta||f[1])||!1,c("title.font.color",d.font.color),c("title.font.family",d.font.family),c("title.font.size",.25*(g||p||h.defaultNumberFontSize)),c("title.text"),l._hasGauge){(v=s.gauge)||(v={}),y=w.newContainer(l,"gauge"),S("shape"),(l._isBullet=l.gauge.shape==="bullet")||c("title.align","center"),(l._isAngular=l.gauge.shape==="angular")||c("align","center"),S("bgcolor",d.paper_bgcolor),S("borderwidth"),S("bordercolor"),S("bar.color"),S("bar.line.color"),S("bar.line.width"),S("bar.thickness",h.valueThickness*(l.gauge.shape==="bullet"?.5:1)),b(v,y,{name:"steps",handleItemDefaults:r}),S("threshold.value"),S("threshold.thickness"),S("threshold.line.width"),S("threshold.line.color"),m={},v&&(m=v.axis||{}),_=w.newContainer(y,"axis"),T("visible"),l._range=T("range",l._range);var E={noAutotickangles:!0,outerTicks:!0};o(m,_,T,"linear"),n(m,_,T,"linear",E),i(m,_,T,"linear",E),t(m,_,T,E)}else c("title.align","center"),c("align","center"),l._isAngular=l._isBullet=!1;l._length=null}}},43480:function(Y,P,e){Y.exports={moduleType:"trace",name:"indicator",basePlotModule:e(92728),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(89864),supplyDefaults:e(20424).supplyDefaults,calc:e(79136).calc,plot:e(97864),meta:{}}},97864:function(Y,P,e){var A=e(33428),k=e(67756).qy,a=e(67756).Gz,w=e(3400),b=w.strScale,h=w.strTranslate,o=w.rad2deg,t=e(84284).MID_SHIFT,i=e(43616),n=e(12096),r=e(72736),s=e(54460),l=e(28336),u=e(37668),d=e(94724),c=e(76308),x={left:"start",center:"middle",right:"end"},g={left:0,center:.5,right:1},p=/[yzafpnmkMGTPEZY]/;function v(T){return T&&T.duration>0}function y(T){T.each(function(E){c.stroke(A.select(this),E.line.color)}).each(function(E){c.fill(A.select(this),E.color)}).style("stroke-width",function(E){return E.line.width})}function m(T,E,C){var O=T._fullLayout,I=w.extendFlat({type:"linear",ticks:"outside",range:C,showline:!0},E),z={type:"linear",_id:"x"+E._id},U={letter:"x",font:O.font,noAutotickangles:!0,noHover:!0,noTickson:!0};function D(B,Z){return w.coerce(I,z,d,B,Z)}return l(I,z,D,U,O),u(I,z,D,U),z}function _(T,E,C){return[Math.min(E/T.width,C/T.height),T,E+"x"+C]}function f(T,E,C,O){var I=document.createElementNS("http://www.w3.org/2000/svg","text"),z=A.select(I);return z.text(T).attr("x",0).attr("y",0).attr("text-anchor",C).attr("data-unformatted",T).call(r.convertToTspans,O).call(i.font,E),i.bBox(z.node())}function S(T,E,C,O,I,z){var U="_cache"+E;T[U]&&T[U].key===I||(T[U]={key:I,value:C});var D=w.aggNums(z,null,[T[U].value,O],2);return T[U].value=D,D}Y.exports=function(T,E,C,O){var I,z=T._fullLayout;v(C)&&O&&(I=O()),w.makeTraceGroups(z._indicatorlayer,E,"trace").each(function(U){var D,B,Z,F,j,V=U[0].trace,te=A.select(this),Q=V._hasGauge,$=V._isAngular,G=V._isBullet,X=V.domain,J={w:z._size.w*(X.x[1]-X.x[0]),h:z._size.h*(X.y[1]-X.y[0]),l:z._size.l+z._size.w*X.x[0],r:z._size.r+z._size.w*(1-X.x[1]),t:z._size.t+z._size.h*(1-X.y[1]),b:z._size.b+z._size.h*X.y[0]},ne=J.l+J.w/2,ie=J.t+J.h/2,ae=Math.min(J.w/2,J.h),le=n.innerRadius*ae,ce=V.align||"center";if(B=ie,Q){if($&&(D=ne,B=ie+ae/2,Z=function(oe){return function(se,de){return[de/Math.sqrt(se.width/2*(se.width/2)+se.height*se.height),se,de]}(oe,.9*le)}),G){var pe=n.bulletPadding,ge=1-n.bulletNumberDomainSize+pe;D=J.l+(ge+(1-ge)*g[ce])*J.w,Z=function(oe){return _(oe,(n.bulletNumberDomainSize-pe)*J.w,J.h)}}}else D=J.l+g[ce]*J.w,Z=function(oe){return _(oe,J.w,J.h)};(function(oe,se,de,Ee){var Te,Se,Le,Oe=de[0].trace,he=Ee.numbersX,xe=Ee.numbersY,ke=Oe.align||"center",Re=x[ke],ze=Ee.transitionOpts,Ie=Ee.onComplete,He=w.ensureSingle(se,"g","numbers"),qe=[];Oe._hasNumber&&qe.push("number"),Oe._hasDelta&&(qe.push("delta"),Oe.delta.position==="left"&&qe.reverse());var Je=He.selectAll("text").data(qe);function st(zt,Ft,Rt,We){if(!zt.match("s")||Rt>=0==We>=0||Ft(Rt).slice(-1).match(p)||Ft(We).slice(-1).match(p))return Ft;var Ze=zt.slice().replace("s","f").replace(/\d+/,function(Ye){return parseInt(Ye)-1}),Ne=m(oe,{tickformat:Ze});return function(Ye){return Math.abs(Ye)<1?s.tickText(Ne,Ye).text:Ft(Ye)}}Je.enter().append("text"),Je.attr("text-anchor",function(){return Re}).attr("class",function(zt){return zt}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),Je.exit().remove();var it,vt=Oe.mode+Oe.align;if(Oe._hasDelta&&(it=function(){var zt=m(oe,{tickformat:Oe.delta.valueformat},Oe._range);zt.setScale(),s.prepTicks(zt);var Ft=function(Fe){return s.tickText(zt,Fe).text},Rt=Oe.delta.suffix,We=Oe.delta.prefix,Ze=function(Fe){return Oe.delta.relative?Fe.relativeDelta:Fe.delta},Ne=function(Fe,Be){return Fe===0||typeof Fe!="number"||isNaN(Fe)?"-":(Fe>0?Oe.delta.increasing.symbol:Oe.delta.decreasing.symbol)+We+Be(Fe)+Rt},Ye=function(Fe){return Fe.delta>=0?Oe.delta.increasing.color:Oe.delta.decreasing.color};Oe._deltaLastValue===void 0&&(Oe._deltaLastValue=Ze(de[0]));var lt=He.select("text.delta");function at(){lt.text(Ne(Ze(de[0]),Ft)).call(c.fill,Ye(de[0])).call(r.convertToTspans,oe)}return lt.call(i.font,Oe.delta.font).call(c.fill,Ye({delta:Oe._deltaLastValue})),v(ze)?lt.transition().duration(ze.duration).ease(ze.easing).tween("text",function(){var Fe=A.select(this),Be=Ze(de[0]),ot=Oe._deltaLastValue,Xe=st(Oe.delta.valueformat,Ft,ot,Be),pt=a(ot,Be);return Oe._deltaLastValue=Be,function(mt){Fe.text(Ne(pt(mt),Xe)),Fe.call(c.fill,Ye({delta:pt(mt)}))}}).each("end",function(){at(),Ie&&Ie()}).each("interrupt",function(){at(),Ie&&Ie()}):at(),Se=f(Ne(Ze(de[0]),Ft),Oe.delta.font,Re,oe),lt}(),vt+=Oe.delta.position+Oe.delta.font.size+Oe.delta.font.family+Oe.delta.valueformat,vt+=Oe.delta.increasing.symbol+Oe.delta.decreasing.symbol,Le=Se),Oe._hasNumber&&(function(){var zt=m(oe,{tickformat:Oe.number.valueformat},Oe._range);zt.setScale(),s.prepTicks(zt);var Ft=function(Ye){return s.tickText(zt,Ye).text},Rt=Oe.number.suffix,We=Oe.number.prefix,Ze=He.select("text.number");function Ne(){var Ye=typeof de[0].y=="number"?We+Ft(de[0].y)+Rt:"-";Ze.text(Ye).call(i.font,Oe.number.font).call(r.convertToTspans,oe)}v(ze)?Ze.transition().duration(ze.duration).ease(ze.easing).each("end",function(){Ne(),Ie&&Ie()}).each("interrupt",function(){Ne(),Ie&&Ie()}).attrTween("text",function(){var Ye=A.select(this),lt=a(de[0].lastY,de[0].y);Oe._lastValue=de[0].y;var at=st(Oe.number.valueformat,Ft,de[0].lastY,de[0].y);return function(Fe){Ye.text(We+at(lt(Fe))+Rt)}}):Ne(),Te=f(We+Ft(de[0].y)+Rt,Oe.number.font,Re,oe)}(),vt+=Oe.number.font.size+Oe.number.font.family+Oe.number.valueformat+Oe.number.suffix+Oe.number.prefix,Le=Te),Oe._hasDelta&&Oe._hasNumber){var _t,xt,et=[(Te.left+Te.right)/2,(Te.top+Te.bottom)/2],nt=[(Se.left+Se.right)/2,(Se.top+Se.bottom)/2],Mt=.75*Oe.delta.font.size;Oe.delta.position==="left"&&(_t=S(Oe,"deltaPos",0,-1*(Te.width*g[Oe.align]+Se.width*(1-g[Oe.align])+Mt),vt,Math.min),xt=et[1]-nt[1],Le={width:Te.width+Se.width+Mt,height:Math.max(Te.height,Se.height),left:Se.left+_t,right:Te.right,top:Math.min(Te.top,Se.top+xt),bottom:Math.max(Te.bottom,Se.bottom+xt)}),Oe.delta.position==="right"&&(_t=S(Oe,"deltaPos",0,Te.width*(1-g[Oe.align])+Se.width*g[Oe.align]+Mt,vt,Math.max),xt=et[1]-nt[1],Le={width:Te.width+Se.width+Mt,height:Math.max(Te.height,Se.height),left:Te.left,right:Se.right+_t,top:Math.min(Te.top,Se.top+xt),bottom:Math.max(Te.bottom,Se.bottom+xt)}),Oe.delta.position==="bottom"&&(_t=null,xt=Se.height,Le={width:Math.max(Te.width,Se.width),height:Te.height+Se.height,left:Math.min(Te.left,Se.left),right:Math.max(Te.right,Se.right),top:Te.bottom-Te.height,bottom:Te.bottom+Se.height}),Oe.delta.position==="top"&&(_t=null,xt=Te.top,Le={width:Math.max(Te.width,Se.width),height:Te.height+Se.height,left:Math.min(Te.left,Se.left),right:Math.max(Te.right,Se.right),top:Te.bottom-Te.height-Se.height,bottom:Te.bottom}),it.attr({dx:_t,dy:xt})}(Oe._hasNumber||Oe._hasDelta)&&He.attr("transform",function(){var zt=Ee.numbersScaler(Le);vt+=zt[2];var Ft,Rt=S(Oe,"numbersScale",1,zt[0],vt,Math.min);Oe._scaleNumbers||(Rt=1),Ft=Oe._isAngular?xe-Rt*Le.bottom:xe-Rt*(Le.top+Le.bottom)/2,Oe._numbersTop=Rt*Le.top+Ft;var We=Le[ke];ke==="center"&&(We=(Le.left+Le.right)/2);var Ze=he-Rt*We;return Ze=S(Oe,"numbersTranslate",0,Ze,vt,Math.max),h(Ze,Ft)+b(Rt)})})(T,te,U,{numbersX:D,numbersY:B,numbersScaler:Z,transitionOpts:C,onComplete:I}),Q&&(F={range:V.gauge.axis.range,color:V.gauge.bgcolor,line:{color:V.gauge.bordercolor,width:0},thickness:1},j={range:V.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:V.gauge.bordercolor,width:V.gauge.borderwidth},thickness:1});var me=te.selectAll("g.angular").data($?U:[]);me.exit().remove();var ve=te.selectAll("g.angularaxis").data($?U:[]);ve.exit().remove(),$&&function(oe,se,de,Ee){var Te,Se,Le,Oe,he=de[0].trace,xe=Ee.size,ke=Ee.radius,Re=Ee.innerRadius,ze=Ee.gaugeBg,Ie=Ee.gaugeOutline,He=[xe.l+xe.w/2,xe.t+xe.h/2+ke/2],qe=Ee.gauge,Je=Ee.layer,st=Ee.transitionOpts,it=Ee.onComplete,vt=Math.PI/2;function _t(mt){var yt=he.gauge.axis.range[0],ht=(mt-yt)/(he.gauge.axis.range[1]-yt)*Math.PI-vt;return ht<-vt?-vt:ht>vt?vt:ht}function xt(mt){return A.svg.arc().innerRadius((Re+ke)/2-mt/2*(ke-Re)).outerRadius((Re+ke)/2+mt/2*(ke-Re)).startAngle(-vt)}function et(mt){mt.attr("d",function(yt){return xt(yt.thickness).startAngle(_t(yt.range[0])).endAngle(_t(yt.range[1]))()})}qe.enter().append("g").classed("angular",!0),qe.attr("transform",h(He[0],He[1])),Je.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),Je.selectAll("g.xangularaxistick,path,text").remove(),(Te=m(oe,he.gauge.axis)).type="linear",Te.range=he.gauge.axis.range,Te._id="xangularaxis",Te.ticklabeloverflow="allow",Te.setScale();var nt=function(mt){return(Te.range[0]-mt.x)/(Te.range[1]-Te.range[0])*Math.PI+Math.PI},Mt={},zt=s.makeLabelFns(Te,0).labelStandoff;Mt.xFn=function(mt){var yt=nt(mt);return Math.cos(yt)*zt},Mt.yFn=function(mt){var yt=nt(mt),ht=Math.sin(yt)>0?.2:1;return-Math.sin(yt)*(zt+mt.fontSize*ht)+Math.abs(Math.cos(yt))*(mt.fontSize*t)},Mt.anchorFn=function(mt){var yt=nt(mt),ht=Math.cos(yt);return Math.abs(ht)<.1?"middle":ht>0?"start":"end"},Mt.heightFn=function(mt,yt,ht){var Lt=nt(mt);return-.5*(1+Math.sin(Lt))*ht};var Ft=function(mt){return h(He[0]+ke*Math.cos(mt),He[1]-ke*Math.sin(mt))};if(Le=function(mt){return Ft(nt(mt))},Se=s.calcTicks(Te),Oe=s.getTickSigns(Te)[2],Te.visible){Oe=Te.ticks==="inside"?-1:1;var Rt=(Te.linewidth||1)/2;s.drawTicks(oe,Te,{vals:Se,layer:Je,path:"M"+Oe*Rt+",0h"+Oe*Te.ticklen,transFn:function(mt){var yt=nt(mt);return Ft(yt)+"rotate("+-o(yt)+")"}}),s.drawLabels(oe,Te,{vals:Se,layer:Je,transFn:Le,labelFns:Mt})}var We=[ze].concat(he.gauge.steps),Ze=qe.selectAll("g.bg-arc").data(We);Ze.enter().append("g").classed("bg-arc",!0).append("path"),Ze.select("path").call(et).call(y),Ze.exit().remove();var Ne=xt(he.gauge.bar.thickness),Ye=qe.selectAll("g.value-arc").data([he.gauge.bar]);Ye.enter().append("g").classed("value-arc",!0).append("path");var lt,at,Fe,Be=Ye.select("path");v(st)?(Be.transition().duration(st.duration).ease(st.easing).each("end",function(){it&&it()}).each("interrupt",function(){it&&it()}).attrTween("d",(lt=Ne,at=_t(de[0].lastY),Fe=_t(de[0].y),function(){var mt=k(at,Fe);return function(yt){return lt.endAngle(mt(yt))()}})),he._lastValue=de[0].y):Be.attr("d",typeof de[0].y=="number"?Ne.endAngle(_t(de[0].y)):"M0,0Z"),Be.call(y),Ye.exit().remove(),We=[];var ot=he.gauge.threshold.value;(ot||ot===0)&&We.push({range:[ot,ot],color:he.gauge.threshold.color,line:{color:he.gauge.threshold.line.color,width:he.gauge.threshold.line.width},thickness:he.gauge.threshold.thickness});var Xe=qe.selectAll("g.threshold-arc").data(We);Xe.enter().append("g").classed("threshold-arc",!0).append("path"),Xe.select("path").call(et).call(y),Xe.exit().remove();var pt=qe.selectAll("g.gauge-outline").data([Ie]);pt.enter().append("g").classed("gauge-outline",!0).append("path"),pt.select("path").call(et).call(y),pt.exit().remove()}(T,0,U,{radius:ae,innerRadius:le,gauge:me,layer:ve,size:J,gaugeBg:F,gaugeOutline:j,transitionOpts:C,onComplete:I});var Me=te.selectAll("g.bullet").data(G?U:[]);Me.exit().remove();var _e=te.selectAll("g.bulletaxis").data(G?U:[]);_e.exit().remove(),G&&function(oe,se,de,Ee){var Te,Se,Le,Oe,he,xe=de[0].trace,ke=Ee.gauge,Re=Ee.layer,ze=Ee.gaugeBg,Ie=Ee.gaugeOutline,He=Ee.size,qe=xe.domain,Je=Ee.transitionOpts,st=Ee.onComplete;ke.enter().append("g").classed("bullet",!0),ke.attr("transform",h(He.l,He.t)),Re.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),Re.selectAll("g.xbulletaxistick,path,text").remove();var it=He.h,vt=xe.gauge.bar.thickness*it,_t=qe.x[0],xt=qe.x[0]+(qe.x[1]-qe.x[0])*(xe._hasNumber||xe._hasDelta?1-n.bulletNumberDomainSize:1);function et(Ze){Ze.attr("width",function(Ne){return Math.max(0,Te.c2p(Ne.range[1])-Te.c2p(Ne.range[0]))}).attr("x",function(Ne){return Te.c2p(Ne.range[0])}).attr("y",function(Ne){return .5*(1-Ne.thickness)*it}).attr("height",function(Ne){return Ne.thickness*it})}(Te=m(oe,xe.gauge.axis))._id="xbulletaxis",Te.domain=[_t,xt],Te.setScale(),Se=s.calcTicks(Te),Le=s.makeTransTickFn(Te),Oe=s.getTickSigns(Te)[2],he=He.t+He.h,Te.visible&&(s.drawTicks(oe,Te,{vals:Te.ticks==="inside"?s.clipEnds(Te,Se):Se,layer:Re,path:s.makeTickPath(Te,he,Oe),transFn:Le}),s.drawLabels(oe,Te,{vals:Se,layer:Re,transFn:Le,labelFns:s.makeLabelFns(Te,he)}));var nt=[ze].concat(xe.gauge.steps),Mt=ke.selectAll("g.bg-bullet").data(nt);Mt.enter().append("g").classed("bg-bullet",!0).append("rect"),Mt.select("rect").call(et).call(y),Mt.exit().remove();var zt=ke.selectAll("g.value-bullet").data([xe.gauge.bar]);zt.enter().append("g").classed("value-bullet",!0).append("rect"),zt.select("rect").attr("height",vt).attr("y",(it-vt)/2).call(y),v(Je)?zt.select("rect").transition().duration(Je.duration).ease(Je.easing).each("end",function(){st&&st()}).each("interrupt",function(){st&&st()}).attr("width",Math.max(0,Te.c2p(Math.min(xe.gauge.axis.range[1],de[0].y)))):zt.select("rect").attr("width",typeof de[0].y=="number"?Math.max(0,Te.c2p(Math.min(xe.gauge.axis.range[1],de[0].y))):0),zt.exit().remove();var Ft=de.filter(function(){return xe.gauge.threshold.value||xe.gauge.threshold.value===0}),Rt=ke.selectAll("g.threshold-bullet").data(Ft);Rt.enter().append("g").classed("threshold-bullet",!0).append("line"),Rt.select("line").attr("x1",Te.c2p(xe.gauge.threshold.value)).attr("x2",Te.c2p(xe.gauge.threshold.value)).attr("y1",(1-xe.gauge.threshold.thickness)/2*it).attr("y2",(1-(1-xe.gauge.threshold.thickness)/2)*it).call(c.stroke,xe.gauge.threshold.line.color).style("stroke-width",xe.gauge.threshold.line.width),Rt.exit().remove();var We=ke.selectAll("g.gauge-outline").data([Ie]);We.enter().append("g").classed("gauge-outline",!0).append("rect"),We.select("rect").call(et).call(y),We.exit().remove()}(T,0,U,{gauge:Me,layer:_e,size:J,gaugeBg:F,gaugeOutline:j,transitionOpts:C,onComplete:I});var we=te.selectAll("text.title").data(U);we.exit().remove(),we.enter().append("text").classed("title",!0),we.attr("text-anchor",function(){return G?x.right:x[V.title.align]}).text(V.title.text).call(i.font,V.title.font).call(r.convertToTspans,T),we.attr("transform",function(){var oe,se=J.l+J.w*g[V.title.align],de=n.titlePadding,Ee=i.bBox(we.node());return Q?($&&(oe=V.gauge.axis.visible?i.bBox(ve.node()).top-de-Ee.bottom:J.t+J.h/2-ae/2-Ee.bottom-de),G&&(oe=B-(Ee.top+Ee.bottom)/2,se=J.l-n.bulletPadding*J.w)):oe=V._numbersTop-de-Ee.bottom,h(se,oe)})})}},50048:function(Y,P,e){var A=e(49084),k=e(29736).axisHoverFormat,a=e(21776).Ks,w=e(52948),b=e(45464),h=e(92880).extendFlat,o=e(67824).overrideAll,t=Y.exports=o(h({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:a(),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),valuehoverformat:k("value",1),showlegend:h({},b.showlegend,{dflt:!1})},A("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:w.opacity,lightposition:w.lightposition,lighting:w.lighting,flatshading:w.flatshading,contour:w.contour,hoverinfo:h({},b.hoverinfo)}),"calc","nested");t.flatshading.dflt=!0,t.lighting.facenormalsepsilon.dflt=0,t.x.editType=t.y.editType=t.z.editType=t.value.editType="calc+clearAxisTypes",t.transforms=void 0},62624:function(Y,P,e){var A=e(47128),k=e(3832).processGrid,a=e(3832).filter;Y.exports=function(w,b){b._len=Math.min(b.x.length,b.y.length,b.z.length,b.value.length),b._x=a(b.x,b._len),b._y=a(b.y,b._len),b._z=a(b.z,b._len),b._value=a(b.value,b._len);var h=k(b);b._gridFill=h.fill,b._Xs=h.Xs,b._Ys=h.Ys,b._Zs=h.Zs,b._len=h.len;for(var o=1/0,t=-1/0,i=0;i<b._len;i++){var n=b._value[i];o=Math.min(o,n),t=Math.max(t,n)}b._minValues=o,b._maxValues=t,b._vMin=b.isomin===void 0||b.isomin===null?o:b.isomin,b._vMax=b.isomax===void 0||b.isomin===null?t:b.isomax,A(w,b,{vals:[b._vMin,b._vMax],containerStr:"",cLetter:"c"})}},31460:function(Y,P,e){var A=e(67792).gl_mesh3d,k=e(33040).parseColorScale,a=e(3400).isArrayOrTypedArray,w=e(43080),b=e(8932).extractOpts,h=e(52094),o=function(s,l){for(var u=l.length-1;u>0;u--){var d=Math.min(l[u],l[u-1]),c=Math.max(l[u],l[u-1]);if(c>d&&d<s&&s<=c)return{id:u,distRatio:(c-s)/(c-d)}}return{id:0,distRatio:0}};function t(s,l,u){this.scene=s,this.uid=u,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var i=t.prototype;i.handlePick=function(s){if(s.object===this.mesh){var l=s.data.index,u=this.data._meshX[l],d=this.data._meshY[l],c=this.data._meshZ[l],x=this.data._Ys.length,g=this.data._Zs.length,p=o(u,this.data._Xs).id,v=o(d,this.data._Ys).id,y=o(c,this.data._Zs).id,m=s.index=y+g*v+g*x*p;s.traceCoordinate=[this.data._meshX[m],this.data._meshY[m],this.data._meshZ[m],this.data._value[m]];var _=this.data.hovertext||this.data.text;return a(_)&&_[m]!==void 0?s.textLabel=_[m]:_&&(s.textLabel=_),!0}},i.update=function(s){var l=this.scene,u=l.fullSceneLayout;function d(g,p,v,y){return p.map(function(m){return g.d2l(m,0,y)*v})}this.data=r(s);var c={positions:h(d(u.xaxis,s._meshX,l.dataScale[0],s.xcalendar),d(u.yaxis,s._meshY,l.dataScale[1],s.ycalendar),d(u.zaxis,s._meshZ,l.dataScale[2],s.zcalendar)),cells:h(s._meshI,s._meshJ,s._meshK),lightPosition:[s.lightposition.x,s.lightposition.y,s.lightposition.z],ambient:s.lighting.ambient,diffuse:s.lighting.diffuse,specular:s.lighting.specular,roughness:s.lighting.roughness,fresnel:s.lighting.fresnel,vertexNormalsEpsilon:s.lighting.vertexnormalsepsilon,faceNormalsEpsilon:s.lighting.facenormalsepsilon,opacity:s.opacity,contourEnable:s.contour.show,contourColor:w(s.contour.color).slice(0,3),contourWidth:s.contour.width,useFacetNormals:s.flatshading},x=b(s);c.vertexIntensity=s._meshIntensity,c.vertexIntensityBounds=[x.min,x.max],c.colormap=k(s),this.mesh.update(c)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var n=["xyz","xzy","yxz","yzx","zxy","zyx"];function r(s){s._meshI=[],s._meshJ=[],s._meshK=[];var l,u,d,c,x,g,p,v=s.surface.show,y=s.spaceframe.show,m=s.surface.fill,_=s.spaceframe.fill,f=!1,S=!1,T=0,E=s._Xs,C=s._Ys,O=s._Zs,I=E.length,z=C.length,U=O.length,D=n.indexOf(s._gridFill.replace(/-/g,"").replace(/\+/g,"")),B=function(Re,ze,Ie){switch(D){case 5:return Ie+U*ze+U*z*Re;case 4:return Ie+U*Re+U*I*ze;case 3:return ze+z*Ie+z*U*Re;case 2:return ze+z*Re+z*I*Ie;case 1:return Re+I*Ie+I*U*ze;default:return Re+I*ze+I*z*Ie}},Z=s._minValues,F=s._maxValues,j=s._vMin,V=s._vMax;function te(Re,ze,Ie){for(var He=g.length,qe=u;qe<He;qe++)if(Re===d[qe]&&ze===c[qe]&&Ie===x[qe])return qe;return-1}function Q(){u=l}function $(){d=[],c=[],x=[],g=[],l=0,Q()}function G(Re,ze,Ie,He){return d.push(Re),c.push(ze),x.push(Ie),g.push(He),++l-1}function X(Re,ze,Ie){for(var He=[],qe=0;qe<Re.length;qe++)He[qe]=Re[qe]*(1-Ie)+Ie*ze[qe];return He}function J(Re){p=Re}function ne(Re,ze){return Re==="all"||Re===null||Re.indexOf(ze)>-1}function ie(Re,ze){return Re===null?ze:Re}function ae(Re,ze,Ie){Q();var He,qe,Je,st=[ze],it=[Ie];if(p>=1)st=[ze],it=[Ie];else if(p>0){var vt=function(We,Ze){var Ne=We[0],Ye=We[1],lt=We[2],at=function(ht,Lt,Tt){for(var bt=[],Pt=0;Pt<ht.length;Pt++)bt[Pt]=(ht[Pt]+Lt[Pt]+Tt[Pt])/3;return bt}(Ne,Ye,lt),Fe=Math.sqrt(1-p),Be=X(at,Ne,Fe),ot=X(at,Ye,Fe),Xe=X(at,lt,Fe),pt=Ze[0],mt=Ze[1],yt=Ze[2];return{xyzv:[[Ne,Ye,ot],[ot,Be,Ne],[Ye,lt,Xe],[Xe,ot,Ye],[lt,Ne,Be],[Be,Xe,lt]],abc:[[pt,mt,-1],[-1,-1,pt],[mt,yt,-1],[-1,-1,mt],[yt,pt,-1],[-1,-1,yt]]}}(ze,Ie);st=vt.xyzv,it=vt.abc}for(var _t=0;_t<st.length;_t++){ze=st[_t],Ie=it[_t];for(var xt=[],et=0;et<3;et++){var nt=ze[et][0],Mt=ze[et][1],zt=ze[et][2],Ft=ze[et][3],Rt=Ie[et]>-1?Ie[et]:te(nt,Mt,zt);xt[et]=Rt>-1?Rt:G(nt,Mt,zt,ie(Re,Ft))}He=xt[0],qe=xt[1],Je=xt[2],s._meshI.push(He),s._meshJ.push(qe),s._meshK.push(Je),++T}}function le(Re,ze,Ie,He){var qe=Re[3];qe<Ie&&(qe=Ie),qe>He&&(qe=He);for(var Je=(Re[3]-qe)/(Re[3]-ze[3]+1e-9),st=[],it=0;it<4;it++)st[it]=(1-Je)*Re[it]+Je*ze[it];return st}function ce(Re,ze,Ie){return Re>=ze&&Re<=Ie}function pe(Re){var ze=.001*(V-j);return Re>=j-ze&&Re<=V+ze}function ge(Re){for(var ze=[],Ie=0;Ie<4;Ie++){var He=Re[Ie];ze.push([s._x[He],s._y[He],s._z[He],s._value[He]])}return ze}var me=3;function ve(Re,ze,Ie,He,qe,Je){Je||(Je=1),Ie=[-1,-1,-1];var st=!1,it=[ce(ze[0][3],He,qe),ce(ze[1][3],He,qe),ce(ze[2][3],He,qe)];if(!it[0]&&!it[1]&&!it[2])return!1;var vt=function(xt,et,nt){return pe(et[0][3])&&pe(et[1][3])&&pe(et[2][3])?(ae(xt,et,nt),!0):Je<me&&ve(xt,et,nt,j,V,++Je)};if(it[0]&&it[1]&&it[2])return vt(Re,ze,Ie)||st;var _t=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(xt){if(it[xt[0]]&&it[xt[1]]&&!it[xt[2]]){var et=ze[xt[0]],nt=ze[xt[1]],Mt=ze[xt[2]],zt=le(Mt,et,He,qe),Ft=le(Mt,nt,He,qe);st=vt(Re,[Ft,zt,et],[-1,-1,Ie[xt[0]]])||st,st=vt(Re,[et,nt,Ft],[Ie[xt[0]],Ie[xt[1]],-1])||st,_t=!0}}),_t||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(xt){if(it[xt[0]]&&!it[xt[1]]&&!it[xt[2]]){var et=ze[xt[0]],nt=ze[xt[1]],Mt=ze[xt[2]],zt=le(nt,et,He,qe),Ft=le(Mt,et,He,qe);st=vt(Re,[Ft,zt,et],[-1,-1,Ie[xt[0]]])||st,_t=!0}}),st}function Me(Re,ze,Ie,He){var qe=!1,Je=ge(ze),st=[ce(Je[0][3],Ie,He),ce(Je[1][3],Ie,He),ce(Je[2][3],Ie,He),ce(Je[3][3],Ie,He)];if(!(st[0]||st[1]||st[2]||st[3]))return qe;if(st[0]&&st[1]&&st[2]&&st[3])return S&&(qe=function(vt,_t,xt){var et=function(nt,Mt,zt){ae(vt,[_t[nt],_t[Mt],_t[zt]],[xt[nt],xt[Mt],xt[zt]])};et(0,1,2),et(3,0,1),et(2,3,0),et(1,2,3)}(Re,Je,ze)||qe),qe;var it=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(vt){if(st[vt[0]]&&st[vt[1]]&&st[vt[2]]&&!st[vt[3]]){var _t=Je[vt[0]],xt=Je[vt[1]],et=Je[vt[2]],nt=Je[vt[3]];if(S)qe=ae(Re,[_t,xt,et],[ze[vt[0]],ze[vt[1]],ze[vt[2]]])||qe;else{var Mt=le(nt,_t,Ie,He),zt=le(nt,xt,Ie,He),Ft=le(nt,et,Ie,He);qe=ae(null,[Mt,zt,Ft],[-1,-1,-1])||qe}it=!0}}),it||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(vt){if(st[vt[0]]&&st[vt[1]]&&!st[vt[2]]&&!st[vt[3]]){var _t=Je[vt[0]],xt=Je[vt[1]],et=Je[vt[2]],nt=Je[vt[3]],Mt=le(et,_t,Ie,He),zt=le(et,xt,Ie,He),Ft=le(nt,xt,Ie,He),Rt=le(nt,_t,Ie,He);S?(qe=ae(Re,[_t,Rt,Mt],[ze[vt[0]],-1,-1])||qe,qe=ae(Re,[xt,zt,Ft],[ze[vt[1]],-1,-1])||qe):qe=function(We,Ze,Ne){var Ye=function(lt,at,Fe){ae(null,[Ze[lt],Ze[at],Ze[Fe]],[Ne[lt],Ne[at],Ne[Fe]])};Ye(0,1,2),Ye(2,3,0)}(0,[Mt,zt,Ft,Rt],[-1,-1,-1,-1])||qe,it=!0}}),it||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(vt){if(st[vt[0]]&&!st[vt[1]]&&!st[vt[2]]&&!st[vt[3]]){var _t=Je[vt[0]],xt=Je[vt[1]],et=Je[vt[2]],nt=Je[vt[3]],Mt=le(xt,_t,Ie,He),zt=le(et,_t,Ie,He),Ft=le(nt,_t,Ie,He);S?(qe=ae(Re,[_t,Mt,zt],[ze[vt[0]],-1,-1])||qe,qe=ae(Re,[_t,zt,Ft],[ze[vt[0]],-1,-1])||qe,qe=ae(Re,[_t,Ft,Mt],[ze[vt[0]],-1,-1])||qe):qe=ae(null,[Mt,zt,Ft],[-1,-1,-1])||qe,it=!0}})),qe}function _e(Re,ze,Ie,He,qe,Je,st,it,vt,_t,xt){var et=!1;return f&&(ne(Re,"A")&&(et=Me(null,[ze,Ie,He,Je],_t,xt)||et),ne(Re,"B")&&(et=Me(null,[Ie,He,qe,vt],_t,xt)||et),ne(Re,"C")&&(et=Me(null,[Ie,Je,st,vt],_t,xt)||et),ne(Re,"D")&&(et=Me(null,[He,Je,it,vt],_t,xt)||et),ne(Re,"E")&&(et=Me(null,[Ie,He,Je,vt],_t,xt)||et)),S&&(et=Me(Re,[Ie,He,Je,vt],_t,xt)||et),et}function we(Re,ze,Ie,He,qe,Je,st,it){return[it[0]===!0||ve(Re,ge([ze,Ie,He]),[ze,Ie,He],Je,st),it[1]===!0||ve(Re,ge([He,qe,ze]),[He,qe,ze],Je,st)]}function oe(Re,ze,Ie,He,qe,Je,st,it,vt){return it?we(Re,ze,Ie,qe,He,Je,st,vt):we(Re,Ie,qe,He,ze,Je,st,vt)}function se(Re,ze,Ie,He,qe,Je,st){var it,vt,_t,xt,et=!1,nt=function(){et=ve(Re,[it,vt,_t],[-1,-1,-1],qe,Je)||et,et=ve(Re,[_t,xt,it],[-1,-1,-1],qe,Je)||et},Mt=st[0],zt=st[1],Ft=st[2];return Mt&&(it=X(ge([B(ze,Ie-0,He-0)])[0],ge([B(ze-1,Ie-0,He-0)])[0],Mt),vt=X(ge([B(ze,Ie-0,He-1)])[0],ge([B(ze-1,Ie-0,He-1)])[0],Mt),_t=X(ge([B(ze,Ie-1,He-1)])[0],ge([B(ze-1,Ie-1,He-1)])[0],Mt),xt=X(ge([B(ze,Ie-1,He-0)])[0],ge([B(ze-1,Ie-1,He-0)])[0],Mt),nt()),zt&&(it=X(ge([B(ze-0,Ie,He-0)])[0],ge([B(ze-0,Ie-1,He-0)])[0],zt),vt=X(ge([B(ze-0,Ie,He-1)])[0],ge([B(ze-0,Ie-1,He-1)])[0],zt),_t=X(ge([B(ze-1,Ie,He-1)])[0],ge([B(ze-1,Ie-1,He-1)])[0],zt),xt=X(ge([B(ze-1,Ie,He-0)])[0],ge([B(ze-1,Ie-1,He-0)])[0],zt),nt()),Ft&&(it=X(ge([B(ze-0,Ie-0,He)])[0],ge([B(ze-0,Ie-0,He-1)])[0],Ft),vt=X(ge([B(ze-0,Ie-1,He)])[0],ge([B(ze-0,Ie-1,He-1)])[0],Ft),_t=X(ge([B(ze-1,Ie-1,He)])[0],ge([B(ze-1,Ie-1,He-1)])[0],Ft),xt=X(ge([B(ze-1,Ie-0,He)])[0],ge([B(ze-1,Ie-0,He-1)])[0],Ft),nt()),et}function de(Re,ze,Ie,He,qe,Je,st,it,vt,_t,xt,et){var nt=Re;return et?(f&&Re==="even"&&(nt=null),_e(nt,ze,Ie,He,qe,Je,st,it,vt,_t,xt)):(f&&Re==="odd"&&(nt=null),_e(nt,vt,it,st,Je,qe,He,Ie,ze,_t,xt))}function Ee(Re,ze,Ie,He,qe){for(var Je=[],st=0,it=0;it<ze.length;it++)for(var vt=ze[it],_t=1;_t<U;_t++)for(var xt=1;xt<z;xt++)Je.push(oe(Re,B(vt,xt-1,_t-1),B(vt,xt-1,_t),B(vt,xt,_t-1),B(vt,xt,_t),Ie,He,(vt+xt+_t)%2,qe&&qe[st]?qe[st]:[])),st++;return Je}function Te(Re,ze,Ie,He,qe){for(var Je=[],st=0,it=0;it<ze.length;it++)for(var vt=ze[it],_t=1;_t<I;_t++)for(var xt=1;xt<U;xt++)Je.push(oe(Re,B(_t-1,vt,xt-1),B(_t,vt,xt-1),B(_t-1,vt,xt),B(_t,vt,xt),Ie,He,(_t+vt+xt)%2,qe&&qe[st]?qe[st]:[])),st++;return Je}function Se(Re,ze,Ie,He,qe){for(var Je=[],st=0,it=0;it<ze.length;it++)for(var vt=ze[it],_t=1;_t<z;_t++)for(var xt=1;xt<I;xt++)Je.push(oe(Re,B(xt-1,_t-1,vt),B(xt-1,_t,vt),B(xt,_t-1,vt),B(xt,_t,vt),Ie,He,(xt+_t+vt)%2,qe&&qe[st]?qe[st]:[])),st++;return Je}function Le(Re,ze,Ie){for(var He=1;He<U;He++)for(var qe=1;qe<z;qe++)for(var Je=1;Je<I;Je++)de(Re,B(Je-1,qe-1,He-1),B(Je-1,qe-1,He),B(Je-1,qe,He-1),B(Je-1,qe,He),B(Je,qe-1,He-1),B(Je,qe-1,He),B(Je,qe,He-1),B(Je,qe,He),ze,Ie,(Je+qe+He)%2)}function Oe(Re,ze,Ie,He,qe,Je){for(var st=[],it=0,vt=0;vt<ze.length;vt++)for(var _t=ze[vt],xt=1;xt<U;xt++)for(var et=1;et<z;et++)st.push(se(Re,_t,et,xt,Ie,He,qe[vt],Je&&Je[it]&&Je[it])),it++;return st}function he(Re,ze,Ie,He,qe,Je){for(var st=[],it=0,vt=0;vt<ze.length;vt++)for(var _t=ze[vt],xt=1;xt<I;xt++)for(var et=1;et<U;et++)st.push(se(Re,xt,_t,et,Ie,He,qe[vt],Je&&Je[it]&&Je[it])),it++;return st}function xe(Re,ze,Ie,He,qe,Je){for(var st=[],it=0,vt=0;vt<ze.length;vt++)for(var _t=ze[vt],xt=1;xt<z;xt++)for(var et=1;et<I;et++)st.push(se(Re,et,xt,_t,Ie,He,qe[vt],Je&&Je[it]&&Je[it])),it++;return st}function ke(Re,ze){for(var Ie=[],He=Re;He<ze;He++)Ie.push(He);return Ie}return function(){$(),function(){for(var vt=0;vt<I;vt++)for(var _t=0;_t<z;_t++)for(var xt=0;xt<U;xt++){var et=B(vt,_t,xt);G(s._x[et],s._y[et],s._z[et],s._value[et])}}();var Re=null;if(y&&_&&(J(_),S=!0,Le(Re,j,V),S=!1),v&&m){J(m);for(var ze=s.surface.pattern,Ie=s.surface.count,He=0;He<Ie;He++){var qe=Ie===1?.5:He/(Ie-1),Je=(1-qe)*j+qe*V,st=Math.abs(Je-Z)>Math.abs(Je-F)?[Z,Je]:[Je,F];f=!0,Le(ze,st[0],st[1]),f=!1}}var it=[[Math.min(j,F),Math.max(j,F)],[Math.min(Z,V),Math.max(Z,V)]];["x","y","z"].forEach(function(vt){for(var _t=[],xt=0;xt<it.length;xt++){var et=0,nt=it[xt][0],Mt=it[xt][1],zt=s.slices[vt];if(zt.show&&zt.fill){J(zt.fill);var Ft=[],Rt=[],We=[];if(zt.locations.length)for(var Ze=0;Ze<zt.locations.length;Ze++){var Ne=o(zt.locations[Ze],vt==="x"?E:vt==="y"?C:O);Ne.distRatio===0?Ft.push(Ne.id):Ne.id>0&&(Rt.push(Ne.id),vt==="x"?We.push([Ne.distRatio,0,0]):vt==="y"?We.push([0,Ne.distRatio,0]):We.push([0,0,Ne.distRatio]))}else Ft=ke(1,vt==="x"?I-1:vt==="y"?z-1:U-1);Rt.length>0&&(_t[et]=vt==="x"?Oe(Re,Rt,nt,Mt,We,_t[et]):vt==="y"?he(Re,Rt,nt,Mt,We,_t[et]):xe(Re,Rt,nt,Mt,We,_t[et]),et++),Ft.length>0&&(_t[et]=vt==="x"?Ee(Re,Ft,nt,Mt,_t[et]):vt==="y"?Te(Re,Ft,nt,Mt,_t[et]):Se(Re,Ft,nt,Mt,_t[et]),et++)}var Ye=s.caps[vt];Ye.show&&Ye.fill&&(J(Ye.fill),_t[et]=vt==="x"?Ee(Re,[0,I-1],nt,Mt,_t[et]):vt==="y"?Te(Re,[0,z-1],nt,Mt,_t[et]):Se(Re,[0,U-1],nt,Mt,_t[et]),et++)}}),T===0&&$(),s._meshX=d,s._meshY=c,s._meshZ=x,s._meshIntensity=g,s._Xs=E,s._Ys=C,s._Zs=O}(),s}Y.exports={findNearestOnAxis:o,generateIsoMeshes:r,createIsosurfaceTrace:function(s,l){var u=s.glplot.gl,d=A({gl:u}),c=new t(s,d,l.uid);return d._trace=c,c.update(l),s.glplot.add(d),c}}},70548:function(Y,P,e){var A=e(3400),k=e(24040),a=e(50048),w=e(27260);function b(h,o,t,i,n){var r=n("isomin"),s=n("isomax");s!=null&&r!=null&&r>s&&(o.isomin=null,o.isomax=null);var l=n("x"),u=n("y"),d=n("z"),c=n("value");l&&l.length&&u&&u.length&&d&&d.length&&c&&c.length?(k.getComponentMethod("calendars","handleTraceDefaults")(h,o,["x","y","z"],i),n("valuehoverformat"),["x","y","z"].forEach(function(x){n(x+"hoverformat");var g="caps."+x;n(g+".show")&&n(g+".fill");var p="slices."+x;n(p+".show")&&(n(p+".fill"),n(p+".locations"))}),n("spaceframe.show")&&n("spaceframe.fill"),n("surface.show")&&(n("surface.count"),n("surface.fill"),n("surface.pattern")),n("contour.show")&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(x){n(x)}),w(h,o,i,n,{prefix:"",cLetter:"c"}),o._length=null):o.visible=!1}Y.exports={supplyDefaults:function(h,o,t,i){b(h,o,0,i,function(n,r){return A.coerce(h,o,a,n,r)})},supplyIsoDefaults:b}},6296:function(Y,P,e){Y.exports={attributes:e(50048),supplyDefaults:e(70548).supplyDefaults,calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(31460).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},52948:function(Y,P,e){var A=e(49084),k=e(29736).axisHoverFormat,a=e(21776).Ks,w=e(16716),b=e(45464),h=e(92880).extendFlat;Y.exports=h({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"}),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},A("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:w.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:h({},w.contours.x.show,{}),color:w.contours.x.color,width:w.contours.x.width,editType:"calc"},lightposition:{x:h({},w.lightposition.x,{dflt:1e5}),y:h({},w.lightposition.y,{dflt:1e5}),z:h({},w.lightposition.z,{dflt:0}),editType:"calc"},lighting:h({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},w.lighting),hoverinfo:h({},b.hoverinfo,{editType:"calc"}),showlegend:h({},b.showlegend,{dflt:!1})})},1876:function(Y,P,e){var A=e(47128);Y.exports=function(k,a){a.intensity&&A(k,a,{vals:a.intensity,containerStr:"",cLetter:"c"})}},576:function(Y,P,e){var A=e(67792).gl_mesh3d,k=e(67792).delaunay_triangulate,a=e(67792).alpha_shape,w=e(67792).convex_hull,b=e(33040).parseColorScale,h=e(3400).isArrayOrTypedArray,o=e(43080),t=e(8932).extractOpts,i=e(52094);function n(c,x,g){this.scene=c,this.uid=g,this.mesh=x,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var r=n.prototype;function s(c){for(var x=[],g=c.length,p=0;p<g;p++)x[p]=o(c[p]);return x}function l(c,x,g,p){for(var v=[],y=x.length,m=0;m<y;m++)v[m]=c.d2l(x[m],0,p)*g;return v}function u(c){for(var x=[],g=c.length,p=0;p<g;p++)x[p]=Math.round(c[p]);return x}function d(c,x){for(var g=c.length,p=0;p<g;p++)if(c[p]<=-.5||c[p]>=x-.5)return!1;return!0}r.handlePick=function(c){if(c.object===this.mesh){var x=c.index=c.data.index;c.data._cellCenter?c.traceCoordinate=c.data.dataCoordinate:c.traceCoordinate=[this.data.x[x],this.data.y[x],this.data.z[x]];var g=this.data.hovertext||this.data.text;return h(g)&&g[x]!==void 0?c.textLabel=g[x]:g&&(c.textLabel=g),!0}},r.update=function(c){var x=this.scene,g=x.fullSceneLayout;this.data=c;var p,v=c.x.length,y=i(l(g.xaxis,c.x,x.dataScale[0],c.xcalendar),l(g.yaxis,c.y,x.dataScale[1],c.ycalendar),l(g.zaxis,c.z,x.dataScale[2],c.zcalendar));if(c.i&&c.j&&c.k){if(c.i.length!==c.j.length||c.j.length!==c.k.length||!d(c.i,v)||!d(c.j,v)||!d(c.k,v))return;p=i(u(c.i),u(c.j),u(c.k))}else p=c.alphahull===0?w(y):c.alphahull>0?a(c.alphahull,y):function(S,T){for(var E=["x","y","z"].indexOf(S),C=[],O=T.length,I=0;I<O;I++)C[I]=[T[I][(E+1)%3],T[I][(E+2)%3]];return k(C)}(c.delaunayaxis,y);var m={positions:y,cells:p,lightPosition:[c.lightposition.x,c.lightposition.y,c.lightposition.z],ambient:c.lighting.ambient,diffuse:c.lighting.diffuse,specular:c.lighting.specular,roughness:c.lighting.roughness,fresnel:c.lighting.fresnel,vertexNormalsEpsilon:c.lighting.vertexnormalsepsilon,faceNormalsEpsilon:c.lighting.facenormalsepsilon,opacity:c.opacity,contourEnable:c.contour.show,contourColor:o(c.contour.color).slice(0,3),contourWidth:c.contour.width,useFacetNormals:c.flatshading};if(c.intensity){var _=t(c);this.color="#fff";var f=c.intensitymode;m[f+"Intensity"]=c.intensity,m[f+"IntensityBounds"]=[_.min,_.max],m.colormap=b(c)}else c.vertexcolor?(this.color=c.vertexcolor[0],m.vertexColors=s(c.vertexcolor)):c.facecolor?(this.color=c.facecolor[0],m.cellColors=s(c.facecolor)):(this.color=c.color,m.meshColor=o(c.color));this.mesh.update(m)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},Y.exports=function(c,x){var g=c.glplot.gl,p=A({gl:g}),v=new n(c,p,x.uid);return p._trace=v,v.update(x),c.glplot.add(p),v}},74212:function(Y,P,e){var A=e(24040),k=e(3400),a=e(27260),w=e(52948);Y.exports=function(b,h,o,t){function i(r,s){return k.coerce(b,h,w,r,s)}function n(r){var s=r.map(function(l){var u=i(l);return u&&k.isArrayOrTypedArray(u)?u:null});return s.every(function(l){return l&&l.length===s[0].length})&&s}n(["x","y","z"])?(n(["i","j","k"]),(!h.i||h.j&&h.k)&&(!h.j||h.k&&h.i)&&(!h.k||h.i&&h.j)?(A.getComponentMethod("calendars","handleTraceDefaults")(b,h,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(r){i(r)}),i("contour.show")&&(i("contour.color"),i("contour.width")),"intensity"in b?(i("intensity"),i("intensitymode"),a(b,h,t,i,{prefix:"",cLetter:"c"})):(h.showscale=!1,"facecolor"in b?i("facecolor"):"vertexcolor"in b?i("vertexcolor"):i("color",o)),i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),h._length=null):h.visible=!1):h.visible=!1}},7404:function(Y,P,e){Y.exports={attributes:e(52948),supplyDefaults:e(74212),calc:e(1876),colorbar:{min:"cmin",max:"cmax"},plot:e(576),moduleType:"trace",name:"mesh3d",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},20279:function(Y,P,e){var A=e(3400).extendFlat,k=e(52904),a=e(29736).axisHoverFormat,w=e(98192).u,b=e(55756),h=e(48164),o=h.INCREASING.COLOR,t=h.DECREASING.COLOR,i=k.line;function n(r){return{line:{color:A({},i.color,{dflt:r}),width:i.width,dash:w,editType:"style"},editType:"style"}}Y.exports={xperiod:k.xperiod,xperiod0:k.xperiod0,xperiodalignment:k.xperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:A({},i.width,{}),dash:A({},w,{}),editType:"style"},increasing:n(o),decreasing:n(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:A({},b.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},42812:function(Y,P,e){var A=e(3400),k=A._,a=e(54460),w=e(1220),b=e(39032).BADNUM;function h(t,i,n,r){return{o:t,h:i,l:n,c:r}}function o(t,i,n,r,s,l){for(var u=s.makeCalcdata(i,"open"),d=s.makeCalcdata(i,"high"),c=s.makeCalcdata(i,"low"),x=s.makeCalcdata(i,"close"),g=A.isArrayOrTypedArray(i.text),p=A.isArrayOrTypedArray(i.hovertext),v=!0,y=null,m=!!i.xperiodalignment,_=[],f=0;f<r.length;f++){var S=r[f],T=u[f],E=d[f],C=c[f],O=x[f];if(S!==b&&T!==b&&E!==b&&C!==b&&O!==b){O===T?y!==null&&O!==y&&(v=O>y):v=O>T,y=O;var I=l(T,E,C,O);I.pos=S,I.yc=(T+O)/2,I.i=f,I.dir=v?"increasing":"decreasing",I.x=I.pos,I.y=[C,E],m&&(I.orig_p=n[f]),g&&(I.tx=i.text[f]),p&&(I.htx=i.hovertext[f]),_.push(I)}else _.push({pos:S,empty:!0})}return i._extremes[s._id]=a.findExtremes(s,A.concat(c,d),{padded:!0}),_.length&&(_[0].t={labels:{open:k(t,"open:")+" ",high:k(t,"high:")+" ",low:k(t,"low:")+" ",close:k(t,"close:")+" "}}),_}Y.exports={calc:function(t,i){var n=a.getFromId(t,i.xaxis),r=a.getFromId(t,i.yaxis),s=function(x,g,p){var v=p._minDiff;if(!v){var y,m=x._fullData,_=[];for(v=1/0,y=0;y<m.length;y++){var f=m[y];if(f.type==="ohlc"&&f.visible===!0&&f.xaxis===g._id){_.push(f);var S=g.makeCalcdata(f,"x");f._origX=S;var T=w(p,g,"x",S).vals;f._xcalc=T;var E=A.distinctVals(T).minDiff;E&&isFinite(E)&&(v=Math.min(v,E))}}for(v===1/0&&(v=1),y=0;y<_.length;y++)_[y]._minDiff=v}return v*p.tickwidth}(t,n,i),l=i._minDiff;i._minDiff=null;var u=i._origX;i._origX=null;var d=i._xcalc;i._xcalc=null;var c=o(t,i,u,d,r,h);return i._extremes[n._id]=a.findExtremes(n,d,{vpad:l/2}),c.length?(A.extendFlat(c[0].t,{wHover:l/2,tickLen:s}),c):[{t:{empty:!0}}]},calcCommon:o}},23860:function(Y,P,e){var A=e(3400),k=e(52744),a=e(31147),w=e(20279);function b(h,o,t,i){t(i+".line.color"),t(i+".line.width",o.line.width),t(i+".line.dash",o.line.dash)}Y.exports=function(h,o,t,i){function n(r,s){return A.coerce(h,o,w,r,s)}k(h,o,n,i)?(a(h,o,i,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),b(0,o,n,"increasing"),b(0,o,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),i._requestRangeslider[o.xaxis]=!0):o.visible=!1}},18720:function(Y,P,e){var A=e(54460),k=e(3400),a=e(93024),w=e(76308),b=e(3400).fillText,h=e(48164),o={increasing:h.INCREASING.SYMBOL,decreasing:h.DECREASING.SYMBOL};function t(r,s,l,u){var d,c,x=r.cd,g=r.xa,p=x[0].trace,v=x[0].t,y=p.type,m=y==="ohlc"?"l":"min",_=y==="ohlc"?"h":"max",f=v.bPos||0,S=function(F){return F.pos+f-s},T=v.bdPos||v.tickLen,E=v.wHover,C=Math.min(1,T/Math.abs(g.r2c(g.range[1])-g.r2c(g.range[0])));function O(F){var j=S(F);return a.inbox(j-E,j+E,d)}function I(F){var j=F[m],V=F[_];return j===V||a.inbox(j-l,V-l,d)}function z(F){return(O(F)+I(F))/2}d=r.maxHoverDistance-C,c=r.maxSpikeDistance-C;var U=a.getDistanceFunction(u,O,I,z);if(a.getClosest(x,U,r),r.index===!1)return null;var D=x[r.index];if(D.empty)return null;var B=p[D.dir],Z=B.line.color;return w.opacity(Z)&&B.line.width?r.color=Z:r.color=B.fillcolor,r.x0=g.c2p(D.pos+f-T,!0),r.x1=g.c2p(D.pos+f+T,!0),r.xLabelVal=D.orig_p!==void 0?D.orig_p:D.pos,r.spikeDistance=z(D)*c/d,r.xSpike=g.c2p(D.pos,!0),r}function i(r,s,l,u){var d=r.cd,c=r.ya,x=d[0].trace,g=d[0].t,p=[],v=t(r,s,l,u);if(!v)return[];var y=d[v.index].hi||x.hoverinfo,m=y.split("+");if(y!=="all"&&m.indexOf("y")===-1)return[];for(var _=["high","open","close","low"],f={},S=0;S<_.length;S++){var T,E=_[S],C=x[E][v.index],O=c.c2p(C,!0);C in f?(T=f[C]).yLabel+="<br>"+g.labels[E]+A.hoverLabelText(c,C,x.yhoverformat):((T=k.extendFlat({},v)).y0=T.y1=O,T.yLabelVal=C,T.yLabel=g.labels[E]+A.hoverLabelText(c,C,x.yhoverformat),T.name="",p.push(T),f[C]=T)}return p}function n(r,s,l,u){var d=r.cd,c=r.ya,x=d[0].trace,g=d[0].t,p=t(r,s,l,u);if(!p)return[];var v=d[p.index],y=p.index=v.i,m=v.dir;function _(I){return g.labels[I]+A.hoverLabelText(c,x[I][y],x.yhoverformat)}var f=v.hi||x.hoverinfo,S=f.split("+"),T=f==="all",E=T||S.indexOf("y")!==-1,C=T||S.indexOf("text")!==-1,O=E?[_("open"),_("high"),_("low"),_("close")+"  "+o[m]]:[];return C&&b(v,x,O),p.extraText=O.join("<br>"),p.y0=p.y1=c.c2p(v.yc,!0),[p]}Y.exports={hoverPoints:function(r,s,l,u){return r.cd[0].trace.hoverlabel.split?i(r,s,l,u):n(r,s,l,u)},hoverSplit:i,hoverOnPoints:n}},65456:function(Y,P,e){Y.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(57952),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(20279),supplyDefaults:e(23860),calc:e(42812).calc,plot:e(36664),style:e(14008),hoverPoints:e(18720).hoverPoints,selectPoints:e(97384)}},52744:function(Y,P,e){var A=e(24040),k=e(3400);Y.exports=function(a,w,b,h){var o=b("x"),t=b("open"),i=b("high"),n=b("low"),r=b("close");if(b("hoverlabel.split"),A.getComponentMethod("calendars","handleTraceDefaults")(a,w,["x"],h),t&&i&&n&&r){var s=Math.min(t.length,i.length,n.length,r.length);return o&&(s=Math.min(s,k.minRowLength(o))),w._length=s,s}}},36664:function(Y,P,e){var A=e(33428),k=e(3400);Y.exports=function(a,w,b,h){var o=w.yaxis,t=w.xaxis,i=!!t.rangebreaks;k.makeTraceGroups(h,b,"trace ohlc").each(function(n){var r=A.select(this),s=n[0],l=s.t;if(s.trace.visible!==!0||l.empty)r.remove();else{var u=l.tickLen,d=r.selectAll("path").data(k.identity);d.enter().append("path"),d.exit().remove(),d.attr("d",function(c){if(c.empty)return"M0,0Z";var x=t.c2p(c.pos-u,!0),g=t.c2p(c.pos+u,!0),p=i?(x+g)/2:t.c2p(c.pos,!0);return"M"+x+","+o.c2p(c.o,!0)+"H"+p+"M"+p+","+o.c2p(c.h,!0)+"V"+o.c2p(c.l,!0)+"M"+g+","+o.c2p(c.c,!0)+"H"+p})}})}},97384:function(Y){Y.exports=function(P,e){var A,k=P.cd,a=P.xaxis,w=P.yaxis,b=[],h=k[0].t.bPos||0;if(e===!1)for(A=0;A<k.length;A++)k[A].selected=0;else for(A=0;A<k.length;A++){var o=k[A];e.contains([a.c2p(o.pos+h),w.c2p(o.yc)],null,o.i,P)?(b.push({pointNumber:o.i,x:a.c2d(o.pos),y:w.c2d(o.yc)}),o.selected=1):o.selected=0}return b}},14008:function(Y,P,e){var A=e(33428),k=e(43616),a=e(76308);Y.exports=function(w,b,h){var o=h||A.select(w).selectAll("g.ohlclayer").selectAll("g.trace");o.style("opacity",function(t){return t[0].trace.opacity}),o.each(function(t){var i=t[0].trace;A.select(this).selectAll("path").each(function(n){if(!n.empty){var r=i[n.dir].line;A.select(this).style("fill","none").call(a.stroke,r.color).call(k.dashLine,r.dash,r.width).style("opacity",i.selectedpoints&&!n.selected?.3:1)}})})}},72140:function(Y,P,e){var A=e(92880).extendFlat,k=e(45464),a=e(25376),w=e(49084),b=e(21776).Ks,h=e(86968).u,o=A({editType:"calc"},w("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:b({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});Y.exports={domain:h({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:A({},k.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:b({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:a({editType:"calc"}),tickfont:a({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:o,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},91800:function(Y,P,e){var A=e(84888)._M,k=e(60268),a="parcats";P.name=a,P.plot=function(w,b,h,o){var t=A(w.calcdata,a);if(t.length){var i=t[0];k(w,i,h,o)}},P.clean=function(w,b,h,o){var t=o._has&&o._has("parcats"),i=b._has&&b._has("parcats");t&&!i&&o._paperdiv.selectAll(".parcats").remove()}},69136:function(Y,P,e){var A=e(71688).wrap,k=e(94288).hasColorscale,a=e(47128),w=e(68944),b=e(43616),h=e(3400),o=e(38248);function t(r,s,l){r.valueInds.push(s),r.count+=l}function i(r,s,l){return{categoryInds:r,color:s,rawColor:l,valueInds:[],count:0}}function n(r,s,l){r.valueInds.push(s),r.count+=l}Y.exports=function(r,s){var l=h.filterVisible(s.dimensions);if(l.length===0)return[];var u,d,c,x=l.map(function(V){var te;if(V.categoryorder==="trace")te=null;else if(V.categoryorder==="array")te=V.categoryarray;else{te=w(V.values);for(var Q=!0,$=0;$<te.length;$++)if(!o(te[$])){Q=!1;break}te.sort(Q?h.sorterAsc:void 0),V.categoryorder==="category descending"&&(te=te.reverse())}return function(G,X){X=X==null?[]:X.map(function(ge){return ge});var J={},ne={},ie=[];X.forEach(function(ge,me){J[ge]=0,ne[ge]=me});for(var ae=0;ae<G.length;ae++){var le,ce=G[ae];J[ce]===void 0?(J[ce]=1,le=X.push(ce)-1,ne[ce]=le):(J[ce]++,le=ne[ce]),ie.push(le)}var pe=X.map(function(ge){return J[ge]});return{uniqueValues:X,uniqueCounts:pe,inds:ie}}(V.values,te)});u=h.isArrayOrTypedArray(s.counts)?s.counts:[s.counts],function(V){var te,Q=V.map(function($){return $.displayindex});if(function($){for(var G=new Array($.length),X=0;X<$.length;X++){if($[X]<0||$[X]>=$.length||G[$[X]]!==void 0)return!1;G[$[X]]=!0}return!0}(Q))for(te=0;te<V.length;te++)V[te]._displayindex=V[te].displayindex;else for(te=0;te<V.length;te++)V[te]._displayindex=te}(l),l.forEach(function(V,te){(function(Q,$){Q._categoryarray=$.uniqueValues,Q.ticktext===null||Q.ticktext===void 0?Q._ticktext=[]:Q._ticktext=Q.ticktext.slice();for(var G=Q._ticktext.length;G<$.uniqueValues.length;G++)Q._ticktext.push($.uniqueValues[G])})(V,x[te])});var g,p=s.line;p?(k(s,"line")&&a(r,s,{vals:s.line.color,containerStr:"line",cLetter:"c"}),g=b.tryColorscale(p)):g=h.identity;var v,y,m,_,f,S=l[0].values.length,T={},E=x.map(function(V){return V.inds});for(c=0,v=0;v<S;v++){var C=[];for(y=0;y<E.length;y++)C.push(E[y][v]);d=u[v%u.length],c+=d;var O=(m=v,_=void 0,f=void 0,h.isArrayOrTypedArray(p.color)?f=_=p.color[m%p.color.length]:_=p.color,{color:g(_),rawColor:f}),I=C+"-"+O.rawColor;T[I]===void 0&&(T[I]=i(C,O.color,O.rawColor)),n(T[I],v,d)}var z,U=l.map(function(V,te){return function(Q,$,G,X,J){return{dimensionInd:Q,containerInd:$,displayInd:G,dimensionLabel:X,count:J,categories:[],dragX:null}}(te,V._index,V._displayindex,V.label,c)});for(v=0;v<S;v++)for(d=u[v%u.length],y=0;y<U.length;y++){var D=U[y].containerInd,B=x[y].inds[v],Z=U[y].categories;if(Z[B]===void 0){var F=s.dimensions[D]._categoryarray[B],j=s.dimensions[D]._ticktext[B];Z[B]={dimensionInd:y,categoryInd:z=B,categoryValue:F,displayInd:z,categoryLabel:j,valueInds:[],count:0,dragY:null}}t(Z[B],v,d)}return A(function(V,te,Q){var $=V.map(function(G){return G.categories.length}).reduce(function(G,X){return Math.max(G,X)});return{dimensions:V,paths:te,trace:void 0,maxCats:$,count:Q}}(U,T,c))}},76671:function(Y,P,e){var A=e(3400),k=e(94288).hasColorscale,a=e(27260),w=e(86968).Q,b=e(51272),h=e(72140),o=e(26284),t=e(38116).isTypedArraySpec;function i(n,r){function s(p,v){return A.coerce(n,r,h.dimensions,p,v)}var l=s("values"),u=s("visible");if(l&&l.length||(u=r.visible=!1),u){s("label"),s("displayindex",r._index);var d,c=n.categoryarray,x=A.isArrayOrTypedArray(c)&&c.length>0||t(c);x&&(d="array");var g=s("categoryorder",d);g==="array"?(s("categoryarray"),s("ticktext")):(delete n.categoryarray,delete n.ticktext),x||g!=="array"||(r.categoryorder="trace")}}Y.exports=function(n,r,s,l){function u(p,v){return A.coerce(n,r,h,p,v)}var d=b(n,r,{name:"dimensions",handleItemDefaults:i}),c=function(p,v,y,m,_){_("line.shape"),_("line.hovertemplate");var f=_("line.color",m.colorway[0]);if(k(p,"line")&&A.isArrayOrTypedArray(f)){if(f.length)return _("line.colorscale"),a(p,v,m,_,{prefix:"line.",cLetter:"c"}),f.length;v.line.color=y}return 1/0}(n,r,s,l,u);w(r,l,u),Array.isArray(d)&&d.length||(r.visible=!1),o(r,d,"values",c),u("hoveron"),u("hovertemplate"),u("arrangement"),u("bundlecolors"),u("sortpaths"),u("counts");var x={family:l.font.family,size:Math.round(l.font.size),color:l.font.color};A.coerceFont(u,"labelfont",x);var g={family:l.font.family,size:Math.round(l.font.size/1.2),color:l.font.color};A.coerceFont(u,"tickfont",g)}},22020:function(Y,P,e){Y.exports={attributes:e(72140),supplyDefaults:e(76671),calc:e(69136),plot:e(60268),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(91800),categories:["noOpacity"],meta:{}}},51036:function(Y,P,e){var A=e(33428),k=e(67756).Gz,a=e(36424),w=e(93024),b=e(3400),h=b.strTranslate,o=e(43616),t=e(49760),i=e(72736);function n(Q,$,G,X){var J=$._context.staticPlot,ne=Q.map(Z.bind(0,$,G)),ie=X.selectAll("g.parcatslayer").data([null]);ie.enter().append("g").attr("class","parcatslayer").style("pointer-events",J?"none":"all");var ae=ie.selectAll("g.trace.parcats").data(ne,r),le=ae.enter().append("g").attr("class","trace parcats");ae.attr("transform",function(oe){return h(oe.x,oe.y)}),le.append("g").attr("class","paths");var ce=ae.select("g.paths").selectAll("path.path").data(function(oe){return oe.paths},r);ce.attr("fill",function(oe){return oe.model.color});var pe=ce.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(oe){return oe.model.color}).attr("fill-opacity",0);p(pe),ce.attr("d",function(oe){return oe.svgD}),pe.empty()||ce.sort(l),ce.exit().remove(),ce.on("mouseover",u).on("mouseout",d).on("click",g),le.append("g").attr("class","dimensions");var ge=ae.select("g.dimensions").selectAll("g.dimension").data(function(oe){return oe.dimensions},r);ge.enter().append("g").attr("class","dimension"),ge.attr("transform",function(oe){return h(oe.x,0)}),ge.exit().remove();var me=ge.selectAll("g.category").data(function(oe){return oe.categories},r),ve=me.enter().append("g").attr("class","category");me.attr("transform",function(oe){return h(0,oe.y)}),ve.append("rect").attr("class","catrect").attr("pointer-events","none"),me.select("rect.catrect").attr("fill","none").attr("width",function(oe){return oe.width}).attr("height",function(oe){return oe.height}),y(ve);var Me=me.selectAll("rect.bandrect").data(function(oe){return oe.bands},r);Me.each(function(){b.raiseToTop(this)}),Me.attr("fill",function(oe){return oe.color});var _e=Me.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(oe){return oe.color}).attr("fill-opacity",0);Me.attr("fill",function(oe){return oe.color}).attr("width",function(oe){return oe.width}).attr("height",function(oe){return oe.height}).attr("y",function(oe){return oe.y}).attr("cursor",function(oe){return oe.parcatsViewModel.arrangement==="fixed"?"default":oe.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),m(_e),Me.exit().remove(),ve.append("text").attr("class","catlabel").attr("pointer-events","none");var we=$._fullLayout.paper_bgcolor;me.select("text.catlabel").attr("text-anchor",function(oe){return s(oe)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",i.makeTextShadow(we)).style("fill","rgb(0, 0, 0)").attr("x",function(oe){return s(oe)?oe.width+5:-5}).attr("y",function(oe){return oe.height/2}).text(function(oe){return oe.model.categoryLabel}).each(function(oe){o.font(A.select(this),oe.parcatsViewModel.categorylabelfont),i.convertToTspans(A.select(this),$)}),ve.append("text").attr("class","dimlabel"),me.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(oe){return oe.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(oe){return oe.width/2}).attr("y",-5).text(function(oe,se){return se===0?oe.parcatsViewModel.model.dimensions[oe.model.dimensionInd].dimensionLabel:null}).each(function(oe){o.font(A.select(this),oe.parcatsViewModel.labelfont)}),me.selectAll("rect.bandrect").on("mouseover",E).on("mouseout",C),me.exit().remove(),ge.call(A.behavior.drag().origin(function(oe){return{x:oe.x,y:0}}).on("dragstart",O).on("drag",I).on("dragend",z)),ae.each(function(oe){oe.traceSelection=A.select(this),oe.pathSelection=A.select(this).selectAll("g.paths").selectAll("path.path"),oe.dimensionSelection=A.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),ae.exit().remove()}function r(Q){return Q.key}function s(Q){var $=Q.parcatsViewModel.dimensions.length,G=Q.parcatsViewModel.dimensions[$-1].model.dimensionInd;return Q.model.dimensionInd===G}function l(Q,$){return Q.model.rawColor>$.model.rawColor?1:Q.model.rawColor<$.model.rawColor?-1:0}function u(Q){if(!Q.parcatsViewModel.dragDimension&&Q.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){b.raiseToTop(this),v(A.select(this));var $=c(Q),G=x(Q);if(Q.parcatsViewModel.graphDiv.emit("plotly_hover",{points:$,event:A.event,constraints:G}),Q.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var X,J,ne,ie=A.mouse(this)[0],ae=Q.parcatsViewModel.graphDiv,le=Q.parcatsViewModel.trace,ce=ae._fullLayout,pe=ce._paperdiv.node().getBoundingClientRect(),ge=Q.parcatsViewModel.graphDiv.getBoundingClientRect();for(ne=0;ne<Q.leftXs.length-1;ne++)if(Q.leftXs[ne]+Q.dimWidths[ne]-2<=ie&&ie<=Q.leftXs[ne+1]+2){var me=Q.parcatsViewModel.dimensions[ne],ve=Q.parcatsViewModel.dimensions[ne+1];X=(me.x+me.width+ve.x)/2,J=(Q.topYs[ne]+Q.topYs[ne+1]+Q.height)/2;break}var Me=Q.parcatsViewModel.x+X,_e=Q.parcatsViewModel.y+J,we=t.mostReadable(Q.model.color,["black","white"]),oe=Q.model.count,se=oe/Q.parcatsViewModel.model.count,de={countLabel:oe,probabilityLabel:se.toFixed(3)},Ee=[];Q.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Ee.push(["Count:",de.countLabel].join(" ")),Q.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Ee.push(["P:",de.probabilityLabel].join(" "));var Te=Ee.join("<br>"),Se=A.mouse(ae)[0];w.loneHover({trace:le,x:Me-pe.left+ge.left,y:_e-pe.top+ge.top,text:Te,color:Q.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:we,idealAlign:Se<Me?"right":"left",hovertemplate:(le.line||{}).hovertemplate,hovertemplateLabels:de,eventData:[{data:le._input,fullData:le,count:oe,probability:se}]},{container:ce._hoverlayer.node(),outerContainer:ce._paper.node(),gd:ae})}}}function d(Q){if(!Q.parcatsViewModel.dragDimension&&(p(A.select(this)),w.loneUnhover(Q.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),Q.parcatsViewModel.pathSelection.sort(l),Q.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var $=c(Q),G=x(Q);Q.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:$,event:A.event,constraints:G})}}function c(Q){for(var $=[],G=U(Q.parcatsViewModel),X=0;X<Q.model.valueInds.length;X++){var J=Q.model.valueInds[X];$.push({curveNumber:G,pointNumber:J})}return $}function x(Q){for(var $={},G=Q.parcatsViewModel.model.dimensions,X=0;X<G.length;X++){var J=G[X],ne=J.categories[Q.model.categoryInds[X]];$[J.containerInd]=ne.categoryValue}return Q.model.rawColor!==void 0&&($.color=Q.model.rawColor),$}function g(Q){if(Q.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var $=c(Q),G=x(Q);Q.parcatsViewModel.graphDiv.emit("plotly_click",{points:$,event:A.event,constraints:G})}}function p(Q){Q.attr("fill",function($){return $.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function v(Q){Q.attr("fill-opacity",.8).attr("stroke",function($){return t.mostReadable($.model.color,["black","white"])}).attr("stroke-width",.3)}function y(Q){Q.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function m(Q){Q.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function _(Q){var $=Q.parcatsViewModel.pathSelection,G=Q.categoryViewModel.model.dimensionInd,X=Q.categoryViewModel.model.categoryInd;return $.filter(function(J){return J.model.categoryInds[G]===X&&J.model.color===Q.color})}function f(Q,$,G){var X=A.select(Q).datum(),J=X.categoryViewModel.model,ne=X.parcatsViewModel.graphDiv,ie=A.select(Q.parentNode).selectAll("rect.bandrect"),ae=[];ie.each(function(ce){_(ce).each(function(pe){Array.prototype.push.apply(ae,c(pe))})});var le={};le[J.dimensionInd]=J.categoryValue,ne.emit($,{points:ae,event:G,constraints:le})}function S(Q,$,G){var X=A.select(Q).datum(),J=X.categoryViewModel.model,ne=X.parcatsViewModel.graphDiv,ie=_(X),ae=[];ie.each(function(ce){Array.prototype.push.apply(ae,c(ce))});var le={};le[J.dimensionInd]=J.categoryValue,X.rawColor!==void 0&&(le.color=X.rawColor),ne.emit($,{points:ae,event:G,constraints:le})}function T(Q,$,G){Q._fullLayout._calcInverseTransform(Q);var X,J,ne=Q._fullLayout._invScaleX,ie=Q._fullLayout._invScaleY,ae=A.select(G.parentNode).select("rect.catrect"),le=ae.node().getBoundingClientRect(),ce=ae.datum(),pe=ce.parcatsViewModel,ge=pe.model.dimensions[ce.model.dimensionInd],me=pe.trace,ve=le.top+le.height/2;pe.dimensions.length>1&&ge.displayInd===pe.dimensions.length-1?(X=le.left,J="left"):(X=le.left+le.width,J="right");var Me=ce.model.count,_e=ce.model.categoryLabel,we=Me/ce.parcatsViewModel.model.count,oe={countLabel:Me,categoryLabel:_e,probabilityLabel:we.toFixed(3)},se=[];ce.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&se.push(["Count:",oe.countLabel].join(" ")),ce.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&se.push(["P("+oe.categoryLabel+"):",oe.probabilityLabel].join(" "));var de=se.join("<br>");return{trace:me,x:ne*(X-$.left),y:ie*(ve-$.top),text:de,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:J,hovertemplate:me.hovertemplate,hovertemplateLabels:oe,eventData:[{data:me._input,fullData:me,count:Me,category:_e,probability:we}]}}function E(Q){if(!Q.parcatsViewModel.dragDimension&&Q.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){if(A.mouse(this)[1]<-1)return;var $,G=Q.parcatsViewModel.graphDiv,X=G._fullLayout,J=X._paperdiv.node().getBoundingClientRect(),ne=Q.parcatsViewModel.hoveron,ie=this;ne==="color"?(function(ae){var le=A.select(ae).datum(),ce=_(le);v(ce),ce.each(function(){b.raiseToTop(this)}),A.select(ae.parentNode).selectAll("rect.bandrect").filter(function(pe){return pe.color===le.color}).each(function(){b.raiseToTop(this),A.select(this).attr("stroke","black").attr("stroke-width",1.5)})}(ie),S(ie,"plotly_hover",A.event)):(function(ae){A.select(ae.parentNode).selectAll("rect.bandrect").each(function(le){var ce=_(le);v(ce),ce.each(function(){b.raiseToTop(this)})}),A.select(ae.parentNode).select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(ie),f(ie,"plotly_hover",A.event)),Q.parcatsViewModel.hoverinfoItems.indexOf("none")===-1&&(ne==="category"?$=T(G,J,ie):ne==="color"?$=function(ae,le,ce){ae._fullLayout._calcInverseTransform(ae);var pe,ge,me=ae._fullLayout._invScaleX,ve=ae._fullLayout._invScaleY,Me=ce.getBoundingClientRect(),_e=A.select(ce).datum(),we=_e.categoryViewModel,oe=we.parcatsViewModel,se=oe.model.dimensions[we.model.dimensionInd],de=oe.trace,Ee=Me.y+Me.height/2;oe.dimensions.length>1&&se.displayInd===oe.dimensions.length-1?(pe=Me.left,ge="left"):(pe=Me.left+Me.width,ge="right");var Te=we.model.categoryLabel,Se=_e.parcatsViewModel.model.count,Le=0;_e.categoryViewModel.bands.forEach(function(Je){Je.color===_e.color&&(Le+=Je.count)});var Oe=we.model.count,he=0;oe.pathSelection.each(function(Je){Je.model.color===_e.color&&(he+=Je.model.count)});var xe=Le/Se,ke=Le/he,Re=Le/Oe,ze={countLabel:Se,categoryLabel:Te,probabilityLabel:xe.toFixed(3)},Ie=[];we.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Ie.push(["Count:",ze.countLabel].join(" ")),we.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(Ie.push("P(color \u2229 "+Te+"): "+ze.probabilityLabel),Ie.push("P("+Te+" | color): "+ke.toFixed(3)),Ie.push("P(color | "+Te+"): "+Re.toFixed(3)));var He=Ie.join("<br>"),qe=t.mostReadable(_e.color,["black","white"]);return{trace:de,x:me*(pe-le.left),y:ve*(Ee-le.top),text:He,color:_e.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:qe,fontSize:10,idealAlign:ge,hovertemplate:de.hovertemplate,hovertemplateLabels:ze,eventData:[{data:de._input,fullData:de,category:Te,count:Se,probability:xe,categorycount:Oe,colorcount:he,bandcolorcount:Le}]}}(G,J,ie):ne==="dimension"&&($=function(ae,le,ce){var pe=[];return A.select(ce.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){pe.push(T(ae,le,this))}),pe}(G,J,ie)),$&&w.loneHover($,{container:X._hoverlayer.node(),outerContainer:X._paper.node(),gd:G}))}}function C(Q){var $=Q.parcatsViewModel;$.dragDimension||(p($.pathSelection),y($.dimensionSelection.selectAll("g.category")),m($.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),w.loneUnhover($.graphDiv._fullLayout._hoverlayer.node()),$.pathSelection.sort(l),$.hoverinfoItems.indexOf("skip")!==-1)||(Q.parcatsViewModel.hoveron==="color"?S(this,"plotly_unhover",A.event):f(this,"plotly_unhover",A.event))}function O(Q){Q.parcatsViewModel.arrangement!=="fixed"&&(Q.dragDimensionDisplayInd=Q.model.displayInd,Q.initialDragDimensionDisplayInds=Q.parcatsViewModel.model.dimensions.map(function($){return $.displayInd}),Q.dragHasMoved=!1,Q.dragCategoryDisplayInd=null,A.select(this).selectAll("g.category").select("rect.catrect").each(function($){var G=A.mouse(this)[0],X=A.mouse(this)[1];-2<=G&&G<=$.width+2&&-2<=X&&X<=$.height+2&&(Q.dragCategoryDisplayInd=$.model.displayInd,Q.initialDragCategoryDisplayInds=Q.model.categories.map(function(J){return J.displayInd}),$.model.dragY=$.y,b.raiseToTop(this.parentNode),A.select(this.parentNode).selectAll("rect.bandrect").each(function(J){J.y<X&&X<=J.y+J.height&&(Q.potentialClickBand=this)}))}),Q.parcatsViewModel.dragDimension=Q,w.loneUnhover(Q.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function I(Q){if(Q.parcatsViewModel.arrangement!=="fixed"&&(Q.dragHasMoved=!0,Q.dragDimensionDisplayInd!==null)){var $=Q.dragDimensionDisplayInd,G=$-1,X=$+1,J=Q.parcatsViewModel.dimensions[$];if(Q.dragCategoryDisplayInd!==null){var ne=J.categories[Q.dragCategoryDisplayInd];ne.model.dragY+=A.event.dy;var ie=ne.model.dragY,ae=ne.model.displayInd,le=J.categories,ce=le[ae-1],pe=le[ae+1];ce!==void 0&&ie<ce.y+ce.height/2&&(ne.model.displayInd=ce.model.displayInd,ce.model.displayInd=ae),pe!==void 0&&ie+ne.height>pe.y+pe.height/2&&(ne.model.displayInd=pe.model.displayInd,pe.model.displayInd=ae),Q.dragCategoryDisplayInd=ne.model.displayInd}if(Q.dragCategoryDisplayInd===null||Q.parcatsViewModel.arrangement==="freeform"){J.model.dragX=A.event.x;var ge=Q.parcatsViewModel.dimensions[G],me=Q.parcatsViewModel.dimensions[X];ge!==void 0&&J.model.dragX<ge.x+ge.width&&(J.model.displayInd=ge.model.displayInd,ge.model.displayInd=$),me!==void 0&&J.model.dragX+J.width>me.x&&(J.model.displayInd=me.model.displayInd,me.model.displayInd=Q.dragDimensionDisplayInd),Q.dragDimensionDisplayInd=J.model.displayInd}V(Q.parcatsViewModel),j(Q.parcatsViewModel),B(Q.parcatsViewModel),D(Q.parcatsViewModel)}}function z(Q){if(Q.parcatsViewModel.arrangement!=="fixed"&&Q.dragDimensionDisplayInd!==null){A.select(this).selectAll("text").attr("font-weight","normal");var $={},G=U(Q.parcatsViewModel),X=Q.parcatsViewModel.model.dimensions.map(function(pe){return pe.displayInd}),J=Q.initialDragDimensionDisplayInds.some(function(pe,ge){return pe!==X[ge]});J&&X.forEach(function(pe,ge){var me=Q.parcatsViewModel.model.dimensions[ge].containerInd;$["dimensions["+me+"].displayindex"]=pe});var ne=!1;if(Q.dragCategoryDisplayInd!==null){var ie=Q.model.categories.map(function(pe){return pe.displayInd});if(ne=Q.initialDragCategoryDisplayInds.some(function(pe,ge){return pe!==ie[ge]})){var ae=Q.model.categories.slice().sort(function(pe,ge){return pe.displayInd-ge.displayInd}),le=ae.map(function(pe){return pe.categoryValue}),ce=ae.map(function(pe){return pe.categoryLabel});$["dimensions["+Q.model.containerInd+"].categoryarray"]=[le],$["dimensions["+Q.model.containerInd+"].ticktext"]=[ce],$["dimensions["+Q.model.containerInd+"].categoryorder"]="array"}}Q.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!Q.dragHasMoved&&Q.potentialClickBand&&(Q.parcatsViewModel.hoveron==="color"?S(Q.potentialClickBand,"plotly_click",A.event.sourceEvent):f(Q.potentialClickBand,"plotly_click",A.event.sourceEvent)),Q.model.dragX=null,Q.dragCategoryDisplayInd!==null&&(Q.parcatsViewModel.dimensions[Q.dragDimensionDisplayInd].categories[Q.dragCategoryDisplayInd].model.dragY=null,Q.dragCategoryDisplayInd=null),Q.dragDimensionDisplayInd=null,Q.parcatsViewModel.dragDimension=null,Q.dragHasMoved=null,Q.potentialClickBand=null,V(Q.parcatsViewModel),j(Q.parcatsViewModel),A.transition().duration(300).ease("cubic-in-out").each(function(){B(Q.parcatsViewModel,!0),D(Q.parcatsViewModel,!0)}).each("end",function(){(J||ne)&&a.restyle(Q.parcatsViewModel.graphDiv,$,[G])})}}function U(Q){for(var $,G=Q.graphDiv._fullData,X=0;X<G.length;X++)if(Q.key===G[X].uid){$=X;break}return $}function D(Q,$){var G;$===void 0&&($=!1),Q.pathSelection.data(function(X){return X.paths},r),(G=Q.pathSelection,$?G.transition():G).attr("d",function(X){return X.svgD})}function B(Q,$){function G(ie){return $?ie.transition():ie}$===void 0&&($=!1),Q.dimensionSelection.data(function(ie){return ie.dimensions},r);var X=Q.dimensionSelection.selectAll("g.category").data(function(ie){return ie.categories},r);G(Q.dimensionSelection).attr("transform",function(ie){return h(ie.x,0)}),G(X).attr("transform",function(ie){return h(0,ie.y)}),X.select(".dimlabel").text(function(ie,ae){return ae===0?ie.parcatsViewModel.model.dimensions[ie.model.dimensionInd].dimensionLabel:null}),X.select(".catlabel").attr("text-anchor",function(ie){return s(ie)?"start":"end"}).attr("x",function(ie){return s(ie)?ie.width+5:-5}).each(function(ie){var ae,le;s(ie)?(ae=ie.width+5,le="start"):(ae=-5,le="end"),A.select(this).selectAll("tspan").attr("x",ae).attr("text-anchor",le)});var J=X.selectAll("rect.bandrect").data(function(ie){return ie.bands},r),ne=J.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(ie){return ie.color}).attr("fill-opacity",0);J.attr("fill",function(ie){return ie.color}).attr("width",function(ie){return ie.width}).attr("height",function(ie){return ie.height}).attr("y",function(ie){return ie.y}),m(ne),J.each(function(){b.raiseToTop(this)}),J.exit().remove()}function Z(Q,$,G){var X,J=G[0],ne=$.margin||{l:80,r:80,t:100,b:80},ie=J.trace,ae=ie.domain,le=$.width,ce=$.height,pe=Math.floor(le*(ae.x[1]-ae.x[0])),ge=Math.floor(ce*(ae.y[1]-ae.y[0])),me=ae.x[0]*le+ne.l,ve=$.height-ae.y[1]*$.height+ne.t,Me=ie.line.shape;X=ie.hoverinfo==="all"?["count","probability"]:(ie.hoverinfo||"").split("+");var _e={trace:ie,key:ie.uid,model:J,x:me,y:ve,width:pe,height:ge,hoveron:ie.hoveron,hoverinfoItems:X,arrangement:ie.arrangement,bundlecolors:ie.bundlecolors,sortpaths:ie.sortpaths,labelfont:ie.labelfont,categorylabelfont:ie.tickfont,pathShape:Me,dragDimension:null,margin:ne,paths:[],dimensions:[],graphDiv:Q,traceSelection:null,pathSelection:null,dimensionSelection:null};return J.dimensions&&(V(_e),j(_e)),_e}function F(Q,$,G,X,J){var ne,ie,ae=[],le=[];for(ie=0;ie<G.length-1;ie++)ne=k(G[ie]+Q[ie],Q[ie+1]),ae.push(ne(J)),le.push(ne(1-J));var ce="M "+Q[0]+","+$[0];for(ce+="l"+G[0]+",0 ",ie=1;ie<G.length;ie++)ce+="C"+ae[ie-1]+","+$[ie-1]+" "+le[ie-1]+","+$[ie]+" "+Q[ie]+","+$[ie],ce+="l"+G[ie]+",0 ";for(ce+="l0,"+X+" ",ce+="l -"+G[G.length-1]+",0 ",ie=G.length-2;ie>=0;ie--)ce+="C"+le[ie]+","+($[ie+1]+X)+" "+ae[ie]+","+($[ie]+X)+" "+(Q[ie]+G[ie])+","+($[ie]+X),ce+="l-"+G[ie]+",0 ";return ce+"Z"}function j(Q){var $=Q.dimensions,G=Q.model,X=$.map(function(ze){return ze.categories.map(function(Ie){return Ie.y})}),J=Q.model.dimensions.map(function(ze){return ze.categories.map(function(Ie){return Ie.displayInd})}),ne=Q.model.dimensions.map(function(ze){return ze.displayInd}),ie=Q.dimensions.map(function(ze){return ze.model.dimensionInd}),ae=$.map(function(ze){return ze.x}),le=$.map(function(ze){return ze.width}),ce=[];for(var pe in G.paths)G.paths.hasOwnProperty(pe)&&ce.push(G.paths[pe]);function ge(ze){var Ie=ze.categoryInds.map(function(He,qe){return J[qe][He]});return ie.map(function(He){return Ie[He]})}ce.sort(function(ze,Ie){var He=ge(ze),qe=ge(Ie);return Q.sortpaths==="backward"&&(He.reverse(),qe.reverse()),He.push(ze.valueInds[0]),qe.push(Ie.valueInds[0]),Q.bundlecolors&&(He.unshift(ze.rawColor),qe.unshift(Ie.rawColor)),He<qe?-1:He>qe?1:0});for(var me=new Array(ce.length),ve=$[0].model.count,Me=$[0].categories.map(function(ze){return ze.height}).reduce(function(ze,Ie){return ze+Ie}),_e=0;_e<ce.length;_e++){var we,oe=ce[_e];we=ve>0?Me*(oe.count/ve):0;for(var se,de=new Array(X.length),Ee=0;Ee<oe.categoryInds.length;Ee++){var Te=oe.categoryInds[Ee],Se=J[Ee][Te],Le=ne[Ee];de[Le]=X[Le][Se],X[Le][Se]+=we;var Oe=Q.dimensions[Le].categories[Se],he=Oe.bands.length,xe=Oe.bands[he-1];if(xe===void 0||oe.rawColor!==xe.rawColor){var ke=xe===void 0?0:xe.y+xe.height;Oe.bands.push({key:ke,color:oe.color,rawColor:oe.rawColor,height:we,width:Oe.width,count:oe.count,y:ke,categoryViewModel:Oe,parcatsViewModel:Q})}else{var Re=Oe.bands[he-1];Re.height+=we,Re.count+=oe.count}}se=Q.pathShape==="hspline"?F(ae,de,le,we,.5):F(ae,de,le,we,0),me[_e]={key:oe.valueInds[0],model:oe,height:we,leftXs:ae,topYs:de,dimWidths:le,svgD:se,parcatsViewModel:Q}}Q.paths=me}function V(Q){var $=Q.model.dimensions.map(function(ie){return{displayInd:ie.displayInd,dimensionInd:ie.dimensionInd}});$.sort(function(ie,ae){return ie.displayInd-ae.displayInd});var G=[];for(var X in $){var J=$[X].dimensionInd,ne=Q.model.dimensions[J];G.push(te(Q,ne))}Q.dimensions=G}function te(Q,$){var G,X=Q.model.dimensions.length,J=$.displayInd;G=40+(X>1?(Q.width-80-16)/(X-1):0)*J;var ne,ie,ae,le,ce,pe=[],ge=Q.model.maxCats,me=$.categories.length,ve=$.count,Me=Q.height-8*(ge-1),_e=8*(ge-me)/2,we=$.categories.map(function(oe){return{displayInd:oe.displayInd,categoryInd:oe.categoryInd}});for(we.sort(function(oe,se){return oe.displayInd-se.displayInd}),ce=0;ce<me;ce++)le=we[ce].categoryInd,ie=$.categories[le],ne=ve>0?ie.count/ve*Me:0,ae={key:ie.valueInds[0],model:ie,width:16,height:ne,y:ie.dragY!==null?ie.dragY:_e,bands:[],parcatsViewModel:Q},_e=_e+ne+8,pe.push(ae);return{key:$.dimensionInd,x:$.dragX!==null?$.dragX:G,y:0,width:16,model:$,categories:pe,parcatsViewModel:Q,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}Y.exports=function(Q,$,G,X){n(G,Q,X,$)}},60268:function(Y,P,e){var A=e(51036);Y.exports=function(k,a,w,b){var h=k._fullLayout,o=h._paper,t=h._size;A(k,o,a,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},w,b)}},82296:function(Y,P,e){var A=e(49084),k=e(94724),a=e(25376),w=e(86968).u,b=e(92880).extendFlat,h=e(31780).templatedArray;Y.exports={domain:w({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:a({editType:"plot"}),tickfont:a({editType:"plot"}),rangefont:a({editType:"plot"}),dimensions:h("dimension",{label:{valType:"string",editType:"plot"},tickvals:b({},k.tickvals,{editType:"plot"}),ticktext:b({},k.ticktext,{editType:"plot"}),tickformat:b({},k.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:b({editType:"calc"},A("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},71864:function(Y,P,e){var A=e(30140),k=e(33428),a=e(71688).keyFun,w=e(71688).repeat,b=e(3400).sorterAsc,h=e(3400).strTranslate,o=A.bar.snapRatio;function t(T,E){return T*(1-o)+E*o}var i=A.bar.snapClose;function n(T,E){return T*(1-i)+E*i}function r(T,E,C,O){if(function(te,Q){for(var $=0;$<Q.length;$++)if(te>=Q[$][0]&&te<=Q[$][1])return!0;return!1}(C,O))return C;var I=T?-1:1,z=0,U=E.length-1;if(I<0){var D=z;z=U,U=D}for(var B=E[z],Z=B,F=z;I*F<I*U;F+=I){var j=F+I,V=E[j];if(I*C<I*n(B,V))return t(B,Z);if(I*C<I*V||j===U)return t(V,B);Z=B,B=V}}function s(T){T.attr("x",-A.bar.captureWidth/2).attr("width",A.bar.captureWidth)}function l(T){T.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function u(T){if(!T.brush.filterSpecified)return"0,"+T.height;for(var E,C,O,I=d(T.brush.filter.getConsolidated(),T.height),z=[0],U=I.length?I[0][0]:null,D=0;D<I.length;D++)C=(E=I[D])[1]-E[0],z.push(U),z.push(C),(O=D+1)<I.length&&(U=I[O][0]-E[1]);return z.push(T.height),z}function d(T,E){return T.map(function(C){return C.map(function(O){return Math.max(0,O*E)}).sort(b)})}function c(){k.select(document.body).style("cursor",null)}function x(T){T.attr("stroke-dasharray",u)}function g(T,E){var C=k.select(T).selectAll(".highlight, .highlight-shadow");x(E?C.transition().duration(A.bar.snapDuration).each("end",E):C)}function p(T,E){var C,O=T.brush,I=NaN,z={};if(O.filterSpecified){var U=T.height,D=O.filter.getConsolidated(),B=d(D,U),Z=NaN,F=NaN,j=NaN;for(C=0;C<=B.length;C++){var V=B[C];if(V&&V[0]<=E&&E<=V[1]){Z=C;break}if(F=C?C-1:NaN,V&&V[0]>E){j=C;break}}if(I=Z,isNaN(I)&&(I=isNaN(F)||isNaN(j)?isNaN(F)?j:F:E-B[F][1]<B[j][0]-E?F:j),!isNaN(I)){var te=B[I],Q=function(J,ne){var ie=A.bar.handleHeight;if(!(ne>J[1]+ie||ne<J[0]-ie))return ne>=.9*J[1]+.1*J[0]?"n":ne<=.9*J[0]+.1*J[1]?"s":"ns"}(te,E);Q&&(z.interval=D[I],z.intervalPix=te,z.region=Q)}}if(T.ordinal&&!z.region){var $=T.unitTickvals,G=T.unitToPaddedPx.invert(E);for(C=0;C<$.length;C++){var X=[.25*$[Math.max(C-1,0)]+.75*$[C],.25*$[Math.min(C+1,$.length-1)]+.75*$[C]];if(G>=X[0]&&G<=X[1]){z.clickableOrdinalRange=X;break}}}return z}function v(T,E){k.event.sourceEvent.stopPropagation();var C=E.height-k.mouse(T)[1]-2*A.verticalPadding,O=E.brush.svgBrush;O.wasDragged=!0,O._dragging=!0,O.grabbingBar?O.newExtent=[C-O.grabPoint,C+O.barLength-O.grabPoint].map(E.unitToPaddedPx.invert):O.newExtent=[O.startExtent,E.unitToPaddedPx.invert(C)].sort(b),E.brush.filterSpecified=!0,O.extent=O.stayingIntervals.concat([O.newExtent]),O.brushCallback(E),g(T.parentNode)}function y(T,E){var C=p(E,E.height-k.mouse(T)[1]-2*A.verticalPadding),O="crosshair";C.clickableOrdinalRange?O="pointer":C.region&&(O=C.region+"-resize"),k.select(document.body).style("cursor",O)}function m(T){T.on("mousemove",function(E){k.event.preventDefault(),E.parent.inBrushDrag||y(this,E)}).on("mouseleave",function(E){E.parent.inBrushDrag||c()}).call(k.behavior.drag().on("dragstart",function(E){(function(C,O){k.event.sourceEvent.stopPropagation();var I=O.height-k.mouse(C)[1]-2*A.verticalPadding,z=O.unitToPaddedPx.invert(I),U=O.brush,D=p(O,I),B=D.interval,Z=U.svgBrush;if(Z.wasDragged=!1,Z.grabbingBar=D.region==="ns",Z.grabbingBar){var F=B.map(O.unitToPaddedPx);Z.grabPoint=I-F[0]-A.verticalPadding,Z.barLength=F[1]-F[0]}Z.clickableOrdinalRange=D.clickableOrdinalRange,Z.stayingIntervals=O.multiselect&&U.filterSpecified?U.filter.getConsolidated():[],B&&(Z.stayingIntervals=Z.stayingIntervals.filter(function(j){return j[0]!==B[0]&&j[1]!==B[1]})),Z.startExtent=D.region?B[D.region==="s"?1:0]:z,O.parent.inBrushDrag=!0,Z.brushStartCallback()})(this,E)}).on("drag",function(E){v(this,E)}).on("dragend",function(E){(function(C,O){var I=O.brush,z=I.filter,U=I.svgBrush;U._dragging||(y(C,O),v(C,O),O.brush.svgBrush.wasDragged=!1),U._dragging=!1,k.event.sourceEvent.stopPropagation();var D=U.grabbingBar;if(U.grabbingBar=!1,U.grabLocation=void 0,O.parent.inBrushDrag=!1,c(),!U.wasDragged)return U.wasDragged=void 0,U.clickableOrdinalRange?I.filterSpecified&&O.multiselect?U.extent.push(U.clickableOrdinalRange):(U.extent=[U.clickableOrdinalRange],I.filterSpecified=!0):D?(U.extent=U.stayingIntervals,U.extent.length===0&&f(I)):f(I),U.brushCallback(O),g(C.parentNode),void U.brushEndCallback(I.filterSpecified?z.getConsolidated():[]);var B=function(){z.set(z.getConsolidated())};if(O.ordinal){var Z=O.unitTickvals;Z[Z.length-1]<Z[0]&&Z.reverse(),U.newExtent=[r(0,Z,U.newExtent[0],U.stayingIntervals),r(1,Z,U.newExtent[1],U.stayingIntervals)];var F=U.newExtent[1]>U.newExtent[0];U.extent=U.stayingIntervals.concat(F?[U.newExtent]:[]),U.extent.length||f(I),U.brushCallback(O),F?g(C.parentNode,B):(B(),g(C.parentNode))}else B();U.brushEndCallback(I.filterSpecified?z.getConsolidated():[])})(this,E)}))}function _(T,E){return T[0]-E[0]}function f(T){T.filterSpecified=!1,T.svgBrush.extent=[[-1/0,1/0]]}function S(T){for(var E,C=T.slice(),O=[],I=C.shift();I;){for(E=I.slice();(I=C.shift())&&I[0]<=E[1];)E[1]=Math.max(E[1],I[1]);O.push(E)}return O.length===1&&O[0][0]>O[0][1]&&(O=[]),O}Y.exports={makeBrush:function(T,E,C,O,I,z){var U,D=function(){var B,Z,F=[];return{set:function(j){(F=j.map(function(V){return V.slice().sort(b)}).sort(_)).length===1&&F[0][0]===-1/0&&F[0][1]===1/0&&(F=[[0,-1]]),B=S(F),Z=F.reduce(function(V,te){return[Math.min(V[0],te[0]),Math.max(V[1],te[1])]},[1/0,-1/0])},get:function(){return F.slice()},getConsolidated:function(){return B},getBounds:function(){return Z}}}();return D.set(C),{filter:D,filterSpecified:E,svgBrush:{extent:[],brushStartCallback:O,brushCallback:(U=I,function(B){var Z=B.brush,F=function(V){return V.svgBrush.extent.map(function(te){return te.slice()})}(Z),j=F.slice();Z.filter.set(j),U()}),brushEndCallback:z}}},ensureAxisBrush:function(T,E,C){var O=T.selectAll("."+A.cn.axisBrush).data(w,a);O.enter().append("g").classed(A.cn.axisBrush,!0),function(I,z,U){var D=U._context.staticPlot,B=I.selectAll(".background").data(w);B.enter().append("rect").classed("background",!0).call(s).call(l).style("pointer-events",D?"none":"auto").attr("transform",h(0,A.verticalPadding)),B.call(m).attr("height",function(j){return j.height-A.verticalPadding});var Z=I.selectAll(".highlight-shadow").data(w);Z.enter().append("line").classed("highlight-shadow",!0).attr("x",-A.bar.width/2).attr("stroke-width",A.bar.width+A.bar.strokeWidth).attr("stroke",z).attr("opacity",A.bar.strokeOpacity).attr("stroke-linecap","butt"),Z.attr("y1",function(j){return j.height}).call(x);var F=I.selectAll(".highlight").data(w);F.enter().append("line").classed("highlight",!0).attr("x",-A.bar.width/2).attr("stroke-width",A.bar.width-A.bar.strokeWidth).attr("stroke",A.bar.fillColor).attr("opacity",A.bar.fillOpacity).attr("stroke-linecap","butt"),F.attr("y1",function(j){return j.height}).call(x)}(O,E,C)},cleanRanges:function(T,E){if(Array.isArray(T[0])?(T=T.map(function(O){return O.sort(b)}),T=E.multiselect?S(T.sort(_)):[T[0]]):T=[T.sort(b)],E.tickvals){var C=E.tickvals.slice().sort(b);if(!(T=T.map(function(O){var I=[r(0,C,O[0],[]),r(1,C,O[1],[])];if(I[1]>I[0])return I}).filter(function(O){return O})).length)return}return T.length>1?T:T[0]}}},61664:function(Y,P,e){Y.exports={attributes:e(82296),supplyDefaults:e(60664),calc:e(95044),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(19976),categories:["gl","regl","noOpacity","noHover"],meta:{}}},19976:function(Y,P,e){var A=e(33428),k=e(84888)._M,a=e(24196),w=e(9616);P.name="parcoords",P.plot=function(b){var h=k(b.calcdata,"parcoords")[0];h.length&&a(b,h)},P.clean=function(b,h,o,t){var i=t._has&&t._has("parcoords"),n=h._has&&h._has("parcoords");i&&!n&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},P.toSVG=function(b){var h=b._fullLayout._glimages,o=A.select(b).selectAll(".svg-container");o.filter(function(t,i){return i===o.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var t=this,i=t.toDataURL("image/png");h.append("svg:image").attr({xmlns:w.svg,"xlink:href":i,preserveAspectRatio:"none",x:0,y:0,width:t.style.width,height:t.style.height})}),window.setTimeout(function(){A.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},95044:function(Y,P,e){var A=e(3400).isArrayOrTypedArray,k=e(8932),a=e(71688).wrap;Y.exports=function(w,b){var h,o;return k.hasColorscale(b,"line")&&A(b.line.color)?(h=b.line.color,o=k.extractOpts(b.line).colorscale,k.calc(w,b,{vals:h,containerStr:"line",cLetter:"c"})):(h=function(t){for(var i=new Array(t),n=0;n<t;n++)i[n]=.5;return i}(b._length),o=[[0,b.line.color],[1,b.line.color]]),a({lineColor:h,cscale:o})}},30140:function(Y){Y.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},60664:function(Y,P,e){var A=e(3400),k=e(94288).hasColorscale,a=e(27260),w=e(86968).Q,b=e(51272),h=e(54460),o=e(82296),t=e(71864),i=e(30140).maxDimensionCount,n=e(26284);function r(s,l,u,d){function c(y,m){return A.coerce(s,l,o.dimensions,y,m)}var x=c("values"),g=c("visible");if(x&&x.length||(g=l.visible=!1),g){c("label"),c("tickvals"),c("ticktext"),c("tickformat");var p=c("range");l._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:p},h.setConvert(l._ax,d.layout),c("multiselect");var v=c("constraintrange");v&&(l.constraintrange=t.cleanRanges(v,l))}}Y.exports=function(s,l,u,d){function c(y,m){return A.coerce(s,l,o,y,m)}var x=s.dimensions;Array.isArray(x)&&x.length>i&&(A.log("parcoords traces support up to "+i+" dimensions at the moment"),x.splice(i));var g=b(s,l,{name:"dimensions",layout:d,handleItemDefaults:r}),p=function(y,m,_,f,S){var T=S("line.color",_);if(k(y,"line")&&A.isArrayOrTypedArray(T)){if(T.length)return S("line.colorscale"),a(y,m,f,S,{prefix:"line.",cLetter:"c"}),T.length;m.line.color=_}return 1/0}(s,l,u,d,c);w(l,d,c),Array.isArray(g)&&g.length||(l.visible=!1),n(l,g,"values",p);var v={family:d.font.family,size:Math.round(d.font.size/1.2),color:d.font.color};A.coerceFont(c,"labelfont",v),A.coerceFont(c,"tickfont",v),A.coerceFont(c,"rangefont",v),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},95724:function(Y,P,e){var A=e(3400).isTypedArray;P.convertTypedArray=function(k){return A(k)?Array.prototype.slice.call(k):k},P.isOrdinal=function(k){return!!k.tickvals},P.isVisible=function(k){return k.visible||!("visible"in k)}},29928:function(Y,P,e){var A=e(61664);A.plot=e(24196),Y.exports=A},51352:function(Y,P,e){var A=e(26444),k=A([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

attribute vec4 p01_04, p05_08, p09_12, p13_16,
               p17_20, p21_24, p25_28, p29_32,
               p33_36, p37_40, p41_44, p45_48,
               p49_52, p53_56, p57_60, colors;

uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,
             loA, hiA, loB, hiB, loC, hiC, loD, hiD;

uniform vec2 resolution, viewBoxPos, viewBoxSize;
uniform float maskHeight;
uniform float drwLayer; // 0: context, 1: focus, 2: pick
uniform vec4 contextColor;
uniform sampler2D maskTexture, palette;

bool isPick    = (drwLayer > 1.5);
bool isContext = (drwLayer < 0.5);

const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);
const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);

float val(mat4 p, mat4 v) {
    return dot(matrixCompMult(p, v) * UNITS, UNITS);
}

float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {
    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);
    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);
    return y1 * (1.0 - ratio) + y2 * ratio;
}

int iMod(int a, int b) {
    return a - b * (a / b);
}

bool fOutside(float p, float lo, float hi) {
    return (lo < hi) && (lo > p || p > hi);
}

bool vOutside(vec4 p, vec4 lo, vec4 hi) {
    return (
        fOutside(p[0], lo[0], hi[0]) ||
        fOutside(p[1], lo[1], hi[1]) ||
        fOutside(p[2], lo[2], hi[2]) ||
        fOutside(p[3], lo[3], hi[3])
    );
}

bool mOutside(mat4 p, mat4 lo, mat4 hi) {
    return (
        vOutside(p[0], lo[0], hi[0]) ||
        vOutside(p[1], lo[1], hi[1]) ||
        vOutside(p[2], lo[2], hi[2]) ||
        vOutside(p[3], lo[3], hi[3])
    );
}

bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {
    return mOutside(A, loA, hiA) ||
           mOutside(B, loB, hiB) ||
           mOutside(C, loC, hiC) ||
           mOutside(D, loD, hiD);
}

bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {
    mat4 pnts[4];
    pnts[0] = A;
    pnts[1] = B;
    pnts[2] = C;
    pnts[3] = D;

    for(int i = 0; i < 4; ++i) {
        for(int j = 0; j < 4; ++j) {
            for(int k = 0; k < 4; ++k) {
                if(0 == iMod(
                    int(255.0 * texture2D(maskTexture,
                        vec2(
                            (float(i * 2 + j / 2) + 0.5) / 8.0,
                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight
                        ))[3]
                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),
                    2
                )) return true;
            }
        }
    }
    return false;
}

vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {
    float x = 0.5 * sign(v) + 0.5;
    float y = axisY(x, A, B, C, D);
    float z = 1.0 - abs(v);

    z += isContext ? 0.0 : 2.0 * float(
        outsideBoundingBox(A, B, C, D) ||
        outsideRasterMask(A, B, C, D)
    );

    return vec4(
        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,
        z,
        1.0
    );
}

void main() {
    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);
    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);
    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);
    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);

    float v = colors[3];

    gl_Position = position(isContext, v, A, B, C, D);

    fragColor =
        isContext ? vec4(contextColor) :
        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));
}
`]),a=A([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
    gl_FragColor = fragColor;
}
`]),w=e(30140).maxDimensionCount,b=e(3400),h=1e-6,o=new Uint8Array(4),t=new Uint8Array(4),i={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function n(p,v,y,m,_){var f=p._gl;f.enable(f.SCISSOR_TEST),f.scissor(v,y,m,_),p.clear({color:[0,0,0,0],depth:1})}function r(p,v,y,m,_,f){var S=f.key;y.drawCompleted||(function(T){T.read({x:0,y:0,width:1,height:1,data:o})}(p),y.drawCompleted=!0),function T(E){var C=Math.min(m,_-E*m);E===0&&(window.cancelAnimationFrame(y.currentRafs[S]),delete y.currentRafs[S],n(p,f.scissorX,f.scissorY,f.scissorWidth,f.viewBoxSize[1])),y.clearOnly||(f.count=2*C,f.offset=2*E*m,v(f),E*m+C<_&&(y.currentRafs[S]=window.requestAnimationFrame(function(){T(E+1)})),y.drawCompleted=!1)}(0)}function s(p,v){for(var y=new Array(256),m=0;m<256;m++)y[m]=p(m/255).concat(v);return y}function l(p,v){return(p>>>8*v)%256/255}function u(p,v,y){for(var m=new Array(8*v),_=0,f=0;f<v;f++)for(var S=0;S<2;S++)for(var T=0;T<4;T++){var E=4*p+T,C=y[64*f+E];E===63&&S===0&&(C*=-1),m[_++]=C}return m}function d(p){var v="0"+p;return v.substr(v.length-2)}function c(p){return p<w?"p"+d(p+1)+"_"+d(p+4):"colors"}function x(p,v,y,m,_,f,S,T,E,C,O,I,z,U){for(var D=[[],[]],B=0;B<64;B++)D[0][B]=B===_?1:0,D[1][B]=B===f?1:0;S*=U,T*=U,E*=U,C*=U;var Z=p.lines.canvasOverdrag*U,F=p.domain,j=p.canvasWidth*U,V=p.canvasHeight*U,te=p.pad.l*U,Q=p.pad.b*U,$=p.layoutHeight*U,G=p.layoutWidth*U,X=p.deselectedLines.color,J=p.deselectedLines.opacity;return b.extendFlat({key:O,resolution:[j,V],viewBoxPos:[S+Z,T],viewBoxSize:[E,C],i0:_,i1:f,dim0A:D[0].slice(0,16),dim0B:D[0].slice(16,32),dim0C:D[0].slice(32,48),dim0D:D[0].slice(48,64),dim1A:D[1].slice(0,16),dim1B:D[1].slice(16,32),dim1C:D[1].slice(32,48),dim1D:D[1].slice(48,64),drwLayer:I,contextColor:[X[0]/255,X[1]/255,X[2]/255,J!=="auto"?X[3]*J:Math.max(.00392156862745098,Math.pow(1/p.lines.color.length,.3333333333333333))],scissorX:(m===v?0:S+Z)+(te-Z)+G*F.x[0],scissorWidth:(m===y?j-S+Z:E+.5)+(m===v?S+Z:0),scissorY:T+Q+$*F.y[0],scissorHeight:C,viewportX:te-Z+G*F.x[0],viewportY:Q+$*F.y[0],viewportWidth:j,viewportHeight:V},z)}function g(p){var v=2047,y=Math.max(0,Math.floor(p[0]*v),0),m=Math.min(v,Math.ceil(p[1]*v),v);return[Math.min(y,m),Math.max(y,m)]}Y.exports=function(p,v){var y,m,_,f,S,T=v.context,E=v.pick,C=v.regl,O=C._gl,I=O.getParameter(O.ALIASED_LINE_WIDTH_RANGE),z=Math.max(I[0],Math.min(I[1],v.viewModel.plotGlPixelRatio)),U={currentRafs:{},drawCompleted:!0,clearOnly:!1},D=function(V){for(var te={},Q=0;Q<=w;Q+=4)te[c(Q)]=V.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return te}(C),B=C.texture(i),Z=[];j(v);var F=C({profile:!1,blend:{enable:T,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!T,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:C.prop("scissorX"),y:C.prop("scissorY"),width:C.prop("scissorWidth"),height:C.prop("scissorHeight")}},viewport:{x:C.prop("viewportX"),y:C.prop("viewportY"),width:C.prop("viewportWidth"),height:C.prop("viewportHeight")},dither:!1,vert:k,frag:a,primitive:"lines",lineWidth:z,attributes:D,uniforms:{resolution:C.prop("resolution"),viewBoxPos:C.prop("viewBoxPos"),viewBoxSize:C.prop("viewBoxSize"),dim0A:C.prop("dim0A"),dim1A:C.prop("dim1A"),dim0B:C.prop("dim0B"),dim1B:C.prop("dim1B"),dim0C:C.prop("dim0C"),dim1C:C.prop("dim1C"),dim0D:C.prop("dim0D"),dim1D:C.prop("dim1D"),loA:C.prop("loA"),hiA:C.prop("hiA"),loB:C.prop("loB"),hiB:C.prop("hiB"),loC:C.prop("loC"),hiC:C.prop("hiC"),loD:C.prop("loD"),hiD:C.prop("hiD"),palette:B,contextColor:C.prop("contextColor"),maskTexture:C.prop("maskTexture"),drwLayer:C.prop("drwLayer"),maskHeight:C.prop("maskHeight")},offset:C.prop("offset"),count:C.prop("count")});function j(V){y=V.model,m=V.viewModel,_=m.dimensions.slice(),f=_[0]?_[0].values.length:0;var te=y.lines,Q=E?te.color.map(function(G,X){return X/te.color.length}):te.color,$=function(G,X,J){for(var ne,ie=new Array(G*(w+4)),ae=0,le=0;le<G;le++){for(var ce=0;ce<w;ce++)ie[ae++]=ce<X.length?X[ce].paddedUnitValues[le]:.5;ie[ae++]=l(le,2),ie[ae++]=l(le,1),ie[ae++]=l(le,0),ie[ae++]=(ne=J[le],Math.max(h,Math.min(.999999,ne)))}return ie}(f,_,Q);(function(G,X,J){for(var ne=0;ne<=w;ne+=4)G[c(ne)](u(ne/4,X,J))})(D,f,$),T||E||(B=C.texture(b.extendFlat({data:s(y.unitToColor,255)},i)))}return{render:function(V,te,Q){var $,G,X,J=V.length,ne=1/0,ie=-1/0;for($=0;$<J;$++)V[$].dim0.canvasX<ne&&(ne=V[$].dim0.canvasX,G=$),V[$].dim1.canvasX>ie&&(ie=V[$].dim1.canvasX,X=$);J===0&&n(C,0,0,y.canvasWidth,y.canvasHeight);var ae=function(oe){var se,de,Ee,Te=[[],[]];for(Ee=0;Ee<64;Ee++){var Se=!oe&&Ee<_.length?_[Ee].brush.filter.getBounds():[-1/0,1/0];Te[0][Ee]=Se[0],Te[1][Ee]=Se[1]}var Le=new Array(16384);for(se=0;se<16384;se++)Le[se]=255;if(!oe)for(se=0;se<_.length;se++){var Oe=se%8,he=(se-Oe)/8,xe=Math.pow(2,Oe),ke=_[se].brush.filter.get();if(!(ke.length<2)){var Re=g(ke[0])[1];for(de=1;de<ke.length;de++){var ze=g(ke[de]);for(Ee=Re+1;Ee<ze[0];Ee++)Le[8*Ee+he]&=~xe;Re=Math.max(Re,ze[1])}}}var Ie={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Le};return S?S(Ie):S=C.texture(Ie),{maskTexture:S,maskHeight:2048,loA:Te[0].slice(0,16),loB:Te[0].slice(16,32),loC:Te[0].slice(32,48),loD:Te[0].slice(48,64),hiA:Te[1].slice(0,16),hiB:Te[1].slice(16,32),hiC:Te[1].slice(32,48),hiD:Te[1].slice(48,64)}}(T);for($=0;$<J;$++){var le=V[$],ce=le.dim0.crossfilterDimensionIndex,pe=le.dim1.crossfilterDimensionIndex,ge=le.canvasX,me=le.canvasY,ve=ge+le.panelSizeX,Me=le.plotGlPixelRatio;if(te||!Z[ce]||Z[ce][0]!==ge||Z[ce][1]!==ve){Z[ce]=[ge,ve];var _e=x(y,G,X,$,ce,pe,ge,me,le.panelSizeX,le.panelSizeY,le.dim0.crossfilterDimensionIndex,T?0:E?2:1,ae,Me);U.clearOnly=Q;var we=te?y.lines.blockLineCount:f;r(C,F,U,we,f,_e)}}},readPixel:function(V,te){return C.read({x:V,y:te,width:1,height:1,data:t}),t},readPixels:function(V,te,Q,$){var G=new Uint8Array(4*Q*$);return C.read({x:V,y:te,width:Q,height:$,data:G}),G},destroy:function(){for(var V in p.style["pointer-events"]="none",B.destroy(),S&&S.destroy(),D)D[V].destroy()},update:j}}},26284:function(Y){Y.exports=function(P,e,A,k){var a,w;for(k||(k=1/0),a=0;a<e.length;a++)(w=e[a]).visible&&(k=Math.min(k,w[A].length));for(k===1/0&&(k=0),P._length=k,a=0;a<e.length;a++)(w=e[a]).visible&&(w._length=k);return k}},36336:function(Y,P,e){var A=e(33428),k=e(3400),a=k.isArrayOrTypedArray,w=k.numberFormat,b=e(96824),h=e(54460),o=k.strRotate,t=k.strTranslate,i=e(72736),n=e(43616),r=e(8932),s=e(71688),l=s.keyFun,u=s.repeat,d=s.unwrap,c=e(95724),x=e(30140),g=e(71864),p=e(51352);function v(Z,F,j){return k.aggNums(Z,null,F,j)}function y(Z,F){return _(v(Math.min,Z,F),v(Math.max,Z,F))}function m(Z){var F=Z.range;return F?_(F[0],F[1]):y(Z.values,Z._length)}function _(Z,F){return!isNaN(Z)&&isFinite(Z)||(Z=0),!isNaN(F)&&isFinite(F)||(F=0),Z===F&&(Z===0?(Z-=1,F+=1):(Z*=.9,F*=1.1)),[Z,F]}function f(Z,F,j,V,te){var Q,$,G=m(j);return V?A.scale.ordinal().domain(V.map((Q=w(j.tickformat),$=te,$?function(X,J){var ne=$[J];return ne==null?Q(X):ne}:Q))).range(V.map(function(X){var J=(X-G[0])/(G[1]-G[0]);return Z-F+J*(2*F-Z)})):A.scale.linear().domain(G).range([Z-F,F])}function S(Z){if(Z.tickvals){var F=m(Z);return A.scale.ordinal().domain(Z.tickvals).range(Z.tickvals.map(function(j){return(j-F[0])/(F[1]-F[0])}))}}function T(Z){var F=Z.map(function(te){return te[0]}),j=Z.map(function(te){var Q=b(te[1]);return A.rgb("rgb("+Q[0]+","+Q[1]+","+Q[2]+")")}),V="rgb".split("").map(function(te){return A.scale.linear().clamp(!0).domain(F).range(j.map((Q=te,function($){return $[Q]})));var Q});return function(te){return V.map(function(Q){return Q(te)})}}function E(Z){return Z.dimensions.some(function(F){return F.brush.filterSpecified})}function C(Z,F,j){var V=d(F),te=V.trace,Q=c.convertTypedArray(V.lineColor),$=te.line,G={color:b(te.unselected.line.color),opacity:te.unselected.line.opacity},X=r.extractOpts($),J=X.reversescale?r.flipScale(V.cscale):V.cscale,ne=te.domain,ie=te.dimensions,ae=Z.width,le=te.labelangle,ce=te.labelside,pe=te.labelfont,ge=te.tickfont,me=te.rangefont,ve=k.extendDeepNoArrays({},$,{color:Q.map(A.scale.linear().domain(m({values:Q,range:[X.min,X.max],_length:te._length}))),blockLineCount:x.blockLineCount,canvasOverdrag:x.overdrag*x.canvasPixelRatio}),Me=Math.floor(ae*(ne.x[1]-ne.x[0])),_e=Math.floor(Z.height*(ne.y[1]-ne.y[0])),we=Z.margin||{l:80,r:80,t:100,b:80},oe=Me,se=_e;return{key:j,colCount:ie.filter(c.isVisible).length,dimensions:ie,tickDistance:x.tickDistance,unitToColor:T(J),lines:ve,deselectedLines:G,labelAngle:le,labelSide:ce,labelFont:pe,tickFont:ge,rangeFont:me,layoutWidth:ae,layoutHeight:Z.height,domain:ne,translateX:ne.x[0]*ae,translateY:Z.height-ne.y[1]*Z.height,pad:we,canvasWidth:oe*x.canvasPixelRatio+2*ve.canvasOverdrag,canvasHeight:se*x.canvasPixelRatio,width:oe,height:se,canvasPixelRatio:x.canvasPixelRatio}}function O(Z,F,j){var V=j.width,te=j.height,Q=j.dimensions,$=j.canvasPixelRatio,G=function(ae){return V*ae/Math.max(1,j.colCount-1)},X=x.verticalPadding/te,J=function(ae,le){return A.scale.linear().range([le,ae-le])}(te,x.verticalPadding),ne={key:j.key,xScale:G,model:j,inBrushDrag:!1},ie={};return ne.dimensions=Q.filter(c.isVisible).map(function(ae,le){var ce=function(Le,Oe){return A.scale.linear().domain(m(Le)).range([Oe,1-Oe])}(ae,X),pe=ie[ae.label];ie[ae.label]=(pe||0)+1;var ge=ae.label+(pe?"__"+pe:""),me=ae.constraintrange,ve=me&&me.length;ve&&!a(me[0])&&(me=[me]);var Me=ve?me.map(function(Le){return Le.map(ce)}):[[-1/0,1/0]],_e=ae.values;_e.length>ae._length&&(_e=_e.slice(0,ae._length));var we,oe=ae.tickvals;function se(Le,Oe){return{val:Le,text:we[Oe]}}function de(Le,Oe){return Le.val-Oe.val}if(a(oe)&&oe.length){k.isTypedArray(oe)&&(oe=Array.from(oe)),we=ae.ticktext,a(we)&&we.length?we.length>oe.length?we=we.slice(0,oe.length):oe.length>we.length&&(oe=oe.slice(0,we.length)):we=oe.map(w(ae.tickformat));for(var Ee=1;Ee<oe.length;Ee++)if(oe[Ee]<oe[Ee-1]){for(var Te=oe.map(se).sort(de),Se=0;Se<oe.length;Se++)oe[Se]=Te[Se].val,we[Se]=Te[Se].text;break}}else oe=void 0;return _e=c.convertTypedArray(_e),{key:ge,label:ae.label,tickFormat:ae.tickformat,tickvals:oe,ticktext:we,ordinal:c.isOrdinal(ae),multiselect:ae.multiselect,xIndex:le,crossfilterDimensionIndex:le,visibleIndex:ae._index,height:te,values:_e,paddedUnitValues:_e.map(ce),unitTickvals:oe&&oe.map(ce),xScale:G,x:G(le),canvasX:G(le)*$,unitToPaddedPx:J,domainScale:f(te,x.verticalPadding,ae,oe,we),ordinalScale:S(ae),parent:ne,model:j,brush:g.makeBrush(Z,ve,Me,function(){Z.linePickActive(!1)},function(){var Le=ne;Le.focusLayer&&Le.focusLayer.render(Le.panels,!0);var Oe=E(Le);!Z.contextShown()&&Oe?(Le.contextLayer&&Le.contextLayer.render(Le.panels,!0),Z.contextShown(!0)):Z.contextShown()&&!Oe&&(Le.contextLayer&&Le.contextLayer.render(Le.panels,!0,!0),Z.contextShown(!1))},function(Le){if(ne.focusLayer.render(ne.panels,!0),ne.pickLayer&&ne.pickLayer.render(ne.panels,!0),Z.linePickActive(!0),F&&F.filterChanged){var Oe=ce.invert,he=Le.map(function(xe){return xe.map(Oe).sort(k.sorterAsc)}).sort(function(xe,ke){return xe[0]-ke[0]});F.filterChanged(ne.key,ae._index,he)}})}}),ne}function I(Z){Z.classed(x.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function z(Z,F){var j=F==="top"?1:-1,V=Z*Math.PI/180;return{dir:j,dx:Math.sin(V),dy:Math.cos(V),degrees:Z}}function U(Z,F,j){for(var V=F.panels||(F.panels=[]),te=Z.data(),Q=0;Q<te.length-1;Q++){var $=V[Q]||(V[Q]={}),G=te[Q],X=te[Q+1];$.dim0=G,$.dim1=X,$.canvasX=G.canvasX,$.panelSizeX=X.canvasX-G.canvasX,$.panelSizeY=F.model.canvasHeight,$.y=0,$.canvasY=0,$.plotGlPixelRatio=j}}function D(Z,F){return h.tickText(Z._ax,F,!1).text}function B(Z,F){if(Z.ordinal)return"";var j=Z.domainScale.domain(),V=j[F?j.length-1:0];return D(Z.model.dimensions[Z.visibleIndex],V)}Y.exports=function(Z,F,j,V){var te=Z._context.staticPlot,Q=Z._fullLayout,$=Q._toppaper,G=Q._glcontainer,X=Z._context.plotGlPixelRatio,J=Z._fullLayout.paper_bgcolor;(function(Le){for(var Oe=0;Oe<Le.length;Oe++)for(var he=0;he<Le[Oe].length;he++)for(var xe=Le[Oe][he].trace,ke=xe.dimensions,Re=0;Re<ke.length;Re++){var ze=ke[Re].values,Ie=ke[Re]._ax;Ie&&(Ie.range?Ie.range=_(Ie.range[0],Ie.range[1]):Ie.range=y(ze,xe._length),Ie.dtick||(Ie.dtick=.01*(Math.abs(Ie.range[1]-Ie.range[0])||1)),Ie.tickformat=ke[Re].tickformat,h.calcTicks(Ie),Ie.cleanRange())}})(F);var ne,ie,ae=(ne=!0,ie=!1,{linePickActive:function(Le){return arguments.length?ne=!!Le:ne},contextShown:function(Le){return arguments.length?ie=!!Le:ie}}),le=F.filter(function(Le){return d(Le).trace.visible}).map(C.bind(0,j)).map(O.bind(0,ae,V));G.each(function(Le,Oe){return k.extendFlat(Le,le[Oe])});var ce=G.selectAll(".gl-canvas").each(function(Le){Le.viewModel=le[0],Le.viewModel.plotGlPixelRatio=X,Le.viewModel.paperColor=J,Le.model=Le.viewModel?Le.viewModel.model:null}),pe=null;ce.filter(function(Le){return Le.pick}).style("pointer-events",te?"none":"auto").on("mousemove",function(Le){if(ae.linePickActive()&&Le.lineLayer&&V&&V.hover){var Oe=A.event,he=this.width,xe=this.height,ke=A.mouse(this),Re=ke[0],ze=ke[1];if(Re<0||ze<0||Re>=he||ze>=xe)return;var Ie=Le.lineLayer.readPixel(Re,xe-1-ze),He=Ie[3]!==0,qe=He?Ie[2]+256*(Ie[1]+256*Ie[0]):null,Je={x:Re,y:ze,clientX:Oe.clientX,clientY:Oe.clientY,dataIndex:Le.model.key,curveNumber:qe};qe!==pe&&(He?V.hover(Je):V.unhover&&V.unhover(Je),pe=qe)}}),ce.style("opacity",function(Le){return Le.pick?0:1}),$.style("background","rgba(255, 255, 255, 0)");var ge=$.selectAll("."+x.cn.parcoords).data(le,l);ge.exit().remove(),ge.enter().append("g").classed(x.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),ge.attr("transform",function(Le){return t(Le.model.translateX,Le.model.translateY)});var me=ge.selectAll("."+x.cn.parcoordsControlView).data(u,l);me.enter().append("g").classed(x.cn.parcoordsControlView,!0),me.attr("transform",function(Le){return t(Le.model.pad.l,Le.model.pad.t)});var ve=me.selectAll("."+x.cn.yAxis).data(function(Le){return Le.dimensions},l);ve.enter().append("g").classed(x.cn.yAxis,!0),me.each(function(Le){U(ve,Le,X)}),ce.each(function(Le){if(Le.viewModel){!Le.lineLayer||V?Le.lineLayer=p(this,Le):Le.lineLayer.update(Le),(Le.key||Le.key===0)&&(Le.viewModel[Le.key]=Le.lineLayer);var Oe=!Le.context||V;Le.lineLayer.render(Le.viewModel.panels,Oe)}}),ve.attr("transform",function(Le){return t(Le.xScale(Le.xIndex),0)}),ve.call(A.behavior.drag().origin(function(Le){return Le}).on("drag",function(Le){var Oe=Le.parent;ae.linePickActive(!1),Le.x=Math.max(-x.overdrag,Math.min(Le.model.width+x.overdrag,A.event.x)),Le.canvasX=Le.x*Le.model.canvasPixelRatio,ve.sort(function(he,xe){return he.x-xe.x}).each(function(he,xe){he.xIndex=xe,he.x=Le===he?he.x:he.xScale(he.xIndex),he.canvasX=he.x*he.model.canvasPixelRatio}),U(ve,Oe,X),ve.filter(function(he){return Math.abs(Le.xIndex-he.xIndex)!==0}).attr("transform",function(he){return t(he.xScale(he.xIndex),0)}),A.select(this).attr("transform",t(Le.x,0)),ve.each(function(he,xe,ke){ke===Le.parent.key&&(Oe.dimensions[xe]=he)}),Oe.contextLayer&&Oe.contextLayer.render(Oe.panels,!1,!E(Oe)),Oe.focusLayer.render&&Oe.focusLayer.render(Oe.panels)}).on("dragend",function(Le){var Oe=Le.parent;Le.x=Le.xScale(Le.xIndex),Le.canvasX=Le.x*Le.model.canvasPixelRatio,U(ve,Oe,X),A.select(this).attr("transform",function(he){return t(he.x,0)}),Oe.contextLayer&&Oe.contextLayer.render(Oe.panels,!1,!E(Oe)),Oe.focusLayer&&Oe.focusLayer.render(Oe.panels),Oe.pickLayer&&Oe.pickLayer.render(Oe.panels,!0),ae.linePickActive(!0),V&&V.axesMoved&&V.axesMoved(Oe.key,Oe.dimensions.map(function(he){return he.crossfilterDimensionIndex}))})),ve.exit().remove();var Me=ve.selectAll("."+x.cn.axisOverlays).data(u,l);Me.enter().append("g").classed(x.cn.axisOverlays,!0),Me.selectAll("."+x.cn.axis).remove();var _e=Me.selectAll("."+x.cn.axis).data(u,l);_e.enter().append("g").classed(x.cn.axis,!0),_e.each(function(Le){var Oe=Le.model.height/Le.model.tickDistance,he=Le.domainScale,xe=he.domain();A.select(this).call(A.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Oe,Le.tickFormat).tickValues(Le.ordinal?xe:null).tickFormat(function(ke){return c.isOrdinal(Le)?ke:D(Le.model.dimensions[Le.visibleIndex],ke)}).scale(he)),n.font(_e.selectAll("text"),Le.model.tickFont)}),_e.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),_e.selectAll("text").style("text-shadow",i.makeTextShadow(J)).style("cursor","default");var we=Me.selectAll("."+x.cn.axisHeading).data(u,l);we.enter().append("g").classed(x.cn.axisHeading,!0);var oe=we.selectAll("."+x.cn.axisTitle).data(u,l);oe.enter().append("text").classed(x.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",te?"none":"auto"),oe.text(function(Le){return Le.label}).each(function(Le){var Oe=A.select(this);n.font(Oe,Le.model.labelFont),i.convertToTspans(Oe,Z)}).attr("transform",function(Le){var Oe=z(Le.model.labelAngle,Le.model.labelSide),he=x.axisTitleOffset;return(Oe.dir>0?"":t(0,2*he+Le.model.height))+o(Oe.degrees)+t(-he*Oe.dx,-he*Oe.dy)}).attr("text-anchor",function(Le){var Oe=z(Le.model.labelAngle,Le.model.labelSide);return 2*Math.abs(Oe.dx)>Math.abs(Oe.dy)?Oe.dir*Oe.dx<0?"start":"end":"middle"});var se=Me.selectAll("."+x.cn.axisExtent).data(u,l);se.enter().append("g").classed(x.cn.axisExtent,!0);var de=se.selectAll("."+x.cn.axisExtentTop).data(u,l);de.enter().append("g").classed(x.cn.axisExtentTop,!0),de.attr("transform",t(0,-x.axisExtentOffset));var Ee=de.selectAll("."+x.cn.axisExtentTopText).data(u,l);Ee.enter().append("text").classed(x.cn.axisExtentTopText,!0).call(I),Ee.text(function(Le){return B(Le,!0)}).each(function(Le){n.font(A.select(this),Le.model.rangeFont)});var Te=se.selectAll("."+x.cn.axisExtentBottom).data(u,l);Te.enter().append("g").classed(x.cn.axisExtentBottom,!0),Te.attr("transform",function(Le){return t(0,Le.model.height+x.axisExtentOffset)});var Se=Te.selectAll("."+x.cn.axisExtentBottomText).data(u,l);Se.enter().append("text").classed(x.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(I),Se.text(function(Le){return B(Le,!1)}).each(function(Le){n.font(A.select(this),Le.model.rangeFont)}),g.ensureAxisBrush(Me,J,Z)}},24196:function(Y,P,e){var A=e(36336),k=e(5048),a=e(95724).isVisible,w={};function b(h,o,t){var i=o.indexOf(t),n=h.indexOf(i);return n===-1&&(n+=o.length),n}(Y.exports=function(h,o){var t=h._fullLayout;if(k(h,[],w)){var i={},n={},r={},s={},l=t._size;o.forEach(function(u,d){var c=u[0].trace;r[d]=c.index;var x=s[d]=c._fullInput.index;i[d]=h.data[x].dimensions,n[d]=h.data[x].dimensions.slice()}),A(h,o,{width:l.w,height:l.h,margin:{t:l.t,r:l.r,b:l.b,l:l.l}},{filterChanged:function(u,d,c){var x=n[u][d],g=c.map(function(f){return f.slice()}),p="dimensions["+d+"].constraintrange",v=t._tracePreGUI[h._fullData[r[u]]._fullInput.uid];if(v[p]===void 0){var y=x.constraintrange;v[p]=y||null}var m=h._fullData[r[u]].dimensions[d];g.length?(g.length===1&&(g=g[0]),x.constraintrange=g,m.constraintrange=g.slice(),g=[g]):(delete x.constraintrange,delete m.constraintrange,g=null);var _={};_[p]=g,h.emit("plotly_restyle",[_,[s[u]]])},hover:function(u){h.emit("plotly_hover",u)},unhover:function(u){h.emit("plotly_unhover",u)},axesMoved:function(u,d){var c=function(x,g){return function(p,v){return b(x,g,p)-b(x,g,v)}}(d,n[u].filter(a));i[u].sort(c),n[u].filter(function(x){return!a(x)}).sort(function(x){return n[u].indexOf(x)}).forEach(function(x){i[u].splice(i[u].indexOf(x),1),i[u].splice(n[u].indexOf(x),0,x)}),h.emit("plotly_restyle",[{dimensions:[i[u]]},[s[u]]])}})}}).reglPrecompiled=w},74996:function(Y,P,e){var A=e(45464),k=e(86968).u,a=e(25376),w=e(22548),b=e(21776).Ks,h=e(21776).Gw,o=e(92880).extendFlat,t=e(98192).c,i=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});Y.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:w.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:t,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:o({},A.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:b({},{keys:["label","color","value","percent","text"]}),texttemplate:h({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:o({},i,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:o({},i,{}),outsidetextfont:o({},i,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:o({},i,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:k({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:o({},i,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},80036:function(Y,P,e){var A=e(7316);P.name="pie",P.plot=function(k,a,w,b){A.plotBasePlot(P.name,k,a,w,b)},P.clean=function(k,a,w,b){A.cleanBasePlot(P.name,k,a,w,b)}},45768:function(Y,P,e){var A=e(38248),k=e(49760),a=e(76308),w={};function b(o){return function(t,i){return!!t&&!!(t=k(t)).isValid()&&(t=a.addOpacity(t,t.getAlpha()),o[i]||(o[i]=t),t)}}function h(o,t){var i,n=JSON.stringify(o),r=t[n];if(!r){for(r=o.slice(),i=0;i<o.length;i++)r.push(k(o[i]).lighten(20).toHexString());for(i=0;i<o.length;i++)r.push(k(o[i]).darken(20).toHexString());t[n]=r}return r}Y.exports={calc:function(o,t){var i,n,r=[],s=o._fullLayout,l=s.hiddenlabels||[],u=t.labels,d=t.marker.colors||[],c=t.values,x=t._length,g=t._hasValues&&x;if(t.dlabel)for(u=new Array(x),i=0;i<x;i++)u[i]=String(t.label0+i*t.dlabel);var p={},v=b(s["_"+t.type+"colormap"]),y=0,m=!1;for(i=0;i<x;i++){var _,f,S;if(g){if(_=c[i],!A(_))continue;_=+_}else _=1;(f=u[i])!==void 0&&f!==""||(f=i);var T=p[f=String(f)];T===void 0?(p[f]=r.length,(S=l.indexOf(f)!==-1)||(y+=_),r.push({v:_,label:f,color:v(d[i],f),i,pts:[i],hidden:S})):(m=!0,(n=r[T]).v+=_,n.pts.push(i),n.hidden||(y+=_),n.color===!1&&d[i]&&(n.color=v(d[i],f)))}return r=r.filter(function(E){return E.v>=0}),(t.type==="funnelarea"?m:t.sort)&&r.sort(function(E,C){return C.v-E.v}),r[0]&&(r[0].vTotal=y),r},crossTraceCalc:function(o,t){var i=(t||{}).type;i||(i="pie");var n=o._fullLayout,r=o.calcdata,s=n[i+"colorway"],l=n["_"+i+"colormap"];n["extend"+i+"colors"]&&(s=h(s,w));for(var u=0,d=0;d<r.length;d++){var c=r[d];if(c[0].trace.type===i)for(var x=0;x<c.length;x++){var g=c[x];g.color===!1&&(l[g.label]?g.color=l[g.label]:(l[g.label]=g.color=s[u%s.length],u++))}}},makePullColorFn:b,generateExtendedColors:h}},74174:function(Y,P,e){var A=e(38248),k=e(3400),a=e(74996),w=e(86968).Q,b=e(31508).handleText,h=e(3400).coercePattern;function o(i,n){var r=k.isArrayOrTypedArray(i),s=k.isArrayOrTypedArray(n),l=Math.min(r?i.length:1/0,s?n.length:1/0);if(isFinite(l)||(l=0),l&&s){for(var u,d=0;d<l;d++){var c=n[d];if(A(c)&&c>0){u=!0;break}}u||(l=0)}return{hasLabels:r,hasValues:s,len:l}}function t(i,n,r,s,l){s("marker.line.width")&&s("marker.line.color",l?void 0:r.paper_bgcolor);var u=s("marker.colors");h(s,"marker.pattern",u),i.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=i.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=r.paper_bgcolor)}Y.exports={handleLabelsAndValues:o,handleMarkerDefaults:t,supplyDefaults:function(i,n,r,s){function l(m,_){return k.coerce(i,n,a,m,_)}var u=o(l("labels"),l("values")),d=u.len;if(n._hasLabels=u.hasLabels,n._hasValues=u.hasValues,!n._hasLabels&&n._hasValues&&(l("label0"),l("dlabel")),d){n._length=d,t(i,n,s,l,!0),l("scalegroup");var c,x=l("text"),g=l("texttemplate");if(g||(c=l("textinfo",k.isArrayOrTypedArray(x)?"text+percent":"percent")),l("hovertext"),l("hovertemplate"),g||c&&c!=="none"){var p=l("textposition");b(i,n,s,l,p,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(p)||p==="auto"||p==="outside")&&l("automargin"),(p==="inside"||p==="auto"||Array.isArray(p))&&l("insidetextorientation")}w(n,s,l);var v=l("hole");if(l("title.text")){var y=l("title.position",v?"middle center":"top center");v||y!=="middle center"||(n.title.position="top center"),k.coerceFont(l,"title.font",s.font)}l("sort"),l("direction"),l("rotation"),l("pull")}else n.visible=!1}}},53644:function(Y,P,e){var A=e(10624).appendArrayMultiPointValues;Y.exports=function(k,a){var w={curveNumber:a.index,pointNumbers:k.pts,data:a._input,fullData:a,label:k.label,color:k.color,value:k.v,percent:k.percent,text:k.text,bbox:k.bbox,v:k.v};return k.pts.length===1&&(w.pointNumber=w.i=k.pts[0]),A(w,a,k.pts),a.type==="funnelarea"&&(delete w.v,delete w.i),w}},21552:function(Y,P,e){var A=e(43616),k=e(76308);Y.exports=function(a,w,b,h){var o=b.marker.pattern;o&&o.shape?A.pointStyle(a,b,h,w):k.fill(a,w.color)}},69656:function(Y,P,e){var A=e(3400);function k(a){return a.indexOf("e")!==-1?a.replace(/[.]?0+e/,"e"):a.indexOf(".")!==-1?a.replace(/[.]?0+$/,""):a}P.formatPiePercent=function(a,w){var b=k((100*a).toPrecision(3));return A.numSeparate(b,w)+"%"},P.formatPieValue=function(a,w){var b=k(a.toPrecision(10));return A.numSeparate(b,w)},P.getFirstFilled=function(a,w){if(A.isArrayOrTypedArray(a))for(var b=0;b<w.length;b++){var h=a[w[b]];if(h||h===0||h==="")return h}},P.castOption=function(a,w){return A.isArrayOrTypedArray(a)?P.getFirstFilled(a,w):a||void 0},P.getRotationAngle=function(a){return(a==="auto"?0:a)*Math.PI/180}},75792:function(Y,P,e){Y.exports={attributes:e(74996),supplyDefaults:e(74174).supplyDefaults,supplyLayoutDefaults:e(90248),layoutAttributes:e(85204),calc:e(45768).calc,crossTraceCalc:e(45768).crossTraceCalc,plot:e(37820).plot,style:e(22152),styleOne:e(10528),moduleType:"trace",name:"pie",basePlotModule:e(80036),categories:["pie-like","pie","showLegend"],meta:{}}},85204:function(Y){Y.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},90248:function(Y,P,e){var A=e(3400),k=e(85204);Y.exports=function(a,w){function b(h,o){return A.coerce(a,w,k,h,o)}b("hiddenlabels"),b("piecolorway",w.colorway),b("extendpiecolors")}},37820:function(Y,P,e){var A=e(33428),k=e(7316),a=e(93024),w=e(76308),b=e(43616),h=e(3400),o=h.strScale,t=h.strTranslate,i=e(72736),n=e(82744),r=n.recordMinTextSize,s=n.clearMinTextSize,l=e(78048).TEXTPAD,u=e(69656),d=e(53644),c=e(3400).isValidTextValue;function x(Z,F,j){var V=j[0],te=V.cx,Q=V.cy,$=V.trace,G=$.type==="funnelarea";"_hasHoverLabel"in $||($._hasHoverLabel=!1),"_hasHoverEvent"in $||($._hasHoverEvent=!1),Z.on("mouseover",function(X){var J=F._fullLayout,ne=F._fullData[$.index];if(!F._dragging&&J.hovermode!==!1){var ie=ne.hoverinfo;if(Array.isArray(ie)&&(ie=a.castHoverinfo({hoverinfo:[u.castOption(ie,X.pts)],_module:$._module},J,0)),ie==="all"&&(ie="label+text+value+percent+name"),ne.hovertemplate||ie!=="none"&&ie!=="skip"&&ie){var ae=X.rInscribed||0,le=te+X.pxmid[0]*(1-ae),ce=Q+X.pxmid[1]*(1-ae),pe=J.separators,ge=[];if(ie&&ie.indexOf("label")!==-1&&ge.push(X.label),X.text=u.castOption(ne.hovertext||ne.text,X.pts),ie&&ie.indexOf("text")!==-1){var me=X.text;h.isValidTextValue(me)&&ge.push(me)}X.value=X.v,X.valueLabel=u.formatPieValue(X.v,pe),ie&&ie.indexOf("value")!==-1&&ge.push(X.valueLabel),X.percent=X.v/V.vTotal,X.percentLabel=u.formatPiePercent(X.percent,pe),ie&&ie.indexOf("percent")!==-1&&ge.push(X.percentLabel);var ve=ne.hoverlabel,Me=ve.font,_e=[];a.loneHover({trace:$,x0:le-ae*V.r,x1:le+ae*V.r,y:ce,_x0:G?te+X.TL[0]:le-ae*V.r,_x1:G?te+X.TR[0]:le+ae*V.r,_y0:G?Q+X.TL[1]:ce-ae*V.r,_y1:G?Q+X.BL[1]:ce+ae*V.r,text:ge.join("<br>"),name:ne.hovertemplate||ie.indexOf("name")!==-1?ne.name:void 0,idealAlign:X.pxmid[0]<0?"left":"right",color:u.castOption(ve.bgcolor,X.pts)||X.color,borderColor:u.castOption(ve.bordercolor,X.pts),fontFamily:u.castOption(Me.family,X.pts),fontSize:u.castOption(Me.size,X.pts),fontColor:u.castOption(Me.color,X.pts),nameLength:u.castOption(ve.namelength,X.pts),textAlign:u.castOption(ve.align,X.pts),hovertemplate:u.castOption(ne.hovertemplate,X.pts),hovertemplateLabels:X,eventData:[d(X,ne)]},{container:J._hoverlayer.node(),outerContainer:J._paper.node(),gd:F,inOut_bbox:_e}),X.bbox=_e[0],$._hasHoverLabel=!0}$._hasHoverEvent=!0,F.emit("plotly_hover",{points:[d(X,ne)],event:A.event})}}),Z.on("mouseout",function(X){var J=F._fullLayout,ne=F._fullData[$.index],ie=A.select(this).datum();$._hasHoverEvent&&(X.originalEvent=A.event,F.emit("plotly_unhover",{points:[d(ie,ne)],event:A.event}),$._hasHoverEvent=!1),$._hasHoverLabel&&(a.loneUnhover(J._hoverlayer.node()),$._hasHoverLabel=!1)}),Z.on("click",function(X){var J=F._fullLayout,ne=F._fullData[$.index];F._dragging||J.hovermode===!1||(F._hoverdata=[d(X,ne)],a.click(F,A.event))})}function g(Z,F,j){var V=u.castOption(Z.insidetextfont.color,F.pts);!V&&Z._input.textfont&&(V=u.castOption(Z._input.textfont.color,F.pts));var te=u.castOption(Z.insidetextfont.family,F.pts)||u.castOption(Z.textfont.family,F.pts)||j.family,Q=u.castOption(Z.insidetextfont.size,F.pts)||u.castOption(Z.textfont.size,F.pts)||j.size;return{color:V||w.contrast(F.color),family:te,size:Q}}function p(Z,F){for(var j,V,te=0;te<Z.length;te++)if((V=(j=Z[te][0]).trace).title.text){var Q=V.title.text;V._meta&&(Q=h.templateString(Q,V._meta));var $=b.tester.append("text").attr("data-notex",1).text(Q).call(b.font,V.title.font).call(i.convertToTspans,F),G=b.bBox($.node(),!0);j.titleBox={width:G.width,height:G.height},$.remove()}}function v(Z,F,j){var V=j.r||F.rpx1,te=F.rInscribed;if(F.startangle===F.stopangle)return{rCenter:1-te,scale:0,rotate:0,textPosAngle:0};var Q,$=F.ring,G=$===1&&Math.abs(F.startangle-F.stopangle)===2*Math.PI,X=F.halfangle,J=F.midangle,ne=j.trace.insidetextorientation,ie=ne==="horizontal",ae=ne==="tangential",le=ne==="radial",ce=ne==="auto",pe=[];if(!ce){var ge,me=function(se,de){if(function(Le,Oe){var he=Le.startangle,xe=Le.stopangle;return he>Oe&&Oe>xe||he<Oe&&Oe<xe}(F,se)){var Ee=Math.abs(se-F.startangle),Te=Math.abs(se-F.stopangle),Se=Ee<Te?Ee:Te;(Q=de==="tan"?m(Z,V,$,Se,0):y(Z,V,$,Se,Math.PI/2)).textPosAngle=se,pe.push(Q)}};if(ie||ae){for(ge=4;ge>=-4;ge-=2)me(Math.PI*ge,"tan");for(ge=4;ge>=-4;ge-=2)me(Math.PI*(ge+1),"tan")}if(ie||le){for(ge=4;ge>=-4;ge-=2)me(Math.PI*(ge+1.5),"rad");for(ge=4;ge>=-4;ge-=2)me(Math.PI*(ge+.5),"rad")}}if(G||ce||ie){var ve=Math.sqrt(Z.width*Z.width+Z.height*Z.height);if((Q={scale:te*V*2/ve,rCenter:1-te,rotate:0}).textPosAngle=(F.startangle+F.stopangle)/2,Q.scale>=1)return Q;pe.push(Q)}(ce||le)&&((Q=y(Z,V,$,X,J)).textPosAngle=(F.startangle+F.stopangle)/2,pe.push(Q)),(ce||ae)&&((Q=m(Z,V,$,X,J)).textPosAngle=(F.startangle+F.stopangle)/2,pe.push(Q));for(var Me=0,_e=0,we=0;we<pe.length;we++){var oe=pe[we].scale;if(_e<oe&&(_e=oe,Me=we),!ce&&_e>=1)break}return pe[Me]}function y(Z,F,j,V,te){F=Math.max(0,F-2*l);var Q=Z.width/Z.height,$=S(Q,V,F,j);return{scale:2*$/Z.height,rCenter:_(Q,$/F),rotate:f(te)}}function m(Z,F,j,V,te){F=Math.max(0,F-2*l);var Q=Z.height/Z.width,$=S(Q,V,F,j);return{scale:2*$/Z.width,rCenter:_(Q,$/F),rotate:f(te+Math.PI/2)}}function _(Z,F){return Math.cos(F)-Z*F}function f(Z){return(180/Math.PI*Z+720)%180-90}function S(Z,F,j,V){var te=Z+1/(2*Math.tan(F));return j*Math.min(1/(Math.sqrt(te*te+.5)+te),V/(Math.sqrt(Z*Z+V/2)+Z))}function T(Z,F){return Z.v!==F.vTotal||F.trace.hole?Math.min(1/(1+1/Math.sin(Z.halfangle)),Z.ring/2):1}function E(Z,F){var j=F.pxmid[0],V=F.pxmid[1],te=Z.width/2,Q=Z.height/2;return j<0&&(te*=-1),V<0&&(Q*=-1),{scale:1,rCenter:1,rotate:0,x:te+Math.abs(Q)*(te>0?1:-1)/2,y:Q/(1+j*j/(V*V)),outside:!0}}function C(Z,F){var j,V,te,Q=Z.trace,$={x:Z.cx,y:Z.cy},G={tx:0,ty:0};G.ty+=Q.title.font.size,te=I(Q),Q.title.position.indexOf("top")!==-1?($.y-=(1+te)*Z.r,G.ty-=Z.titleBox.height):Q.title.position.indexOf("bottom")!==-1&&($.y+=(1+te)*Z.r);var X,J=Z.r/((X=Z.trace.aspectratio)===void 0?1:X),ne=F.w*(Q.domain.x[1]-Q.domain.x[0])/2;return Q.title.position.indexOf("left")!==-1?(ne+=J,$.x-=(1+te)*J,G.tx+=Z.titleBox.width/2):Q.title.position.indexOf("center")!==-1?ne*=2:Q.title.position.indexOf("right")!==-1&&(ne+=J,$.x+=(1+te)*J,G.tx-=Z.titleBox.width/2),j=ne/Z.titleBox.width,V=O(Z,F)/Z.titleBox.height,{x:$.x,y:$.y,scale:Math.min(j,V),tx:G.tx,ty:G.ty}}function O(Z,F){var j=Z.trace,V=F.h*(j.domain.y[1]-j.domain.y[0]);return Math.min(Z.titleBox.height,V/2)}function I(Z){var F,j=Z.pull;if(!j)return 0;if(h.isArrayOrTypedArray(j))for(j=0,F=0;F<Z.pull.length;F++)Z.pull[F]>j&&(j=Z.pull[F]);return j}function z(Z,F){for(var j=[],V=0;V<Z.length;V++){var te=Z[V][0],Q=te.trace,$=Q.domain,G=F.w*($.x[1]-$.x[0]),X=F.h*($.y[1]-$.y[0]);Q.title.text&&Q.title.position!=="middle center"&&(X-=O(te,F));var J=G/2,ne=X/2;Q.type!=="funnelarea"||Q.scalegroup||(ne/=Q.aspectratio),te.r=Math.min(J,ne)/(1+I(Q)),te.cx=F.l+F.w*(Q.domain.x[1]+Q.domain.x[0])/2,te.cy=F.t+F.h*(1-Q.domain.y[0])-X/2,Q.title.text&&Q.title.position.indexOf("bottom")!==-1&&(te.cy-=O(te,F)),Q.scalegroup&&j.indexOf(Q.scalegroup)===-1&&j.push(Q.scalegroup)}(function(ie,ae){for(var le,ce,pe,ge=0;ge<ae.length;ge++){var me=1/0,ve=ae[ge];for(ce=0;ce<ie.length;ce++)if((pe=(le=ie[ce][0]).trace).scalegroup===ve){var Me;if(pe.type==="pie")Me=le.r*le.r;else if(pe.type==="funnelarea"){var _e,we;pe.aspectratio>1?we=(_e=le.r)/pe.aspectratio:_e=(we=le.r)*pe.aspectratio,Me=(_e*=(1+pe.baseratio)/2)*we}me=Math.min(me,Me/le.vTotal)}for(ce=0;ce<ie.length;ce++)if((pe=(le=ie[ce][0]).trace).scalegroup===ve){var oe=me*le.vTotal;pe.type==="funnelarea"&&(oe/=(1+pe.baseratio)/2,oe/=pe.aspectratio),le.r=Math.sqrt(oe)}}})(Z,j)}function U(Z,F){return[Z*Math.sin(F),-Z*Math.cos(F)]}function D(Z,F,j){var V=Z._fullLayout,te=j.trace,Q=te.texttemplate,$=te.textinfo;if(!Q&&$&&$!=="none"){var G,X=$.split("+"),J=function(Me){return X.indexOf(Me)!==-1},ne=J("label"),ie=J("text"),ae=J("value"),le=J("percent"),ce=V.separators;if(G=ne?[F.label]:[],ie){var pe=u.getFirstFilled(te.text,F.pts);c(pe)&&G.push(pe)}ae&&G.push(u.formatPieValue(F.v,ce)),le&&G.push(u.formatPiePercent(F.v/j.vTotal,ce)),F.text=G.join("<br>")}if(Q){var ge=h.castOption(te,F.i,"texttemplate");if(ge){var me=function(Me){return{label:Me.label,value:Me.v,valueLabel:u.formatPieValue(Me.v,V.separators),percent:Me.v/j.vTotal,percentLabel:u.formatPiePercent(Me.v/j.vTotal,V.separators),color:Me.color,text:Me.text,customdata:h.castOption(te,Me.i,"customdata")}}(F),ve=u.getFirstFilled(te.text,F.pts);(c(ve)||ve==="")&&(me.text=ve),F.text=h.texttemplateString(ge,me,Z._fullLayout._d3locale,me,te._meta||{})}else F.text=""}}function B(Z,F){var j=Z.rotate*Math.PI/180,V=Math.cos(j),te=Math.sin(j),Q=(F.left+F.right)/2,$=(F.top+F.bottom)/2;Z.textX=Q*V-$*te,Z.textY=Q*te+$*V,Z.noCenter=!0}Y.exports={plot:function(Z,F){var j=Z._context.staticPlot,V=Z._fullLayout,te=V._size;s("pie",V),p(F,Z),z(F,te);var Q=h.makeTraceGroups(V._pielayer,F,"trace").each(function($){var G=A.select(this),X=$[0],J=X.trace;(function(ne){var ie,ae,le,ce=ne[0],pe=ce.r,ge=ce.trace,me=u.getRotationAngle(ge.rotation),ve=2*Math.PI/ce.vTotal,Me="px0",_e="px1";if(ge.direction==="counterclockwise"){for(ie=0;ie<ne.length&&ne[ie].hidden;ie++);if(ie===ne.length)return;me+=ve*ne[ie].v,ve*=-1,Me="px1",_e="px0"}for(le=U(pe,me),ie=0;ie<ne.length;ie++)(ae=ne[ie]).hidden||(ae[Me]=le,ae.startangle=me,me+=ve*ae.v/2,ae.pxmid=U(pe,me),ae.midangle=me,le=U(pe,me+=ve*ae.v/2),ae.stopangle=me,ae[_e]=le,ae.largeArc=ae.v>ce.vTotal/2?1:0,ae.halfangle=Math.PI*Math.min(ae.v/ce.vTotal,.5),ae.ring=1-ge.hole,ae.rInscribed=T(ae,ce))})($),G.attr("stroke-linejoin","round"),G.each(function(){var ne=A.select(this).selectAll("g.slice").data($);ne.enter().append("g").classed("slice",!0),ne.exit().remove();var ie=[[[],[]],[[],[]]],ae=!1;ne.each(function(_e,we){if(_e.hidden)A.select(this).selectAll("path,g").remove();else{_e.pointNumber=_e.i,_e.curveNumber=J.index,ie[_e.pxmid[1]<0?0:1][_e.pxmid[0]<0?0:1].push(_e);var oe=X.cx,se=X.cy,de=A.select(this),Ee=de.selectAll("path.surface").data([_e]);if(Ee.enter().append("path").classed("surface",!0).style({"pointer-events":j?"none":"all"}),de.call(x,Z,$),J.pull){var Te=+u.castOption(J.pull,_e.pts)||0;Te>0&&(oe+=Te*_e.pxmid[0],se+=Te*_e.pxmid[1])}_e.cxFinal=oe,_e.cyFinal=se;var Se=J.hole;if(_e.v===X.vTotal){var Le="M"+(oe+_e.px0[0])+","+(se+_e.px0[1])+Re(_e.px0,_e.pxmid,!0,1)+Re(_e.pxmid,_e.px0,!0,1)+"Z";Se?Ee.attr("d","M"+(oe+Se*_e.px0[0])+","+(se+Se*_e.px0[1])+Re(_e.px0,_e.pxmid,!1,Se)+Re(_e.pxmid,_e.px0,!1,Se)+"Z"+Le):Ee.attr("d",Le)}else{var Oe=Re(_e.px0,_e.px1,!0,1);if(Se){var he=1-Se;Ee.attr("d","M"+(oe+Se*_e.px1[0])+","+(se+Se*_e.px1[1])+Re(_e.px1,_e.px0,!1,Se)+"l"+he*_e.px0[0]+","+he*_e.px0[1]+Oe+"Z")}else Ee.attr("d","M"+oe+","+se+"l"+_e.px0[0]+","+_e.px0[1]+Oe+"Z")}D(Z,_e,X);var xe=u.castOption(J.textposition,_e.pts),ke=de.selectAll("g.slicetext").data(_e.text&&xe!=="none"?[0]:[]);ke.enter().append("g").classed("slicetext",!0),ke.exit().remove(),ke.each(function(){var ze=h.ensureSingle(A.select(this),"text","",function(_t){_t.attr("data-notex",1)}),Ie=h.ensureUniformFontSize(Z,xe==="outside"?function(_t,xt,et){return{color:u.castOption(_t.outsidetextfont.color,xt.pts)||u.castOption(_t.textfont.color,xt.pts)||et.color,family:u.castOption(_t.outsidetextfont.family,xt.pts)||u.castOption(_t.textfont.family,xt.pts)||et.family,size:u.castOption(_t.outsidetextfont.size,xt.pts)||u.castOption(_t.textfont.size,xt.pts)||et.size}}(J,_e,V.font):g(J,_e,V.font));ze.text(_e.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(b.font,Ie).call(i.convertToTspans,Z);var He,qe=b.bBox(ze.node());if(xe==="outside")He=E(qe,_e);else if(He=v(qe,_e,X),xe==="auto"&&He.scale<1){var Je=h.ensureUniformFontSize(Z,J.outsidetextfont);ze.call(b.font,Je),He=E(qe=b.bBox(ze.node()),_e)}var st=He.textPosAngle,it=st===void 0?_e.pxmid:U(X.r,st);if(He.targetX=oe+it[0]*He.rCenter+(He.x||0),He.targetY=se+it[1]*He.rCenter+(He.y||0),B(He,qe),He.outside){var vt=He.targetY;_e.yLabelMin=vt-qe.height/2,_e.yLabelMid=vt,_e.yLabelMax=vt+qe.height/2,_e.labelExtraX=0,_e.labelExtraY=0,ae=!0}He.fontSize=Ie.size,r(J.type,He,V),$[we].transform=He,h.setTransormAndDisplay(ze,He)})}function Re(ze,Ie,He,qe){var Je=qe*(Ie[0]-ze[0]),st=qe*(Ie[1]-ze[1]);return"a"+qe*X.r+","+qe*X.r+" 0 "+_e.largeArc+(He?" 1 ":" 0 ")+Je+","+st}});var le=A.select(this).selectAll("g.titletext").data(J.title.text?[0]:[]);if(le.enter().append("g").classed("titletext",!0),le.exit().remove(),le.each(function(){var _e,we=h.ensureSingle(A.select(this),"text","",function(se){se.attr("data-notex",1)}),oe=J.title.text;J._meta&&(oe=h.templateString(oe,J._meta)),we.text(oe).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(b.font,J.title.font).call(i.convertToTspans,Z),_e=J.title.position==="middle center"?function(se){var de=Math.sqrt(se.titleBox.width*se.titleBox.width+se.titleBox.height*se.titleBox.height);return{x:se.cx,y:se.cy,scale:se.trace.hole*se.r*2/de,tx:0,ty:-se.titleBox.height/2+se.trace.title.font.size}}(X):C(X,te),we.attr("transform",t(_e.x,_e.y)+o(Math.min(1,_e.scale))+t(_e.tx,_e.ty))}),ae&&function(_e,we){var oe,se,de,Ee,Te,Se,Le,Oe,he,xe,ke,Re,ze;function Ie(st,it){return st.pxmid[1]-it.pxmid[1]}function He(st,it){return it.pxmid[1]-st.pxmid[1]}function qe(st,it){it||(it={});var vt,_t,xt,et,nt=it.labelExtraY+(se?it.yLabelMax:it.yLabelMin),Mt=se?st.yLabelMin:st.yLabelMax,zt=se?st.yLabelMax:st.yLabelMin,Ft=st.cyFinal+Te(st.px0[1],st.px1[1]),Rt=nt-Mt;if(Rt*Le>0&&(st.labelExtraY=Rt),h.isArrayOrTypedArray(we.pull))for(_t=0;_t<xe.length;_t++)(xt=xe[_t])===st||(u.castOption(we.pull,st.pts)||0)>=(u.castOption(we.pull,xt.pts)||0)||((st.pxmid[1]-xt.pxmid[1])*Le>0?(Rt=xt.cyFinal+Te(xt.px0[1],xt.px1[1])-Mt-st.labelExtraY)*Le>0&&(st.labelExtraY+=Rt):(zt+st.labelExtraY-Ft)*Le>0&&(vt=3*Se*Math.abs(_t-xe.indexOf(st)),(et=xt.cxFinal+Ee(xt.px0[0],xt.px1[0])+vt-(st.cxFinal+st.pxmid[0])-st.labelExtraX)*Se>0&&(st.labelExtraX+=et)))}for(se=0;se<2;se++)for(de=se?Ie:He,Te=se?Math.max:Math.min,Le=se?1:-1,oe=0;oe<2;oe++){for(Ee=oe?Math.max:Math.min,Se=oe?1:-1,(Oe=_e[se][oe]).sort(de),he=_e[1-se][oe],xe=he.concat(Oe),Re=[],ke=0;ke<Oe.length;ke++)Oe[ke].yLabelMid!==void 0&&Re.push(Oe[ke]);for(ze=!1,ke=0;se&&ke<he.length;ke++)if(he[ke].yLabelMid!==void 0){ze=he[ke];break}for(ke=0;ke<Re.length;ke++){var Je=ke&&Re[ke-1];ze&&!ke&&(Je=ze),qe(Re[ke],Je)}}}(ie,J),function(_e,we){_e.each(function(oe){var se=A.select(this);if(oe.labelExtraX||oe.labelExtraY){var de=se.select("g.slicetext text");oe.transform.targetX+=oe.labelExtraX,oe.transform.targetY+=oe.labelExtraY,h.setTransormAndDisplay(de,oe.transform);var Ee=oe.cxFinal+oe.pxmid[0],Te="M"+Ee+","+(oe.cyFinal+oe.pxmid[1]),Se=(oe.yLabelMax-oe.yLabelMin)*(oe.pxmid[0]<0?-1:1)/4;if(oe.labelExtraX){var Le=oe.labelExtraX*oe.pxmid[1]/oe.pxmid[0],Oe=oe.yLabelMid+oe.labelExtraY-(oe.cyFinal+oe.pxmid[1]);Math.abs(Le)>Math.abs(Oe)?Te+="l"+Oe*oe.pxmid[0]/oe.pxmid[1]+","+Oe+"H"+(Ee+oe.labelExtraX+Se):Te+="l"+oe.labelExtraX+","+Le+"v"+(Oe-Le)+"h"+Se}else Te+="V"+(oe.yLabelMid+oe.labelExtraY)+"h"+Se;h.ensureSingle(se,"path","textline").call(w.stroke,we.outsidetextfont.color).attr({"stroke-width":Math.min(2,we.outsidetextfont.size/8),d:Te,fill:"none"})}else se.select("path.textline").remove()})}(ne,J),ae&&J.automargin){var ce=b.bBox(G.node()),pe=J.domain,ge=te.w*(pe.x[1]-pe.x[0]),me=te.h*(pe.y[1]-pe.y[0]),ve=(.5*ge-X.r)/te.w,Me=(.5*me-X.r)/te.h;k.autoMargin(Z,"pie."+J.uid+".automargin",{xl:pe.x[0]-ve,xr:pe.x[1]+ve,yb:pe.y[0]-Me,yt:pe.y[1]+Me,l:Math.max(X.cx-X.r-ce.left,0),r:Math.max(ce.right-(X.cx+X.r),0),b:Math.max(ce.bottom-(X.cy+X.r),0),t:Math.max(X.cy-X.r-ce.top,0),pad:5})}})});setTimeout(function(){Q.selectAll("tspan").each(function(){var $=A.select(this);$.attr("dy")&&$.attr("dy",$.attr("dy"))})},0)},formatSliceLabel:D,transformInsideText:v,determineInsideTextFont:g,positionTitleOutside:C,prerenderTitles:p,layoutAreas:z,attachFxHandlers:x,computeTransform:B}},22152:function(Y,P,e){var A=e(33428),k=e(10528),a=e(82744).resizeText;Y.exports=function(w){var b=w._fullLayout._pielayer.selectAll(".trace");a(w,b,"pie"),b.each(function(h){var o=h[0].trace,t=A.select(this);t.style({opacity:o.opacity}),t.selectAll("path.surface").each(function(i){A.select(this).call(k,i,o,w)})})}},10528:function(Y,P,e){var A=e(76308),k=e(69656).castOption,a=e(21552);Y.exports=function(w,b,h,o){var t=h.marker.line,i=k(t.color,b.pts)||A.defaultLine,n=k(t.width,b.pts)||0;w.call(a,b,h,o).style("stroke-width",n).call(A.stroke,i)}},35484:function(Y,P,e){var A=e(52904);Y.exports={x:A.x,y:A.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:A.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},11072:function(Y,P,e){var A=e(67792).gl_pointcloud2d,k=e(3400).isArrayOrTypedArray,a=e(43080),w=e(19280).findExtremes,b=e(44928);function h(t,i){this.scene=t,this.uid=i,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=A(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var o=h.prototype;o.handlePick=function(t){var i=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*i],this.pickXYData[2*i+1]]:[this.pickXData[i],this.pickYData[i]],textLabel:k(this.textLabels)?this.textLabels[i]:this.textLabels,color:this.color,name:this.name,pointIndex:i,hoverinfo:this.hoverinfo}},o.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=b(t,{})},o.updateFast=function(t){var i,n,r,s,l,u,d=this.xData=this.pickXData=t.x,c=this.yData=this.pickYData=t.y,x=this.pickXYData=t.xy,g=t.xbounds&&t.ybounds,p=t.indices,v=this.bounds;if(x){if(r=x,i=x.length>>>1,g)v[0]=t.xbounds[0],v[2]=t.xbounds[1],v[1]=t.ybounds[0],v[3]=t.ybounds[1];else for(u=0;u<i;u++)s=r[2*u],l=r[2*u+1],s<v[0]&&(v[0]=s),s>v[2]&&(v[2]=s),l<v[1]&&(v[1]=l),l>v[3]&&(v[3]=l);if(p)n=p;else for(n=new Int32Array(i),u=0;u<i;u++)n[u]=u}else for(i=d.length,r=new Float32Array(2*i),n=new Int32Array(i),u=0;u<i;u++)s=d[u],l=c[u],n[u]=u,r[2*u]=s,r[2*u+1]=l,s<v[0]&&(v[0]=s),s>v[2]&&(v[2]=s),l<v[1]&&(v[1]=l),l>v[3]&&(v[3]=l);this.idToIndex=n,this.pointcloudOptions.idToIndex=n,this.pointcloudOptions.positions=r;var y=a(t.marker.color),m=a(t.marker.border.color),_=t.opacity*t.marker.opacity;y[3]*=_,this.pointcloudOptions.color=y;var f=t.marker.blend;f===null&&(f=d.length<100||c.length<100),this.pointcloudOptions.blend=f,m[3]*=_,this.pointcloudOptions.borderColor=m;var S=t.marker.sizemin,T=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=S,this.pointcloudOptions.sizeMax=T,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var E=this.scene.xaxis,C=this.scene.yaxis,O=T/2||.5;t._extremes[E._id]=w(E,[v[0],v[2]],{ppad:O}),t._extremes[C._id]=w(C,[v[1],v[3]],{ppad:O})},o.dispose=function(){this.pointcloud.dispose()},Y.exports=function(t,i){var n=new h(t,i.uid);return n.update(i),n}},41904:function(Y,P,e){var A=e(3400),k=e(35484);Y.exports=function(a,w,b){function h(o,t){return A.coerce(a,w,k,o,t)}h("x"),h("y"),h("xbounds"),h("ybounds"),a.xy&&a.xy instanceof Float32Array&&(w.xy=a.xy),a.indices&&a.indices instanceof Int32Array&&(w.indices=a.indices),h("text"),h("marker.color",b),h("marker.opacity"),h("marker.blend"),h("marker.sizemin"),h("marker.sizemax"),h("marker.border.color",b),h("marker.border.arearatio"),w._length=null}},156:function(Y,P,e){Y.exports={attributes:e(35484),supplyDefaults:e(41904),calc:e(41484),plot:e(11072),moduleType:"trace",name:"pointcloud",basePlotModule:e(39952),categories:["gl","gl2d","showLegend"],meta:{}}},41440:function(Y,P,e){var A=e(25376),k=e(45464),a=e(22548),w=e(55756),b=e(86968).u,h=e(21776).Ks,o=e(49084),t=e(31780).templatedArray,i=e(29736).descriptionOnlyNumbers,n=e(92880).extendFlat,r=e(67824).overrideAll;(Y.exports=r({hoverinfo:n({},k.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:w.hoverlabel,domain:b({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:i("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:A({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:w.hoverlabel,hovertemplate:h({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},hovercolor:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:w.hoverlabel,hovertemplate:h({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:n(o().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},10760:function(Y,P,e){var A=e(67824).overrideAll,k=e(84888)._M,a=e(59596),w=e(65460),b=e(93972),h=e(86476),o=e(22676).prepSelect,t=e(3400),i=e(24040),n="sankey";function r(s,l){var u=s._fullData[l],d=s._fullLayout,c=d.dragmode,x=d.dragmode==="pan"?"move":"crosshair",g=u._bgRect;if(g&&c!=="pan"&&c!=="zoom"){b(g,x);var p={_id:"x",c2p:t.identity,_offset:u._sankey.translateX,_length:u._sankey.width},v={_id:"y",c2p:t.identity,_offset:u._sankey.translateY,_length:u._sankey.height},y={gd:s,element:g.node(),plotinfo:{id:l,xaxis:p,yaxis:v,fillRangeItems:t.noop},subplot:l,xaxes:[p],yaxes:[v],doneFnCompleted:function(m){var _,f=s._fullData[l],S=f.node.groups.slice(),T=[];function E(z){for(var U=f._sankey.graph.nodes,D=0;D<U.length;D++)if(U[D].pointNumber===z)return U[D]}for(var C=0;C<m.length;C++){var O=E(m[C].pointNumber);if(O)if(O.group){for(var I=0;I<O.childrenNodes.length;I++)T.push(O.childrenNodes[I].pointNumber);S[O.pointNumber-f.node._count]=!1}else T.push(O.pointNumber)}_=S.filter(Boolean).concat([T]),i.call("_guiRestyle",s,{"node.groups":[_]},l)},prepFn:function(m,_,f){o(m,_,f,y,c)}};h.init(y)}}P.name=n,P.baseLayoutAttrOverrides=A({hoverlabel:w.hoverlabel},"plot","nested"),P.plot=function(s){var l=k(s.calcdata,n)[0];a(s,l),P.updateFx(s)},P.clean=function(s,l,u,d){var c=d._has&&d._has(n),x=l._has&&l._has(n);c&&!x&&(d._paperdiv.selectAll(".sankey").remove(),d._paperdiv.selectAll(".bgsankey").remove())},P.updateFx=function(s){for(var l=0;l<s._fullData.length;l++)r(s,l)}},48068:function(Y,P,e){var A=e(78484),k=e(3400),a=e(71688).wrap,w=k.isArrayOrTypedArray,b=k.isIndex,h=e(8932);Y.exports=function(o,t){var i=function(n){var r,s=n.node,l=n.link,u=[],d=w(l.color),c=w(l.hovercolor),x=w(l.customdata),g={},p={},v=l.colorscales.length;for(r=0;r<v;r++){var y=l.colorscales[r],m=h.extractScale(y,{cLetter:"c"}),_=h.makeColorScaleFunc(m);p[y.label]=_}var f=0;for(r=0;r<l.value.length;r++)l.source[r]>f&&(f=l.source[r]),l.target[r]>f&&(f=l.target[r]);var S,T=f+1;n.node._count=T;var E=n.node.groups,C={};for(r=0;r<E.length;r++){var O=E[r];for(S=0;S<O.length;S++){var I=O[S],z=T+r;C.hasOwnProperty(I)?k.warn("Node "+I+" is already part of a group."):C[I]=z}}var U={source:[],target:[]};for(r=0;r<l.value.length;r++){var D=l.value[r],B=l.source[r],Z=l.target[r];if(D>0&&b(B,T)&&b(Z,T)&&(!C.hasOwnProperty(B)||!C.hasOwnProperty(Z)||C[B]!==C[Z])){C.hasOwnProperty(Z)&&(Z=C[Z]),C.hasOwnProperty(B)&&(B=C[B]),Z=+Z,g[B=+B]=g[Z]=!0;var F="";l.label&&l.label[r]&&(F=l.label[r]);var j=null;F&&p.hasOwnProperty(F)&&(j=p[F]),u.push({pointNumber:r,label:F,color:d?l.color[r]:l.color,hovercolor:c?l.hovercolor[r]:l.hovercolor,customdata:x?l.customdata[r]:l.customdata,concentrationscale:j,source:B,target:Z,value:+D}),U.source.push(B),U.target.push(Z)}}var V=T+E.length,te=w(s.color),Q=w(s.customdata),$=[];for(r=0;r<V;r++)if(g[r]){var G=s.label[r];$.push({group:r>T-1,childrenNodes:[],pointNumber:r,label:G,color:te?s.color[r]:s.color,customdata:Q?s.customdata[r]:s.customdata})}var X=!1;return function(J,ne,ie){for(var ae=k.init2dArray(J,0),le=0;le<Math.min(ne.length,ie.length);le++)if(k.isIndex(ne[le],J)&&k.isIndex(ie[le],J)){if(ne[le]===ie[le])return!0;ae[ne[le]].push(ie[le])}return A(ae).components.some(function(ce){return ce.length>1})}(V,U.source,U.target)&&(X=!0),{circular:X,links:u,nodes:$,groups:E,groupLookup:C}}(t);return a({circular:i.circular,_nodes:i.nodes,_links:i.links,_groups:i.groups,_groupLookup:i.groupLookup})}},11820:function(Y){Y.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},47140:function(Y,P,e){var A=e(3400),k=e(41440),a=e(76308),w=e(49760),b=e(86968).Q,h=e(16132),o=e(31780),t=e(51272);function i(n,r){function s(l,u){return A.coerce(n,r,k.link.colorscales,l,u)}s("label"),s("cmin"),s("cmax"),s("colorscale")}Y.exports=function(n,r,s,l){function u(E,C){return A.coerce(n,r,k,E,C)}var d=A.extendDeep(l.hoverlabel,n.hoverlabel),c=n.node,x=o.newContainer(r,"node");function g(E,C){return A.coerce(c,x,k.node,E,C)}g("label"),g("groups"),g("x"),g("y"),g("pad"),g("thickness"),g("line.color"),g("line.width"),g("hoverinfo",n.hoverinfo),h(c,x,g,d),g("hovertemplate"),g("align");var p=l.colorway;g("color",x.label.map(function(E,C){return a.addOpacity(function(O){return p[O%p.length]}(C),.8)})),g("customdata");var v=n.link||{},y=o.newContainer(r,"link");function m(E,C){return A.coerce(v,y,k.link,E,C)}m("label"),m("arrowlen"),m("source"),m("target"),m("value"),m("line.color"),m("line.width"),m("hoverinfo",n.hoverinfo),h(v,y,m,d),m("hovertemplate");var _,f=w(l.paper_bgcolor).getLuminance()<.333,S=m("color",f?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)");function T(E){var C=w(E);if(!C.isValid())return E;var O=C.getAlpha();return O<=.8?C.setAlpha(O+.2):C=f?C.brighten():C.darken(),C.toRgbString()}m("hovercolor",Array.isArray(S)?S.map(T):T(S)),m("customdata"),t(v,y,{name:"colorscales",handleItemDefaults:i}),b(r,l,u),u("orientation"),u("valueformat"),u("valuesuffix"),x.x.length&&x.y.length&&(_="freeform"),u("arrangement",_),A.coerceFont(u,"textfont",A.extendFlat({},l.font)),r._length=null}},45499:function(Y,P,e){Y.exports={attributes:e(41440),supplyDefaults:e(47140),calc:e(48068),plot:e(59596),moduleType:"trace",name:"sankey",basePlotModule:e(10760),selectPoints:e(81128),categories:["noOpacity"],meta:{}}},59596:function(Y,P,e){var A=e(33428),k=e(3400),a=k.numberFormat,w=e(83248),b=e(93024),h=e(76308),o=e(11820).cn,t=k._;function i(v){return v!==""}function n(v,y){return v.filter(function(m){return m.key===y.traceId})}function r(v,y){A.select(v).select("path").style("fill-opacity",y),A.select(v).select("rect").style("fill-opacity",y)}function s(v){A.select(v).select("text.name").style("fill","black")}function l(v){return function(y){return v.node.sourceLinks.indexOf(y.link)!==-1||v.node.targetLinks.indexOf(y.link)!==-1}}function u(v){return function(y){return y.node.sourceLinks.indexOf(v.link)!==-1||y.node.targetLinks.indexOf(v.link)!==-1}}function d(v,y,m){y&&m&&n(m,y).selectAll("."+o.sankeyLink).filter(l(y)).call(x.bind(0,y,m,!1))}function c(v,y,m){y&&m&&n(m,y).selectAll("."+o.sankeyLink).filter(l(y)).call(g.bind(0,y,m,!1))}function x(v,y,m,_){_.style("fill",function(f){if(!f.link.concentrationscale)return f.tinyColorHoverHue}).style("fill-opacity",function(f){if(!f.link.concentrationscale)return f.tinyColorHoverAlpha}),_.each(function(f){var S=f.link.label;S!==""&&n(y,v).selectAll("."+o.sankeyLink).filter(function(T){return T.link.label===S}).style("fill",function(T){if(!T.link.concentrationscale)return T.tinyColorHoverHue}).style("fill-opacity",function(T){if(!T.link.concentrationscale)return T.tinyColorHoverAlpha})}),m&&n(y,v).selectAll("."+o.sankeyNode).filter(u(v)).call(d)}function g(v,y,m,_){_.style("fill",function(f){return f.tinyColorHue}).style("fill-opacity",function(f){return f.tinyColorAlpha}),_.each(function(f){var S=f.link.label;S!==""&&n(y,v).selectAll("."+o.sankeyLink).filter(function(T){return T.link.label===S}).style("fill",function(T){return T.tinyColorHue}).style("fill-opacity",function(T){return T.tinyColorAlpha})}),m&&n(y,v).selectAll(o.sankeyNode).filter(u(v)).call(c)}function p(v,y){var m=v.hoverlabel||{},_=k.nestedProperty(m,y).get();return!Array.isArray(_)&&_}Y.exports=function(v,y){for(var m=v._fullLayout,_=m._paper,f=m._size,S=0;S<v._fullData.length;S++)if(v._fullData[S].visible&&v._fullData[S].type===o.sankey&&!v._fullData[S]._viewInitial){var T=v._fullData[S].node;v._fullData[S]._viewInitial={node:{groups:T.groups.slice(),x:T.x.slice(),y:T.y.slice()}}}var E=t(v,"source:")+" ",C=t(v,"target:")+" ",O=t(v,"concentration:")+" ",I=t(v,"incoming flow count:")+" ",z=t(v,"outgoing flow count:")+" ";w(v,_,y,{width:f.w,height:f.h,margin:{t:f.t,r:f.r,b:f.b,l:f.l}},{linkEvents:{hover:function(U,D,B){v._fullLayout.hovermode!==!1&&(A.select(U).call(x.bind(0,D,B,!0)),D.link.trace.link.hoverinfo!=="skip"&&(D.link.fullData=D.link.trace,v.emit("plotly_hover",{event:A.event,points:[D.link]})))},follow:function(U,D){if(v._fullLayout.hovermode!==!1){var B=D.link.trace.link;if(B.hoverinfo!=="none"&&B.hoverinfo!=="skip"){for(var Z=[],F=0,j=0;j<D.flow.links.length;j++){var V=D.flow.links[j];if(v._fullLayout.hovermode!=="closest"||D.link.pointNumber===V.pointNumber){D.link.pointNumber===V.pointNumber&&(F=j),V.fullData=V.trace,B=D.link.trace.link;var te=$(V),Q={valueLabel:a(D.valueFormat)(V.value)+D.valueSuffix};Z.push({x:te[0],y:te[1],name:Q.valueLabel,text:[V.label||"",E+V.source.label,C+V.target.label,V.concentrationscale?O+a("%0.2f")(V.flow.labelConcentration):""].filter(i).join("<br>"),color:p(B,"bgcolor")||h.addOpacity(V.color,1),borderColor:p(B,"bordercolor"),fontFamily:p(B,"font.family"),fontSize:p(B,"font.size"),fontColor:p(B,"font.color"),nameLength:p(B,"namelength"),textAlign:p(B,"align"),idealAlign:A.event.x<te[0]?"right":"left",hovertemplate:B.hovertemplate,hovertemplateLabels:Q,eventData:[V]})}}b.loneHover(Z,{container:m._hoverlayer.node(),outerContainer:m._paper.node(),gd:v,anchorIndex:F}).each(function(){D.link.concentrationscale||r(this,.65),s(this)})}}function $(G){var X,J;G.circular?(X=(G.circularPathData.leftInnerExtent+G.circularPathData.rightInnerExtent)/2,J=G.circularPathData.verticalFullExtent):(X=(G.source.x1+G.target.x0)/2,J=(G.y0+G.y1)/2);var ne=[X,J];return G.trace.orientation==="v"&&ne.reverse(),ne[0]+=D.parent.translateX,ne[1]+=D.parent.translateY,ne}},unhover:function(U,D,B){v._fullLayout.hovermode!==!1&&(A.select(U).call(g.bind(0,D,B,!0)),D.link.trace.link.hoverinfo!=="skip"&&(D.link.fullData=D.link.trace,v.emit("plotly_unhover",{event:A.event,points:[D.link]})),b.loneUnhover(m._hoverlayer.node()))},select:function(U,D){var B=D.link;B.originalEvent=A.event,v._hoverdata=[B],b.click(v,{target:!0})}},nodeEvents:{hover:function(U,D,B){v._fullLayout.hovermode!==!1&&(A.select(U).call(d,D,B),D.node.trace.node.hoverinfo!=="skip"&&(D.node.fullData=D.node.trace,v.emit("plotly_hover",{event:A.event,points:[D.node]})))},follow:function(U,D){if(v._fullLayout.hovermode!==!1){var B=D.node.trace.node;if(B.hoverinfo!=="none"&&B.hoverinfo!=="skip"){var Z=A.select(U).select("."+o.nodeRect),F=v._fullLayout._paperdiv.node().getBoundingClientRect(),j=Z.node().getBoundingClientRect(),V=j.left-2-F.left,te=j.right+2-F.left,Q=j.top+j.height/4-F.top,$={valueLabel:a(D.valueFormat)(D.node.value)+D.valueSuffix};D.node.fullData=D.node.trace,v._fullLayout._calcInverseTransform(v);var G=v._fullLayout._invScaleX,X=v._fullLayout._invScaleY,J=b.loneHover({x0:G*V,x1:G*te,y:X*Q,name:a(D.valueFormat)(D.node.value)+D.valueSuffix,text:[D.node.label,I+D.node.targetLinks.length,z+D.node.sourceLinks.length].filter(i).join("<br>"),color:p(B,"bgcolor")||D.tinyColorHue,borderColor:p(B,"bordercolor"),fontFamily:p(B,"font.family"),fontSize:p(B,"font.size"),fontColor:p(B,"font.color"),nameLength:p(B,"namelength"),textAlign:p(B,"align"),idealAlign:"left",hovertemplate:B.hovertemplate,hovertemplateLabels:$,eventData:[D.node]},{container:m._hoverlayer.node(),outerContainer:m._paper.node(),gd:v});r(J,.85),s(J)}}},unhover:function(U,D,B){v._fullLayout.hovermode!==!1&&(A.select(U).call(c,D,B),D.node.trace.node.hoverinfo!=="skip"&&(D.node.fullData=D.node.trace,v.emit("plotly_unhover",{event:A.event,points:[D.node]})),b.loneUnhover(m._hoverlayer.node()))},select:function(U,D,B){var Z=D.node;Z.originalEvent=A.event,v._hoverdata=[Z],A.select(U).call(c,D,B),b.click(v,{target:!0})}}})}},83248:function(Y,P,e){var A=e(49812),k=e(67756).Gz,a=e(33428),w=e(26800),b=e(48932),h=e(11820),o=e(49760),t=e(76308),i=e(43616),n=e(3400),r=n.strTranslate,s=n.strRotate,l=e(71688),u=l.keyFun,d=l.repeat,c=l.unwrap,x=e(72736),g=e(24040),p=e(84284),v=p.CAP_SHIFT,y=p.LINE_SPACING;function m(j,V,te){var Q,$=c(V),G=$.trace,X=G.domain,J=G.orientation==="h",ne=G.node.pad,ie=G.node.thickness,ae={justify:w.sankeyJustify,left:w.sankeyLeft,right:w.sankeyRight,center:w.sankeyCenter}[G.node.align],le=j.width*(X.x[1]-X.x[0]),ce=j.height*(X.y[1]-X.y[0]),pe=$._nodes,ge=$._links,me=$.circular;(Q=me?b.sankeyCircular().circularLinkGap(0):w.sankey()).iterations(h.sankeyIterations).size(J?[le,ce]:[ce,le]).nodeWidth(ie).nodePadding(ne).nodeId(function(Le){return Le.pointNumber}).nodeAlign(ae).nodes(pe).links(ge);var ve,Me,_e,we=Q();for(var oe in Q.nodePadding()<ne&&n.warn("node.pad was reduced to ",Q.nodePadding()," to fit within the figure."),$._groupLookup){var se,de=parseInt($._groupLookup[oe]);for(ve=0;ve<we.nodes.length;ve++)if(we.nodes[ve].pointNumber===de){se=we.nodes[ve];break}if(se){var Ee={pointNumber:parseInt(oe),x0:se.x0,x1:se.x1,y0:se.y0,y1:se.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};we.nodes.unshift(Ee),se.childrenNodes.unshift(Ee)}}if(function(){for(ve=0;ve<we.nodes.length;ve++){var Le,Oe,he=we.nodes[ve],xe={};for(Me=0;Me<he.targetLinks.length;Me++)Le=(Oe=he.targetLinks[Me]).source.pointNumber+":"+Oe.target.pointNumber,xe.hasOwnProperty(Le)||(xe[Le]=[]),xe[Le].push(Oe);var ke=Object.keys(xe);for(Me=0;Me<ke.length;Me++){var Re=xe[Le=ke[Me]],ze=0,Ie={};for(_e=0;_e<Re.length;_e++)Ie[(Oe=Re[_e]).label]||(Ie[Oe.label]=0),Ie[Oe.label]+=Oe.value,ze+=Oe.value;for(_e=0;_e<Re.length;_e++)(Oe=Re[_e]).flow={value:ze,labelConcentration:Ie[Oe.label]/ze,concentration:Oe.value/ze,links:Re},Oe.concentrationscale&&(Oe.color=o(Oe.concentrationscale(Oe.flow.labelConcentration)))}var He=0;for(Me=0;Me<he.sourceLinks.length;Me++)He+=he.sourceLinks[Me].value;for(Me=0;Me<he.sourceLinks.length;Me++)(Oe=he.sourceLinks[Me]).concentrationOut=Oe.value/He;var qe=0;for(Me=0;Me<he.targetLinks.length;Me++)qe+=he.targetLinks[Me].value;for(Me=0;Me<he.targetLinks.length;Me++)(Oe=he.targetLinks[Me]).concenrationIn=Oe.value/qe}}(),G.node.x.length&&G.node.y.length){for(ve=0;ve<Math.min(G.node.x.length,G.node.y.length,we.nodes.length);ve++)if(G.node.x[ve]&&G.node.y[ve]){var Te=[G.node.x[ve]*le,G.node.y[ve]*ce];we.nodes[ve].x0=Te[0]-ie/2,we.nodes[ve].x1=Te[0]+ie/2;var Se=we.nodes[ve].y1-we.nodes[ve].y0;we.nodes[ve].y0=Te[1]-Se/2,we.nodes[ve].y1=Te[1]+Se/2}G.arrangement==="snap"&&function(Le){var Oe,he,xe=Le.map(function(He,qe){return{x0:He.x0,index:qe}}).sort(function(He,qe){return He.x0-qe.x0}),ke=[],Re=-1,ze=-1/0;for(ve=0;ve<xe.length;ve++){var Ie=Le[xe[ve].index];Ie.x0>ze+ie&&(Re+=1,Oe=Ie.x0),ze=Ie.x0,ke[Re]||(ke[Re]=[]),ke[Re].push(Ie),he=Oe-Ie.x0,Ie.x0+=he,Ie.x1+=he}return ke}(pe=we.nodes).forEach(function(Le){var Oe,he,xe,ke=0,Re=Le.length;for(Le.sort(function(ze,Ie){return ze.y0-Ie.y0}),xe=0;xe<Re;++xe)(Oe=Le[xe]).y0>=ke||(he=ke-Oe.y0)>1e-6&&(Oe.y0+=he,Oe.y1+=he),ke=Oe.y1+ne}),Q.update(we)}return{circular:me,key:te,trace:G,guid:n.randstr(),horizontal:J,width:le,height:ce,nodePad:G.node.pad,nodeLineColor:G.node.line.color,nodeLineWidth:G.node.line.width,linkLineColor:G.link.line.color,linkLineWidth:G.link.line.width,linkArrowLength:G.link.arrowlen,valueFormat:G.valueformat,valueSuffix:G.valuesuffix,textFont:G.textfont,translateX:X.x[0]*j.width+j.margin.l,translateY:j.height-X.y[1]*j.height+j.margin.t,dragParallel:J?ce:le,dragPerpendicular:J?le:ce,arrangement:G.arrangement,sankey:Q,graph:we,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function _(j,V,te){var Q=o(V.color),$=o(V.hovercolor),G=V.source.label+"|"+V.target.label+"__"+te;return V.trace=j.trace,V.curveNumber=j.trace.index,{circular:j.circular,key:G,traceId:j.key,pointNumber:V.pointNumber,link:V,tinyColorHue:t.tinyRGB(Q),tinyColorAlpha:Q.getAlpha(),tinyColorHoverHue:t.tinyRGB($),tinyColorHoverAlpha:$.getAlpha(),linkPath:f,linkLineColor:j.linkLineColor,linkLineWidth:j.linkLineWidth,linkArrowLength:j.linkArrowLength,valueFormat:j.valueFormat,valueSuffix:j.valueSuffix,sankey:j.sankey,parent:j,interactionState:j.interactionState,flow:V.flow}}function f(){return function(j){var V=j.linkArrowLength;if(j.link.circular)return function(ve,Me){var _e=ve.width/2,we=ve.circularPathData;return ve.circularLinkType==="top"?"M "+(we.targetX-Me)+" "+(we.targetY+_e)+" L"+(we.rightInnerExtent-Me)+" "+(we.targetY+_e)+"A"+(we.rightLargeArcRadius+_e)+" "+(we.rightSmallArcRadius+_e)+" 0 0 1 "+(we.rightFullExtent-_e-Me)+" "+(we.targetY-we.rightSmallArcRadius)+"L"+(we.rightFullExtent-_e-Me)+" "+we.verticalRightInnerExtent+"A"+(we.rightLargeArcRadius+_e)+" "+(we.rightLargeArcRadius+_e)+" 0 0 1 "+(we.rightInnerExtent-Me)+" "+(we.verticalFullExtent-_e)+"L"+we.leftInnerExtent+" "+(we.verticalFullExtent-_e)+"A"+(we.leftLargeArcRadius+_e)+" "+(we.leftLargeArcRadius+_e)+" 0 0 1 "+(we.leftFullExtent+_e)+" "+we.verticalLeftInnerExtent+"L"+(we.leftFullExtent+_e)+" "+(we.sourceY-we.leftSmallArcRadius)+"A"+(we.leftLargeArcRadius+_e)+" "+(we.leftSmallArcRadius+_e)+" 0 0 1 "+we.leftInnerExtent+" "+(we.sourceY+_e)+"L"+we.sourceX+" "+(we.sourceY+_e)+"L"+we.sourceX+" "+(we.sourceY-_e)+"L"+we.leftInnerExtent+" "+(we.sourceY-_e)+"A"+(we.leftLargeArcRadius-_e)+" "+(we.leftSmallArcRadius-_e)+" 0 0 0 "+(we.leftFullExtent-_e)+" "+(we.sourceY-we.leftSmallArcRadius)+"L"+(we.leftFullExtent-_e)+" "+we.verticalLeftInnerExtent+"A"+(we.leftLargeArcRadius-_e)+" "+(we.leftLargeArcRadius-_e)+" 0 0 0 "+we.leftInnerExtent+" "+(we.verticalFullExtent+_e)+"L"+(we.rightInnerExtent-Me)+" "+(we.verticalFullExtent+_e)+"A"+(we.rightLargeArcRadius-_e)+" "+(we.rightLargeArcRadius-_e)+" 0 0 0 "+(we.rightFullExtent+_e-Me)+" "+we.verticalRightInnerExtent+"L"+(we.rightFullExtent+_e-Me)+" "+(we.targetY-we.rightSmallArcRadius)+"A"+(we.rightLargeArcRadius-_e)+" "+(we.rightSmallArcRadius-_e)+" 0 0 0 "+(we.rightInnerExtent-Me)+" "+(we.targetY-_e)+"L"+(we.targetX-Me)+" "+(we.targetY-_e)+(Me>0?"L"+we.targetX+" "+we.targetY:"")+"Z":"M "+(we.targetX-Me)+" "+(we.targetY-_e)+" L"+(we.rightInnerExtent-Me)+" "+(we.targetY-_e)+"A"+(we.rightLargeArcRadius+_e)+" "+(we.rightSmallArcRadius+_e)+" 0 0 0 "+(we.rightFullExtent-_e-Me)+" "+(we.targetY+we.rightSmallArcRadius)+"L"+(we.rightFullExtent-_e-Me)+" "+we.verticalRightInnerExtent+"A"+(we.rightLargeArcRadius+_e)+" "+(we.rightLargeArcRadius+_e)+" 0 0 0 "+(we.rightInnerExtent-Me)+" "+(we.verticalFullExtent+_e)+"L"+we.leftInnerExtent+" "+(we.verticalFullExtent+_e)+"A"+(we.leftLargeArcRadius+_e)+" "+(we.leftLargeArcRadius+_e)+" 0 0 0 "+(we.leftFullExtent+_e)+" "+we.verticalLeftInnerExtent+"L"+(we.leftFullExtent+_e)+" "+(we.sourceY+we.leftSmallArcRadius)+"A"+(we.leftLargeArcRadius+_e)+" "+(we.leftSmallArcRadius+_e)+" 0 0 0 "+we.leftInnerExtent+" "+(we.sourceY-_e)+"L"+we.sourceX+" "+(we.sourceY-_e)+"L"+we.sourceX+" "+(we.sourceY+_e)+"L"+we.leftInnerExtent+" "+(we.sourceY+_e)+"A"+(we.leftLargeArcRadius-_e)+" "+(we.leftSmallArcRadius-_e)+" 0 0 1 "+(we.leftFullExtent-_e)+" "+(we.sourceY+we.leftSmallArcRadius)+"L"+(we.leftFullExtent-_e)+" "+we.verticalLeftInnerExtent+"A"+(we.leftLargeArcRadius-_e)+" "+(we.leftLargeArcRadius-_e)+" 0 0 1 "+we.leftInnerExtent+" "+(we.verticalFullExtent-_e)+"L"+(we.rightInnerExtent-Me)+" "+(we.verticalFullExtent-_e)+"A"+(we.rightLargeArcRadius-_e)+" "+(we.rightLargeArcRadius-_e)+" 0 0 1 "+(we.rightFullExtent+_e-Me)+" "+we.verticalRightInnerExtent+"L"+(we.rightFullExtent+_e-Me)+" "+(we.targetY+we.rightSmallArcRadius)+"A"+(we.rightLargeArcRadius-_e)+" "+(we.rightSmallArcRadius-_e)+" 0 0 1 "+(we.rightInnerExtent-Me)+" "+(we.targetY+_e)+"L"+(we.targetX-Me)+" "+(we.targetY+_e)+(Me>0?"L"+we.targetX+" "+we.targetY:"")+"Z"}(j.link,V);var te=Math.abs((j.link.target.x0-j.link.source.x1)/2);V>te&&(V=te);var Q=j.link.source.x1,$=j.link.target.x0-V,G=k(Q,$),X=G(.5),J=G(.5),ne=j.link.y0-j.link.width/2,ie=j.link.y0+j.link.width/2,ae=j.link.y1-j.link.width/2,le=j.link.y1+j.link.width/2,ce="M"+Q+","+ne,pe="C"+X+","+ne+" "+J+","+ae+" "+$+","+ae,ge="C"+J+","+le+" "+X+","+ie+" "+Q+","+ie,me=V>0?"L"+($+V)+","+(ae+j.link.width/2):"";return ce+pe+(me+="L"+$+","+le)+ge+"Z"}}function S(j,V){var te=o(V.color),Q=h.nodePadAcross,$=j.nodePad/2;V.dx=V.x1-V.x0,V.dy=V.y1-V.y0;var G=V.dx,X=Math.max(.5,V.dy),J="node_"+V.pointNumber;return V.group&&(J=n.randstr()),V.trace=j.trace,V.curveNumber=j.trace.index,{index:V.pointNumber,key:J,partOfGroup:V.partOfGroup||!1,group:V.group,traceId:j.key,trace:j.trace,node:V,nodePad:j.nodePad,nodeLineColor:j.nodeLineColor,nodeLineWidth:j.nodeLineWidth,textFont:j.textFont,size:j.horizontal?j.height:j.width,visibleWidth:Math.ceil(G),visibleHeight:X,zoneX:-Q,zoneY:-$,zoneWidth:G+2*Q,zoneHeight:X+2*$,labelY:j.horizontal?V.dy/2+1:V.dx/2+1,left:V.originalLayer===1,sizeAcross:j.width,forceLayouts:j.forceLayouts,horizontal:j.horizontal,darkBackground:te.getBrightness()<=128,tinyColorHue:t.tinyRGB(te),tinyColorAlpha:te.getAlpha(),valueFormat:j.valueFormat,valueSuffix:j.valueSuffix,sankey:j.sankey,graph:j.graph,arrangement:j.arrangement,uniqueNodeLabelPathId:[j.guid,j.key,J].join("_"),interactionState:j.interactionState,figure:j}}function T(j){j.attr("transform",function(V){return r(V.node.x0.toFixed(3),V.node.y0.toFixed(3))})}function E(j){j.call(T)}function C(j,V){j.call(E),V.attr("d",f())}function O(j){j.attr("width",function(V){return V.node.x1-V.node.x0}).attr("height",function(V){return V.visibleHeight})}function I(j){return j.link.width>1||j.linkLineWidth>0}function z(j){return r(j.translateX,j.translateY)+(j.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function U(j,V,te){j.on(".basic",null).on("mouseover.basic",function(Q){Q.interactionState.dragInProgress||Q.partOfGroup||(te.hover(this,Q,V),Q.interactionState.hovered=[this,Q])}).on("mousemove.basic",function(Q){Q.interactionState.dragInProgress||Q.partOfGroup||(te.follow(this,Q),Q.interactionState.hovered=[this,Q])}).on("mouseout.basic",function(Q){Q.interactionState.dragInProgress||Q.partOfGroup||(te.unhover(this,Q,V),Q.interactionState.hovered=!1)}).on("click.basic",function(Q){Q.interactionState.hovered&&(te.unhover(this,Q,V),Q.interactionState.hovered=!1),Q.interactionState.dragInProgress||Q.partOfGroup||te.select(this,Q,V)})}function D(j,V,te,Q){var $=a.behavior.drag().origin(function(G){return{x:G.node.x0+G.visibleWidth/2,y:G.node.y0+G.visibleHeight/2}}).on("dragstart",function(G){if(G.arrangement!=="fixed"&&(n.ensureSingle(Q._fullLayout._infolayer,"g","dragcover",function(J){Q._fullLayout._dragCover=J}),n.raiseToTop(this),G.interactionState.dragInProgress=G.node,Z(G.node),G.interactionState.hovered&&(te.nodeEvents.unhover.apply(0,G.interactionState.hovered),G.interactionState.hovered=!1),G.arrangement==="snap")){var X=G.traceId+"|"+G.key;G.forceLayouts[X]?G.forceLayouts[X].alpha(1):function(J,ne,ie,ae){(function(ce){for(var pe=0;pe<ce.length;pe++)ce[pe].y=(ce[pe].y0+ce[pe].y1)/2,ce[pe].x=(ce[pe].x0+ce[pe].x1)/2})(ie.graph.nodes);var le=ie.graph.nodes.filter(function(ce){return ce.originalX===ie.node.originalX}).filter(function(ce){return!ce.partOfGroup});ie.forceLayouts[ne]=A.forceSimulation(le).alphaDecay(0).force("collide",A.forceCollide().radius(function(ce){return ce.dy/2+ie.nodePad/2}).strength(1).iterations(h.forceIterations)).force("constrain",function(ce,pe,ge,me){return function(){for(var ve=0,Me=0;Me<ge.length;Me++){var _e=ge[Me];_e===me.interactionState.dragInProgress?(_e.x=_e.lastDraggedX,_e.y=_e.lastDraggedY):(_e.vx=(_e.originalX-_e.x)/h.forceTicksPerFrame,_e.y=Math.min(me.size-_e.dy/2,Math.max(_e.dy/2,_e.y))),ve=Math.max(ve,Math.abs(_e.vx),Math.abs(_e.vy))}!me.interactionState.dragInProgress&&ve<.1&&me.forceLayouts[pe].alpha()>0&&me.forceLayouts[pe].alpha(0)}}(0,ne,le,ie)).stop()}(0,X,G),function(J,ne,ie,ae,le){window.requestAnimationFrame(function ce(){var pe;for(pe=0;pe<h.forceTicksPerFrame;pe++)ie.forceLayouts[ae].tick();if(function(me){for(var ve=0;ve<me.length;ve++)me[ve].y0=me[ve].y-me[ve].dy/2,me[ve].y1=me[ve].y0+me[ve].dy,me[ve].x0=me[ve].x-me[ve].dx/2,me[ve].x1=me[ve].x0+me[ve].dx}(ie.graph.nodes),ie.sankey.update(ie.graph),C(J.filter(F(ie)),ne),ie.forceLayouts[ae].alpha()>0)window.requestAnimationFrame(ce);else{var ge=ie.node.originalX;ie.node.x0=ge-ie.visibleWidth/2,ie.node.x1=ge+ie.visibleWidth/2,B(ie,le)}})}(j,V,G,X,Q)}}).on("drag",function(G){if(G.arrangement!=="fixed"){var X=a.event.x,J=a.event.y;G.arrangement==="snap"?(G.node.x0=X-G.visibleWidth/2,G.node.x1=X+G.visibleWidth/2,G.node.y0=J-G.visibleHeight/2,G.node.y1=J+G.visibleHeight/2):(G.arrangement==="freeform"&&(G.node.x0=X-G.visibleWidth/2,G.node.x1=X+G.visibleWidth/2),J=Math.max(0,Math.min(G.size-G.visibleHeight/2,J)),G.node.y0=J-G.visibleHeight/2,G.node.y1=J+G.visibleHeight/2),Z(G.node),G.arrangement!=="snap"&&(G.sankey.update(G.graph),C(j.filter(F(G)),V))}}).on("dragend",function(G){if(G.arrangement!=="fixed"){G.interactionState.dragInProgress=!1;for(var X=0;X<G.node.childrenNodes.length;X++)G.node.childrenNodes[X].x=G.node.x,G.node.childrenNodes[X].y=G.node.y;G.arrangement!=="snap"&&B(G,Q)}});j.on(".drag",null).call($)}function B(j,V){for(var te=[],Q=[],$=0;$<j.graph.nodes.length;$++){var G=(j.graph.nodes[$].x0+j.graph.nodes[$].x1)/2,X=(j.graph.nodes[$].y0+j.graph.nodes[$].y1)/2;te.push(G/j.figure.width),Q.push(X/j.figure.height)}g.call("_guiRestyle",V,{"node.x":[te],"node.y":[Q]},j.trace.index).then(function(){V._fullLayout._dragCover&&V._fullLayout._dragCover.remove()})}function Z(j){j.lastDraggedX=j.x0+j.dx/2,j.lastDraggedY=j.y0+j.dy/2}function F(j){return function(V){return V.node.originalX===j.node.originalX}}Y.exports=function(j,V,te,Q,$){var G=j._context.staticPlot,X=!1;n.ensureSingle(j._fullLayout._infolayer,"g","first-render",function(){X=!0});var J=j._fullLayout._dragCover,ne=te.filter(function(ve){return c(ve).trace.visible}).map(m.bind(null,Q)),ie=V.selectAll("."+h.cn.sankey).data(ne,u);ie.exit().remove(),ie.enter().append("g").classed(h.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",G?"none":"auto").attr("transform",z),ie.each(function(ve,Me){j._fullData[Me]._sankey=ve;var _e="bgsankey-"+ve.trace.uid+"-"+Me;n.ensureSingle(j._fullLayout._draggers,"rect",_e),j._fullData[Me]._bgRect=a.select("."+_e),j._fullData[Me]._bgRect.style("pointer-events",G?"none":"all").attr("width",ve.width).attr("height",ve.height).attr("x",ve.translateX).attr("y",ve.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),ie.transition().ease(h.ease).duration(h.duration).attr("transform",z);var ae=ie.selectAll("."+h.cn.sankeyLinks).data(d,u);ae.enter().append("g").classed(h.cn.sankeyLinks,!0).style("fill","none");var le=ae.selectAll("."+h.cn.sankeyLink).data(function(ve){return ve.graph.links.filter(function(Me){return Me.value}).map(_.bind(null,ve))},u);le.enter().append("path").classed(h.cn.sankeyLink,!0).call(U,ie,$.linkEvents),le.style("stroke",function(ve){return I(ve)?t.tinyRGB(o(ve.linkLineColor)):ve.tinyColorHue}).style("stroke-opacity",function(ve){return I(ve)?t.opacity(ve.linkLineColor):ve.tinyColorAlpha}).style("fill",function(ve){return ve.tinyColorHue}).style("fill-opacity",function(ve){return ve.tinyColorAlpha}).style("stroke-width",function(ve){return I(ve)?ve.linkLineWidth:1}).attr("d",f()),le.style("opacity",function(){return j._context.staticPlot||X||J?1:0}).transition().ease(h.ease).duration(h.duration).style("opacity",1),le.exit().transition().ease(h.ease).duration(h.duration).style("opacity",0).remove();var ce=ie.selectAll("."+h.cn.sankeyNodeSet).data(d,u);ce.enter().append("g").classed(h.cn.sankeyNodeSet,!0),ce.style("cursor",function(ve){switch(ve.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var pe=ce.selectAll("."+h.cn.sankeyNode).data(function(ve){var Me=ve.graph.nodes;return function(_e){var we,oe=[];for(we=0;we<_e.length;we++)_e[we].originalX=(_e[we].x0+_e[we].x1)/2,_e[we].originalY=(_e[we].y0+_e[we].y1)/2,oe.indexOf(_e[we].originalX)===-1&&oe.push(_e[we].originalX);for(oe.sort(function(se,de){return se-de}),we=0;we<_e.length;we++)_e[we].originalLayerIndex=oe.indexOf(_e[we].originalX),_e[we].originalLayer=_e[we].originalLayerIndex/(oe.length-1)}(Me),Me.map(S.bind(null,ve))},u);pe.enter().append("g").classed(h.cn.sankeyNode,!0).call(T).style("opacity",function(ve){return!j._context.staticPlot&&!X||ve.partOfGroup?0:1}),pe.call(U,ie,$.nodeEvents).call(D,le,$,j),pe.transition().ease(h.ease).duration(h.duration).call(T).style("opacity",function(ve){return ve.partOfGroup?0:1}),pe.exit().transition().ease(h.ease).duration(h.duration).style("opacity",0).remove();var ge=pe.selectAll("."+h.cn.nodeRect).data(d);ge.enter().append("rect").classed(h.cn.nodeRect,!0).call(O),ge.style("stroke-width",function(ve){return ve.nodeLineWidth}).style("stroke",function(ve){return t.tinyRGB(o(ve.nodeLineColor))}).style("stroke-opacity",function(ve){return t.opacity(ve.nodeLineColor)}).style("fill",function(ve){return ve.tinyColorHue}).style("fill-opacity",function(ve){return ve.tinyColorAlpha}),ge.transition().ease(h.ease).duration(h.duration).call(O);var me=pe.selectAll("."+h.cn.nodeLabel).data(d);me.enter().append("text").classed(h.cn.nodeLabel,!0).style("cursor","default"),me.attr("data-notex",1).text(function(ve){return ve.node.label}).each(function(ve){var Me=a.select(this);i.font(Me,ve.textFont),x.convertToTspans(Me,j)}).style("text-shadow",x.makeTextShadow(j._fullLayout.paper_bgcolor)).attr("text-anchor",function(ve){return ve.horizontal&&ve.left?"end":"start"}).attr("transform",function(ve){var Me=a.select(this),_e=x.lineCount(Me),we=ve.textFont.size*((_e-1)*y-v),oe=ve.nodeLineWidth/2+3,se=((ve.horizontal?ve.visibleHeight:ve.visibleWidth)-we)/2;ve.horizontal&&(ve.left?oe=-oe:oe+=ve.visibleWidth);var de=ve.horizontal?"":"scale(-1,1)"+s(90);return r(ve.horizontal?oe:se,ve.horizontal?se:oe)+de}),me.transition().ease(h.ease).duration(h.duration)}},81128:function(Y){Y.exports=function(P,e){for(var A=[],k=P.cd[0].trace,a=k._sankey.graph.nodes,w=0;w<a.length;w++){var b=a[w];if(!b.partOfGroup){var h=[(b.x0+b.x1)/2,(b.y0+b.y1)/2];k.orientation==="v"&&h.reverse(),e&&e.contains(h,!1,w,P)&&A.push({pointNumber:b.pointNumber})}}return A}},20148:function(Y,P,e){var A=e(3400);Y.exports=function(k,a){for(var w=0;w<k.length;w++)k[w].i=w;A.mergeArray(a.text,k,"tx"),A.mergeArray(a.texttemplate,k,"txt"),A.mergeArray(a.hovertext,k,"htx"),A.mergeArray(a.customdata,k,"data"),A.mergeArray(a.textposition,k,"tp"),a.textfont&&(A.mergeArrayCastPositive(a.textfont.size,k,"ts"),A.mergeArray(a.textfont.color,k,"tc"),A.mergeArray(a.textfont.family,k,"tf"));var b=a.marker;if(b){A.mergeArrayCastPositive(b.size,k,"ms"),A.mergeArrayCastPositive(b.opacity,k,"mo"),A.mergeArray(b.symbol,k,"mx"),A.mergeArray(b.angle,k,"ma"),A.mergeArray(b.standoff,k,"mf"),A.mergeArray(b.color,k,"mc");var h=b.line;b.line&&(A.mergeArray(h.color,k,"mlc"),A.mergeArrayCastPositive(h.width,k,"mlw"));var o=b.gradient;o&&o.type!=="none"&&(A.mergeArray(o.type,k,"mgt"),A.mergeArray(o.color,k,"mgc"))}}},52904:function(Y,P,e){var A=e(29736).axisHoverFormat,k=e(21776).Gw,a=e(21776).Ks,w=e(49084),b=e(25376),h=e(98192).u,o=e(98192).c,t=e(43616),i=e(88200),n=e(92880).extendFlat;Y.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:A("x"),yhoverformat:A("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:k({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:i.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:n({},h,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:o,marker:n({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:n({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},w("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},w("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:b({editType:"calc",colorEditType:"style",arrayOk:!0})}},16356:function(Y,P,e){var A=e(38248),k=e(3400),a=e(54460),w=e(1220),b=e(39032).BADNUM,h=e(43028),o=e(90136),t=e(20148),i=e(4500);function n(d,c,x,g,p,v,y){var m=c._length,_=d._fullLayout,f=x._id,S=g._id,T=_._firstScatter[l(c)]===c.uid,E=(u(c,_,x,g)||{}).orientation,C=c.fill;x._minDtick=0,g._minDtick=0;var O={padded:!0},I={padded:!0};y&&(O.ppad=I.ppad=y);var z=m<2||p[0]!==p[m-1]||v[0]!==v[m-1];z&&(C==="tozerox"||C==="tonextx"&&(T||E==="h"))?O.tozero=!0:(c.error_y||{}).visible||C!=="tonexty"&&C!=="tozeroy"&&(h.hasMarkers(c)||h.hasText(c))||(O.padded=!1,O.ppad=0),z&&(C==="tozeroy"||C==="tonexty"&&(T||E==="v"))?I.tozero=!0:C!=="tonextx"&&C!=="tozerox"||(I.padded=!1),f&&(c._extremes[f]=a.findExtremes(x,p,O)),S&&(c._extremes[S]=a.findExtremes(g,v,I))}function r(d,c){if(h.hasMarkers(d)){var x,g=d.marker,p=1.6*(d.marker.sizeref||1);if(x=d.marker.sizemode==="area"?function(f){return Math.max(Math.sqrt((f||0)/p),3)}:function(f){return Math.max((f||0)/p,3)},k.isArrayOrTypedArray(g.size)){var v={type:"linear"};a.setConvert(v);for(var y=v.makeCalcdata(d.marker,"size"),m=new Array(c),_=0;_<c;_++)m[_]=x(y[_]);return m}return x(g.size)}}function s(d,c){var x=l(c),g=d._firstScatter;g[x]||(g[x]=c.uid)}function l(d){var c=d.stackgroup;return d.xaxis+d.yaxis+d.type+(c?"-"+c:"")}function u(d,c,x,g){var p=d.stackgroup;if(p){var v=c._scatterStackOpts[x._id+g._id][p],y=v.orientation==="v"?g:x;return y.type==="linear"||y.type==="log"?v:void 0}}Y.exports={calc:function(d,c){var x,g,p,v,y,m,_=d._fullLayout,f=c._xA=a.getFromId(d,c.xaxis||"x","x"),S=c._yA=a.getFromId(d,c.yaxis||"y","y"),T=f.makeCalcdata(c,"x"),E=S.makeCalcdata(c,"y"),C=w(c,f,"x",T),O=w(c,S,"y",E),I=C.vals,z=O.vals,U=c._length,D=new Array(U),B=c.ids,Z=u(c,_,f,S),F=!1;s(_,c);var j,V="x",te="y";Z?(k.pushUnique(Z.traceIndices,c._expandedIndex),(x=Z.orientation==="v")?(te="s",j="x"):(V="s",j="y"),y=Z.stackgaps==="interpolate"):n(d,c,f,S,I,z,r(c,U));var Q=!!c.xperiodalignment,$=!!c.yperiodalignment;for(g=0;g<U;g++){var G=D[g]={},X=A(I[g]),J=A(z[g]);X&&J?(G[V]=I[g],G[te]=z[g],Q&&(G.orig_x=T[g],G.xEnd=C.ends[g],G.xStart=C.starts[g]),$&&(G.orig_y=E[g],G.yEnd=O.ends[g],G.yStart=O.starts[g])):Z&&(x?X:J)?(G[j]=x?I[g]:z[g],G.gap=!0,y?(G.s=b,F=!0):G.s=0):G[V]=G[te]=b,B&&(G.id=String(B[g]))}if(t(D,c),o(d,c),i(D,c),Z){for(g=0;g<D.length;)D[g][j]===b?D.splice(g,1):g++;if(k.sort(D,function(le,ce){return le[j]-ce[j]||le.i-ce.i}),F){for(g=0;g<D.length-1&&D[g].gap;)g++;for((m=D[g].s)||(m=D[g].s=0),p=0;p<g;p++)D[p].s=m;for(v=D.length-1;v>g&&D[v].gap;)v--;for(m=D[v].s,p=D.length-1;p>v;p--)D[p].s=m;for(;g<v;)if(D[++g].gap){for(p=g+1;D[p].gap;)p++;for(var ne=D[g-1][j],ie=D[g-1].s,ae=(D[p].s-ie)/(D[p][j]-ne);g<p;)D[g].s=ie+(D[g][j]-ne)*ae,g++}}}return D},calcMarkerSize:r,calcAxisExpansion:n,setFirstScatter:s,getStackOpts:u}},4500:function(Y,P,e){var A=e(3400);Y.exports=function(k,a){A.isArrayOrTypedArray(a.selectedpoints)&&A.tagSelected(k,a)}},90136:function(Y,P,e){var A=e(94288).hasColorscale,k=e(47128),a=e(43028);Y.exports=function(w,b){a.hasLines(b)&&A(b,"line")&&k(w,b,{vals:b.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(b)&&(A(b,"marker")&&k(w,b,{vals:b.marker.color,containerStr:"marker",cLetter:"c"}),A(b,"marker.line")&&k(w,b,{vals:b.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},88200:function(Y){Y.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},96664:function(Y,P,e){var A=e(16356),k=e(96376).setGroupPositions;function a(w,b,h,o,t,i,n){t[o]=!0;var r={i:null,gap:!0,s:0};if(r[n]=h,w.splice(b,0,r),b&&h===w[b-1][n]){var s=w[b-1];r.s=s.s,r.i=s.i,r.gap=s.gap}else i&&(r.s=function(l,u,d,c){var x=l[u-1],g=l[u+1];return g?x?x.s+(g.s-x.s)*(d-x[c])/(g[c]-x[c]):g.s:x.s}(w,b,h,n));b||(w[0].t=w[1].t,w[0].trace=w[1].trace,delete w[1].t,delete w[1].trace)}Y.exports=function(w,b){w._fullLayout.scattermode==="group"&&function(j,V){for(var te=V.xaxis,Q=V.yaxis,$=j._fullLayout,G=j._fullData,X=j.calcdata,J=[],ne=[],ie=0;ie<G.length;ie++){var ae=G[ie];ae.visible===!0&&ae.type==="scatter"&&ae.xaxis===te._id&&ae.yaxis===Q._id&&(ae.orientation==="h"?J.push(X[ie]):ae.orientation==="v"&&ne.push(X[ie]))}var le={mode:$.scattermode,gap:$.scattergap};k(j,te,Q,ne,le),k(j,Q,te,J,le)}(w,b);var h=b.xaxis,o=b.yaxis,t=h._id+o._id,i=w._fullLayout._scatterStackOpts[t];if(i){var n,r,s,l,u,d,c,x,g,p,v,y,m,_,f,S=w.calcdata;for(var T in i){var E=(p=i[T]).traceIndices;if(E.length){for(v=p.stackgaps==="interpolate",y=p.groupnorm,p.orientation==="v"?(m="x",_="y"):(m="y",_="x"),f=new Array(E.length),n=0;n<f.length;n++)f[n]=!1;d=S[E[0]];var C=new Array(d.length);for(n=0;n<d.length;n++)C[n]=d[n][m];for(n=1;n<E.length;n++){for(u=S[E[n]],r=s=0;r<u.length;r++){for(c=u[r][m];c>C[s]&&s<C.length;s++)a(u,r,C[s],n,f,v,m),r++;if(c!==C[s]){for(l=0;l<n;l++)a(S[E[l]],s,c,l,f,v,m);C.splice(s,0,c)}s++}for(;s<C.length;s++)a(u,r,C[s],n,f,v,m),r++}var O=C.length;for(r=0;r<d.length;r++){for(x=d[r][_]=d[r].s,n=1;n<E.length;n++)(u=S[E[n]])[0].trace._rawLength=u[0].trace._length,u[0].trace._length=O,x+=u[r].s,u[r][_]=x;if(y)for(g=(y==="fraction"?x:x/100)||1,n=0;n<E.length;n++){var I=S[E[n]][r];I[_]/=g,I.sNorm=I.s/g}}for(n=0;n<E.length;n++){var z=(u=S[E[n]])[0].trace,U=A.calcMarkerSize(z,z._rawLength),D=Array.isArray(U);if(U&&f[n]||D){var B=U;for(U=new Array(O),r=0;r<O;r++)U[r]=u[r].gap?0:D?B[u[r].i]:B}var Z=new Array(O),F=new Array(O);for(r=0;r<O;r++)Z[r]=u[r].x,F[r]=u[r].y;A.calcAxisExpansion(w,z,h,o,Z,F,U),u[0].t.orientation=p.orientation}}}}}},35036:function(Y,P,e){var A=e(3400),k=e(20011),a=e(52904);Y.exports=function(w,b){var h,o,t;function i(u){return A.coerce(o._input,o,a,u)}if(b.scattermode==="group")for(t=0;t<w.length;t++)(o=w[t]).type==="scatter"&&(h=o._input,k(h,o,b,i));for(t=0;t<w.length;t++){var n=w[t];if(n.type==="scatter"){var r=n.fill;if(r!=="none"&&r!=="toself"&&(n.opacity=void 0,r==="tonexty"||r==="tonextx"))for(var s=t-1;s>=0;s--){var l=w[s];if(l.type==="scatter"&&l.xaxis===n.xaxis&&l.yaxis===n.yaxis){l.opacity=void 0;break}}}}}},18800:function(Y,P,e){var A=e(3400),k=e(24040),a=e(52904),w=e(88200),b=e(43028),h=e(43980),o=e(31147),t=e(43912),i=e(74428),n=e(66828),r=e(11731),s=e(124),l=e(70840),u=e(3400).coercePattern;Y.exports=function(d,c,x,g){function p(E,C){return A.coerce(d,c,a,E,C)}var v=h(d,c,g,p);if(v||(c.visible=!1),c.visible){o(d,c,g,p),p("xhoverformat"),p("yhoverformat");var y=t(d,c,g,p);g.scattermode==="group"&&c.orientation===void 0&&p("orientation","v");var m=!y&&v<w.PTS_LINESONLY?"lines+markers":"lines";p("text"),p("hovertext"),p("mode",m),b.hasMarkers(c)&&i(d,c,x,g,p,{gradient:!0}),b.hasLines(c)&&(n(d,c,x,g,p,{backoff:!0}),r(d,c,p),p("connectgaps"),p("line.simplify")),b.hasText(c)&&(p("texttemplate"),s(d,c,g,p));var _=[];(b.hasMarkers(c)||b.hasText(c))&&(p("cliponaxis"),p("marker.maxdisplayed"),_.push("points")),p("fill",y?y.fillDflt:"none"),c.fill!=="none"&&(l(d,c,x,p),b.hasLines(c)||r(d,c,p),u(p,"fillpattern",c.fillcolor,!1));var f=(c.line||{}).color,S=(c.marker||{}).color;c.fill!=="tonext"&&c.fill!=="toself"||_.push("fills"),p("hoveron",_.join("+")||"points"),c.hoveron!=="fills"&&p("hovertemplate");var T=k.getComponentMethod("errorbars","supplyDefaults");T(d,c,f||S||x,{axis:"y"}),T(d,c,f||S||x,{axis:"x",inherit:"y"}),A.coerceSelectionMarkerOpacity(c,p)}}},70840:function(Y,P,e){var A=e(76308),k=e(3400).isArrayOrTypedArray;Y.exports=function(a,w,b,h){var o=!1;if(w.marker){var t=w.marker.color,i=(w.marker.line||{}).color;t&&!k(t)?o=t:i&&!k(i)&&(o=i)}h("fillcolor",A.addOpacity((w.line||{}).color||o||b,.5))}},76688:function(Y,P,e){var A=e(54460);Y.exports=function(k,a,w){var b={},h={_fullLayout:w},o=A.getFromTrace(h,a,"x"),t=A.getFromTrace(h,a,"y"),i=k.orig_x;i===void 0&&(i=k.x);var n=k.orig_y;return n===void 0&&(n=k.y),b.xLabel=A.tickText(o,o.c2l(i),!0).text,b.yLabel=A.tickText(t,t.c2l(n),!0).text,b}},44928:function(Y,P,e){var A=e(76308),k=e(43028);Y.exports=function(a,w){var b,h;if(a.mode==="lines")return(b=a.line.color)&&A.opacity(b)?b:a.fillcolor;if(a.mode==="none")return a.fill?a.fillcolor:"";var o=w.mcc||(a.marker||{}).color,t=w.mlcc||((a.marker||{}).line||{}).color;return(h=o&&A.opacity(o)?o:t&&A.opacity(t)&&(w.mlw||((a.marker||{}).line||{}).width)?t:"")?A.opacity(h)<.3?A.addOpacity(h,.3):h:(b=(a.line||{}).color)&&A.opacity(b)&&k.hasLines(a)&&a.line.width?b:a.fillcolor}},20011:function(Y,P,e){var A=e(71888).getAxisGroup;Y.exports=function(k,a,w,b){var h=a.orientation,o=a[{v:"x",h:"y"}[h]+"axis"],t=A(w,o)+h,i=w._alignmentOpts||{},n=b("alignmentgroup"),r=i[t];r||(r=i[t]={});var s=r[n];s?s.traces.push(a):s=r[n]={traces:[a],alignmentIndex:Object.keys(r).length,offsetGroups:{}};var l=b("offsetgroup"),u=s.offsetGroups,d=u[l];l&&(d||(d=u[l]={offsetIndex:Object.keys(u).length}),a._offsetIndex=d.offsetIndex)}},98723:function(Y,P,e){var A=e(3400),k=e(93024),a=e(24040),w=e(44928),b=e(76308),h=A.fillText;Y.exports=function(o,t,i,n){var r=o.cd,s=r[0].trace,l=o.xa,u=o.ya,d=l.c2p(t),c=u.c2p(i),x=[d,c],g=s.hoveron||"",p=s.mode.indexOf("markers")!==-1?3:.5,v=!!s.xperiodalignment,y=!!s.yperiodalignment;if(g.indexOf("points")!==-1){var m=function(Z){var F=Math.max(p,Z.mrc||0),j=l.c2p(Z.x)-d,V=u.c2p(Z.y)-c;return Math.max(Math.sqrt(j*j+V*V)-F,1-p/F)},_=k.getDistanceFunction(n,function(Z){if(v){var F=l.c2p(Z.xStart),j=l.c2p(Z.xEnd);return d>=Math.min(F,j)&&d<=Math.max(F,j)?0:1/0}var V=Math.max(3,Z.mrc||0),te=1-1/V,Q=Math.abs(l.c2p(Z.x)-d);return Q<V?te*Q/V:Q-V+te},function(Z){if(y){var F=u.c2p(Z.yStart),j=u.c2p(Z.yEnd);return c>=Math.min(F,j)&&c<=Math.max(F,j)?0:1/0}var V=Math.max(3,Z.mrc||0),te=1-1/V,Q=Math.abs(u.c2p(Z.y)-c);return Q<V?te*Q/V:Q-V+te},m);if(k.getClosest(r,_,o),o.index!==!1){var f=r[o.index],S=l.c2p(f.x,!0),T=u.c2p(f.y,!0),E=f.mrc||1;o.index=f.i;var C=r[0].t.orientation,O=C&&(f.sNorm||f.s),I=C==="h"?O:f.orig_x!==void 0?f.orig_x:f.x,z=C==="v"?O:f.orig_y!==void 0?f.orig_y:f.y;return A.extendFlat(o,{color:w(s,f),x0:S-E,x1:S+E,xLabelVal:I,y0:T-E,y1:T+E,yLabelVal:z,spikeDistance:m(f),hovertemplate:s.hovertemplate}),h(f,s,o),a.getComponentMethod("errorbars","hoverInfo")(f,s,o),[o]}}function U(Z){if(!Z)return!1;var F=Z.node();try{var j=new DOMPoint(x[0],x[1]);return F.isPointInFill(j)}catch{var V=F.ownerSVGElement.createSVGPoint();return V.x=x[0],V.y=x[1],F.isPointInFill(V)}}if(g.indexOf("fills")!==-1&&s._fillElement&&U(s._fillElement)&&!U(s._fillExclusionElement)){var D=function(Z){var F,j,V,te,Q,$,G,X,J,ne=[],ie=1/0,ae=-1/0,le=1/0,ce=-1/0;for(F=0;F<Z.length;F++){var pe=Z[F];pe.contains(x)&&(ne.push(pe),le=Math.min(le,pe.ymin),ce=Math.max(ce,pe.ymax))}if(ne.length===0)return null;for(j=((le=Math.max(le,0))+(ce=Math.min(ce,u._length)))/2,F=0;F<ne.length;F++)for(te=ne[F].pts,V=1;V<te.length;V++)(X=te[V-1][1])>j!=(J=te[V][1])>=j&&($=te[V-1][0],G=te[V][0],J-X&&(Q=$+(G-$)*(j-X)/(J-X),ie=Math.min(ie,Q),ae=Math.max(ae,Q)));return{x0:ie=Math.max(ie,0),x1:ae=Math.min(ae,l._length),y0:j,y1:j}}(s._polygons);D===null&&(D={x0:x[0],x1:x[0],y0:x[1],y1:x[1]});var B=b.defaultLine;return b.opacity(s.fillcolor)?B=s.fillcolor:b.opacity((s.line||{}).color)&&(B=s.line.color),A.extendFlat(o,{distance:o.maxHoverDistance,x0:D.x0,x1:D.x1,y0:D.y0,y1:D.y1,color:B,hovertemplate:!1}),delete o.index,s.text&&!A.isArrayOrTypedArray(s.text)?o.text=String(s.text):o.text=s.name,[o]}}},65875:function(Y,P,e){var A=e(43028);Y.exports={hasLines:A.hasLines,hasMarkers:A.hasMarkers,hasText:A.hasText,isBubble:A.isBubble,attributes:e(52904),layoutAttributes:e(55308),supplyDefaults:e(18800),crossTraceDefaults:e(35036),supplyLayoutDefaults:e(59748),calc:e(16356).calc,crossTraceCalc:e(96664),arraysToCalcdata:e(20148),plot:e(96504),colorbar:e(5528),formatLabels:e(76688),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(98723),selectPoints:e(91560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(57952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},55308:function(Y){Y.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},59748:function(Y,P,e){var A=e(3400),k=e(55308);Y.exports=function(a,w){var b,h=w.barmode==="group";w.scattermode==="group"&&(b=h?w.bargap:.2,A.coerce(a,w,k,"scattergap",b))}},66828:function(Y,P,e){var A=e(3400).isArrayOrTypedArray,k=e(94288).hasColorscale,a=e(27260);Y.exports=function(w,b,h,o,t,i){i||(i={});var n=(w.marker||{}).color;n&&n._inputArray&&(n=n._inputArray),t("line.color",h),k(w,"line")?a(w,b,o,t,{prefix:"line.",cLetter:"c"}):t("line.color",!A(n)&&n||h),t("line.width"),i.noDash||t("line.dash"),i.backoff&&t("line.backoff")}},52340:function(Y,P,e){var A=e(43616),k=e(39032),a=k.BADNUM,w=k.LOG_CLIP,b=w+.5,h=w-.5,o=e(3400),t=o.segmentsIntersect,i=o.constrain,n=e(88200);Y.exports=function(r,s){var l,u,d,c,x,g,p,v,y,m,_,f,S,T,E,C,O,I,z=s.trace||{},U=s.xaxis,D=s.yaxis,B=U.type==="log",Z=D.type==="log",F=U._length,j=D._length,V=s.backoff,te=z.marker,Q=s.connectGaps,$=s.baseTolerance,G=s.shape,X=G==="linear",J=z.fill&&z.fill!=="none",ne=[],ie=n.minTolerance,ae=r.length,le=new Array(ae),ce=0;function pe(Rt){var We=r[Rt];if(!We)return!1;var Ze=s.linearized?U.l2p(We.x):U.c2p(We.x),Ne=s.linearized?D.l2p(We.y):D.c2p(We.y);if(Ze===a){if(B&&(Ze=U.c2p(We.x,!0)),Ze===a)return!1;Z&&Ne===a&&(Ze*=Math.abs(U._m*j*(U._m>0?b:h)/(D._m*F*(D._m>0?b:h)))),Ze*=1e3}if(Ne===a){if(Z&&(Ne=D.c2p(We.y,!0)),Ne===a)return!1;Ne*=1e3}return[Ze,Ne]}function ge(Rt,We,Ze,Ne){var Ye=Ze-Rt,lt=Ne-We,at=.5-Rt,Fe=.5-We,Be=Ye*Ye+lt*lt,ot=Ye*at+lt*Fe;if(ot>0&&ot<Be){var Xe=at*lt-Fe*Ye;if(Xe*Xe<Be)return!0}}function me(Rt,We){var Ze=Rt[0]/F,Ne=Rt[1]/j,Ye=Math.max(0,-Ze,Ze-1,-Ne,Ne-1);return Ye&&O!==void 0&&ge(Ze,Ne,O,I)&&(Ye=0),Ye&&We&&ge(Ze,Ne,We[0]/F,We[1]/j)&&(Ye=0),(1+n.toleranceGrowth*Ye)*$}function ve(Rt,We){var Ze=Rt[0]-We[0],Ne=Rt[1]-We[1];return Math.sqrt(Ze*Ze+Ne*Ne)}var Me,_e,we,oe,se,de,Ee,Te=n.maxScreensAway,Se=-F*Te,Le=F*(1+Te),Oe=-j*Te,he=j*(1+Te),xe=[[Se,Oe,Le,Oe],[Le,Oe,Le,he],[Le,he,Se,he],[Se,he,Se,Oe]];function ke(Rt){if(Rt[0]<Se||Rt[0]>Le||Rt[1]<Oe||Rt[1]>he)return[i(Rt[0],Se,Le),i(Rt[1],Oe,he)]}function Re(Rt,We){return Rt[0]===We[0]&&(Rt[0]===Se||Rt[0]===Le)||Rt[1]===We[1]&&(Rt[1]===Oe||Rt[1]===he)||void 0}function ze(Rt,We,Ze){return function(Ne,Ye){var lt=ke(Ne),at=ke(Ye),Fe=[];if(lt&&at&&Re(lt,at))return Fe;lt&&Fe.push(lt),at&&Fe.push(at);var Be=2*o.constrain((Ne[Rt]+Ye[Rt])/2,We,Ze)-((lt||Ne)[Rt]+(at||Ye)[Rt]);return Be&&((lt&&at?Be>0==lt[Rt]>at[Rt]?lt:at:lt||at)[Rt]+=Be),Fe}}function Ie(Rt){var We=Rt[0],Ze=Rt[1],Ne=We===le[ce-1][0],Ye=Ze===le[ce-1][1];if(!Ne||!Ye)if(ce>1){var lt=We===le[ce-2][0],at=Ze===le[ce-2][1];Ne&&(We===Se||We===Le)&&lt?at?ce--:le[ce-1]=Rt:Ye&&(Ze===Oe||Ze===he)&&at?lt?ce--:le[ce-1]=Rt:le[ce++]=Rt}else le[ce++]=Rt}function He(Rt){le[ce-1][0]!==Rt[0]&&le[ce-1][1]!==Rt[1]&&Ie([we,oe]),Ie(Rt),se=null,we=oe=0}G==="linear"||G==="spline"?Ee=function(Rt,We){for(var Ze=[],Ne=0,Ye=0;Ye<4;Ye++){var lt=xe[Ye],at=t(Rt[0],Rt[1],We[0],We[1],lt[0],lt[1],lt[2],lt[3]);at&&(!Ne||Math.abs(at.x-Ze[0][0])>1||Math.abs(at.y-Ze[0][1])>1)&&(at=[at.x,at.y],Ne&&ve(at,Rt)<ve(Ze[0],Rt)?Ze.unshift(at):Ze.push(at),Ne++)}return Ze}:G==="hv"||G==="vh"?Ee=function(Rt,We){var Ze=[],Ne=ke(Rt),Ye=ke(We);return Ne&&Ye&&Re(Ne,Ye)||(Ne&&Ze.push(Ne),Ye&&Ze.push(Ye)),Ze}:G==="hvh"?Ee=ze(0,Se,Le):G==="vhv"&&(Ee=ze(1,Oe,he));var qe=o.isArrayOrTypedArray(te);function Je(Rt){if(Rt&&V&&(Rt.i=l,Rt.d=r,Rt.trace=z,Rt.marker=qe?te[Rt.i]:te,Rt.backoff=V),O=Rt[0]/F,I=Rt[1]/j,Me=Rt[0]<Se?Se:Rt[0]>Le?Le:0,_e=Rt[1]<Oe?Oe:Rt[1]>he?he:0,Me||_e){if(ce)if(se){var We=Ee(se,Rt);We.length>1&&(He(We[0]),le[ce++]=We[1])}else de=Ee(le[ce-1],Rt)[0],le[ce++]=de;else le[ce++]=[Me||Rt[0],_e||Rt[1]];var Ze=le[ce-1];Me&&_e&&(Ze[0]!==Me||Ze[1]!==_e)?(se&&(we!==Me&&oe!==_e?Ie(we&&oe?(Ne=se,lt=(Ye=Rt)[0]-Ne[0],at=(Ye[1]-Ne[1])/lt,(Ne[1]*Ye[0]-Ye[1]*Ne[0])/lt>0?[at>0?Se:Le,he]:[at>0?Le:Se,Oe]):[we||Me,oe||_e]):we&&oe&&Ie([we,oe])),Ie([Me,_e])):we-Me&&oe-_e&&Ie([Me||we,_e||oe]),se=Rt,we=Me,oe=_e}else se&&He(Ee(se,Rt)[0]),le[ce++]=Rt;var Ne,Ye,lt,at}for(l=0;l<ae;l++)if(u=pe(l)){for(ce=0,se=null,Je(u),l++;l<ae;l++){if(!(c=pe(l))){if(Q)continue;break}if(X&&s.simplify){var st=pe(l+1);if(m=ve(c,u),J&&(ce===0||ce===ae-1)||!(m<me(c,st)*ie)){for(v=[(c[0]-u[0])/m,(c[1]-u[1])/m],x=u,_=m,f=T=E=0,p=!1,d=c,l++;l<r.length;l++){if(g=st,st=pe(l+1),!g){if(Q)continue;break}if(C=(y=[g[0]-u[0],g[1]-u[1]])[0]*v[1]-y[1]*v[0],T=Math.min(T,C),(E=Math.max(E,C))-T>me(g,st))break;d=g,(S=y[0]*v[0]+y[1]*v[1])>_?(_=S,c=g,p=!1):S<f&&(f=S,x=g,p=!0)}if(p?(Je(c),d!==x&&Je(x)):(x!==u&&Je(x),d!==c&&Je(c)),Je(d),l>=r.length||!g)break;Je(g),u=g}}else Je(c)}se&&Ie([we||se[0],oe||se[1]]),ne.push(le.slice(0,ce))}var it=G.slice(G.length-1);if(V&&it!=="h"&&it!=="v"){for(var vt=!1,_t=-1,xt=[],et=0;et<ne.length;et++)for(var nt=0;nt<ne[et].length-1;nt++){var Mt=ne[et][nt],zt=ne[et][nt+1],Ft=A.applyBackoff(zt,Mt);Ft[0]===zt[0]&&Ft[1]===zt[1]||(vt=!0),xt[_t+1]||(xt[++_t]=[Mt,[Ft[0],Ft[1]]])}return vt?xt:ne}return ne}},11731:function(Y){Y.exports=function(P,e,A){A("line.shape")==="spline"&&A("line.smoothing")}},14328:function(Y){var P={tonextx:1,tonexty:1,tonext:1};Y.exports=function(e,A,k){var a,w,b,h,o,t={},i=!1,n=-1,r=0,s=-1;for(w=0;w<k.length;w++)(b=(a=k[w][0].trace).stackgroup||"")?b in t?o=t[b]:(o=t[b]=r,r++):a.fill in P&&s>=0?o=s:(o=s=r,r++),o<n&&(i=!0),a._groupIndex=n=o;var l=k.slice();i&&l.sort(function(d,c){var x=d[0].trace,g=c[0].trace;return x._groupIndex-g._groupIndex||x.index-g.index});var u={};for(w=0;w<l.length;w++)b=(a=l[w][0].trace).stackgroup||"",a.visible===!0?(a._nexttrace=null,a.fill in P&&(h=u[b],a._prevtrace=h||null,h&&(h._nexttrace=a)),a._ownfill=a.fill&&(a.fill.substr(0,6)==="tozero"||a.fill==="toself"||a.fill.substr(0,2)==="to"&&!a._prevtrace),u[b]=a):a._prevtrace=a._nexttrace=a._ownfill=null;return l}},7152:function(Y,P,e){var A=e(38248);Y.exports=function(k,a){a||(a=2);var w=k.marker,b=w.sizeref||1,h=w.sizemin||0,o=w.sizemode==="area"?function(t){return Math.sqrt(t/b)}:function(t){return t/b};return function(t){var i=o(t/a);return A(i)&&i>0?Math.max(i,h):0}}},5528:function(Y){Y.exports={container:"marker",min:"cmin",max:"cmax"}},74428:function(Y,P,e){var A=e(76308),k=e(94288).hasColorscale,a=e(27260),w=e(43028);Y.exports=function(b,h,o,t,i,n){var r=w.isBubble(b),s=(b.line||{}).color;n=n||{},s&&(o=s),i("marker.symbol"),i("marker.opacity",r?.7:1),i("marker.size"),n.noAngle||(i("marker.angle"),n.noAngleRef||i("marker.angleref"),n.noStandOff||i("marker.standoff")),i("marker.color",o),k(b,"marker")&&a(b,h,t,i,{prefix:"marker.",cLetter:"c"}),n.noSelect||(i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size")),n.noLine||(i("marker.line.color",s&&!Array.isArray(s)&&h.marker.color!==s?s:r?A.background:A.defaultLine),k(b,"marker.line")&&a(b,h,t,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",r?1:0)),r&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),n.gradient&&i("marker.gradient.type")!=="none"&&i("marker.gradient.color")}},31147:function(Y,P,e){var A=e(3400).dateTick0,k=e(39032).ONEWEEK;function a(w,b){return A(b,w%k==0?1:0)}Y.exports=function(w,b,h,o,t){if(t||(t={x:!0,y:!0}),t.x){var i=o("xperiod");i&&(o("xperiod0",a(i,b.xcalendar)),o("xperiodalignment"))}if(t.y){var n=o("yperiod");n&&(o("yperiod0",a(n,b.ycalendar)),o("yperiodalignment"))}}},96504:function(Y,P,e){var A=e(33428),k=e(24040),a=e(3400),w=a.ensureSingle,b=a.identity,h=e(43616),o=e(43028),t=e(52340),i=e(14328),n=e(92065).tester;function r(s,l,u,d,c,x,g){var p,v=s._context.staticPlot;(function(Ie,He,qe,Je,st){var it=qe.xaxis,vt=qe.yaxis,_t=A.extent(a.simpleMap(it.range,it.r2c)),xt=A.extent(a.simpleMap(vt.range,vt.r2c)),et=Je[0].trace;if(o.hasMarkers(et)){var nt=et.marker.maxdisplayed;if(nt!==0){var Mt=Je.filter(function(We){return We.x>=_t[0]&&We.x<=_t[1]&&We.y>=xt[0]&&We.y<=xt[1]}),zt=Math.ceil(Mt.length/nt),Ft=0;st.forEach(function(We,Ze){var Ne=We[0].trace;o.hasMarkers(Ne)&&Ne.marker.maxdisplayed>0&&Ze<He&&Ft++});var Rt=Math.round(Ft*zt/3+Math.floor(Ft/3)*zt/7.1);Je.forEach(function(We){delete We.vis}),Mt.forEach(function(We,Ze){Math.round((Ze+Rt)%zt)===0&&(We.vis=!0)})}}})(0,l,u,d,c);var y=!!g&&g.duration>0;function m(Ie){return y?Ie.transition():Ie}var _=u.xaxis,f=u.yaxis,S=d[0].trace,T=S.line,E=A.select(x),C=w(E,"g","errorbars"),O=w(E,"g","lines"),I=w(E,"g","points"),z=w(E,"g","text");if(k.getComponentMethod("errorbars","plot")(s,C,u,g),S.visible===!0){var U,D;m(E).style("opacity",S.opacity);var B,Z,F=S.fill.charAt(S.fill.length-1);F!=="x"&&F!=="y"&&(F=""),F==="y"?(B=1,Z=f.c2p(0,!0)):F==="x"&&(B=0,Z=_.c2p(0,!0)),d[0][u.isRangePlot?"nodeRangePlot3":"node3"]=E;var j,V,te="",Q=[],$=S._prevtrace,G=null,X=null;$&&(te=$._prevRevpath||"",D=$._nextFill,Q=$._ownPolygons,G=$._fillsegments,X=$._fillElement);var J,ne,ie,ae,le,ce,pe="",ge="",me=[];S._polygons=[];var ve=[],Me=[],_e=a.noop;if(U=S._ownFill,o.hasLines(S)||S.fill!=="none"){D&&D.datum(d),["hv","vh","hvh","vhv"].indexOf(T.shape)!==-1?(J=h.steps(T.shape),ne=h.steps(T.shape.split("").reverse().join(""))):J=ne=T.shape==="spline"?function(Ie){var He=Ie[Ie.length-1];return Ie.length>1&&Ie[0][0]===He[0]&&Ie[0][1]===He[1]?h.smoothclosed(Ie.slice(1),T.smoothing):h.smoothopen(Ie,T.smoothing)}:function(Ie){return"M"+Ie.join("L")},ie=function(Ie){return ne(Ie.reverse())},Me=t(d,{xaxis:_,yaxis:f,trace:S,connectGaps:S.connectgaps,baseTolerance:Math.max(T.width||1,3)/4,shape:T.shape,backoff:T.backoff,simplify:T.simplify,fill:S.fill}),ve=new Array(Me.length);var we=0;for(p=0;p<Me.length;p++){var oe,se=Me[p];oe&&F?oe.push.apply(oe,se):(oe=se.slice(),ve[we]=oe,we++)}S._fillElement=null,S._fillExclusionElement=X,S._fillsegments=ve.slice(0,we),ve=S._fillsegments,Me.length&&(ae=Me[0][0].slice(),ce=(le=Me[Me.length-1])[le.length-1].slice()),_e=function(Ie){return function(He){if(j=J(He),V=ie(He),pe?F?(pe+="L"+j.substr(1),ge=V+"L"+ge.substr(1)):(pe+="Z"+j,ge=V+"Z"+ge):(pe=j,ge=V),o.hasLines(S)){var qe=A.select(this);if(qe.datum(d),Ie)m(qe.style("opacity",0).attr("d",j).call(h.lineGroupStyle)).style("opacity",1);else{var Je=m(qe);Je.attr("d",j),h.singleLineStyle(d,Je)}}}}}var de=O.selectAll(".js-line").data(Me);m(de.exit()).style("opacity",0).remove(),de.each(_e(!1)),de.enter().append("path").classed("js-line",!0).style("vector-effect",v?"none":"non-scaling-stroke").call(h.lineGroupStyle).each(_e(!0)),h.setClipUrl(de,u.layerClipId,s);var Ee=function(){var Ie=new Array(ve.length);for(p=0;p<ve.length;p++)Ie[p]=n(ve[p]);return Ie},Te=function(Ie){var He,qe;if(Ie&&Ie.length!==0){for(He=new Array(Ie.length-1+ve.length),qe=0;qe<Ie.length-1;qe++)He[qe]=n(Ie[qe]);var Je=Ie[Ie.length-1].slice();for(Je.reverse(),qe=0;qe<ve.length;qe++)He[Ie.length-1+qe]=n(ve[qe].concat(Je))}else for(He=new Array(ve.length),qe=0;qe<ve.length;qe++){var st=ve[qe][0].slice(),it=ve[qe][ve[qe].length-1].slice();st[B]=it[B]=Z;var vt=[it,st].concat(ve[qe]);He[qe]=n(vt)}return He};Me.length?(U?(U.datum(d),ae&&ce&&(F?(ae[B]=ce[B]=Z,m(U).attr("d","M"+ce+"L"+ae+"L"+pe.substr(1)).call(h.singleFillStyle,s),me=Te(null)):(m(U).attr("d",pe+"Z").call(h.singleFillStyle,s),me=Ee())),S._polygons=me,S._fillElement=U):D&&(S.fill.substr(0,6)==="tonext"&&pe&&te?(S.fill==="tonext"?(m(D).attr("d",pe+"Z"+te+"Z").call(h.singleFillStyle,s),me=Ee(),S._polygons=me.concat(Q)):(m(D).attr("d",pe+"L"+te.substr(1)+"Z").call(h.singleFillStyle,s),me=Te(G),S._polygons=me),S._fillElement=D):Le(D)),S._prevRevpath=ge):(U?Le(U):D&&Le(D),S._prevRevpath=null),S._ownPolygons=me,I.datum(d),z.datum(d),function(Ie,He,qe){var Je,st=qe[0].trace,it=o.hasMarkers(st),vt=o.hasText(st),_t=Re(st),xt=ze,et=ze;if(it||vt){var nt=b,Mt=st.stackgroup,zt=Mt&&s._fullLayout._scatterStackOpts[_._id+f._id][Mt].stackgaps==="infer zero";st.marker.maxdisplayed||st._needsCull?nt=zt?he:Oe:Mt&&!zt&&(nt=xe),it&&(xt=nt),vt&&(et=nt)}var Ft,Rt=(Je=Ie.selectAll("path.point").data(xt,_t)).enter().append("path").classed("point",!0);y&&Rt.call(h.pointStyle,st,s).call(h.translatePoints,_,f).style("opacity",0).transition().style("opacity",1),Je.order(),it&&(Ft=h.makePointStyleFns(st)),Je.each(function(We){var Ze=A.select(this),Ne=m(Ze);h.translatePoint(We,Ne,_,f)?(h.singlePointStyle(We,Ne,st,Ft,s),u.layerClipId&&h.hideOutsideRangePoint(We,Ne,_,f,st.xcalendar,st.ycalendar),st.customdata&&Ze.classed("plotly-customdata",We.data!==null&&We.data!==void 0)):Ne.remove()}),y?Je.exit().transition().style("opacity",0).remove():Je.exit().remove(),(Je=He.selectAll("g").data(et,_t)).enter().append("g").classed("textpoint",!0).append("text"),Je.order(),Je.each(function(We){var Ze=A.select(this),Ne=m(Ze.select("text"));h.translatePoint(We,Ne,_,f)?u.layerClipId&&h.hideOutsideRangePoint(We,Ze,_,f,st.xcalendar,st.ycalendar):Ze.remove()}),Je.selectAll("text").call(h.textPointStyle,st,s).each(function(We){var Ze=_.c2p(We.x),Ne=f.c2p(We.y);A.select(this).selectAll("tspan.line").each(function(){m(A.select(this)).attr({x:Ze,y:Ne})})}),Je.exit().remove()}(I,z,d);var Se=S.cliponaxis===!1?null:u.layerClipId;h.setClipUrl(I,Se,s),h.setClipUrl(z,Se,s)}function Le(Ie){m(Ie).attr("d","M0,0Z")}function Oe(Ie){return Ie.filter(function(He){return!He.gap&&He.vis})}function he(Ie){return Ie.filter(function(He){return He.vis})}function xe(Ie){return Ie.filter(function(He){return!He.gap})}function ke(Ie){return Ie.id}function Re(Ie){if(Ie.ids)return ke}function ze(){return!1}}Y.exports=function(s,l,u,d,c,x){var g,p,v=!c,y=!!c&&c.duration>0,m=i(s,l,u);(g=d.selectAll("g.trace").data(m,function(_){return _[0].trace.uid})).enter().append("g").attr("class",function(_){return"trace scatter trace"+_[0].trace.uid}).style("stroke-miterlimit",2),g.order(),function(_,f,S){f.each(function(T){var E=w(A.select(this),"g","fills");h.setClipUrl(E,S.layerClipId,_);var C=T[0].trace,O=[];C._ownfill&&O.push("_ownFill"),C._nexttrace&&O.push("_nextFill");var I=E.selectAll("g").data(O,b);I.enter().append("g"),I.exit().each(function(z){C[z]=null}).remove(),I.order().each(function(z){C[z]=w(A.select(this),"path","js-fill")})})}(s,g,l),y?(x&&(p=x()),A.transition().duration(c.duration).ease(c.easing).each("end",function(){p&&p()}).each("interrupt",function(){p&&p()}).each(function(){d.selectAll("g.trace").each(function(_,f){r(s,f,l,_,m,this,c)})})):g.each(function(_,f){r(s,f,l,_,m,this,c)}),v&&g.exit().remove(),d.selectAll("path:not([d])").remove()}},91560:function(Y,P,e){var A=e(43028);Y.exports=function(k,a){var w,b,h,o,t=k.cd,i=k.xaxis,n=k.yaxis,r=[],s=t[0].trace;if(!A.hasMarkers(s)&&!A.hasText(s))return[];if(a===!1)for(w=0;w<t.length;w++)t[w].selected=0;else for(w=0;w<t.length;w++)b=t[w],h=i.c2p(b.x),o=n.c2p(b.y),b.i!==null&&a.contains([h,o],!1,w,k)?(r.push({pointNumber:b.i,x:i.c2d(b.x),y:n.c2d(b.y)}),b.selected=1):b.selected=0;return r}},43912:function(Y){var P=["orientation","groupnorm","stackgaps"];Y.exports=function(e,A,k,a){var w=k._scatterStackOpts,b=a("stackgroup");if(b){var h=A.xaxis+A.yaxis,o=w[h];o||(o=w[h]={});var t=o[b],i=!1;t?t.traces.push(A):(t=o[b]={traceIndices:[],traces:[A]},i=!0);for(var n={orientation:A.x&&!A.y?"h":"v"},r=0;r<P.length;r++){var s=P[r],l=s+"Found";if(!t[l]){var u=e[s]!==void 0,d=s==="orientation";if((u||i)&&(t[s]=a(s,n[s]),d&&(t.fillDflt=t[s]==="h"?"tonextx":"tonexty"),u&&(t[l]=!0,!i&&(delete t.traces[0][s],d))))for(var c=0;c<t.traces.length-1;c++){var x=t.traces[c];x._input.fill!==x.fill&&(x.fill=t.fillDflt)}}}return t}}},49224:function(Y,P,e){var A=e(33428),k=e(43616),a=e(24040);function w(h,o,t){k.pointStyle(h.selectAll("path.point"),o,t)}function b(h,o,t){k.textPointStyle(h.selectAll("text"),o,t)}Y.exports={style:function(h){var o=A.select(h).selectAll("g.trace.scatter");o.style("opacity",function(t){return t[0].trace.opacity}),o.selectAll("g.points").each(function(t){w(A.select(this),t.trace||t[0].trace,h)}),o.selectAll("g.text").each(function(t){b(A.select(this),t.trace||t[0].trace,h)}),o.selectAll("g.trace path.js-line").call(k.lineGroupStyle),o.selectAll("g.trace path.js-fill").call(k.fillGroupStyle,h),a.getComponentMethod("errorbars","style")(o)},stylePoints:w,styleText:b,styleOnSelect:function(h,o,t){var i=o[0].trace;i.selectedpoints?(k.selectedPointStyle(t.selectAll("path.point"),i),k.selectedTextStyle(t.selectAll("text"),i)):(w(t,i,h),b(t,i,h))}}},43028:function(Y,P,e){var A=e(3400),k=e(38116).isTypedArraySpec;Y.exports={hasLines:function(a){return a.visible&&a.mode&&a.mode.indexOf("lines")!==-1},hasMarkers:function(a){return a.visible&&(a.mode&&a.mode.indexOf("markers")!==-1||a.type==="splom")},hasText:function(a){return a.visible&&a.mode&&a.mode.indexOf("text")!==-1},isBubble:function(a){var w=a.marker;return A.isPlainObject(w)&&(A.isArrayOrTypedArray(w.size)||k(w.size))}}},124:function(Y,P,e){var A=e(3400);Y.exports=function(k,a,w,b,h){h=h||{},b("textposition"),A.coerceFont(b,"textfont",h.font||w.font),h.noSelect||(b("selected.textfont.color"),b("unselected.textfont.color"))}},43980:function(Y,P,e){var A=e(3400),k=e(24040);Y.exports=function(a,w,b,h){var o,t=h("x"),i=h("y");if(k.getComponentMethod("calendars","handleTraceDefaults")(a,w,["x","y"],b),t){var n=A.minRowLength(t);i?o=Math.min(n,A.minRowLength(i)):(o=n,h("y0"),h("dy"))}else{if(!i)return 0;o=A.minRowLength(i),h("x0"),h("dx")}return w._length=o,o}},91592:function(Y,P,e){var A=e(52904),k=e(49084),a=e(29736).axisHoverFormat,w=e(21776).Ks,b=e(21776).Gw,h=e(45464),o=e(99168),t=e(87792),i=e(92880).extendFlat,n=e(67824).overrideAll,r=e(95376),s=A.line,l=A.marker,u=l.line,d=i({width:s.width,dash:{valType:"enumerated",values:r(o),dflt:"solid"}},k("line")),c=Y.exports=n({x:A.x,y:A.y,z:{valType:"data_array"},text:i({},A.text,{}),texttemplate:b({},{}),hovertext:i({},A.hovertext,{}),hovertemplate:w(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),mode:i({},A.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:A.connectgaps,line:d,marker:i({symbol:{valType:"enumerated",values:r(t),dflt:"circle",arrayOk:!0},size:i({},l.size,{dflt:8}),sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,opacity:i({},l.opacity,{arrayOk:!1}),colorbar:l.colorbar,line:i({width:i({},u.width,{arrayOk:!1})},k("marker.line"))},k("marker")),textposition:i({},A.textposition,{dflt:"top center"}),textfont:{color:A.textfont.color,size:A.textfont.size,family:i({},A.textfont.family,{arrayOk:!1})},opacity:h.opacity,hoverinfo:i({},h.hoverinfo)},"calc","nested");c.x.editType=c.y.editType=c.z.editType="calc+clearAxisTypes"},41484:function(Y,P,e){var A=e(20148),k=e(90136);Y.exports=function(a,w){var b=[{x:!1,y:!1,trace:w,t:{}}];return A(b,w),k(a,w),b}},45156:function(Y,P,e){var A=e(24040);function k(a,w,b,h){if(!w||!w.visible)return null;for(var o=A.getComponentMethod("errorbars","makeComputeError")(w),t=new Array(a.length),i=0;i<a.length;i++){var n=o(+a[i],i);if(h.type==="log"){var r=h.c2l(a[i]),s=a[i]-n[0],l=a[i]+n[1];if(t[i]=[(h.c2l(s,!0)-r)*b,(h.c2l(l,!0)-r)*b],s>0){var u=h.c2l(s);h._lowerLogErrorBound||(h._lowerLogErrorBound=u),h._lowerErrorBound=Math.min(h._lowerLogErrorBound,u)}}else t[i]=[-n[0]*b,n[1]*b]}return t}Y.exports=function(a,w,b){var h=[k(a.x,a.error_x,w[0],b.xaxis),k(a.y,a.error_y,w[1],b.yaxis),k(a.z,a.error_z,w[2],b.zaxis)],o=function(l){for(var u=0;u<l.length;u++)if(l[u])return l[u].length;return 0}(h);if(o===0)return null;for(var t=new Array(o),i=0;i<o;i++){for(var n=[[0,0,0],[0,0,0]],r=0;r<3;r++)if(h[r])for(var s=0;s<2;s++)n[s][r]=h[r][i][s];t[i]=n}return t}},41064:function(Y,P,e){var A=e(67792).gl_line3d,k=e(67792).gl_scatter3d,a=e(67792).gl_error3d,w=e(67792).gl_mesh3d,b=e(67792).delaunay_triangulate,h=e(3400),o=e(43080),t=e(33040).formatColor,i=e(7152),n=e(99168),r=e(87792),s=e(54460),l=e(10624).appendArrayPointValue,u=e(45156);function d(f,S){this.scene=f,this.uid=S,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var c=d.prototype;function x(f){return f==null?0:f.indexOf("left")>-1?-1:f.indexOf("right")>-1?1:0}function g(f){return f==null?0:f.indexOf("top")>-1?-1:f.indexOf("bottom")>-1?1:0}function p(f,S){return S(4*f)}function v(f){return r[f]}function y(f,S,T,E,C){var O=null;if(h.isArrayOrTypedArray(f)){O=[];for(var I=0;I<S;I++)f[I]===void 0?O[I]=E:O[I]=T(f[I],C)}else O=T(f,h.identity);return O}function m(f){if(h.isArrayOrTypedArray(f)){var S=f[0];return h.isArrayOrTypedArray(S)&&(f=S),"rgb("+f.slice(0,3).map(function(T){return Math.round(255*T)})+")"}return null}function _(f){return h.isArrayOrTypedArray(f)?f.length===4&&typeof f[0]=="number"?m(f):f.map(m):null}c.handlePick=function(f){if(f.object&&(f.object===this.linePlot||f.object===this.delaunayMesh||f.object===this.textMarkers||f.object===this.scatterPlot)){var S=f.index=f.data.index;return f.object.highlight&&f.object.highlight(null),this.scatterPlot&&(f.object=this.scatterPlot,this.scatterPlot.highlight(f.data)),f.textLabel="",this.textLabels&&(h.isArrayOrTypedArray(this.textLabels)?(this.textLabels[S]||this.textLabels[S]===0)&&(f.textLabel=this.textLabels[S]):f.textLabel=this.textLabels),f.traceCoordinate=[this.data.x[S],this.data.y[S],this.data.z[S]],!0}},c.update=function(f){var S,T,E,C,O=this.scene.glplot.gl,I=n.solid;this.data=f;var z=function(B,Z){var F,j,V,te,Q,$,G=[],X=B.fullSceneLayout,J=B.dataScale,ne=X.xaxis,ie=X.yaxis,ae=X.zaxis,le=Z.marker,ce=Z.line,pe=Z.x||[],ge=Z.y||[],me=Z.z||[],ve=pe.length,Me=Z.xcalendar,_e=Z.ycalendar,we=Z.zcalendar;for(Q=0;Q<ve;Q++)F=ne.d2l(pe[Q],0,Me)*J[0],j=ie.d2l(ge[Q],0,_e)*J[1],V=ae.d2l(me[Q],0,we)*J[2],G[Q]=[F,j,V];if(Array.isArray(Z.text))$=Z.text;else if(h.isTypedArray(Z.text))$=Array.from(Z.text);else if(Z.text!==void 0)for($=new Array(ve),Q=0;Q<ve;Q++)$[Q]=Z.text;function oe(He,qe){var Je=X[He];return s.tickText(Je,Je.d2l(qe),!0).text}var se=Z.texttemplate;if(se){var de=B.fullLayout._d3locale,Ee=Array.isArray(se),Te=Ee?Math.min(se.length,ve):ve,Se=Ee?function(He){return se[He]}:function(){return se};for($=new Array(Te),Q=0;Q<Te;Q++){var Le={x:pe[Q],y:ge[Q],z:me[Q]},Oe={xLabel:oe("xaxis",pe[Q]),yLabel:oe("yaxis",ge[Q]),zLabel:oe("zaxis",me[Q])},he={};l(he,Z,Q);var xe=Z._meta||{};$[Q]=h.texttemplateString(Se(Q),Oe,de,he,Le,xe)}}if(te={position:G,mode:Z.mode,text:$},"line"in Z&&(te.lineColor=t(ce,1,ve),te.lineWidth=ce.width,te.lineDashes=ce.dash),"marker"in Z){var ke=i(Z);te.scatterColor=t(le,1,ve),te.scatterSize=y(le.size,ve,p,20,ke),te.scatterMarker=y(le.symbol,ve,v,"\u25CF"),te.scatterLineWidth=le.line.width,te.scatterLineColor=t(le.line,1,ve),te.scatterAngle=0}"textposition"in Z&&(te.textOffset=function(He){var qe=[0,0];if(Array.isArray(He))for(var Je=0;Je<He.length;Je++)qe[Je]=[0,0],He[Je]&&(qe[Je][0]=x(He[Je]),qe[Je][1]=g(He[Je]));else qe[0]=x(He),qe[1]=g(He);return qe}(Z.textposition),te.textColor=t(Z.textfont,1,ve),te.textSize=y(Z.textfont.size,ve,h.identity,12),te.textFont=Z.textfont.family,te.textAngle=0);var Re=["x","y","z"];for(te.project=[!1,!1,!1],te.projectScale=[1,1,1],te.projectOpacity=[1,1,1],Q=0;Q<3;++Q){var ze=Z.projection[Re[Q]];(te.project[Q]=ze.show)&&(te.projectOpacity[Q]=ze.opacity,te.projectScale[Q]=ze.scale)}te.errorBounds=u(Z,J,X);var Ie=function(He){for(var qe=[0,0,0],Je=[[0,0,0],[0,0,0],[0,0,0]],st=[1,1,1],it=0;it<3;it++){var vt=He[it];vt&&vt.copy_zstyle!==!1&&He[2].visible!==!1&&(vt=He[2]),vt&&vt.visible&&(qe[it]=vt.width/2,Je[it]=o(vt.color),st[it]=vt.thickness)}return{capSize:qe,color:Je,lineWidth:st}}([Z.error_x,Z.error_y,Z.error_z]);return te.errorColor=Ie.color,te.errorLineWidth=Ie.lineWidth,te.errorCapSize=Ie.capSize,te.delaunayAxis=Z.surfaceaxis,te.delaunayColor=o(Z.surfacecolor),te}(this.scene,f);"mode"in z&&(this.mode=z.mode),"lineDashes"in z&&z.lineDashes in n&&(I=n[z.lineDashes]),this.color=_(z.scatterColor)||_(z.lineColor),this.dataPoints=z.position,S={gl:this.scene.glplot.gl,position:z.position,color:z.lineColor,lineWidth:z.lineWidth||1,dashes:I[0],dashScale:I[1],opacity:f.opacity,connectGaps:f.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(S):(this.linePlot=A(S),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var U=f.opacity;if(f.marker&&f.marker.opacity!==void 0&&(U*=f.marker.opacity),T={gl:this.scene.glplot.gl,position:z.position,color:z.scatterColor,size:z.scatterSize,glyph:z.scatterMarker,opacity:U,orthographic:!0,lineWidth:z.scatterLineWidth,lineColor:z.scatterLineColor,project:z.project,projectScale:z.projectScale,projectOpacity:z.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(T):(this.scatterPlot=k(T),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),C={gl:this.scene.glplot.gl,position:z.position,glyph:z.text,color:z.textColor,size:z.textSize,angle:z.textAngle,alignment:z.textOffset,font:z.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:f.opacity},this.textLabels=f.hovertext||f.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(C):(this.textMarkers=k(C),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),E={gl:this.scene.glplot.gl,position:z.position,color:z.errorColor,error:z.errorBounds,lineWidth:z.errorLineWidth,capSize:z.errorCapSize,opacity:f.opacity},this.errorBars?z.errorBounds?this.errorBars.update(E):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):z.errorBounds&&(this.errorBars=a(E),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),z.delaunayAxis>=0){var D=function(B,Z,F){var j,V=(F+1)%3,te=(F+2)%3,Q=[],$=[];for(j=0;j<B.length;++j){var G=B[j];!isNaN(G[V])&&isFinite(G[V])&&!isNaN(G[te])&&isFinite(G[te])&&(Q.push([G[V],G[te]]),$.push(j))}var X=b(Q);for(j=0;j<X.length;++j)for(var J=X[j],ne=0;ne<J.length;++ne)J[ne]=$[J[ne]];return{positions:B,cells:X,meshColor:Z}}(z.position,z.delaunayColor,z.delaunayAxis);D.opacity=f.opacity,this.delaunayMesh?this.delaunayMesh.update(D):(D.gl=O,this.delaunayMesh=w(D),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},c.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},Y.exports=function(f,S){var T=new d(f,S.uid);return T.update(S),T}},83484:function(Y,P,e){var A=e(24040),k=e(3400),a=e(43028),w=e(74428),b=e(66828),h=e(124),o=e(91592);Y.exports=function(t,i,n,r){function s(v,y){return k.coerce(t,i,o,v,y)}var l=function(v,y,m,_){var f=0,S=m("x"),T=m("y"),E=m("z");return A.getComponentMethod("calendars","handleTraceDefaults")(v,y,["x","y","z"],_),S&&T&&E&&(f=Math.min(S.length,T.length,E.length),y._length=y._xlength=y._ylength=y._zlength=f),f}(t,i,s,r);if(l){s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),s("zhoverformat"),s("mode"),a.hasMarkers(i)&&w(t,i,n,r,s,{noSelect:!0,noAngle:!0}),a.hasLines(i)&&(s("connectgaps"),b(t,i,n,r,s)),a.hasText(i)&&(s("texttemplate"),h(t,i,r,s,{noSelect:!0}));var u=(i.line||{}).color,d=(i.marker||{}).color;s("surfaceaxis")>=0&&s("surfacecolor",u||d);for(var c=["x","y","z"],x=0;x<3;++x){var g="projection."+c[x];s(g+".show")&&(s(g+".opacity"),s(g+".scale"))}var p=A.getComponentMethod("errorbars","supplyDefaults");p(t,i,u||d||n,{axis:"z"}),p(t,i,u||d||n,{axis:"y",inherit:"z"}),p(t,i,u||d||n,{axis:"x",inherit:"z"})}else i.visible=!1}},3296:function(Y,P,e){Y.exports={plot:e(41064),attributes:e(91592),markerSymbols:e(87792),supplyDefaults:e(83484),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(41484),moduleType:"trace",name:"scatter3d",basePlotModule:e(12536),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},90372:function(Y,P,e){var A=e(52904),k=e(45464),a=e(21776).Ks,w=e(21776).Gw,b=e(49084),h=e(92880).extendFlat,o=A.marker,t=A.line,i=o.line;Y.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:h({},A.mode,{dflt:"markers"}),text:h({},A.text,{}),texttemplate:w({editType:"plot"},{keys:["a","b","text"]}),hovertext:h({},A.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:h({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:A.connectgaps,fill:h({},A.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:A.fillcolor,marker:h({symbol:o.symbol,opacity:o.opacity,maxdisplayed:o.maxdisplayed,angle:o.angle,angleref:o.angleref,standoff:o.standoff,size:o.size,sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode,line:h({width:i.width,editType:"calc"},b("marker.line")),gradient:o.gradient,editType:"calc"},b("marker")),textfont:A.textfont,textposition:A.textposition,selected:A.selected,unselected:A.unselected,hoverinfo:h({},k.hoverinfo,{flags:["a","b","text","name"]}),hoveron:A.hoveron,hovertemplate:a()}},48228:function(Y,P,e){var A=e(38248),k=e(90136),a=e(20148),w=e(4500),b=e(16356).calcMarkerSize,h=e(50948);Y.exports=function(o,t){var i=t._carpetTrace=h(o,t);if(i&&i.visible&&i.visible!=="legendonly"){var n;t.xaxis=i.xaxis,t.yaxis=i.yaxis;var r,s,l=t._length,u=new Array(l),d=!1;for(n=0;n<l;n++)if(r=t.a[n],s=t.b[n],A(r)&&A(s)){var c=i.ab2xy(+r,+s,!0),x=i.isVisible(+r,+s);x||(d=!0),u[n]={x:c[0],y:c[1],a:r,b:s,vis:x}}else u[n]={x:!1,y:!1};return t._needsCull=d,u[0].carpet=i,u[0].trace=t,b(t,l),k(o,t),a(u,t),w(u,t),u}}},6176:function(Y,P,e){var A=e(3400),k=e(88200),a=e(43028),w=e(74428),b=e(66828),h=e(11731),o=e(124),t=e(70840),i=e(90372);Y.exports=function(n,r,s,l){function u(p,v){return A.coerce(n,r,i,p,v)}u("carpet"),r.xaxis="x",r.yaxis="y";var d=u("a"),c=u("b"),x=Math.min(d.length,c.length);if(x){r._length=x,u("text"),u("texttemplate"),u("hovertext"),u("mode",x<k.PTS_LINESONLY?"lines+markers":"lines"),a.hasMarkers(r)&&w(n,r,s,l,u,{gradient:!0}),a.hasLines(r)&&(b(n,r,s,l,u,{backoff:!0}),h(n,r,u),u("connectgaps")),a.hasText(r)&&o(n,r,l,u);var g=[];(a.hasMarkers(r)||a.hasText(r))&&(u("marker.maxdisplayed"),g.push("points")),u("fill"),r.fill!=="none"&&(t(n,r,s,u),a.hasLines(r)||h(n,r,u)),r.fill!=="tonext"&&r.fill!=="toself"||g.push("fills"),u("hoveron",g.join("+")||"points")!=="fills"&&u("hovertemplate"),A.coerceSelectionMarkerOpacity(r,u)}else r.visible=!1}},89307:function(Y){Y.exports=function(P,e,A,k,a){var w=k[a];return P.a=w.a,P.b=w.b,P.y=w.y,P}},52364:function(Y){Y.exports=function(P,e){var A={},k=e._carpet,a=k.ab2ij([P.a,P.b]),w=Math.floor(a[0]),b=a[0]-w,h=Math.floor(a[1]),o=a[1]-h,t=k.evalxy([],w,h,b,o);return A.yLabel=t[1].toFixed(3),A}},58960:function(Y,P,e){var A=e(98723),k=e(3400).fillText;Y.exports=function(a,w,b,h){var o=A(a,w,b,h);if(o&&o[0].index!==!1){var t=o[0];if(t.index===void 0){var i=1-t.y0/a.ya._length,n=a.xa._length,r=n*i/2,s=n-r;return t.x0=Math.max(Math.min(t.x0,s),r),t.x1=Math.max(Math.min(t.x1,s),r),o}var l=t.cd[t.index];t.a=l.a,t.b=l.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var u=t.trace,d=u._carpet,c=u._module.formatLabels(l,u);t.yLabel=c.yLabel,delete t.text;var x=[];if(!u.hovertemplate){var g=(l.hi||u.hoverinfo).split("+");g.indexOf("all")!==-1&&(g=["a","b","text"]),g.indexOf("a")!==-1&&p(d.aaxis,l.a),g.indexOf("b")!==-1&&p(d.baxis,l.b),x.push("y: "+t.yLabel),g.indexOf("text")!==-1&&k(l,u,x),t.extraText=x.join("<br>")}return o}function p(v,y){var m;m=v.labelprefix&&v.labelprefix.length>0?v.labelprefix.replace(/ = $/,""):v._hovertitle,x.push(m+": "+y.toFixed(3)+v.labelsuffix)}}},4184:function(Y,P,e){Y.exports={attributes:e(90372),supplyDefaults:e(6176),colorbar:e(5528),formatLabels:e(52364),calc:e(48228),plot:e(20036),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(58960),selectPoints:e(91560),eventData:e(89307),moduleType:"trace",name:"scattercarpet",basePlotModule:e(57952),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},20036:function(Y,P,e){var A=e(96504),k=e(54460),a=e(43616);Y.exports=function(w,b,h,o){var t,i,n,r=h[0][0].carpet,s=k.getFromId(w,r.xaxis||"x"),l=k.getFromId(w,r.yaxis||"y"),u={xaxis:s,yaxis:l,plot:b.plot};for(t=0;t<h.length;t++)(i=h[t][0].trace)._xA=s,i._yA=l;for(A(w,u,h,o),t=0;t<h.length;t++)i=h[t][0].trace,n=o.selectAll("g.trace"+i.uid+" .js-line"),a.setClipUrl(n,h[t][0].carpet._clipPathId,w)}},6096:function(Y,P,e){var A=e(21776).Ks,k=e(21776).Gw,a=e(52904),w=e(45464),b=e(49084),h=e(98192).u,o=e(92880).extendFlat,t=e(67824).overrideAll,i=a.marker,n=a.line,r=i.line;Y.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:o({},a.mode,{dflt:"markers"}),text:o({},a.text,{}),texttemplate:k({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:o({},a.hovertext,{}),textfont:a.textfont,textposition:a.textposition,line:{color:n.color,width:n.width,dash:h},connectgaps:a.connectgaps,marker:o({symbol:i.symbol,opacity:i.opacity,angle:i.angle,angleref:o({},i.angleref,{values:["previous","up","north"]}),standoff:i.standoff,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,colorbar:i.colorbar,line:o({width:r.width},b("marker.line")),gradient:i.gradient},b("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:a.fillcolor,selected:a.selected,unselected:a.unselected,hoverinfo:o({},w.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:A()},"calc","nested")},25212:function(Y,P,e){var A=e(38248),k=e(39032).BADNUM,a=e(90136),w=e(20148),b=e(4500),h=e(3400).isArrayOrTypedArray,o=e(3400)._;function t(i){return i&&typeof i=="string"}Y.exports=function(i,n){var r,s=h(n.locations),l=s?n.locations.length:n._length,u=new Array(l);r=n.geojson?function(v){return t(v)||A(v)}:t;for(var d=0;d<l;d++){var c=u[d]={};if(s){var x=n.locations[d];c.loc=r(x)?x:null}else{var g=n.lon[d],p=n.lat[d];A(g)&&A(p)?c.lonlat=[+g,+p]:c.lonlat=[k,k]}}return w(u,n),a(i,n),b(u,n),l&&(u[0].t={labels:{lat:o(i,"lat:")+" ",lon:o(i,"lon:")+" "}}),u}},86188:function(Y,P,e){var A=e(3400),k=e(43028),a=e(74428),w=e(66828),b=e(124),h=e(70840),o=e(6096);Y.exports=function(t,i,n,r){function s(p,v){return A.coerce(t,i,o,p,v)}var l,u=s("locations");if(u&&u.length){var d,c=s("geojson");(typeof c=="string"&&c!==""||A.isPlainObject(c))&&(d="geojson-id"),s("locationmode",d)==="geojson-id"&&s("featureidkey"),l=u.length}else{var x=s("lon")||[],g=s("lat")||[];l=Math.min(x.length,g.length)}l?(i._length=l,s("text"),s("hovertext"),s("hovertemplate"),s("mode"),k.hasMarkers(i)&&a(t,i,n,r,s,{gradient:!0}),k.hasLines(i)&&(w(t,i,n,r,s),s("connectgaps")),k.hasText(i)&&(s("texttemplate"),b(t,i,r,s)),s("fill"),i.fill!=="none"&&h(t,i,n,s),A.coerceSelectionMarkerOpacity(i,s)):i.visible=!1}},58544:function(Y){Y.exports=function(P,e,A,k,a){P.lon=e.lon,P.lat=e.lat,P.location=e.loc?e.loc:null;var w=k[a];return w.fIn&&w.fIn.properties&&(P.properties=w.fIn.properties),P}},56696:function(Y,P,e){var A=e(54460);Y.exports=function(k,a,w){var b={},h=w[a.geo]._subplot.mockAxis,o=k.lonlat;return b.lonLabel=A.tickText(h,h.c2l(o[0]),!0).text,b.latLabel=A.tickText(h,h.c2l(o[1]),!0).text,b}},64292:function(Y,P,e){var A=e(93024),k=e(39032).BADNUM,a=e(44928),w=e(3400).fillText,b=e(6096);Y.exports=function(h,o,t){var i=h.cd,n=i[0].trace,r=h.xa,s=h.ya,l=h.subplot,u=l.projection.isLonLatOverEdges,d=l.project;if(A.getClosest(i,function(m){var _=m.lonlat;if(_[0]===k||u(_))return 1/0;var f=d(_),S=d([o,t]),T=Math.abs(f[0]-S[0]),E=Math.abs(f[1]-S[1]),C=Math.max(3,m.mrc||0);return Math.max(Math.sqrt(T*T+E*E)-C,1-3/C)},h),h.index!==!1){var c=i[h.index],x=c.lonlat,g=[r.c2p(x),s.c2p(x)],p=c.mrc||1;h.x0=g[0]-p,h.x1=g[0]+p,h.y0=g[1]-p,h.y1=g[1]+p,h.loc=c.loc,h.lon=x[0],h.lat=x[1];var v={};v[n.geo]={_subplot:l};var y=n._module.formatLabels(c,n,v);return h.lonLabel=y.lonLabel,h.latLabel=y.latLabel,h.color=a(n,c),h.extraText=function(m,_,f,S){if(!m.hovertemplate){var T=_.hi||m.hoverinfo,E=T==="all"?b.hoverinfo.flags:T.split("+"),C=E.indexOf("location")!==-1&&Array.isArray(m.locations),O=E.indexOf("lon")!==-1,I=E.indexOf("lat")!==-1,z=E.indexOf("text")!==-1,U=[];return C?U.push(_.loc):O&&I?U.push("("+D(f.latLabel)+", "+D(f.lonLabel)+")"):O?U.push(S.lon+D(f.lonLabel)):I&&U.push(S.lat+D(f.latLabel)),z&&w(_,m,U),U.join("<br>")}function D(B){return B+"\xB0"}}(n,c,h,i[0].t.labels),h.hovertemplate=n.hovertemplate,[h]}}},36952:function(Y,P,e){Y.exports={attributes:e(6096),supplyDefaults:e(86188),colorbar:e(5528),formatLabels:e(56696),calc:e(25212),calcGeoJSON:e(48691).calcGeoJSON,plot:e(48691).plot,style:e(25064),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(64292),eventData:e(58544),selectPoints:e(8796),moduleType:"trace",name:"scattergeo",basePlotModule:e(10816),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},48691:function(Y,P,e){var A=e(33428),k=e(3400),a=e(59972).getTopojsonFeatures,w=e(44808),b=e(27144),h=e(19280).findExtremes,o=e(39032).BADNUM,t=e(16356).calcMarkerSize,i=e(43028),n=e(25064);Y.exports={calcGeoJSON:function(r,s){var l,u,d=r[0].trace,c=s[d.geo],x=c._subplot,g=d._length;if(k.isArrayOrTypedArray(d.locations)){var p=d.locationmode,v=p==="geojson-id"?b.extractTraceFeature(r):a(d,x.topojson);for(l=0;l<g;l++){u=r[l];var y=p==="geojson-id"?u.fOut:b.locationToFeature(p,u.loc,v);u.lonlat=y?y.properties.ct:[o,o]}}var m,_,f={padded:!0};if(c.fitbounds==="geojson"&&d.locationmode==="geojson-id"){var S=b.computeBbox(b.getTraceGeojson(d));m=[S[0],S[2]],_=[S[1],S[3]]}else{for(m=new Array(g),_=new Array(g),l=0;l<g;l++)u=r[l],m[l]=u.lonlat[0],_[l]=u.lonlat[1];f.ppad=t(d,g)}d._extremes.lon=h(c.lonaxis._ax,m,f),d._extremes.lat=h(c.lataxis._ax,_,f)},plot:function(r,s,l){var u=s.layers.frontplot.select(".scatterlayer"),d=k.makeTraceGroups(u,l,"trace scattergeo");function c(x,g){x.lonlat[0]===o&&A.select(g).remove()}d.selectAll("*").remove(),d.each(function(x){var g=A.select(this),p=x[0].trace;if(i.hasLines(p)||p.fill!=="none"){var v=w.calcTraceToLineCoords(x),y=p.fill!=="none"?w.makePolygon(v):w.makeLine(v);g.selectAll("path.js-line").data([{geojson:y,trace:p}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}i.hasMarkers(p)&&g.selectAll("path.point").data(k.identity).enter().append("path").classed("point",!0).each(function(m){c(m,this)}),i.hasText(p)&&g.selectAll("g").data(k.identity).enter().append("g").append("text").each(function(m){c(m,this)}),n(r,x)})}}},8796:function(Y,P,e){var A=e(43028),k=e(39032).BADNUM;Y.exports=function(a,w){var b,h,o,t,i,n=a.cd,r=a.xaxis,s=a.yaxis,l=[],u=n[0].trace;if(!A.hasMarkers(u)&&!A.hasText(u))return[];if(w===!1)for(i=0;i<n.length;i++)n[i].selected=0;else for(i=0;i<n.length;i++)(h=(b=n[i]).lonlat)[0]!==k&&(o=r.c2p(h),t=s.c2p(h),w.contains([o,t],null,i,a)?(l.push({pointNumber:i,lon:h[0],lat:h[1]}),b.selected=1):b.selected=0);return l}},25064:function(Y,P,e){var A=e(33428),k=e(43616),a=e(76308),w=e(49224),b=w.stylePoints,h=w.styleText;Y.exports=function(o,t){t&&function(i,n){var r=n[0].trace,s=n[0].node3;s.style("opacity",n[0].trace.opacity),b(s,r,i),h(s,r,i),s.selectAll("path.js-line").style("fill","none").each(function(l){var u=A.select(this),d=l.trace,c=d.line||{};u.call(a.stroke,c.color).call(k.dashLine,c.dash||"",c.width||0),d.fill!=="none"&&u.call(a.fill,d.fillcolor)})}(o,t)}},2876:function(Y,P,e){var A=e(45464),k=e(52904),a=e(29736).axisHoverFormat,w=e(49084),b=e(95376),h=e(92880).extendFlat,o=e(67824).overrideAll,t=e(67072).DASHES,i=k.line,n=k.marker,r=n.line,s=Y.exports=o({x:k.x,x0:k.x0,dx:k.dx,y:k.y,y0:k.y0,dy:k.dy,xperiod:k.xperiod,yperiod:k.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:k.xperiodalignment,yperiodalignment:k.yperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),text:k.text,hovertext:k.hovertext,textposition:k.textposition,textfont:k.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:i.color,width:i.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:b(t),dflt:"solid"}},marker:h({},w("marker"),{symbol:n.symbol,angle:n.angle,size:n.size,sizeref:n.sizeref,sizemin:n.sizemin,sizemode:n.sizemode,opacity:n.opacity,colorbar:n.colorbar,line:h({},w("marker.line"),{width:r.width})}),connectgaps:k.connectgaps,fill:h({},k.fill,{dflt:"none"}),fillcolor:k.fillcolor,selected:{marker:k.selected.marker,textfont:k.selected.textfont},unselected:{marker:k.unselected.marker,textfont:k.unselected.textfont},opacity:A.opacity},"calc","nested");s.x.editType=s.y.editType=s.x0.editType=s.y0.editType="calc+clearAxisTypes",s.hovertemplate=k.hovertemplate,s.texttemplate=k.texttemplate},64628:function(Y,P,e){var A=e(41272);Y.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(57952),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(2876),supplyDefaults:e(80220),crossTraceDefaults:e(35036),colorbar:e(5528),formatLabels:e(99396),calc:e(24856),hoverPoints:A.hoverPoints,selectPoints:e(73224),meta:{}}},24856:function(Y,P,e){var A=e(3108),k=e(3400),a=e(79811),w=e(19280).findExtremes,b=e(1220),h=e(16356),o=h.calcMarkerSize,t=h.calcAxisExpansion,i=h.setFirstScatter,n=e(90136),r=e(84236),s=e(74588),l=e(39032).BADNUM,u=e(67072).TOO_MANY_POINTS;function d(c,x,g){var p=c._extremes[x._id],v=w(x,g._bnds,{padded:!0});p.min=p.min.concat(v.min),p.max=p.max.concat(v.max)}Y.exports=function(c,x){var g,p=c._fullLayout,v=x._xA=a.getFromId(c,x.xaxis,"x"),y=x._yA=a.getFromId(c,x.yaxis,"y"),m=p._plots[x.xaxis+x.yaxis],_=x._length,f=_>=u,S=2*_,T={},E=v.makeCalcdata(x,"x"),C=y.makeCalcdata(x,"y"),O=b(x,v,"x",E),I=b(x,y,"y",C),z=O.vals,U=I.vals;x._x=z,x._y=U,x.xperiodalignment&&(x._origX=E,x._xStarts=O.starts,x._xEnds=O.ends),x.yperiodalignment&&(x._origY=C,x._yStarts=I.starts,x._yEnds=I.ends);var D=new Array(S),B=new Array(_);for(g=0;g<_;g++)D[2*g]=z[g]===l?NaN:z[g],D[2*g+1]=U[g]===l?NaN:U[g],B[g]=g;if(v.type==="log")for(g=0;g<S;g+=2)D[g]=v.c2l(D[g]);if(y.type==="log")for(g=1;g<S;g+=2)D[g]=y.c2l(D[g]);f&&v.type!=="log"&&y.type!=="log"?T.tree=A(D):T.ids=B,n(c,x);var Z,F=function(V,te,Q,$,G,X){var J=r.style(V,Q);if(J.marker&&(J.marker.positions=$),J.line&&$.length>1&&k.extendFlat(J.line,r.linePositions(V,Q,$)),J.errorX||J.errorY){var ne=r.errorBarPositions(V,Q,$,G,X);J.errorX&&k.extendFlat(J.errorX,ne.x),J.errorY&&k.extendFlat(J.errorY,ne.y)}return J.text&&(k.extendFlat(J.text,{positions:$},r.textPosition(V,Q,J.text,J.marker)),k.extendFlat(J.textSel,{positions:$},r.textPosition(V,Q,J.text,J.markerSel)),k.extendFlat(J.textUnsel,{positions:$},r.textPosition(V,Q,J.text,J.markerUnsel))),J}(c,0,x,D,z,U),j=s(c,m);return i(p,x),f?F.marker&&(Z=F.marker.sizeAvg||Math.max(F.marker.size,3)):Z=o(x,_),t(c,x,v,y,z,U,Z),F.errorX&&d(x,v,F.errorX),F.errorY&&d(x,y,F.errorY),F.fill&&!j.fill2d&&(j.fill2d=!0),F.marker&&!j.scatter2d&&(j.scatter2d=!0),F.line&&!j.line2d&&(j.line2d=!0),!F.errorX&&!F.errorY||j.error2d||(j.error2d=!0),F.text&&!j.glText&&(j.glText=!0),F.marker&&(F.marker.snap=_),j.lineOptions.push(F.line),j.errorXOptions.push(F.errorX),j.errorYOptions.push(F.errorY),j.fillOptions.push(F.fill),j.markerOptions.push(F.marker),j.markerSelectedOptions.push(F.markerSel),j.markerUnselectedOptions.push(F.markerUnsel),j.textOptions.push(F.text),j.textSelectedOptions.push(F.textSel),j.textUnselectedOptions.push(F.textUnsel),j.selectBatch.push([]),j.unselectBatch.push([]),T._scene=j,T.index=j.count,T.x=z,T.y=U,T.positions=D,j.count++,[{x:!1,y:!1,t:T,trace:x}]}},67072:function(Y){Y.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},84236:function(Y,P,e){var A=e(38248),k=e(20472),a=e(72160),w=e(24040),b=e(3400),h=b.isArrayOrTypedArray,o=e(43616),t=e(79811),i=e(33040).formatColor,n=e(43028),r=e(7152),s=e(80088),l=e(67072),u=e(13448).DESELECTDIM,d={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},c=e(10624).appendArrayPointValue;function x(C,O){var I,z=C._fullLayout,U=O._length,D=O.textfont,B=O.textposition,Z=h(B)?B:[B],F=D.color,j=D.size,V=D.family,te={},Q=C._context.plotGlPixelRatio,$=O.texttemplate;if($){te.text=[];var G=z._d3locale,X=Array.isArray($),J=X?Math.min($.length,U):U,ne=X?function(me){return $[me]}:function(){return $};for(I=0;I<J;I++){var ie={i:I},ae=O._module.formatLabels(ie,O,z),le={};c(le,O,I);var ce=O._meta||{};te.text.push(b.texttemplateString(ne(I),ae,G,le,ie,ce))}}else h(O.text)&&O.text.length<U?te.text=O.text.slice():te.text=O.text;if(h(te.text))for(I=te.text.length;I<U;I++)te.text[I]="";for(te.opacity=O.opacity,te.font={},te.align=[],te.baseline=[],I=0;I<Z.length;I++){var pe=Z[I].split(/\s+/);switch(pe[1]){case"left":te.align.push("right");break;case"right":te.align.push("left");break;default:te.align.push(pe[1])}switch(pe[0]){case"top":te.baseline.push("bottom");break;case"bottom":te.baseline.push("top");break;default:te.baseline.push(pe[0])}}if(h(F))for(te.color=new Array(U),I=0;I<U;I++)te.color[I]=F[I];else te.color=F;if(h(j)||h(V))for(te.font=new Array(U),I=0;I<U;I++){var ge=te.font[I]={};ge.size=(b.isTypedArray(j)?j[I]:h(j)?A(j[I])?j[I]:0:j)*Q,ge.family=h(V)?V[I]:V}else te.font={size:j*Q,family:V};return te}function g(C,O){var I,z,U=O._length,D=O.marker,B={},Z=h(D.symbol),F=h(D.angle),j=h(D.color),V=h(D.line.color),te=h(D.opacity),Q=h(D.size),$=h(D.line.width);if(Z||(z=s.isOpenSymbol(D.symbol)),Z||j||V||te||F){B.symbols=new Array(U),B.angles=new Array(U),B.colors=new Array(U),B.borderColors=new Array(U);var G=D.symbol,X=D.angle,J=i(D,D.opacity,U),ne=i(D.line,D.opacity,U);if(!h(ne[0])){var ie=ne;for(ne=Array(U),I=0;I<U;I++)ne[I]=ie}if(!h(J[0])){var ae=J;for(J=Array(U),I=0;I<U;I++)J[I]=ae}if(!h(G)){var le=G;for(G=Array(U),I=0;I<U;I++)G[I]=le}if(!h(X)){var ce=X;for(X=Array(U),I=0;I<U;I++)X[I]=ce}for(B.symbols=G,B.angles=X,B.colors=J,B.borderColors=ne,I=0;I<U;I++)Z&&(z=s.isOpenSymbol(D.symbol[I])),z&&(ne[I]=J[I].slice(),J[I]=J[I].slice(),J[I][3]=0);for(B.opacity=O.opacity,B.markers=new Array(U),I=0;I<U;I++)B.markers[I]=E({mx:B.symbols[I],ma:B.angles[I]},O)}else z?(B.color=a(D.color,"uint8"),B.color[3]=0,B.borderColor=a(D.color,"uint8")):(B.color=a(D.color,"uint8"),B.borderColor=a(D.line.color,"uint8")),B.opacity=O.opacity*D.opacity,B.marker=E({mx:D.symbol,ma:D.angle},O);var pe,ge=r(O,1);if(Q||$){var me,ve=B.sizes=new Array(U),Me=B.borderSizes=new Array(U),_e=0;if(Q){for(I=0;I<U;I++)ve[I]=ge(D.size[I]),_e+=ve[I];me=_e/U}else for(pe=ge(D.size),I=0;I<U;I++)ve[I]=pe;if($)for(I=0;I<U;I++)Me[I]=D.line.width[I];else for(pe=D.line.width,I=0;I<U;I++)Me[I]=pe;B.sizeAvg=me}else B.size=ge(D&&D.size||10),B.borderSizes=ge(D.line.width);return B}function p(C,O,I){var z=O.marker,U={};return I&&(I.marker&&I.marker.symbol?U=g(0,b.extendFlat({},z,I.marker)):I.marker&&(I.marker.size&&(U.size=I.marker.size),I.marker.color&&(U.colors=I.marker.color),I.marker.opacity!==void 0&&(U.opacity=I.marker.opacity))),U}function v(C,O,I){var z={};if(!I)return z;if(I.textfont){var U={opacity:1,text:O.text,texttemplate:O.texttemplate,textposition:O.textposition,textfont:b.extendFlat({},O.textfont)};I.textfont&&b.extendFlat(U.textfont,I.textfont),z=x(C,U)}return z}function y(C,O,I){var z={capSize:2*O.width*I,lineWidth:O.thickness*I,color:O.color};return O.copy_ystyle&&(z=C.error_y),z}var m=l.SYMBOL_SDF_SIZE,_=l.SYMBOL_SIZE,f=l.SYMBOL_STROKE,S={},T=o.symbolFuncs[0](.05*_);function E(C,O){var I,z,U=C.mx;if(U==="circle")return null;var D=o.symbolNumber(U),B=o.symbolFuncs[D%100],Z=!!o.symbolNoDot[D%100],F=!!o.symbolNoFill[D%100],j=s.isDotSymbol(U);if(C.ma&&(U+="_"+C.ma),S[U])return S[U];var V=o.getMarkerAngle(C,O);return I=j&&!Z?B(1.1*_,V)+T:B(_,V),z=k(I,{w:m,h:m,viewBox:[-_,-_,_,_],stroke:F?f:-f}),S[U]=z,z||null}Y.exports={style:function(C,O){var I,z={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},U=C._context.plotGlPixelRatio;if(O.visible!==!0)return z;if(n.hasText(O)&&(z.text=x(C,O),z.textSel=v(C,O,O.selected),z.textUnsel=v(C,O,O.unselected)),n.hasMarkers(O)&&(z.marker=g(0,O),z.markerSel=p(0,O,O.selected),z.markerUnsel=p(0,O,O.unselected),!O.unselected&&h(O.marker.opacity))){var D=O.marker.opacity;for(z.markerUnsel.opacity=new Array(D.length),I=0;I<D.length;I++)z.markerUnsel.opacity[I]=u*D[I]}if(n.hasLines(O)){z.line={overlay:!0,thickness:O.line.width*U,color:O.line.color,opacity:O.opacity};var B=(l.DASHES[O.line.dash]||[1]).slice();for(I=0;I<B.length;++I)B[I]*=O.line.width*U;z.line.dashes=B}return O.error_x&&O.error_x.visible&&(z.errorX=y(O,O.error_x,U)),O.error_y&&O.error_y.visible&&(z.errorY=y(O,O.error_y,U)),O.fill&&O.fill!=="none"&&(z.fill={closed:!0,fill:O.fillcolor,thickness:0}),z},markerStyle:g,markerSelection:p,linePositions:function(C,O,I){var z,U,D=I.length,B=D/2;if(n.hasLines(O)&&B)if(O.line.shape==="hv"){for(z=[],U=0;U<B-1;U++)isNaN(I[2*U])||isNaN(I[2*U+1])?z.push(NaN,NaN,NaN,NaN):(z.push(I[2*U],I[2*U+1]),isNaN(I[2*U+2])||isNaN(I[2*U+3])?z.push(NaN,NaN):z.push(I[2*U+2],I[2*U+1]));z.push(I[D-2],I[D-1])}else if(O.line.shape==="hvh"){for(z=[],U=0;U<B-1;U++)if(isNaN(I[2*U])||isNaN(I[2*U+1])||isNaN(I[2*U+2])||isNaN(I[2*U+3]))isNaN(I[2*U])||isNaN(I[2*U+1])?z.push(NaN,NaN):z.push(I[2*U],I[2*U+1]),z.push(NaN,NaN);else{var Z=(I[2*U]+I[2*U+2])/2;z.push(I[2*U],I[2*U+1],Z,I[2*U+1],Z,I[2*U+3])}z.push(I[D-2],I[D-1])}else if(O.line.shape==="vhv"){for(z=[],U=0;U<B-1;U++)if(isNaN(I[2*U])||isNaN(I[2*U+1])||isNaN(I[2*U+2])||isNaN(I[2*U+3]))isNaN(I[2*U])||isNaN(I[2*U+1])?z.push(NaN,NaN):z.push(I[2*U],I[2*U+1]),z.push(NaN,NaN);else{var F=(I[2*U+1]+I[2*U+3])/2;z.push(I[2*U],I[2*U+1],I[2*U],F,I[2*U+2],F)}z.push(I[D-2],I[D-1])}else if(O.line.shape==="vh"){for(z=[],U=0;U<B-1;U++)isNaN(I[2*U])||isNaN(I[2*U+1])?z.push(NaN,NaN,NaN,NaN):(z.push(I[2*U],I[2*U+1]),isNaN(I[2*U+2])||isNaN(I[2*U+3])?z.push(NaN,NaN):z.push(I[2*U],I[2*U+3]));z.push(I[D-2],I[D-1])}else z=I;var j=!1;for(U=0;U<z.length;U++)if(isNaN(z[U])){j=!0;break}var V=j||z.length>l.TOO_MANY_POINTS||n.hasMarkers(O)?"rect":"round";if(j&&O.connectgaps){var te=z[0],Q=z[1];for(U=0;U<z.length;U+=2)isNaN(z[U])||isNaN(z[U+1])?(z[U]=te,z[U+1]=Q):(te=z[U],Q=z[U+1])}return{join:V,positions:z}},errorBarPositions:function(C,O,I,z,U){var D=w.getComponentMethod("errorbars","makeComputeError"),B=t.getFromId(C,O.xaxis,"x"),Z=t.getFromId(C,O.yaxis,"y"),F=I.length/2,j={};function V(te,Q){var $=Q._id.charAt(0),G=O["error_"+$];if(G&&G.visible&&(Q.type==="linear"||Q.type==="log")){for(var X=D(G),J={x:0,y:1}[$],ne={x:[0,1,2,3],y:[2,3,0,1]}[$],ie=new Float64Array(4*F),ae=1/0,le=-1/0,ce=0,pe=0;ce<F;ce++,pe+=4){var ge=te[ce];if(A(ge)){var me=I[2*ce+J],ve=X(ge,ce),Me=ve[0],_e=ve[1];if(A(Me)&&A(_e)){var we=ge-Me,oe=ge+_e;ie[pe+ne[0]]=me-Q.c2l(we),ie[pe+ne[1]]=Q.c2l(oe)-me,ie[pe+ne[2]]=0,ie[pe+ne[3]]=0,ae=Math.min(ae,ge-Me),le=Math.max(le,ge+_e)}}}j[$]={positions:I,errors:ie,_bnds:[ae,le]}}}return V(z,B),V(U,Z),j},textPosition:function(C,O,I,z){var U,D=O._length,B={};if(n.hasMarkers(O)){var Z=I.font,F=I.align,j=I.baseline;for(B.offset=new Array(D),U=0;U<D;U++){var V=z.sizes?z.sizes[U]:z.size,te=h(Z)?Z[U].size:Z.size,Q=h(F)?F.length>1?F[U]:F[0]:F,$=h(j)?j.length>1?j[U]:j[0]:j,G=d[Q],X=d[$],J=V?V/.8+1:0,ne=-X*J-.5*X;B.offset[U]=[G*J/te,ne/te]}}return B}}},80220:function(Y,P,e){var A=e(3400),k=e(24040),a=e(80088),w=e(2876),b=e(88200),h=e(43028),o=e(43980),t=e(31147),i=e(74428),n=e(66828),r=e(70840),s=e(124);Y.exports=function(l,u,d,c){function x(S,T){return A.coerce(l,u,w,S,T)}var g=!!l.marker&&a.isOpenSymbol(l.marker.symbol),p=h.isBubble(l),v=o(l,u,c,x);if(v){t(l,u,c,x),x("xhoverformat"),x("yhoverformat");var y=v<b.PTS_LINESONLY?"lines+markers":"lines";x("text"),x("hovertext"),x("hovertemplate"),x("mode",y),h.hasMarkers(u)&&(i(l,u,d,c,x,{noAngleRef:!0,noStandOff:!0}),x("marker.line.width",g||p?1:0)),h.hasLines(u)&&(x("connectgaps"),n(l,u,d,c,x),x("line.shape")),h.hasText(u)&&(x("texttemplate"),s(l,u,c,x));var m=(u.line||{}).color,_=(u.marker||{}).color;x("fill"),u.fill!=="none"&&r(l,u,d,x);var f=k.getComponentMethod("errorbars","supplyDefaults");f(l,u,m||_||d,{axis:"y"}),f(l,u,m||_||d,{axis:"x",inherit:"y"}),A.coerceSelectionMarkerOpacity(u,x)}else u.visible=!1}},26768:function(Y,P,e){var A=e(3400),k=e(76308),a=e(13448).DESELECTDIM;Y.exports={styleTextSelection:function(w){var b,h,o=w[0],t=o.trace,i=o.t,n=i._scene,r=i.index,s=n.selectBatch[r],l=n.unselectBatch[r],u=n.textOptions[r],d=n.textSelectedOptions[r]||{},c=n.textUnselectedOptions[r]||{},x=A.extendFlat({},u);if(s.length||l.length){var g=d.color,p=c.color,v=u.color,y=A.isArrayOrTypedArray(v);for(x.color=new Array(t._length),b=0;b<s.length;b++)h=s[b],x.color[h]=g||(y?v[h]:v);for(b=0;b<l.length;b++){h=l[b];var m=y?v[h]:v;x.color[h]=p||(g?m:k.addOpacity(m,a))}}n.glText[r].update(x)}}},99396:function(Y,P,e){var A=e(76688);Y.exports=function(k,a,w){var b=k.i;return"x"in k||(k.x=a._x[b]),"y"in k||(k.y=a._y[b]),A(k,a,w)}},80088:function(Y,P,e){var A=e(67072);P.isOpenSymbol=function(k){return typeof k=="string"?A.OPEN_RE.test(k):k%200>100},P.isDotSymbol=function(k){return typeof k=="string"?A.DOT_RE.test(k):k>200}},41272:function(Y,P,e){var A=e(24040),k=e(3400),a=e(44928);function w(b,h,o,t){var i=b.xa,n=b.ya,r=b.distance,s=b.dxy,l=b.index,u={pointNumber:l,x:h[l],y:o[l]};u.tx=k.isArrayOrTypedArray(t.text)?t.text[l]:t.text,u.htx=Array.isArray(t.hovertext)?t.hovertext[l]:t.hovertext,u.data=Array.isArray(t.customdata)?t.customdata[l]:t.customdata,u.tp=Array.isArray(t.textposition)?t.textposition[l]:t.textposition;var d=t.textfont;d&&(u.ts=k.isArrayOrTypedArray(d.size)?d.size[l]:d.size,u.tc=Array.isArray(d.color)?d.color[l]:d.color,u.tf=Array.isArray(d.family)?d.family[l]:d.family);var c=t.marker;c&&(u.ms=k.isArrayOrTypedArray(c.size)?c.size[l]:c.size,u.mo=k.isArrayOrTypedArray(c.opacity)?c.opacity[l]:c.opacity,u.mx=k.isArrayOrTypedArray(c.symbol)?c.symbol[l]:c.symbol,u.ma=k.isArrayOrTypedArray(c.angle)?c.angle[l]:c.angle,u.mc=k.isArrayOrTypedArray(c.color)?c.color[l]:c.color);var x=c&&c.line;x&&(u.mlc=Array.isArray(x.color)?x.color[l]:x.color,u.mlw=k.isArrayOrTypedArray(x.width)?x.width[l]:x.width);var g=c&&c.gradient;g&&g.type!=="none"&&(u.mgt=Array.isArray(g.type)?g.type[l]:g.type,u.mgc=Array.isArray(g.color)?g.color[l]:g.color);var p=i.c2p(u.x,!0),v=n.c2p(u.y,!0),y=u.mrc||1,m=t.hoverlabel;m&&(u.hbg=Array.isArray(m.bgcolor)?m.bgcolor[l]:m.bgcolor,u.hbc=Array.isArray(m.bordercolor)?m.bordercolor[l]:m.bordercolor,u.hts=k.isArrayOrTypedArray(m.font.size)?m.font.size[l]:m.font.size,u.htc=Array.isArray(m.font.color)?m.font.color[l]:m.font.color,u.htf=Array.isArray(m.font.family)?m.font.family[l]:m.font.family,u.hnl=k.isArrayOrTypedArray(m.namelength)?m.namelength[l]:m.namelength);var _=t.hoverinfo;_&&(u.hi=Array.isArray(_)?_[l]:_);var f=t.hovertemplate;f&&(u.ht=Array.isArray(f)?f[l]:f);var S={};S[b.index]=u;var T=t._origX,E=t._origY,C=k.extendFlat({},b,{color:a(t,u),x0:p-y,x1:p+y,xLabelVal:T?T[l]:u.x,y0:v-y,y1:v+y,yLabelVal:E?E[l]:u.y,cd:S,distance:r,spikeDistance:s,hovertemplate:u.ht});return u.htx?C.text=u.htx:u.tx?C.text=u.tx:t.text&&(C.text=t.text),k.fillText(u,t,C),A.getComponentMethod("errorbars","hoverInfo")(u,t,C),C}Y.exports={hoverPoints:function(b,h,o,t){var i,n,r,s,l,u,d,c,x,g,p=b.cd,v=p[0].t,y=p[0].trace,m=b.xa,_=b.ya,f=v.x,S=v.y,T=m.c2p(h),E=_.c2p(o),C=b.distance;if(v.tree){var O=m.p2c(T-C),I=m.p2c(T+C),z=_.p2c(E-C),U=_.p2c(E+C);i=t==="x"?v.tree.range(Math.min(O,I),Math.min(_._rl[0],_._rl[1]),Math.max(O,I),Math.max(_._rl[0],_._rl[1])):v.tree.range(Math.min(O,I),Math.min(z,U),Math.max(O,I),Math.max(z,U))}else i=v.ids;var D=C;if(t==="x"){var B=!!y.xperiodalignment,Z=!!y.yperiodalignment;for(u=0;u<i.length;u++){if(s=f[n=i[u]],d=Math.abs(m.c2p(s)-T),B){var F=m.c2p(y._xStarts[n]),j=m.c2p(y._xEnds[n]);d=T>=Math.min(F,j)&&T<=Math.max(F,j)?0:1/0}if(d<D){if(D=d,l=S[n],c=_.c2p(l)-E,Z){var V=_.c2p(y._yStarts[n]),te=_.c2p(y._yEnds[n]);c=E>=Math.min(V,te)&&E<=Math.max(V,te)?0:1/0}g=Math.sqrt(d*d+c*c),r=i[u]}}}else for(u=i.length-1;u>-1;u--)s=f[n=i[u]],l=S[n],d=m.c2p(s)-T,c=_.c2p(l)-E,(x=Math.sqrt(d*d+c*c))<D&&(D=g=x,r=n);return b.index=r,b.distance=D,b.dxy=g,r===void 0?[b]:[w(b,f,S,y)]},calcHover:w}},38983:function(Y,P,e){var A=e(64628);A.plot=e(89876),Y.exports=A},89876:function(Y,P,e){var A=e(38540),k=e(13472),a=e(24544),w=e(23352),b=e(3400),h=e(72760).selectMode,o=e(5048),t=e(43028),i=e(14328),n=e(26768).styleTextSelection,r={};function s(l,u,d,c){var x=l._size,g=l.width*c,p=l.height*c,v=x.l*c,y=x.b*c,m=x.r*c,_=x.t*c,f=x.w*c,S=x.h*c;return[v+u.domain[0]*f,y+d.domain[0]*S,g-m-(1-u.domain[1])*f,p-_-(1-d.domain[1])*S]}(Y.exports=function(l,u,d){if(d.length){var c,x,g=l._fullLayout,p=u._scene,v=u.xaxis,y=u.yaxis;if(p)if(o(l,["ANGLE_instanced_arrays","OES_element_index_uint"],r)){var m=p.count,_=g._glcanvas.data()[0].regl;if(i(l,u,d),p.dirty){if(!p.line2d&&!p.error2d||p.scatter2d||p.fill2d||p.glText||_.clear({}),p.error2d===!0&&(p.error2d=a(_)),p.line2d===!0&&(p.line2d=k(_)),p.scatter2d===!0&&(p.scatter2d=A(_)),p.fill2d===!0&&(p.fill2d=k(_)),p.glText===!0)for(p.glText=new Array(m),c=0;c<m;c++)p.glText[c]=new w(_);if(p.glText){if(m>p.glText.length){var f=m-p.glText.length;for(c=0;c<f;c++)p.glText.push(new w(_))}else if(m<p.glText.length){var S=p.glText.length-m;p.glText.splice(m,S).forEach(function(ne){ne.destroy()})}for(c=0;c<m;c++)p.glText[c].update(p.textOptions[c])}if(p.line2d&&(p.line2d.update(p.lineOptions),p.lineOptions=p.lineOptions.map(function(ne){if(ne&&ne.positions){for(var ie=ne.positions,ae=0;ae<ie.length&&(isNaN(ie[ae])||isNaN(ie[ae+1]));)ae+=2;for(var le=ie.length-2;le>ae&&(isNaN(ie[le])||isNaN(ie[le+1]));)le-=2;ne.positions=ie.slice(ae,le+2)}return ne}),p.line2d.update(p.lineOptions)),p.error2d){var T=(p.errorXOptions||[]).concat(p.errorYOptions||[]);p.error2d.update(T)}p.scatter2d&&p.scatter2d.update(p.markerOptions),p.fillOrder=b.repeat(null,m),p.fill2d&&(p.fillOptions=p.fillOptions.map(function(ne,ie){var ae=d[ie];if(ne&&ae&&ae[0]&&ae[0].trace){var le,ce,pe=ae[0],ge=pe.trace,me=pe.t,ve=p.lineOptions[ie],Me=[];ge._ownfill&&Me.push(ie),ge._nexttrace&&Me.push(ie+1),Me.length&&(p.fillOrder[ie]=Me);var _e,we,oe=[],se=ve&&ve.positions||me.positions;if(ge.fill==="tozeroy"){for(_e=0;_e<se.length&&isNaN(se[_e+1]);)_e+=2;for(we=se.length-2;we>_e&&isNaN(se[we+1]);)we-=2;se[_e+1]!==0&&(oe=[se[_e],0]),oe=oe.concat(se.slice(_e,we+2)),se[we+1]!==0&&(oe=oe.concat([se[we],0]))}else if(ge.fill==="tozerox"){for(_e=0;_e<se.length&&isNaN(se[_e]);)_e+=2;for(we=se.length-2;we>_e&&isNaN(se[we]);)we-=2;se[_e]!==0&&(oe=[0,se[_e+1]]),oe=oe.concat(se.slice(_e,we+2)),se[we]!==0&&(oe=oe.concat([0,se[we+1]]))}else if(ge.fill==="toself"||ge.fill==="tonext"){for(oe=[],le=0,ne.splitNull=!0,ce=0;ce<se.length;ce+=2)(isNaN(se[ce])||isNaN(se[ce+1]))&&((oe=oe.concat(se.slice(le,ce))).push(se[le],se[le+1]),oe.push(null,null),le=ce+2);oe=oe.concat(se.slice(le)),le&&oe.push(se[le],se[le+1])}else{var de=ge._nexttrace;if(de){var Ee=p.lineOptions[ie+1];if(Ee){var Te=Ee.positions;if(ge.fill==="tonexty"){for(oe=se.slice(),ie=Math.floor(Te.length/2);ie--;){var Se=Te[2*ie],Le=Te[2*ie+1];isNaN(Se)||isNaN(Le)||oe.push(Se,Le)}ne.fill=de.fillcolor}}}}if(ge._prevtrace&&ge._prevtrace.fill==="tonext"){var Oe=p.lineOptions[ie-1].positions,he=oe.length/2,xe=[le=he];for(ce=0;ce<Oe.length;ce+=2)(isNaN(Oe[ce])||isNaN(Oe[ce+1]))&&(xe.push(ce/2+he+1),le=ce+2);oe=oe.concat(Oe),ne.hole=xe}return ne.fillmode=ge.fill,ne.opacity=ge.opacity,ne.positions=oe,ne}}),p.fill2d.update(p.fillOptions))}var E=g.dragmode,C=h(E),O=g.clickmode.indexOf("select")>-1;for(c=0;c<m;c++){var I=d[c][0],z=I.trace,U=I.t,D=U.index,B=z._length,Z=U.x,F=U.y;if(z.selectedpoints||C||O){if(C||(C=!0),z.selectedpoints){var j=p.selectBatch[D]=b.selIndices2selPoints(z),V={};for(x=0;x<j.length;x++)V[j[x]]=1;var te=[];for(x=0;x<B;x++)V[x]||te.push(x);p.unselectBatch[D]=te}var Q=U.xpx=new Array(B),$=U.ypx=new Array(B);for(x=0;x<B;x++)Q[x]=v.c2p(Z[x]),$[x]=y.c2p(F[x])}else U.xpx=U.ypx=null}if(C){if(p.select2d||(p.select2d=A(g._glcanvas.data()[1].regl)),p.scatter2d){var G=new Array(m);for(c=0;c<m;c++)G[c]=p.selectBatch[c].length||p.unselectBatch[c].length?p.markerUnselectedOptions[c]:{};p.scatter2d.update(G)}p.select2d&&(p.select2d.update(p.markerOptions),p.select2d.update(p.markerSelectedOptions)),p.glText&&d.forEach(function(ne){var ie=((ne||[])[0]||{}).trace||{};t.hasText(ie)&&n(ne)})}else p.scatter2d&&p.scatter2d.update(p.markerOptions);var X={viewport:s(g,v,y,l._context.plotGlPixelRatio),range:[(v._rl||v.range)[0],(y._rl||y.range)[0],(v._rl||v.range)[1],(y._rl||y.range)[1]]},J=b.repeat(X,p.count);p.fill2d&&p.fill2d.update(J),p.line2d&&p.line2d.update(J),p.error2d&&p.error2d.update(J.concat(J)),p.scatter2d&&p.scatter2d.update(J),p.select2d&&p.select2d.update(J),p.glText&&p.glText.forEach(function(ne){ne.update(X)})}else p.init()}}).reglPrecompiled=r},74588:function(Y,P,e){var A=e(3400);Y.exports=function(k,a){var w=a._scene,b={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},h={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return a._scene||((w=a._scene={}).init=function(){A.extendFlat(w,h,b)},w.init(),w.update=function(o){var t=A.repeat(o,w.count);if(w.fill2d&&w.fill2d.update(t),w.scatter2d&&w.scatter2d.update(t),w.line2d&&w.line2d.update(t),w.error2d&&w.error2d.update(t.concat(t)),w.select2d&&w.select2d.update(t),w.glText)for(var i=0;i<w.count;i++)w.glText[i].update(o)},w.draw=function(){for(var o=w.count,t=w.fill2d,i=w.error2d,n=w.line2d,r=w.scatter2d,s=w.glText,l=w.select2d,u=w.selectBatch,d=w.unselectBatch,c=0;c<o;c++){if(t&&w.fillOrder[c]&&t.draw(w.fillOrder[c]),n&&w.lineOptions[c]&&n.draw(c),i&&(w.errorXOptions[c]&&i.draw(c),w.errorYOptions[c]&&i.draw(c+o)),r&&w.markerOptions[c])if(d[c].length){var x=A.repeat([],w.count);x[c]=d[c],r.draw(x)}else u[c].length||r.draw(c);s[c]&&w.textOptions[c]&&s[c].render()}l&&l.draw(u),w.dirty=!1},w.destroy=function(){w.fill2d&&w.fill2d.destroy&&w.fill2d.destroy(),w.scatter2d&&w.scatter2d.destroy&&w.scatter2d.destroy(),w.error2d&&w.error2d.destroy&&w.error2d.destroy(),w.line2d&&w.line2d.destroy&&w.line2d.destroy(),w.select2d&&w.select2d.destroy&&w.select2d.destroy(),w.glText&&w.glText.forEach(function(o){o.destroy&&o.destroy()}),w.lineOptions=null,w.fillOptions=null,w.markerOptions=null,w.markerSelectedOptions=null,w.markerUnselectedOptions=null,w.errorXOptions=null,w.errorYOptions=null,w.textOptions=null,w.textSelectedOptions=null,w.textUnselectedOptions=null,w.selectBatch=null,w.unselectBatch=null,a._scene=null}),w.dirty||A.extendFlat(w,b),w}},73224:function(Y,P,e){var A=e(43028),k=e(26768).styleTextSelection;Y.exports=function(a,w){var b=a.cd,h=a.xaxis,o=a.yaxis,t=[],i=b[0].trace,n=b[0].t,r=i._length,s=n.x,l=n.y,u=n._scene,d=n.index;if(!u)return t;var c=A.hasText(i),x=A.hasMarkers(i),g=!x&&!c;if(i.visible!==!0||g)return t;var p=[],v=[];if(w!==!1&&!w.degenerate)for(var y=0;y<r;y++)w.contains([n.xpx[y],n.ypx[y]],!1,y,a)?(p.push(y),t.push({pointNumber:y,x:h.c2d(s[y]),y:o.c2d(l[y])})):v.push(y);if(x){var m=u.scatter2d;if(p.length||v.length){if(!u.selectBatch[d].length&&!u.unselectBatch[d].length){var _=new Array(u.count);_[d]=u.markerUnselectedOptions[d],m.update.apply(m,_)}}else{var f=new Array(u.count);f[d]=u.markerOptions[d],m.update.apply(m,f)}}return u.selectBatch[d]=p,u.unselectBatch[d]=v,c&&k(b),t}},31512:function(Y,P,e){var A=e(21776).Ks,k=e(21776).Gw,a=e(6096),w=e(52904),b=e(5232),h=e(45464),o=e(49084),t=e(92880).extendFlat,i=e(67824).overrideAll,n=e(5232),r=a.line,s=a.marker;Y.exports=i({lon:a.lon,lat:a.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},n.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},s.opacity,{dflt:1})},mode:t({},w.mode,{dflt:"markers"}),text:t({},w.text,{}),texttemplate:k({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},w.hovertext,{}),line:{color:r.color,width:r.width},connectgaps:w.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:s.opacity,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode},o("marker")),fill:a.fill,fillcolor:w.fillcolor,textfont:b.layers.symbol.textfont,textposition:b.layers.symbol.textposition,below:{valType:"string"},selected:{marker:w.selected.marker},unselected:{marker:w.unselected.marker},hoverinfo:t({},h.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:A()},"calc","nested")},59392:function(Y,P,e){var A=e(38248),k=e(3400),a=e(39032).BADNUM,w=e(44808),b=e(8932),h=e(43616),o=e(7152),t=e(43028),i=e(89032),n=e(10624).appendArrayPointValue,r=e(72736).NEWLINES,s=e(72736).BR_TAG_ALL;function l(g){return{type:g,geojson:w.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function u(g,p){return k.isArrayOrTypedArray(g)?p?function(v){return A(g[v])?+g[v]:0}:function(v){return g[v]}:g?function(){return g}:d}function d(){return""}function c(g){return g[0]===a}function x(g,p){var v;if(k.isArrayOrTypedArray(g)&&k.isArrayOrTypedArray(p)){v=["step",["get","point_count"],g[0]];for(var y=1;y<g.length;y++)v.push(p[y-1],g[y])}else v=g;return v}Y.exports=function(g,p){var v,y=p[0].trace,m=y.visible===!0&&y._length!==0,_=y.fill!=="none",f=t.hasLines(y),S=t.hasMarkers(y),T=t.hasText(y),E=S&&y.marker.symbol==="circle",C=S&&y.marker.symbol!=="circle",O=y.cluster&&y.cluster.enabled,I=l("fill"),z=l("line"),U=l("circle"),D=l("symbol"),B={fill:I,line:z,circle:U,symbol:D};if(!m)return B;if((_||f)&&(v=w.calcTraceToLineCoords(p)),_&&(I.geojson=w.makePolygon(v),I.layout.visibility="visible",k.extendFlat(I.paint,{"fill-color":y.fillcolor})),f&&(z.geojson=w.makeLine(v),z.layout.visibility="visible",k.extendFlat(z.paint,{"line-width":y.line.width,"line-color":y.line.color,"line-opacity":y.opacity})),E){var Z=function(V){var te,Q,$,G,X=V[0].trace,J=X.marker,ne=X.selectedpoints,ie=k.isArrayOrTypedArray(J.color),ae=k.isArrayOrTypedArray(J.size),le=k.isArrayOrTypedArray(J.opacity);function ce(oe){return X.opacity*oe}ie&&(Q=b.hasColorscale(X,"marker")?b.makeColorScaleFuncFromTrace(J):k.identity),ae&&($=o(X)),le&&(G=function(oe){return ce(A(oe)?+k.constrain(oe,0,1):0)});var pe,ge,me=[];for(te=0;te<V.length;te++){var ve=V[te],Me=ve.lonlat;if(!c(Me)){var _e={};Q&&(_e.mcc=ve.mcc=Q(ve.mc)),$&&(_e.mrc=ve.mrc=$(ve.ms)),G&&(_e.mo=G(ve.mo)),ne&&(_e.selected=ve.selected||0),me.push({type:"Feature",id:te+1,geometry:{type:"Point",coordinates:Me},properties:_e})}}if(ne)for(pe=h.makeSelectedPointStyleFns(X),te=0;te<me.length;te++){var we=me[te].properties;pe.selectedOpacityFn&&(we.mo=ce(pe.selectedOpacityFn(we))),pe.selectedColorFn&&(we.mcc=pe.selectedColorFn(we)),pe.selectedSizeFn&&(we.mrc=pe.selectedSizeFn(we))}return{geojson:{type:"FeatureCollection",features:me},mcc:ie||pe&&pe.selectedColorFn?{type:"identity",property:"mcc"}:J.color,mrc:ae||pe&&pe.selectedSizeFn?{type:"identity",property:"mrc"}:(ge=J.size,ge/2),mo:le||pe&&pe.selectedOpacityFn?{type:"identity",property:"mo"}:ce(J.opacity)}}(p);U.geojson=Z.geojson,U.layout.visibility="visible",O&&(U.filter=["!",["has","point_count"]],B.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":x(y.cluster.color,y.cluster.step),"circle-radius":x(y.cluster.size,y.cluster.step),"circle-opacity":x(y.cluster.opacity,y.cluster.step)}},B.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),k.extendFlat(U.paint,{"circle-color":Z.mcc,"circle-radius":Z.mrc,"circle-opacity":Z.mo})}if(E&&O&&(U.filter=["!",["has","point_count"]]),(C||T)&&(D.geojson=function(V,te){for(var Q=te._fullLayout,$=V[0].trace,G=$.marker||{},X=G.symbol,J=G.angle,ne=X!=="circle"?u(X):d,ie=J!=="auto"?u(J,!0):d,ae=t.hasText($)?u($.text):d,le=[],ce=0;ce<V.length;ce++){var pe=V[ce];if(!c(pe.lonlat)){var ge,me=$.texttemplate;if(me){var ve=Array.isArray(me)?me[ce]||"":me,Me=$._module.formatLabels(pe,$,Q),_e={};n(_e,$,pe.i);var we=$._meta||{};ge=k.texttemplateString(ve,Me,Q._d3locale,_e,pe,we)}else ge=ae(ce);ge&&(ge=ge.replace(r,"").replace(s,`
`)),le.push({type:"Feature",geometry:{type:"Point",coordinates:pe.lonlat},properties:{symbol:ne(ce),angle:ie(ce),text:ge}})}}return{type:"FeatureCollection",features:le}}(p,g),k.extendFlat(D.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),C&&(k.extendFlat(D.layout,{"icon-size":y.marker.size/10}),"angle"in y.marker&&y.marker.angle!=="auto"&&k.extendFlat(D.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),D.layout["icon-allow-overlap"]=y.marker.allowoverlap,k.extendFlat(D.paint,{"icon-opacity":y.opacity*y.marker.opacity,"icon-color":y.marker.color})),T)){var F=(y.marker||{}).size,j=i(y.textposition,F);k.extendFlat(D.layout,{"text-size":y.textfont.size,"text-anchor":j.anchor,"text-offset":j.offset,"text-font":y.textfont.family.split(", ")}),k.extendFlat(D.paint,{"text-color":y.textfont.color,"text-opacity":y.opacity})}return B}},15752:function(Y,P,e){var A=e(3400),k=e(43028),a=e(74428),w=e(66828),b=e(124),h=e(70840),o=e(31512),t=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];Y.exports=function(i,n,r,s){function l(m,_){return A.coerce(i,n,o,m,_)}function u(m,_){return A.coerce2(i,n,o,m,_)}var d=function(m,_,f){var S=f("lon")||[],T=f("lat")||[],E=Math.min(S.length,T.length);return _._length=E,E}(0,n,l);if(d){if(l("text"),l("texttemplate"),l("hovertext"),l("hovertemplate"),l("mode"),l("below"),k.hasMarkers(n)){a(i,n,r,s,l,{noLine:!0,noAngle:!0}),l("marker.allowoverlap"),l("marker.angle");var c=n.marker;c.symbol!=="circle"&&(A.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),A.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}k.hasLines(n)&&(w(i,n,r,s,l,{noDash:!0}),l("connectgaps"));var x=u("cluster.maxzoom"),g=u("cluster.step"),p=u("cluster.color",n.marker&&n.marker.color||r),v=u("cluster.size"),y=u("cluster.opacity");l("cluster.enabled",x!==!1||g!==!1||p!==!1||v!==!1||y!==!1),k.hasText(n)&&b(i,n,s,l,{noSelect:!0,font:{family:t.indexOf(s.font.family)!==-1?s.font.family:"Open Sans Regular",size:s.font.size,color:s.font.color}}),l("fill"),n.fill!=="none"&&h(i,n,r,l),A.coerceSelectionMarkerOpacity(n,l)}else n.visible=!1}},37920:function(Y){Y.exports=function(P,e){return P.lon=e.lon,P.lat=e.lat,P}},11960:function(Y,P,e){var A=e(54460);Y.exports=function(k,a,w){var b={},h=w[a.subplot]._subplot.mockAxis,o=k.lonlat;return b.lonLabel=A.tickText(h,h.c2l(o[0]),!0).text,b.latLabel=A.tickText(h,h.c2l(o[1]),!0).text,b}},63312:function(Y,P,e){var A=e(93024),k=e(3400),a=e(44928),w=k.fillText,b=e(39032).BADNUM,h=e(47552).traceLayerPrefix;function o(t,i,n){if(!t.hovertemplate){var r=(i.hi||t.hoverinfo).split("+"),s=r.indexOf("all")!==-1,l=r.indexOf("lon")!==-1,u=r.indexOf("lat")!==-1,d=i.lonlat,c=[];return s||l&&u?c.push("("+x(d[1])+", "+x(d[0])+")"):l?c.push(n.lon+x(d[0])):u&&c.push(n.lat+x(d[1])),(s||r.indexOf("text")!==-1)&&w(i,t,c),c.join("<br>")}function x(g){return g+"\xB0"}}Y.exports={hoverPoints:function(t,i,n){var r=t.cd,s=r[0].trace,l=t.xa,u=t.ya,d=t.subplot,c=[],x=h+s.uid+"-circle",g=s.cluster&&s.cluster.enabled;if(g){var p=d.map.queryRenderedFeatures(null,{layers:[x]});c=p.map(function(I){return I.id})}var v=360*(i>=0?Math.floor((i+180)/360):Math.ceil((i-180)/360)),y=i-v;if(A.getClosest(r,function(I){var z=I.lonlat;if(z[0]===b||g&&c.indexOf(I.i+1)===-1)return 1/0;var U=k.modHalf(z[0],360),D=z[1],B=d.project([U,D]),Z=B.x-l.c2p([y,D]),F=B.y-u.c2p([U,n]),j=Math.max(3,I.mrc||0);return Math.max(Math.sqrt(Z*Z+F*F)-j,1-3/j)},t),t.index!==!1){var m=r[t.index],_=m.lonlat,f=[k.modHalf(_[0],360)+v,_[1]],S=l.c2p(f),T=u.c2p(f),E=m.mrc||1;t.x0=S-E,t.x1=S+E,t.y0=T-E,t.y1=T+E;var C={};C[s.subplot]={_subplot:d};var O=s._module.formatLabels(m,s,C);return t.lonLabel=O.lonLabel,t.latLabel=O.latLabel,t.color=a(s,m),t.extraText=o(s,m,r[0].t.labels),t.hovertemplate=s.hovertemplate,[t]}},getExtraText:o}},11572:function(Y,P,e){Y.exports={attributes:e(31512),supplyDefaults:e(15752),colorbar:e(5528),formatLabels:e(11960),calc:e(25212),plot:e(9660),hoverPoints:e(63312).hoverPoints,eventData:e(37920),selectPoints:e(404),styleOnSelect:function(A,k){k&&k[0].trace._glTrace.update(k)},moduleType:"trace",name:"scattermapbox",basePlotModule:e(33688),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},9660:function(Y,P,e){var A=e(3400),k=e(59392),a=e(47552).traceLayerPrefix,w={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function b(o,t,i,n){this.type="scattermapbox",this.subplot=o,this.uid=t,this.clusterEnabled=i,this.isHidden=n,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:a+t+"-fill",line:a+t+"-line",circle:a+t+"-circle",symbol:a+t+"-symbol",cluster:a+t+"-cluster",clusterCount:a+t+"-cluster-count"},this.below=null}var h=b.prototype;h.addSource=function(o,t,i){var n={type:"geojson",data:t.geojson};i&&i.enabled&&A.extendFlat(n,{cluster:!0,clusterMaxZoom:i.maxzoom});var r=this.subplot.map.getSource(this.sourceIds[o]);r?r.setData(t.geojson):this.subplot.map.addSource(this.sourceIds[o],n)},h.setSourceData=function(o,t){this.subplot.map.getSource(this.sourceIds[o]).setData(t.geojson)},h.addLayer=function(o,t,i){var n={type:t.type,id:this.layerIds[o],source:this.sourceIds[o],layout:t.layout,paint:t.paint};t.filter&&(n.filter=t.filter);for(var r,s=this.layerIds[o],l=this.subplot.getMapLayers(),u=0;u<l.length;u++)if(l[u].id===s){r=!0;break}r?(this.subplot.setOptions(s,"setLayoutProperty",n.layout),n.layout.visibility==="visible"&&this.subplot.setOptions(s,"setPaintProperty",n.paint)):this.subplot.addLayer(n,i)},h.update=function(o){var t=o[0].trace,i=this.subplot,n=i.map,r=k(i.gd,o),s=i.belowLookup["trace-"+this.uid],l=!(!t.cluster||!t.cluster.enabled),u=!!this.clusterEnabled,d=this;function c(y){u?function(m){for(var _=w.cluster,f=_.length-1;f>=0;f--){var S=_[f];n.removeLayer(d.layerIds[S])}m||n.removeSource(d.sourceIds.circle)}(y):function(m){for(var _=w.nonCluster,f=_.length-1;f>=0;f--){var S=_[f];n.removeLayer(d.layerIds[S]),m||n.removeSource(d.sourceIds[S])}}(y)}function x(y){l?function(m){m||d.addSource("circle",r.circle,t.cluster);for(var _=w.cluster,f=0;f<_.length;f++){var S=_[f],T=r[S];d.addLayer(S,T,s)}}(y):function(m){for(var _=w.nonCluster,f=0;f<_.length;f++){var S=_[f],T=r[S];m||d.addSource(S,T),d.addLayer(S,T,s)}}(y)}function g(){for(var y=l?w.cluster:w.nonCluster,m=0;m<y.length;m++){var _=y[m],f=r[_];f&&(i.setOptions(d.layerIds[_],"setLayoutProperty",f.layout),f.layout.visibility==="visible"&&(_!=="cluster"&&d.setSourceData(_,f),i.setOptions(d.layerIds[_],"setPaintProperty",f.paint)))}}var p=this.isHidden,v=t.visible!==!0;v?p||c():p?v||x():u!==l?(c(),x()):(this.below!==s&&(c(!0),x(!0)),g()),this.clusterEnabled=l,this.isHidden=v,this.below=s,o[0].trace._glTrace=this},h.dispose=function(){for(var o=this.subplot.map,t=this.clusterEnabled?w.cluster:w.nonCluster,i=t.length-1;i>=0;i--){var n=t[i];o.removeLayer(this.layerIds[n]),o.removeSource(this.sourceIds[n])}},Y.exports=function(o,t){var i,n,r,s=t[0].trace,l=s.cluster&&s.cluster.enabled,u=s.visible!==!0,d=new b(o,s.uid,l,u),c=k(o.gd,t),x=d.below=o.belowLookup["trace-"+s.uid];if(l)for(d.addSource("circle",c.circle,s.cluster),i=0;i<w.cluster.length;i++)r=c[n=w.cluster[i]],d.addLayer(n,r,x);else for(i=0;i<w.nonCluster.length;i++)r=c[n=w.nonCluster[i]],d.addSource(n,r,s.cluster),d.addLayer(n,r,x);return t[0].trace._glTrace=d,d}},404:function(Y,P,e){var A=e(3400),k=e(43028),a=e(39032).BADNUM;Y.exports=function(w,b){var h,o=w.cd,t=w.xaxis,i=w.yaxis,n=[],r=o[0].trace;if(!k.hasMarkers(r))return[];if(b===!1)for(h=0;h<o.length;h++)o[h].selected=0;else for(h=0;h<o.length;h++){var s=o[h],l=s.lonlat;if(l[0]!==a){var u=[A.modHalf(l[0],360),l[1]],d=[t.c2p(u),i.c2p(u)];b.contains(d,null,h,w)?(n.push({pointNumber:h,lon:l[0],lat:l[1]}),s.selected=1):s.selected=0}}return n}},8319:function(Y,P,e){var A=e(21776).Ks,k=e(21776).Gw,a=e(92880).extendFlat,w=e(52904),b=e(45464),h=w.line;Y.exports={mode:w.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:w.text,texttemplate:k({editType:"plot"},{keys:["r","theta","text"]}),hovertext:w.hovertext,line:{color:h.color,width:h.width,dash:h.dash,backoff:h.backoff,shape:a({},h.shape,{values:["linear","spline"]}),smoothing:h.smoothing,editType:"calc"},connectgaps:w.connectgaps,marker:w.marker,cliponaxis:a({},w.cliponaxis,{dflt:!1}),textposition:w.textposition,textfont:w.textfont,fill:a({},w.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:w.fillcolor,hoverinfo:a({},b.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:w.hoveron,hovertemplate:A(),selected:w.selected,unselected:w.unselected}},58320:function(Y,P,e){var A=e(38248),k=e(39032).BADNUM,a=e(54460),w=e(90136),b=e(20148),h=e(4500),o=e(16356).calcMarkerSize;Y.exports=function(t,i){for(var n=t._fullLayout,r=i.subplot,s=n[r].radialaxis,l=n[r].angularaxis,u=s.makeCalcdata(i,"r"),d=l.makeCalcdata(i,"theta"),c=i._length,x=new Array(c),g=0;g<c;g++){var p=u[g],v=d[g],y=x[g]={};A(p)&&A(v)?(y.r=p,y.theta=v):y.r=k}var m=o(i,c);return i._extremes.x=a.findExtremes(s,u,{ppad:m}),w(t,i),b(x,i),h(x,i),x}},85968:function(Y,P,e){var A=e(3400),k=e(43028),a=e(74428),w=e(66828),b=e(11731),h=e(124),o=e(70840),t=e(88200).PTS_LINESONLY,i=e(8319);function n(r,s,l,u){var d,c=u("r"),x=u("theta");if(A.isTypedArray(c)&&(s.r=c=Array.from(c)),A.isTypedArray(x)&&(s.theta=x=Array.from(x)),c)x?d=Math.min(c.length,x.length):(d=c.length,u("theta0"),u("dtheta"));else{if(!x)return 0;d=s.theta.length,u("r0"),u("dr")}return s._length=d,d}Y.exports={handleRThetaDefaults:n,supplyDefaults:function(r,s,l,u){function d(g,p){return A.coerce(r,s,i,g,p)}var c=n(0,s,0,d);if(c){d("thetaunit"),d("mode",c<t?"lines+markers":"lines"),d("text"),d("hovertext"),s.hoveron!=="fills"&&d("hovertemplate"),k.hasMarkers(s)&&a(r,s,l,u,d,{gradient:!0}),k.hasLines(s)&&(w(r,s,l,u,d,{backoff:!0}),b(r,s,d),d("connectgaps")),k.hasText(s)&&(d("texttemplate"),h(r,s,u,d));var x=[];(k.hasMarkers(s)||k.hasText(s))&&(d("cliponaxis"),d("marker.maxdisplayed"),x.push("points")),d("fill"),s.fill!=="none"&&(o(r,s,l,d),k.hasLines(s)||b(r,s,d)),s.fill!=="tonext"&&s.fill!=="toself"||x.push("fills"),d("hoveron",x.join("+")||"points"),A.coerceSelectionMarkerOpacity(s,d)}else s.visible=!1}}},22852:function(Y,P,e){var A=e(3400),k=e(54460);Y.exports=function(a,w,b){var h,o,t={},i=b[w.subplot]._subplot;i?(h=i.radialAxis,o=i.angularAxis):(h=(i=b[w.subplot]).radialaxis,o=i.angularaxis);var n=h.c2l(a.r);t.rLabel=k.tickText(h,n,!0).text;var r=o.thetaunit==="degrees"?A.rad2deg(a.theta):a.theta;return t.thetaLabel=k.tickText(o,r,!0).text,t}},8504:function(Y,P,e){var A=e(98723);function k(a,w,b,h){var o=b.radialAxis,t=b.angularAxis;o._hovertitle="r",t._hovertitle="\u03B8";var i={};i[w.subplot]={_subplot:b};var n=w._module.formatLabels(a,w,i);h.rLabel=n.rLabel,h.thetaLabel=n.thetaLabel;var r=a.hi||w.hoverinfo,s=[];function l(d,c){s.push(d._hovertitle+": "+c)}if(!w.hovertemplate){var u=r.split("+");u.indexOf("all")!==-1&&(u=["r","theta","text"]),u.indexOf("r")!==-1&&l(o,h.rLabel),u.indexOf("theta")!==-1&&l(t,h.thetaLabel),u.indexOf("text")!==-1&&h.text&&(s.push(h.text),delete h.text),h.extraText=s.join("<br>")}}Y.exports={hoverPoints:function(a,w,b,h){var o=A(a,w,b,h);if(o&&o[0].index!==!1){var t=o[0];if(t.index===void 0)return o;var i=a.subplot,n=t.cd[t.index],r=t.trace;if(i.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,k(n,r,i,t),t.hovertemplate=r.hovertemplate,o}},makeHoverPointText:k}},76924:function(Y,P,e){Y.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(40872),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(8319),supplyDefaults:e(85968).supplyDefaults,colorbar:e(5528),formatLabels:e(22852),calc:e(58320),plot:e(43456),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(8504).hoverPoints,selectPoints:e(91560),meta:{}}},43456:function(Y,P,e){var A=e(96504),k=e(39032).BADNUM;Y.exports=function(a,w,b){for(var h=w.layers.frontplot.select("g.scatterlayer"),o=w.xaxis,t=w.yaxis,i={xaxis:o,yaxis:t,plot:w.framework,layerClipId:w._hasClipOnAxisFalse?w.clipIds.forTraces:null},n=w.radialAxis,r=w.angularAxis,s=0;s<b.length;s++)for(var l=b[s],u=0;u<l.length;u++){u===0&&(l[0].trace._xA=o,l[0].trace._yA=t);var d=l[u],c=d.r;if(c===k)d.x=d.y=k;else{var x=n.c2g(c),g=r.c2g(d.theta);d.x=x*Math.cos(g),d.y=x*Math.sin(g)}}A(a,i,b,h)}},24396:function(Y,P,e){var A=e(8319),k=e(2876),a=e(21776).Gw;Y.exports={mode:A.mode,r:A.r,theta:A.theta,r0:A.r0,dr:A.dr,theta0:A.theta0,dtheta:A.dtheta,thetaunit:A.thetaunit,text:A.text,texttemplate:a({editType:"plot"},{keys:["r","theta","text"]}),hovertext:A.hovertext,hovertemplate:A.hovertemplate,line:{color:k.line.color,width:k.line.width,dash:k.line.dash,editType:"calc"},connectgaps:k.connectgaps,marker:k.marker,fill:k.fill,fillcolor:k.fillcolor,textposition:k.textposition,textfont:k.textfont,hoverinfo:A.hoverinfo,selected:A.selected,unselected:A.unselected}},27160:function(Y,P,e){Y.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(40872),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(24396),supplyDefaults:e(98608),colorbar:e(5528),formatLabels:e(94120),calc:e(66720),hoverPoints:e(1600).hoverPoints,selectPoints:e(73224),meta:{}}},66720:function(Y,P,e){var A=e(90136),k=e(16356).calcMarkerSize,a=e(84236),w=e(54460),b=e(67072).TOO_MANY_POINTS;Y.exports=function(h,o){var t=h._fullLayout,i=o.subplot,n=t[i].radialaxis,r=t[i].angularaxis,s=o._r=n.makeCalcdata(o,"r"),l=o._theta=r.makeCalcdata(o,"theta"),u=o._length,d={};u<s.length&&(s=s.slice(0,u)),u<l.length&&(l=l.slice(0,u)),d.r=s,d.theta=l,A(h,o);var c,x=d.opts=a.style(h,o);return u<b?c=k(o,u):x.marker&&(c=2*(x.marker.sizeAvg||Math.max(x.marker.size,3))),o._extremes.x=w.findExtremes(n,s,{ppad:c}),[{x:!1,y:!1,t:d,trace:o}]}},98608:function(Y,P,e){var A=e(3400),k=e(43028),a=e(85968).handleRThetaDefaults,w=e(74428),b=e(66828),h=e(124),o=e(70840),t=e(88200).PTS_LINESONLY,i=e(24396);Y.exports=function(n,r,s,l){function u(c,x){return A.coerce(n,r,i,c,x)}var d=a(n,r,l,u);d?(u("thetaunit"),u("mode",d<t?"lines+markers":"lines"),u("text"),u("hovertext"),r.hoveron!=="fills"&&u("hovertemplate"),k.hasMarkers(r)&&w(n,r,s,l,u,{noAngleRef:!0,noStandOff:!0}),k.hasLines(r)&&(b(n,r,s,l,u),u("connectgaps")),k.hasText(r)&&(u("texttemplate"),h(n,r,l,u)),u("fill"),r.fill!=="none"&&o(n,r,s,u),A.coerceSelectionMarkerOpacity(r,u)):r.visible=!1}},94120:function(Y,P,e){var A=e(22852);Y.exports=function(k,a,w){var b=k.i;return"r"in k||(k.r=a._r[b]),"theta"in k||(k.theta=a._theta[b]),A(k,a,w)}},1600:function(Y,P,e){var A=e(41272),k=e(8504).makeHoverPointText;Y.exports={hoverPoints:function(a,w,b,h){var o=a.cd[0].t,t=o.r,i=o.theta,n=A.hoverPoints(a,w,b,h);if(n&&n[0].index!==!1){var r=n[0];if(r.index===void 0)return n;var s=a.subplot,l=r.cd[r.index],u=r.trace;if(l.r=t[r.index],l.theta=i[r.index],s.isPtInside(l))return r.xLabelVal=void 0,r.yLabelVal=void 0,k(l,u,s,r),n}}}},62944:function(Y,P,e){var A=e(27160);A.plot=e(56512),Y.exports=A},56512:function(Y,P,e){var A=e(3108),k=e(38248),a=e(89876),w=e(74588),b=e(84236),h=e(3400),o=e(67072).TOO_MANY_POINTS;Y.exports=function(t,i,n){if(n.length){var r=i.radialAxis,s=i.angularAxis,l=w(t,i);return n.forEach(function(u){if(u&&u[0]&&u[0].trace){var d,c=u[0],x=c.trace,g=c.t,p=x._length,v=g.r,y=g.theta,m=g.opts,_=v.slice(),f=y.slice();for(d=0;d<v.length;d++)i.isPtInside({r:v[d],theta:y[d]})||(_[d]=NaN,f[d]=NaN);var S=new Array(2*p),T=Array(p),E=Array(p);for(d=0;d<p;d++){var C,O,I=_[d];if(k(I)){var z=r.c2g(I),U=s.c2g(f[d],x.thetaunit);C=z*Math.cos(U),O=z*Math.sin(U)}else C=O=NaN;T[d]=S[2*d]=C,E[d]=S[2*d+1]=O}g.tree=A(S),m.marker&&p>=o&&(m.marker.cluster=g.tree),m.marker&&(m.markerSel.positions=m.markerUnsel.positions=m.marker.positions=S),m.line&&S.length>1&&h.extendFlat(m.line,b.linePositions(t,x,S)),m.text&&(h.extendFlat(m.text,{positions:S},b.textPosition(t,x,m.text,m.marker)),h.extendFlat(m.textSel,{positions:S},b.textPosition(t,x,m.text,m.markerSel)),h.extendFlat(m.textUnsel,{positions:S},b.textPosition(t,x,m.text,m.markerUnsel))),m.fill&&!l.fill2d&&(l.fill2d=!0),m.marker&&!l.scatter2d&&(l.scatter2d=!0),m.line&&!l.line2d&&(l.line2d=!0),m.text&&!l.glText&&(l.glText=!0),l.lineOptions.push(m.line),l.fillOptions.push(m.fill),l.markerOptions.push(m.marker),l.markerSelectedOptions.push(m.markerSel),l.markerUnselectedOptions.push(m.markerUnsel),l.textOptions.push(m.text),l.textSelectedOptions.push(m.textSel),l.textUnselectedOptions.push(m.textUnsel),l.selectBatch.push([]),l.unselectBatch.push([]),g.x=T,g.y=E,g.rawx=T,g.rawy=E,g.r=v,g.theta=y,g.positions=S,g._scene=l,g.index=l.count,l.count++}}),a(t,i,n)}},Y.exports.reglPrecompiled={}},69496:function(Y,P,e){var A=e(21776).Ks,k=e(21776).Gw,a=e(92880).extendFlat,w=e(52904),b=e(45464),h=w.line;Y.exports={mode:w.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:w.text,texttemplate:k({editType:"plot"},{keys:["real","imag","text"]}),hovertext:w.hovertext,line:{color:h.color,width:h.width,dash:h.dash,backoff:h.backoff,shape:a({},h.shape,{values:["linear","spline"]}),smoothing:h.smoothing,editType:"calc"},connectgaps:w.connectgaps,marker:w.marker,cliponaxis:a({},w.cliponaxis,{dflt:!1}),textposition:w.textposition,textfont:w.textfont,fill:a({},w.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:w.fillcolor,hoverinfo:a({},b.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:w.hoveron,hovertemplate:A(),selected:w.selected,unselected:w.unselected}},47507:function(Y,P,e){var A=e(38248),k=e(39032).BADNUM,a=e(90136),w=e(20148),b=e(4500),h=e(16356).calcMarkerSize;Y.exports=function(o,t){for(var i=o._fullLayout,n=t.subplot,r=i[n].realaxis,s=i[n].imaginaryaxis,l=r.makeCalcdata(t,"real"),u=s.makeCalcdata(t,"imag"),d=t._length,c=new Array(d),x=0;x<d;x++){var g=l[x],p=u[x],v=c[x]={};A(g)&&A(p)?(v.real=g,v.imag=p):v.real=k}return h(t,d),a(o,t),w(c,t),b(c,t),c}},76716:function(Y,P,e){var A=e(3400),k=e(43028),a=e(74428),w=e(66828),b=e(11731),h=e(124),o=e(70840),t=e(88200).PTS_LINESONLY,i=e(69496);Y.exports=function(n,r,s,l){function u(x,g){return A.coerce(n,r,i,x,g)}var d=function(x,g,p,v){var y,m=v("real"),_=v("imag");return m&&_&&(y=Math.min(m.length,_.length)),A.isTypedArray(m)&&(g.real=m=Array.from(m)),A.isTypedArray(_)&&(g.imag=_=Array.from(_)),g._length=y,y}(0,r,0,u);if(d){u("mode",d<t?"lines+markers":"lines"),u("text"),u("hovertext"),r.hoveron!=="fills"&&u("hovertemplate"),k.hasMarkers(r)&&a(n,r,s,l,u,{gradient:!0}),k.hasLines(r)&&(w(n,r,s,l,u,{backoff:!0}),b(n,r,u),u("connectgaps")),k.hasText(r)&&(u("texttemplate"),h(n,r,l,u));var c=[];(k.hasMarkers(r)||k.hasText(r))&&(u("cliponaxis"),u("marker.maxdisplayed"),c.push("points")),u("fill"),r.fill!=="none"&&(o(n,r,s,u),k.hasLines(r)||b(n,r,u)),r.fill!=="tonext"&&r.fill!=="toself"||c.push("fills"),u("hoveron",c.join("+")||"points"),A.coerceSelectionMarkerOpacity(r,u)}else r.visible=!1}},49504:function(Y,P,e){var A=e(54460);Y.exports=function(k,a,w){var b={},h=w[a.subplot]._subplot;return b.realLabel=A.tickText(h.radialAxis,k.real,!0).text,b.imagLabel=A.tickText(h.angularAxis,k.imag,!0).text,b}},25292:function(Y,P,e){var A=e(98723);function k(a,w,b,h){var o=b.radialAxis,t=b.angularAxis;o._hovertitle="real",t._hovertitle="imag";var i={};i[w.subplot]={_subplot:b};var n=w._module.formatLabels(a,w,i);h.realLabel=n.realLabel,h.imagLabel=n.imagLabel;var r=a.hi||w.hoverinfo,s=[];function l(d,c){s.push(d._hovertitle+": "+c)}if(!w.hovertemplate){var u=r.split("+");u.indexOf("all")!==-1&&(u=["real","imag","text"]),u.indexOf("real")!==-1&&l(o,h.realLabel),u.indexOf("imag")!==-1&&l(t,h.imagLabel),u.indexOf("text")!==-1&&h.text&&(s.push(h.text),delete h.text),h.extraText=s.join("<br>")}}Y.exports={hoverPoints:function(a,w,b,h){var o=A(a,w,b,h);if(o&&o[0].index!==!1){var t=o[0];if(t.index===void 0)return o;var i=a.subplot,n=t.cd[t.index],r=t.trace;if(i.isPtInside(n))return t.xLabelVal=void 0,t.yLabelVal=void 0,k(n,r,i,t),t.hovertemplate=r.hovertemplate,o}},makeHoverPointText:k}},95443:function(Y,P,e){Y.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(47788),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(69496),supplyDefaults:e(76716),colorbar:e(5528),formatLabels:e(49504),calc:e(47507),plot:e(34927),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(25292).hoverPoints,selectPoints:e(91560),meta:{}}},34927:function(Y,P,e){var A=e(96504),k=e(39032).BADNUM,a=e(36416).smith;Y.exports=function(w,b,h){for(var o=b.layers.frontplot.select("g.scatterlayer"),t=b.xaxis,i=b.yaxis,n={xaxis:t,yaxis:i,plot:b.framework,layerClipId:b._hasClipOnAxisFalse?b.clipIds.forTraces:null},r=0;r<h.length;r++)for(var s=h[r],l=0;l<s.length;l++){l===0&&(s[0].trace._xA=t,s[0].trace._yA=i);var u=s[l],d=u.real;if(d===k)u.x=u.y=k;else{var c=a([d,u.imag]);u.x=c[0],u.y=c[1]}}A(w,n,h,o)}},5896:function(Y,P,e){var A=e(21776).Ks,k=e(21776).Gw,a=e(52904),w=e(45464),b=e(49084),h=e(98192).u,o=e(92880).extendFlat,t=a.marker,i=a.line,n=t.line;Y.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:o({},a.mode,{dflt:"markers"}),text:o({},a.text,{}),texttemplate:k({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:o({},a.hovertext,{}),line:{color:i.color,width:i.width,dash:h,backoff:i.backoff,shape:o({},i.shape,{values:["linear","spline"]}),smoothing:i.smoothing,editType:"calc"},connectgaps:a.connectgaps,cliponaxis:a.cliponaxis,fill:o({},a.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:a.fillcolor,marker:o({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:o({width:n.width,editType:"calc"},b("marker.line")),gradient:t.gradient,editType:"calc"},b("marker")),textfont:a.textfont,textposition:a.textposition,selected:a.selected,unselected:a.unselected,hoverinfo:o({},w.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:a.hoveron,hovertemplate:A()}},34335:function(Y,P,e){var A=e(38248),k=e(90136),a=e(20148),w=e(4500),b=e(16356).calcMarkerSize,h=["a","b","c"],o={a:["b","c"],b:["a","c"],c:["a","b"]};Y.exports=function(t,i){var n,r,s,l,u,d,c=t._fullLayout[i.subplot].sum,x=i.sum||c,g={a:i.a,b:i.b,c:i.c};for(n=0;n<h.length;n++)if(!g[s=h[n]]){for(u=g[o[s][0]],d=g[o[s][1]],l=new Array(u.length),r=0;r<u.length;r++)l[r]=x-u[r]-d[r];g[s]=l}var p,v,y,m,_,f,S=i._length,T=new Array(S);for(n=0;n<S;n++)p=g.a[n],v=g.b[n],y=g.c[n],A(p)&&A(v)&&A(y)?((m=c/((p=+p)+(v=+v)+(y=+y)))!=1&&(p*=m,v*=m,y*=m),f=p,_=y-v,T[n]={x:_,y:f,a:p,b:v,c:y}):T[n]={x:!1,y:!1};return b(i,S),k(t,i),a(T,i),w(T,i),T}},84256:function(Y,P,e){var A=e(3400),k=e(88200),a=e(43028),w=e(74428),b=e(66828),h=e(11731),o=e(124),t=e(70840),i=e(5896);Y.exports=function(n,r,s,l){function u(v,y){return A.coerce(n,r,i,v,y)}var d,c=u("a"),x=u("b"),g=u("c");if(c?(d=c.length,x?(d=Math.min(d,x.length),g&&(d=Math.min(d,g.length))):d=g?Math.min(d,g.length):0):x&&g&&(d=Math.min(x.length,g.length)),d){r._length=d,u("sum"),u("text"),u("hovertext"),r.hoveron!=="fills"&&u("hovertemplate"),u("mode",d<k.PTS_LINESONLY?"lines+markers":"lines"),a.hasMarkers(r)&&w(n,r,s,l,u,{gradient:!0}),a.hasLines(r)&&(b(n,r,s,l,u,{backoff:!0}),h(n,r,u),u("connectgaps")),a.hasText(r)&&(u("texttemplate"),o(n,r,l,u));var p=[];(a.hasMarkers(r)||a.hasText(r))&&(u("cliponaxis"),u("marker.maxdisplayed"),p.push("points")),u("fill"),r.fill!=="none"&&(t(n,r,s,u),a.hasLines(r)||h(n,r,u)),r.fill!=="tonext"&&r.fill!=="toself"||p.push("fills"),u("hoveron",p.join("+")||"points"),A.coerceSelectionMarkerOpacity(r,u)}else r.visible=!1}},97476:function(Y){Y.exports=function(P,e,A,k,a){if(e.xa&&(P.xaxis=e.xa),e.ya&&(P.yaxis=e.ya),k[a]){var w=k[a];P.a=w.a,P.b=w.b,P.c=w.c}else P.a=e.a,P.b=e.b,P.c=e.c;return P}},90404:function(Y,P,e){var A=e(54460);Y.exports=function(k,a,w){var b={},h=w[a.subplot]._subplot;return b.aLabel=A.tickText(h.aaxis,k.a,!0).text,b.bLabel=A.tickText(h.baxis,k.b,!0).text,b.cLabel=A.tickText(h.caxis,k.c,!0).text,b}},26596:function(Y,P,e){var A=e(98723);Y.exports=function(k,a,w,b){var h=A(k,a,w,b);if(h&&h[0].index!==!1){var o=h[0];if(o.index===void 0){var t=1-o.y0/k.ya._length,i=k.xa._length,n=i*t/2,r=i-n;return o.x0=Math.max(Math.min(o.x0,r),n),o.x1=Math.max(Math.min(o.x1,r),n),h}var s=o.cd[o.index],l=o.trace,u=o.subplot;o.a=s.a,o.b=s.b,o.c=s.c,o.xLabelVal=void 0,o.yLabelVal=void 0;var d={};d[l.subplot]={_subplot:u};var c=l._module.formatLabels(s,l,d);o.aLabel=c.aLabel,o.bLabel=c.bLabel,o.cLabel=c.cLabel;var x=s.hi||l.hoverinfo,g=[];if(!l.hovertemplate){var p=x.split("+");p.indexOf("all")!==-1&&(p=["a","b","c"]),p.indexOf("a")!==-1&&v(u.aaxis,o.aLabel),p.indexOf("b")!==-1&&v(u.baxis,o.bLabel),p.indexOf("c")!==-1&&v(u.caxis,o.cLabel)}return o.extraText=g.join("<br>"),o.hovertemplate=l.hovertemplate,h}function v(y,m){g.push(y._hovertitle+": "+m)}}},34864:function(Y,P,e){Y.exports={attributes:e(5896),supplyDefaults:e(84256),colorbar:e(5528),formatLabels:e(90404),calc:e(34335),plot:e(88776),style:e(49224).style,styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(26596),selectPoints:e(91560),eventData:e(97476),moduleType:"trace",name:"scatterternary",basePlotModule:e(19352),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},88776:function(Y,P,e){var A=e(96504);Y.exports=function(k,a,w){var b=a.plotContainer;b.select(".scatterlayer").selectAll("*").remove();for(var h=a.xaxis,o=a.yaxis,t={xaxis:h,yaxis:o,plot:b,layerClipId:a._hasClipOnAxisFalse?a.clipIdRelative:null},i=a.layers.frontplot.select("g.scatterlayer"),n=0;n<w.length;n++){var r=w[n];r.length&&(r[0].trace._xA=h,r[0].trace._yA=o)}A(k,t,w,i)}},44524:function(Y,P,e){var A=e(52904),k=e(49084),a=e(29736).axisHoverFormat,w=e(21776).Ks,b=e(2876),h=e(33816).idRegex,o=e(31780).templatedArray,t=e(92880).extendFlat,i=A.marker,n=i.line,r=t(k("marker.line",{editTypeOverride:"calc"}),{width:t({},n.width,{editType:"calc"}),editType:"calc"}),s=t(k("marker"),{symbol:i.symbol,angle:i.angle,size:t({},i.size,{editType:"markerSize"}),sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,opacity:i.opacity,colorbar:i.colorbar,line:r,editType:"calc"});function l(u){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:h[u],editType:"plot"}}}s.color.editType=s.cmin.editType=s.cmax.editType="style",Y.exports={dimensions:o("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},b.text,{}),hovertext:t({},b.hovertext,{}),hovertemplate:w(),xhoverformat:a("x"),yhoverformat:a("y"),marker:s,xaxes:l("x"),yaxes:l("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:b.selected.marker,editType:"calc"},unselected:{marker:b.unselected.marker,editType:"calc"},opacity:b.opacity}},28888:function(Y,P,e){var A=e(24040),k=e(12704);Y.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(44524),supplyDefaults:e(69544),colorbar:e(5528),calc:e(66821),plot:e(54840),hoverPoints:e(72248).hoverPoints,selectPoints:e(62500),editStyle:e(83156),meta:{}},A.register(k)},99332:function(Y,P,e){var A=e(13472),k=e(24040),a=e(5048),w=e(84888)._M,b=e(57952),h=e(79811).getFromId,o=e(54460).shouldShowZeroLine,t="splom",i={};function n(s,l,u){for(var d=u.matrixOptions.data.length,c=l._visibleDims,x=u.viewOpts.ranges=new Array(d),g=0;g<c.length;g++){var p=c[g],v=x[g]=new Array(4),y=h(s,l._diag[p][0]);y&&(v[0]=y.r2l(y.range[0]),v[2]=y.r2l(y.range[1]));var m=h(s,l._diag[p][1]);m&&(v[1]=m.r2l(m.range[0]),v[3]=m.r2l(m.range[1]))}u.selectBatch.length||u.unselectBatch.length?u.matrix.update({ranges:x},{ranges:x}):u.matrix.update({ranges:x})}function r(s){var l=s._fullLayout,u=l._glcanvas.data()[0].regl,d=l._splomGrid;d||(d=l._splomGrid=A(u)),d.update(function(c){var x,g=c._context.plotGlPixelRatio,p=c._fullLayout,v=p._size,y=[0,0,p.width*g,p.height*g],m={};function _(V,te,Q,$,G,X){Q*=g,$*=g,G*=g,X*=g;var J=te[V+"color"],ne=te[V+"width"],ie=String(J+ne);ie in m?m[ie].data.push(NaN,NaN,Q,$,G,X):m[ie]={data:[Q,$,G,X],join:"rect",thickness:ne*g,color:J,viewport:y,range:y,overlay:!1}}for(x in p._splomSubplots){var f,S,T=p._plots[x],E=T.xaxis,C=T.yaxis,O=E._gridVals,I=C._gridVals,z=E._offset,U=E._length,D=C._length,B=v.b+C.domain[0]*v.h,Z=-C._m,F=-Z*C.r2l(C.range[0],C.calendar);if(E.showgrid)for(x=0;x<O.length;x++)f=z+E.l2p(O[x].x),_("grid",E,f,B,f,B+D);if(C.showgrid)for(x=0;x<I.length;x++)_("grid",C,z,S=B+F+Z*I[x].x,z+U,S);o(c,E,C)&&(f=z+E.l2p(0),_("zeroline",E,f,B,f,B+D)),o(c,C,E)&&_("zeroline",C,z,S=B+F+0,z+U,S)}var j=[];for(x in m)j.push(m[x]);return j}(s))}Y.exports={name:t,attr:b.attr,attrRegex:b.attrRegex,layoutAttributes:b.layoutAttributes,supplyLayoutDefaults:b.supplyLayoutDefaults,drawFramework:b.drawFramework,plot:function(s){var l=s._fullLayout,u=k.getModule(t),d=w(s.calcdata,u)[0];a(s,["ANGLE_instanced_arrays","OES_element_index_uint"],i)&&(l._hasOnlyLargeSploms&&r(s),u.plot(s,{},d))},drag:function(s){var l=s.calcdata,u=s._fullLayout;u._hasOnlyLargeSploms&&r(s);for(var d=0;d<l.length;d++){var c=l[d][0].trace,x=u._splomScenes[c.uid];c.type==="splom"&&x&&x.matrix&&n(s,c,x)}},updateGrid:r,clean:function(s,l,u,d){var c,x={};if(d._splomScenes){for(c=0;c<s.length;c++){var g=s[c];g.type==="splom"&&(x[g.uid]=1)}for(c=0;c<u.length;c++){var p=u[c];if(!x[p.uid]){var v=d._splomScenes[p.uid];v&&v.destroy&&v.destroy(),d._splomScenes[p.uid]=null,delete d._splomScenes[p.uid]}}}Object.keys(d._splomScenes||{}).length===0&&delete d._splomScenes,d._splomGrid&&!l._hasOnlyLargeSploms&&d._hasOnlyLargeSploms&&(d._splomGrid.destroy(),d._splomGrid=null,delete d._splomGrid),b.clean(s,l,u,d)},updateFx:b.updateFx,toSVG:b.toSVG,reglPrecompiled:i}},66821:function(Y,P,e){var A=e(3400),k=e(79811),a=e(16356).calcMarkerSize,w=e(16356).calcAxisExpansion,b=e(90136),h=e(84236).markerSelection,o=e(84236).markerStyle,t=e(72308),i=e(39032).BADNUM,n=e(67072).TOO_MANY_POINTS;Y.exports=function(r,s){var l,u,d,c,x,g,p=s.dimensions,v=s._length,y={},m=y.cdata=[],_=y.data=[],f=s._visibleDims=[];function S(E,C){for(var O=E.makeCalcdata({v:C.values,vcalendar:s.calendar},"v"),I=0;I<O.length;I++)O[I]=O[I]===i?NaN:O[I];m.push(O),_.push(E.type==="log"?A.simpleMap(O,E.c2l):O)}for(l=0;l<p.length;l++)if((d=p[l]).visible){if(c=k.getFromId(r,s._diag[l][0]),x=k.getFromId(r,s._diag[l][1]),c&&x&&c.type!==x.type){A.log("Skipping splom dimension "+l+" with conflicting axis types");continue}c?(S(c,d),x&&x.type==="category"&&(x._categories=c._categories.slice())):S(x,d),f.push(l)}for(b(r,s),A.extendFlat(y,o(r,s)),g=m.length*v>n?y.sizeAvg||Math.max(y.size,3):a(s,v),u=0;u<f.length;u++)d=p[l=f[u]],c=k.getFromId(r,s._diag[l][0])||{},x=k.getFromId(r,s._diag[l][1])||{},w(r,s,c,x,m[u],m[u],g);var T=t(r,s);return T.matrix||(T.matrix=!0),T.matrixOptions=y,T.selectedOptions=h(r,s,s.selected),T.unselectedOptions=h(r,s,s.unselected),[{x:!1,y:!1,t:{},trace:s}]}},69544:function(Y,P,e){var A=e(3400),k=e(51272),a=e(44524),w=e(43028),b=e(74428),h=e(26284),o=e(80088).isOpenSymbol;function t(i,n){function r(l,u){return A.coerce(i,n,a.dimensions,l,u)}r("label");var s=r("values");s&&s.length?r("visible"):n.visible=!1,r("axis.type"),r("axis.matches")}Y.exports=function(i,n,r,s){function l(v,y){return A.coerce(i,n,a,v,y)}var u=k(i,n,{name:"dimensions",handleItemDefaults:t}),d=l("diagonal.visible"),c=l("showupperhalf"),x=l("showlowerhalf");if(h(n,u,"values")&&(d||c||x)){l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),b(i,n,r,s,l,{noAngleRef:!0,noStandOff:!0});var g=o(n.marker.symbol),p=w.isBubble(n);l("marker.line.width",g||p?1:0),function(v,y,m,_){var f,S,T=y.dimensions,E=T.length,C=y.showupperhalf,O=y.showlowerhalf,I=y.diagonal.visible,z=new Array(E),U=new Array(E);for(f=0;f<E;f++){var D=f?f+1:"";z[f]="x"+D,U[f]="y"+D}var B=_("xaxes",z),Z=_("yaxes",U),F=y._diag=new Array(E);y._xaxes={},y._yaxes={};var j=[],V=[];function te(le,ce,pe,ge){if(le){var me=le.charAt(0),ve=m._splomAxes[me];if(y["_"+me+"axes"][le]=1,ge.push(le),!(le in ve)){var Me=ve[le]={};pe&&(Me.label=pe.label||"",pe.visible&&pe.axis&&(pe.axis.type&&(Me.type=pe.axis.type),pe.axis.matches&&(Me.matches=ce)))}}}var Q=!I&&!O,$=!I&&!C;for(y._axesDim={},f=0;f<E;f++){var G=T[f],X=f===0,J=f===E-1,ne=X&&Q||J&&$?void 0:B[f],ie=X&&$||J&&Q?void 0:Z[f];te(ne,ie,G,j),te(ie,ne,G,V),F[f]=[ne,ie],y._axesDim[ne]=f,y._axesDim[ie]=f}for(f=0;f<j.length;f++)for(S=0;S<V.length;S++){var ae=j[f]+V[S];f>S&&C||f<S&&O?m._splomSubplots[ae]=1:f!==S||!I&&O&&C||(m._splomSubplots[ae]=1)}(!O||!I&&C&&O)&&(m._splomGridDflt.xside="bottom",m._splomGridDflt.yside="left")}(0,n,s,l),A.coerceSelectionMarkerOpacity(n,l)}else n.visible=!1}},83156:function(Y,P,e){var A=e(3400),k=e(90136),a=e(84236).markerStyle;Y.exports=function(w,b){var h=b.trace,o=w._fullLayout._splomScenes[h.uid];if(o){k(w,h),A.extendFlat(o.matrixOptions,a(w,h));var t=A.extendFlat({},o.matrixOptions,o.viewOpts);o.matrix.update(t,null)}}},50328:function(Y,P){P.getDimIndex=function(e,A){for(var k=A._id,a={x:0,y:1}[k.charAt(0)],w=e._visibleDims,b=0;b<w.length;b++){var h=w[b];if(e._diag[h][a]===k)return b}return!1}},72248:function(Y,P,e){var A=e(50328),k=e(41272).calcHover;Y.exports={hoverPoints:function(a,w,b){var h=a.cd[0].trace,o=a.scene.matrixOptions.cdata,t=a.xa,i=a.ya,n=t.c2p(w),r=i.c2p(b),s=a.distance,l=A.getDimIndex(h,t),u=A.getDimIndex(h,i);if(l===!1||u===!1)return[a];for(var d,c,x=o[l],g=o[u],p=s,v=0;v<x.length;v++){var y=x[v],m=g[v],_=t.c2p(y)-n,f=i.c2p(m)-r,S=Math.sqrt(_*_+f*f);S<p&&(p=c=S,d=v)}return a.index=d,a.distance=p,a.dxy=c,d===void 0?[a]:[k(a,x,g,h)]}}},97924:function(Y,P,e){var A=e(28888);A.basePlotModule=e(99332),Y.exports=A},54840:function(Y,P,e){var A=e(55795),k=e(3400),a=e(79811),w=e(72760).selectMode;function b(h,o){var t,i,n,r,s,l=h._fullLayout,u=l._size,d=o.trace,c=o.t,x=l._splomScenes[d.uid],g=x.matrixOptions,p=g.cdata,v=l._glcanvas.data()[0].regl,y=l.dragmode;if(p.length!==0){g.lower=d.showupperhalf,g.upper=d.showlowerhalf,g.diagonal=d.diagonal.visible;var m=d._visibleDims,_=p.length,f=x.viewOpts={};for(f.ranges=new Array(_),f.domains=new Array(_),s=0;s<m.length;s++){n=m[s];var S=f.ranges[s]=new Array(4),T=f.domains[s]=new Array(4);(t=a.getFromId(h,d._diag[n][0]))&&(S[0]=t._rl[0],S[2]=t._rl[1],T[0]=t.domain[0],T[2]=t.domain[1]),(i=a.getFromId(h,d._diag[n][1]))&&(S[1]=i._rl[0],S[3]=i._rl[1],T[1]=i.domain[0],T[3]=i.domain[1])}var E=h._context.plotGlPixelRatio,C=u.l*E,O=u.b*E,I=u.w*E,z=u.h*E;f.viewport=[C,O,I+C,z+O],x.matrix===!0&&(x.matrix=A(v));var U=l.clickmode.indexOf("select")>-1,D=!0;if(w(y)||d.selectedpoints||U){var B=d._length;if(d.selectedpoints){x.selectBatch=d.selectedpoints;var Z=d.selectedpoints,F={};for(n=0;n<Z.length;n++)F[Z[n]]=!0;var j=[];for(n=0;n<B;n++)F[n]||j.push(n);x.unselectBatch=j}var V=c.xpx=new Array(_),te=c.ypx=new Array(_);for(s=0;s<m.length;s++){if(n=m[s],t=a.getFromId(h,d._diag[n][0]))for(V[s]=new Array(B),r=0;r<B;r++)V[s][r]=t.c2p(p[s][r]);if(i=a.getFromId(h,d._diag[n][1]))for(te[s]=new Array(B),r=0;r<B;r++)te[s][r]=i.c2p(p[s][r])}if(x.selectBatch.length||x.unselectBatch.length){var Q=k.extendFlat({},g,x.unselectedOptions,f),$=k.extendFlat({},g,x.selectedOptions,f);x.matrix.update(Q,$),D=!1}}else c.xpx=c.ypx=null;if(D){var G=k.extendFlat({},g,f);x.matrix.update(G,null)}}}Y.exports=function(h,o,t){if(t.length)for(var i=0;i<t.length;i++)b(h,t[i][0])}},72308:function(Y,P,e){var A=e(3400);Y.exports=function(k,a){var w=k._fullLayout,b=a.uid,h=w._splomScenes;h||(h=w._splomScenes={});var o={dirty:!0,selectBatch:[],unselectBatch:[]},t=h[a.uid];return t||((t=h[b]=A.extendFlat({},o,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){t.matrix&&t.matrix.draw&&(t.selectBatch.length||t.unselectBatch.length?t.matrix.draw(t.unselectBatch,t.selectBatch):t.matrix.draw()),t.dirty=!1},t.destroy=function(){t.matrix&&t.matrix.destroy&&t.matrix.destroy(),t.matrixOptions=null,t.selectBatch=null,t.unselectBatch=null,t=null}),t.dirty||A.extendFlat(t,o),t}},62500:function(Y,P,e){var A=e(3400),k=A.pushUnique,a=e(43028),w=e(50328);Y.exports=function(b,h){var o=b.cd,t=o[0].trace,i=o[0].t,n=b.scene,r=n.matrixOptions.cdata,s=b.xaxis,l=b.yaxis,u=[];if(!n)return u;var d=!a.hasMarkers(t)&&!a.hasText(t);if(t.visible!==!0||d)return u;var c=w.getDimIndex(t,s),x=w.getDimIndex(t,l);if(c===!1||x===!1)return u;var g=i.xpx[c],p=i.ypx[x],v=r[c],y=r[x],m=(b.scene.selectBatch||[]).slice(),_=[];if(h!==!1&&!h.degenerate)for(var f=0;f<v.length;f++)h.contains([g[f],p[f]],null,f,b)?(u.push({pointNumber:f,x:v[f],y:y[f]}),k(m,f)):m.indexOf(f)!==-1?k(m,f):_.push(f);var S=n.matrixOptions;return m.length||_.length?n.selectBatch.length||n.unselectBatch.length||n.matrix.update(n.unselectedOptions,A.extendFlat({},S,n.selectedOptions,n.viewOpts)):n.matrix.update(S,null),n.selectBatch=m,n.unselectBatch=_,u}},90167:function(Y,P,e){var A=e(49084),k=e(29736).axisHoverFormat,a=e(21776).Ks,w=e(52948),b=e(45464),h=e(92880).extendFlat,o={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:k("u",1),vhoverformat:k("v",1),whoverformat:k("w",1),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),showlegend:h({},b.showlegend,{dflt:!1})};h(o,A("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){o[t]=w[t]}),o.hoverinfo=h({},b.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),o.transforms=void 0,Y.exports=o},3832:function(Y,P,e){var A=e(3400),k=e(47128);function a(h){var o,t,i,n,r,s,l,u,d,c,x,g,p=h._x,v=h._y,y=h._z,m=h._len,_=-1/0,f=1/0,S=-1/0,T=1/0,E=-1/0,C=1/0,O="";for(m&&(l=p[0],d=v[0],x=y[0]),m>1&&(u=p[m-1],c=v[m-1],g=y[m-1]),o=0;o<m;o++)_=Math.max(_,p[o]),f=Math.min(f,p[o]),S=Math.max(S,v[o]),T=Math.min(T,v[o]),E=Math.max(E,y[o]),C=Math.min(C,y[o]),n||p[o]===l||(n=!0,O+="x"),r||v[o]===d||(r=!0,O+="y"),s||y[o]===x||(s=!0,O+="z");n||(O+="x"),r||(O+="y"),s||(O+="z");var I=w(h._x),z=w(h._y),U=w(h._z);O=(O=(O=O.replace("x",(l>u?"-":"+")+"x")).replace("y",(d>c?"-":"+")+"y")).replace("z",(x>g?"-":"+")+"z");var D=function(){m=0,I=[],z=[],U=[]};(!m||m<I.length*z.length*U.length)&&D();var B=function(me){return me==="x"?p:me==="y"?v:y},Z=function(me){return me==="x"?I:me==="y"?z:U},F=function(me){return me[m-1]<me[0]?-1:1},j=B(O[1]),V=B(O[3]),te=B(O[5]),Q=Z(O[1]).length,$=Z(O[3]).length,G=Z(O[5]).length,X=!1,J=function(me,ve,Me){return Q*($*me+ve)+Me},ne=F(B(O[1])),ie=F(B(O[3])),ae=F(B(O[5]));for(o=0;o<G-1;o++){for(t=0;t<$-1;t++){for(i=0;i<Q-1;i++){var le=J(o,t,i),ce=J(o,t,i+1),pe=J(o,t+1,i),ge=J(o+1,t,i);if(j[le]*ne<j[ce]*ne&&V[le]*ie<V[pe]*ie&&te[le]*ae<te[ge]*ae||(X=!0),X)break}if(X)break}if(X)break}return X&&(A.warn("Encountered arbitrary coordinates! Unable to input data grid."),D()),{xMin:f,yMin:T,zMin:C,xMax:_,yMax:S,zMax:E,Xs:I,Ys:z,Zs:U,len:m,fill:O}}function w(h){return A.distinctVals(h).vals}function b(h,o){if(o===void 0&&(o=h.length),A.isTypedArray(h))return h.subarray(0,o);for(var t=[],i=0;i<o;i++)t[i]=+h[i];return t}Y.exports={calc:function(h,o){o._len=Math.min(o.u.length,o.v.length,o.w.length,o.x.length,o.y.length,o.z.length),o._u=b(o.u,o._len),o._v=b(o.v,o._len),o._w=b(o.w,o._len),o._x=b(o.x,o._len),o._y=b(o.y,o._len),o._z=b(o.z,o._len);var t=a(o);o._gridFill=t.fill,o._Xs=t.Xs,o._Ys=t.Ys,o._Zs=t.Zs,o._len=t.len;var i,n,r,s=0;o.starts&&(i=b(o.starts.x||[]),n=b(o.starts.y||[]),r=b(o.starts.z||[]),s=Math.min(i.length,n.length,r.length)),o._startsX=i||[],o._startsY=n||[],o._startsZ=r||[];var l,u=0,d=1/0;for(l=0;l<o._len;l++){var c=o._u[l],x=o._v[l],g=o._w[l],p=Math.sqrt(c*c+x*x+g*g);u=Math.max(u,p),d=Math.min(d,p)}for(k(h,o,{vals:[d,u],containerStr:"",cLetter:"c"}),l=0;l<s;l++){var v=i[l];t.xMax=Math.max(t.xMax,v),t.xMin=Math.min(t.xMin,v);var y=n[l];t.yMax=Math.max(t.yMax,y),t.yMin=Math.min(t.yMin,y);var m=r[l];t.zMax=Math.max(t.zMax,m),t.zMin=Math.min(t.zMin,m)}o._slen=s,o._normMax=u,o._xbnds=[t.xMin,t.xMax],o._ybnds=[t.yMin,t.yMax],o._zbnds=[t.zMin,t.zMax]},filter:b,processGrid:a}},25668:function(Y,P,e){var A=e(67792).gl_streamtube3d,k=A.createTubeMesh,a=e(3400),w=e(33040).parseColorScale,b=e(8932).extractOpts,h=e(52094),o={xaxis:0,yaxis:1,zaxis:2};function t(l,u){this.scene=l,this.uid=u,this.mesh=null,this.data=null}var i=t.prototype;function n(l){var u=l.length;return u>2?l.slice(1,u-1):u===2?[(l[0]+l[1])/2]:l}function r(l){var u=l.length;return u===1?[.5,.5]:[l[1]-l[0],l[u-1]-l[u-2]]}function s(l,u){var d=l.fullSceneLayout,c=l.dataScale,x=u._len,g={};function p(Q,$){var G=d[$],X=c[o[$]];return a.simpleMap(Q,function(J){return G.d2l(J)*X})}if(g.vectors=h(p(u._u,"xaxis"),p(u._v,"yaxis"),p(u._w,"zaxis"),x),!x)return{positions:[],cells:[]};var v=p(u._Xs,"xaxis"),y=p(u._Ys,"yaxis"),m=p(u._Zs,"zaxis");if(g.meshgrid=[v,y,m],g.gridFill=u._gridFill,u._slen)g.startingPositions=h(p(u._startsX,"xaxis"),p(u._startsY,"yaxis"),p(u._startsZ,"zaxis"));else{for(var _=y[0],f=n(v),S=n(m),T=new Array(f.length*S.length),E=0,C=0;C<f.length;C++)for(var O=0;O<S.length;O++)T[E++]=[f[C],_,S[O]];g.startingPositions=T}g.colormap=w(u),g.tubeSize=u.sizeref,g.maxLength=u.maxdisplayed;var I=p(u._xbnds,"xaxis"),z=p(u._ybnds,"yaxis"),U=p(u._zbnds,"zaxis"),D=r(v),B=r(y),Z=r(m),F=[[I[0]-D[0],z[0]-B[0],U[0]-Z[0]],[I[1]+D[1],z[1]+B[1],U[1]+Z[1]]],j=A(g,F),V=b(u);j.vertexIntensityBounds=[V.min/u._normMax,V.max/u._normMax];var te=u.lightposition;return j.lightPosition=[te.x,te.y,te.z],j.ambient=u.lighting.ambient,j.diffuse=u.lighting.diffuse,j.specular=u.lighting.specular,j.roughness=u.lighting.roughness,j.fresnel=u.lighting.fresnel,j.opacity=u.opacity,u._pad=j.tubeScale*u.sizeref*2,j}i.handlePick=function(l){var u=this.scene.fullSceneLayout,d=this.scene.dataScale;function c(p,v){var y=u[v],m=d[o[v]];return y.l2c(p)/m}if(l.object===this.mesh){var x=l.data.position,g=l.data.velocity;return l.traceCoordinate=[c(x[0],"xaxis"),c(x[1],"yaxis"),c(x[2],"zaxis"),c(g[0],"xaxis"),c(g[1],"yaxis"),c(g[2],"zaxis"),l.data.intensity*this.data._normMax,l.data.divergence],l.textLabel=this.data.hovertext||this.data.text,!0}},i.update=function(l){this.data=l;var u=s(this.scene,l);this.mesh.update(u)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},Y.exports=function(l,u){var d=l.glplot.gl,c=s(l,u),x=k(d,c),g=new t(l,u.uid);return g.mesh=x,g.data=u,x._trace=g,l.glplot.add(x),g}},54304:function(Y,P,e){var A=e(3400),k=e(27260),a=e(90167);Y.exports=function(w,b,h,o){function t(d,c){return A.coerce(w,b,a,d,c)}var i=t("u"),n=t("v"),r=t("w"),s=t("x"),l=t("y"),u=t("z");i&&i.length&&n&&n.length&&r&&r.length&&s&&s.length&&l&&l.length&&u&&u.length?(t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),k(w,b,o,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),b._length=null):b.visible=!1}},15436:function(Y,P,e){Y.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(12536),categories:["gl3d","showLegend"],attributes:e(90167),supplyDefaults:e(54304),colorbar:{min:"cmin",max:"cmax"},calc:e(3832).calc,plot:e(25668),eventData:function(A,k){return A.tubex=A.x,A.tubey=A.y,A.tubez=A.z,A.tubeu=k.traceCoordinate[3],A.tubev=k.traceCoordinate[4],A.tubew=k.traceCoordinate[5],A.norm=k.traceCoordinate[6],A.divergence=k.traceCoordinate[7],delete A.x,delete A.y,delete A.z,A},meta:{}}},424:function(Y,P,e){var A=e(45464),k=e(21776).Ks,a=e(21776).Gw,w=e(49084),b=e(86968).u,h=e(74996),o=e(27328),t=e(92880).extendFlat,i=e(98192).c;Y.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},h.marker.line.color,{dflt:null}),width:t({},h.marker.line.width,{dflt:1}),editType:"calc"},pattern:i,editType:"calc"},w("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:h.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:a({editType:"plot"},{keys:o.eventDataKeys.concat(["label","value"])}),hovertext:h.hovertext,hoverinfo:t({},A.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:k({},{keys:o.eventDataKeys}),textfont:h.textfont,insidetextorientation:h.insidetextorientation,insidetextfont:h.insidetextfont,outsidetextfont:t({},h.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:h.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:b({name:"sunburst",trace:!0,editType:"calc"})}},54904:function(Y,P,e){var A=e(7316);P.name="sunburst",P.plot=function(k,a,w,b){A.plotBasePlot(P.name,k,a,w,b)},P.clean=function(k,a,w,b){A.cleanBasePlot(P.name,k,a,w,b)}},3776:function(Y,P,e){var A=e(74148),k=e(38248),a=e(3400),w=e(8932).makeColorScaleFuncFromTrace,b=e(45768).makePullColorFn,h=e(45768).generateExtendedColors,o=e(8932).calc,t=e(39032).ALMOST_EQUAL,i={},n={},r={};function s(l,u,d){var c=0,x=l.children;if(x){for(var g=x.length,p=0;p<g;p++)c+=s(x[p],u,d);d.branches&&c++}else d.leaves&&c++;return l.value=l.data.data.value=c,u._values||(u._values=[]),u._values[l.data.data.i]=c,c}P.calc=function(l,u){var d,c,x,g,p,v,y=l._fullLayout,m=u.ids,_=a.isArrayOrTypedArray(m),f=u.labels,S=u.parents,T=u.values,E=a.isArrayOrTypedArray(T),C=[],O={},I={},z=function(ae){return ae||typeof ae=="number"},U=function(ae){return!E||k(T[ae])&&T[ae]>=0};_?(d=Math.min(m.length,S.length),c=function(ae){return z(m[ae])&&U(ae)},x=function(ae){return String(m[ae])}):(d=Math.min(f.length,S.length),c=function(ae){return z(f[ae])&&U(ae)},x=function(ae){return String(f[ae])}),E&&(d=Math.min(d,T.length));for(var D=0;D<d;D++)if(c(D)){var B=x(D),Z=z(S[D])?String(S[D]):"",F={i:D,id:B,pid:Z,label:z(f[D])?String(f[D]):""};E&&(F.v=+T[D]),C.push(F),p=B,O[g=Z]?O[g].push(p):O[g]=[p],I[p]=1}if(O[""]){if(O[""].length>1){for(var j=a.randstr(),V=0;V<C.length;V++)C[V].pid===""&&(C[V].pid=j);C.unshift({hasMultipleRoots:!0,id:j,pid:"",label:""})}}else{var te,Q=[];for(te in O)I[te]||Q.push(te);if(Q.length!==1)return a.warn(["Multiple implied roots, cannot build",u.type,"hierarchy of",u.name+".","These roots include:",Q.join(", ")].join(" "));te=Q[0],C.unshift({hasImpliedRoot:!0,id:te,pid:"",label:te})}try{v=A.stratify().id(function(ae){return ae.id}).parentId(function(ae){return ae.pid})(C)}catch(ae){return a.warn(["Failed to build",u.type,"hierarchy of",u.name+".","Error:",ae.message].join(" "))}var $=A.hierarchy(v),G=!1;if(E)switch(u.branchvalues){case"remainder":$.sum(function(ae){return ae.data.v});break;case"total":$.each(function(ae){var le=ae.data.data,ce=le.v;if(ae.children){var pe=ae.children.reduce(function(ge,me){return ge+me.data.data.v},0);if((le.hasImpliedRoot||le.hasMultipleRoots)&&(ce=pe),ce<pe*t)return G=!0,a.warn(["Total value for node",ae.data.data.id,"of",u.name,"is smaller than the sum of its children.",`
parent value =`,ce,`
children sum =`,pe].join(" "))}ae.value=ce})}else s($,u,{branches:u.count.indexOf("branches")!==-1,leaves:u.count.indexOf("leaves")!==-1});if(!G){var X,J;u.sort&&$.sort(function(ae,le){return le.value-ae.value});var ne=u.marker.colors||[],ie=!!ne.length;return u._hasColorscale?(ie||(ne=E?u.values:u._values),o(l,u,{vals:ne,containerStr:"marker",cLetter:"c"}),J=w(u.marker)):X=b(y["_"+u.type+"colormap"]),$.each(function(ae){var le=ae.data.data;le.color=u._hasColorscale?J(ne[le.i]):X(ne[le.i],le.id)}),C[0].hierarchy=$,C}},P._runCrossTraceCalc=function(l,u){var d=u._fullLayout,c=u.calcdata,x=d[l+"colorway"],g=d["_"+l+"colormap"];d["extend"+l+"colors"]&&(x=h(x,l==="icicle"?r:l==="treemap"?n:i));var p,v=0;function y(f){var S=f.data.data,T=S.id;S.color===!1&&(g[T]?S.color=g[T]:f.parent?f.parent.parent?S.color=f.parent.data.data.color:(g[T]=S.color=x[v%x.length],v++):S.color=p)}for(var m=0;m<c.length;m++){var _=c[m][0];_.trace.type===l&&_.hierarchy&&(p=_.trace.root.color,_.hierarchy.each(y))}},P.crossTraceCalc=function(l){return P._runCrossTraceCalc("sunburst",l)}},27328:function(Y){Y.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},25244:function(Y,P,e){var A=e(3400),k=e(424),a=e(86968).Q,w=e(31508).handleText,b=e(74174).handleMarkerDefaults,h=e(8932),o=h.hasColorscale,t=h.handleDefaults;Y.exports=function(i,n,r,s){function l(p,v){return A.coerce(i,n,k,p,v)}var u=l("labels"),d=l("parents");if(u&&u.length&&d&&d.length){var c=l("values");c&&c.length?l("branchvalues"):l("count"),l("level"),l("maxdepth"),b(i,n,s,l);var x=n._hasColorscale=o(i,"marker","colors")||(i.marker||{}).coloraxis;x&&t(i,n,s,l,{prefix:"marker.",cLetter:"c"}),l("leaf.opacity",x?1:.7);var g=l("text");l("texttemplate"),n.texttemplate||l("textinfo",A.isArrayOrTypedArray(g)?"text+label":"label"),l("hovertext"),l("hovertemplate"),w(i,n,s,l,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),l("insidetextorientation"),l("sort"),l("rotation"),l("root.color"),a(n,s,l),n._length=null}else n.visible=!1}},60404:function(Y,P,e){var A=e(43616),k=e(76308);Y.exports=function(a,w,b,h,o){var t=w.data.data,i=t.i,n=o||t.color;if(i>=0){w.i=t.i;var r=b.marker;r.pattern&&r.colors&&r.pattern.shape||(r.color=n,w.color=n),A.pointStyle(a,b,h,w)}else k.fill(a,n)}},45716:function(Y,P,e){var A=e(33428),k=e(24040),a=e(10624).appendArrayPointValue,w=e(93024),b=e(3400),h=e(95924),o=e(78176),t=e(69656).formatPieValue;function i(n,r,s){for(var l=n.data.data,u={curveNumber:r.index,pointNumber:l.i,data:r._input,fullData:r},d=0;d<s.length;d++){var c=s[d];c in n&&(u[c]=n[c])}return"parentString"in n&&!o.isHierarchyRoot(n)&&(u.parent=n.parentString),a(u,r,l.i),u}Y.exports=function(n,r,s,l,u){var d=l[0],c=d.trace,x=d.hierarchy,g=c.type==="sunburst",p=c.type==="treemap"||c.type==="icicle";"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1),n.on("mouseover",function(v){var y=s._fullLayout;if(!s._dragging&&y.hovermode!==!1){var m,_=s._fullData[c.index],f=v.data.data,S=f.i,T=o.isHierarchyRoot(v),E=o.getParent(x,v),C=o.getValue(v),O=function(ne){return b.castOption(_,S,ne)},I=O("hovertemplate"),z=w.castHoverinfo(_,y,S),U=y.separators;if(I||z&&z!=="none"&&z!=="skip"){var D,B;g&&(D=d.cx+v.pxmid[0]*(1-v.rInscribed),B=d.cy+v.pxmid[1]*(1-v.rInscribed)),p&&(D=v._hoverX,B=v._hoverY);var Z,F={},j=[],V=[],te=function(ne){return j.indexOf(ne)!==-1};z&&(j=z==="all"?_._module.attributes.hoverinfo.flags:z.split("+")),F.label=f.label,te("label")&&F.label&&V.push(F.label),f.hasOwnProperty("v")&&(F.value=f.v,F.valueLabel=t(F.value,U),te("value")&&V.push(F.valueLabel)),F.currentPath=v.currentPath=o.getPath(v.data),te("current path")&&!T&&V.push(F.currentPath);var Q=[],$=function(){Q.indexOf(Z)===-1&&(V.push(Z),Q.push(Z))};F.percentParent=v.percentParent=C/o.getValue(E),F.parent=v.parentString=o.getPtLabel(E),te("percent parent")&&(Z=o.formatPercent(F.percentParent,U)+" of "+F.parent,$()),F.percentEntry=v.percentEntry=C/o.getValue(r),F.entry=v.entry=o.getPtLabel(r),!te("percent entry")||T||v.onPathbar||(Z=o.formatPercent(F.percentEntry,U)+" of "+F.entry,$()),F.percentRoot=v.percentRoot=C/o.getValue(x),F.root=v.root=o.getPtLabel(x),te("percent root")&&!T&&(Z=o.formatPercent(F.percentRoot,U)+" of "+F.root,$()),F.text=O("hovertext")||O("text"),te("text")&&(Z=F.text,b.isValidTextValue(Z)&&V.push(Z)),m=[i(v,_,u.eventDataKeys)];var G={trace:_,y:B,_x0:v._x0,_x1:v._x1,_y0:v._y0,_y1:v._y1,text:V.join("<br>"),name:I||te("name")?_.name:void 0,color:O("hoverlabel.bgcolor")||f.color,borderColor:O("hoverlabel.bordercolor"),fontFamily:O("hoverlabel.font.family"),fontSize:O("hoverlabel.font.size"),fontColor:O("hoverlabel.font.color"),nameLength:O("hoverlabel.namelength"),textAlign:O("hoverlabel.align"),hovertemplate:I,hovertemplateLabels:F,eventData:m};g&&(G.x0=D-v.rInscribed*v.rpx1,G.x1=D+v.rInscribed*v.rpx1,G.idealAlign=v.pxmid[0]<0?"left":"right"),p&&(G.x=D,G.idealAlign=D<0?"left":"right");var X=[];w.loneHover(G,{container:y._hoverlayer.node(),outerContainer:y._paper.node(),gd:s,inOut_bbox:X}),m[0].bbox=X[0],c._hasHoverLabel=!0}if(p){var J=n.select("path.surface");u.styleOne(J,v,_,s,{hovered:!0})}c._hasHoverEvent=!0,s.emit("plotly_hover",{points:m||[i(v,_,u.eventDataKeys)],event:A.event})}}),n.on("mouseout",function(v){var y=s._fullLayout,m=s._fullData[c.index],_=A.select(this).datum();if(c._hasHoverEvent&&(v.originalEvent=A.event,s.emit("plotly_unhover",{points:[i(_,m,u.eventDataKeys)],event:A.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(w.loneUnhover(y._hoverlayer.node()),c._hasHoverLabel=!1),p){var f=n.select("path.surface");u.styleOne(f,_,m,s,{hovered:!1})}}),n.on("click",function(v){var y=s._fullLayout,m=s._fullData[c.index],_=g&&(o.isHierarchyRoot(v)||o.isLeaf(v)),f=o.getPtId(v),S=o.isEntry(v)?o.findEntryWithChild(x,f):o.findEntryWithLevel(x,f),T=o.getPtId(S),E={points:[i(v,m,u.eventDataKeys)],event:A.event};_||(E.nextLevel=T);var C=h.triggerHandler(s,"plotly_"+c.type+"click",E);if(C!==!1&&y.hovermode&&(s._hoverdata=[i(v,m,u.eventDataKeys)],w.click(s,A.event)),!_&&C!==!1&&!s._dragging&&!s._transitioning){k.call("_storeDirectGUIEdit",m,y._tracePreGUI[m.uid],{level:m.level});var O={data:[{level:T}],traces:[c.index]},I={frame:{redraw:!1,duration:u.transitionTime},transition:{duration:u.transitionTime,easing:u.transitionEasing},mode:"immediate",fromcurrent:!0};w.loneUnhover(y._hoverlayer.node()),k.call("animate",s,O,I)}})}},78176:function(Y,P,e){var A=e(3400),k=e(76308),a=e(93972),w=e(69656);function b(h){return h.data.data.pid}P.findEntryWithLevel=function(h,o){var t;return o&&h.eachAfter(function(i){if(P.getPtId(i)===o)return t=i.copy()}),t||h},P.findEntryWithChild=function(h,o){var t;return h.eachAfter(function(i){for(var n=i.children||[],r=0;r<n.length;r++){var s=n[r];if(P.getPtId(s)===o)return t=i.copy()}}),t||h},P.isEntry=function(h){return!h.parent},P.isLeaf=function(h){return!h.children},P.getPtId=function(h){return h.data.data.id},P.getPtLabel=function(h){return h.data.data.label},P.getValue=function(h){return h.value},P.isHierarchyRoot=function(h){return b(h)===""},P.setSliceCursor=function(h,o,t){var i=t.isTransitioning;if(!i){var n=h.datum();i=t.hideOnRoot&&P.isHierarchyRoot(n)||t.hideOnLeaves&&P.isLeaf(n)}a(h,i?null:"pointer")},P.getInsideTextFontKey=function(h,o,t,i,n){var r=(n||{}).onPathbar?"pathbar.textfont":"insidetextfont",s=t.data.data.i;return A.castOption(o,s,r+"."+h)||A.castOption(o,s,"textfont."+h)||i.size},P.getOutsideTextFontKey=function(h,o,t,i){var n=t.data.data.i;return A.castOption(o,n,"outsidetextfont."+h)||A.castOption(o,n,"textfont."+h)||i.size},P.isOutsideText=function(h,o){return!h._hasColorscale&&P.isHierarchyRoot(o)},P.determineTextFont=function(h,o,t,i){return P.isOutsideText(h,o)?function(n,r,s){return{color:P.getOutsideTextFontKey("color",n,r,s),family:P.getOutsideTextFontKey("family",n,r,s),size:P.getOutsideTextFontKey("size",n,r,s)}}(h,o,t):function(n,r,s,l){var u=(l||{}).onPathbar,d=r.data.data,c=d.i,x=A.castOption(n,c,(u?"pathbar.textfont":"insidetextfont")+".color");return!x&&n._input.textfont&&(x=A.castOption(n._input,c,"textfont.color")),{color:x||k.contrast(d.color),family:P.getInsideTextFontKey("family",n,r,s,l),size:P.getInsideTextFontKey("size",n,r,s,l)}}(h,o,t,i)},P.hasTransition=function(h){return!!(h&&h.duration>0)},P.getMaxDepth=function(h){return h.maxdepth>=0?h.maxdepth:1/0},P.isHeader=function(h,o){return!(P.isLeaf(h)||h.depth===o._maxDepth-1)},P.getParent=function(h,o){return P.findEntryWithLevel(h,b(o))},P.listPath=function(h,o){var t=h.parent;if(!t)return[];var i=o?[t.data[o]]:[t];return P.listPath(t,o).concat(i)},P.getPath=function(h){return P.listPath(h,"label").join("/")+"/"},P.formatValue=w.formatPieValue,P.formatPercent=function(h,o){var t=A.formatPercent(h,0);return t==="0%"&&(t=w.formatPiePercent(h,o)),t}},5621:function(Y,P,e){Y.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(54904),categories:[],animatable:!0,attributes:e(424),layoutAttributes:e(84920),supplyDefaults:e(25244),supplyLayoutDefaults:e(28732),calc:e(3776).calc,crossTraceCalc:e(3776).crossTraceCalc,plot:e(96488).plot,style:e(85676).style,colorbar:e(5528),meta:{}}},84920:function(Y){Y.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},28732:function(Y,P,e){var A=e(3400),k=e(84920);Y.exports=function(a,w){function b(h,o){return A.coerce(a,w,k,h,o)}b("sunburstcolorway",w.colorway),b("extendsunburstcolors")}},96488:function(Y,P,e){var A=e(33428),k=e(74148),a=e(67756).qy,w=e(43616),b=e(3400),h=e(72736),o=e(82744),t=o.recordMinTextSize,i=o.clearMinTextSize,n=e(37820),r=e(69656).getRotationAngle,s=n.computeTransform,l=n.transformInsideText,u=e(85676).styleOne,d=e(60100).resizeText,c=e(45716),x=e(27328),g=e(78176);function p(y,m,_,f){var S=y._context.staticPlot,T=y._fullLayout,E=!T.uniformtext.mode&&g.hasTransition(f),C=A.select(_).selectAll("g.slice"),O=m[0],I=O.trace,z=O.hierarchy,U=g.findEntryWithLevel(z,I.level),D=g.getMaxDepth(I),B=T._size,Z=I.domain,F=B.w*(Z.x[1]-Z.x[0]),j=B.h*(Z.y[1]-Z.y[0]),V=.5*Math.min(F,j),te=O.cx=B.l+B.w*(Z.x[1]+Z.x[0])/2,Q=O.cy=B.t+B.h*(1-Z.y[0])-j/2;if(!U)return C.remove();var $=null,G={};E&&C.each(function(se){G[g.getPtId(se)]={rpx0:se.rpx0,rpx1:se.rpx1,x0:se.x0,x1:se.x1,transform:se.transform},!$&&g.isEntry(se)&&($=se)});var X=function(se){return k.partition().size([2*Math.PI,se.height+1])(se)}(U).descendants(),J=U.height+1,ne=0,ie=D;O.hasMultipleRoots&&g.isHierarchyRoot(U)&&(X=X.slice(1),J-=1,ne=1,ie+=1),X=X.filter(function(se){return se.y1<=ie});var ae=r(I.rotation);ae&&X.forEach(function(se){se.x0+=ae,se.x1+=ae});var le=Math.min(J,D),ce=function(se){return(se-ne)/le*V},pe=function(se,de){return[se*Math.cos(de),-se*Math.sin(de)]},ge=function(se){return b.pathAnnulus(se.rpx0,se.rpx1,se.x0,se.x1,te,Q)},me=function(se){return te+v(se)[0]*(se.transform.rCenter||0)+(se.transform.x||0)},ve=function(se){return Q+v(se)[1]*(se.transform.rCenter||0)+(se.transform.y||0)};(C=C.data(X,g.getPtId)).enter().append("g").classed("slice",!0),E?C.exit().transition().each(function(){var se=A.select(this);se.select("path.surface").transition().attrTween("d",function(de){var Ee=function(Te){var Se,Le=g.getPtId(Te),Oe=G[Le],he=G[g.getPtId(U)];if(he){var xe=(Te.x1>he.x1?2*Math.PI:0)+ae;Se=Te.rpx1<he.rpx1?{x0:Te.x0,x1:Te.x1,rpx0:0,rpx1:0}:{x0:xe,x1:xe,rpx0:Te.rpx0,rpx1:Te.rpx1}}else{var ke,Re=g.getPtId(Te.parent);C.each(function(Je){if(g.getPtId(Je)===Re)return ke=Je});var ze,Ie=ke.children;Ie.forEach(function(Je,st){if(g.getPtId(Je)===Le)return ze=st});var He=Ie.length,qe=a(ke.x0,ke.x1);Se={rpx0:V,rpx1:V,x0:qe(ze/He),x1:qe((ze+1)/He)}}return a(Oe,Se)}(de);return function(Te){return ge(Ee(Te))}}),se.select("g.slicetext").attr("opacity",0)}).remove():C.exit().remove(),C.order();var Me=null;if(E&&$){var _e=g.getPtId($);C.each(function(se){Me===null&&g.getPtId(se)===_e&&(Me=se.x1)})}var we=C;function oe(se){var de=se.parent,Ee=G[g.getPtId(de)],Te={};if(Ee){var Se=de.children,Le=Se.indexOf(se),Oe=Se.length,he=a(Ee.x0,Ee.x1);Te.x0=he(Le/Oe),Te.x1=he(Le/Oe)}else Te.x0=Te.x1=0;return Te}E&&(we=we.transition().each("end",function(){var se=A.select(this);g.setSliceCursor(se,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),we.each(function(se){var de=A.select(this),Ee=b.ensureSingle(de,"path","surface",function(xe){xe.style("pointer-events",S?"none":"all")});se.rpx0=ce(se.y0),se.rpx1=ce(se.y1),se.xmid=(se.x0+se.x1)/2,se.pxmid=pe(se.rpx1,se.xmid),se.midangle=-(se.xmid-Math.PI/2),se.startangle=-(se.x0-Math.PI/2),se.stopangle=-(se.x1-Math.PI/2),se.halfangle=.5*Math.min(b.angleDelta(se.x0,se.x1)||Math.PI,Math.PI),se.ring=1-se.rpx0/se.rpx1,se.rInscribed=function(xe){return xe.rpx0===0&&b.isFullCircle([xe.x0,xe.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(xe.halfangle)),xe.ring/2))}(se),E?Ee.transition().attrTween("d",function(xe){var ke=function(Re){var ze,Ie=G[g.getPtId(Re)],He={x0:Re.x0,x1:Re.x1,rpx0:Re.rpx0,rpx1:Re.rpx1};if(Ie)ze=Ie;else if($)if(Re.parent)if(Me){var qe=(Re.x1>Me?2*Math.PI:0)+ae;ze={x0:qe,x1:qe}}else ze={rpx0:V,rpx1:V},b.extendFlat(ze,oe(Re));else ze={rpx0:0,rpx1:0};else ze={x0:ae,x1:ae};return a(ze,He)}(xe);return function(Re){return ge(ke(Re))}}):Ee.attr("d",ge),de.call(c,U,y,m,{eventDataKeys:x.eventDataKeys,transitionTime:x.CLICK_TRANSITION_TIME,transitionEasing:x.CLICK_TRANSITION_EASING}).call(g.setSliceCursor,y,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:y._transitioning}),Ee.call(u,se,I,y);var Te=b.ensureSingle(de,"g","slicetext"),Se=b.ensureSingle(Te,"text","",function(xe){xe.attr("data-notex",1)}),Le=b.ensureUniformFontSize(y,g.determineTextFont(I,se,T.font));Se.text(P.formatSliceLabel(se,U,I,m,T)).classed("slicetext",!0).attr("text-anchor","middle").call(w.font,Le).call(h.convertToTspans,y);var Oe=w.bBox(Se.node());se.transform=l(Oe,se,O),se.transform.targetX=me(se),se.transform.targetY=ve(se);var he=function(xe,ke){var Re=xe.transform;return s(Re,ke),Re.fontSize=Le.size,t(I.type,Re,T),b.getTextTransform(Re)};E?Se.transition().attrTween("transform",function(xe){var ke=function(Re){var ze,Ie=G[g.getPtId(Re)],He=Re.transform;if(Ie)ze=Ie;else if(ze={rpx1:Re.rpx1,transform:{textPosAngle:He.textPosAngle,scale:0,rotate:He.rotate,rCenter:He.rCenter,x:He.x,y:He.y}},$)if(Re.parent)if(Me){var qe=Re.x1>Me?2*Math.PI:0;ze.x0=ze.x1=qe}else b.extendFlat(ze,oe(Re));else ze.x0=ze.x1=ae;else ze.x0=ze.x1=ae;var Je=a(ze.transform.textPosAngle,Re.transform.textPosAngle),st=a(ze.rpx1,Re.rpx1),it=a(ze.x0,Re.x0),vt=a(ze.x1,Re.x1),_t=a(ze.transform.scale,He.scale),xt=a(ze.transform.rotate,He.rotate),et=He.rCenter===0?3:ze.transform.rCenter===0?1/3:1,nt=a(ze.transform.rCenter,He.rCenter);return function(Mt){var zt=st(Mt),Ft=it(Mt),Rt=vt(Mt),We=function(Ne){return nt(Math.pow(Ne,et))}(Mt),Ze={pxmid:pe(zt,(Ft+Rt)/2),rpx1:zt,transform:{textPosAngle:Je(Mt),rCenter:We,x:He.x,y:He.y}};return t(I.type,He,T),{transform:{targetX:me(Ze),targetY:ve(Ze),scale:_t(Mt),rotate:xt(Mt),rCenter:We}}}}(xe);return function(Re){return he(ke(Re),Oe)}}):Se.attr("transform",he(se,Oe))})}function v(y){return m=y.rpx1,_=y.transform.textPosAngle,[m*Math.sin(_),-m*Math.cos(_)];var m,_}P.plot=function(y,m,_,f){var S,T,E=y._fullLayout,C=E._sunburstlayer,O=!_,I=!E.uniformtext.mode&&g.hasTransition(_);i("sunburst",E),(S=C.selectAll("g.trace.sunburst").data(m,function(z){return z[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),S.order(),I?(f&&(T=f()),A.transition().duration(_.duration).ease(_.easing).each("end",function(){T&&T()}).each("interrupt",function(){T&&T()}).each(function(){C.selectAll("g.trace").each(function(z){p(y,z,this,_)})})):(S.each(function(z){p(y,z,this,_)}),E.uniformtext.mode&&d(y,E._sunburstlayer.selectAll(".trace"),"sunburst")),O&&S.exit().remove()},P.formatSliceLabel=function(y,m,_,f,S){var T=_.texttemplate,E=_.textinfo;if(!(T||E&&E!=="none"))return"";var C=S.separators,O=f[0],I=y.data.data,z=O.hierarchy,U=g.isHierarchyRoot(y),D=g.getParent(z,y),B=g.getValue(y);if(!T){var Z,F=E.split("+"),j=function(ie){return F.indexOf(ie)!==-1},V=[];if(j("label")&&I.label&&V.push(I.label),I.hasOwnProperty("v")&&j("value")&&V.push(g.formatValue(I.v,C)),!U){j("current path")&&V.push(g.getPath(y.data));var te=0;j("percent parent")&&te++,j("percent entry")&&te++,j("percent root")&&te++;var Q=te>1;if(te){var $,G=function(ie){Z=g.formatPercent($,C),Q&&(Z+=" of "+ie),V.push(Z)};j("percent parent")&&!U&&($=B/g.getValue(D),G("parent")),j("percent entry")&&($=B/g.getValue(m),G("entry")),j("percent root")&&($=B/g.getValue(z),G("root"))}}return j("text")&&(Z=b.castOption(_,I.i,"text"),b.isValidTextValue(Z)&&V.push(Z)),V.join("<br>")}var X=b.castOption(_,I.i,"texttemplate");if(!X)return"";var J={};I.label&&(J.label=I.label),I.hasOwnProperty("v")&&(J.value=I.v,J.valueLabel=g.formatValue(I.v,C)),J.currentPath=g.getPath(y.data),U||(J.percentParent=B/g.getValue(D),J.percentParentLabel=g.formatPercent(J.percentParent,C),J.parent=g.getPtLabel(D)),J.percentEntry=B/g.getValue(m),J.percentEntryLabel=g.formatPercent(J.percentEntry,C),J.entry=g.getPtLabel(m),J.percentRoot=B/g.getValue(z),J.percentRootLabel=g.formatPercent(J.percentRoot,C),J.root=g.getPtLabel(z),I.hasOwnProperty("color")&&(J.color=I.color);var ne=b.castOption(_,I.i,"text");return(b.isValidTextValue(ne)||ne==="")&&(J.text=ne),J.customdata=b.castOption(_,I.i,"customdata"),b.texttemplateString(X,J,S._d3locale,J,_._meta||{})}},85676:function(Y,P,e){var A=e(33428),k=e(76308),a=e(3400),w=e(82744).resizeText,b=e(60404);function h(o,t,i,n){var r=t.data.data,s=!t.children,l=r.i,u=a.castOption(i,l,"marker.line.color")||k.defaultLine,d=a.castOption(i,l,"marker.line.width")||0;o.call(b,t,i,n).style("stroke-width",d).call(k.stroke,u).style("opacity",s?i.leaf.opacity:null)}Y.exports={style:function(o){var t=o._fullLayout._sunburstlayer.selectAll(".trace");w(o,t,"sunburst"),t.each(function(i){var n=A.select(this),r=i[0].trace;n.style("opacity",r.opacity),n.selectAll("path.surface").each(function(s){A.select(this).call(h,s,r,o)})})},styleOne:h}},16716:function(Y,P,e){var A=e(76308),k=e(49084),a=e(29736).axisHoverFormat,w=e(21776).Ks,b=e(45464),h=e(92880).extendFlat,o=e(67824).overrideAll;function t(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:A.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:A.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var i=Y.exports=o(h({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:w(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},k("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:h({},k.zauto,{}),zmin:h({},k.zmin,{}),zmax:h({},k.zmax,{})},hoverinfo:h({},b.hoverinfo),showlegend:h({},b.showlegend,{dflt:!1})}),"calc","nested");i.x.editType=i.y.editType=i.z.editType="calc+clearAxisTypes",i.transforms=void 0},56576:function(Y,P,e){var A=e(47128);Y.exports=function(k,a){a.surfacecolor?A(k,a,{vals:a.surfacecolor,containerStr:"",cLetter:"c"}):A(k,a,{vals:a.z,containerStr:"",cLetter:"c"})}},79164:function(Y,P,e){var A=e(67792).gl_surface3d,k=e(67792).ndarray,a=e(67792).ndarray_linear_interpolate.d2,w=e(70448),b=e(11240),h=e(3400).isArrayOrTypedArray,o=e(33040).parseColorScale,t=e(43080),i=e(8932).extractOpts;function n(_,f,S){this.scene=_,this.uid=S,this.surface=f,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var r=n.prototype;r.getXat=function(_,f,S,T){var E=h(this.data.x)?h(this.data.x[0])?this.data.x[f][_]:this.data.x[_]:_;return S===void 0?E:T.d2l(E,0,S)},r.getYat=function(_,f,S,T){var E=h(this.data.y)?h(this.data.y[0])?this.data.y[f][_]:this.data.y[f]:f;return S===void 0?E:T.d2l(E,0,S)},r.getZat=function(_,f,S,T){var E=this.data.z[f][_];return E===null&&this.data.connectgaps&&this.data._interpolatedZ&&(E=this.data._interpolatedZ[f][_]),S===void 0?E:T.d2l(E,0,S)},r.handlePick=function(_){if(_.object===this.surface){var f=(_.data.index[0]-1)/this.dataScaleX-1,S=(_.data.index[1]-1)/this.dataScaleY-1,T=Math.max(Math.min(Math.round(f),this.data.z[0].length-1),0),E=Math.max(Math.min(Math.round(S),this.data._ylength-1),0);_.index=[T,E],_.traceCoordinate=[this.getXat(T,E),this.getYat(T,E),this.getZat(T,E)],_.dataCoordinate=[this.getXat(T,E,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(T,E,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(T,E,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var C=0;C<3;C++)_.dataCoordinate[C]!=null&&(_.dataCoordinate[C]*=this.scene.dataScale[C]);var O=this.data.hovertext||this.data.text;return h(O)&&O[E]&&O[E][T]!==void 0?_.textLabel=O[E][T]:_.textLabel=O||"",_.data.dataCoordinate=_.dataCoordinate.slice(),this.surface.highlight(_.data),this.scene.glplot.spikes.position=_.dataCoordinate,!0}};var s=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function l(_,f){if(_<f)return 0;for(var S=0;Math.floor(_%f)===0;)_/=f,S++;return S}function u(_){for(var f=[],S=0;S<s.length;S++){var T=s[S];f.push(l(_,T))}return f}function d(_){for(var f=u(_),S=_,T=0;T<s.length;T++)if(f[T]>0){S=s[T];break}return S}function c(_,f){if(!(_<1||f<1)){for(var S=u(_),T=u(f),E=1,C=0;C<s.length;C++)E*=Math.pow(s[C],Math.max(S[C],T[C]));return E}}r.calcXnums=function(_){var f,S=[];for(f=1;f<_;f++){var T=this.getXat(f-1,0),E=this.getXat(f,0);S[f-1]=E!==T&&T!=null&&E!=null?Math.abs(E-T):0}var C=0;for(f=1;f<_;f++)C+=S[f-1];for(f=1;f<_;f++)S[f-1]===0?S[f-1]=1:S[f-1]=Math.round(C/S[f-1]);return S},r.calcYnums=function(_){var f,S=[];for(f=1;f<_;f++){var T=this.getYat(0,f-1),E=this.getYat(0,f);S[f-1]=E!==T&&T!=null&&E!=null?Math.abs(E-T):0}var C=0;for(f=1;f<_;f++)C+=S[f-1];for(f=1;f<_;f++)S[f-1]===0?S[f-1]=1:S[f-1]=Math.round(C/S[f-1]);return S};var x=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],g=x[9],p=x[13];function v(_,f,S){var T=S[8]+S[2]*f[0]+S[5]*f[1];return _[0]=(S[6]+S[0]*f[0]+S[3]*f[1])/T,_[1]=(S[7]+S[1]*f[0]+S[4]*f[1])/T,_}function y(_,f,S){return function(T,E,C,O){for(var I=[0,0],z=T.shape[0],U=T.shape[1],D=0;D<z;D++)for(var B=0;B<U;B++)C(I,[D,B],O),T.set(D,B,a(E,I[0],I[1]))}(_,f,v,S),_}function m(_,f){for(var S=!1,T=0;T<_.length;T++)if(f===_[T]){S=!0;break}S===!1&&_.push(f)}r.estimateScale=function(_,f){for(var S=1+function(E){if(E.length!==0){for(var C=1,O=0;O<E.length;O++)C=c(C,E[O]);return C}}(f===0?this.calcXnums(_):this.calcYnums(_));S<g;)S*=2;for(;S>p;)S--,S/=d(S),++S<g&&(S=p);var T=Math.round(S/_);return T>1?T:1},r.refineCoords=function(_){for(var f=this.dataScaleX,S=this.dataScaleY,T=_[0].shape[0],E=_[0].shape[1],C=0|Math.floor(_[0].shape[0]*f+1),O=0|Math.floor(_[0].shape[1]*S+1),I=1+T+1,z=1+E+1,U=k(new Float32Array(I*z),[I,z]),D=[1/f,0,0,0,1/S,0,0,0,1],B=0;B<_.length;++B){this.surface.padField(U,_[B]);var Z=k(new Float32Array(C*O),[C,O]);y(Z,U,D),_[B]=Z}},r.setContourLevels=function(){var _,f,S,T=[[],[],[]],E=[!1,!1,!1],C=!1;for(_=0;_<3;++_)if(this.showContour[_]&&(C=!0,this.contourSize[_]>0&&this.contourStart[_]!==null&&this.contourEnd[_]!==null&&this.contourEnd[_]>this.contourStart[_]))for(E[_]=!0,f=this.contourStart[_];f<this.contourEnd[_];f+=this.contourSize[_])S=f*this.scene.dataScale[_],m(T[_],S);if(C){var O=[[],[],[]];for(_=0;_<3;++_)this.showContour[_]&&(O[_]=E[_]?T[_]:this.scene.contourLevels[_]);this.surface.update({levels:O})}},r.update=function(_){var f,S,T,E,C=this.scene,O=C.fullSceneLayout,I=this.surface,z=o(_),U=C.dataScale,D=_.z[0].length,B=_._ylength,Z=C.contourLevels;this.data=_;var F=[];for(f=0;f<3;f++)for(F[f]=[],S=0;S<D;S++)F[f][S]=[];for(S=0;S<D;S++)for(T=0;T<B;T++)F[0][S][T]=this.getXat(S,T,_.xcalendar,O.xaxis),F[1][S][T]=this.getYat(S,T,_.ycalendar,O.yaxis),F[2][S][T]=this.getZat(S,T,_.zcalendar,O.zaxis);if(_.connectgaps)for(_._emptypoints=b(F[2]),w(F[2],_._emptypoints),_._interpolatedZ=[],S=0;S<D;S++)for(_._interpolatedZ[S]=[],T=0;T<B;T++)_._interpolatedZ[S][T]=F[2][S][T];for(f=0;f<3;f++)for(S=0;S<D;S++)for(T=0;T<B;T++)(E=F[f][S][T])==null?F[f][S][T]=NaN:E=F[f][S][T]*=U[f];for(f=0;f<3;f++)for(S=0;S<D;S++)for(T=0;T<B;T++)(E=F[f][S][T])!=null&&(this.minValues[f]>E&&(this.minValues[f]=E),this.maxValues[f]<E&&(this.maxValues[f]=E));for(f=0;f<3;f++)this.objectOffset[f]=.5*(this.minValues[f]+this.maxValues[f]);for(f=0;f<3;f++)for(S=0;S<D;S++)for(T=0;T<B;T++)(E=F[f][S][T])!=null&&(F[f][S][T]-=this.objectOffset[f]);var j=[k(new Float32Array(D*B),[D,B]),k(new Float32Array(D*B),[D,B]),k(new Float32Array(D*B),[D,B])];for(f=0;f<3;f++)for(S=0;S<D;S++)for(T=0;T<B;T++)j[f].set(S,T,F[f][S][T]);F=[];var V={colormap:z,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!_.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:_.opacityscale,opacity:_.opacity},te=i(_);if(V.intensityBounds=[te.min,te.max],_.surfacecolor){var Q=k(new Float32Array(D*B),[D,B]);for(S=0;S<D;S++)for(T=0;T<B;T++)Q.set(S,T,_.surfacecolor[T][S]);j.push(Q)}else V.intensityBounds[0]*=U[2],V.intensityBounds[1]*=U[2];(p<j[0].shape[0]||p<j[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(j[0].shape[0],0),this.dataScaleY=this.estimateScale(j[0].shape[1],1),this.dataScaleX===1&&this.dataScaleY===1||this.refineCoords(j)),_.surfacecolor&&(V.intensity=j.pop());var $=[!0,!0,!0],G=["x","y","z"];for(f=0;f<3;++f){var X=_.contours[G[f]];$[f]=X.highlight,V.showContour[f]=X.show||X.highlight,V.showContour[f]&&(V.contourProject[f]=[X.project.x,X.project.y,X.project.z],X.show?(this.showContour[f]=!0,V.levels[f]=Z[f],I.highlightColor[f]=V.contourColor[f]=t(X.color),X.usecolormap?I.highlightTint[f]=V.contourTint[f]=0:I.highlightTint[f]=V.contourTint[f]=1,V.contourWidth[f]=X.width,this.contourStart[f]=X.start,this.contourEnd[f]=X.end,this.contourSize[f]=X.size):(this.showContour[f]=!1,this.contourStart[f]=null,this.contourEnd[f]=null,this.contourSize[f]=0),X.highlight&&(V.dynamicColor[f]=t(X.highlightcolor),V.dynamicWidth[f]=X.highlightwidth))}(function(J){var ne=J[0].rgb,ie=J[J.length-1].rgb;return ne[0]===ie[0]&&ne[1]===ie[1]&&ne[2]===ie[2]&&ne[3]===ie[3]})(z)&&(V.vertexColor=!0),V.objectOffset=this.objectOffset,V.coords=j,I.update(V),I.visible=_.visible,I.enableDynamic=$,I.enableHighlight=$,I.snapToData=!0,"lighting"in _&&(I.ambientLight=_.lighting.ambient,I.diffuseLight=_.lighting.diffuse,I.specularLight=_.lighting.specular,I.roughness=_.lighting.roughness,I.fresnel=_.lighting.fresnel),"lightposition"in _&&(I.lightPosition=[_.lightposition.x,_.lightposition.y,_.lightposition.z])},r.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},Y.exports=function(_,f){var S=_.glplot.gl,T=A({gl:S}),E=new n(_,T,f.uid);return T._trace=E,E.update(f),_.glplot.add(T),E}},60192:function(Y,P,e){var A=e(24040),k=e(3400),a=e(27260),w=e(16716);function b(o,t,i,n){var r=n("opacityscale");r==="max"?t.opacityscale=[[0,.1],[1,1]]:r==="min"?t.opacityscale=[[0,1],[1,.1]]:r==="extremes"?t.opacityscale=function(s,l){for(var u=[],d=0;d<32;d++){var c=d/31,x=.1+.9*(1-Math.pow(Math.sin(1*c*Math.PI),2));u.push([c,Math.max(0,Math.min(1,x))])}return u}():function(s){var l=0;if(!Array.isArray(s)||s.length<2||!s[0]||!s[s.length-1]||+s[0][0]!=0||+s[s.length-1][0]!=1)return!1;for(var u=0;u<s.length;u++){var d=s[u];if(d.length!==2||+d[0]<l)return!1;l=+d[0]}return!0}(r)||(t.opacityscale=void 0)}function h(o,t,i){t in o&&!(i in o)&&(o[i]=o[t])}Y.exports={supplyDefaults:function(o,t,i,n){var r,s;function l(m,_){return k.coerce(o,t,w,m,_)}var u=l("x"),d=l("y"),c=l("z");if(!c||!c.length||u&&u.length<1||d&&d.length<1)t.visible=!1;else{t._xlength=Array.isArray(u)&&k.isArrayOrTypedArray(u[0])?c.length:c[0].length,t._ylength=c.length,A.getComponentMethod("calendars","handleTraceDefaults")(o,t,["x","y","z"],n),l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(m){l(m)});var x=l("surfacecolor"),g=["x","y","z"];for(r=0;r<3;++r){var p="contours."+g[r],v=l(p+".show"),y=l(p+".highlight");if(v||y)for(s=0;s<3;++s)l(p+".project."+g[s]);v&&(l(p+".color"),l(p+".width"),l(p+".usecolormap")),y&&(l(p+".highlightcolor"),l(p+".highlightwidth")),l(p+".start"),l(p+".end"),l(p+".size")}x||(h(o,"zmin","cmin"),h(o,"zmax","cmax"),h(o,"zauto","cauto")),a(o,t,n,l,{prefix:"",cLetter:"c"}),b(0,t,0,l),t._length=null}},opacityscaleDefaults:b}},91304:function(Y,P,e){Y.exports={attributes:e(16716),supplyDefaults:e(60192).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(56576),plot:e(79164),moduleType:"trace",name:"surface",basePlotModule:e(12536),categories:["gl3d","2dMap","showLegend"],meta:{}}},60520:function(Y,P,e){var A=e(13916),k=e(92880).extendFlat,a=e(67824).overrideAll,w=e(25376),b=e(86968).u,h=e(29736).descriptionOnlyNumbers;(Y.exports=a({domain:b({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:h("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:k({},A.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:k({},w({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:h("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:k({},A.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:k({},w({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},85852:function(Y,P,e){var A=e(84888)._M,k=e(24752),a="table";P.name=a,P.plot=function(w){var b=A(w.calcdata,a)[0];b.length&&k(w,b)},P.clean=function(w,b,h,o){var t=o._has&&o._has(a),i=b._has&&b._has(a);t&&!i&&o._paperdiv.selectAll(".table").remove()}},39312:function(Y,P,e){var A=e(71688).wrap;Y.exports=function(){return A({})}},23536:function(Y){Y.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},55992:function(Y,P,e){var A=e(23536),k=e(92880).extendFlat,a=e(38248),w=e(38116).isTypedArray,b=e(38116).isArrayOrTypedArray;function h(l){if(b(l)){for(var u=0,d=0;d<l.length;d++)u=Math.max(u,h(l[d]));return u}return l}function o(l,u){return l+u}function t(l){var u,d=l.slice(),c=1/0,x=0;for(u=0;u<d.length;u++)w(d[u])?d[u]=Array.from(d[u]):b(d[u])||(d[u]=[d[u]]),c=Math.min(c,d[u].length),x=Math.max(x,d[u].length);if(c!==x)for(u=0;u<d.length;u++){var g=x-d[u].length;g&&(d[u]=d[u].concat(i(g)))}return d}function i(l){for(var u=new Array(l),d=0;d<l;d++)u[d]="";return u}function n(l){return l.calcdata.columns.reduce(function(u,d){return d.xIndex<l.xIndex?u+d.columnWidth:u},0)}function r(l,u){return Object.keys(l).map(function(d){return k({},l[d],{auxiliaryBlocks:u})})}function s(l,u){for(var d,c={},x=0,g=0,p={firstRowIndex:null,lastRowIndex:null,rows:[]},v=0,y=0,m=0;m<l.length;m++)d=l[m],p.rows.push({rowIndex:m,rowHeight:d}),((g+=d)>=u||m===l.length-1)&&(c[x]=p,p.key=y++,p.firstRowIndex=v,p.lastRowIndex=m,p={firstRowIndex:null,lastRowIndex:null,rows:[]},x+=g,v=m+1,g=0);return c}Y.exports=function(l,u){var d=t(u.cells.values),c=function(B){return B.slice(u.header.values.length,B.length)},x=t(u.header.values);x.length&&!x[0].length&&(x[0]=[""],x=t(x));var g=x.concat(c(d).map(function(){return i((x[0]||[""]).length)})),p=u.domain,v=Math.floor(l._fullLayout._size.w*(p.x[1]-p.x[0])),y=Math.floor(l._fullLayout._size.h*(p.y[1]-p.y[0])),m=u.header.values.length?g[0].map(function(){return u.header.height}):[A.emptyHeaderHeight],_=d.length?d[0].map(function(){return u.cells.height}):[],f=m.reduce(o,0),S=s(_,y-f+A.uplift),T=r(s(m,f),[]),E=r(S,T),C={},O=u._fullInput.columnorder;b(O)&&(O=Array.from(O)),O=O.concat(c(d.map(function(B,Z){return Z})));var I=g.map(function(B,Z){var F=b(u.columnwidth)?u.columnwidth[Math.min(Z,u.columnwidth.length-1)]:u.columnwidth;return a(F)?Number(F):1}),z=I.reduce(o,0);I=I.map(function(B){return B/z*v});var U=Math.max(h(u.header.line.width),h(u.cells.line.width)),D={key:u.uid+l._context.staticPlot,translateX:p.x[0]*l._fullLayout._size.w,translateY:l._fullLayout._size.h*(1-p.y[1]),size:l._fullLayout._size,width:v,maxLineWidth:U,height:y,columnOrder:O,groupHeight:y,rowBlocks:E,headerRowBlocks:T,scrollY:0,cells:k({},u.cells,{values:d}),headerCells:k({},u.header,{values:g}),gdColumns:g.map(function(B){return B[0]}),gdColumnsOriginalOrder:g.map(function(B){return B[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:g.map(function(B,Z){var F=C[B];return C[B]=(F||0)+1,{key:B+"__"+C[B],label:B,specIndex:Z,xIndex:O[Z],xScale:n,x:void 0,calcdata:void 0,columnWidth:I[Z]}})};return D.columns.forEach(function(B){B.calcdata=D,B.x=n(B)}),D}},53056:function(Y,P,e){var A=e(92880).extendFlat;P.splitToPanels=function(k){var a=[0,0],w=A({},k,{key:"header",type:"header",page:0,prevPages:a,currentRepaint:[null,null],dragHandle:!0,values:k.calcdata.headerCells.values[k.specIndex],rowBlocks:k.calcdata.headerRowBlocks,calcdata:A({},k.calcdata,{cells:k.calcdata.headerCells})});return[A({},k,{key:"cells1",type:"cells",page:0,prevPages:a,currentRepaint:[null,null],dragHandle:!1,values:k.calcdata.cells.values[k.specIndex],rowBlocks:k.calcdata.rowBlocks}),A({},k,{key:"cells2",type:"cells",page:1,prevPages:a,currentRepaint:[null,null],dragHandle:!1,values:k.calcdata.cells.values[k.specIndex],rowBlocks:k.calcdata.rowBlocks}),w]},P.splitToCells=function(k){var a=function(w){var b=w.rowBlocks[w.page],h=b?b.rows[0].rowIndex:0;return[h,b?h+b.rows.length:0]}(k);return(k.values||[]).slice(a[0],a[1]).map(function(w,b){return{keyWithinBlock:b+(typeof w=="string"&&w.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:a[0]+b,column:k,calcdata:k.calcdata,page:k.page,rowBlocks:k.rowBlocks,value:w}})}},53212:function(Y,P,e){var A=e(3400),k=e(60520),a=e(86968).Q;Y.exports=function(w,b,h,o){function t(i,n){return A.coerce(w,b,k,i,n)}a(b,o,t),t("columnwidth"),t("header.values"),t("header.format"),t("header.align"),t("header.prefix"),t("header.suffix"),t("header.height"),t("header.line.width"),t("header.line.color"),t("header.fill.color"),A.coerceFont(t,"header.font",A.extendFlat({},o.font)),function(i,n){for(var r=i.columnorder||[],s=i.header.values.length,l=r.slice(0,s),u=l.slice().sort(function(x,g){return x-g}),d=l.map(function(x){return u.indexOf(x)}),c=d.length;c<s;c++)d.push(c);n("columnorder",d)}(b,t),t("cells.values"),t("cells.format"),t("cells.align"),t("cells.prefix"),t("cells.suffix"),t("cells.height"),t("cells.line.width"),t("cells.line.color"),t("cells.fill.color"),A.coerceFont(t,"cells.font",A.extendFlat({},o.font)),b._length=null}},41724:function(Y,P,e){Y.exports={attributes:e(60520),supplyDefaults:e(53212),calc:e(39312),plot:e(24752),moduleType:"trace",name:"table",basePlotModule:e(85852),categories:["noOpacity"],meta:{}}},24752:function(Y,P,e){var A=e(23536),k=e(33428),a=e(3400),w=a.numberFormat,b=e(71688),h=e(43616),o=e(72736),t=e(3400).raiseToTop,i=e(3400).strTranslate,n=e(3400).cancelTransition,r=e(55992),s=e(53056),l=e(76308);function u(V){return Math.ceil(V.calcdata.maxLineWidth/2)}function d(V,te){return"clip"+V._fullLayout._uid+"_scrollAreaBottomClip_"+te.key}function c(V,te){return"clip"+V._fullLayout._uid+"_columnBoundaryClippath_"+te.calcdata.key+"_"+te.specIndex}function x(V){return[].concat.apply([],V.map(function(te){return te})).map(function(te){return te.__data__})}function g(V,te,Q){var $=V.selectAll("."+A.cn.scrollbarKit).data(b.repeat,b.keyFun);$.enter().append("g").classed(A.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),$.each(function(ie){var ae=ie.scrollbarState;ae.totalHeight=function(le){var ce=le.rowBlocks;return B(ce,ce.length-1)+(ce.length?Z(ce[ce.length-1],1/0):1)}(ie),ae.scrollableAreaHeight=ie.groupHeight-T(ie),ae.currentlyVisibleHeight=Math.min(ae.totalHeight,ae.scrollableAreaHeight),ae.ratio=ae.currentlyVisibleHeight/ae.totalHeight,ae.barLength=Math.max(ae.ratio*ae.currentlyVisibleHeight,A.goldenRatio*A.scrollbarWidth),ae.barWiggleRoom=ae.currentlyVisibleHeight-ae.barLength,ae.wiggleRoom=Math.max(0,ae.totalHeight-ae.scrollableAreaHeight),ae.topY=ae.barWiggleRoom===0?0:ie.scrollY/ae.wiggleRoom*ae.barWiggleRoom,ae.bottomY=ae.topY+ae.barLength,ae.dragMultiplier=ae.wiggleRoom/ae.barWiggleRoom}).attr("transform",function(ie){var ae=ie.width+A.scrollbarWidth/2+A.scrollbarOffset;return i(ae,T(ie))});var G=$.selectAll("."+A.cn.scrollbar).data(b.repeat,b.keyFun);G.enter().append("g").classed(A.cn.scrollbar,!0);var X=G.selectAll("."+A.cn.scrollbarSlider).data(b.repeat,b.keyFun);X.enter().append("g").classed(A.cn.scrollbarSlider,!0),X.attr("transform",function(ie){return i(0,ie.scrollbarState.topY||0)});var J=X.selectAll("."+A.cn.scrollbarGlyph).data(b.repeat,b.keyFun);J.enter().append("line").classed(A.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",A.scrollbarWidth).attr("stroke-linecap","round").attr("y1",A.scrollbarWidth/2),J.attr("y2",function(ie){return ie.scrollbarState.barLength-A.scrollbarWidth/2}).attr("stroke-opacity",function(ie){return ie.columnDragInProgress||!ie.scrollbarState.barWiggleRoom||Q?0:.4}),J.transition().delay(0).duration(0),J.transition().delay(A.scrollbarHideDelay).duration(A.scrollbarHideDuration).attr("stroke-opacity",0);var ne=G.selectAll("."+A.cn.scrollbarCaptureZone).data(b.repeat,b.keyFun);ne.enter().append("line").classed(A.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",A.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(ie){var ae=k.event.y,le=this.getBoundingClientRect(),ce=ie.scrollbarState,pe=ae-le.top,ge=k.scale.linear().domain([0,ce.scrollableAreaHeight]).range([0,ce.totalHeight]).clamp(!0);ce.topY<=pe&&pe<=ce.bottomY||C(te,V,null,ge(pe-ce.barLength/2))(ie)}).call(k.behavior.drag().origin(function(ie){return k.event.stopPropagation(),ie.scrollbarState.scrollbarScrollInProgress=!0,ie}).on("drag",C(te,V)).on("dragend",function(){})),ne.attr("y2",function(ie){return ie.scrollbarState.scrollableAreaHeight}),te._context.staticPlot&&(J.remove(),ne.remove())}function p(V,te,Q,$){var G=function(ae){var le=ae.selectAll("."+A.cn.columnCells).data(b.repeat,b.keyFun);return le.enter().append("g").classed(A.cn.columnCells,!0),le.exit().remove(),le}(Q),X=function(ae){var le=ae.selectAll("."+A.cn.columnCell).data(s.splitToCells,function(ce){return ce.keyWithinBlock});return le.enter().append("g").classed(A.cn.columnCell,!0),le.exit().remove(),le}(G);(function(ae){ae.each(function(le,ce){var pe=le.calcdata.cells.font,ge=le.column.specIndex,me={size:m(pe.size,ge,ce),color:m(pe.color,ge,ce),family:m(pe.family,ge,ce)};le.rowNumber=le.key,le.align=m(le.calcdata.cells.align,ge,ce),le.cellBorderWidth=m(le.calcdata.cells.line.width,ge,ce),le.font=me})})(X);var J=function(ae){var le=ae.selectAll("."+A.cn.cellRect).data(b.repeat,function(ce){return ce.keyWithinBlock});return le.enter().append("rect").classed(A.cn.cellRect,!0),le}(X);(function(ae){ae.attr("width",function(le){return le.column.columnWidth}).attr("stroke-width",function(le){return le.cellBorderWidth}).each(function(le){var ce=k.select(this);l.stroke(ce,m(le.calcdata.cells.line.color,le.column.specIndex,le.rowNumber)),l.fill(ce,m(le.calcdata.cells.fill.color,le.column.specIndex,le.rowNumber))})})(J);var ne=function(ae){var le=ae.selectAll("."+A.cn.cellTextHolder).data(b.repeat,function(ce){return ce.keyWithinBlock});return le.enter().append("g").classed(A.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),le}(X),ie=function(ae){var le=ae.selectAll("."+A.cn.cellText).data(b.repeat,function(ce){return ce.keyWithinBlock});return le.enter().append("text").classed(A.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){k.event.stopPropagation()}),le}(ne);(function(ae){ae.each(function(le){h.font(k.select(this),le.font)})})(ie),v(ie,te,$,V),D(X)}function v(V,te,Q,$){V.text(function(G){var X=G.column.specIndex,J=G.rowNumber,ne=G.value,ie=typeof ne=="string",ae=ie&&ne.match(/<br>/i),le=!ie||ae;G.mayHaveMarkup=ie&&ne.match(/[<&>]/);var ce,pe=typeof(ce=ne)=="string"&&ce.match(A.latexCheck);G.latex=pe;var ge,me,ve=pe?"":m(G.calcdata.cells.prefix,X,J)||"",Me=pe?"":m(G.calcdata.cells.suffix,X,J)||"",_e=pe?null:m(G.calcdata.cells.format,X,J)||null,we=ve+(_e?w(_e)(G.value):G.value)+Me;if(G.wrappingNeeded=!G.wrapped&&!le&&!pe&&(ge=y(we)),G.cellHeightMayIncrease=ae||pe||G.mayHaveMarkup||(ge===void 0?y(we):ge),G.needsConvertToTspans=G.mayHaveMarkup||G.wrappingNeeded||G.latex,G.wrappingNeeded){var oe=(A.wrapSplitCharacter===" "?we.replace(/<a href=/gi,"<a_href="):we).split(A.wrapSplitCharacter),se=A.wrapSplitCharacter===" "?oe.map(function(de){return de.replace(/<a_href=/gi,"<a href=")}):oe;G.fragments=se.map(function(de){return{text:de,width:null}}),G.fragments.push({fragment:A.wrapSpacer,width:null}),me=se.join(A.lineBreaker)+A.lineBreaker+A.wrapSpacer}else delete G.fragments,me=we;return me}).attr("dy",function(G){return G.needsConvertToTspans?0:"0.75em"}).each(function(G){var X=this,J=k.select(X),ne=G.wrappingNeeded?I:z;G.needsConvertToTspans?o.convertToTspans(J,$,ne(Q,X,te,$,G)):k.select(X.parentNode).attr("transform",function(ie){return i(U(ie),A.cellPad)}).attr("text-anchor",function(ie){return{left:"start",center:"middle",right:"end"}[ie.align]})})}function y(V){return V.indexOf(A.wrapSplitCharacter)!==-1}function m(V,te,Q){if(a.isArrayOrTypedArray(V)){var $=V[Math.min(te,V.length-1)];return a.isArrayOrTypedArray($)?$[Math.min(Q,$.length-1)]:$}return V}function _(V,te,Q){V.transition().ease(A.releaseTransitionEase).duration(A.releaseTransitionDuration).attr("transform",i(te.x,Q))}function f(V){return V.type==="cells"}function S(V){return V.type==="header"}function T(V){return(V.rowBlocks.length?V.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(te,Q){return te+Z(Q,1/0)},0)}function E(V,te,Q){var $=x(te)[0];if($!==void 0){var G=$.rowBlocks,X=$.calcdata,J=B(G,G.length),ne=$.calcdata.groupHeight-T($),ie=X.scrollY=Math.max(0,Math.min(J-ne,X.scrollY)),ae=function(le,ce,pe){for(var ge=[],me=0,ve=0;ve<le.length;ve++){for(var Me=le[ve],_e=Me.rows,we=0,oe=0;oe<_e.length;oe++)we+=_e[oe].rowHeight;Me.allRowsHeight=we,ce<me+we&&ce+pe>me&&ge.push(ve),me+=we}return ge}(G,ie,ne);ae.length===1&&(ae[0]===G.length-1?ae.unshift(ae[0]-1):ae.push(ae[0]+1)),ae[0]%2&&ae.reverse(),te.each(function(le,ce){le.page=ae[ce],le.scrollY=ie}),te.attr("transform",function(le){var ce=B(le.rowBlocks,le.page)-le.scrollY;return i(0,ce)}),V&&(O(V,Q,te,ae,$.prevPages,$,0),O(V,Q,te,ae,$.prevPages,$,1),g(Q,V))}}function C(V,te,Q,$){return function(G){var X=G.calcdata?G.calcdata:G,J=te.filter(function(le){return X.key===le.key}),ne=Q||X.scrollbarState.dragMultiplier,ie=X.scrollY;X.scrollY=$===void 0?X.scrollY+ne*k.event.dy:$;var ae=J.selectAll("."+A.cn.yColumn).selectAll("."+A.cn.columnBlock).filter(f);return E(V,ae,J),X.scrollY===ie}}function O(V,te,Q,$,G,X,J){$[J]!==G[J]&&(clearTimeout(X.currentRepaint[J]),X.currentRepaint[J]=setTimeout(function(){var ne=Q.filter(function(ie,ae){return ae===J&&$[ae]!==G[ae]});p(V,te,ne,Q),G[J]=$[J]}))}function I(V,te,Q,$){return function(){var G=k.select(te.parentNode);G.each(function(X){var J=X.fragments;G.selectAll("tspan.line").each(function(me,ve){J[ve].width=this.getComputedTextLength()});var ne,ie,ae=J[J.length-1].width,le=J.slice(0,-1),ce=[],pe=0,ge=X.column.columnWidth-2*A.cellPad;for(X.value="";le.length;)pe+(ie=(ne=le.shift()).width+ae)>ge&&(X.value+=ce.join(A.wrapSpacer)+A.lineBreaker,ce=[],pe=0),ce.push(ne.text),pe+=ie;pe&&(X.value+=ce.join(A.wrapSpacer)),X.wrapped=!0}),G.selectAll("tspan.line").remove(),v(G.select("."+A.cn.cellText),Q,V,$),k.select(te.parentNode.parentNode).call(D)}}function z(V,te,Q,$,G){return function(){if(!G.settledY){var X=k.select(te.parentNode),J=j(G),ne=G.key-J.firstRowIndex,ie=J.rows[ne].rowHeight,ae=G.cellHeightMayIncrease?te.parentNode.getBoundingClientRect().height+2*A.cellPad:ie,le=Math.max(ae,ie);le-J.rows[ne].rowHeight&&(J.rows[ne].rowHeight=le,V.selectAll("."+A.cn.columnCell).call(D),E(null,V.filter(f),0),g(Q,$,!0)),X.attr("transform",function(){var ce=this,pe=ce.parentNode.getBoundingClientRect(),ge=k.select(ce.parentNode).select("."+A.cn.cellRect).node().getBoundingClientRect(),me=ce.transform.baseVal.consolidate(),ve=ge.top-pe.top+(me?me.matrix.f:A.cellPad);return i(U(G,k.select(ce.parentNode).select("."+A.cn.cellTextHolder).node().getBoundingClientRect().width),ve)}),G.settledY=!0}}}function U(V,te){switch(V.align){case"left":default:return A.cellPad;case"right":return V.column.columnWidth-(te||0)-A.cellPad;case"center":return(V.column.columnWidth-(te||0))/2}}function D(V){V.attr("transform",function(te){var Q=te.rowBlocks[0].auxiliaryBlocks.reduce(function(G,X){return G+Z(X,1/0)},0),$=Z(j(te),te.key);return i(0,$+Q)}).selectAll("."+A.cn.cellRect).attr("height",function(te){return(Q=j(te),$=te.key,Q.rows[$-Q.firstRowIndex]).rowHeight;var Q,$})}function B(V,te){for(var Q=0,$=te-1;$>=0;$--)Q+=F(V[$]);return Q}function Z(V,te){for(var Q=0,$=0;$<V.rows.length&&V.rows[$].rowIndex<te;$++)Q+=V.rows[$].rowHeight;return Q}function F(V){var te=V.allRowsHeight;if(te!==void 0)return te;for(var Q=0,$=0;$<V.rows.length;$++)Q+=V.rows[$].rowHeight;return V.allRowsHeight=Q,Q}function j(V){return V.rowBlocks[V.page]}Y.exports=function(V,te){var Q=!V._context.staticPlot,$=V._fullLayout._paper.selectAll("."+A.cn.table).data(te.map(function(Me){var _e=b.unwrap(Me).trace;return r(V,_e)}),b.keyFun);$.exit().remove(),$.enter().append("g").classed(A.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),$.attr("width",function(Me){return Me.width+Me.size.l+Me.size.r}).attr("height",function(Me){return Me.height+Me.size.t+Me.size.b}).attr("transform",function(Me){return i(Me.translateX,Me.translateY)});var G=$.selectAll("."+A.cn.tableControlView).data(b.repeat,b.keyFun),X=G.enter().append("g").classed(A.cn.tableControlView,!0).style("box-sizing","content-box");if(Q){var J="onwheel"in document?"wheel":"mousewheel";X.on("mousemove",function(Me){G.filter(function(_e){return Me===_e}).call(g,V)}).on(J,function(Me){if(!Me.scrollbarState.wheeling){Me.scrollbarState.wheeling=!0;var _e=Me.scrollY+k.event.deltaY;C(V,G,null,_e)(Me)||(k.event.stopPropagation(),k.event.preventDefault()),Me.scrollbarState.wheeling=!1}}).call(g,V,!0)}G.attr("transform",function(Me){return i(Me.size.l,Me.size.t)});var ne=G.selectAll("."+A.cn.scrollBackground).data(b.repeat,b.keyFun);ne.enter().append("rect").classed(A.cn.scrollBackground,!0).attr("fill","none"),ne.attr("width",function(Me){return Me.width}).attr("height",function(Me){return Me.height}),G.each(function(Me){h.setClipUrl(k.select(this),d(V,Me),V)});var ie=G.selectAll("."+A.cn.yColumn).data(function(Me){return Me.columns},b.keyFun);ie.enter().append("g").classed(A.cn.yColumn,!0),ie.exit().remove(),ie.attr("transform",function(Me){return i(Me.x,0)}),Q&&ie.call(k.behavior.drag().origin(function(Me){return _(k.select(this),Me,-A.uplift),t(this),Me.calcdata.columnDragInProgress=!0,g(G.filter(function(_e){return Me.calcdata.key===_e.key}),V),Me}).on("drag",function(Me){var _e=k.select(this),we=function(oe){return(Me===oe?k.event.x:oe.x)+oe.columnWidth/2};Me.x=Math.max(-A.overdrag,Math.min(Me.calcdata.width+A.overdrag-Me.columnWidth,k.event.x)),x(ie).filter(function(oe){return oe.calcdata.key===Me.calcdata.key}).sort(function(oe,se){return we(oe)-we(se)}).forEach(function(oe,se){oe.xIndex=se,oe.x=Me===oe?oe.x:oe.xScale(oe)}),ie.filter(function(oe){return Me!==oe}).transition().ease(A.transitionEase).duration(A.transitionDuration).attr("transform",function(oe){return i(oe.x,0)}),_e.call(n).attr("transform",i(Me.x,-A.uplift))}).on("dragend",function(Me){var _e=k.select(this),we=Me.calcdata;Me.x=Me.xScale(Me),Me.calcdata.columnDragInProgress=!1,_(_e,Me,0),function(oe,se,de){var Ee=se.gdColumnsOriginalOrder;se.gdColumns.sort(function(Te,Se){return de[Ee.indexOf(Te)]-de[Ee.indexOf(Se)]}),se.columnorder=de,oe.emit("plotly_restyle")}(V,we,we.columns.map(function(oe){return oe.xIndex}))})),ie.each(function(Me){h.setClipUrl(k.select(this),c(V,Me),V)});var ae=ie.selectAll("."+A.cn.columnBlock).data(s.splitToPanels,b.keyFun);ae.enter().append("g").classed(A.cn.columnBlock,!0).attr("id",function(Me){return Me.key}),ae.style("cursor",function(Me){return Me.dragHandle?"ew-resize":Me.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var le=ae.filter(S),ce=ae.filter(f);Q&&ce.call(k.behavior.drag().origin(function(Me){return k.event.stopPropagation(),Me}).on("drag",C(V,G,-1)).on("dragend",function(){})),p(V,G,le,ae),p(V,G,ce,ae);var pe=G.selectAll("."+A.cn.scrollAreaClip).data(b.repeat,b.keyFun);pe.enter().append("clipPath").classed(A.cn.scrollAreaClip,!0).attr("id",function(Me){return d(V,Me)});var ge=pe.selectAll("."+A.cn.scrollAreaClipRect).data(b.repeat,b.keyFun);ge.enter().append("rect").classed(A.cn.scrollAreaClipRect,!0).attr("x",-A.overdrag).attr("y",-A.uplift).attr("fill","none"),ge.attr("width",function(Me){return Me.width+2*A.overdrag}).attr("height",function(Me){return Me.height+A.uplift}),ie.selectAll("."+A.cn.columnBoundary).data(b.repeat,b.keyFun).enter().append("g").classed(A.cn.columnBoundary,!0);var me=ie.selectAll("."+A.cn.columnBoundaryClippath).data(b.repeat,b.keyFun);me.enter().append("clipPath").classed(A.cn.columnBoundaryClippath,!0),me.attr("id",function(Me){return c(V,Me)});var ve=me.selectAll("."+A.cn.columnBoundaryRect).data(b.repeat,b.keyFun);ve.enter().append("rect").classed(A.cn.columnBoundaryRect,!0).attr("fill","none"),ve.attr("width",function(Me){return Me.columnWidth+2*u(Me)}).attr("height",function(Me){return Me.calcdata.height+2*u(Me)+A.uplift}).attr("x",function(Me){return-u(Me)}).attr("y",function(Me){return-u(Me)}),E(null,ce,G)}},40516:function(Y,P,e){var A=e(21776).Ks,k=e(21776).Gw,a=e(49084),w=e(86968).u,b=e(74996),h=e(424),o=e(32984),t=e(92880).extendFlat,i=e(98192).c;Y.exports={labels:h.labels,parents:h.parents,values:h.values,branchvalues:h.branchvalues,count:h.count,level:h.level,maxdepth:h.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:h.marker.colors,pattern:i,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:h.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},b.textfont,{}),editType:"calc"},text:b.text,textinfo:h.textinfo,texttemplate:k({editType:"plot"},{keys:o.eventDataKeys.concat(["label","value"])}),hovertext:b.hovertext,hoverinfo:h.hoverinfo,hovertemplate:A({},{keys:o.eventDataKeys}),textfont:b.textfont,insidetextfont:b.insidetextfont,outsidetextfont:t({},b.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:b.sort,root:h.root,domain:w({name:"treemap",trace:!0,editType:"calc"})}},79516:function(Y,P,e){var A=e(7316);P.name="treemap",P.plot=function(k,a,w,b){A.plotBasePlot(P.name,k,a,w,b)},P.clean=function(k,a,w,b){A.cleanBasePlot(P.name,k,a,w,b)}},97840:function(Y,P,e){var A=e(3776);P.r=function(k,a){return A.calc(k,a)},P.q=function(k){return A._runCrossTraceCalc("treemap",k)}},32984:function(Y){Y.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},34092:function(Y,P,e){var A=e(3400),k=e(40516),a=e(76308),w=e(86968).Q,b=e(31508).handleText,h=e(78048).TEXTPAD,o=e(74174).handleMarkerDefaults,t=e(8932),i=t.hasColorscale,n=t.handleDefaults;Y.exports=function(r,s,l,u){function d(_,f){return A.coerce(r,s,k,_,f)}var c=d("labels"),x=d("parents");if(c&&c.length&&x&&x.length){var g=d("values");g&&g.length?d("branchvalues"):d("count"),d("level"),d("maxdepth"),d("tiling.packing")==="squarify"&&d("tiling.squarifyratio"),d("tiling.flip"),d("tiling.pad");var p=d("text");d("texttemplate"),s.texttemplate||d("textinfo",A.isArrayOrTypedArray(p)?"text+label":"label"),d("hovertext"),d("hovertemplate");var v=d("pathbar.visible");b(r,s,u,d,"auto",{hasPathbar:v,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),d("textposition");var y=s.textposition.indexOf("bottom")!==-1;o(r,s,u,d),(s._hasColorscale=i(r,"marker","colors")||(r.marker||{}).coloraxis)?n(r,s,u,d,{prefix:"marker.",cLetter:"c"}):d("marker.depthfade",!(s.marker.colors||[]).length);var m=2*s.textfont.size;d("marker.pad.t",y?m/4:m),d("marker.pad.l",m/4),d("marker.pad.r",m/4),d("marker.pad.b",y?m:m/4),d("marker.cornerradius"),s._hovered={marker:{line:{width:2,color:a.contrast(u.paper_bgcolor)}}},v&&(d("pathbar.thickness",s.pathbar.textfont.size+2*h),d("pathbar.side"),d("pathbar.edgeshape")),d("sort"),d("root.color"),w(s,u,d),s._length=null}else s.visible=!1}},95808:function(Y,P,e){var A=e(33428),k=e(78176),a=e(82744).clearMinTextSize,w=e(60100).resizeText,b=e(52960);Y.exports=function(h,o,t,i,n){var r,s,l=n.type,u=n.drawDescendants,d=h._fullLayout,c=d["_"+l+"layer"],x=!t;a(l,d),(r=c.selectAll("g.trace."+l).data(o,function(g){return g[0].trace.uid})).enter().append("g").classed("trace",!0).classed(l,!0),r.order(),!d.uniformtext.mode&&k.hasTransition(t)?(i&&(s=i()),A.transition().duration(t.duration).ease(t.easing).each("end",function(){s&&s()}).each("interrupt",function(){s&&s()}).each(function(){c.selectAll("g.trace").each(function(g){b(h,g,this,t,u)})})):(r.each(function(g){b(h,g,this,t,u)}),d.uniformtext.mode&&w(h,c.selectAll(".trace"),l)),x&&r.exit().remove()}},27336:function(Y,P,e){var A=e(33428),k=e(3400),a=e(43616),w=e(72736),b=e(13832),h=e(66192).styleOne,o=e(32984),t=e(78176),i=e(45716),n=!0;Y.exports=function(r,s,l,u,d){var c=d.barDifY,x=d.width,g=d.height,p=d.viewX,v=d.viewY,y=d.pathSlice,m=d.toMoveInsideSlice,_=d.strTransform,f=d.hasTransition,S=d.handleSlicesExit,T=d.makeUpdateSliceInterpolator,E=d.makeUpdateTextInterpolator,C={},O=r._context.staticPlot,I=r._fullLayout,z=s[0],U=z.trace,D=z.hierarchy,B=x/U._entryDepth,Z=t.listPath(l.data,"id"),F=b(D.copy(),[x,g],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(F=F.filter(function(V){var te=Z.indexOf(V.data.id);return te!==-1&&(V.x0=B*te,V.x1=B*(te+1),V.y0=c,V.y1=c+g,V.onPathbar=!0,!0)})).reverse(),(u=u.data(F,t.getPtId)).enter().append("g").classed("pathbar",!0),S(u,n,C,[x,g],y),u.order();var j=u;f&&(j=j.transition().each("end",function(){var V=A.select(this);t.setSliceCursor(V,r,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),j.each(function(V){V._x0=p(V.x0),V._x1=p(V.x1),V._y0=v(V.y0),V._y1=v(V.y1),V._hoverX=p(V.x1-Math.min(x,g)/2),V._hoverY=v(V.y1-g/2);var te=A.select(this),Q=k.ensureSingle(te,"path","surface",function(J){J.style("pointer-events",O?"none":"all")});f?Q.transition().attrTween("d",function(J){var ne=T(J,n,C,[x,g]);return function(ie){return y(ne(ie))}}):Q.attr("d",y),te.call(i,l,r,s,{styleOne:h,eventDataKeys:o.eventDataKeys,transitionTime:o.CLICK_TRANSITION_TIME,transitionEasing:o.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,r,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:r._transitioning}),Q.call(h,V,U,r,{hovered:!1}),V._text=(t.getPtLabel(V)||"").split("<br>").join(" ")||"";var $=k.ensureSingle(te,"g","slicetext"),G=k.ensureSingle($,"text","",function(J){J.attr("data-notex",1)}),X=k.ensureUniformFontSize(r,t.determineTextFont(U,V,I.font,{onPathbar:!0}));G.text(V._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(a.font,X).call(w.convertToTspans,r),V.textBB=a.bBox(G.node()),V.transform=m(V,{fontSize:X.size,onPathbar:!0}),V.transform.fontSize=X.size,f?G.transition().attrTween("transform",function(J){var ne=E(J,n,C,[x,g]);return function(ie){return _(ne(ie))}}):G.attr("transform",_(V))})}},76477:function(Y,P,e){var A=e(33428),k=e(3400),a=e(43616),w=e(72736),b=e(13832),h=e(66192).styleOne,o=e(32984),t=e(78176),i=e(45716),n=e(96488).formatSliceLabel,r=!1;Y.exports=function(s,l,u,d,c){var x=c.width,g=c.height,p=c.viewX,v=c.viewY,y=c.pathSlice,m=c.toMoveInsideSlice,_=c.strTransform,f=c.hasTransition,S=c.handleSlicesExit,T=c.makeUpdateSliceInterpolator,E=c.makeUpdateTextInterpolator,C=c.prevEntry,O=s._context.staticPlot,I=s._fullLayout,z=l[0].trace,U=z.textposition.indexOf("left")!==-1,D=z.textposition.indexOf("right")!==-1,B=z.textposition.indexOf("bottom")!==-1,Z=!B&&!z.marker.pad.t||B&&!z.marker.pad.b,F=b(u,[x,g],{packing:z.tiling.packing,squarifyratio:z.tiling.squarifyratio,flipX:z.tiling.flip.indexOf("x")>-1,flipY:z.tiling.flip.indexOf("y")>-1,pad:{inner:z.tiling.pad,top:z.marker.pad.t,left:z.marker.pad.l,right:z.marker.pad.r,bottom:z.marker.pad.b}}).descendants(),j=1/0,V=-1/0;F.forEach(function(X){var J=X.depth;J>=z._maxDepth?(X.x0=X.x1=(X.x0+X.x1)/2,X.y0=X.y1=(X.y0+X.y1)/2):(j=Math.min(j,J),V=Math.max(V,J))}),d=d.data(F,t.getPtId),z._maxVisibleLayers=isFinite(V)?V-j+1:0,d.enter().append("g").classed("slice",!0),S(d,r,{},[x,g],y),d.order();var te=null;if(f&&C){var Q=t.getPtId(C);d.each(function(X){te===null&&t.getPtId(X)===Q&&(te={x0:X.x0,x1:X.x1,y0:X.y0,y1:X.y1})})}var $=function(){return te||{x0:0,x1:x,y0:0,y1:g}},G=d;return f&&(G=G.transition().each("end",function(){var X=A.select(this);t.setSliceCursor(X,s,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),G.each(function(X){var J=t.isHeader(X,z);X._x0=p(X.x0),X._x1=p(X.x1),X._y0=v(X.y0),X._y1=v(X.y1),X._hoverX=p(X.x1-z.marker.pad.r),X._hoverY=v(B?X.y1-z.marker.pad.b/2:X.y0+z.marker.pad.t/2);var ne=A.select(this),ie=k.ensureSingle(ne,"path","surface",function(pe){pe.style("pointer-events",O?"none":"all")});f?ie.transition().attrTween("d",function(pe){var ge=T(pe,r,$(),[x,g]);return function(me){return y(ge(me))}}):ie.attr("d",y),ne.call(i,u,s,l,{styleOne:h,eventDataKeys:o.eventDataKeys,transitionTime:o.CLICK_TRANSITION_TIME,transitionEasing:o.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,s,{isTransitioning:s._transitioning}),ie.call(h,X,z,s,{hovered:!1}),X.x0===X.x1||X.y0===X.y1?X._text="":X._text=J?Z?"":t.getPtLabel(X)||"":n(X,u,z,l,I)||"";var ae=k.ensureSingle(ne,"g","slicetext"),le=k.ensureSingle(ae,"text","",function(pe){pe.attr("data-notex",1)}),ce=k.ensureUniformFontSize(s,t.determineTextFont(z,X,I.font));le.text(X._text||" ").classed("slicetext",!0).attr("text-anchor",D?"end":U||J?"start":"middle").call(a.font,ce).call(w.convertToTspans,s),X.textBB=a.bBox(le.node()),X.transform=m(X,{fontSize:ce.size,isHeader:J}),X.transform.fontSize=ce.size,f?le.transition().attrTween("transform",function(pe){var ge=E(pe,r,$(),[x,g]);return function(me){return _(ge(me))}}):le.attr("transform",_(X))}),te}},83024:function(Y){Y.exports=function P(e,A,k){var a;k.swapXY&&(a=e.x0,e.x0=e.y0,e.y0=a,a=e.x1,e.x1=e.y1,e.y1=a),k.flipX&&(a=e.x0,e.x0=A[0]-e.x1,e.x1=A[0]-a),k.flipY&&(a=e.y0,e.y0=A[1]-e.y1,e.y1=A[1]-a);var w=e.children;if(w)for(var b=0;b<w.length;b++)P(w[b],A,k)}},31991:function(Y,P,e){Y.exports={moduleType:"trace",name:"treemap",basePlotModule:e(79516),categories:[],animatable:!0,attributes:e(40516),layoutAttributes:e(45392),supplyDefaults:e(34092),supplyLayoutDefaults:e(77480),calc:e(97840).r,crossTraceCalc:e(97840).q,plot:e(53264),style:e(66192).style,colorbar:e(5528),meta:{}}},45392:function(Y){Y.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77480:function(Y,P,e){var A=e(3400),k=e(45392);Y.exports=function(a,w){function b(h,o){return A.coerce(a,w,k,h,o)}b("treemapcolorway",w.colorway),b("extendtreemapcolors")}},13832:function(Y,P,e){var A=e(74148),k=e(83024);Y.exports=function(a,w,b){var h,o=b.flipX,t=b.flipY,i=b.packing==="dice-slice",n=b.pad[t?"bottom":"top"],r=b.pad[o?"right":"left"],s=b.pad[o?"left":"right"],l=b.pad[t?"top":"bottom"];i&&(h=r,r=n,n=h,h=s,s=l,l=h);var u=A.treemap().tile(function(d,c){switch(d){case"squarify":return A.treemapSquarify.ratio(c);case"binary":return A.treemapBinary;case"dice":return A.treemapDice;case"slice":return A.treemapSlice;default:return A.treemapSliceDice}}(b.packing,b.squarifyratio)).paddingInner(b.pad.inner).paddingLeft(r).paddingRight(s).paddingTop(n).paddingBottom(l).size(i?[w[1],w[0]]:w)(a);return(i||o||t)&&k(u,w,{swapXY:i,flipX:o,flipY:t}),u}},53264:function(Y,P,e){var A=e(95808),k=e(76477);Y.exports=function(a,w,b,h){return A(a,w,b,h,{type:"treemap",drawDescendants:k})}},52960:function(Y,P,e){var A=e(33428),k=e(67756).qy,a=e(78176),w=e(3400),b=e(78048).TEXTPAD,h=e(98184).toMoveInsideBar,o=e(82744).recordMinTextSize,t=e(32984),i=e(27336);function n(r){return a.isHierarchyRoot(r)?"":a.getPtId(r)}Y.exports=function(r,s,l,u,d){var c=r._fullLayout,x=s[0],g=x.trace,p=g.type==="icicle",v=x.hierarchy,y=a.findEntryWithLevel(v,g.level),m=A.select(l),_=m.selectAll("g.pathbar"),f=m.selectAll("g.slice");if(!y)return _.remove(),void f.remove();var S=a.isHierarchyRoot(y),T=!c.uniformtext.mode&&a.hasTransition(u),E=a.getMaxDepth(g),C=c._size,O=g.domain,I=C.w*(O.x[1]-O.x[0]),z=C.h*(O.y[1]-O.y[0]),U=I,D=g.pathbar.thickness,B=g.marker.line.width+t.gapWithPathbar,Z=g.pathbar.visible?g.pathbar.side.indexOf("bottom")>-1?z+B:-(D+B):0,F={x0:U,x1:U,y0:Z,y1:Z+D},j=function(ke,Re,ze){var Ie=g.tiling.pad,He=function(it){return it-Ie<=Re.x0},qe=function(it){return it+Ie>=Re.x1},Je=function(it){return it-Ie<=Re.y0},st=function(it){return it+Ie>=Re.y1};return ke.x0===Re.x0&&ke.x1===Re.x1&&ke.y0===Re.y0&&ke.y1===Re.y1?{x0:ke.x0,x1:ke.x1,y0:ke.y0,y1:ke.y1}:{x0:He(ke.x0-Ie)?0:qe(ke.x0-Ie)?ze[0]:ke.x0,x1:He(ke.x1+Ie)?0:qe(ke.x1+Ie)?ze[0]:ke.x1,y0:Je(ke.y0-Ie)?0:st(ke.y0-Ie)?ze[1]:ke.y0,y1:Je(ke.y1+Ie)?0:st(ke.y1+Ie)?ze[1]:ke.y1}},V=null,te={},Q={},$=null,G=function(ke,Re){return Re?te[n(ke)]:Q[n(ke)]};x.hasMultipleRoots&&S&&E++,g._maxDepth=E,g._backgroundColor=c.paper_bgcolor,g._entryDepth=y.data.depth,g._atRootLevel=S;var X=-I/2+C.l+C.w*(O.x[1]+O.x[0])/2,J=-z/2+C.t+C.h*(1-(O.y[1]+O.y[0])/2),ne=function(ke){return X+ke},ie=function(ke){return J+ke},ae=ie(0),le=ne(0),ce=function(ke){return le+ke},pe=function(ke){return ae+ke};function ge(ke,Re){return ke+","+Re}var me=ce(0),ve=function(ke){ke.x=Math.max(me,ke.x)},Me=g.pathbar.edgeshape,_e=g[p?"tiling":"marker"].pad,we=function(ke){return g.textposition.indexOf(ke)!==-1},oe=we("top"),se=we("left"),de=we("right"),Ee=we("bottom"),Te=function(ke,Re){var ze=ke.x0,Ie=ke.x1,He=ke.y0,qe=ke.y1,Je=ke.textBB,st=oe||Re.isHeader&&!Ee?"start":Ee?"end":"middle",it=we("right"),vt=we("left")||Re.onPathbar?-1:it?1:0;if(Re.isHeader){if((ze+=(p?_e:_e.l)-b)>=(Ie-=(p?_e:_e.r)-b)){var _t=(ze+Ie)/2;ze=_t,Ie=_t}var xt;Ee?He<(xt=qe-(p?_e:_e.b))&&xt<qe&&(He=xt):He<(xt=He+(p?_e:_e.t))&&xt<qe&&(qe=xt)}var et=h(ze,Ie,He,qe,Je,{isHorizontal:!1,constrained:!0,angle:0,anchor:st,leftToRight:vt});return et.fontSize=Re.fontSize,et.targetX=ne(et.targetX),et.targetY=ie(et.targetY),isNaN(et.targetX)||isNaN(et.targetY)?{}:(ze!==Ie&&He!==qe&&o(g.type,et,c),{scale:et.scale,rotate:et.rotate,textX:et.textX,textY:et.textY,anchorX:et.anchorX,anchorY:et.anchorY,targetX:et.targetX,targetY:et.targetY})},Se=function(ke,Re){for(var ze,Ie=0,He=ke;!ze&&Ie<E;)Ie++,(He=He.parent)?ze=G(He,Re):Ie=E;return ze||{}},Le=function(ke,Re,ze,Ie,He){var qe,Je=G(ke,Re);if(Je)qe=Je;else if(Re)qe=F;else if(V)if(ke.parent){var st=$||ze;st&&!Re?qe=j(ke,st,Ie):(qe={},w.extendFlat(qe,Se(ke,Re)))}else qe=w.extendFlat({},ke),p&&(He.orientation==="h"?He.flipX?qe.x0=ke.x1:qe.x1=0:He.flipY?qe.y0=ke.y1:qe.y1=0);else qe={};return k(qe,{x0:ke.x0,x1:ke.x1,y0:ke.y0,y1:ke.y1})},Oe=function(ke,Re,ze,Ie){var He=G(ke,Re),qe={},Je=function(it,vt,_t,xt){if(vt)return te[n(v)]||F;var et=Q[g.level]||_t;return function(nt){return nt.data.depth-y.data.depth<E}(it)?j(it,et,xt):{}}(ke,Re,ze,Ie);w.extendFlat(qe,{transform:Te({x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1,textBB:ke.textBB,_text:ke._text},{isHeader:a.isHeader(ke,g)})}),He?qe=He:ke.parent&&w.extendFlat(qe,Se(ke,Re));var st=ke.transform;return ke.x0!==ke.x1&&ke.y0!==ke.y1&&o(g.type,st,c),k(qe,{transform:{scale:st.scale,rotate:st.rotate,textX:st.textX,textY:st.textY,anchorX:st.anchorX,anchorY:st.anchorY,targetX:st.targetX,targetY:st.targetY}})},he=function(ke,Re,ze,Ie,He){var qe=Ie[0],Je=Ie[1];T?ke.exit().transition().each(function(){var st=A.select(this);st.select("path.surface").transition().attrTween("d",function(it){var vt=function(_t,xt,et,nt){var Mt,zt=G(_t,xt);if(xt)Mt=F;else{var Ft=G(y,xt);Mt=Ft?j(_t,Ft,nt):{}}return k(zt,Mt)}(it,Re,0,[qe,Je]);return function(_t){return He(vt(_t))}}),st.select("g.slicetext").attr("opacity",0)}).remove():ke.exit().remove()},xe=function(ke){var Re=ke.transform;return ke.x0!==ke.x1&&ke.y0!==ke.y1&&o(g.type,Re,c),w.getTextTransform({textX:Re.textX,textY:Re.textY,anchorX:Re.anchorX,anchorY:Re.anchorY,targetX:Re.targetX,targetY:Re.targetY,scale:Re.scale,rotate:Re.rotate})};T&&(_.each(function(ke){te[n(ke)]={x0:ke.x0,x1:ke.x1,y0:ke.y0,y1:ke.y1},ke.transform&&(te[n(ke)].transform={textX:ke.transform.textX,textY:ke.transform.textY,anchorX:ke.transform.anchorX,anchorY:ke.transform.anchorY,targetX:ke.transform.targetX,targetY:ke.transform.targetY,scale:ke.transform.scale,rotate:ke.transform.rotate})}),f.each(function(ke){Q[n(ke)]={x0:ke.x0,x1:ke.x1,y0:ke.y0,y1:ke.y1},ke.transform&&(Q[n(ke)].transform={textX:ke.transform.textX,textY:ke.transform.textY,anchorX:ke.transform.anchorX,anchorY:ke.transform.anchorY,targetX:ke.transform.targetX,targetY:ke.transform.targetY,scale:ke.transform.scale,rotate:ke.transform.rotate}),!V&&a.isEntry(ke)&&(V=ke)})),$=d(r,s,y,f,{width:I,height:z,viewX:ne,viewY:ie,pathSlice:function(ke){var Re=ne(ke.x0),ze=ne(ke.x1),Ie=ie(ke.y0),He=ie(ke.y1),qe=ze-Re,Je=He-Ie;if(!qe||!Je)return"";var st=g.marker.cornerradius||0,it=Math.min(st,qe/2,Je/2);it&&ke.data&&ke.data.data&&ke.data.data.label&&(oe&&(it=Math.min(it,_e.t)),se&&(it=Math.min(it,_e.l)),de&&(it=Math.min(it,_e.r)),Ee&&(it=Math.min(it,_e.b)));var vt=function(_t,xt){return it?"a"+ge(it,it)+" 0 0 1 "+ge(_t,xt):""};return"M"+ge(Re,Ie+it)+vt(it,-it)+"L"+ge(ze-it,Ie)+vt(it,it)+"L"+ge(ze,He-it)+vt(-it,it)+"L"+ge(Re+it,He)+vt(-it,-it)+"Z"},toMoveInsideSlice:Te,prevEntry:V,makeUpdateSliceInterpolator:Le,makeUpdateTextInterpolator:Oe,handleSlicesExit:he,hasTransition:T,strTransform:xe}),g.pathbar.visible?i(r,s,y,_,{barDifY:Z,width:U,height:D,viewX:ce,viewY:pe,pathSlice:function(ke){var Re=ce(Math.max(Math.min(ke.x0,ke.x0),0)),ze=ce(Math.min(Math.max(ke.x1,ke.x1),U)),Ie=pe(ke.y0),He=pe(ke.y1),qe=D/2,Je={},st={};Je.x=Re,st.x=ze,Je.y=st.y=(Ie+He)/2;var it={x:Re,y:Ie},vt={x:ze,y:Ie},_t={x:ze,y:He},xt={x:Re,y:He};return Me===">"?(it.x-=qe,vt.x-=qe,_t.x-=qe,xt.x-=qe):Me==="/"?(_t.x-=qe,xt.x-=qe,Je.x-=qe/2,st.x-=qe/2):Me==="\\"?(it.x-=qe,vt.x-=qe,Je.x-=qe/2,st.x-=qe/2):Me==="<"&&(Je.x-=qe,st.x-=qe),ve(it),ve(xt),ve(Je),ve(vt),ve(_t),ve(st),"M"+ge(it.x,it.y)+"L"+ge(vt.x,vt.y)+"L"+ge(st.x,st.y)+"L"+ge(_t.x,_t.y)+"L"+ge(xt.x,xt.y)+"L"+ge(Je.x,Je.y)+"Z"},toMoveInsideSlice:Te,makeUpdateSliceInterpolator:Le,makeUpdateTextInterpolator:Oe,handleSlicesExit:he,hasTransition:T,strTransform:xe}):_.remove()}},66192:function(Y,P,e){var A=e(33428),k=e(76308),a=e(3400),w=e(78176),b=e(82744).resizeText,h=e(60404);function o(t,i,n,r,s){var l,u,d=(s||{}).hovered,c=i.data.data,x=c.i,g=c.color,p=w.isHierarchyRoot(i),v=1;if(d)l=n._hovered.marker.line.color,u=n._hovered.marker.line.width;else if(p&&g===n.root.color)v=100,l="rgba(0,0,0,0)",u=0;else if(l=a.castOption(n,x,"marker.line.color")||k.defaultLine,u=a.castOption(n,x,"marker.line.width")||0,!n._hasColorscale&&!i.onPathbar){var y=n.marker.depthfade;if(y){var m,_=k.combine(k.addOpacity(n._backgroundColor,.75),g);if(y===!0){var f=w.getMaxDepth(n);m=isFinite(f)?w.isLeaf(i)?0:n._maxVisibleLayers-(i.data.depth-n._entryDepth):i.data.height+1}else m=i.data.depth-n._entryDepth,n._atRootLevel||m++;if(m>0)for(var S=0;S<m;S++){var T=.5*S/m;g=k.combine(k.addOpacity(_,T),g)}}}t.call(h,i,n,r,g).style("stroke-width",u).call(k.stroke,l).style("opacity",v)}Y.exports={style:function(t){var i=t._fullLayout._treemaplayer.selectAll(".trace");b(t,i,"treemap"),i.each(function(n){var r=A.select(this),s=n[0].trace;r.style("opacity",s.opacity),r.selectAll("path.surface").each(function(l){A.select(this).call(o,l,s,t,{hovered:!1})})})},styleOne:o}},13988:function(Y,P,e){var A=e(63188),k=e(92880).extendFlat,a=e(29736).axisHoverFormat;Y.exports={y:A.y,x:A.x,x0:A.x0,y0:A.y0,xhoverformat:a("x"),yhoverformat:a("y"),name:k({},A.name,{}),orientation:k({},A.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:A.fillcolor,points:k({},A.boxpoints,{}),jitter:k({},A.jitter,{}),pointpos:k({},A.pointpos,{}),width:k({},A.width,{}),marker:A.marker,text:A.text,hovertext:A.hovertext,hovertemplate:A.hovertemplate,quartilemethod:A.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:A.offsetgroup,alignmentgroup:A.alignmentgroup,selected:A.selected,unselected:A.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},67064:function(Y,P,e){var A=e(3400),k=e(54460),a=e(62555),w=e(63800),b=e(39032).BADNUM;function h(t,i,n){var r=i.max-i.min;if(!r)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,r/1e4);var s=n.length,l=A.stdev(n,s-1,i.mean);return Math.max(function(u,d,c){return 1.059*Math.min(d,c/1.349)*Math.pow(u,-.2)}(s,l,i.q3-i.q1),r/100)}function o(t,i,n,r){var s,l=t.spanmode,u=t.span||[],d=[i.min,i.max],c=[i.min-2*r,i.max+2*r];function x(p){var v=u[p],y=n.type==="multicategory"?n.r2c(v):n.d2c(v,0,t[i.valLetter+"calendar"]);return y===b?c[p]:y}var g={type:"linear",range:s=l==="soft"?c:l==="hard"?d:[x(0),x(1)]};return k.setConvert(g),g.cleanRange(),s}Y.exports=function(t,i){var n=a(t,i);if(n[0].t.empty)return n;for(var r=t._fullLayout,s=k.getFromId(t,i[i.orientation==="h"?"xaxis":"yaxis"]),l=1/0,u=-1/0,d=0,c=0,x=0;x<n.length;x++){var g=n[x],p=g.pts.map(w.extractVal),v=g.bandwidth=h(i,g,p),y=g.span=o(i,g,s,v);if(g.min===g.max&&v===0)y=g.span=[g.min,g.max],g.density=[{v:1,t:y[0]}],g.bandwidth=v,d=Math.max(d,1);else{var m=y[1]-y[0],_=Math.ceil(m/(v/3)),f=m/_;if(!isFinite(f)||!isFinite(_))return A.error("Something went wrong with computing the violin span"),n[0].t.empty=!0,n;var S=w.makeKDE(g,i,p);g.density=new Array(_);for(var T=0,E=y[0];E<y[1]+f/2;T++,E+=f){var C=S(E);g.density[T]={v:C,t:E},d=Math.max(d,C)}}c=Math.max(c,p.length),l=Math.min(l,y[0]),u=Math.max(u,y[1])}var O=k.findExtremes(s,[l,u],{padded:!0});if(i._extremes[s._id]=O,i.width)n[0].t.maxKDE=d;else{var I=r._violinScaleGroupStats,z=i.scalegroup,U=I[z];U?(U.maxKDE=Math.max(U.maxKDE,d),U.maxCount=Math.max(U.maxCount,c)):I[z]={maxKDE:d,maxCount:c}}return n[0].t.labels.kde=A._(t,"kde:"),n}},14348:function(Y,P,e){var A=e(96404).setPositionOffset,k=["v","h"];Y.exports=function(a,w){for(var b=a.calcdata,h=w.xaxis,o=w.yaxis,t=0;t<k.length;t++){for(var i=k[t],n=i==="h"?o:h,r=[],s=0;s<b.length;s++){var l=b[s],u=l[0].t,d=l[0].trace;d.visible!==!0||d.type!=="violin"||u.empty||d.orientation!==i||d.xaxis!==h._id||d.yaxis!==o._id||r.push(s)}A("violin",a,r,n)}}},36240:function(Y,P,e){var A=e(3400),k=e(76308),a=e(90624),w=e(13988);Y.exports=function(b,h,o,t){function i(m,_){return A.coerce(b,h,w,m,_)}function n(m,_){return A.coerce2(b,h,w,m,_)}if(a.handleSampleDefaults(b,h,i,t),h.visible!==!1){i("bandwidth"),i("side"),i("width")||(i("scalegroup",h.name),i("scalemode"));var r,s=i("span");Array.isArray(s)&&(r="manual"),i("spanmode",r);var l=i("line.color",(b.marker||{}).color||o),u=i("line.width"),d=i("fillcolor",k.addOpacity(h.line.color,.5));a.handlePointsDefaults(b,h,i,{prefix:""});var c=n("box.width"),x=n("box.fillcolor",d),g=n("box.line.color",l),p=n("box.line.width",u);i("box.visible",Boolean(c||x||g||p))||(h.box={visible:!1});var v=n("meanline.color",l),y=n("meanline.width",u);i("meanline.visible",Boolean(v||y))||(h.meanline={visible:!1}),i("quartilemethod")}}},63800:function(Y,P,e){var A=e(3400),k=function(a){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*a*a)};P.makeKDE=function(a,w,b){var h=b.length,o=k,t=a.bandwidth,i=1/(h*t);return function(n){for(var r=0,s=0;s<h;s++)r+=o((n-b[s])/t);return i*r}},P.getPositionOnKdePath=function(a,w,b){var h,o;w.orientation==="h"?(h="y",o="x"):(h="x",o="y");var t=A.findPointOnPath(a.path,b,o,{pathLength:a.pathLength}),i=a.posCenterPx,n=t[h];return[n,w.side==="both"?2*i-n:i]},P.getKdeValue=function(a,w,b){var h=a.pts.map(P.extractVal);return P.makeKDE(a,w,h)(b)/a.posDensityScale},P.extractVal=function(a){return a.v}},78e3:function(Y,P,e){var A=e(76308),k=e(3400),a=e(54460),w=e(27576),b=e(63800);Y.exports=function(h,o,t,i,n){n||(n={});var r,s,l=n.hoverLayer,u=h.cd,d=u[0].trace,c=d.hoveron,x=c.indexOf("violins")!==-1,g=c.indexOf("kde")!==-1,p=[];if(x||g){var v=w.hoverOnBoxes(h,o,t,i);if(g&&v.length>0){var y,m,_,f,S,T=h.xa,E=h.ya;d.orientation==="h"?(S=o,y="y",_=E,m="x",f=T):(S=t,y="x",_=T,m="y",f=E);var C=u[h.index];if(S>=C.span[0]&&S<=C.span[1]){var O=k.extendFlat({},h),I=f.c2p(S,!0),z=b.getKdeValue(C,d,S),U=b.getPositionOnKdePath(C,d,I),D=_._offset,B=_._length;O[y+"0"]=U[0],O[y+"1"]=U[1],O[m+"0"]=O[m+"1"]=I,O[m+"Label"]=m+": "+a.hoverLabelText(f,S,d[m+"hoverformat"])+", "+u[0].t.labels.kde+" "+z.toFixed(3);for(var Z=0,F=0;F<v.length;F++)if(v[F].attr==="med"){Z=F;break}O.spikeDistance=v[Z].spikeDistance;var j=y+"Spike";O[j]=v[Z][j],v[Z].spikeDistance=void 0,v[Z][j]=void 0,O.hovertemplate=!1,p.push(O),(s={})[y+"1"]=k.constrain(D+U[0],D,D+B),s[y+"2"]=k.constrain(D+U[1],D,D+B),s[m+"1"]=s[m+"2"]=f._offset+I}}x&&(p=p.concat(v))}c.indexOf("points")!==-1&&(r=w.hoverOnPoints(h,o,t));var V=l.selectAll(".violinline-"+d.uid).data(s?[0]:[]);return V.enter().append("line").classed("violinline-"+d.uid,!0).attr("stroke-width",1.5),V.exit().remove(),V.attr(s).call(A.stroke,h.color),i==="closest"?r?[r]:p:(r&&p.push(r),p)}},22869:function(Y,P,e){Y.exports={attributes:e(13988),layoutAttributes:e(98228),supplyDefaults:e(36240),crossTraceDefaults:e(90624).crossTraceDefaults,supplyLayoutDefaults:e(8939),calc:e(67064),crossTraceCalc:e(14348),plot:e(5140),style:e(95908),styleOnSelect:e(49224).styleOnSelect,hoverPoints:e(78e3),selectPoints:e(8264),moduleType:"trace",name:"violin",basePlotModule:e(57952),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},98228:function(Y,P,e){var A=e(16560),k=e(3400).extendFlat;Y.exports={violinmode:k({},A.boxmode,{}),violingap:k({},A.boxgap,{}),violingroupgap:k({},A.boxgroupgap,{})}},8939:function(Y,P,e){var A=e(3400),k=e(98228),a=e(68832);Y.exports=function(w,b,h){a._supply(w,b,h,function(o,t){return A.coerce(w,b,k,o,t)},"violin")}},5140:function(Y,P,e){var A=e(33428),k=e(3400),a=e(43616),w=e(18728),b=e(52340),h=e(63800);Y.exports=function(o,t,i,n){var r=o._context.staticPlot,s=o._fullLayout,l=t.xaxis,u=t.yaxis;function d(c,x){var g=b(c,{xaxis:l,yaxis:u,trace:x,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return a.smoothopen(g[0],1)}k.makeTraceGroups(n,i,"trace violins").each(function(c){var x=A.select(this),g=c[0],p=g.t,v=g.trace;if(v.visible!==!0||p.empty)x.remove();else{var y=p.bPos,m=p.bdPos,_=t[p.valLetter+"axis"],f=t[p.posLetter+"axis"],S=v.side==="both",T=S||v.side==="positive",E=S||v.side==="negative",C=x.selectAll("path.violin").data(k.identity);C.enter().append("path").style("vector-effect",r?"none":"non-scaling-stroke").attr("class","violin"),C.exit().remove(),C.each(function(F){var j,V,te,Q,$,G,X,J,ne=A.select(this),ie=F.density,ae=ie.length,le=f.c2l(F.pos+y,!0),ce=f.l2p(le);if(v.width)j=p.maxKDE/m;else{var pe=s._violinScaleGroupStats[v.scalegroup];j=v.scalemode==="count"?pe.maxKDE/m*(pe.maxCount/F.pts.length):pe.maxKDE/m}if(T){for(X=new Array(ae),$=0;$<ae;$++)(J=X[$]={})[p.posLetter]=le+ie[$].v/j,J[p.valLetter]=_.c2l(ie[$].t,!0);V=d(X,v)}if(E){for(X=new Array(ae),G=0,$=ae-1;G<ae;G++,$--)(J=X[G]={})[p.posLetter]=le-ie[$].v/j,J[p.valLetter]=_.c2l(ie[$].t,!0);te=d(X,v)}if(S)Q=V+"L"+te.substr(1)+"Z";else{var ge=[ce,_.c2p(ie[0].t)],me=[ce,_.c2p(ie[ae-1].t)];v.orientation==="h"&&(ge.reverse(),me.reverse()),Q=T?"M"+ge+"L"+V.substr(1)+"L"+me:"M"+me+"L"+te.substr(1)+"L"+ge}ne.attr("d",Q),F.posCenterPx=ce,F.posDensityScale=j*m,F.path=ne.node(),F.pathLength=F.path.getTotalLength()/(S?2:1)});var O,I,z,U=v.box,D=U.width,B=(U.line||{}).width;S?(O=m*D,I=0):T?(O=[0,m*D/2],I=B*{x:1,y:-1}[p.posLetter]):(O=[m*D/2,0],I=B*{x:-1,y:1}[p.posLetter]),w.plotBoxAndWhiskers(x,{pos:f,val:_},v,{bPos:y,bdPos:O,bPosPxOffset:I}),w.plotBoxMean(x,{pos:f,val:_},v,{bPos:y,bdPos:O,bPosPxOffset:I}),!v.box.visible&&v.meanline.visible&&(z=k.identity);var Z=x.selectAll("path.meanline").data(z||[]);Z.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",r?"none":"non-scaling-stroke"),Z.exit().remove(),Z.each(function(F){var j=_.c2p(F.mean,!0),V=h.getPositionOnKdePath(F,v,j);A.select(this).attr("d",v.orientation==="h"?"M"+j+","+V[0]+"V"+V[1]:"M"+V[0]+","+j+"H"+V[1])}),w.plotPoints(x,{x:l,y:u},v,p)}})}},95908:function(Y,P,e){var A=e(33428),k=e(76308),a=e(49224).stylePoints;Y.exports=function(w){var b=A.select(w).selectAll("g.trace.violins");b.style("opacity",function(h){return h[0].trace.opacity}),b.each(function(h){var o=h[0].trace,t=A.select(this),i=o.box||{},n=i.line||{},r=o.meanline||{},s=r.width;t.selectAll("path.violin").style("stroke-width",o.line.width+"px").call(k.stroke,o.line.color).call(k.fill,o.fillcolor),t.selectAll("path.box").style("stroke-width",n.width+"px").call(k.stroke,n.color).call(k.fill,i.fillcolor);var l={"stroke-width":s+"px","stroke-dasharray":2*s+"px,"+s+"px"};t.selectAll("path.mean").style(l).call(k.stroke,r.color),t.selectAll("path.meanline").style(l).call(k.stroke,r.color),a(t,o,w)})}},58168:function(Y,P,e){var A=e(49084),k=e(50048),a=e(16716),w=e(45464),b=e(92880).extendFlat,h=e(67824).overrideAll,o=Y.exports=h(b({x:k.x,y:k.y,z:k.z,value:k.value,isomin:k.isomin,isomax:k.isomax,surface:k.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:k.slices,caps:k.caps,text:k.text,hovertext:k.hovertext,xhoverformat:k.xhoverformat,yhoverformat:k.yhoverformat,zhoverformat:k.zhoverformat,valuehoverformat:k.valuehoverformat,hovertemplate:k.hovertemplate},A("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:k.colorbar,opacity:k.opacity,opacityscale:a.opacityscale,lightposition:k.lightposition,lighting:k.lighting,flatshading:k.flatshading,contour:k.contour,hoverinfo:b({},w.hoverinfo),showlegend:b({},w.showlegend,{dflt:!1})}),"calc","nested");o.x.editType=o.y.editType=o.z.editType=o.value.editType="calc+clearAxisTypes",o.transforms=void 0},91976:function(Y,P,e){var A=e(67792).gl_mesh3d,k=e(33040).parseColorScale,a=e(3400).isArrayOrTypedArray,w=e(43080),b=e(8932).extractOpts,h=e(52094),o=e(31460).findNearestOnAxis,t=e(31460).generateIsoMeshes;function i(r,s,l){this.scene=r,this.uid=l,this.mesh=s,this.name="",this.data=null,this.showContour=!1}var n=i.prototype;n.handlePick=function(r){if(r.object===this.mesh){var s=r.data.index,l=this.data._meshX[s],u=this.data._meshY[s],d=this.data._meshZ[s],c=this.data._Ys.length,x=this.data._Zs.length,g=o(l,this.data._Xs).id,p=o(u,this.data._Ys).id,v=o(d,this.data._Zs).id,y=r.index=v+x*p+x*c*g;r.traceCoordinate=[this.data._meshX[y],this.data._meshY[y],this.data._meshZ[y],this.data._value[y]];var m=this.data.hovertext||this.data.text;return a(m)&&m[y]!==void 0?r.textLabel=m[y]:m&&(r.textLabel=m),!0}},n.update=function(r){var s=this.scene,l=s.fullSceneLayout;function u(x,g,p,v){return g.map(function(y){return x.d2l(y,0,v)*p})}this.data=t(r);var d={positions:h(u(l.xaxis,r._meshX,s.dataScale[0],r.xcalendar),u(l.yaxis,r._meshY,s.dataScale[1],r.ycalendar),u(l.zaxis,r._meshZ,s.dataScale[2],r.zcalendar)),cells:h(r._meshI,r._meshJ,r._meshK),lightPosition:[r.lightposition.x,r.lightposition.y,r.lightposition.z],ambient:r.lighting.ambient,diffuse:r.lighting.diffuse,specular:r.lighting.specular,roughness:r.lighting.roughness,fresnel:r.lighting.fresnel,vertexNormalsEpsilon:r.lighting.vertexnormalsepsilon,faceNormalsEpsilon:r.lighting.facenormalsepsilon,opacity:r.opacity,opacityscale:r.opacityscale,contourEnable:r.contour.show,contourColor:w(r.contour.color).slice(0,3),contourWidth:r.contour.width,useFacetNormals:r.flatshading},c=b(r);d.vertexIntensity=r._meshIntensity,d.vertexIntensityBounds=[c.min,c.max],d.colormap=k(r),this.mesh.update(d)},n.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},Y.exports=function(r,s){var l=r.glplot.gl,u=A({gl:l}),d=new i(r,u,s.uid);return u._trace=d,d.update(s),r.glplot.add(u),d}},12448:function(Y,P,e){var A=e(3400),k=e(58168),a=e(70548).supplyIsoDefaults,w=e(60192).opacityscaleDefaults;Y.exports=function(b,h,o,t){function i(n,r){return A.coerce(b,h,k,n,r)}a(b,h,o,t,i),w(b,h,t,i)}},67776:function(Y,P,e){Y.exports={attributes:e(58168),supplyDefaults:e(12448),calc:e(62624),colorbar:{min:"cmin",max:"cmax"},plot:e(91976),moduleType:"trace",name:"volume",basePlotModule:e(12536),categories:["gl3d","showLegend"],meta:{}}},65776:function(Y,P,e){var A=e(20832),k=e(52904).line,a=e(45464),w=e(29736).axisHoverFormat,b=e(21776).Ks,h=e(21776).Gw,o=e(10213),t=e(92880).extendFlat,i=e(76308);function n(r){return{marker:{color:t({},A.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},A.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},A.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}Y.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:A.x,x0:A.x0,dx:A.dx,y:A.y,y0:A.y0,dy:A.dy,xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:A.xperiod0,yperiod0:A.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,xhoverformat:w("x"),yhoverformat:w("y"),hovertext:A.hovertext,hovertemplate:b({},{keys:o.eventDataKeys}),hoverinfo:t({},a.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:h({editType:"plot"},{keys:o.eventDataKeys.concat(["label"])}),text:A.text,textposition:A.textposition,insidetextanchor:A.insidetextanchor,textangle:A.textangle,textfont:A.textfont,insidetextfont:A.insidetextfont,outsidetextfont:A.outsidetextfont,constraintext:A.constraintext,cliponaxis:A.cliponaxis,orientation:A.orientation,offset:A.offset,width:A.width,increasing:n(),decreasing:n(),totals:n(),connector:{line:{color:t({},k.color,{dflt:i.defaultLine}),width:t({},k.width,{editType:"plot"}),dash:k.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:A.offsetgroup,alignmentgroup:A.alignmentgroup}},73540:function(Y,P,e){var A=e(54460),k=e(1220),a=e(3400).mergeArray,w=e(4500),b=e(39032).BADNUM;function h(t){return t==="a"||t==="absolute"}function o(t){return t==="t"||t==="total"}Y.exports=function(t,i){var n,r,s,l,u,d,c=A.getFromId(t,i.xaxis||"x"),x=A.getFromId(t,i.yaxis||"y");i.orientation==="h"?(n=c.makeCalcdata(i,"x"),s=x.makeCalcdata(i,"y"),l=k(i,x,"y",s),u=!!i.yperiodalignment,d="y"):(n=x.makeCalcdata(i,"y"),s=c.makeCalcdata(i,"x"),l=k(i,c,"x",s),u=!!i.xperiodalignment,d="x"),r=l.vals;for(var g,p=Math.min(r.length,n.length),v=new Array(p),y=0,m=!1,_=0;_<p;_++){var f=n[_]||0,S=!1;(n[_]!==b||o(i.measure[_])||h(i.measure[_]))&&_+1<p&&(n[_+1]!==b||o(i.measure[_+1])||h(i.measure[_+1]))&&(S=!0);var T=v[_]={i:_,p:r[_],s:f,rawS:f,cNext:S};h(i.measure[_])?(y=T.s,T.isSum=!0,T.dir="totals",T.s=y):o(i.measure[_])?(T.isSum=!0,T.dir="totals",T.s=y):(T.isSum=!1,T.dir=T.rawS<0?"decreasing":"increasing",g=T.s,T.s=y+g,y+=g),T.dir==="totals"&&(m=!0),u&&(v[_].orig_p=s[_],v[_][d+"End"]=l.ends[_],v[_][d+"Start"]=l.starts[_]),i.ids&&(T.id=String(i.ids[_])),T.v=(i.base||0)+y}return v.length&&(v[0].hasTotals=m),a(i.text,v,"tx"),a(i.hovertext,v,"htx"),w(v,i),v}},10213:function(Y){Y.exports={eventDataKeys:["initial","delta","final"]}},50152:function(Y,P,e){var A=e(96376).setGroupPositions;Y.exports=function(k,a){var w,b,h=k._fullLayout,o=k._fullData,t=k.calcdata,i=a.xaxis,n=a.yaxis,r=[],s=[],l=[];for(b=0;b<o.length;b++){var u=o[b];u.visible===!0&&u.xaxis===i._id&&u.yaxis===n._id&&u.type==="waterfall"&&(w=t[b],u.orientation==="h"?l.push(w):s.push(w),r.push(w))}var d={mode:h.waterfallmode,norm:h.waterfallnorm,gap:h.waterfallgap,groupgap:h.waterfallgroupgap};for(A(k,i,n,s,d),A(k,n,i,l,d),b=0;b<r.length;b++){w=r[b];for(var c=0;c<w.length;c++){var x=w[c];x.isSum===!1&&(x.s0+=c===0?0:w[c-1].s),c+1<w.length&&(w[c].nextP0=w[c+1].p0,w[c].nextS0=w[c+1].s0)}}}},24224:function(Y,P,e){var A=e(3400),k=e(20011),a=e(31508).handleText,w=e(43980),b=e(31147),h=e(65776),o=e(76308),t=e(48164),i=t.INCREASING.COLOR,n=t.DECREASING.COLOR;function r(s,l,u){s(l+".marker.color",u),s(l+".marker.line.color",o.defaultLine),s(l+".marker.line.width")}Y.exports={supplyDefaults:function(s,l,u,d){function c(g,p){return A.coerce(s,l,h,g,p)}if(w(s,l,d,c)){b(s,l,d,c),c("xhoverformat"),c("yhoverformat"),c("measure"),c("orientation",l.x&&!l.y?"h":"v"),c("base"),c("offset"),c("width"),c("text"),c("hovertext"),c("hovertemplate");var x=c("textposition");a(s,l,d,c,x,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l.textposition!=="none"&&(c("texttemplate"),l.texttemplate||c("textinfo")),r(c,"increasing",i),r(c,"decreasing",n),r(c,"totals","#4499FF"),c("connector.visible")&&(c("connector.mode"),c("connector.line.width")&&(c("connector.line.color"),c("connector.line.dash")))}else l.visible=!1},crossTraceDefaults:function(s,l){var u,d;function c(g){return A.coerce(d._input,d,h,g)}if(l.waterfallmode==="group")for(var x=0;x<s.length;x++)u=(d=s[x])._input,k(u,d,l,c)}}},53256:function(Y){Y.exports=function(P,e){return P.x="xVal"in e?e.xVal:e.x,P.y="yVal"in e?e.yVal:e.y,"initial"in e&&(P.initial=e.initial),"delta"in e&&(P.delta=e.delta),"final"in e&&(P.final=e.final),e.xa&&(P.xaxis=e.xa),e.ya&&(P.yaxis=e.ya),P}},94196:function(Y,P,e){var A=e(54460).hoverLabelText,k=e(76308).opacity,a=e(63400).hoverOnBars,w=e(48164),b=w.INCREASING.SYMBOL,h=w.DECREASING.SYMBOL;Y.exports=function(o,t,i,n,r){var s=a(o,t,i,n,r);if(s){var l=s.cd,u=l[0].trace,d=u.orientation==="h",c=d?"x":"y",x=d?o.xa:o.ya,g=l[s.index],p=g.isSum?g.b+g.s:g.rawS;s.initial=g.b+g.s-p,s.delta=p,s.final=s.initial+s.delta;var v=T(Math.abs(s.delta));s.deltaLabel=p<0?"("+v+")":v,s.finalLabel=T(s.final),s.initialLabel=T(s.initial);var y=g.hi||u.hoverinfo,m=[];if(y&&y!=="none"&&y!=="skip"){var _=y==="all",f=y.split("+"),S=function(E){return _||f.indexOf(E)!==-1};g.isSum||(!S("final")||S(d?"x":"y")||m.push(s.finalLabel),S("delta")&&(p<0?m.push(s.deltaLabel+" "+h):m.push(s.deltaLabel+" "+b)),S("initial")&&m.push("Initial: "+s.initialLabel))}return m.length&&(s.extraText=m.join("<br>")),s.color=function(E,C){var O=E[C.dir].marker,I=O.color,z=O.line.color,U=O.line.width;return k(I)?I:k(z)&&U?z:void 0}(u,g),[s]}function T(E){return A(x,E,u[c+"hoverformat"])}}},95952:function(Y,P,e){Y.exports={attributes:e(65776),layoutAttributes:e(91352),supplyDefaults:e(24224).supplyDefaults,crossTraceDefaults:e(24224).crossTraceDefaults,supplyLayoutDefaults:e(59464),calc:e(73540),crossTraceCalc:e(50152),plot:e(64488),style:e(12252).style,hoverPoints:e(94196),eventData:e(53256),selectPoints:e(45784),moduleType:"trace",name:"waterfall",basePlotModule:e(57952),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},91352:function(Y){Y.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},59464:function(Y,P,e){var A=e(3400),k=e(91352);Y.exports=function(a,w,b){var h=!1;function o(n,r){return A.coerce(a,w,k,n,r)}for(var t=0;t<b.length;t++){var i=b[t];if(i.visible&&i.type==="waterfall"){h=!0;break}}h&&(o("waterfallmode"),o("waterfallgap",.2),o("waterfallgroupgap"))}},64488:function(Y,P,e){var A=e(33428),k=e(3400),a=e(43616),w=e(39032).BADNUM,b=e(98184),h=e(82744).clearMinTextSize;Y.exports=function(o,t,i,n){var r=o._fullLayout;h("waterfall",r),b.plot(o,t,i,n,{mode:r.waterfallmode,norm:r.waterfallmode,gap:r.waterfallgap,groupgap:r.waterfallgroupgap}),function(s,l,u,d){var c=l.xaxis,x=l.yaxis;k.makeTraceGroups(d,u,"trace bars").each(function(g){var p=A.select(this),v=g[0].trace,y=k.ensureSingle(p,"g","lines");if(v.connector&&v.connector.visible){var m=v.orientation==="h",_=v.connector.mode,f=y.selectAll("g.line").data(k.identity);f.enter().append("g").classed("line",!0),f.exit().remove();var S=f.size();f.each(function(T,E){if(E===S-1||T.cNext){var C=function(U,D,B,Z){var F=[],j=[],V=Z?D:B,te=Z?B:D;return F[0]=V.c2p(U.s0,!0),j[0]=te.c2p(U.p0,!0),F[1]=V.c2p(U.s1,!0),j[1]=te.c2p(U.p1,!0),F[2]=V.c2p(U.nextS0,!0),j[2]=te.c2p(U.nextP0,!0),Z?[F,j]:[j,F]}(T,c,x,m),O=C[0],I=C[1],z="";O[0]!==w&&I[0]!==w&&O[1]!==w&&I[1]!==w&&(_==="spanning"&&!T.isSum&&E>0&&(z+=m?"M"+O[0]+","+I[1]+"V"+I[0]:"M"+O[1]+","+I[0]+"H"+O[0]),_!=="between"&&(T.isSum||E<S-1)&&(z+=m?"M"+O[1]+","+I[0]+"V"+I[1]:"M"+O[0]+","+I[1]+"H"+O[1]),O[2]!==w&&I[2]!==w&&(z+=m?"M"+O[1]+","+I[1]+"V"+I[2]:"M"+O[1]+","+I[1]+"H"+O[2])),z===""&&(z="M0,0Z"),k.ensureSingle(A.select(this),"path").attr("d",z).call(a.setClipUrl,l.layerClipId,s)}})}else y.remove()})}(o,t,i,n)}},12252:function(Y,P,e){var A=e(33428),k=e(43616),a=e(76308),w=e(13448).DESELECTDIM,b=e(60100),h=e(82744).resizeText,o=b.styleTextPoints;Y.exports={style:function(t,i,n){var r=n||A.select(t).selectAll("g.waterfalllayer").selectAll("g.trace");h(t,r,"waterfall"),r.style("opacity",function(s){return s[0].trace.opacity}),r.each(function(s){var l=A.select(this),u=s[0].trace;l.selectAll(".point > path").each(function(d){if(!d.isBlank){var c=u[d.dir].marker;A.select(this).call(a.fill,c.color).call(a.stroke,c.line.color).call(k.dashLine,c.line.dash,c.line.width).style("opacity",u.selectedpoints&&!d.selected?w:1)}}),o(l,u,t),l.selectAll(".lines").each(function(){var d=u.connector.line;k.lineGroupStyle(A.select(this).selectAll("path"),d.width,d.color,d.dash)})})}}},84224:function(Y,P,e){var A=e(54460),k=e(3400),a=e(73060),w=e(60468).W,b=e(39032).BADNUM;P.moduleType="transform",P.name="aggregate";var h=P.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},o=h.aggregations;function t(s,l,u,d){if(d.enabled){for(var c=d.target,x=k.nestedProperty(l,c),g=x.get(),p=function(m,_){var f=m.func,S=_.d2c,T=_.c2d;switch(f){case"count":return i;case"first":return n;case"last":return r;case"sum":return function(E,C){for(var O=0,I=0;I<C.length;I++){var z=S(E[C[I]]);z!==b&&(O+=z)}return T(O)};case"avg":return function(E,C){for(var O=0,I=0,z=0;z<C.length;z++){var U=S(E[C[z]]);U!==b&&(O+=U,I++)}return I?T(O/I):b};case"min":return function(E,C){for(var O=1/0,I=0;I<C.length;I++){var z=S(E[C[I]]);z!==b&&(O=Math.min(O,z))}return O===1/0?b:T(O)};case"max":return function(E,C){for(var O=-1/0,I=0;I<C.length;I++){var z=S(E[C[I]]);z!==b&&(O=Math.max(O,z))}return O===-1/0?b:T(O)};case"range":return function(E,C){for(var O=1/0,I=-1/0,z=0;z<C.length;z++){var U=S(E[C[z]]);U!==b&&(O=Math.min(O,U),I=Math.max(I,U))}return I===-1/0||O===1/0?b:T(I-O)};case"change":return function(E,C){var O=S(E[C[0]]),I=S(E[C[C.length-1]]);return O===b||I===b?b:T(I-O)};case"median":return function(E,C){for(var O=[],I=0;I<C.length;I++){var z=S(E[C[I]]);z!==b&&O.push(z)}if(!O.length)return b;O.sort(k.sorterAsc);var U=(O.length-1)/2;return T((O[Math.floor(U)]+O[Math.ceil(U)])/2)};case"mode":return function(E,C){for(var O={},I=0,z=b,U=0;U<C.length;U++){var D=S(E[C[U]]);if(D!==b){var B=O[D]=(O[D]||0)+1;B>I&&(I=B,z=D)}}return I?T(z):b};case"rms":return function(E,C){for(var O=0,I=0,z=0;z<C.length;z++){var U=S(E[C[z]]);U!==b&&(O+=U*U,I++)}return I?T(Math.sqrt(O/I)):b};case"stddev":return function(E,C){var O,I=0,z=0,U=1,D=b;for(O=0;O<C.length&&D===b;O++)D=S(E[C[O]]);if(D===b)return b;for(;O<C.length;O++){var B=S(E[C[O]]);if(B!==b){var Z=B-D;I+=Z,z+=Z*Z,U++}}var F=m.funcmode==="sample"?U-1:U;return F?Math.sqrt((z-I*I/U)/F):0}}}(d,A.getDataConversions(s,l,c,g)),v=new Array(u.length),y=0;y<u.length;y++)v[y]=p(g,u[y]);x.set(v),d.func==="count"&&k.pushUnique(l._arrayAttrs,c)}}function i(s,l){return l.length}function n(s,l){return s[l[0]]}function r(s,l){return s[l[l.length-1]]}P.supplyDefaults=function(s,l){var u,d={};function c(T,E){return k.coerce(s,d,h,T,E)}if(!c("enabled"))return d;var x=a.findArrayAttributes(l),g={};for(u=0;u<x.length;u++)g[x[u]]=1;var p=c("groups");if(!Array.isArray(p)){if(!g[p])return d.enabled=!1,d;g[p]=0}var v,y=s.aggregations||[],m=d.aggregations=new Array(y.length);function _(T,E){return k.coerce(y[u],v,o,T,E)}for(u=0;u<y.length;u++){v={_index:u};var f=_("target"),S=_("func");_("enabled")&&f&&(g[f]||S==="count"&&g[f]===void 0)?(S==="stddev"&&_("funcmode"),g[f]=0,m[u]=v):m[u]={enabled:!1,_index:u}}for(u=0;u<x.length;u++)g[x[u]]&&m.push({target:x[u],func:o.func.dflt,enabled:!0,_index:-1});return d},P.calcTransform=function(s,l,u){if(u.enabled){var d=u.groups,c=k.getTargetArray(l,{target:d});if(c){var x,g,p,v,y={},m={},_=[],f=w(l.transforms,u),S=c.length;for(l._length&&(S=Math.min(S,l._length)),x=0;x<S;x++)(p=y[g=c[x]])===void 0?(y[g]=_.length,v=[x],_.push(v),m[y[g]]=f(x)):(_[p].push(x),m[y[g]]=(m[y[g]]||[]).concat(f(x)));u._indexToPoints=m;var T=u.aggregations;for(x=0;x<T.length;x++)t(s,l,_,T[x]);typeof d=="string"&&t(s,l,_,{target:d,func:"first",enabled:!0}),l._length=_.length}}}},76744:function(Y,P,e){var A=e(3400),k=e(24040),a=e(54460),w=e(60468).W,b=e(69104),h=b.COMPARISON_OPS,o=b.INTERVAL_OPS,t=b.SET_OPS;P.moduleType="transform",P.name="filter",P.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(h).concat(o).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},P.supplyDefaults=function(i){var n={};function r(u,d){return A.coerce(i,n,P.attributes,u,d)}if(r("enabled")){var s=r("target");if(A.isArrayOrTypedArray(s)&&s.length===0)return n.enabled=!1,n;r("preservegaps"),r("operation"),r("value");var l=k.getComponentMethod("calendars","handleDefaults");l(i,n,"valuecalendar",null),l(i,n,"targetcalendar",null)}return n},P.calcTransform=function(i,n,r){if(r.enabled){var s=A.getTargetArray(n,r);if(s){var l=r.target,u=s.length;n._length&&(u=Math.min(u,n._length));var d=r.targetcalendar,c=n._arrayAttrs,x=r.preservegaps;if(typeof l=="string"){var g=A.nestedProperty(n,l+"calendar").get();g&&(d=g)}var p,v,y=function(C,O,I){var z=C.operation,U=C.value,D=A.isArrayOrTypedArray(U);function B(V){return V.indexOf(z)!==-1}var Z,F=function(V){return O(V,0,C.valuecalendar)},j=function(V){return O(V,0,I)};switch(B(h)?Z=F(D?U[0]:U):B(o)?Z=D?[F(U[0]),F(U[1])]:[F(U),F(U)]:B(t)&&(Z=D?U.map(F):[F(U)]),z){case"=":return function(V){return j(V)===Z};case"!=":return function(V){return j(V)!==Z};case"<":return function(V){return j(V)<Z};case"<=":return function(V){return j(V)<=Z};case">":return function(V){return j(V)>Z};case">=":return function(V){return j(V)>=Z};case"[]":return function(V){var te=j(V);return te>=Z[0]&&te<=Z[1]};case"()":return function(V){var te=j(V);return te>Z[0]&&te<Z[1]};case"[)":return function(V){var te=j(V);return te>=Z[0]&&te<Z[1]};case"(]":return function(V){var te=j(V);return te>Z[0]&&te<=Z[1]};case"][":return function(V){var te=j(V);return te<=Z[0]||te>=Z[1]};case")(":return function(V){var te=j(V);return te<Z[0]||te>Z[1]};case"](":return function(V){var te=j(V);return te<=Z[0]||te>Z[1]};case")[":return function(V){var te=j(V);return te<Z[0]||te>=Z[1]};case"{}":return function(V){return Z.indexOf(j(V))!==-1};case"}{":return function(V){return Z.indexOf(j(V))===-1}}}(r,a.getDataToCoordFunc(i,n,l,s),d),m={},_={},f=0;x?(p=function(C){m[C.astr]=A.extendDeep([],C.get()),C.set(new Array(u))},v=function(C,O){var I=m[C.astr][O];C.get()[O]=I}):(p=function(C){m[C.astr]=A.extendDeep([],C.get()),C.set([])},v=function(C,O){var I=m[C.astr][O];C.get().push(I)}),E(p);for(var S=w(n.transforms,r),T=0;T<u;T++)y(s[T])?(E(v,T),_[f++]=S(T)):x&&f++;r._indexToPoints=_,n._length=f}}function E(C,O){for(var I=0;I<c.length;I++)C(A.nestedProperty(n,c[I]),O)}}},32028:function(Y,P,e){var A=e(3400),k=e(73060),a=e(7316),w=e(60468).W;function b(h,o){var t,i,n,r,s,l,u,d,c,x,g=o.transform,p=o.transformIndex,v=h.transforms[p].groups,y=w(h.transforms,g);if(!A.isArrayOrTypedArray(v)||v.length===0)return[h];var m=A.filterUnique(v),_=new Array(m.length),f=v.length,S=k.findArrayAttributes(h),T=g.styles||[],E={};for(t=0;t<T.length;t++)E[T[t].target]=T[t].value;g.styles&&(x=A.keyedContainer(g,"styles","target","value.name"));var C={},O={};for(t=0;t<m.length;t++){C[l=m[t]]=t,O[l]=0,(u=_[t]=A.extendDeepNoArrays({},h))._group=l,u.transforms[p]._indexToPoints={};var I=null;for(x&&(I=x.get(l)),u.name=I||I===""?I:A.templateString(g.nameformat,{trace:h.name,group:l}),d=u.transforms,u.transforms=[],i=0;i<d.length;i++)u.transforms[i]=A.extendDeepNoArrays({},d[i]);for(i=0;i<S.length;i++)A.nestedProperty(u,S[i]).set([])}for(n=0;n<S.length;n++){for(r=S[n],i=0,c=[];i<m.length;i++)c[i]=A.nestedProperty(_[i],r).get();for(s=A.nestedProperty(h,r).get(),i=0;i<f;i++)c[C[v[i]]].push(s[i])}for(i=0;i<f;i++)(u=_[C[v[i]]]).transforms[p]._indexToPoints[O[v[i]]]=y(i),O[v[i]]++;for(t=0;t<m.length;t++)l=m[t],u=_[t],a.clearExpandedTraceDefaultColors(u),u=A.extendDeepNoArrays(u,E[l]||{});return _}P.moduleType="transform",P.name="groupby",P.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},P.supplyDefaults=function(h,o,t){var i,n={};function r(c,x){return A.coerce(h,n,P.attributes,c,x)}if(!r("enabled"))return n;r("groups"),r("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var s=h.styles,l=n.styles=[];if(s)for(i=0;i<s.length;i++){var u=l[i]={};A.coerce(s[i],l[i],P.attributes.styles,"target");var d=A.coerce(s[i],l[i],P.attributes.styles,"value");A.isPlainObject(d)?u.value=A.extendDeep({},d):d&&delete u.value}return n},P.transform=function(h,o){var t,i,n,r=[];for(i=0;i<h.length;i++)for(t=b(h[i],o),n=0;n<t.length;n++)r.push(t[n]);return r}},60468:function(Y,P){P.W=function(e,A){for(var k,a,w=0;w<e.length&&(k=e[w])!==A;w++)k._indexToPoints&&k.enabled!==!1&&(a=k._indexToPoints);var b=a?function(h){return a[h]}:function(h){return[h]};return b}},76272:function(Y,P,e){var A=e(3400),k=e(54460),a=e(60468).W,w=e(39032).BADNUM;P.moduleType="transform",P.name="sort",P.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},P.supplyDefaults=function(b){var h={};function o(t,i){return A.coerce(b,h,P.attributes,t,i)}return o("enabled")&&(o("target"),o("order")),h},P.calcTransform=function(b,h,o){if(o.enabled){var t=A.getTargetArray(h,o);if(t){var i=o.target,n=t.length;h._length&&(n=Math.min(n,h._length));var r,s,l=h._arrayAttrs,u=function(v,y,m,_){var f,S=new Array(_),T=new Array(_);for(f=0;f<_;f++)S[f]={v:y[f],i:f};for(S.sort(function(E,C){switch(E.order){case"ascending":return function(O,I){var z=C(O.v),U=C(I.v);return z===w?1:U===w?-1:z-U};case"descending":return function(O,I){var z=C(O.v),U=C(I.v);return z===w?1:U===w?-1:U-z}}}(v,m)),f=0;f<_;f++)T[f]=S[f].i;return T}(o,t,k.getDataToCoordFunc(b,h,i,t),n),d=a(h.transforms,o),c={};for(r=0;r<l.length;r++){var x=A.nestedProperty(h,l[r]),g=x.get(),p=new Array(n);for(s=0;s<n;s++)p[s]=g[u[s]];x.set(p)}for(s=0;s<n;s++)c[s]=d(u[s]);o._indexToPoints=c,h._length=n}}}},25788:function(Y,P){P.version="2.29.1"},67792:function(Y,P,e){var A,k=e(4168);A=function(){return function(){var a={7386:function(h,o,t){h.exports={alpha_shape:t(2350),convex_hull:t(5537),delaunay_triangulate:t(4419),gl_cone3d:t(1140),gl_error3d:t(3110),gl_heatmap2d:t(6386),gl_line3d:t(6086),gl_mesh3d:t(8116),gl_plot2d:t(2117),gl_plot3d:t(1059),gl_pointcloud2d:t(8271),gl_scatter3d:t(2182),gl_select_box:t(6623),gl_spikes2d:t(3050),gl_streamtube3d:t(7307),gl_surface3d:t(3754),ndarray:t(5050),ndarray_linear_interpolate:t(3581)}},2146:function(h,o,t){function i(he,xe){for(var ke=0;ke<xe.length;ke++){var Re=xe[ke];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(he,Re.key,Re)}}function n(he,xe){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ke,Re){return ke.__proto__=Re,ke},n(he,xe)}function r(he){if(he===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return he}function s(he){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},s(he)}function l(he){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe},l(he)}var u=t(3910),d=t(3187),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.lW=p,o.h2=50;var x=2147483647;function g(he){if(he>x)throw new RangeError('The value "'+he+'" is invalid for option "size"');var xe=new Uint8Array(he);return Object.setPrototypeOf(xe,p.prototype),xe}function p(he,xe,ke){if(typeof he=="number"){if(typeof xe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(he)}return v(he,xe,ke)}function v(he,xe,ke){if(typeof he=="string")return function(Ie,He){if(typeof He=="string"&&He!==""||(He="utf8"),!p.isEncoding(He))throw new TypeError("Unknown encoding: "+He);var qe=0|T(Ie,He),Je=g(qe),st=Je.write(Ie,He);return st!==qe&&(Je=Je.slice(0,st)),Je}(he,xe);if(ArrayBuffer.isView(he))return function(Ie){if(Ee(Ie,Uint8Array)){var He=new Uint8Array(Ie);return f(He.buffer,He.byteOffset,He.byteLength)}return _(Ie)}(he);if(he==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(he));if(Ee(he,ArrayBuffer)||he&&Ee(he.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ee(he,SharedArrayBuffer)||he&&Ee(he.buffer,SharedArrayBuffer)))return f(he,xe,ke);if(typeof he=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Re=he.valueOf&&he.valueOf();if(Re!=null&&Re!==he)return p.from(Re,xe,ke);var ze=function(Ie){if(p.isBuffer(Ie)){var He=0|S(Ie.length),qe=g(He);return qe.length===0||Ie.copy(qe,0,0,He),qe}return Ie.length!==void 0?typeof Ie.length!="number"||Te(Ie.length)?g(0):_(Ie):Ie.type==="Buffer"&&Array.isArray(Ie.data)?_(Ie.data):void 0}(he);if(ze)return ze;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof he[Symbol.toPrimitive]=="function")return p.from(he[Symbol.toPrimitive]("string"),xe,ke);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(he))}function y(he){if(typeof he!="number")throw new TypeError('"size" argument must be of type number');if(he<0)throw new RangeError('The value "'+he+'" is invalid for option "size"')}function m(he){return y(he),g(he<0?0:0|S(he))}function _(he){for(var xe=he.length<0?0:0|S(he.length),ke=g(xe),Re=0;Re<xe;Re+=1)ke[Re]=255&he[Re];return ke}function f(he,xe,ke){if(xe<0||he.byteLength<xe)throw new RangeError('"offset" is outside of buffer bounds');if(he.byteLength<xe+(ke||0))throw new RangeError('"length" is outside of buffer bounds');var Re;return Re=xe===void 0&&ke===void 0?new Uint8Array(he):ke===void 0?new Uint8Array(he,xe):new Uint8Array(he,xe,ke),Object.setPrototypeOf(Re,p.prototype),Re}function S(he){if(he>=x)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+x.toString(16)+" bytes");return 0|he}function T(he,xe){if(p.isBuffer(he))return he.length;if(ArrayBuffer.isView(he)||Ee(he,ArrayBuffer))return he.byteLength;if(typeof he!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+l(he));var ke=he.length,Re=arguments.length>2&&arguments[2]===!0;if(!Re&&ke===0)return 0;for(var ze=!1;;)switch(xe){case"ascii":case"latin1":case"binary":return ke;case"utf8":case"utf-8":return oe(he).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ke;case"hex":return ke>>>1;case"base64":return se(he).length;default:if(ze)return Re?-1:oe(he).length;xe=(""+xe).toLowerCase(),ze=!0}}function E(he,xe,ke){var Re=!1;if((xe===void 0||xe<0)&&(xe=0),xe>this.length||((ke===void 0||ke>this.length)&&(ke=this.length),ke<=0)||(ke>>>=0)<=(xe>>>=0))return"";for(he||(he="utf8");;)switch(he){case"hex":return $(this,xe,ke);case"utf8":case"utf-8":return j(this,xe,ke);case"ascii":return te(this,xe,ke);case"latin1":case"binary":return Q(this,xe,ke);case"base64":return F(this,xe,ke);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,xe,ke);default:if(Re)throw new TypeError("Unknown encoding: "+he);he=(he+"").toLowerCase(),Re=!0}}function C(he,xe,ke){var Re=he[xe];he[xe]=he[ke],he[ke]=Re}function O(he,xe,ke,Re,ze){if(he.length===0)return-1;if(typeof ke=="string"?(Re=ke,ke=0):ke>2147483647?ke=2147483647:ke<-2147483648&&(ke=-2147483648),Te(ke=+ke)&&(ke=ze?0:he.length-1),ke<0&&(ke=he.length+ke),ke>=he.length){if(ze)return-1;ke=he.length-1}else if(ke<0){if(!ze)return-1;ke=0}if(typeof xe=="string"&&(xe=p.from(xe,Re)),p.isBuffer(xe))return xe.length===0?-1:I(he,xe,ke,Re,ze);if(typeof xe=="number")return xe&=255,typeof Uint8Array.prototype.indexOf=="function"?ze?Uint8Array.prototype.indexOf.call(he,xe,ke):Uint8Array.prototype.lastIndexOf.call(he,xe,ke):I(he,[xe],ke,Re,ze);throw new TypeError("val must be string, number or Buffer")}function I(he,xe,ke,Re,ze){var Ie,He=1,qe=he.length,Je=xe.length;if(Re!==void 0&&((Re=String(Re).toLowerCase())==="ucs2"||Re==="ucs-2"||Re==="utf16le"||Re==="utf-16le")){if(he.length<2||xe.length<2)return-1;He=2,qe/=2,Je/=2,ke/=2}function st(xt,et){return He===1?xt[et]:xt.readUInt16BE(et*He)}if(ze){var it=-1;for(Ie=ke;Ie<qe;Ie++)if(st(he,Ie)===st(xe,it===-1?0:Ie-it)){if(it===-1&&(it=Ie),Ie-it+1===Je)return it*He}else it!==-1&&(Ie-=Ie-it),it=-1}else for(ke+Je>qe&&(ke=qe-Je),Ie=ke;Ie>=0;Ie--){for(var vt=!0,_t=0;_t<Je;_t++)if(st(he,Ie+_t)!==st(xe,_t)){vt=!1;break}if(vt)return Ie}return-1}function z(he,xe,ke,Re){ke=Number(ke)||0;var ze=he.length-ke;Re?(Re=Number(Re))>ze&&(Re=ze):Re=ze;var Ie,He=xe.length;for(Re>He/2&&(Re=He/2),Ie=0;Ie<Re;++Ie){var qe=parseInt(xe.substr(2*Ie,2),16);if(Te(qe))return Ie;he[ke+Ie]=qe}return Ie}function U(he,xe,ke,Re){return de(oe(xe,he.length-ke),he,ke,Re)}function D(he,xe,ke,Re){return de(function(ze){for(var Ie=[],He=0;He<ze.length;++He)Ie.push(255&ze.charCodeAt(He));return Ie}(xe),he,ke,Re)}function B(he,xe,ke,Re){return de(se(xe),he,ke,Re)}function Z(he,xe,ke,Re){return de(function(ze,Ie){for(var He,qe,Je,st=[],it=0;it<ze.length&&!((Ie-=2)<0);++it)qe=(He=ze.charCodeAt(it))>>8,Je=He%256,st.push(Je),st.push(qe);return st}(xe,he.length-ke),he,ke,Re)}function F(he,xe,ke){return xe===0&&ke===he.length?u.fromByteArray(he):u.fromByteArray(he.slice(xe,ke))}function j(he,xe,ke){ke=Math.min(he.length,ke);for(var Re=[],ze=xe;ze<ke;){var Ie=he[ze],He=null,qe=Ie>239?4:Ie>223?3:Ie>191?2:1;if(ze+qe<=ke){var Je=void 0,st=void 0,it=void 0,vt=void 0;switch(qe){case 1:Ie<128&&(He=Ie);break;case 2:(192&(Je=he[ze+1]))==128&&(vt=(31&Ie)<<6|63&Je)>127&&(He=vt);break;case 3:Je=he[ze+1],st=he[ze+2],(192&Je)==128&&(192&st)==128&&(vt=(15&Ie)<<12|(63&Je)<<6|63&st)>2047&&(vt<55296||vt>57343)&&(He=vt);break;case 4:Je=he[ze+1],st=he[ze+2],it=he[ze+3],(192&Je)==128&&(192&st)==128&&(192&it)==128&&(vt=(15&Ie)<<18|(63&Je)<<12|(63&st)<<6|63&it)>65535&&vt<1114112&&(He=vt)}}He===null?(He=65533,qe=1):He>65535&&(He-=65536,Re.push(He>>>10&1023|55296),He=56320|1023&He),Re.push(He),ze+=qe}return function(_t){var xt=_t.length;if(xt<=V)return String.fromCharCode.apply(String,_t);for(var et="",nt=0;nt<xt;)et+=String.fromCharCode.apply(String,_t.slice(nt,nt+=V));return et}(Re)}p.TYPED_ARRAY_SUPPORT=function(){try{var he=new Uint8Array(1),xe={foo:function(){return 42}};return Object.setPrototypeOf(xe,Uint8Array.prototype),Object.setPrototypeOf(he,xe),he.foo()===42}catch{return!1}}(),p.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}}),p.poolSize=8192,p.from=function(he,xe,ke){return v(he,xe,ke)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array),p.alloc=function(he,xe,ke){return function(Re,ze,Ie){return y(Re),Re<=0?g(Re):ze!==void 0?typeof Ie=="string"?g(Re).fill(ze,Ie):g(Re).fill(ze):g(Re)}(he,xe,ke)},p.allocUnsafe=function(he){return m(he)},p.allocUnsafeSlow=function(he){return m(he)},p.isBuffer=function(he){return he!=null&&he._isBuffer===!0&&he!==p.prototype},p.compare=function(he,xe){if(Ee(he,Uint8Array)&&(he=p.from(he,he.offset,he.byteLength)),Ee(xe,Uint8Array)&&(xe=p.from(xe,xe.offset,xe.byteLength)),!p.isBuffer(he)||!p.isBuffer(xe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(he===xe)return 0;for(var ke=he.length,Re=xe.length,ze=0,Ie=Math.min(ke,Re);ze<Ie;++ze)if(he[ze]!==xe[ze]){ke=he[ze],Re=xe[ze];break}return ke<Re?-1:Re<ke?1:0},p.isEncoding=function(he){switch(String(he).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(he,xe){if(!Array.isArray(he))throw new TypeError('"list" argument must be an Array of Buffers');if(he.length===0)return p.alloc(0);var ke;if(xe===void 0)for(xe=0,ke=0;ke<he.length;++ke)xe+=he[ke].length;var Re=p.allocUnsafe(xe),ze=0;for(ke=0;ke<he.length;++ke){var Ie=he[ke];if(Ee(Ie,Uint8Array))ze+Ie.length>Re.length?(p.isBuffer(Ie)||(Ie=p.from(Ie)),Ie.copy(Re,ze)):Uint8Array.prototype.set.call(Re,Ie,ze);else{if(!p.isBuffer(Ie))throw new TypeError('"list" argument must be an Array of Buffers');Ie.copy(Re,ze)}ze+=Ie.length}return Re},p.byteLength=T,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var he=this.length;if(he%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var xe=0;xe<he;xe+=2)C(this,xe,xe+1);return this},p.prototype.swap32=function(){var he=this.length;if(he%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var xe=0;xe<he;xe+=4)C(this,xe,xe+3),C(this,xe+1,xe+2);return this},p.prototype.swap64=function(){var he=this.length;if(he%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var xe=0;xe<he;xe+=8)C(this,xe,xe+7),C(this,xe+1,xe+6),C(this,xe+2,xe+5),C(this,xe+3,xe+4);return this},p.prototype.toString=function(){var he=this.length;return he===0?"":arguments.length===0?j(this,0,he):E.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(he){if(!p.isBuffer(he))throw new TypeError("Argument must be a Buffer");return this===he||p.compare(this,he)===0},p.prototype.inspect=function(){var he="",xe=o.h2;return he=this.toString("hex",0,xe).replace(/(.{2})/g,"$1 ").trim(),this.length>xe&&(he+=" ... "),"<Buffer "+he+">"},c&&(p.prototype[c]=p.prototype.inspect),p.prototype.compare=function(he,xe,ke,Re,ze){if(Ee(he,Uint8Array)&&(he=p.from(he,he.offset,he.byteLength)),!p.isBuffer(he))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+l(he));if(xe===void 0&&(xe=0),ke===void 0&&(ke=he?he.length:0),Re===void 0&&(Re=0),ze===void 0&&(ze=this.length),xe<0||ke>he.length||Re<0||ze>this.length)throw new RangeError("out of range index");if(Re>=ze&&xe>=ke)return 0;if(Re>=ze)return-1;if(xe>=ke)return 1;if(this===he)return 0;for(var Ie=(ze>>>=0)-(Re>>>=0),He=(ke>>>=0)-(xe>>>=0),qe=Math.min(Ie,He),Je=this.slice(Re,ze),st=he.slice(xe,ke),it=0;it<qe;++it)if(Je[it]!==st[it]){Ie=Je[it],He=st[it];break}return Ie<He?-1:He<Ie?1:0},p.prototype.includes=function(he,xe,ke){return this.indexOf(he,xe,ke)!==-1},p.prototype.indexOf=function(he,xe,ke){return O(this,he,xe,ke,!0)},p.prototype.lastIndexOf=function(he,xe,ke){return O(this,he,xe,ke,!1)},p.prototype.write=function(he,xe,ke,Re){if(xe===void 0)Re="utf8",ke=this.length,xe=0;else if(ke===void 0&&typeof xe=="string")Re=xe,ke=this.length,xe=0;else{if(!isFinite(xe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");xe>>>=0,isFinite(ke)?(ke>>>=0,Re===void 0&&(Re="utf8")):(Re=ke,ke=void 0)}var ze=this.length-xe;if((ke===void 0||ke>ze)&&(ke=ze),he.length>0&&(ke<0||xe<0)||xe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Re||(Re="utf8");for(var Ie=!1;;)switch(Re){case"hex":return z(this,he,xe,ke);case"utf8":case"utf-8":return U(this,he,xe,ke);case"ascii":case"latin1":case"binary":return D(this,he,xe,ke);case"base64":return B(this,he,xe,ke);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,he,xe,ke);default:if(Ie)throw new TypeError("Unknown encoding: "+Re);Re=(""+Re).toLowerCase(),Ie=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var V=4096;function te(he,xe,ke){var Re="";ke=Math.min(he.length,ke);for(var ze=xe;ze<ke;++ze)Re+=String.fromCharCode(127&he[ze]);return Re}function Q(he,xe,ke){var Re="";ke=Math.min(he.length,ke);for(var ze=xe;ze<ke;++ze)Re+=String.fromCharCode(he[ze]);return Re}function $(he,xe,ke){var Re=he.length;(!xe||xe<0)&&(xe=0),(!ke||ke<0||ke>Re)&&(ke=Re);for(var ze="",Ie=xe;Ie<ke;++Ie)ze+=Se[he[Ie]];return ze}function G(he,xe,ke){for(var Re=he.slice(xe,ke),ze="",Ie=0;Ie<Re.length-1;Ie+=2)ze+=String.fromCharCode(Re[Ie]+256*Re[Ie+1]);return ze}function X(he,xe,ke){if(he%1!=0||he<0)throw new RangeError("offset is not uint");if(he+xe>ke)throw new RangeError("Trying to access beyond buffer length")}function J(he,xe,ke,Re,ze,Ie){if(!p.isBuffer(he))throw new TypeError('"buffer" argument must be a Buffer instance');if(xe>ze||xe<Ie)throw new RangeError('"value" argument is out of bounds');if(ke+Re>he.length)throw new RangeError("Index out of range")}function ne(he,xe,ke,Re,ze){ve(xe,Re,ze,he,ke,7);var Ie=Number(xe&BigInt(4294967295));he[ke++]=Ie,Ie>>=8,he[ke++]=Ie,Ie>>=8,he[ke++]=Ie,Ie>>=8,he[ke++]=Ie;var He=Number(xe>>BigInt(32)&BigInt(4294967295));return he[ke++]=He,He>>=8,he[ke++]=He,He>>=8,he[ke++]=He,He>>=8,he[ke++]=He,ke}function ie(he,xe,ke,Re,ze){ve(xe,Re,ze,he,ke,7);var Ie=Number(xe&BigInt(4294967295));he[ke+7]=Ie,Ie>>=8,he[ke+6]=Ie,Ie>>=8,he[ke+5]=Ie,Ie>>=8,he[ke+4]=Ie;var He=Number(xe>>BigInt(32)&BigInt(4294967295));return he[ke+3]=He,He>>=8,he[ke+2]=He,He>>=8,he[ke+1]=He,He>>=8,he[ke]=He,ke+8}function ae(he,xe,ke,Re,ze,Ie){if(ke+Re>he.length)throw new RangeError("Index out of range");if(ke<0)throw new RangeError("Index out of range")}function le(he,xe,ke,Re,ze){return xe=+xe,ke>>>=0,ze||ae(he,0,ke,4),d.write(he,xe,ke,Re,23,4),ke+4}function ce(he,xe,ke,Re,ze){return xe=+xe,ke>>>=0,ze||ae(he,0,ke,8),d.write(he,xe,ke,Re,52,8),ke+8}p.prototype.slice=function(he,xe){var ke=this.length;(he=~~he)<0?(he+=ke)<0&&(he=0):he>ke&&(he=ke),(xe=xe===void 0?ke:~~xe)<0?(xe+=ke)<0&&(xe=0):xe>ke&&(xe=ke),xe<he&&(xe=he);var Re=this.subarray(he,xe);return Object.setPrototypeOf(Re,p.prototype),Re},p.prototype.readUintLE=p.prototype.readUIntLE=function(he,xe,ke){he>>>=0,xe>>>=0,ke||X(he,xe,this.length);for(var Re=this[he],ze=1,Ie=0;++Ie<xe&&(ze*=256);)Re+=this[he+Ie]*ze;return Re},p.prototype.readUintBE=p.prototype.readUIntBE=function(he,xe,ke){he>>>=0,xe>>>=0,ke||X(he,xe,this.length);for(var Re=this[he+--xe],ze=1;xe>0&&(ze*=256);)Re+=this[he+--xe]*ze;return Re},p.prototype.readUint8=p.prototype.readUInt8=function(he,xe){return he>>>=0,xe||X(he,1,this.length),this[he]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(he,xe){return he>>>=0,xe||X(he,2,this.length),this[he]|this[he+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(he,xe){return he>>>=0,xe||X(he,2,this.length),this[he]<<8|this[he+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(he,xe){return he>>>=0,xe||X(he,4,this.length),(this[he]|this[he+1]<<8|this[he+2]<<16)+16777216*this[he+3]},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(he,xe){return he>>>=0,xe||X(he,4,this.length),16777216*this[he]+(this[he+1]<<16|this[he+2]<<8|this[he+3])},p.prototype.readBigUInt64LE=Le(function(he){Me(he>>>=0,"offset");var xe=this[he],ke=this[he+7];xe!==void 0&&ke!==void 0||_e(he,this.length-8);var Re=xe+this[++he]*Math.pow(2,8)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,24),ze=this[++he]+this[++he]*Math.pow(2,8)+this[++he]*Math.pow(2,16)+ke*Math.pow(2,24);return BigInt(Re)+(BigInt(ze)<<BigInt(32))}),p.prototype.readBigUInt64BE=Le(function(he){Me(he>>>=0,"offset");var xe=this[he],ke=this[he+7];xe!==void 0&&ke!==void 0||_e(he,this.length-8);var Re=xe*Math.pow(2,24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+this[++he],ze=this[++he]*Math.pow(2,24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+ke;return(BigInt(Re)<<BigInt(32))+BigInt(ze)}),p.prototype.readIntLE=function(he,xe,ke){he>>>=0,xe>>>=0,ke||X(he,xe,this.length);for(var Re=this[he],ze=1,Ie=0;++Ie<xe&&(ze*=256);)Re+=this[he+Ie]*ze;return Re>=(ze*=128)&&(Re-=Math.pow(2,8*xe)),Re},p.prototype.readIntBE=function(he,xe,ke){he>>>=0,xe>>>=0,ke||X(he,xe,this.length);for(var Re=xe,ze=1,Ie=this[he+--Re];Re>0&&(ze*=256);)Ie+=this[he+--Re]*ze;return Ie>=(ze*=128)&&(Ie-=Math.pow(2,8*xe)),Ie},p.prototype.readInt8=function(he,xe){return he>>>=0,xe||X(he,1,this.length),128&this[he]?-1*(255-this[he]+1):this[he]},p.prototype.readInt16LE=function(he,xe){he>>>=0,xe||X(he,2,this.length);var ke=this[he]|this[he+1]<<8;return 32768&ke?4294901760|ke:ke},p.prototype.readInt16BE=function(he,xe){he>>>=0,xe||X(he,2,this.length);var ke=this[he+1]|this[he]<<8;return 32768&ke?4294901760|ke:ke},p.prototype.readInt32LE=function(he,xe){return he>>>=0,xe||X(he,4,this.length),this[he]|this[he+1]<<8|this[he+2]<<16|this[he+3]<<24},p.prototype.readInt32BE=function(he,xe){return he>>>=0,xe||X(he,4,this.length),this[he]<<24|this[he+1]<<16|this[he+2]<<8|this[he+3]},p.prototype.readBigInt64LE=Le(function(he){Me(he>>>=0,"offset");var xe=this[he],ke=this[he+7];xe!==void 0&&ke!==void 0||_e(he,this.length-8);var Re=this[he+4]+this[he+5]*Math.pow(2,8)+this[he+6]*Math.pow(2,16)+(ke<<24);return(BigInt(Re)<<BigInt(32))+BigInt(xe+this[++he]*Math.pow(2,8)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,24))}),p.prototype.readBigInt64BE=Le(function(he){Me(he>>>=0,"offset");var xe=this[he],ke=this[he+7];xe!==void 0&&ke!==void 0||_e(he,this.length-8);var Re=(xe<<24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+this[++he];return(BigInt(Re)<<BigInt(32))+BigInt(this[++he]*Math.pow(2,24)+this[++he]*Math.pow(2,16)+this[++he]*Math.pow(2,8)+ke)}),p.prototype.readFloatLE=function(he,xe){return he>>>=0,xe||X(he,4,this.length),d.read(this,he,!0,23,4)},p.prototype.readFloatBE=function(he,xe){return he>>>=0,xe||X(he,4,this.length),d.read(this,he,!1,23,4)},p.prototype.readDoubleLE=function(he,xe){return he>>>=0,xe||X(he,8,this.length),d.read(this,he,!0,52,8)},p.prototype.readDoubleBE=function(he,xe){return he>>>=0,xe||X(he,8,this.length),d.read(this,he,!1,52,8)},p.prototype.writeUintLE=p.prototype.writeUIntLE=function(he,xe,ke,Re){he=+he,xe>>>=0,ke>>>=0,Re||J(this,he,xe,ke,Math.pow(2,8*ke)-1,0);var ze=1,Ie=0;for(this[xe]=255&he;++Ie<ke&&(ze*=256);)this[xe+Ie]=he/ze&255;return xe+ke},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(he,xe,ke,Re){he=+he,xe>>>=0,ke>>>=0,Re||J(this,he,xe,ke,Math.pow(2,8*ke)-1,0);var ze=ke-1,Ie=1;for(this[xe+ze]=255&he;--ze>=0&&(Ie*=256);)this[xe+ze]=he/Ie&255;return xe+ke},p.prototype.writeUint8=p.prototype.writeUInt8=function(he,xe,ke){return he=+he,xe>>>=0,ke||J(this,he,xe,1,255,0),this[xe]=255&he,xe+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(he,xe,ke){return he=+he,xe>>>=0,ke||J(this,he,xe,2,65535,0),this[xe]=255&he,this[xe+1]=he>>>8,xe+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(he,xe,ke){return he=+he,xe>>>=0,ke||J(this,he,xe,2,65535,0),this[xe]=he>>>8,this[xe+1]=255&he,xe+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(he,xe,ke){return he=+he,xe>>>=0,ke||J(this,he,xe,4,4294967295,0),this[xe+3]=he>>>24,this[xe+2]=he>>>16,this[xe+1]=he>>>8,this[xe]=255&he,xe+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(he,xe,ke){return he=+he,xe>>>=0,ke||J(this,he,xe,4,4294967295,0),this[xe]=he>>>24,this[xe+1]=he>>>16,this[xe+2]=he>>>8,this[xe+3]=255&he,xe+4},p.prototype.writeBigUInt64LE=Le(function(he){return ne(this,he,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeBigUInt64BE=Le(function(he){return ie(this,he,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeIntLE=function(he,xe,ke,Re){if(he=+he,xe>>>=0,!Re){var ze=Math.pow(2,8*ke-1);J(this,he,xe,ke,ze-1,-ze)}var Ie=0,He=1,qe=0;for(this[xe]=255&he;++Ie<ke&&(He*=256);)he<0&&qe===0&&this[xe+Ie-1]!==0&&(qe=1),this[xe+Ie]=(he/He>>0)-qe&255;return xe+ke},p.prototype.writeIntBE=function(he,xe,ke,Re){if(he=+he,xe>>>=0,!Re){var ze=Math.pow(2,8*ke-1);J(this,he,xe,ke,ze-1,-ze)}var Ie=ke-1,He=1,qe=0;for(this[xe+Ie]=255&he;--Ie>=0&&(He*=256);)he<0&&qe===0&&this[xe+Ie+1]!==0&&(qe=1),this[xe+Ie]=(he/He>>0)-qe&255;return xe+ke},p.prototype.writeInt8=function(he,xe,ke){return he=+he,xe>>>=0,ke||J(this,he,xe,1,127,-128),he<0&&(he=255+he+1),this[xe]=255&he,xe+1},p.prototype.writeInt16LE=function(he,xe,ke){return he=+he,xe>>>=0,ke||J(this,he,xe,2,32767,-32768),this[xe]=255&he,this[xe+1]=he>>>8,xe+2},p.prototype.writeInt16BE=function(he,xe,ke){return he=+he,xe>>>=0,ke||J(this,he,xe,2,32767,-32768),this[xe]=he>>>8,this[xe+1]=255&he,xe+2},p.prototype.writeInt32LE=function(he,xe,ke){return he=+he,xe>>>=0,ke||J(this,he,xe,4,2147483647,-2147483648),this[xe]=255&he,this[xe+1]=he>>>8,this[xe+2]=he>>>16,this[xe+3]=he>>>24,xe+4},p.prototype.writeInt32BE=function(he,xe,ke){return he=+he,xe>>>=0,ke||J(this,he,xe,4,2147483647,-2147483648),he<0&&(he=4294967295+he+1),this[xe]=he>>>24,this[xe+1]=he>>>16,this[xe+2]=he>>>8,this[xe+3]=255&he,xe+4},p.prototype.writeBigInt64LE=Le(function(he){return ne(this,he,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeBigInt64BE=Le(function(he){return ie(this,he,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeFloatLE=function(he,xe,ke){return le(this,he,xe,!0,ke)},p.prototype.writeFloatBE=function(he,xe,ke){return le(this,he,xe,!1,ke)},p.prototype.writeDoubleLE=function(he,xe,ke){return ce(this,he,xe,!0,ke)},p.prototype.writeDoubleBE=function(he,xe,ke){return ce(this,he,xe,!1,ke)},p.prototype.copy=function(he,xe,ke,Re){if(!p.isBuffer(he))throw new TypeError("argument should be a Buffer");if(ke||(ke=0),Re||Re===0||(Re=this.length),xe>=he.length&&(xe=he.length),xe||(xe=0),Re>0&&Re<ke&&(Re=ke),Re===ke||he.length===0||this.length===0)return 0;if(xe<0)throw new RangeError("targetStart out of bounds");if(ke<0||ke>=this.length)throw new RangeError("Index out of range");if(Re<0)throw new RangeError("sourceEnd out of bounds");Re>this.length&&(Re=this.length),he.length-xe<Re-ke&&(Re=he.length-xe+ke);var ze=Re-ke;return this===he&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(xe,ke,Re):Uint8Array.prototype.set.call(he,this.subarray(ke,Re),xe),ze},p.prototype.fill=function(he,xe,ke,Re){if(typeof he=="string"){if(typeof xe=="string"?(Re=xe,xe=0,ke=this.length):typeof ke=="string"&&(Re=ke,ke=this.length),Re!==void 0&&typeof Re!="string")throw new TypeError("encoding must be a string");if(typeof Re=="string"&&!p.isEncoding(Re))throw new TypeError("Unknown encoding: "+Re);if(he.length===1){var ze=he.charCodeAt(0);(Re==="utf8"&&ze<128||Re==="latin1")&&(he=ze)}}else typeof he=="number"?he&=255:typeof he=="boolean"&&(he=Number(he));if(xe<0||this.length<xe||this.length<ke)throw new RangeError("Out of range index");if(ke<=xe)return this;var Ie;if(xe>>>=0,ke=ke===void 0?this.length:ke>>>0,he||(he=0),typeof he=="number")for(Ie=xe;Ie<ke;++Ie)this[Ie]=he;else{var He=p.isBuffer(he)?he:p.from(he,Re),qe=He.length;if(qe===0)throw new TypeError('The value "'+he+'" is invalid for argument "value"');for(Ie=0;Ie<ke-xe;++Ie)this[Ie+xe]=He[Ie%qe]}return this};var pe={};function ge(he,xe,ke){pe[he]=function(Re){(function(it,vt){if(typeof vt!="function"&&vt!==null)throw new TypeError("Super expression must either be null or a function");it.prototype=Object.create(vt&&vt.prototype,{constructor:{value:it,writable:!0,configurable:!0}}),Object.defineProperty(it,"prototype",{writable:!1}),vt&&n(it,vt)})(st,Re);var ze,Ie,He,qe,Je=(He=st,qe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var it,vt=s(He);if(qe){var _t=s(this).constructor;it=Reflect.construct(vt,arguments,_t)}else it=vt.apply(this,arguments);return function(xt,et){if(et&&(l(et)==="object"||typeof et=="function"))return et;if(et!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(xt)}(this,it)});function st(){var it;return function(vt,_t){if(!(vt instanceof _t))throw new TypeError("Cannot call a class as a function")}(this,st),it=Je.call(this),Object.defineProperty(r(it),"message",{value:xe.apply(r(it),arguments),writable:!0,configurable:!0}),it.name="".concat(it.name," [").concat(he,"]"),it.stack,delete it.name,it}return ze=st,(Ie=[{key:"code",get:function(){return he},set:function(it){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:it,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(he,"]: ").concat(this.message)}}])&&i(ze.prototype,Ie),Object.defineProperty(ze,"prototype",{writable:!1}),st}(ke)}function me(he){for(var xe="",ke=he.length,Re=he[0]==="-"?1:0;ke>=Re+4;ke-=3)xe="_".concat(he.slice(ke-3,ke)).concat(xe);return"".concat(he.slice(0,ke)).concat(xe)}function ve(he,xe,ke,Re,ze,Ie){if(he>ke||he<xe){var He,qe=typeof xe=="bigint"?"n":"";throw He=Ie>3?xe===0||xe===BigInt(0)?">= 0".concat(qe," and < 2").concat(qe," ** ").concat(8*(Ie+1)).concat(qe):">= -(2".concat(qe," ** ").concat(8*(Ie+1)-1).concat(qe,") and < 2 ** ")+"".concat(8*(Ie+1)-1).concat(qe):">= ".concat(xe).concat(qe," and <= ").concat(ke).concat(qe),new pe.ERR_OUT_OF_RANGE("value",He,he)}(function(Je,st,it){Me(st,"offset"),Je[st]!==void 0&&Je[st+it]!==void 0||_e(st,Je.length-(it+1))})(Re,ze,Ie)}function Me(he,xe){if(typeof he!="number")throw new pe.ERR_INVALID_ARG_TYPE(xe,"number",he)}function _e(he,xe,ke){throw Math.floor(he)!==he?(Me(he,ke),new pe.ERR_OUT_OF_RANGE(ke||"offset","an integer",he)):xe<0?new pe.ERR_BUFFER_OUT_OF_BOUNDS:new pe.ERR_OUT_OF_RANGE(ke||"offset",">= ".concat(ke?1:0," and <= ").concat(xe),he)}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(he){return he?"".concat(he," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(he,xe){return'The "'.concat(he,'" argument must be of type number. Received type ').concat(l(xe))},TypeError),ge("ERR_OUT_OF_RANGE",function(he,xe,ke){var Re='The value of "'.concat(he,'" is out of range.'),ze=ke;return Number.isInteger(ke)&&Math.abs(ke)>Math.pow(2,32)?ze=me(String(ke)):typeof ke=="bigint"&&(ze=String(ke),(ke>Math.pow(BigInt(2),BigInt(32))||ke<-Math.pow(BigInt(2),BigInt(32)))&&(ze=me(ze)),ze+="n"),Re+" It must be ".concat(xe,". Received ").concat(ze)},RangeError);var we=/[^+/0-9A-Za-z-_]/g;function oe(he,xe){var ke;xe=xe||1/0;for(var Re=he.length,ze=null,Ie=[],He=0;He<Re;++He){if((ke=he.charCodeAt(He))>55295&&ke<57344){if(!ze){if(ke>56319){(xe-=3)>-1&&Ie.push(239,191,189);continue}if(He+1===Re){(xe-=3)>-1&&Ie.push(239,191,189);continue}ze=ke;continue}if(ke<56320){(xe-=3)>-1&&Ie.push(239,191,189),ze=ke;continue}ke=65536+(ze-55296<<10|ke-56320)}else ze&&(xe-=3)>-1&&Ie.push(239,191,189);if(ze=null,ke<128){if((xe-=1)<0)break;Ie.push(ke)}else if(ke<2048){if((xe-=2)<0)break;Ie.push(ke>>6|192,63&ke|128)}else if(ke<65536){if((xe-=3)<0)break;Ie.push(ke>>12|224,ke>>6&63|128,63&ke|128)}else{if(!(ke<1114112))throw new Error("Invalid code point");if((xe-=4)<0)break;Ie.push(ke>>18|240,ke>>12&63|128,ke>>6&63|128,63&ke|128)}}return Ie}function se(he){return u.toByteArray(function(xe){if((xe=(xe=xe.split("=")[0]).trim().replace(we,"")).length<2)return"";for(;xe.length%4!=0;)xe+="=";return xe}(he))}function de(he,xe,ke,Re){var ze;for(ze=0;ze<Re&&!(ze+ke>=xe.length||ze>=he.length);++ze)xe[ze+ke]=he[ze];return ze}function Ee(he,xe){return he instanceof xe||he!=null&&he.constructor!=null&&he.constructor.name!=null&&he.constructor.name===xe.name}function Te(he){return he!=he}var Se=function(){for(var he="0123456789abcdef",xe=new Array(256),ke=0;ke<16;++ke)for(var Re=16*ke,ze=0;ze<16;++ze)xe[Re+ze]=he[ke]+he[ze];return xe}();function Le(he){return typeof BigInt>"u"?Oe:he}function Oe(){throw new Error("BigInt not supported")}},2321:function(h){h.exports=n,h.exports.isMobile=n,h.exports.default=n;var o=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,i=/android|ipad|playbook|silk/i;function n(r){r||(r={});var s=r.ua;if(s||typeof navigator>"u"||(s=navigator.userAgent),s&&s.headers&&typeof s.headers["user-agent"]=="string"&&(s=s.headers["user-agent"]),typeof s!="string")return!1;var l=o.test(s)&&!t.test(s)||!!r.tablet&&i.test(s);return!l&&r.tablet&&r.featureDetect&&navigator&&navigator.maxTouchPoints>1&&s.indexOf("Macintosh")!==-1&&s.indexOf("Safari")!==-1&&(l=!0),l}},3910:function(h,o){o.byteLength=function(d){var c=l(d),x=c[0],g=c[1];return 3*(x+g)/4-g},o.toByteArray=function(d){var c,x,g=l(d),p=g[0],v=g[1],y=new n(function(f,S,T){return 3*(S+T)/4-T}(0,p,v)),m=0,_=v>0?p-4:p;for(x=0;x<_;x+=4)c=i[d.charCodeAt(x)]<<18|i[d.charCodeAt(x+1)]<<12|i[d.charCodeAt(x+2)]<<6|i[d.charCodeAt(x+3)],y[m++]=c>>16&255,y[m++]=c>>8&255,y[m++]=255&c;return v===2&&(c=i[d.charCodeAt(x)]<<2|i[d.charCodeAt(x+1)]>>4,y[m++]=255&c),v===1&&(c=i[d.charCodeAt(x)]<<10|i[d.charCodeAt(x+1)]<<4|i[d.charCodeAt(x+2)]>>2,y[m++]=c>>8&255,y[m++]=255&c),y},o.fromByteArray=function(d){for(var c,x=d.length,g=x%3,p=[],v=16383,y=0,m=x-g;y<m;y+=v)p.push(u(d,y,y+v>m?m:y+v));return g===1?(c=d[x-1],p.push(t[c>>2]+t[c<<4&63]+"==")):g===2&&(c=(d[x-2]<<8)+d[x-1],p.push(t[c>>10]+t[c>>4&63]+t[c<<2&63]+"=")),p.join("")};for(var t=[],i=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)t[s]=r[s],i[r.charCodeAt(s)]=s;function l(d){var c=d.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=d.indexOf("=");return x===-1&&(x=c),[x,x===c?0:4-x%4]}function u(d,c,x){for(var g,p,v=[],y=c;y<x;y+=3)g=(d[y]<<16&16711680)+(d[y+1]<<8&65280)+(255&d[y+2]),v.push(t[(p=g)>>18&63]+t[p>>12&63]+t[p>>6&63]+t[63&p]);return v.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},3187:function(h,o){o.read=function(t,i,n,r,s){var l,u,d=8*s-r-1,c=(1<<d)-1,x=c>>1,g=-7,p=n?s-1:0,v=n?-1:1,y=t[i+p];for(p+=v,l=y&(1<<-g)-1,y>>=-g,g+=d;g>0;l=256*l+t[i+p],p+=v,g-=8);for(u=l&(1<<-g)-1,l>>=-g,g+=r;g>0;u=256*u+t[i+p],p+=v,g-=8);if(l===0)l=1-x;else{if(l===c)return u?NaN:1/0*(y?-1:1);u+=Math.pow(2,r),l-=x}return(y?-1:1)*u*Math.pow(2,l-r)},o.write=function(t,i,n,r,s,l){var u,d,c,x=8*l-s-1,g=(1<<x)-1,p=g>>1,v=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:l-1,m=r?1:-1,_=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(d=isNaN(i)?1:0,u=g):(u=Math.floor(Math.log(i)/Math.LN2),i*(c=Math.pow(2,-u))<1&&(u--,c*=2),(i+=u+p>=1?v/c:v*Math.pow(2,1-p))*c>=2&&(u++,c/=2),u+p>=g?(d=0,u=g):u+p>=1?(d=(i*c-1)*Math.pow(2,s),u+=p):(d=i*Math.pow(2,p-1)*Math.pow(2,s),u=0));s>=8;t[n+y]=255&d,y+=m,d/=256,s-=8);for(u=u<<s|d,x+=s;x>0;t[n+y]=255&u,y+=m,u/=256,x-=8);t[n+y-m]|=128*_}},1152:function(h,o,t){h.exports=function(u){var d=(u=u||{}).eye||[0,0,1],c=u.center||[0,0,0],x=u.up||[0,1,0],g=u.distanceLimits||[0,1/0],p=u.mode||"turntable",v=i(),y=n(),m=r();return v.setDistanceLimits(g[0],g[1]),v.lookAt(0,d,c,x),y.setDistanceLimits(g[0],g[1]),y.lookAt(0,d,c,x),m.setDistanceLimits(g[0],g[1]),m.lookAt(0,d,c,x),new s({turntable:v,orbit:y,matrix:m},p)};var i=t(3440),n=t(7774),r=t(9298);function s(u,d){this._controllerNames=Object.keys(u),this._controllerList=this._controllerNames.map(function(c){return u[c]}),this._mode=d,this._active=u[d],this._active||(this._mode="turntable",this._active=u.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var l=s.prototype;l.flush=function(u){for(var d=this._controllerList,c=0;c<d.length;++c)d[c].flush(u)},l.idle=function(u){for(var d=this._controllerList,c=0;c<d.length;++c)d[c].idle(u)},l.lookAt=function(u,d,c,x){for(var g=this._controllerList,p=0;p<g.length;++p)g[p].lookAt(u,d,c,x)},l.rotate=function(u,d,c,x){for(var g=this._controllerList,p=0;p<g.length;++p)g[p].rotate(u,d,c,x)},l.pan=function(u,d,c,x){for(var g=this._controllerList,p=0;p<g.length;++p)g[p].pan(u,d,c,x)},l.translate=function(u,d,c,x){for(var g=this._controllerList,p=0;p<g.length;++p)g[p].translate(u,d,c,x)},l.setMatrix=function(u,d){for(var c=this._controllerList,x=0;x<c.length;++x)c[x].setMatrix(u,d)},l.setDistanceLimits=function(u,d){for(var c=this._controllerList,x=0;x<c.length;++x)c[x].setDistanceLimits(u,d)},l.setDistance=function(u,d){for(var c=this._controllerList,x=0;x<c.length;++x)c[x].setDistance(u,d)},l.recalcMatrix=function(u){this._active.recalcMatrix(u)},l.getDistance=function(u){return this._active.getDistance(u)},l.getDistanceLimits=function(u){return this._active.getDistanceLimits(u)},l.lastT=function(){return this._active.lastT()},l.setMode=function(u){if(u!==this._mode){var d=this._controllerNames.indexOf(u);if(!(d<0)){var c=this._active,x=this._controllerList[d],g=Math.max(c.lastT(),x.lastT());c.recalcMatrix(g),x.setMatrix(g,c.computedMatrix),this._active=x,this._mode=u,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},l.getMode=function(){return this._mode}},8126:function(h,o,t){var i=typeof WeakMap>"u"?t(5346):WeakMap,n=t(5827),r=t(2944),s=new i;h.exports=function(l){var u=s.get(l),d=u&&(u._triangleBuffer.handle||u._triangleBuffer.buffer);if(!d||!l.isBuffer(d)){var c=n(l,new Float32Array([-1,-1,-1,4,4,-1]));(u=r(l,[{buffer:c,type:l.FLOAT,size:2}]))._triangleBuffer=c,s.set(l,u)}u.bind(),l.drawArrays(l.TRIANGLES,0,3),u.unbind()}},8008:function(h,o,t){var i=t(4930);h.exports=function(n,r,s){r=typeof r=="number"?r:1,s=s||": ";var l=n.split(/\r?\n/),u=String(l.length+r-1).length;return l.map(function(d,c){var x=c+r,g=String(x).length;return i(x,u-g)+s+d}).join(`
`)}},2153:function(h,o,t){h.exports=function(r){var s=r.length;if(s===0)return[];if(s===1)return[0];for(var l=r[0].length,u=[r[0]],d=[0],c=1;c<s;++c)if(u.push(r[c]),n(u,l)){if(d.push(c),d.length===l+1)return d}else u.pop();return d};var i=t(417);function n(r,s){for(var l=new Array(s+1),u=0;u<r.length;++u)l[u]=r[u];for(u=0;u<=r.length;++u){for(var d=r.length;d<=s;++d){for(var c=new Array(s),x=0;x<s;++x)c[x]=Math.pow(d+1-u,x);l[d]=c}if(i.apply(void 0,l))return!0}return!1}},4653:function(h,o,t){h.exports=function(r,s){return i(s).filter(function(l){for(var u=new Array(l.length),d=0;d<l.length;++d)u[d]=s[l[d]];return n(u)*r<1})};var i=t(4419),n=t(1778)},2350:function(h,o,t){h.exports=function(r,s){return n(i(r,s))};var i=t(4653),n=t(8691)},7896:function(h){h.exports=function(o){return atob(o)}},957:function(h,o,t){h.exports=function(r,s){for(var l=s.length,u=new Array(l+1),d=0;d<l;++d){for(var c=new Array(l+1),x=0;x<=l;++x)c[x]=r[x][d];u[d]=c}for(u[l]=new Array(l+1),d=0;d<=l;++d)u[l][d]=1;var g=new Array(l+1);for(d=0;d<l;++d)g[d]=s[d];g[l]=1;var p=i(u,g),v=n(p[l+1]);v===0&&(v=1);var y=new Array(l+1);for(d=0;d<=l;++d)y[d]=n(p[d])/v;return y};var i=t(6606);function n(r){for(var s=0,l=0;l<r.length;++l)s+=r[l];return s}},1539:function(h,o,t){var i=t(8524);h.exports=function(n,r){return i(n[0].mul(r[1]).add(r[0].mul(n[1])),n[1].mul(r[1]))}},8846:function(h){h.exports=function(o,t){return o[0].mul(t[1]).cmp(t[0].mul(o[1]))}},9189:function(h,o,t){var i=t(8524);h.exports=function(n,r){return i(n[0].mul(r[1]),n[1].mul(r[0]))}},5125:function(h,o,t){var i=t(234),n=t(3218),r=t(5514),s=t(2813),l=t(8524),u=t(9189);h.exports=function d(c,x){if(i(c))return x?u(c,d(x)):[c[0].clone(),c[1].clone()];var g,p,v=0;if(n(c))g=c.clone();else if(typeof c=="string")g=s(c);else{if(c===0)return[r(0),r(1)];if(c===Math.floor(c))g=r(c);else{for(;c!==Math.floor(c);)c*=Math.pow(2,256),v-=256;g=r(c)}}if(i(x))g.mul(x[1]),p=x[0].clone();else if(n(x))p=x.clone();else if(typeof x=="string")p=s(x);else if(x)if(x===Math.floor(x))p=r(x);else{for(;x!==Math.floor(x);)x*=Math.pow(2,256),v+=256;p=r(x)}else p=r(1);return v>0?g=g.ushln(v):v<0&&(p=p.ushln(-v)),l(g,p)}},234:function(h,o,t){var i=t(3218);h.exports=function(n){return Array.isArray(n)&&n.length===2&&i(n[0])&&i(n[1])}},4275:function(h,o,t){var i=t(1928);h.exports=function(n){return n.cmp(new i(0))}},9958:function(h,o,t){var i=t(4275);h.exports=function(n){var r=n.length,s=n.words,l=0;if(r===1)l=s[0];else if(r===2)l=s[0]+67108864*s[1];else for(var u=0;u<r;u++)l+=s[u]*Math.pow(67108864,u);return i(n)*l}},1112:function(h,o,t){var i=t(8362),n=t(2288).countTrailingZeros;h.exports=function(r){var s=n(i.lo(r));if(s<32)return s;var l=n(i.hi(r));return l>20?52:l+32}},3218:function(h,o,t){t(1928),h.exports=function(i){return i&&typeof i=="object"&&Boolean(i.words)}},5514:function(h,o,t){var i=t(1928),n=t(8362);h.exports=function(r){var s=n.exponent(r);return s<52?new i(r):new i(r*Math.pow(2,52-s)).ushln(s-52)}},8524:function(h,o,t){var i=t(5514),n=t(4275);h.exports=function(r,s){var l=n(r),u=n(s);if(l===0)return[i(0),i(1)];if(u===0)return[i(0),i(0)];u<0&&(r=r.neg(),s=s.neg());var d=r.gcd(s);return d.cmpn(1)?[r.div(d),s.div(d)]:[r,s]}},2813:function(h,o,t){var i=t(1928);h.exports=function(n){return new i(n)}},3962:function(h,o,t){var i=t(8524);h.exports=function(n,r){return i(n[0].mul(r[0]),n[1].mul(r[1]))}},4951:function(h,o,t){var i=t(4275);h.exports=function(n){return i(n[0])*i(n[1])}},4354:function(h,o,t){var i=t(8524);h.exports=function(n,r){return i(n[0].mul(r[1]).sub(n[1].mul(r[0])),n[1].mul(r[1]))}},7999:function(h,o,t){var i=t(9958),n=t(1112);h.exports=function(r){var s=r[0],l=r[1];if(s.cmpn(0)===0)return 0;var u=s.abs().divmod(l.abs()),d=u.div,c=i(d),x=u.mod,g=s.negative!==l.negative?-1:1;if(x.cmpn(0)===0)return g*c;if(c){var p=n(c)+4;return g*(c+(y=i(x.ushln(p).divRound(l)))*Math.pow(2,-p))}var v=l.bitLength()-x.bitLength()+53,y=i(x.ushln(v).divRound(l));return v<1023?g*y*Math.pow(2,-v):g*(y*=Math.pow(2,-1023))*Math.pow(2,1023-v)}},5070:function(h){function o(l,u,d,c,x){for(var g=x+1;c<=x;){var p=c+x>>>1,v=l[p];(d!==void 0?d(v,u):v-u)>=0?(g=p,x=p-1):c=p+1}return g}function t(l,u,d,c,x){for(var g=x+1;c<=x;){var p=c+x>>>1,v=l[p];(d!==void 0?d(v,u):v-u)>0?(g=p,x=p-1):c=p+1}return g}function i(l,u,d,c,x){for(var g=c-1;c<=x;){var p=c+x>>>1,v=l[p];(d!==void 0?d(v,u):v-u)<0?(g=p,c=p+1):x=p-1}return g}function n(l,u,d,c,x){for(var g=c-1;c<=x;){var p=c+x>>>1,v=l[p];(d!==void 0?d(v,u):v-u)<=0?(g=p,c=p+1):x=p-1}return g}function r(l,u,d,c,x){for(;c<=x;){var g=c+x>>>1,p=l[g],v=d!==void 0?d(p,u):p-u;if(v===0)return g;v<=0?c=g+1:x=g-1}return-1}function s(l,u,d,c,x,g){return typeof d=="function"?g(l,u,d,c===void 0?0:0|c,x===void 0?l.length-1:0|x):g(l,u,void 0,d===void 0?0:0|d,c===void 0?l.length-1:0|c)}h.exports={ge:function(l,u,d,c,x){return s(l,u,d,c,x,o)},gt:function(l,u,d,c,x){return s(l,u,d,c,x,t)},lt:function(l,u,d,c,x){return s(l,u,d,c,x,i)},le:function(l,u,d,c,x){return s(l,u,d,c,x,n)},eq:function(l,u,d,c,x){return s(l,u,d,c,x,r)}}},2288:function(h,o){function t(n){var r=32;return(n&=-n)&&r--,65535&n&&(r-=16),16711935&n&&(r-=8),252645135&n&&(r-=4),858993459&n&&(r-=2),1431655765&n&&(r-=1),r}o.INT_BITS=32,o.INT_MAX=2147483647,o.INT_MIN=-2147483648,o.sign=function(n){return(n>0)-(n<0)},o.abs=function(n){var r=n>>31;return(n^r)-r},o.min=function(n,r){return r^(n^r)&-(n<r)},o.max=function(n,r){return n^(n^r)&-(n<r)},o.isPow2=function(n){return!(n&n-1||!n)},o.log2=function(n){var r,s;return r=(n>65535)<<4,r|=s=((n>>>=r)>255)<<3,r|=s=((n>>>=s)>15)<<2,(r|=s=((n>>>=s)>3)<<1)|(n>>>=s)>>1},o.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},o.popCount=function(n){return 16843009*((n=(858993459&(n-=n>>>1&1431655765))+(n>>>2&858993459))+(n>>>4)&252645135)>>>24},o.countTrailingZeros=t,o.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,1+((n|=n>>>8)|n>>>16)},o.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,(n|=n>>>16)-(n>>>1)},o.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,27030>>>(n&=15)&1};var i=new Array(256);(function(n){for(var r=0;r<256;++r){var s=r,l=r,u=7;for(s>>>=1;s;s>>>=1)l<<=1,l|=1&s,--u;n[r]=l<<u&255}})(i),o.reverse=function(n){return i[255&n]<<24|i[n>>>8&255]<<16|i[n>>>16&255]<<8|i[n>>>24&255]},o.interleave2=function(n,r){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))<<1},o.deinterleave2=function(n,r){return(n=65535&((n=16711935&((n=252645135&((n=858993459&((n=n>>>r&1431655765)|n>>>1))|n>>>2))|n>>>4))|n>>>16))<<16>>16},o.interleave3=function(n,r,s){return n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2),(n|=(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<1)|(s=1227133513&((s=3272356035&((s=251719695&((s=4278190335&((s&=1023)|s<<16))|s<<8))|s<<4))|s<<2))<<2},o.deinterleave3=function(n,r){return(n=1023&((n=4278190335&((n=251719695&((n=3272356035&((n=n>>>r&1227133513)|n>>>2))|n>>>4))|n>>>8))|n>>>16))<<22>>22},o.nextCombination=function(n){var r=n|n-1;return r+1|(~r&-~r)-1>>>t(n)+1}},1928:function(h,o,t){(function(i,n){function r(D,B){if(!D)throw new Error(B||"Assertion failed")}function s(D,B){D.super_=B;var Z=function(){};Z.prototype=B.prototype,D.prototype=new Z,D.prototype.constructor=D}function l(D,B,Z){if(l.isBN(D))return D;this.negative=0,this.words=null,this.length=0,this.red=null,D!==null&&(B!=="le"&&B!=="be"||(Z=B,B=10),this._init(D||0,B||10,Z||"be"))}var u;typeof i=="object"?i.exports=l:n.BN=l,l.BN=l,l.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t(6601).Buffer}catch{}function d(D,B){var Z=D.charCodeAt(B);return Z>=65&&Z<=70?Z-55:Z>=97&&Z<=102?Z-87:Z-48&15}function c(D,B,Z){var F=d(D,Z);return Z-1>=B&&(F|=d(D,Z-1)<<4),F}function x(D,B,Z,F){for(var j=0,V=Math.min(D.length,Z),te=B;te<V;te++){var Q=D.charCodeAt(te)-48;j*=F,j+=Q>=49?Q-49+10:Q>=17?Q-17+10:Q}return j}l.isBN=function(D){return D instanceof l||D!==null&&typeof D=="object"&&D.constructor.wordSize===l.wordSize&&Array.isArray(D.words)},l.max=function(D,B){return D.cmp(B)>0?D:B},l.min=function(D,B){return D.cmp(B)<0?D:B},l.prototype._init=function(D,B,Z){if(typeof D=="number")return this._initNumber(D,B,Z);if(typeof D=="object")return this._initArray(D,B,Z);B==="hex"&&(B=16),r(B===(0|B)&&B>=2&&B<=36);var F=0;(D=D.toString().replace(/\s+/g,""))[0]==="-"&&(F++,this.negative=1),F<D.length&&(B===16?this._parseHex(D,F,Z):(this._parseBase(D,B,F),Z==="le"&&this._initArray(this.toArray(),B,Z)))},l.prototype._initNumber=function(D,B,Z){D<0&&(this.negative=1,D=-D),D<67108864?(this.words=[67108863&D],this.length=1):D<4503599627370496?(this.words=[67108863&D,D/67108864&67108863],this.length=2):(r(D<9007199254740992),this.words=[67108863&D,D/67108864&67108863,1],this.length=3),Z==="le"&&this._initArray(this.toArray(),B,Z)},l.prototype._initArray=function(D,B,Z){if(r(typeof D.length=="number"),D.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(D.length/3),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var j,V,te=0;if(Z==="be")for(F=D.length-1,j=0;F>=0;F-=3)V=D[F]|D[F-1]<<8|D[F-2]<<16,this.words[j]|=V<<te&67108863,this.words[j+1]=V>>>26-te&67108863,(te+=24)>=26&&(te-=26,j++);else if(Z==="le")for(F=0,j=0;F<D.length;F+=3)V=D[F]|D[F+1]<<8|D[F+2]<<16,this.words[j]|=V<<te&67108863,this.words[j+1]=V>>>26-te&67108863,(te+=24)>=26&&(te-=26,j++);return this.strip()},l.prototype._parseHex=function(D,B,Z){this.length=Math.ceil((D.length-B)/6),this.words=new Array(this.length);for(var F=0;F<this.length;F++)this.words[F]=0;var j,V=0,te=0;if(Z==="be")for(F=D.length-1;F>=B;F-=2)j=c(D,B,F)<<V,this.words[te]|=67108863&j,V>=18?(V-=18,te+=1,this.words[te]|=j>>>26):V+=8;else for(F=(D.length-B)%2==0?B+1:B;F<D.length;F+=2)j=c(D,B,F)<<V,this.words[te]|=67108863&j,V>=18?(V-=18,te+=1,this.words[te]|=j>>>26):V+=8;this.strip()},l.prototype._parseBase=function(D,B,Z){this.words=[0],this.length=1;for(var F=0,j=1;j<=67108863;j*=B)F++;F--,j=j/B|0;for(var V=D.length-Z,te=V%F,Q=Math.min(V,V-te)+Z,$=0,G=Z;G<Q;G+=F)$=x(D,G,G+F,B),this.imuln(j),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($);if(te!==0){var X=1;for($=x(D,G,D.length,B),G=0;G<te;G++)X*=B;this.imuln(X),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($)}this.strip()},l.prototype.copy=function(D){D.words=new Array(this.length);for(var B=0;B<this.length;B++)D.words[B]=this.words[B];D.length=this.length,D.negative=this.negative,D.red=this.red},l.prototype.clone=function(){var D=new l(null);return this.copy(D),D},l.prototype._expand=function(D){for(;this.length<D;)this.words[this.length++]=0;return this},l.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},l.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(D,B,Z){Z.negative=B.negative^D.negative;var F=D.length+B.length|0;Z.length=F,F=F-1|0;var j=0|D.words[0],V=0|B.words[0],te=j*V,Q=67108863&te,$=te/67108864|0;Z.words[0]=Q;for(var G=1;G<F;G++){for(var X=$>>>26,J=67108863&$,ne=Math.min(G,B.length-1),ie=Math.max(0,G-D.length+1);ie<=ne;ie++){var ae=G-ie|0;X+=(te=(j=0|D.words[ae])*(V=0|B.words[ie])+J)/67108864|0,J=67108863&te}Z.words[G]=0|J,$=0|X}return $!==0?Z.words[G]=0|$:Z.length--,Z.strip()}l.prototype.toString=function(D,B){var Z;if(B=0|B||1,(D=D||10)===16||D==="hex"){Z="";for(var F=0,j=0,V=0;V<this.length;V++){var te=this.words[V],Q=(16777215&(te<<F|j)).toString(16);Z=(j=te>>>24-F&16777215)!=0||V!==this.length-1?g[6-Q.length]+Q+Z:Q+Z,(F+=2)>=26&&(F-=26,V--)}for(j!==0&&(Z=j.toString(16)+Z);Z.length%B!=0;)Z="0"+Z;return this.negative!==0&&(Z="-"+Z),Z}if(D===(0|D)&&D>=2&&D<=36){var $=p[D],G=v[D];Z="";var X=this.clone();for(X.negative=0;!X.isZero();){var J=X.modn(G).toString(D);Z=(X=X.idivn(G)).isZero()?J+Z:g[$-J.length]+J+Z}for(this.isZero()&&(Z="0"+Z);Z.length%B!=0;)Z="0"+Z;return this.negative!==0&&(Z="-"+Z),Z}r(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var D=this.words[0];return this.length===2?D+=67108864*this.words[1]:this.length===3&&this.words[2]===1?D+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-D:D},l.prototype.toJSON=function(){return this.toString(16)},l.prototype.toBuffer=function(D,B){return r(u!==void 0),this.toArrayLike(u,D,B)},l.prototype.toArray=function(D,B){return this.toArrayLike(Array,D,B)},l.prototype.toArrayLike=function(D,B,Z){var F=this.byteLength(),j=Z||Math.max(1,F);r(F<=j,"byte array longer than desired length"),r(j>0,"Requested array length <= 0"),this.strip();var V,te,Q=B==="le",$=new D(j),G=this.clone();if(Q){for(te=0;!G.isZero();te++)V=G.andln(255),G.iushrn(8),$[te]=V;for(;te<j;te++)$[te]=0}else{for(te=0;te<j-F;te++)$[te]=0;for(te=0;!G.isZero();te++)V=G.andln(255),G.iushrn(8),$[j-te-1]=V}return $},Math.clz32?l.prototype._countBits=function(D){return 32-Math.clz32(D)}:l.prototype._countBits=function(D){var B=D,Z=0;return B>=4096&&(Z+=13,B>>>=13),B>=64&&(Z+=7,B>>>=7),B>=8&&(Z+=4,B>>>=4),B>=2&&(Z+=2,B>>>=2),Z+B},l.prototype._zeroBits=function(D){if(D===0)return 26;var B=D,Z=0;return(8191&B)==0&&(Z+=13,B>>>=13),(127&B)==0&&(Z+=7,B>>>=7),(15&B)==0&&(Z+=4,B>>>=4),(3&B)==0&&(Z+=2,B>>>=2),(1&B)==0&&Z++,Z},l.prototype.bitLength=function(){var D=this.words[this.length-1],B=this._countBits(D);return 26*(this.length-1)+B},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var D=0,B=0;B<this.length;B++){var Z=this._zeroBits(this.words[B]);if(D+=Z,Z!==26)break}return D},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(D){return this.negative!==0?this.abs().inotn(D).iaddn(1):this.clone()},l.prototype.fromTwos=function(D){return this.testn(D-1)?this.notn(D).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(D){for(;this.length<D.length;)this.words[this.length++]=0;for(var B=0;B<D.length;B++)this.words[B]=this.words[B]|D.words[B];return this.strip()},l.prototype.ior=function(D){return r((this.negative|D.negative)==0),this.iuor(D)},l.prototype.or=function(D){return this.length>D.length?this.clone().ior(D):D.clone().ior(this)},l.prototype.uor=function(D){return this.length>D.length?this.clone().iuor(D):D.clone().iuor(this)},l.prototype.iuand=function(D){var B;B=this.length>D.length?D:this;for(var Z=0;Z<B.length;Z++)this.words[Z]=this.words[Z]&D.words[Z];return this.length=B.length,this.strip()},l.prototype.iand=function(D){return r((this.negative|D.negative)==0),this.iuand(D)},l.prototype.and=function(D){return this.length>D.length?this.clone().iand(D):D.clone().iand(this)},l.prototype.uand=function(D){return this.length>D.length?this.clone().iuand(D):D.clone().iuand(this)},l.prototype.iuxor=function(D){var B,Z;this.length>D.length?(B=this,Z=D):(B=D,Z=this);for(var F=0;F<Z.length;F++)this.words[F]=B.words[F]^Z.words[F];if(this!==B)for(;F<B.length;F++)this.words[F]=B.words[F];return this.length=B.length,this.strip()},l.prototype.ixor=function(D){return r((this.negative|D.negative)==0),this.iuxor(D)},l.prototype.xor=function(D){return this.length>D.length?this.clone().ixor(D):D.clone().ixor(this)},l.prototype.uxor=function(D){return this.length>D.length?this.clone().iuxor(D):D.clone().iuxor(this)},l.prototype.inotn=function(D){r(typeof D=="number"&&D>=0);var B=0|Math.ceil(D/26),Z=D%26;this._expand(B),Z>0&&B--;for(var F=0;F<B;F++)this.words[F]=67108863&~this.words[F];return Z>0&&(this.words[F]=~this.words[F]&67108863>>26-Z),this.strip()},l.prototype.notn=function(D){return this.clone().inotn(D)},l.prototype.setn=function(D,B){r(typeof D=="number"&&D>=0);var Z=D/26|0,F=D%26;return this._expand(Z+1),this.words[Z]=B?this.words[Z]|1<<F:this.words[Z]&~(1<<F),this.strip()},l.prototype.iadd=function(D){var B,Z,F;if(this.negative!==0&&D.negative===0)return this.negative=0,B=this.isub(D),this.negative^=1,this._normSign();if(this.negative===0&&D.negative!==0)return D.negative=0,B=this.isub(D),D.negative=1,B._normSign();this.length>D.length?(Z=this,F=D):(Z=D,F=this);for(var j=0,V=0;V<F.length;V++)B=(0|Z.words[V])+(0|F.words[V])+j,this.words[V]=67108863&B,j=B>>>26;for(;j!==0&&V<Z.length;V++)B=(0|Z.words[V])+j,this.words[V]=67108863&B,j=B>>>26;if(this.length=Z.length,j!==0)this.words[this.length]=j,this.length++;else if(Z!==this)for(;V<Z.length;V++)this.words[V]=Z.words[V];return this},l.prototype.add=function(D){var B;return D.negative!==0&&this.negative===0?(D.negative=0,B=this.sub(D),D.negative^=1,B):D.negative===0&&this.negative!==0?(this.negative=0,B=D.sub(this),this.negative=1,B):this.length>D.length?this.clone().iadd(D):D.clone().iadd(this)},l.prototype.isub=function(D){if(D.negative!==0){D.negative=0;var B=this.iadd(D);return D.negative=1,B._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(D),this.negative=1,this._normSign();var Z,F,j=this.cmp(D);if(j===0)return this.negative=0,this.length=1,this.words[0]=0,this;j>0?(Z=this,F=D):(Z=D,F=this);for(var V=0,te=0;te<F.length;te++)V=(B=(0|Z.words[te])-(0|F.words[te])+V)>>26,this.words[te]=67108863&B;for(;V!==0&&te<Z.length;te++)V=(B=(0|Z.words[te])+V)>>26,this.words[te]=67108863&B;if(V===0&&te<Z.length&&Z!==this)for(;te<Z.length;te++)this.words[te]=Z.words[te];return this.length=Math.max(this.length,te),Z!==this&&(this.negative=1),this.strip()},l.prototype.sub=function(D){return this.clone().isub(D)};var m=function(D,B,Z){var F,j,V,te=D.words,Q=B.words,$=Z.words,G=0,X=0|te[0],J=8191&X,ne=X>>>13,ie=0|te[1],ae=8191&ie,le=ie>>>13,ce=0|te[2],pe=8191&ce,ge=ce>>>13,me=0|te[3],ve=8191&me,Me=me>>>13,_e=0|te[4],we=8191&_e,oe=_e>>>13,se=0|te[5],de=8191&se,Ee=se>>>13,Te=0|te[6],Se=8191&Te,Le=Te>>>13,Oe=0|te[7],he=8191&Oe,xe=Oe>>>13,ke=0|te[8],Re=8191&ke,ze=ke>>>13,Ie=0|te[9],He=8191&Ie,qe=Ie>>>13,Je=0|Q[0],st=8191&Je,it=Je>>>13,vt=0|Q[1],_t=8191&vt,xt=vt>>>13,et=0|Q[2],nt=8191&et,Mt=et>>>13,zt=0|Q[3],Ft=8191&zt,Rt=zt>>>13,We=0|Q[4],Ze=8191&We,Ne=We>>>13,Ye=0|Q[5],lt=8191&Ye,at=Ye>>>13,Fe=0|Q[6],Be=8191&Fe,ot=Fe>>>13,Xe=0|Q[7],pt=8191&Xe,mt=Xe>>>13,yt=0|Q[8],ht=8191&yt,Lt=yt>>>13,Tt=0|Q[9],bt=8191&Tt,Pt=Tt>>>13;Z.negative=D.negative^B.negative,Z.length=19;var Ot=(G+(F=Math.imul(J,st))|0)+((8191&(j=(j=Math.imul(J,it))+Math.imul(ne,st)|0))<<13)|0;G=((V=Math.imul(ne,it))+(j>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,F=Math.imul(ae,st),j=(j=Math.imul(ae,it))+Math.imul(le,st)|0,V=Math.imul(le,it);var Bt=(G+(F=F+Math.imul(J,_t)|0)|0)+((8191&(j=(j=j+Math.imul(J,xt)|0)+Math.imul(ne,_t)|0))<<13)|0;G=((V=V+Math.imul(ne,xt)|0)+(j>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,F=Math.imul(pe,st),j=(j=Math.imul(pe,it))+Math.imul(ge,st)|0,V=Math.imul(ge,it),F=F+Math.imul(ae,_t)|0,j=(j=j+Math.imul(ae,xt)|0)+Math.imul(le,_t)|0,V=V+Math.imul(le,xt)|0;var Kt=(G+(F=F+Math.imul(J,nt)|0)|0)+((8191&(j=(j=j+Math.imul(J,Mt)|0)+Math.imul(ne,nt)|0))<<13)|0;G=((V=V+Math.imul(ne,Mt)|0)+(j>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,F=Math.imul(ve,st),j=(j=Math.imul(ve,it))+Math.imul(Me,st)|0,V=Math.imul(Me,it),F=F+Math.imul(pe,_t)|0,j=(j=j+Math.imul(pe,xt)|0)+Math.imul(ge,_t)|0,V=V+Math.imul(ge,xt)|0,F=F+Math.imul(ae,nt)|0,j=(j=j+Math.imul(ae,Mt)|0)+Math.imul(le,nt)|0,V=V+Math.imul(le,Mt)|0;var on=(G+(F=F+Math.imul(J,Ft)|0)|0)+((8191&(j=(j=j+Math.imul(J,Rt)|0)+Math.imul(ne,Ft)|0))<<13)|0;G=((V=V+Math.imul(ne,Rt)|0)+(j>>>13)|0)+(on>>>26)|0,on&=67108863,F=Math.imul(we,st),j=(j=Math.imul(we,it))+Math.imul(oe,st)|0,V=Math.imul(oe,it),F=F+Math.imul(ve,_t)|0,j=(j=j+Math.imul(ve,xt)|0)+Math.imul(Me,_t)|0,V=V+Math.imul(Me,xt)|0,F=F+Math.imul(pe,nt)|0,j=(j=j+Math.imul(pe,Mt)|0)+Math.imul(ge,nt)|0,V=V+Math.imul(ge,Mt)|0,F=F+Math.imul(ae,Ft)|0,j=(j=j+Math.imul(ae,Rt)|0)+Math.imul(le,Ft)|0,V=V+Math.imul(le,Rt)|0;var qt=(G+(F=F+Math.imul(J,Ze)|0)|0)+((8191&(j=(j=j+Math.imul(J,Ne)|0)+Math.imul(ne,Ze)|0))<<13)|0;G=((V=V+Math.imul(ne,Ne)|0)+(j>>>13)|0)+(qt>>>26)|0,qt&=67108863,F=Math.imul(de,st),j=(j=Math.imul(de,it))+Math.imul(Ee,st)|0,V=Math.imul(Ee,it),F=F+Math.imul(we,_t)|0,j=(j=j+Math.imul(we,xt)|0)+Math.imul(oe,_t)|0,V=V+Math.imul(oe,xt)|0,F=F+Math.imul(ve,nt)|0,j=(j=j+Math.imul(ve,Mt)|0)+Math.imul(Me,nt)|0,V=V+Math.imul(Me,Mt)|0,F=F+Math.imul(pe,Ft)|0,j=(j=j+Math.imul(pe,Rt)|0)+Math.imul(ge,Ft)|0,V=V+Math.imul(ge,Rt)|0,F=F+Math.imul(ae,Ze)|0,j=(j=j+Math.imul(ae,Ne)|0)+Math.imul(le,Ze)|0,V=V+Math.imul(le,Ne)|0;var Wt=(G+(F=F+Math.imul(J,lt)|0)|0)+((8191&(j=(j=j+Math.imul(J,at)|0)+Math.imul(ne,lt)|0))<<13)|0;G=((V=V+Math.imul(ne,at)|0)+(j>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,F=Math.imul(Se,st),j=(j=Math.imul(Se,it))+Math.imul(Le,st)|0,V=Math.imul(Le,it),F=F+Math.imul(de,_t)|0,j=(j=j+Math.imul(de,xt)|0)+Math.imul(Ee,_t)|0,V=V+Math.imul(Ee,xt)|0,F=F+Math.imul(we,nt)|0,j=(j=j+Math.imul(we,Mt)|0)+Math.imul(oe,nt)|0,V=V+Math.imul(oe,Mt)|0,F=F+Math.imul(ve,Ft)|0,j=(j=j+Math.imul(ve,Rt)|0)+Math.imul(Me,Ft)|0,V=V+Math.imul(Me,Rt)|0,F=F+Math.imul(pe,Ze)|0,j=(j=j+Math.imul(pe,Ne)|0)+Math.imul(ge,Ze)|0,V=V+Math.imul(ge,Ne)|0,F=F+Math.imul(ae,lt)|0,j=(j=j+Math.imul(ae,at)|0)+Math.imul(le,lt)|0,V=V+Math.imul(le,at)|0;var nn=(G+(F=F+Math.imul(J,Be)|0)|0)+((8191&(j=(j=j+Math.imul(J,ot)|0)+Math.imul(ne,Be)|0))<<13)|0;G=((V=V+Math.imul(ne,ot)|0)+(j>>>13)|0)+(nn>>>26)|0,nn&=67108863,F=Math.imul(he,st),j=(j=Math.imul(he,it))+Math.imul(xe,st)|0,V=Math.imul(xe,it),F=F+Math.imul(Se,_t)|0,j=(j=j+Math.imul(Se,xt)|0)+Math.imul(Le,_t)|0,V=V+Math.imul(Le,xt)|0,F=F+Math.imul(de,nt)|0,j=(j=j+Math.imul(de,Mt)|0)+Math.imul(Ee,nt)|0,V=V+Math.imul(Ee,Mt)|0,F=F+Math.imul(we,Ft)|0,j=(j=j+Math.imul(we,Rt)|0)+Math.imul(oe,Ft)|0,V=V+Math.imul(oe,Rt)|0,F=F+Math.imul(ve,Ze)|0,j=(j=j+Math.imul(ve,Ne)|0)+Math.imul(Me,Ze)|0,V=V+Math.imul(Me,Ne)|0,F=F+Math.imul(pe,lt)|0,j=(j=j+Math.imul(pe,at)|0)+Math.imul(ge,lt)|0,V=V+Math.imul(ge,at)|0,F=F+Math.imul(ae,Be)|0,j=(j=j+Math.imul(ae,ot)|0)+Math.imul(le,Be)|0,V=V+Math.imul(le,ot)|0;var En=(G+(F=F+Math.imul(J,pt)|0)|0)+((8191&(j=(j=j+Math.imul(J,mt)|0)+Math.imul(ne,pt)|0))<<13)|0;G=((V=V+Math.imul(ne,mt)|0)+(j>>>13)|0)+(En>>>26)|0,En&=67108863,F=Math.imul(Re,st),j=(j=Math.imul(Re,it))+Math.imul(ze,st)|0,V=Math.imul(ze,it),F=F+Math.imul(he,_t)|0,j=(j=j+Math.imul(he,xt)|0)+Math.imul(xe,_t)|0,V=V+Math.imul(xe,xt)|0,F=F+Math.imul(Se,nt)|0,j=(j=j+Math.imul(Se,Mt)|0)+Math.imul(Le,nt)|0,V=V+Math.imul(Le,Mt)|0,F=F+Math.imul(de,Ft)|0,j=(j=j+Math.imul(de,Rt)|0)+Math.imul(Ee,Ft)|0,V=V+Math.imul(Ee,Rt)|0,F=F+Math.imul(we,Ze)|0,j=(j=j+Math.imul(we,Ne)|0)+Math.imul(oe,Ze)|0,V=V+Math.imul(oe,Ne)|0,F=F+Math.imul(ve,lt)|0,j=(j=j+Math.imul(ve,at)|0)+Math.imul(Me,lt)|0,V=V+Math.imul(Me,at)|0,F=F+Math.imul(pe,Be)|0,j=(j=j+Math.imul(pe,ot)|0)+Math.imul(ge,Be)|0,V=V+Math.imul(ge,ot)|0,F=F+Math.imul(ae,pt)|0,j=(j=j+Math.imul(ae,mt)|0)+Math.imul(le,pt)|0,V=V+Math.imul(le,mt)|0;var Mn=(G+(F=F+Math.imul(J,ht)|0)|0)+((8191&(j=(j=j+Math.imul(J,Lt)|0)+Math.imul(ne,ht)|0))<<13)|0;G=((V=V+Math.imul(ne,Lt)|0)+(j>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,F=Math.imul(He,st),j=(j=Math.imul(He,it))+Math.imul(qe,st)|0,V=Math.imul(qe,it),F=F+Math.imul(Re,_t)|0,j=(j=j+Math.imul(Re,xt)|0)+Math.imul(ze,_t)|0,V=V+Math.imul(ze,xt)|0,F=F+Math.imul(he,nt)|0,j=(j=j+Math.imul(he,Mt)|0)+Math.imul(xe,nt)|0,V=V+Math.imul(xe,Mt)|0,F=F+Math.imul(Se,Ft)|0,j=(j=j+Math.imul(Se,Rt)|0)+Math.imul(Le,Ft)|0,V=V+Math.imul(Le,Rt)|0,F=F+Math.imul(de,Ze)|0,j=(j=j+Math.imul(de,Ne)|0)+Math.imul(Ee,Ze)|0,V=V+Math.imul(Ee,Ne)|0,F=F+Math.imul(we,lt)|0,j=(j=j+Math.imul(we,at)|0)+Math.imul(oe,lt)|0,V=V+Math.imul(oe,at)|0,F=F+Math.imul(ve,Be)|0,j=(j=j+Math.imul(ve,ot)|0)+Math.imul(Me,Be)|0,V=V+Math.imul(Me,ot)|0,F=F+Math.imul(pe,pt)|0,j=(j=j+Math.imul(pe,mt)|0)+Math.imul(ge,pt)|0,V=V+Math.imul(ge,mt)|0,F=F+Math.imul(ae,ht)|0,j=(j=j+Math.imul(ae,Lt)|0)+Math.imul(le,ht)|0,V=V+Math.imul(le,Lt)|0;var dn=(G+(F=F+Math.imul(J,bt)|0)|0)+((8191&(j=(j=j+Math.imul(J,Pt)|0)+Math.imul(ne,bt)|0))<<13)|0;G=((V=V+Math.imul(ne,Pt)|0)+(j>>>13)|0)+(dn>>>26)|0,dn&=67108863,F=Math.imul(He,_t),j=(j=Math.imul(He,xt))+Math.imul(qe,_t)|0,V=Math.imul(qe,xt),F=F+Math.imul(Re,nt)|0,j=(j=j+Math.imul(Re,Mt)|0)+Math.imul(ze,nt)|0,V=V+Math.imul(ze,Mt)|0,F=F+Math.imul(he,Ft)|0,j=(j=j+Math.imul(he,Rt)|0)+Math.imul(xe,Ft)|0,V=V+Math.imul(xe,Rt)|0,F=F+Math.imul(Se,Ze)|0,j=(j=j+Math.imul(Se,Ne)|0)+Math.imul(Le,Ze)|0,V=V+Math.imul(Le,Ne)|0,F=F+Math.imul(de,lt)|0,j=(j=j+Math.imul(de,at)|0)+Math.imul(Ee,lt)|0,V=V+Math.imul(Ee,at)|0,F=F+Math.imul(we,Be)|0,j=(j=j+Math.imul(we,ot)|0)+Math.imul(oe,Be)|0,V=V+Math.imul(oe,ot)|0,F=F+Math.imul(ve,pt)|0,j=(j=j+Math.imul(ve,mt)|0)+Math.imul(Me,pt)|0,V=V+Math.imul(Me,mt)|0,F=F+Math.imul(pe,ht)|0,j=(j=j+Math.imul(pe,Lt)|0)+Math.imul(ge,ht)|0,V=V+Math.imul(ge,Lt)|0;var Jt=(G+(F=F+Math.imul(ae,bt)|0)|0)+((8191&(j=(j=j+Math.imul(ae,Pt)|0)+Math.imul(le,bt)|0))<<13)|0;G=((V=V+Math.imul(le,Pt)|0)+(j>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,F=Math.imul(He,nt),j=(j=Math.imul(He,Mt))+Math.imul(qe,nt)|0,V=Math.imul(qe,Mt),F=F+Math.imul(Re,Ft)|0,j=(j=j+Math.imul(Re,Rt)|0)+Math.imul(ze,Ft)|0,V=V+Math.imul(ze,Rt)|0,F=F+Math.imul(he,Ze)|0,j=(j=j+Math.imul(he,Ne)|0)+Math.imul(xe,Ze)|0,V=V+Math.imul(xe,Ne)|0,F=F+Math.imul(Se,lt)|0,j=(j=j+Math.imul(Se,at)|0)+Math.imul(Le,lt)|0,V=V+Math.imul(Le,at)|0,F=F+Math.imul(de,Be)|0,j=(j=j+Math.imul(de,ot)|0)+Math.imul(Ee,Be)|0,V=V+Math.imul(Ee,ot)|0,F=F+Math.imul(we,pt)|0,j=(j=j+Math.imul(we,mt)|0)+Math.imul(oe,pt)|0,V=V+Math.imul(oe,mt)|0,F=F+Math.imul(ve,ht)|0,j=(j=j+Math.imul(ve,Lt)|0)+Math.imul(Me,ht)|0,V=V+Math.imul(Me,Lt)|0;var un=(G+(F=F+Math.imul(pe,bt)|0)|0)+((8191&(j=(j=j+Math.imul(pe,Pt)|0)+Math.imul(ge,bt)|0))<<13)|0;G=((V=V+Math.imul(ge,Pt)|0)+(j>>>13)|0)+(un>>>26)|0,un&=67108863,F=Math.imul(He,Ft),j=(j=Math.imul(He,Rt))+Math.imul(qe,Ft)|0,V=Math.imul(qe,Rt),F=F+Math.imul(Re,Ze)|0,j=(j=j+Math.imul(Re,Ne)|0)+Math.imul(ze,Ze)|0,V=V+Math.imul(ze,Ne)|0,F=F+Math.imul(he,lt)|0,j=(j=j+Math.imul(he,at)|0)+Math.imul(xe,lt)|0,V=V+Math.imul(xe,at)|0,F=F+Math.imul(Se,Be)|0,j=(j=j+Math.imul(Se,ot)|0)+Math.imul(Le,Be)|0,V=V+Math.imul(Le,ot)|0,F=F+Math.imul(de,pt)|0,j=(j=j+Math.imul(de,mt)|0)+Math.imul(Ee,pt)|0,V=V+Math.imul(Ee,mt)|0,F=F+Math.imul(we,ht)|0,j=(j=j+Math.imul(we,Lt)|0)+Math.imul(oe,ht)|0,V=V+Math.imul(oe,Lt)|0;var rn=(G+(F=F+Math.imul(ve,bt)|0)|0)+((8191&(j=(j=j+Math.imul(ve,Pt)|0)+Math.imul(Me,bt)|0))<<13)|0;G=((V=V+Math.imul(Me,Pt)|0)+(j>>>13)|0)+(rn>>>26)|0,rn&=67108863,F=Math.imul(He,Ze),j=(j=Math.imul(He,Ne))+Math.imul(qe,Ze)|0,V=Math.imul(qe,Ne),F=F+Math.imul(Re,lt)|0,j=(j=j+Math.imul(Re,at)|0)+Math.imul(ze,lt)|0,V=V+Math.imul(ze,at)|0,F=F+Math.imul(he,Be)|0,j=(j=j+Math.imul(he,ot)|0)+Math.imul(xe,Be)|0,V=V+Math.imul(xe,ot)|0,F=F+Math.imul(Se,pt)|0,j=(j=j+Math.imul(Se,mt)|0)+Math.imul(Le,pt)|0,V=V+Math.imul(Le,mt)|0,F=F+Math.imul(de,ht)|0,j=(j=j+Math.imul(de,Lt)|0)+Math.imul(Ee,ht)|0,V=V+Math.imul(Ee,Lt)|0;var hn=(G+(F=F+Math.imul(we,bt)|0)|0)+((8191&(j=(j=j+Math.imul(we,Pt)|0)+Math.imul(oe,bt)|0))<<13)|0;G=((V=V+Math.imul(oe,Pt)|0)+(j>>>13)|0)+(hn>>>26)|0,hn&=67108863,F=Math.imul(He,lt),j=(j=Math.imul(He,at))+Math.imul(qe,lt)|0,V=Math.imul(qe,at),F=F+Math.imul(Re,Be)|0,j=(j=j+Math.imul(Re,ot)|0)+Math.imul(ze,Be)|0,V=V+Math.imul(ze,ot)|0,F=F+Math.imul(he,pt)|0,j=(j=j+Math.imul(he,mt)|0)+Math.imul(xe,pt)|0,V=V+Math.imul(xe,mt)|0,F=F+Math.imul(Se,ht)|0,j=(j=j+Math.imul(Se,Lt)|0)+Math.imul(Le,ht)|0,V=V+Math.imul(Le,Lt)|0;var kn=(G+(F=F+Math.imul(de,bt)|0)|0)+((8191&(j=(j=j+Math.imul(de,Pt)|0)+Math.imul(Ee,bt)|0))<<13)|0;G=((V=V+Math.imul(Ee,Pt)|0)+(j>>>13)|0)+(kn>>>26)|0,kn&=67108863,F=Math.imul(He,Be),j=(j=Math.imul(He,ot))+Math.imul(qe,Be)|0,V=Math.imul(qe,ot),F=F+Math.imul(Re,pt)|0,j=(j=j+Math.imul(Re,mt)|0)+Math.imul(ze,pt)|0,V=V+Math.imul(ze,mt)|0,F=F+Math.imul(he,ht)|0,j=(j=j+Math.imul(he,Lt)|0)+Math.imul(xe,ht)|0,V=V+Math.imul(xe,Lt)|0;var Ln=(G+(F=F+Math.imul(Se,bt)|0)|0)+((8191&(j=(j=j+Math.imul(Se,Pt)|0)+Math.imul(Le,bt)|0))<<13)|0;G=((V=V+Math.imul(Le,Pt)|0)+(j>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,F=Math.imul(He,pt),j=(j=Math.imul(He,mt))+Math.imul(qe,pt)|0,V=Math.imul(qe,mt),F=F+Math.imul(Re,ht)|0,j=(j=j+Math.imul(Re,Lt)|0)+Math.imul(ze,ht)|0,V=V+Math.imul(ze,Lt)|0;var Dn=(G+(F=F+Math.imul(he,bt)|0)|0)+((8191&(j=(j=j+Math.imul(he,Pt)|0)+Math.imul(xe,bt)|0))<<13)|0;G=((V=V+Math.imul(xe,Pt)|0)+(j>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,F=Math.imul(He,ht),j=(j=Math.imul(He,Lt))+Math.imul(qe,ht)|0,V=Math.imul(qe,Lt);var zn=(G+(F=F+Math.imul(Re,bt)|0)|0)+((8191&(j=(j=j+Math.imul(Re,Pt)|0)+Math.imul(ze,bt)|0))<<13)|0;G=((V=V+Math.imul(ze,Pt)|0)+(j>>>13)|0)+(zn>>>26)|0,zn&=67108863;var On=(G+(F=Math.imul(He,bt))|0)+((8191&(j=(j=Math.imul(He,Pt))+Math.imul(qe,bt)|0))<<13)|0;return G=((V=Math.imul(qe,Pt))+(j>>>13)|0)+(On>>>26)|0,On&=67108863,$[0]=Ot,$[1]=Bt,$[2]=Kt,$[3]=on,$[4]=qt,$[5]=Wt,$[6]=nn,$[7]=En,$[8]=Mn,$[9]=dn,$[10]=Jt,$[11]=un,$[12]=rn,$[13]=hn,$[14]=kn,$[15]=Ln,$[16]=Dn,$[17]=zn,$[18]=On,G!==0&&($[19]=G,Z.length++),Z};function _(D,B,Z){return new f().mulp(D,B,Z)}function f(D,B){this.x=D,this.y=B}Math.imul||(m=y),l.prototype.mulTo=function(D,B){var Z,F=this.length+D.length;return Z=this.length===10&&D.length===10?m(this,D,B):F<63?y(this,D,B):F<1024?function(j,V,te){te.negative=V.negative^j.negative,te.length=j.length+V.length;for(var Q=0,$=0,G=0;G<te.length-1;G++){var X=$;$=0;for(var J=67108863&Q,ne=Math.min(G,V.length-1),ie=Math.max(0,G-j.length+1);ie<=ne;ie++){var ae=G-ie,le=(0|j.words[ae])*(0|V.words[ie]),ce=67108863&le;J=67108863&(ce=ce+J|0),$+=(X=(X=X+(le/67108864|0)|0)+(ce>>>26)|0)>>>26,X&=67108863}te.words[G]=J,Q=X,X=$}return Q!==0?te.words[G]=Q:te.length--,te.strip()}(this,D,B):_(this,D,B),Z},f.prototype.makeRBT=function(D){for(var B=new Array(D),Z=l.prototype._countBits(D)-1,F=0;F<D;F++)B[F]=this.revBin(F,Z,D);return B},f.prototype.revBin=function(D,B,Z){if(D===0||D===Z-1)return D;for(var F=0,j=0;j<B;j++)F|=(1&D)<<B-j-1,D>>=1;return F},f.prototype.permute=function(D,B,Z,F,j,V){for(var te=0;te<V;te++)F[te]=B[D[te]],j[te]=Z[D[te]]},f.prototype.transform=function(D,B,Z,F,j,V){this.permute(V,D,B,Z,F,j);for(var te=1;te<j;te<<=1)for(var Q=te<<1,$=Math.cos(2*Math.PI/Q),G=Math.sin(2*Math.PI/Q),X=0;X<j;X+=Q)for(var J=$,ne=G,ie=0;ie<te;ie++){var ae=Z[X+ie],le=F[X+ie],ce=Z[X+ie+te],pe=F[X+ie+te],ge=J*ce-ne*pe;pe=J*pe+ne*ce,ce=ge,Z[X+ie]=ae+ce,F[X+ie]=le+pe,Z[X+ie+te]=ae-ce,F[X+ie+te]=le-pe,ie!==Q&&(ge=$*J-G*ne,ne=$*ne+G*J,J=ge)}},f.prototype.guessLen13b=function(D,B){var Z=1|Math.max(B,D),F=1&Z,j=0;for(Z=Z/2|0;Z;Z>>>=1)j++;return 1<<j+1+F},f.prototype.conjugate=function(D,B,Z){if(!(Z<=1))for(var F=0;F<Z/2;F++){var j=D[F];D[F]=D[Z-F-1],D[Z-F-1]=j,j=B[F],B[F]=-B[Z-F-1],B[Z-F-1]=-j}},f.prototype.normalize13b=function(D,B){for(var Z=0,F=0;F<B/2;F++){var j=8192*Math.round(D[2*F+1]/B)+Math.round(D[2*F]/B)+Z;D[F]=67108863&j,Z=j<67108864?0:j/67108864|0}return D},f.prototype.convert13b=function(D,B,Z,F){for(var j=0,V=0;V<B;V++)j+=0|D[V],Z[2*V]=8191&j,j>>>=13,Z[2*V+1]=8191&j,j>>>=13;for(V=2*B;V<F;++V)Z[V]=0;r(j===0),r((-8192&j)==0)},f.prototype.stub=function(D){for(var B=new Array(D),Z=0;Z<D;Z++)B[Z]=0;return B},f.prototype.mulp=function(D,B,Z){var F=2*this.guessLen13b(D.length,B.length),j=this.makeRBT(F),V=this.stub(F),te=new Array(F),Q=new Array(F),$=new Array(F),G=new Array(F),X=new Array(F),J=new Array(F),ne=Z.words;ne.length=F,this.convert13b(D.words,D.length,te,F),this.convert13b(B.words,B.length,G,F),this.transform(te,V,Q,$,F,j),this.transform(G,V,X,J,F,j);for(var ie=0;ie<F;ie++){var ae=Q[ie]*X[ie]-$[ie]*J[ie];$[ie]=Q[ie]*J[ie]+$[ie]*X[ie],Q[ie]=ae}return this.conjugate(Q,$,F),this.transform(Q,$,ne,V,F,j),this.conjugate(ne,V,F),this.normalize13b(ne,F),Z.negative=D.negative^B.negative,Z.length=D.length+B.length,Z.strip()},l.prototype.mul=function(D){var B=new l(null);return B.words=new Array(this.length+D.length),this.mulTo(D,B)},l.prototype.mulf=function(D){var B=new l(null);return B.words=new Array(this.length+D.length),_(this,D,B)},l.prototype.imul=function(D){return this.clone().mulTo(D,this)},l.prototype.imuln=function(D){r(typeof D=="number"),r(D<67108864);for(var B=0,Z=0;Z<this.length;Z++){var F=(0|this.words[Z])*D,j=(67108863&F)+(67108863&B);B>>=26,B+=F/67108864|0,B+=j>>>26,this.words[Z]=67108863&j}return B!==0&&(this.words[Z]=B,this.length++),this},l.prototype.muln=function(D){return this.clone().imuln(D)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(D){var B=function(V){for(var te=new Array(V.bitLength()),Q=0;Q<te.length;Q++){var $=Q/26|0,G=Q%26;te[Q]=(V.words[$]&1<<G)>>>G}return te}(D);if(B.length===0)return new l(1);for(var Z=this,F=0;F<B.length&&B[F]===0;F++,Z=Z.sqr());if(++F<B.length)for(var j=Z.sqr();F<B.length;F++,j=j.sqr())B[F]!==0&&(Z=Z.mul(j));return Z},l.prototype.iushln=function(D){r(typeof D=="number"&&D>=0);var B,Z=D%26,F=(D-Z)/26,j=67108863>>>26-Z<<26-Z;if(Z!==0){var V=0;for(B=0;B<this.length;B++){var te=this.words[B]&j,Q=(0|this.words[B])-te<<Z;this.words[B]=Q|V,V=te>>>26-Z}V&&(this.words[B]=V,this.length++)}if(F!==0){for(B=this.length-1;B>=0;B--)this.words[B+F]=this.words[B];for(B=0;B<F;B++)this.words[B]=0;this.length+=F}return this.strip()},l.prototype.ishln=function(D){return r(this.negative===0),this.iushln(D)},l.prototype.iushrn=function(D,B,Z){var F;r(typeof D=="number"&&D>=0),F=B?(B-B%26)/26:0;var j=D%26,V=Math.min((D-j)/26,this.length),te=67108863^67108863>>>j<<j,Q=Z;if(F-=V,F=Math.max(0,F),Q){for(var $=0;$<V;$++)Q.words[$]=this.words[$];Q.length=V}if(V!==0)if(this.length>V)for(this.length-=V,$=0;$<this.length;$++)this.words[$]=this.words[$+V];else this.words[0]=0,this.length=1;var G=0;for($=this.length-1;$>=0&&(G!==0||$>=F);$--){var X=0|this.words[$];this.words[$]=G<<26-j|X>>>j,G=X&te}return Q&&G!==0&&(Q.words[Q.length++]=G),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},l.prototype.ishrn=function(D,B,Z){return r(this.negative===0),this.iushrn(D,B,Z)},l.prototype.shln=function(D){return this.clone().ishln(D)},l.prototype.ushln=function(D){return this.clone().iushln(D)},l.prototype.shrn=function(D){return this.clone().ishrn(D)},l.prototype.ushrn=function(D){return this.clone().iushrn(D)},l.prototype.testn=function(D){r(typeof D=="number"&&D>=0);var B=D%26,Z=(D-B)/26,F=1<<B;return!(this.length<=Z||!(this.words[Z]&F))},l.prototype.imaskn=function(D){r(typeof D=="number"&&D>=0);var B=D%26,Z=(D-B)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=Z)return this;if(B!==0&&Z++,this.length=Math.min(Z,this.length),B!==0){var F=67108863^67108863>>>B<<B;this.words[this.length-1]&=F}return this.strip()},l.prototype.maskn=function(D){return this.clone().imaskn(D)},l.prototype.iaddn=function(D){return r(typeof D=="number"),r(D<67108864),D<0?this.isubn(-D):this.negative!==0?this.length===1&&(0|this.words[0])<D?(this.words[0]=D-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(D),this.negative=1,this):this._iaddn(D)},l.prototype._iaddn=function(D){this.words[0]+=D;for(var B=0;B<this.length&&this.words[B]>=67108864;B++)this.words[B]-=67108864,B===this.length-1?this.words[B+1]=1:this.words[B+1]++;return this.length=Math.max(this.length,B+1),this},l.prototype.isubn=function(D){if(r(typeof D=="number"),r(D<67108864),D<0)return this.iaddn(-D);if(this.negative!==0)return this.negative=0,this.iaddn(D),this.negative=1,this;if(this.words[0]-=D,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var B=0;B<this.length&&this.words[B]<0;B++)this.words[B]+=67108864,this.words[B+1]-=1;return this.strip()},l.prototype.addn=function(D){return this.clone().iaddn(D)},l.prototype.subn=function(D){return this.clone().isubn(D)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(D,B,Z){var F,j,V=D.length+Z;this._expand(V);var te=0;for(F=0;F<D.length;F++){j=(0|this.words[F+Z])+te;var Q=(0|D.words[F])*B;te=((j-=67108863&Q)>>26)-(Q/67108864|0),this.words[F+Z]=67108863&j}for(;F<this.length-Z;F++)te=(j=(0|this.words[F+Z])+te)>>26,this.words[F+Z]=67108863&j;if(te===0)return this.strip();for(r(te===-1),te=0,F=0;F<this.length;F++)te=(j=-(0|this.words[F])+te)>>26,this.words[F]=67108863&j;return this.negative=1,this.strip()},l.prototype._wordDiv=function(D,B){var Z=(this.length,D.length),F=this.clone(),j=D,V=0|j.words[j.length-1];(Z=26-this._countBits(V))!=0&&(j=j.ushln(Z),F.iushln(Z),V=0|j.words[j.length-1]);var te,Q=F.length-j.length;if(B!=="mod"){(te=new l(null)).length=Q+1,te.words=new Array(te.length);for(var $=0;$<te.length;$++)te.words[$]=0}var G=F.clone()._ishlnsubmul(j,1,Q);G.negative===0&&(F=G,te&&(te.words[Q]=1));for(var X=Q-1;X>=0;X--){var J=67108864*(0|F.words[j.length+X])+(0|F.words[j.length+X-1]);for(J=Math.min(J/V|0,67108863),F._ishlnsubmul(j,J,X);F.negative!==0;)J--,F.negative=0,F._ishlnsubmul(j,1,X),F.isZero()||(F.negative^=1);te&&(te.words[X]=J)}return te&&te.strip(),F.strip(),B!=="div"&&Z!==0&&F.iushrn(Z),{div:te||null,mod:F}},l.prototype.divmod=function(D,B,Z){return r(!D.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&D.negative===0?(V=this.neg().divmod(D,B),B!=="mod"&&(F=V.div.neg()),B!=="div"&&(j=V.mod.neg(),Z&&j.negative!==0&&j.iadd(D)),{div:F,mod:j}):this.negative===0&&D.negative!==0?(V=this.divmod(D.neg(),B),B!=="mod"&&(F=V.div.neg()),{div:F,mod:V.mod}):(this.negative&D.negative)!=0?(V=this.neg().divmod(D.neg(),B),B!=="div"&&(j=V.mod.neg(),Z&&j.negative!==0&&j.isub(D)),{div:V.div,mod:j}):D.length>this.length||this.cmp(D)<0?{div:new l(0),mod:this}:D.length===1?B==="div"?{div:this.divn(D.words[0]),mod:null}:B==="mod"?{div:null,mod:new l(this.modn(D.words[0]))}:{div:this.divn(D.words[0]),mod:new l(this.modn(D.words[0]))}:this._wordDiv(D,B);var F,j,V},l.prototype.div=function(D){return this.divmod(D,"div",!1).div},l.prototype.mod=function(D){return this.divmod(D,"mod",!1).mod},l.prototype.umod=function(D){return this.divmod(D,"mod",!0).mod},l.prototype.divRound=function(D){var B=this.divmod(D);if(B.mod.isZero())return B.div;var Z=B.div.negative!==0?B.mod.isub(D):B.mod,F=D.ushrn(1),j=D.andln(1),V=Z.cmp(F);return V<0||j===1&&V===0?B.div:B.div.negative!==0?B.div.isubn(1):B.div.iaddn(1)},l.prototype.modn=function(D){r(D<=67108863);for(var B=67108864%D,Z=0,F=this.length-1;F>=0;F--)Z=(B*Z+(0|this.words[F]))%D;return Z},l.prototype.idivn=function(D){r(D<=67108863);for(var B=0,Z=this.length-1;Z>=0;Z--){var F=(0|this.words[Z])+67108864*B;this.words[Z]=F/D|0,B=F%D}return this.strip()},l.prototype.divn=function(D){return this.clone().idivn(D)},l.prototype.egcd=function(D){r(D.negative===0),r(!D.isZero());var B=this,Z=D.clone();B=B.negative!==0?B.umod(D):B.clone();for(var F=new l(1),j=new l(0),V=new l(0),te=new l(1),Q=0;B.isEven()&&Z.isEven();)B.iushrn(1),Z.iushrn(1),++Q;for(var $=Z.clone(),G=B.clone();!B.isZero();){for(var X=0,J=1;(B.words[0]&J)==0&&X<26;++X,J<<=1);if(X>0)for(B.iushrn(X);X-- >0;)(F.isOdd()||j.isOdd())&&(F.iadd($),j.isub(G)),F.iushrn(1),j.iushrn(1);for(var ne=0,ie=1;(Z.words[0]&ie)==0&&ne<26;++ne,ie<<=1);if(ne>0)for(Z.iushrn(ne);ne-- >0;)(V.isOdd()||te.isOdd())&&(V.iadd($),te.isub(G)),V.iushrn(1),te.iushrn(1);B.cmp(Z)>=0?(B.isub(Z),F.isub(V),j.isub(te)):(Z.isub(B),V.isub(F),te.isub(j))}return{a:V,b:te,gcd:Z.iushln(Q)}},l.prototype._invmp=function(D){r(D.negative===0),r(!D.isZero());var B=this,Z=D.clone();B=B.negative!==0?B.umod(D):B.clone();for(var F,j=new l(1),V=new l(0),te=Z.clone();B.cmpn(1)>0&&Z.cmpn(1)>0;){for(var Q=0,$=1;(B.words[0]&$)==0&&Q<26;++Q,$<<=1);if(Q>0)for(B.iushrn(Q);Q-- >0;)j.isOdd()&&j.iadd(te),j.iushrn(1);for(var G=0,X=1;(Z.words[0]&X)==0&&G<26;++G,X<<=1);if(G>0)for(Z.iushrn(G);G-- >0;)V.isOdd()&&V.iadd(te),V.iushrn(1);B.cmp(Z)>=0?(B.isub(Z),j.isub(V)):(Z.isub(B),V.isub(j))}return(F=B.cmpn(1)===0?j:V).cmpn(0)<0&&F.iadd(D),F},l.prototype.gcd=function(D){if(this.isZero())return D.abs();if(D.isZero())return this.abs();var B=this.clone(),Z=D.clone();B.negative=0,Z.negative=0;for(var F=0;B.isEven()&&Z.isEven();F++)B.iushrn(1),Z.iushrn(1);for(;;){for(;B.isEven();)B.iushrn(1);for(;Z.isEven();)Z.iushrn(1);var j=B.cmp(Z);if(j<0){var V=B;B=Z,Z=V}else if(j===0||Z.cmpn(1)===0)break;B.isub(Z)}return Z.iushln(F)},l.prototype.invm=function(D){return this.egcd(D).a.umod(D)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(D){return this.words[0]&D},l.prototype.bincn=function(D){r(typeof D=="number");var B=D%26,Z=(D-B)/26,F=1<<B;if(this.length<=Z)return this._expand(Z+1),this.words[Z]|=F,this;for(var j=F,V=Z;j!==0&&V<this.length;V++){var te=0|this.words[V];j=(te+=j)>>>26,te&=67108863,this.words[V]=te}return j!==0&&(this.words[V]=j,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(D){var B,Z=D<0;if(this.negative!==0&&!Z)return-1;if(this.negative===0&&Z)return 1;if(this.strip(),this.length>1)B=1;else{Z&&(D=-D),r(D<=67108863,"Number is too big");var F=0|this.words[0];B=F===D?0:F<D?-1:1}return this.negative!==0?0|-B:B},l.prototype.cmp=function(D){if(this.negative!==0&&D.negative===0)return-1;if(this.negative===0&&D.negative!==0)return 1;var B=this.ucmp(D);return this.negative!==0?0|-B:B},l.prototype.ucmp=function(D){if(this.length>D.length)return 1;if(this.length<D.length)return-1;for(var B=0,Z=this.length-1;Z>=0;Z--){var F=0|this.words[Z],j=0|D.words[Z];if(F!==j){F<j?B=-1:F>j&&(B=1);break}}return B},l.prototype.gtn=function(D){return this.cmpn(D)===1},l.prototype.gt=function(D){return this.cmp(D)===1},l.prototype.gten=function(D){return this.cmpn(D)>=0},l.prototype.gte=function(D){return this.cmp(D)>=0},l.prototype.ltn=function(D){return this.cmpn(D)===-1},l.prototype.lt=function(D){return this.cmp(D)===-1},l.prototype.lten=function(D){return this.cmpn(D)<=0},l.prototype.lte=function(D){return this.cmp(D)<=0},l.prototype.eqn=function(D){return this.cmpn(D)===0},l.prototype.eq=function(D){return this.cmp(D)===0},l.red=function(D){return new z(D)},l.prototype.toRed=function(D){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),D.convertTo(this)._forceRed(D)},l.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(D){return this.red=D,this},l.prototype.forceRed=function(D){return r(!this.red,"Already a number in reduction context"),this._forceRed(D)},l.prototype.redAdd=function(D){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,D)},l.prototype.redIAdd=function(D){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,D)},l.prototype.redSub=function(D){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,D)},l.prototype.redISub=function(D){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,D)},l.prototype.redShl=function(D){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,D)},l.prototype.redMul=function(D){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,D),this.red.mul(this,D)},l.prototype.redIMul=function(D){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,D),this.red.imul(this,D)},l.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(D){return r(this.red&&!D.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,D)};var S={k256:null,p224:null,p192:null,p25519:null};function T(D,B){this.name=D,this.p=new l(B,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function C(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function I(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function z(D){if(typeof D=="string"){var B=l._prime(D);this.m=B.p,this.prime=B}else r(D.gtn(1),"modulus must be greater than 1"),this.m=D,this.prime=null}function U(D){z.call(this,D),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T.prototype._tmp=function(){var D=new l(null);return D.words=new Array(Math.ceil(this.n/13)),D},T.prototype.ireduce=function(D){var B,Z=D;do this.split(Z,this.tmp),B=(Z=(Z=this.imulK(Z)).iadd(this.tmp)).bitLength();while(B>this.n);var F=B<this.n?-1:Z.ucmp(this.p);return F===0?(Z.words[0]=0,Z.length=1):F>0?Z.isub(this.p):Z.strip!==void 0?Z.strip():Z._strip(),Z},T.prototype.split=function(D,B){D.iushrn(this.n,0,B)},T.prototype.imulK=function(D){return D.imul(this.k)},s(E,T),E.prototype.split=function(D,B){for(var Z=4194303,F=Math.min(D.length,9),j=0;j<F;j++)B.words[j]=D.words[j];if(B.length=F,D.length<=9)return D.words[0]=0,void(D.length=1);var V=D.words[9];for(B.words[B.length++]=V&Z,j=10;j<D.length;j++){var te=0|D.words[j];D.words[j-10]=(te&Z)<<4|V>>>22,V=te}V>>>=22,D.words[j-10]=V,V===0&&D.length>10?D.length-=10:D.length-=9},E.prototype.imulK=function(D){D.words[D.length]=0,D.words[D.length+1]=0,D.length+=2;for(var B=0,Z=0;Z<D.length;Z++){var F=0|D.words[Z];B+=977*F,D.words[Z]=67108863&B,B=64*F+(B/67108864|0)}return D.words[D.length-1]===0&&(D.length--,D.words[D.length-1]===0&&D.length--),D},s(C,T),s(O,T),s(I,T),I.prototype.imulK=function(D){for(var B=0,Z=0;Z<D.length;Z++){var F=19*(0|D.words[Z])+B,j=67108863&F;F>>>=26,D.words[Z]=j,B=F}return B!==0&&(D.words[D.length++]=B),D},l._prime=function(D){if(S[D])return S[D];var B;if(D==="k256")B=new E;else if(D==="p224")B=new C;else if(D==="p192")B=new O;else{if(D!=="p25519")throw new Error("Unknown prime "+D);B=new I}return S[D]=B,B},z.prototype._verify1=function(D){r(D.negative===0,"red works only with positives"),r(D.red,"red works only with red numbers")},z.prototype._verify2=function(D,B){r((D.negative|B.negative)==0,"red works only with positives"),r(D.red&&D.red===B.red,"red works only with red numbers")},z.prototype.imod=function(D){return this.prime?this.prime.ireduce(D)._forceRed(this):D.umod(this.m)._forceRed(this)},z.prototype.neg=function(D){return D.isZero()?D.clone():this.m.sub(D)._forceRed(this)},z.prototype.add=function(D,B){this._verify2(D,B);var Z=D.add(B);return Z.cmp(this.m)>=0&&Z.isub(this.m),Z._forceRed(this)},z.prototype.iadd=function(D,B){this._verify2(D,B);var Z=D.iadd(B);return Z.cmp(this.m)>=0&&Z.isub(this.m),Z},z.prototype.sub=function(D,B){this._verify2(D,B);var Z=D.sub(B);return Z.cmpn(0)<0&&Z.iadd(this.m),Z._forceRed(this)},z.prototype.isub=function(D,B){this._verify2(D,B);var Z=D.isub(B);return Z.cmpn(0)<0&&Z.iadd(this.m),Z},z.prototype.shl=function(D,B){return this._verify1(D),this.imod(D.ushln(B))},z.prototype.imul=function(D,B){return this._verify2(D,B),this.imod(D.imul(B))},z.prototype.mul=function(D,B){return this._verify2(D,B),this.imod(D.mul(B))},z.prototype.isqr=function(D){return this.imul(D,D.clone())},z.prototype.sqr=function(D){return this.mul(D,D)},z.prototype.sqrt=function(D){if(D.isZero())return D.clone();var B=this.m.andln(3);if(r(B%2==1),B===3){var Z=this.m.add(new l(1)).iushrn(2);return this.pow(D,Z)}for(var F=this.m.subn(1),j=0;!F.isZero()&&F.andln(1)===0;)j++,F.iushrn(1);r(!F.isZero());var V=new l(1).toRed(this),te=V.redNeg(),Q=this.m.subn(1).iushrn(1),$=this.m.bitLength();for($=new l(2*$*$).toRed(this);this.pow($,Q).cmp(te)!==0;)$.redIAdd(te);for(var G=this.pow($,F),X=this.pow(D,F.addn(1).iushrn(1)),J=this.pow(D,F),ne=j;J.cmp(V)!==0;){for(var ie=J,ae=0;ie.cmp(V)!==0;ae++)ie=ie.redSqr();r(ae<ne);var le=this.pow(G,new l(1).iushln(ne-ae-1));X=X.redMul(le),G=le.redSqr(),J=J.redMul(G),ne=ae}return X},z.prototype.invm=function(D){var B=D._invmp(this.m);return B.negative!==0?(B.negative=0,this.imod(B).redNeg()):this.imod(B)},z.prototype.pow=function(D,B){if(B.isZero())return new l(1).toRed(this);if(B.cmpn(1)===0)return D.clone();var Z=new Array(16);Z[0]=new l(1).toRed(this),Z[1]=D;for(var F=2;F<Z.length;F++)Z[F]=this.mul(Z[F-1],D);var j=Z[0],V=0,te=0,Q=B.bitLength()%26;for(Q===0&&(Q=26),F=B.length-1;F>=0;F--){for(var $=B.words[F],G=Q-1;G>=0;G--){var X=$>>G&1;j!==Z[0]&&(j=this.sqr(j)),X!==0||V!==0?(V<<=1,V|=X,(++te==4||F===0&&G===0)&&(j=this.mul(j,Z[V]),te=0,V=0)):te=0}Q=26}return j},z.prototype.convertTo=function(D){var B=D.umod(this.m);return B===D?B.clone():B},z.prototype.convertFrom=function(D){var B=D.clone();return B.red=null,B},l.mont=function(D){return new U(D)},s(U,z),U.prototype.convertTo=function(D){return this.imod(D.ushln(this.shift))},U.prototype.convertFrom=function(D){var B=this.imod(D.mul(this.rinv));return B.red=null,B},U.prototype.imul=function(D,B){if(D.isZero()||B.isZero())return D.words[0]=0,D.length=1,D;var Z=D.imul(B),F=Z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=Z.isub(F).iushrn(this.shift),V=j;return j.cmp(this.m)>=0?V=j.isub(this.m):j.cmpn(0)<0&&(V=j.iadd(this.m)),V._forceRed(this)},U.prototype.mul=function(D,B){if(D.isZero()||B.isZero())return new l(0)._forceRed(this);var Z=D.mul(B),F=Z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),j=Z.isub(F).iushrn(this.shift),V=j;return j.cmp(this.m)>=0?V=j.isub(this.m):j.cmpn(0)<0&&(V=j.iadd(this.m)),V._forceRed(this)},U.prototype.invm=function(D){return this.imod(D._invmp(this.m).mul(this.r2))._forceRed(this)}})(h=t.nmd(h),this)},2692:function(h){h.exports=function(o){var t,i,n,r=o.length,s=0;for(t=0;t<r;++t)s+=o[t].length;var l=new Array(s),u=0;for(t=0;t<r;++t){var d=o[t],c=d.length;for(i=0;i<c;++i){var x=l[u++]=new Array(c-1),g=0;for(n=0;n<c;++n)n!==i&&(x[g++]=d[n]);if(1&i){var p=x[1];x[1]=x[0],x[0]=p}}}return l}},2569:function(h,o,t){h.exports=function(x,g,p){switch(arguments.length){case 1:return i=[],d(v=x,v,c,!0),i;case 2:return typeof g=="function"?d(x,x,g,!0):function(y,m){return i=[],d(y,m,c,!1),i}(x,g);case 3:return d(x,g,p,!1);default:throw new Error("box-intersect: Invalid arguments")}var v};var i,n=t(5306),r=t(1390),s=t(2337);function l(x,g){for(var p=0;p<x;++p)if(!(g[p]<=g[p+x]))return!0;return!1}function u(x,g,p,v){for(var y=0,m=0,_=0,f=x.length;_<f;++_){var S=x[_];if(!l(g,S)){for(var T=0;T<2*g;++T)p[y++]=S[T];v[m++]=_}}return m}function d(x,g,p,v){var y=x.length,m=g.length;if(!(y<=0||m<=0)){var _=x[0].length>>>1;if(!(_<=0)){var f,S=n.mallocDouble(2*_*y),T=n.mallocInt32(y);if((y=u(x,_,S,T))>0){if(_===1&&v)r.init(y),f=r.sweepComplete(_,p,0,y,S,T,0,y,S,T);else{var E=n.mallocDouble(2*_*m),C=n.mallocInt32(m);(m=u(g,_,E,C))>0&&(r.init(y+m),f=_===1?r.sweepBipartite(_,p,0,y,S,T,0,m,E,C):s(_,p,v,y,S,T,m,E,C),n.free(E),n.free(C))}n.free(S),n.free(T)}return f}}}function c(x,g){i.push([x,g])}},7333:function(h,o){function t(i){return i?function(n,r,s,l,u,d,c,x,g,p,v){return u-l>g-x?function(y,m,_,f,S,T,E,C,O,I,z){for(var U=2*y,D=f,B=U*f;D<S;++D,B+=U){var Z=T[m+B],F=T[m+B+y],j=E[D];e:for(var V=C,te=U*C;V<O;++V,te+=U){var Q=I[m+te],$=I[m+te+y],G=z[V];if(!($<Z||F<Q)){for(var X=m+1;X<y;++X){var J=T[X+B],ne=T[X+y+B],ie=I[X+te],ae=I[X+y+te];if(ne<ie||ae<J)continue e}var le=_(j,G);if(le!==void 0)return le}}}}(n,r,s,l,u,d,c,x,g,p,v):function(y,m,_,f,S,T,E,C,O,I,z){for(var U=2*y,D=C,B=U*C;D<O;++D,B+=U){var Z=I[m+B],F=I[m+B+y],j=z[D];e:for(var V=f,te=U*f;V<S;++V,te+=U){var Q=T[m+te],$=T[m+te+y],G=E[V];if(!(F<Q||$<Z)){for(var X=m+1;X<y;++X){var J=T[X+te],ne=T[X+y+te],ie=I[X+B],ae=I[X+y+B];if(ne<ie||ae<J)continue e}var le=_(G,j);if(le!==void 0)return le}}}}(n,r,s,l,u,d,c,x,g,p,v)}:function(n,r,s,l,u,d,c,x,g,p,v,y){return d-u>p-g?l?function(m,_,f,S,T,E,C,O,I,z,U){for(var D=2*m,B=S,Z=D*S;B<T;++B,Z+=D){var F=E[_+Z],j=E[_+Z+m],V=C[B];e:for(var te=O,Q=D*O;te<I;++te,Q+=D){var $=z[_+Q],G=U[te];if(!($<=F||j<$)){for(var X=_+1;X<m;++X){var J=E[X+Z],ne=E[X+m+Z],ie=z[X+Q],ae=z[X+m+Q];if(ne<ie||ae<J)continue e}var le=f(G,V);if(le!==void 0)return le}}}}(n,r,s,u,d,c,x,g,p,v,y):function(m,_,f,S,T,E,C,O,I,z,U){for(var D=2*m,B=S,Z=D*S;B<T;++B,Z+=D){var F=E[_+Z],j=E[_+Z+m],V=C[B];e:for(var te=O,Q=D*O;te<I;++te,Q+=D){var $=z[_+Q],G=U[te];if(!($<F||j<$)){for(var X=_+1;X<m;++X){var J=E[X+Z],ne=E[X+m+Z],ie=z[X+Q],ae=z[X+m+Q];if(ne<ie||ae<J)continue e}var le=f(V,G);if(le!==void 0)return le}}}}(n,r,s,u,d,c,x,g,p,v,y):l?function(m,_,f,S,T,E,C,O,I,z,U){for(var D=2*m,B=O,Z=D*O;B<I;++B,Z+=D){var F=z[_+Z],j=U[B];e:for(var V=S,te=D*S;V<T;++V,te+=D){var Q=E[_+te],$=E[_+te+m],G=C[V];if(!(F<=Q||$<F)){for(var X=_+1;X<m;++X){var J=E[X+te],ne=E[X+m+te],ie=z[X+Z],ae=z[X+m+Z];if(ne<ie||ae<J)continue e}var le=f(j,G);if(le!==void 0)return le}}}}(n,r,s,u,d,c,x,g,p,v,y):function(m,_,f,S,T,E,C,O,I,z,U){for(var D=2*m,B=O,Z=D*O;B<I;++B,Z+=D){var F=z[_+Z],j=U[B];e:for(var V=S,te=D*S;V<T;++V,te+=D){var Q=E[_+te],$=E[_+te+m],G=C[V];if(!(F<Q||$<F)){for(var X=_+1;X<m;++X){var J=E[X+te],ne=E[X+m+te],ie=z[X+Z],ae=z[X+m+Z];if(ne<ie||ae<J)continue e}var le=f(G,j);if(le!==void 0)return le}}}}(n,r,s,u,d,c,x,g,p,v,y)}}o.partial=t(!1),o.full=t(!0)},2337:function(h,o,t){h.exports=function(D,B,Z,F,j,V,te,Q,$){(function(ze,Ie){var He=8*n.log2(Ie+1)*(ze+1)|0,qe=n.nextPow2(T*He);C.length<qe&&(i.free(C),C=i.mallocInt32(qe));var Je=n.nextPow2(E*He);O.length<Je&&(i.free(O),O=i.mallocDouble(Je))})(D,F+te);var G,X=0,J=2*D;for(I(X++,0,0,F,0,te,Z?16:0,-1/0,1/0),Z||I(X++,0,0,te,0,F,1,-1/0,1/0);X>0;){var ne=(X-=1)*T,ie=C[ne],ae=C[ne+1],le=C[ne+2],ce=C[ne+3],pe=C[ne+4],ge=C[ne+5],me=X*E,ve=O[me],Me=O[me+1],_e=1&ge,we=!!(16&ge),oe=j,se=V,de=Q,Ee=$;if(_e&&(oe=Q,se=$,de=j,Ee=V),!(2&ge&&ae>=(le=m(D,ie,ae,le,oe,se,Me))||4&ge&&(ae=_(D,ie,ae,le,oe,se,ve))>=le)){var Te=le-ae,Se=pe-ce;if(we){if(D*Te*(Te+Se)<p){if((G=u.scanComplete(D,ie,B,ae,le,oe,se,ce,pe,de,Ee))!==void 0)return G;continue}}else{if(D*Math.min(Te,Se)<x){if((G=s(D,ie,B,_e,ae,le,oe,se,ce,pe,de,Ee))!==void 0)return G;continue}if(D*Te*Se<g){if((G=u.scanBipartite(D,ie,B,_e,ae,le,oe,se,ce,pe,de,Ee))!==void 0)return G;continue}}var Le=v(D,ie,ae,le,oe,se,ve,Me);if(ae<Le)if(D*(Le-ae)<x){if((G=l(D,ie+1,B,ae,Le,oe,se,ce,pe,de,Ee))!==void 0)return G}else if(ie===D-2){if((G=_e?u.sweepBipartite(D,B,ce,pe,de,Ee,ae,Le,oe,se):u.sweepBipartite(D,B,ae,Le,oe,se,ce,pe,de,Ee))!==void 0)return G}else I(X++,ie+1,ae,Le,ce,pe,_e,-1/0,1/0),I(X++,ie+1,ce,pe,ae,Le,1^_e,-1/0,1/0);if(Le<le){var Oe=d(D,ie,ce,pe,de,Ee),he=de[J*Oe+ie],xe=y(D,ie,Oe,pe,de,Ee,he);if(xe<pe&&I(X++,ie,Le,le,xe,pe,(4|_e)+(we?16:0),he,Me),ce<Oe&&I(X++,ie,Le,le,ce,Oe,(2|_e)+(we?16:0),ve,he),Oe+1===xe){if((G=we?U(D,ie,B,Le,le,oe,se,Oe,de,Ee[Oe]):z(D,ie,B,_e,Le,le,oe,se,Oe,de,Ee[Oe]))!==void 0)return G}else if(Oe<xe){var ke;if(we){if(Le<(ke=f(D,ie,Le,le,oe,se,he))){var Re=y(D,ie,Le,ke,oe,se,he);if(ie===D-2){if(Le<Re&&(G=u.sweepComplete(D,B,Le,Re,oe,se,Oe,xe,de,Ee))!==void 0||Re<ke&&(G=u.sweepBipartite(D,B,Re,ke,oe,se,Oe,xe,de,Ee))!==void 0)return G}else Le<Re&&I(X++,ie+1,Le,Re,Oe,xe,16,-1/0,1/0),Re<ke&&(I(X++,ie+1,Re,ke,Oe,xe,0,-1/0,1/0),I(X++,ie+1,Oe,xe,Re,ke,1,-1/0,1/0))}}else Le<(ke=_e?S(D,ie,Le,le,oe,se,he):f(D,ie,Le,le,oe,se,he))&&(ie===D-2?G=_e?u.sweepBipartite(D,B,Oe,xe,de,Ee,Le,ke,oe,se):u.sweepBipartite(D,B,Le,ke,oe,se,Oe,xe,de,Ee):(I(X++,ie+1,Le,ke,Oe,xe,_e,-1/0,1/0),I(X++,ie+1,Oe,xe,Le,ke,1^_e,-1/0,1/0)))}}}}};var i=t(5306),n=t(2288),r=t(7333),s=r.partial,l=r.full,u=t(1390),d=t(2464),c=t(122),x=128,g=1<<22,p=1<<22,v=c("!(lo>=p0)&&!(p1>=hi)"),y=c("lo===p0"),m=c("lo<p0"),_=c("hi<=p0"),f=c("lo<=p0&&p0<=hi"),S=c("lo<p0&&p0<=hi"),T=6,E=2,C=i.mallocInt32(1024),O=i.mallocDouble(1024);function I(D,B,Z,F,j,V,te,Q,$){var G=T*D;C[G]=B,C[G+1]=Z,C[G+2]=F,C[G+3]=j,C[G+4]=V,C[G+5]=te;var X=E*D;O[X]=Q,O[X+1]=$}function z(D,B,Z,F,j,V,te,Q,$,G,X){var J=2*D,ne=$*J,ie=G[ne+B];e:for(var ae=j,le=j*J;ae<V;++ae,le+=J){var ce=te[le+B],pe=te[le+B+D];if(!(ie<ce||pe<ie||F&&ie===ce)){for(var ge,me=Q[ae],ve=B+1;ve<D;++ve){ce=te[le+ve],pe=te[le+ve+D];var Me=G[ne+ve],_e=G[ne+ve+D];if(pe<Me||_e<ce)continue e}if((ge=F?Z(X,me):Z(me,X))!==void 0)return ge}}}function U(D,B,Z,F,j,V,te,Q,$,G){var X=2*D,J=Q*X,ne=$[J+B];e:for(var ie=F,ae=F*X;ie<j;++ie,ae+=X){var le=te[ie];if(le!==G){var ce=V[ae+B],pe=V[ae+B+D];if(!(ne<ce||pe<ne)){for(var ge=B+1;ge<D;++ge){ce=V[ae+ge],pe=V[ae+ge+D];var me=$[J+ge],ve=$[J+ge+D];if(pe<me||ve<ce)continue e}var Me=Z(le,G);if(Me!==void 0)return Me}}}}},2464:function(h,o,t){h.exports=function(s,l,u,d,c,x){if(d<=u+1)return u;for(var g=u,p=d,v=d+u>>>1,y=2*s,m=v,_=c[y*v+l];g<p;){if(p-g<n){r(s,l,g,p,c,x),_=c[y*v+l];break}var f=p-g,S=Math.random()*f+g|0,T=c[y*S+l],E=Math.random()*f+g|0,C=c[y*E+l],O=Math.random()*f+g|0,I=c[y*O+l];T<=C?I>=C?(m=E,_=C):T>=I?(m=S,_=T):(m=O,_=I):C>=I?(m=E,_=C):I>=T?(m=S,_=T):(m=O,_=I);for(var z=y*(p-1),U=y*m,D=0;D<y;++D,++z,++U){var B=c[z];c[z]=c[U],c[U]=B}var Z=x[p-1];for(x[p-1]=x[m],x[m]=Z,z=y*(p-1),U=y*(m=i(s,l,g,p-1,c,x,_)),D=0;D<y;++D,++z,++U)B=c[z],c[z]=c[U],c[U]=B;if(Z=x[p-1],x[p-1]=x[m],x[m]=Z,v<m){for(p=m-1;g<p&&c[y*(p-1)+l]===_;)p-=1;p+=1}else{if(!(m<v))break;for(g=m+1;g<p&&c[y*g+l]===_;)g+=1}}return i(s,l,u,v,c,x,c[y*v+l])};var i=t(122)("lo<p0"),n=8;function r(s,l,u,d,c,x){for(var g=2*s,p=g*(u+1)+l,v=u+1;v<d;++v,p+=g)for(var y=c[p],m=v,_=g*(v-1);m>u&&c[_+l]>y;--m,_-=g){for(var f=_,S=_+g,T=0;T<g;++T,++f,++S){var E=c[f];c[f]=c[S],c[S]=E}var C=x[m];x[m]=x[m-1],x[m-1]=C}}},122:function(h){h.exports=function(t){return o[t]};var o={"lo===p0":function(t,i,n,r,s,l,u){for(var d=2*t,c=d*n,x=c,g=n,p=i,v=n;r>v;++v,c+=d)if(s[c+p]===u)if(g===v)g+=1,x+=d;else{for(var y=0;d>y;++y){var m=s[c+y];s[c+y]=s[x],s[x++]=m}var _=l[v];l[v]=l[g],l[g++]=_}return g},"lo<p0":function(t,i,n,r,s,l,u){for(var d=2*t,c=d*n,x=c,g=n,p=i,v=n;r>v;++v,c+=d)if(s[c+p]<u)if(g===v)g+=1,x+=d;else{for(var y=0;d>y;++y){var m=s[c+y];s[c+y]=s[x],s[x++]=m}var _=l[v];l[v]=l[g],l[g++]=_}return g},"lo<=p0":function(t,i,n,r,s,l,u){for(var d=2*t,c=d*n,x=c,g=n,p=t+i,v=n;r>v;++v,c+=d)if(s[c+p]<=u)if(g===v)g+=1,x+=d;else{for(var y=0;d>y;++y){var m=s[c+y];s[c+y]=s[x],s[x++]=m}var _=l[v];l[v]=l[g],l[g++]=_}return g},"hi<=p0":function(t,i,n,r,s,l,u){for(var d=2*t,c=d*n,x=c,g=n,p=t+i,v=n;r>v;++v,c+=d)if(s[c+p]<=u)if(g===v)g+=1,x+=d;else{for(var y=0;d>y;++y){var m=s[c+y];s[c+y]=s[x],s[x++]=m}var _=l[v];l[v]=l[g],l[g++]=_}return g},"lo<p0&&p0<=hi":function(t,i,n,r,s,l,u){for(var d=2*t,c=d*n,x=c,g=n,p=i,v=t+i,y=n;r>y;++y,c+=d){var m=s[c+p],_=s[c+v];if(m<u&&u<=_)if(g===y)g+=1,x+=d;else{for(var f=0;d>f;++f){var S=s[c+f];s[c+f]=s[x],s[x++]=S}var T=l[y];l[y]=l[g],l[g++]=T}}return g},"lo<=p0&&p0<=hi":function(t,i,n,r,s,l,u){for(var d=2*t,c=d*n,x=c,g=n,p=i,v=t+i,y=n;r>y;++y,c+=d){var m=s[c+p],_=s[c+v];if(m<=u&&u<=_)if(g===y)g+=1,x+=d;else{for(var f=0;d>f;++f){var S=s[c+f];s[c+f]=s[x],s[x++]=S}var T=l[y];l[y]=l[g],l[g++]=T}}return g},"!(lo>=p0)&&!(p1>=hi)":function(t,i,n,r,s,l,u,d){for(var c=2*t,x=c*n,g=x,p=n,v=i,y=t+i,m=n;r>m;++m,x+=c){var _=s[x+v],f=s[x+y];if(!(_>=u||d>=f))if(p===m)p+=1,g+=c;else{for(var S=0;c>S;++S){var T=s[x+S];s[x+S]=s[g],s[g++]=T}var E=l[m];l[m]=l[p],l[p++]=E}}return p}}},309:function(h){h.exports=function(c,x){x<=4*o?t(0,x-1,c):d(0,x-1,c)};var o=32;function t(c,x,g){for(var p=2*(c+1),v=c+1;v<=x;++v){for(var y=g[p++],m=g[p++],_=v,f=p-2;_-- >c;){var S=g[f-2],T=g[f-1];if(S<y||S===y&&T<m)break;g[f]=S,g[f+1]=T,f-=2}g[f]=y,g[f+1]=m}}function i(c,x,g){x*=2;var p=g[c*=2],v=g[c+1];g[c]=g[x],g[c+1]=g[x+1],g[x]=p,g[x+1]=v}function n(c,x,g){x*=2,g[c*=2]=g[x],g[c+1]=g[x+1]}function r(c,x,g,p){x*=2,g*=2;var v=p[c*=2],y=p[c+1];p[c]=p[x],p[c+1]=p[x+1],p[x]=p[g],p[x+1]=p[g+1],p[g]=v,p[g+1]=y}function s(c,x,g,p,v){x*=2,v[c*=2]=v[x],v[x]=g,v[c+1]=v[x+1],v[x+1]=p}function l(c,x,g){x*=2;var p=g[c*=2],v=g[x];return!(p<v)&&(p!==v||g[c+1]>g[x+1])}function u(c,x,g,p){var v=p[c*=2];return v<x||v===x&&p[c+1]<g}function d(c,x,g){var p=(x-c+1)/6|0,v=c+p,y=x-p,m=c+x>>1,_=m-p,f=m+p,S=v,T=_,E=m,C=f,O=y,I=c+1,z=x-1,U=0;l(S,T,g)&&(U=S,S=T,T=U),l(C,O,g)&&(U=C,C=O,O=U),l(S,E,g)&&(U=S,S=E,E=U),l(T,E,g)&&(U=T,T=E,E=U),l(S,C,g)&&(U=S,S=C,C=U),l(E,C,g)&&(U=E,E=C,C=U),l(T,O,g)&&(U=T,T=O,O=U),l(T,E,g)&&(U=T,T=E,E=U),l(C,O,g)&&(U=C,C=O,O=U);for(var D=g[2*T],B=g[2*T+1],Z=g[2*C],F=g[2*C+1],j=2*S,V=2*E,te=2*O,Q=2*v,$=2*m,G=2*y,X=0;X<2;++X){var J=g[j+X],ne=g[V+X],ie=g[te+X];g[Q+X]=J,g[$+X]=ne,g[G+X]=ie}n(_,c,g),n(f,x,g);for(var ae=I;ae<=z;++ae)if(u(ae,D,B,g))ae!==I&&i(ae,I,g),++I;else if(!u(ae,Z,F,g))for(;;){if(u(z,Z,F,g)){u(z,D,B,g)?(r(ae,I,z,g),++I,--z):(i(ae,z,g),--z);break}if(--z<ae)break}s(c,I-1,D,B,g),s(x,z+1,Z,F,g),I-2-c<=o?t(c,I-2,g):d(c,I-2,g),x-(z+2)<=o?t(z+2,x,g):d(z+2,x,g),z-I<=o?t(I,z,g):d(I,z,g)}},1390:function(h,o,t){h.exports={init:function(_){var f=n.nextPow2(_);u.length<f&&(i.free(u),u=i.mallocInt32(f)),d.length<f&&(i.free(d),d=i.mallocInt32(f)),c.length<f&&(i.free(c),c=i.mallocInt32(f)),x.length<f&&(i.free(x),x=i.mallocInt32(f)),g.length<f&&(i.free(g),g=i.mallocInt32(f)),p.length<f&&(i.free(p),p=i.mallocInt32(f));var S=8*f;v.length<S&&(i.free(v),v=i.mallocDouble(S))},sweepBipartite:function(_,f,S,T,E,C,O,I,z,U){for(var D=0,B=2*_,Z=_-1,F=B-1,j=S;j<T;++j){var V=C[j],te=B*j;v[D++]=E[te+Z],v[D++]=-(V+1),v[D++]=E[te+F],v[D++]=V}for(j=O;j<I;++j){V=U[j]+s;var Q=B*j;v[D++]=z[Q+Z],v[D++]=-V,v[D++]=z[Q+F],v[D++]=V}var $=D>>>1;r(v,$);var G=0,X=0;for(j=0;j<$;++j){var J=0|v[2*j+1];if(J>=s)y(c,x,X--,J=J-s|0);else if(J>=0)y(u,d,G--,J);else if(J<=-s){J=-J-s|0;for(var ne=0;ne<G;++ne)if((ie=f(u[ne],J))!==void 0)return ie;m(c,x,X++,J)}else{for(J=-J-1|0,ne=0;ne<X;++ne){var ie;if((ie=f(J,c[ne]))!==void 0)return ie}m(u,d,G++,J)}}},sweepComplete:function(_,f,S,T,E,C,O,I,z,U){for(var D=0,B=2*_,Z=_-1,F=B-1,j=S;j<T;++j){var V=C[j]+1<<1,te=B*j;v[D++]=E[te+Z],v[D++]=-V,v[D++]=E[te+F],v[D++]=V}for(j=O;j<I;++j){V=U[j]+1<<1;var Q=B*j;v[D++]=z[Q+Z],v[D++]=1|-V,v[D++]=z[Q+F],v[D++]=1|V}var $=D>>>1;r(v,$);var G=0,X=0,J=0;for(j=0;j<$;++j){var ne=0|v[2*j+1],ie=1&ne;if(j<$-1&&ne>>1==v[2*j+3]>>1&&(ie=2,j+=1),ne<0){for(var ae=-(ne>>1)-1,le=0;le<J;++le)if((ce=f(g[le],ae))!==void 0)return ce;if(ie!==0){for(le=0;le<G;++le)if((ce=f(u[le],ae))!==void 0)return ce}if(ie!==1)for(le=0;le<X;++le){var ce;if((ce=f(c[le],ae))!==void 0)return ce}ie===0?m(u,d,G++,ae):ie===1?m(c,x,X++,ae):ie===2&&m(g,p,J++,ae)}else ae=(ne>>1)-1,ie===0?y(u,d,G--,ae):ie===1?y(c,x,X--,ae):ie===2&&y(g,p,J--,ae)}},scanBipartite:function(_,f,S,T,E,C,O,I,z,U,D,B){var Z=0,F=2*_,j=f,V=f+_,te=1,Q=1;T?Q=s:te=s;for(var $=E;$<C;++$){var G=$+te,X=F*$;v[Z++]=O[X+j],v[Z++]=-G,v[Z++]=O[X+V],v[Z++]=G}for($=z;$<U;++$){G=$+Q;var J=F*$;v[Z++]=D[J+j],v[Z++]=-G}var ne=Z>>>1;r(v,ne);var ie=0;for($=0;$<ne;++$){var ae=0|v[2*$+1];if(ae<0){var le=!1;if((G=-ae)>=s?(le=!T,G-=s):(le=!!T,G-=1),le)m(u,d,ie++,G);else{var ce=B[G],pe=F*G,ge=D[pe+f+1],me=D[pe+f+1+_];e:for(var ve=0;ve<ie;++ve){var Me=u[ve],_e=F*Me;if(!(me<O[_e+f+1]||O[_e+f+1+_]<ge)){for(var we=f+2;we<_;++we)if(D[pe+we+_]<O[_e+we]||O[_e+we+_]<D[pe+we])continue e;var oe,se=I[Me];if((oe=T?S(ce,se):S(se,ce))!==void 0)return oe}}}}else y(u,d,ie--,ae-te)}},scanComplete:function(_,f,S,T,E,C,O,I,z,U,D){for(var B=0,Z=2*_,F=f,j=f+_,V=T;V<E;++V){var te=V+s,Q=Z*V;v[B++]=C[Q+F],v[B++]=-te,v[B++]=C[Q+j],v[B++]=te}for(V=I;V<z;++V){te=V+1;var $=Z*V;v[B++]=U[$+F],v[B++]=-te}var G=B>>>1;r(v,G);var X=0;for(V=0;V<G;++V){var J=0|v[2*V+1];if(J<0)if((te=-J)>=s)u[X++]=te-s;else{var ne=D[te-=1],ie=Z*te,ae=U[ie+f+1],le=U[ie+f+1+_];e:for(var ce=0;ce<X;++ce){var pe=u[ce],ge=O[pe];if(ge===ne)break;var me=Z*pe;if(!(le<C[me+f+1]||C[me+f+1+_]<ae)){for(var ve=f+2;ve<_;++ve)if(U[ie+ve+_]<C[me+ve]||C[me+ve+_]<U[ie+ve])continue e;var Me=S(ge,ne);if(Me!==void 0)return Me}}}else{for(te=J-s,ce=X-1;ce>=0;--ce)if(u[ce]===te){for(ve=ce+1;ve<X;++ve)u[ve-1]=u[ve];break}--X}}}};var i=t(5306),n=t(2288),r=t(309),s=1<<28,l=1024,u=i.mallocInt32(l),d=i.mallocInt32(l),c=i.mallocInt32(l),x=i.mallocInt32(l),g=i.mallocInt32(l),p=i.mallocInt32(l),v=i.mallocDouble(8192);function y(_,f,S,T){var E=f[T],C=_[S-1];_[E]=C,f[C]=E}function m(_,f,S,T){_[S]=T,f[T]=S}},7761:function(h,o,t){var i=t(9971),n=t(743),r=t(2161),s=t(7098);function l(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function u(c,x){return c[0]-x[0]||c[1]-x[1]}function d(c,x,g){return x in c?c[x]:g}h.exports=function(c,x,g){Array.isArray(x)?(g=g||{},x=x||[]):(g=x||{},x=[]);var p=!!d(g,"delaunay",!0),v=!!d(g,"interior",!0),y=!!d(g,"exterior",!0),m=!!d(g,"infinity",!1);if(!v&&!y||c.length===0)return[];var _=i(c,x);if(p||v!==y||m){for(var f=n(c.length,function(E){return E.map(l).sort(u)}(x)),S=0;S<_.length;++S){var T=_[S];f.addTriangle(T[0],T[1],T[2])}return p&&r(c,f),y?v?m?s(f,0,m):f.cells():s(f,1,m):s(f,-1)}return _}},2161:function(h,o,t){var i=t(2227)[4];function n(r,s,l,u,d,c){var x=s.opposite(u,d);if(!(x<0)){if(d<u){var g=u;u=d,d=g,g=c,c=x,x=g}s.isConstraint(u,d)||i(r[u],r[d],r[c],r[x])<0&&l.push(u,d)}}t(5070),h.exports=function(r,s){for(var l=[],u=r.length,d=s.stars,c=0;c<u;++c)for(var x=d[c],g=1;g<x.length;g+=2)if(!((m=x[g])<c||s.isConstraint(c,m))){for(var p=x[g-1],v=-1,y=1;y<x.length;y+=2)if(x[y-1]===m){v=x[y];break}v<0||i(r[c],r[m],r[p],r[v])<0&&l.push(c,m)}for(;l.length>0;){for(var m=l.pop(),_=(p=-1,v=-1,x=d[c=l.pop()],1);_<x.length;_+=2){var f=x[_-1],S=x[_];f===m?v=S:S===m&&(p=f)}p<0||v<0||i(r[c],r[m],r[p],r[v])>=0||(s.flip(c,m),n(r,s,l,p,c,v),n(r,s,l,c,v,p),n(r,s,l,v,m,p),n(r,s,l,m,p,v))}}},7098:function(h,o,t){var i,n=t(5070);function r(l,u,d,c,x,g,p){this.cells=l,this.neighbor=u,this.flags=c,this.constraint=d,this.active=x,this.next=g,this.boundary=p}function s(l,u){return l[0]-u[0]||l[1]-u[1]||l[2]-u[2]}h.exports=function(l,u,d){var c=function(O,I){for(var z=O.cells(),U=z.length,D=0;D<U;++D){var B=(J=z[D])[0],Z=J[1],F=J[2];Z<F?Z<B&&(J[0]=Z,J[1]=F,J[2]=B):F<B&&(J[0]=F,J[1]=B,J[2]=Z)}z.sort(s);var j=new Array(U);for(D=0;D<j.length;++D)j[D]=0;var V=[],te=[],Q=new Array(3*U),$=new Array(3*U),G=null;I&&(G=[]);var X=new r(z,Q,$,j,V,te,G);for(D=0;D<U;++D)for(var J=z[D],ne=0;ne<3;++ne){B=J[ne],Z=J[(ne+1)%3];var ie=Q[3*D+ne]=X.locate(Z,B,O.opposite(Z,B)),ae=$[3*D+ne]=O.isConstraint(B,Z);ie<0&&(ae?te.push(D):(V.push(D),j[D]=1),I&&G.push([Z,B,-1]))}return X}(l,d);if(u===0)return d?c.cells.concat(c.boundary):c.cells;for(var x=1,g=c.active,p=c.next,v=c.flags,y=c.cells,m=c.constraint,_=c.neighbor;g.length>0||p.length>0;){for(;g.length>0;){var f=g.pop();if(v[f]!==-x){v[f]=x,y[f];for(var S=0;S<3;++S){var T=_[3*f+S];T>=0&&v[T]===0&&(m[3*f+S]?p.push(T):(g.push(T),v[T]=x))}}}var E=p;p=g,g=E,p.length=0,x=-x}var C=function(O,I,z){for(var U=0,D=0;D<O.length;++D)I[D]===z&&(O[U++]=O[D]);return O.length=U,O}(y,v,u);return d?C.concat(c.boundary):C},r.prototype.locate=(i=[0,0,0],function(l,u,d){var c=l,x=u,g=d;return u<d?u<l&&(c=u,x=d,g=l):d<l&&(c=d,x=l,g=u),c<0?-1:(i[0]=c,i[1]=x,i[2]=g,n.eq(this.cells,i,s))})},9971:function(h,o,t){var i=t(5070),n=t(417)[3];function r(p,v,y,m,_){this.a=p,this.b=v,this.idx=y,this.lowerIds=m,this.upperIds=_}function s(p,v,y,m){this.a=p,this.b=v,this.type=y,this.idx=m}function l(p,v){var y=p.a[0]-v.a[0]||p.a[1]-v.a[1]||p.type-v.type;return y||(p.type!==0&&(y=n(p.a,p.b,v.b))?y:p.idx-v.idx)}function u(p,v){return n(p.a,p.b,v)}function d(p,v,y,m,_){for(var f=i.lt(v,m,u),S=i.gt(v,m,u),T=f;T<S;++T){for(var E=v[T],C=E.lowerIds,O=C.length;O>1&&n(y[C[O-2]],y[C[O-1]],m)>0;)p.push([C[O-1],C[O-2],_]),O-=1;C.length=O,C.push(_);var I=E.upperIds;for(O=I.length;O>1&&n(y[I[O-2]],y[I[O-1]],m)<0;)p.push([I[O-2],I[O-1],_]),O-=1;I.length=O,I.push(_)}}function c(p,v){var y;return(y=p.a[0]<v.a[0]?n(p.a,p.b,v.a):n(v.b,v.a,p.a))?y:(y=v.b[0]<p.b[0]?n(p.a,p.b,v.b):n(v.b,v.a,p.b))||p.idx-v.idx}function x(p,v,y){var m=i.le(p,y,c),_=p[m],f=_.upperIds,S=f[f.length-1];_.upperIds=[S],p.splice(m+1,0,new r(y.a,y.b,y.idx,[S],f))}function g(p,v,y){var m=y.a;y.a=y.b,y.b=m;var _=i.eq(p,y,c),f=p[_];p[_-1].upperIds=f.upperIds,p.splice(_,1)}h.exports=function(p,v){for(var y=p.length,m=v.length,_=[],f=0;f<y;++f)_.push(new s(p[f],null,0,f));for(f=0;f<m;++f){var S=v[f],T=p[S[0]],E=p[S[1]];T[0]<E[0]?_.push(new s(T,E,2,f),new s(E,T,1,f)):T[0]>E[0]&&_.push(new s(E,T,2,f),new s(T,E,1,f))}_.sort(l);for(var C=_[0].a[0]-(1+Math.abs(_[0].a[0]))*Math.pow(2,-52),O=[new r([C,1],[C,0],-1,[],[])],I=[],z=(f=0,_.length);f<z;++f){var U=_[f],D=U.type;D===0?d(I,O,p,U.a,U.idx):D===2?x(O,0,U):g(O,0,U)}return I}},743:function(h,o,t){var i=t(5070);function n(l,u){this.stars=l,this.edges=u}h.exports=function(l,u){for(var d=new Array(l),c=0;c<l;++c)d[c]=[];return new n(d,u)};var r=n.prototype;function s(l,u,d){for(var c=1,x=l.length;c<x;c+=2)if(l[c-1]===u&&l[c]===d)return l[c-1]=l[x-2],l[c]=l[x-1],void(l.length=x-2)}r.isConstraint=function(){var l=[0,0];function u(d,c){return d[0]-c[0]||d[1]-c[1]}return function(d,c){return l[0]=Math.min(d,c),l[1]=Math.max(d,c),i.eq(this.edges,l,u)>=0}}(),r.removeTriangle=function(l,u,d){var c=this.stars;s(c[l],u,d),s(c[u],d,l),s(c[d],l,u)},r.addTriangle=function(l,u,d){var c=this.stars;c[l].push(u,d),c[u].push(d,l),c[d].push(l,u)},r.opposite=function(l,u){for(var d=this.stars[u],c=1,x=d.length;c<x;c+=2)if(d[c]===l)return d[c-1];return-1},r.flip=function(l,u){var d=this.opposite(l,u),c=this.opposite(u,l);this.removeTriangle(l,u,d),this.removeTriangle(u,l,c),this.addTriangle(l,c,d),this.addTriangle(u,d,c)},r.edges=function(){for(var l=this.stars,u=[],d=0,c=l.length;d<c;++d)for(var x=l[d],g=0,p=x.length;g<p;g+=2)u.push([x[g],x[g+1]]);return u},r.cells=function(){for(var l=this.stars,u=[],d=0,c=l.length;d<c;++d)for(var x=l[d],g=0,p=x.length;g<p;g+=2){var v=x[g],y=x[g+1];d<Math.min(v,y)&&u.push([d,v,y])}return u}},9887:function(h){h.exports=function(o){for(var t=1,i=1;i<o.length;++i)for(var n=0;n<i;++n)if(o[i]<o[n])t=-t;else if(o[n]===o[i])return 0;return t}},9243:function(h,o,t){var i=t(3094),n=t(6606);function r(u,d){for(var c=0,x=u.length,g=0;g<x;++g)c+=u[g]*d[g];return c}function s(u){var d=u.length;if(d===0)return[];u[0].length;var c=i([u.length+1,u.length+1],1),x=i([u.length+1],1);c[d][d]=0;for(var g=0;g<d;++g){for(var p=0;p<=g;++p)c[p][g]=c[g][p]=2*r(u[g],u[p]);x[g]=r(u[g],u[g])}var v=n(c,x),y=0,m=v[d+1];for(g=0;g<m.length;++g)y+=m[g];var _=new Array(d);for(g=0;g<d;++g){m=v[g];var f=0;for(p=0;p<m.length;++p)f+=m[p];_[g]=f/y}return _}function l(u){if(u.length===0)return[];for(var d=u[0].length,c=i([d]),x=s(u),g=0;g<u.length;++g)for(var p=0;p<d;++p)c[p]+=u[g][p]*x[g];return c}l.barycenetric=s,h.exports=l},1778:function(h,o,t){h.exports=function(n){for(var r=i(n),s=0,l=0;l<n.length;++l)for(var u=n[l],d=0;d<r.length;++d)s+=Math.pow(u[d]-r[d],2);return Math.sqrt(s/n.length)};var i=t(9243)},197:function(h,o,t){h.exports=function(S,T,E){var C;if(E){C=T;for(var O=new Array(T.length),I=0;I<T.length;++I){var z=T[I];O[I]=[z[0],z[1],E[I]]}T=O}for(var U=function(D,B,Z){var F=v(D,[],p(D));return _(B,F,Z),!!F}(S,T,!!E);f(S,T,!!E);)U=!0;if(E&&U)for(C.length=0,E.length=0,I=0;I<T.length;++I)z=T[I],C.push([z[0],z[1]]),E.push(z[2]);return U};var i=t(1731),n=t(2569),r=t(4434),s=t(5125),l=t(8846),u=t(7999),d=t(2826),c=t(8551),x=t(5528);function g(S){var T=u(S);return[c(T,-1/0),c(T,1/0)]}function p(S){for(var T=new Array(S.length),E=0;E<S.length;++E){var C=S[E];T[E]=[c(C[0],-1/0),c(C[1],-1/0),c(C[0],1/0),c(C[1],1/0)]}return T}function v(S,T,E){for(var C=T.length,O=new i(C),I=[],z=0;z<T.length;++z){var U=T[z],D=g(U[0]),B=g(U[1]);I.push([c(D[0],-1/0),c(B[0],-1/0),c(D[1],1/0),c(B[1],1/0)])}n(I,function(te,Q){O.link(te,Q)});var Z=!0,F=new Array(C);for(z=0;z<C;++z)(V=O.find(z))!==z&&(Z=!1,S[V]=[Math.min(S[z][0],S[V][0]),Math.min(S[z][1],S[V][1])]);if(Z)return null;var j=0;for(z=0;z<C;++z){var V;(V=O.find(z))===z?(F[z]=j,S[j++]=S[z]):F[z]=-1}for(S.length=j,z=0;z<C;++z)F[z]<0&&(F[z]=F[O.find(z)]);return F}function y(S,T){return S[0]-T[0]||S[1]-T[1]}function m(S,T){return S[0]-T[0]||S[1]-T[1]||(S[2]<T[2]?-1:S[2]>T[2]?1:0)}function _(S,T,E){if(S.length!==0){if(T)for(var C=0;C<S.length;++C){var O=T[(z=S[C])[0]],I=T[z[1]];z[0]=Math.min(O,I),z[1]=Math.max(O,I)}else for(C=0;C<S.length;++C){var z;O=(z=S[C])[0],I=z[1],z[0]=Math.min(O,I),z[1]=Math.max(O,I)}E?S.sort(m):S.sort(y);var U=1;for(C=1;C<S.length;++C){var D=S[C-1],B=S[C];(B[0]!==D[0]||B[1]!==D[1]||E&&B[2]!==D[2])&&(S[U++]=B)}S.length=U}}function f(S,T,E){var C=function(D,B){for(var Z=new Array(B.length),F=0;F<B.length;++F){var j=B[F],V=D[j[0]],te=D[j[1]];Z[F]=[c(Math.min(V[0],te[0]),-1/0),c(Math.min(V[1],te[1]),-1/0),c(Math.max(V[0],te[0]),1/0),c(Math.max(V[1],te[1]),1/0)]}return Z}(S,T),O=function(D,B,Z){var F=[];return n(Z,function(j,V){var te=B[j],Q=B[V];if(te[0]!==Q[0]&&te[0]!==Q[1]&&te[1]!==Q[0]&&te[1]!==Q[1]){var $=D[te[0]],G=D[te[1]],X=D[Q[0]],J=D[Q[1]];r($,G,X,J)&&F.push([j,V])}}),F}(S,T,C),I=function(D,B,Z,F){var j=[];return n(Z,F,function(V,te){var Q=B[V];if(Q[0]!==te&&Q[1]!==te){var $=D[te],G=D[Q[0]],X=D[Q[1]];r(G,X,$,$)&&j.push([V,te])}}),j}(S,T,C,p(S)),z=function(D,B,Z,F,j){var V,te,Q=D.map(function(oe){return[s(oe[0]),s(oe[1])]});for(V=0;V<Z.length;++V){var $=Z[V];te=$[0];var G=$[1],X=B[te],J=B[G],ne=x(d(D[X[0]]),d(D[X[1]]),d(D[J[0]]),d(D[J[1]]));if(ne){var ie=D.length;D.push([u(ne[0]),u(ne[1])]),Q.push(ne),F.push([te,ie],[G,ie])}}for(F.sort(function(oe,se){if(oe[0]!==se[0])return oe[0]-se[0];var de=Q[oe[1]],Ee=Q[se[1]];return l(de[0],Ee[0])||l(de[1],Ee[1])}),V=F.length-1;V>=0;--V){var ae=B[te=(_e=F[V])[0]],le=ae[0],ce=ae[1],pe=D[le],ge=D[ce];if((pe[0]-ge[0]||pe[1]-ge[1])<0){var me=le;le=ce,ce=me}ae[0]=le;var ve,Me=ae[1]=_e[1];for(j&&(ve=ae[2]);V>0&&F[V-1][0]===te;){var _e,we=(_e=F[--V])[1];j?B.push([Me,we,ve]):B.push([Me,we]),Me=we}j?B.push([Me,ce,ve]):B.push([Me,ce])}return Q}(S,T,O,I,E),U=v(S,z);return _(T,U,E),!!U||O.length>0||I.length>0}},5528:function(h,o,t){h.exports=function(x,g,p,v){var y=l(g,x),m=l(v,p),_=c(y,m);if(s(_)===0)return null;var f=c(m,l(x,p)),S=n(f,_),T=d(y,S);return u(x,T)};var i=t(3962),n=t(9189),r=t(4354),s=t(4951),l=t(6695),u=t(7584),d=t(4469);function c(x,g){return r(i(x[0],g[1]),i(x[1],g[0]))}},5692:function(h){h.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(h,o,t){var i=t(5692),n=t(3578);function r(u){return[u[0]/255,u[1]/255,u[2]/255,u[3]]}function s(u){for(var d,c="#",x=0;x<3;++x)c+=("00"+(d=(d=u[x]).toString(16))).substr(d.length);return c}function l(u){return"rgba("+u.join(",")+")"}h.exports=function(u){var d,c,x,g,p,v,y,m,_,f;if(u||(u={}),m=(u.nshades||72)-1,y=u.format||"hex",(v=u.colormap)||(v="jet"),typeof v=="string"){if(v=v.toLowerCase(),!i[v])throw Error(v+" not a supported colorscale");p=i[v]}else{if(!Array.isArray(v))throw Error("unsupported colormap option",v);p=v.slice()}if(p.length>m+1)throw new Error(v+" map requires nshades to be at least size "+p.length);_=Array.isArray(u.alpha)?u.alpha.length!==2?[1,1]:u.alpha.slice():typeof u.alpha=="number"?[u.alpha,u.alpha]:[1,1],d=p.map(function(O){return Math.round(O.index*m)}),_[0]=Math.min(Math.max(_[0],0),1),_[1]=Math.min(Math.max(_[1],0),1);var S=p.map(function(O,I){var z=p[I].index,U=p[I].rgb.slice();return U.length===4&&U[3]>=0&&U[3]<=1||(U[3]=_[0]+(_[1]-_[0])*z),U}),T=[];for(f=0;f<d.length-1;++f){g=d[f+1]-d[f],c=S[f],x=S[f+1];for(var E=0;E<g;E++){var C=E/g;T.push([Math.round(n(c[0],x[0],C)),Math.round(n(c[1],x[1],C)),Math.round(n(c[2],x[2],C)),n(c[3],x[3],C)])}}return T.push(p[p.length-1].rgb.concat(_[1])),y==="hex"?T=T.map(s):y==="rgbaString"?T=T.map(l):y==="float"&&(T=T.map(r)),T}},9398:function(h,o,t){h.exports=function(d,c,x,g){var p=i(c,x,g);if(p===0){var v=n(i(d,c,x)),y=n(i(d,c,g));if(v===y){if(v===0){var m=u(d,c,x);return m===u(d,c,g)?0:m?1:-1}return 0}return y===0?v>0||u(d,c,g)?-1:1:v===0?y>0||u(d,c,x)?1:-1:n(y-v)}var _=i(d,c,x);return _>0?p>0&&i(d,c,g)>0?1:-1:_<0?p>0||i(d,c,g)>0?1:-1:i(d,c,g)>0||u(d,c,x)?1:-1};var i=t(417),n=t(7538),r=t(87),s=t(2019),l=t(9662);function u(d,c,x){var g=r(d[0],-c[0]),p=r(d[1],-c[1]),v=r(x[0],-c[0]),y=r(x[1],-c[1]),m=l(s(g,v),s(p,y));return m[m.length-1]>=0}},7538:function(h){h.exports=function(o){return o<0?-1:o>0?1:0}},9209:function(h){h.exports=function(i,n){var r=i.length,s=i.length-n.length;if(s)return s;switch(r){case 0:return 0;case 1:return i[0]-n[0];case 2:return i[0]+i[1]-n[0]-n[1]||o(i[0],i[1])-o(n[0],n[1]);case 3:var l=i[0]+i[1],u=n[0]+n[1];if(s=l+i[2]-(u+n[2]))return s;var d=o(i[0],i[1]),c=o(n[0],n[1]);return o(d,i[2])-o(c,n[2])||o(d+i[2],l)-o(c+n[2],u);case 4:var x=i[0],g=i[1],p=i[2],v=i[3],y=n[0],m=n[1],_=n[2],f=n[3];return x+g+p+v-(y+m+_+f)||o(x,g,p,v)-o(y,m,_,f,y)||o(x+g,x+p,x+v,g+p,g+v,p+v)-o(y+m,y+_,y+f,m+_,m+f,_+f)||o(x+g+p,x+g+v,x+p+v,g+p+v)-o(y+m+_,y+m+f,y+_+f,m+_+f);default:for(var S=i.slice().sort(t),T=n.slice().sort(t),E=0;E<r;++E)if(s=S[E]-T[E])return s;return 0}};var o=Math.min;function t(i,n){return i-n}},1284:function(h,o,t){var i=t(9209),n=t(9887);h.exports=function(r,s){return i(r,s)||n(r)-n(s)}},5537:function(h,o,t){var i=t(8950),n=t(8722),r=t(3332);h.exports=function(s){var l=s.length;if(l===0)return[];if(l===1)return[[0]];var u=s[0].length;return u===0?[]:u===1?i(s):u===2?n(s):r(s,u)}},8950:function(h){h.exports=function(o){for(var t=0,i=0,n=1;n<o.length;++n)o[n][0]<o[t][0]&&(t=n),o[n][0]>o[i][0]&&(i=n);return t<i?[[t],[i]]:t>i?[[i],[t]]:[[t]]}},8722:function(h,o,t){h.exports=function(n){var r=i(n),s=r.length;if(s<=2)return[];for(var l=new Array(s),u=r[s-1],d=0;d<s;++d){var c=r[d];l[d]=[u,c],u=c}return l};var i=t(3266)},3332:function(h,o,t){h.exports=function(r,s){try{return i(r,!0)}catch{var l=n(r);if(l.length<=s)return[];var u=function(c,x){for(var g=c.length,p=new Array(g),v=0;v<x.length;++v)p[v]=c[x[v]];var y=x.length;for(v=0;v<g;++v)x.indexOf(v)<0&&(p[y++]=c[v]);return p}(r,l);return function(c,x){for(var g=c.length,p=x.length,v=0;v<g;++v)for(var y=c[v],m=0;m<y.length;++m){var _=y[m];if(_<p)y[m]=x[_];else{_-=p;for(var f=0;f<p;++f)_>=x[f]&&(_+=1);y[m]=_}}return c}(i(u,!0),l)}};var i=t(2183),n=t(2153)},9680:function(h){h.exports=function(o,t,i,n,r,s){var l=r-1,u=r*r,d=l*l,c=(1+2*r)*d,x=r*d,g=u*(3-2*r),p=u*l;if(o.length){s||(s=new Array(o.length));for(var v=o.length-1;v>=0;--v)s[v]=c*o[v]+x*t[v]+g*i[v]+p*n[v];return s}return c*o+x*t+g*i+p*n},h.exports.derivative=function(o,t,i,n,r,s){var l=6*r*r-6*r,u=3*r*r-4*r+1,d=-6*r*r+6*r,c=3*r*r-2*r;if(o.length){s||(s=new Array(o.length));for(var x=o.length-1;x>=0;--x)s[x]=l*o[x]+u*t[x]+d*i[x]+c*n[x];return s}return l*o+u*t+d*i[x]+c*n}},4419:function(h,o,t){var i=t(2183),n=t(1215);function r(l,u){this.point=l,this.index=u}function s(l,u){for(var d=l.point,c=u.point,x=d.length,g=0;g<x;++g){var p=c[g]-d[g];if(p)return p}return 0}h.exports=function(l,u){var d=l.length;if(d===0)return[];var c=l[0].length;if(c<1)return[];if(c===1)return function(z,U,D){if(z===1)return D?[[-1,0]]:[];var B=U.map(function(te,Q){return[te[0],Q]});B.sort(function(te,Q){return te[0]-Q[0]});for(var Z=new Array(z-1),F=1;F<z;++F){var j=B[F-1],V=B[F];Z[F-1]=[j[1],V[1]]}return D&&Z.push([-1,Z[0][1]],[Z[z-1][1],-1]),Z}(d,l,u);for(var x=new Array(d),g=1,p=0;p<d;++p){for(var v=l[p],y=new Array(c+1),m=0,_=0;_<c;++_){var f=v[_];y[_]=f,m+=f*f}y[c]=m,x[p]=new r(y,p),g=Math.max(m,g)}n(x,s),d=x.length;var S=new Array(d+c+1),T=new Array(d+c+1),E=(c+1)*(c+1)*g,C=new Array(c+1);for(p=0;p<=c;++p)C[p]=0;for(C[c]=E,S[0]=C.slice(),T[0]=-1,p=0;p<=c;++p)(y=C.slice())[p]=1,S[p+1]=y,T[p+1]=-1;for(p=0;p<d;++p){var O=x[p];S[p+c+1]=O.point,T[p+c+1]=O.index}var I=i(S,!1);if(I=u?I.filter(function(z){for(var U=0,D=0;D<=c;++D){var B=T[z[D]];if(B<0&&++U>=2)return!1;z[D]=B}return!0}):I.filter(function(z){for(var U=0;U<=c;++U){var D=T[z[U]];if(D<0)return!1;z[U]=D}return!0}),1&c)for(p=0;p<I.length;++p)y=(O=I[p])[0],O[0]=O[1],O[1]=y;return I}},8362:function(h){var o=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),i=new Uint32Array(t.buffer);t[0]=1,o=!0,i[1]===1072693248?(h.exports=function(r){return t[0]=r,[i[0],i[1]]},h.exports.pack=function(r,s){return i[0]=r,i[1]=s,t[0]},h.exports.lo=function(r){return t[0]=r,i[0]},h.exports.hi=function(r){return t[0]=r,i[1]}):i[0]===1072693248?(h.exports=function(r){return t[0]=r,[i[1],i[0]]},h.exports.pack=function(r,s){return i[1]=r,i[0]=s,t[0]},h.exports.lo=function(r){return t[0]=r,i[1]},h.exports.hi=function(r){return t[0]=r,i[0]}):o=!1}if(!o){var n=new Buffer(8);h.exports=function(r){return n.writeDoubleLE(r,0,!0),[n.readUInt32LE(0,!0),n.readUInt32LE(4,!0)]},h.exports.pack=function(r,s){return n.writeUInt32LE(r,0,!0),n.writeUInt32LE(s,4,!0),n.readDoubleLE(0,!0)},h.exports.lo=function(r){return n.writeDoubleLE(r,0,!0),n.readUInt32LE(0,!0)},h.exports.hi=function(r){return n.writeDoubleLE(r,0,!0),n.readUInt32LE(4,!0)}}h.exports.sign=function(r){return h.exports.hi(r)>>>31},h.exports.exponent=function(r){return(h.exports.hi(r)<<1>>>21)-1023},h.exports.fraction=function(r){var s=h.exports.lo(r),l=h.exports.hi(r),u=1048575&l;return 2146435072&l&&(u+=1048576),[s,u]},h.exports.denormalized=function(r){return!(2146435072&h.exports.hi(r))}},3094:function(h){function o(t,i,n){var r=0|t[n];if(r<=0)return[];var s,l=new Array(r);if(n===t.length-1)for(s=0;s<r;++s)l[s]=i;else for(s=0;s<r;++s)l[s]=o(t,i,n+1);return l}h.exports=function(t,i){switch(i===void 0&&(i=0),typeof t){case"number":if(t>0)return function(n,r){var s,l;for(s=new Array(n),l=0;l<n;++l)s[l]=r;return s}(0|t,i);break;case"object":if(typeof t.length=="number")return o(t,i,0)}return[]}},8348:function(h,o,t){h.exports=function(n,r){var s=n.length;if(typeof r!="number"){r=0;for(var l=0;l<s;++l){var u=n[l];r=Math.max(r,u[0],u[1])}r=1+(0|r)}r|=0;var d=new Array(r);for(l=0;l<r;++l)d[l]=[];for(l=0;l<s;++l)d[(u=n[l])[0]].push(u[1]),d[u[1]].push(u[0]);for(var c=0;c<r;++c)i(d[c],function(x,g){return x-g});return d};var i=t(1215)},5795:function(h){h.exports=function(o,t,i){var n=t||0,r=i||1;return[[o[12]+o[0],o[13]+o[1],o[14]+o[2],o[15]+o[3]],[o[12]-o[0],o[13]-o[1],o[14]-o[2],o[15]-o[3]],[o[12]+o[4],o[13]+o[5],o[14]+o[6],o[15]+o[7]],[o[12]-o[4],o[13]-o[5],o[14]-o[6],o[15]-o[7]],[n*o[12]+o[8],n*o[13]+o[9],n*o[14]+o[10],n*o[15]+o[11]],[r*o[12]-o[8],r*o[13]-o[9],r*o[14]-o[10],r*o[15]-o[11]]]}},8444:function(h,o,t){h.exports=function(d,c,x){switch(arguments.length){case 0:return new s([0],[0],0);case 1:return typeof d=="number"?new s(g=u(d),g,0):new s(d,u(d.length),0);case 2:var g;if(typeof c=="number")return new s(d,g=u(d.length),+c);x=0;case 3:if(d.length!==c.length)throw new Error("state and velocity lengths must match");return new s(d,c,x)}};var i=t(9680),n=t(5070);function r(d,c,x){return Math.min(c,Math.max(d,x))}function s(d,c,x){this.dimension=d.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var g=0;g<this.dimension;++g)this.bounds[0][g]=-1/0,this.bounds[1][g]=1/0;this._state=d.slice().reverse(),this._velocity=c.slice().reverse(),this._time=[x],this._scratch=[d.slice(),d.slice(),d.slice(),d.slice(),d.slice()]}var l=s.prototype;function u(d){for(var c=new Array(d),x=0;x<d;++x)c[x]=0;return c}l.flush=function(d){var c=n.gt(this._time,d)-1;c<=0||(this._time.splice(0,c),this._state.splice(0,c*this.dimension),this._velocity.splice(0,c*this.dimension))},l.curve=function(d){var c=this._time,x=c.length,g=n.le(c,d),p=this._scratch[0],v=this._state,y=this._velocity,m=this.dimension,_=this.bounds;if(g<0)for(var f=m-1,S=0;S<m;++S,--f)p[S]=v[f];else if(g>=x-1){f=v.length-1;var T=d-c[x-1];for(S=0;S<m;++S,--f)p[S]=v[f]+T*y[f]}else{f=m*(g+1)-1;var E=c[g],C=c[g+1]-E||1,O=this._scratch[1],I=this._scratch[2],z=this._scratch[3],U=this._scratch[4],D=!0;for(S=0;S<m;++S,--f)O[S]=v[f],z[S]=y[f]*C,I[S]=v[f+m],U[S]=y[f+m]*C,D=D&&O[S]===I[S]&&z[S]===U[S]&&z[S]===0;if(D)for(S=0;S<m;++S)p[S]=O[S];else i(O,z,I,U,(d-E)/C,p)}var B=_[0],Z=_[1];for(S=0;S<m;++S)p[S]=r(B[S],Z[S],p[S]);return p},l.dcurve=function(d){var c=this._time,x=c.length,g=n.le(c,d),p=this._scratch[0],v=this._state,y=this._velocity,m=this.dimension;if(g>=x-1)for(var _=v.length-1,f=(c[x-1],0);f<m;++f,--_)p[f]=y[_];else{_=m*(g+1)-1;var S=c[g],T=c[g+1]-S||1,E=this._scratch[1],C=this._scratch[2],O=this._scratch[3],I=this._scratch[4],z=!0;for(f=0;f<m;++f,--_)E[f]=v[_],O[f]=y[_]*T,C[f]=v[_+m],I[f]=y[_+m]*T,z=z&&E[f]===C[f]&&O[f]===I[f]&&O[f]===0;if(z)for(f=0;f<m;++f)p[f]=0;else for(i.derivative(E,O,C,I,(d-S)/T,p),f=0;f<m;++f)p[f]/=T}return p},l.lastT=function(){var d=this._time;return d[d.length-1]},l.stable=function(){for(var d=this._velocity,c=d.length,x=this.dimension-1;x>=0;--x)if(d[--c])return!1;return!0},l.jump=function(d){var c=this.lastT(),x=this.dimension;if(!(d<c||arguments.length!==x+1)){var g=this._state,p=this._velocity,v=g.length-this.dimension,y=this.bounds,m=y[0],_=y[1];this._time.push(c,d);for(var f=0;f<2;++f)for(var S=0;S<x;++S)g.push(g[v++]),p.push(0);for(this._time.push(d),S=x;S>0;--S)g.push(r(m[S-1],_[S-1],arguments[S])),p.push(0)}},l.push=function(d){var c=this.lastT(),x=this.dimension;if(!(d<c||arguments.length!==x+1)){var g=this._state,p=this._velocity,v=g.length-this.dimension,y=d-c,m=this.bounds,_=m[0],f=m[1],S=y>1e-6?1/y:0;this._time.push(d);for(var T=x;T>0;--T){var E=r(_[T-1],f[T-1],arguments[T]);g.push(E),p.push((E-g[v++])*S)}}},l.set=function(d){var c=this.dimension;if(!(d<this.lastT()||arguments.length!==c+1)){var x=this._state,g=this._velocity,p=this.bounds,v=p[0],y=p[1];this._time.push(d);for(var m=c;m>0;--m)x.push(r(v[m-1],y[m-1],arguments[m])),g.push(0)}},l.move=function(d){var c=this.lastT(),x=this.dimension;if(!(d<=c||arguments.length!==x+1)){var g=this._state,p=this._velocity,v=g.length-this.dimension,y=this.bounds,m=y[0],_=y[1],f=d-c,S=f>1e-6?1/f:0;this._time.push(d);for(var T=x;T>0;--T){var E=arguments[T];g.push(r(m[T-1],_[T-1],g[v++]+E)),p.push(E*S)}}},l.idle=function(d){var c=this.lastT();if(!(d<c)){var x=this.dimension,g=this._state,p=this._velocity,v=g.length-x,y=this.bounds,m=y[0],_=y[1],f=d-c;this._time.push(d);for(var S=x-1;S>=0;--S)g.push(r(m[S],_[S],g[v]+f*p[v])),p.push(0),v+=1}}},7080:function(h){function o(v,y,m,_,f,S){this._color=v,this.key=y,this.value=m,this.left=_,this.right=f,this._count=S}function t(v){return new o(v._color,v.key,v.value,v.left,v.right,v._count)}function i(v,y){return new o(v,y.key,y.value,y.left,y.right,y._count)}function n(v){v._count=1+(v.left?v.left._count:0)+(v.right?v.right._count:0)}function r(v,y){this._compare=v,this.root=y}h.exports=function(v){return new r(v||p,null)};var s=r.prototype;function l(v,y){var m;return y.left&&(m=l(v,y.left))?m:(m=v(y.key,y.value))||(y.right?l(v,y.right):void 0)}function u(v,y,m,_){if(y(v,_.key)<=0){var f;if(_.left&&(f=u(v,y,m,_.left))||(f=m(_.key,_.value)))return f}if(_.right)return u(v,y,m,_.right)}function d(v,y,m,_,f){var S,T=m(v,f.key),E=m(y,f.key);if(T<=0&&(f.left&&(S=d(v,y,m,_,f.left))||E>0&&(S=_(f.key,f.value))))return S;if(E>0&&f.right)return d(v,y,m,_,f.right)}function c(v,y){this.tree=v,this._stack=y}Object.defineProperty(s,"keys",{get:function(){var v=[];return this.forEach(function(y,m){v.push(y)}),v}}),Object.defineProperty(s,"values",{get:function(){var v=[];return this.forEach(function(y,m){v.push(m)}),v}}),Object.defineProperty(s,"length",{get:function(){return this.root?this.root._count:0}}),s.insert=function(v,y){for(var m=this._compare,_=this.root,f=[],S=[];_;){var T=m(v,_.key);f.push(_),S.push(T),_=T<=0?_.left:_.right}f.push(new o(0,v,y,null,null,1));for(var E=f.length-2;E>=0;--E)_=f[E],S[E]<=0?f[E]=new o(_._color,_.key,_.value,f[E+1],_.right,_._count+1):f[E]=new o(_._color,_.key,_.value,_.left,f[E+1],_._count+1);for(E=f.length-1;E>1;--E){var C=f[E-1];if(_=f[E],C._color===1||_._color===1)break;var O=f[E-2];if(O.left===C)if(C.left===_){if(!(I=O.right)||I._color!==0){O._color=0,O.left=C.right,C._color=1,C.right=O,f[E-2]=C,f[E-1]=_,n(O),n(C),E>=3&&((z=f[E-3]).left===O?z.left=C:z.right=C);break}C._color=1,O.right=i(1,I),O._color=0,E-=1}else{if(!(I=O.right)||I._color!==0){C.right=_.left,O._color=0,O.left=_.right,_._color=1,_.left=C,_.right=O,f[E-2]=_,f[E-1]=C,n(O),n(C),n(_),E>=3&&((z=f[E-3]).left===O?z.left=_:z.right=_);break}C._color=1,O.right=i(1,I),O._color=0,E-=1}else if(C.right===_){if(!(I=O.left)||I._color!==0){O._color=0,O.right=C.left,C._color=1,C.left=O,f[E-2]=C,f[E-1]=_,n(O),n(C),E>=3&&((z=f[E-3]).right===O?z.right=C:z.left=C);break}C._color=1,O.left=i(1,I),O._color=0,E-=1}else{var I;if(!(I=O.left)||I._color!==0){var z;C.left=_.right,O._color=0,O.right=_.left,_._color=1,_.right=C,_.left=O,f[E-2]=_,f[E-1]=C,n(O),n(C),n(_),E>=3&&((z=f[E-3]).right===O?z.right=_:z.left=_);break}C._color=1,O.left=i(1,I),O._color=0,E-=1}}return f[0]._color=1,new r(m,f[0])},s.forEach=function(v,y,m){if(this.root)switch(arguments.length){case 1:return l(v,this.root);case 2:return u(y,this._compare,v,this.root);case 3:return this._compare(y,m)>=0?void 0:d(y,m,this._compare,v,this.root)}},Object.defineProperty(s,"begin",{get:function(){for(var v=[],y=this.root;y;)v.push(y),y=y.left;return new c(this,v)}}),Object.defineProperty(s,"end",{get:function(){for(var v=[],y=this.root;y;)v.push(y),y=y.right;return new c(this,v)}}),s.at=function(v){if(v<0)return new c(this,[]);for(var y=this.root,m=[];;){if(m.push(y),y.left){if(v<y.left._count){y=y.left;continue}v-=y.left._count}if(!v)return new c(this,m);if(v-=1,!y.right||v>=y.right._count)break;y=y.right}return new c(this,[])},s.ge=function(v){for(var y=this._compare,m=this.root,_=[],f=0;m;){var S=y(v,m.key);_.push(m),S<=0&&(f=_.length),m=S<=0?m.left:m.right}return _.length=f,new c(this,_)},s.gt=function(v){for(var y=this._compare,m=this.root,_=[],f=0;m;){var S=y(v,m.key);_.push(m),S<0&&(f=_.length),m=S<0?m.left:m.right}return _.length=f,new c(this,_)},s.lt=function(v){for(var y=this._compare,m=this.root,_=[],f=0;m;){var S=y(v,m.key);_.push(m),S>0&&(f=_.length),m=S<=0?m.left:m.right}return _.length=f,new c(this,_)},s.le=function(v){for(var y=this._compare,m=this.root,_=[],f=0;m;){var S=y(v,m.key);_.push(m),S>=0&&(f=_.length),m=S<0?m.left:m.right}return _.length=f,new c(this,_)},s.find=function(v){for(var y=this._compare,m=this.root,_=[];m;){var f=y(v,m.key);if(_.push(m),f===0)return new c(this,_);m=f<=0?m.left:m.right}return new c(this,[])},s.remove=function(v){var y=this.find(v);return y?y.remove():this},s.get=function(v){for(var y=this._compare,m=this.root;m;){var _=y(v,m.key);if(_===0)return m.value;m=_<=0?m.left:m.right}};var x=c.prototype;function g(v,y){v.key=y.key,v.value=y.value,v.left=y.left,v.right=y.right,v._color=y._color,v._count=y._count}function p(v,y){return v<y?-1:v>y?1:0}Object.defineProperty(x,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(x,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),x.clone=function(){return new c(this.tree,this._stack.slice())},x.remove=function(){var v=this._stack;if(v.length===0)return this.tree;var y=new Array(v.length),m=v[v.length-1];y[y.length-1]=new o(m._color,m.key,m.value,m.left,m.right,m._count);for(var _=v.length-2;_>=0;--_)(m=v[_]).left===v[_+1]?y[_]=new o(m._color,m.key,m.value,y[_+1],m.right,m._count):y[_]=new o(m._color,m.key,m.value,m.left,y[_+1],m._count);if((m=y[y.length-1]).left&&m.right){var f=y.length;for(m=m.left;m.right;)y.push(m),m=m.right;var S=y[f-1];for(y.push(new o(m._color,S.key,S.value,m.left,m.right,m._count)),y[f-1].key=m.key,y[f-1].value=m.value,_=y.length-2;_>=f;--_)m=y[_],y[_]=new o(m._color,m.key,m.value,m.left,y[_+1],m._count);y[f-1].left=y[f]}if((m=y[y.length-1])._color===0){var T=y[y.length-2];for(T.left===m?T.left=null:T.right===m&&(T.right=null),y.pop(),_=0;_<y.length;++_)y[_]._count--;return new r(this.tree._compare,y[0])}if(m.left||m.right){for(m.left?g(m,m.left):m.right&&g(m,m.right),m._color=1,_=0;_<y.length-1;++_)y[_]._count--;return new r(this.tree._compare,y[0])}if(y.length===1)return new r(this.tree._compare,null);for(_=0;_<y.length;++_)y[_]._count--;var E=y[y.length-2];return function(C){for(var O,I,z,U,D=C.length-1;D>=0;--D){if(O=C[D],D===0)return void(O._color=1);if((I=C[D-1]).left===O){if((z=I.right).right&&z.right._color===0)return U=(z=I.right=t(z)).right=t(z.right),I.right=z.left,z.left=I,z.right=U,z._color=I._color,O._color=1,I._color=1,U._color=1,n(I),n(z),D>1&&((B=C[D-2]).left===I?B.left=z:B.right=z),void(C[D-1]=z);if(z.left&&z.left._color===0)return U=(z=I.right=t(z)).left=t(z.left),I.right=U.left,z.left=U.right,U.left=I,U.right=z,U._color=I._color,I._color=1,z._color=1,O._color=1,n(I),n(z),n(U),D>1&&((B=C[D-2]).left===I?B.left=U:B.right=U),void(C[D-1]=U);if(z._color===1){if(I._color===0)return I._color=1,void(I.right=i(0,z));I.right=i(0,z);continue}z=t(z),I.right=z.left,z.left=I,z._color=I._color,I._color=0,n(I),n(z),D>1&&((B=C[D-2]).left===I?B.left=z:B.right=z),C[D-1]=z,C[D]=I,D+1<C.length?C[D+1]=O:C.push(O),D+=2}else{if((z=I.left).left&&z.left._color===0)return U=(z=I.left=t(z)).left=t(z.left),I.left=z.right,z.right=I,z.left=U,z._color=I._color,O._color=1,I._color=1,U._color=1,n(I),n(z),D>1&&((B=C[D-2]).right===I?B.right=z:B.left=z),void(C[D-1]=z);if(z.right&&z.right._color===0)return U=(z=I.left=t(z)).right=t(z.right),I.left=U.right,z.right=U.left,U.right=I,U.left=z,U._color=I._color,I._color=1,z._color=1,O._color=1,n(I),n(z),n(U),D>1&&((B=C[D-2]).right===I?B.right=U:B.left=U),void(C[D-1]=U);if(z._color===1){if(I._color===0)return I._color=1,void(I.left=i(0,z));I.left=i(0,z);continue}var B;z=t(z),I.left=z.right,z.right=I,z._color=I._color,I._color=0,n(I),n(z),D>1&&((B=C[D-2]).right===I?B.right=z:B.left=z),C[D-1]=z,C[D]=I,D+1<C.length?C[D+1]=O:C.push(O),D+=2}}}(y),E.left===m?E.left=null:E.right=null,new r(this.tree._compare,y[0])},Object.defineProperty(x,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(x,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(x,"index",{get:function(){var v=0,y=this._stack;if(y.length===0){var m=this.tree.root;return m?m._count:0}y[y.length-1].left&&(v=y[y.length-1].left._count);for(var _=y.length-2;_>=0;--_)y[_+1]===y[_].right&&(++v,y[_].left&&(v+=y[_].left._count));return v},enumerable:!0}),x.next=function(){var v=this._stack;if(v.length!==0){var y=v[v.length-1];if(y.right)for(y=y.right;y;)v.push(y),y=y.left;else for(v.pop();v.length>0&&v[v.length-1].right===y;)y=v[v.length-1],v.pop()}},Object.defineProperty(x,"hasNext",{get:function(){var v=this._stack;if(v.length===0)return!1;if(v[v.length-1].right)return!0;for(var y=v.length-1;y>0;--y)if(v[y-1].left===v[y])return!0;return!1}}),x.update=function(v){var y=this._stack;if(y.length===0)throw new Error("Can't update empty node!");var m=new Array(y.length),_=y[y.length-1];m[m.length-1]=new o(_._color,_.key,v,_.left,_.right,_._count);for(var f=y.length-2;f>=0;--f)(_=y[f]).left===y[f+1]?m[f]=new o(_._color,_.key,_.value,m[f+1],_.right,_._count):m[f]=new o(_._color,_.key,_.value,_.left,m[f+1],_._count);return new r(this.tree._compare,m[0])},x.prev=function(){var v=this._stack;if(v.length!==0){var y=v[v.length-1];if(y.left)for(y=y.left;y;)v.push(y),y=y.right;else for(v.pop();v.length>0&&v[v.length-1].left===y;)y=v[v.length-1],v.pop()}},Object.defineProperty(x,"hasPrev",{get:function(){var v=this._stack;if(v.length===0)return!1;if(v[v.length-1].left)return!0;for(var y=v.length-1;y>0;--y)if(v[y-1].right===v[y])return!0;return!1}})},7453:function(h,o,t){h.exports=function(T,E){var C=new c(T);return C.update(E),C};var i=t(9557),n=t(1681),r=t(1011),s=t(2864),l=t(8468),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function d(T,E){return T[0]=E[0],T[1]=E[1],T[2]=E[2],T}function c(T){this.gl=T,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=r(T)}var x=c.prototype;function g(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}x.update=function(T){function E(te,Q,$){if($ in T){var G,X=T[$],J=this[$];(te?Array.isArray(X)&&Array.isArray(X[0]):Array.isArray(X))?this[$]=G=[Q(X[0]),Q(X[1]),Q(X[2])]:this[$]=G=[Q(X),Q(X),Q(X)];for(var ne=0;ne<3;++ne)if(G[ne]!==J[ne])return!0}return!1}T=T||{};var C,O=E.bind(this,!1,Number),I=E.bind(this,!1,Boolean),z=E.bind(this,!1,String),U=E.bind(this,!0,function(te){if(Array.isArray(te)){if(te.length===3)return[+te[0],+te[1],+te[2],1];if(te.length===4)return[+te[0],+te[1],+te[2],+te[3]]}return[0,0,0,1]}),D=!1,B=!1;if("bounds"in T)for(var Z=T.bounds,F=0;F<2;++F)for(var j=0;j<3;++j)Z[F][j]!==this.bounds[F][j]&&(B=!0),this.bounds[F][j]=Z[F][j];if("ticks"in T)for(C=T.ticks,D=!0,this.autoTicks=!1,F=0;F<3;++F)this.tickSpacing[F]=0;else O("tickSpacing")&&(this.autoTicks=!0,B=!0);if(this._firstInit&&("ticks"in T||"tickSpacing"in T||(this.autoTicks=!0),B=!0,D=!0,this._firstInit=!1),B&&this.autoTicks&&(C=l.create(this.bounds,this.tickSpacing),D=!0),D){for(F=0;F<3;++F)C[F].sort(function(te,Q){return te.x-Q.x});l.equal(C,this.ticks)?D=!1:this.ticks=C}I("tickEnable"),z("tickFont")&&(D=!0),O("tickSize"),O("tickAngle"),O("tickPad"),U("tickColor");var V=z("labels");z("labelFont")&&(V=!0),I("labelEnable"),O("labelSize"),O("labelPad"),U("labelColor"),I("lineEnable"),I("lineMirror"),O("lineWidth"),U("lineColor"),I("lineTickEnable"),I("lineTickMirror"),O("lineTickLength"),O("lineTickWidth"),U("lineTickColor"),I("gridEnable"),O("gridWidth"),U("gridColor"),I("zeroEnable"),U("zeroLineColor"),O("zeroLineWidth"),I("backgroundEnable"),U("backgroundColor"),this._text?this._text&&(V||D)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=i(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&D&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=n(this.gl,this.bounds,this.ticks))};var p=[new g,new g,new g];function v(T,E,C,O,I){for(var z=T.primalOffset,U=T.primalMinor,D=T.mirrorOffset,B=T.mirrorMinor,Z=O[E],F=0;F<3;++F)if(E!==F){var j=z,V=D,te=U,Q=B;Z&1<<F&&(j=D,V=z,te=B,Q=U),j[F]=C[0][F],V[F]=C[1][F],I[F]>0?(te[F]=-1,Q[F]=0):(te[F]=0,Q[F]=1)}}var y=[0,0,0],m={model:u,view:u,projection:u,_ortho:!1};x.isOpaque=function(){return!0},x.isTransparent=function(){return!1},x.drawTransparent=function(T){};var _=[0,0,0],f=[0,0,0],S=[0,0,0];x.draw=function(T){T=T||m;for(var E=this.gl,C=T.model||u,O=T.view||u,I=T.projection||u,z=this.bounds,U=T._ortho||!1,D=s(C,O,I,z,U),B=D.cubeEdges,Z=D.axis,F=O[12],j=O[13],V=O[14],te=O[15],Q=(U?2:1)*this.pixelRatio*(I[3]*F+I[7]*j+I[11]*V+I[15]*te)/E.drawingBufferHeight,$=0;$<3;++$)this.lastCubeProps.cubeEdges[$]=B[$],this.lastCubeProps.axis[$]=Z[$];var G=p;for($=0;$<3;++$)v(p[$],$,this.bounds,B,Z);E=this.gl;var X,J,ne,ie=y;for($=0;$<3;++$)this.backgroundEnable[$]?ie[$]=Z[$]:ie[$]=0;for(this._background.draw(C,O,I,z,ie,this.backgroundColor),this._lines.bind(C,O,I,this),$=0;$<3;++$){var ae=[0,0,0];Z[$]>0?ae[$]=z[1][$]:ae[$]=z[0][$];for(var le=0;le<2;++le){var ce=($+1+le)%3,pe=($+1+(1^le))%3;this.gridEnable[ce]&&this._lines.drawGrid(ce,pe,this.bounds,ae,this.gridColor[ce],this.gridWidth[ce]*this.pixelRatio)}for(le=0;le<2;++le)ce=($+1+le)%3,pe=($+1+(1^le))%3,this.zeroEnable[pe]&&Math.min(z[0][pe],z[1][pe])<=0&&Math.max(z[0][pe],z[1][pe])>=0&&this._lines.drawZero(ce,pe,this.bounds,ae,this.zeroLineColor[pe],this.zeroLineWidth[pe]*this.pixelRatio)}for($=0;$<3;++$){this.lineEnable[$]&&this._lines.drawAxisLine($,this.bounds,G[$].primalOffset,this.lineColor[$],this.lineWidth[$]*this.pixelRatio),this.lineMirror[$]&&this._lines.drawAxisLine($,this.bounds,G[$].mirrorOffset,this.lineColor[$],this.lineWidth[$]*this.pixelRatio);var ge=d(_,G[$].primalMinor),me=d(f,G[$].mirrorMinor),ve=this.lineTickLength;for(le=0;le<3;++le){var Me=Q/C[5*le];ge[le]*=ve[le]*Me,me[le]*=ve[le]*Me}this.lineTickEnable[$]&&this._lines.drawAxisTicks($,G[$].primalOffset,ge,this.lineTickColor[$],this.lineTickWidth[$]*this.pixelRatio),this.lineTickMirror[$]&&this._lines.drawAxisTicks($,G[$].mirrorOffset,me,this.lineTickColor[$],this.lineTickWidth[$]*this.pixelRatio)}function _e(Te){(ne=[0,0,0])[Te]=1}function we(Te,Se,Le){var Oe=(Te+1)%3,he=(Te+2)%3,xe=Se[Oe],ke=Se[he],Re=Le[Oe],ze=Le[he];xe>0&&ze>0||xe>0&&ze<0||xe<0&&ze>0||xe<0&&ze<0?_e(Oe):(ke>0&&Re>0||ke>0&&Re<0||ke<0&&Re>0||ke<0&&Re<0)&&_e(he)}for(this._lines.unbind(),this._text.bind(C,O,I,this.pixelRatio),$=0;$<3;++$){var oe=G[$].primalMinor,se=G[$].mirrorMinor,de=d(S,G[$].primalOffset);for(le=0;le<3;++le)this.lineTickEnable[$]&&(de[le]+=Q*oe[le]*Math.max(this.lineTickLength[le],0)/C[5*le]);var Ee=[0,0,0];if(Ee[$]=1,this.tickEnable[$]){for(this.tickAngle[$]===-3600?(this.tickAngle[$]=0,this.tickAlign[$]="auto"):this.tickAlign[$]=-1,J=1,(X=[this.tickAlign[$],.5,J])[0]==="auto"?X[0]=0:X[0]=parseInt(""+X[0]),ne=[0,0,0],we($,oe,se),le=0;le<3;++le)de[le]+=Q*oe[le]*this.tickPad[le]/C[5*le];this._text.drawTicks($,this.tickSize[$],this.tickAngle[$],de,this.tickColor[$],Ee,ne,X)}if(this.labelEnable[$]){for(J=0,ne=[0,0,0],this.labels[$].length>4&&(_e($),J=1),(X=[this.labelAlign[$],.5,J])[0]==="auto"?X[0]=0:X[0]=parseInt(""+X[0]),le=0;le<3;++le)de[le]+=Q*oe[le]*this.labelPad[le]/C[5*le];de[$]+=.5*(z[0][$]+z[1][$]),this._text.drawLabel($,this.labelSize[$],this.labelAngle[$],de,this.labelColor[$],[0,0,0],ne,X)}}this._text.unbind()},x.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},1011:function(h,o,t){h.exports=function(u){for(var d=[],c=[],x=0,g=0;g<3;++g)for(var p=(g+1)%3,v=(g+2)%3,y=[0,0,0],m=[0,0,0],_=-1;_<=1;_+=2){c.push(x,x+2,x+1,x+1,x+2,x+3),y[g]=_,m[g]=_;for(var f=-1;f<=1;f+=2){y[p]=f;for(var S=-1;S<=1;S+=2)y[v]=S,d.push(y[0],y[1],y[2],m[0],m[1],m[2]),x+=1}var T=p;p=v,v=T}var E=i(u,new Float32Array(d)),C=i(u,new Uint16Array(c),u.ELEMENT_ARRAY_BUFFER),O=n(u,[{buffer:E,type:u.FLOAT,size:3,offset:0,stride:24},{buffer:E,type:u.FLOAT,size:3,offset:12,stride:24}],C),I=r(u);return I.attributes.position.location=0,I.attributes.normal.location=1,new s(u,E,O,I)};var i=t(5827),n=t(2944),r=t(1943).bg;function s(u,d,c,x){this.gl=u,this.buffer=d,this.vao=c,this.shader=x}var l=s.prototype;l.draw=function(u,d,c,x,g,p){for(var v=!1,y=0;y<3;++y)v=v||g[y];if(v){var m=this.gl;m.enable(m.POLYGON_OFFSET_FILL),m.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:u,view:d,projection:c,bounds:x,enable:g,colors:p},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),m.disable(m.POLYGON_OFFSET_FILL)}},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},2864:function(h,o,t){h.exports=function(f,S,T,E,C){n(l,S,f),n(l,T,l);for(var O=0,I=0;I<2;++I){c[2]=E[I][2];for(var z=0;z<2;++z){c[1]=E[z][1];for(var U=0;U<2;++U)c[0]=E[U][0],g(u[O],c,l),O+=1}}var D=-1;for(I=0;I<8;++I){for(var B=u[I][3],Z=0;Z<3;++Z)d[I][Z]=u[I][Z]/B;C&&(d[I][2]*=-1),B<0&&(D<0||d[I][2]<d[D][2])&&(D=I)}if(D<0){D=0;for(var F=0;F<3;++F){for(var j=(F+2)%3,V=(F+1)%3,te=-1,Q=-1,$=0;$<2;++$){var G=(J=$<<F)+($<<j)+(1-$<<V),X=J+(1-$<<j)+($<<V);s(d[J],d[G],d[X],x)<0||($?te=1:Q=1)}if(te<0||Q<0)Q>te&&(D|=1<<F);else{for($=0;$<2;++$){G=(J=$<<F)+($<<j)+(1-$<<V),X=J+(1-$<<j)+($<<V);var J,ne=v([u[J],u[G],u[X],u[J+(1<<j)+(1<<V)]]);$?te=ne:Q=ne}Q>te&&(D|=1<<F)}}}var ie=7^D,ae=-1;for(I=0;I<8;++I)I!==D&&I!==ie&&(ae<0||d[ae][1]>d[I][1])&&(ae=I);var le=-1;for(I=0;I<3;++I)(pe=ae^1<<I)!==D&&pe!==ie&&(le<0&&(le=pe),(V=d[pe])[0]<d[le][0]&&(le=pe));var ce=-1;for(I=0;I<3;++I){var pe;(pe=ae^1<<I)!==D&&pe!==ie&&pe!==le&&(ce<0&&(ce=pe),(V=d[pe])[0]>d[ce][0]&&(ce=pe))}var ge=y;ge[0]=ge[1]=ge[2]=0,ge[i.log2(le^ae)]=ae&le,ge[i.log2(ae^ce)]=ae&ce;var me=7^ce;me===D||me===ie?(me=7^le,ge[i.log2(ce^me)]=me&ce):ge[i.log2(le^me)]=me&le;var ve=m,Me=D;for(F=0;F<3;++F)ve[F]=Me&1<<F?-1:1;return _};var i=t(2288),n=t(104),r=t(4670),s=t(417),l=new Array(16),u=new Array(8),d=new Array(8),c=new Array(3),x=[0,0,0];function g(f,S,T){for(var E=0;E<4;++E){f[E]=T[12+E];for(var C=0;C<3;++C)f[E]+=S[C]*T[4*C+E]}}(function(){for(var f=0;f<8;++f)u[f]=[1,1,1,1],d[f]=[1,1,1]})();var p=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function v(f){for(var S=0;S<p.length;++S)if((f=r.positive(f,p[S])).length<3)return 0;var T=f[0],E=T[0]/T[3],C=T[1]/T[3],O=0;for(S=1;S+1<f.length;++S){var I=f[S],z=f[S+1],U=I[0]/I[3]-E,D=I[1]/I[3]-C,B=z[0]/z[3]-E,Z=z[1]/z[3]-C;O+=Math.abs(U*Z-D*B)}return O}var y=[1,1,1],m=[0,0,0],_={cubeEdges:y,axis:m}},1681:function(h,o,t){h.exports=function(y,m,_){var f=[],S=[0,0,0],T=[0,0,0],E=[0,0,0],C=[0,0,0];f.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var O=0;O<3;++O){for(var I=f.length/3|0,z=0;z<_[O].length;++z){var U=+_[O][z].x;f.push(U,0,1,U,1,1,U,0,-1,U,0,-1,U,1,1,U,1,-1)}var D=f.length/3|0;S[O]=I,T[O]=D-I,I=f.length/3|0;for(var B=0;B<_[O].length;++B)U=+_[O][B].x,f.push(U,0,1,U,1,1,U,0,-1,U,0,-1,U,1,1,U,1,-1);D=f.length/3|0,E[O]=I,C[O]=D-I}var Z=i(y,new Float32Array(f)),F=n(y,[{buffer:Z,type:y.FLOAT,size:3,stride:0,offset:0}]),j=r(y);return j.attributes.position.location=0,new p(y,Z,F,j,T,S,C,E)};var i=t(5827),n=t(2944),r=t(1943).j,s=[0,0,0],l=[0,0,0],u=[0,0,0],d=[0,0,0],c=[1,1];function x(y){return y[0]=y[1]=y[2]=0,y}function g(y,m){return y[0]=m[0],y[1]=m[1],y[2]=m[2],y}function p(y,m,_,f,S,T,E,C){this.gl=y,this.vertBuffer=m,this.vao=_,this.shader=f,this.tickCount=S,this.tickOffset=T,this.gridCount=E,this.gridOffset=C}var v=p.prototype;v.bind=function(y,m,_){this.shader.bind(),this.shader.uniforms.model=y,this.shader.uniforms.view=m,this.shader.uniforms.projection=_,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},v.unbind=function(){this.vao.unbind()},v.drawAxisLine=function(y,m,_,f,S){var T=x(l);this.shader.uniforms.majorAxis=l,T[y]=m[1][y]-m[0][y],this.shader.uniforms.minorAxis=T;var E,C=g(d,_);C[y]+=m[0][y],this.shader.uniforms.offset=C,this.shader.uniforms.lineWidth=S,this.shader.uniforms.color=f,(E=x(u))[(y+2)%3]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,6),(E=x(u))[(y+1)%3]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,6)},v.drawAxisTicks=function(y,m,_,f,S){if(this.tickCount[y]){var T=x(s);T[y]=1,this.shader.uniforms.majorAxis=T,this.shader.uniforms.offset=m,this.shader.uniforms.minorAxis=_,this.shader.uniforms.color=f,this.shader.uniforms.lineWidth=S;var E=x(u);E[y]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[y],this.tickOffset[y])}},v.drawGrid=function(y,m,_,f,S,T){if(this.gridCount[y]){var E=x(l);E[m]=_[1][m]-_[0][m],this.shader.uniforms.minorAxis=E;var C=g(d,f);C[m]+=_[0][m],this.shader.uniforms.offset=C;var O=x(s);O[y]=1,this.shader.uniforms.majorAxis=O;var I=x(u);I[y]=1,this.shader.uniforms.screenAxis=I,this.shader.uniforms.lineWidth=T,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,this.gridCount[y],this.gridOffset[y])}},v.drawZero=function(y,m,_,f,S,T){var E=x(l);this.shader.uniforms.majorAxis=E,E[y]=_[1][y]-_[0][y],this.shader.uniforms.minorAxis=E;var C=g(d,f);C[y]+=_[0][y],this.shader.uniforms.offset=C;var O=x(u);O[m]=1,this.shader.uniforms.screenAxis=O,this.shader.uniforms.lineWidth=T,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,6)},v.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1943:function(h,o,t){var i=t(6832),n=t(5158),r=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),s=i([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);o.j=function(x){return n(x,r,s,null,[{name:"position",type:"vec3"}])};var l=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),u=i([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);o.f=function(x){return n(x,l,u,null,[{name:"position",type:"vec3"}])};var d=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),c=i([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);o.bg=function(x){return n(x,d,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(h,o,t){h.exports=function(g,p,v,y,m,_){var f=i(g),S=n(g,[{buffer:f,size:3}]),T=s(g);T.attributes.position.location=0;var E=new d(g,T,f,S);return E.update(p,v,y,m,_),E};var i=t(5827),n=t(2944),r=t(875),s=t(1943).f,l=window||k.global||{},u=l.__TEXT_CACHE||{};function d(g,p,v,y){this.gl=g,this.shader=p,this.buffer=v,this.vao=y,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}l.__TEXT_CACHE={};var c=d.prototype,x=[0,0];c.bind=function(g,p,v,y){this.vao.bind(),this.shader.bind();var m=this.shader.uniforms;m.model=g,m.view=p,m.projection=v,m.pixelScale=y,x[0]=this.gl.drawingBufferWidth,x[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=x},c.unbind=function(){this.vao.unbind()},c.update=function(g,p,v,y,m){var _=[];function f(U,D,B,Z,F,j){var V=u[B];V||(V=u[B]={});var te=V[D];te||(te=V[D]=function(le,ce){try{return r(le,ce)}catch(pe){return console.warn('error vectorizing text:"'+le+'" error:',pe),{cells:[],positions:[]}}}(D,{triangles:!0,font:B,textAlign:"center",textBaseline:"middle",lineSpacing:F,styletags:j}));for(var Q=(Z||12)/12,$=te.positions,G=te.cells,X=0,J=G.length;X<J;++X)for(var ne=G[X],ie=2;ie>=0;--ie){var ae=$[ne[ie]];_.push(Q*ae[0],-Q*ae[1],U)}}for(var S=[0,0,0],T=[0,0,0],E=[0,0,0],C=[0,0,0],O={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},I=0;I<3;++I){E[I]=_.length/3|0,f(.5*(g[0][I]+g[1][I]),p[I],v[I],12,1.25,O),C[I]=(_.length/3|0)-E[I],S[I]=_.length/3|0;for(var z=0;z<y[I].length;++z)y[I][z].text&&f(y[I][z].x,y[I][z].text,y[I][z].font||m,y[I][z].fontSize||12,1.25,O);T[I]=(_.length/3|0)-S[I]}this.buffer.update(_),this.tickOffset=S,this.tickCount=T,this.labelOffset=E,this.labelCount=C},c.drawTicks=function(g,p,v,y,m,_,f,S){this.tickCount[g]&&(this.shader.uniforms.axis=_,this.shader.uniforms.color=m,this.shader.uniforms.angle=v,this.shader.uniforms.scale=p,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=f,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.tickCount[g],this.tickOffset[g]))},c.drawLabel=function(g,p,v,y,m,_,f,S){this.labelCount[g]&&(this.shader.uniforms.axis=_,this.shader.uniforms.color=m,this.shader.uniforms.angle=v,this.shader.uniforms.scale=p,this.shader.uniforms.offset=y,this.shader.uniforms.alignDir=f,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.labelCount[g],this.labelOffset[g]))},c.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},8468:function(h,o){function t(i,n){var r=i+"",s=r.indexOf("."),l=0;s>=0&&(l=r.length-s-1);var u=Math.pow(10,l),d=Math.round(i*n*u),c=d+"";if(c.indexOf("e")>=0)return c;var x=d/u,g=d%u;d<0?(x=0|-Math.ceil(x),g=0|-g):(x=0|Math.floor(x),g|=0);var p=""+x;if(d<0&&(p="-"+p),l){for(var v=""+g;v.length<l;)v="0"+v;return p+"."+v}return p}o.create=function(i,n){for(var r=[],s=0;s<3;++s){for(var l=[],u=(i[0][s],i[1][s],0);u*n[s]<=i[1][s];++u)l.push({x:u*n[s],text:t(n[s],u)});for(u=-1;u*n[s]>=i[0][s];--u)l.push({x:u*n[s],text:t(n[s],u)});r.push(l)}return r},o.equal=function(i,n){for(var r=0;r<3;++r){if(i[r].length!==n[r].length)return!1;for(var s=0;s<i[r].length;++s){var l=i[r][s],u=n[r][s];if(l.x!==u.x||l.text!==u.text||l.font!==u.font||l.fontColor!==u.fontColor||l.fontSize!==u.fontSize||l.dx!==u.dx||l.dy!==u.dy)return!1}}return!0}},2771:function(h,o,t){h.exports=function(_,f,S,T,E){var C=f.model||d,O=f.view||d,I=f.projection||d,z=f._ortho||!1,U=_.bounds,D=(E=E||r(C,O,I,U,z)).axis;s(c,O,C),s(c,I,c);for(var B=y,Z=0;Z<3;++Z)B[Z].lo=1/0,B[Z].hi=-1/0,B[Z].pixelsPerDataUnit=1/0;var F=i(l(c,c));l(c,c);for(var j=0;j<3;++j){var V=(j+1)%3,te=(j+2)%3,Q=m;e:for(Z=0;Z<2;++Z){var $=[];if(D[j]<0!=!!Z){Q[j]=U[Z][j];for(var G=0;G<2;++G){Q[V]=U[G^Z][V];for(var X=0;X<2;++X)Q[te]=U[X^G^Z][te],$.push(Q.slice())}var J=z?5:4;for(G=J;G===J;++G){if($.length===0)continue e;$=n.positive($,F[G])}for(G=0;G<$.length;++G){te=$[G];var ne=v(m,c,te,S,T);for(X=0;X<3;++X)B[X].lo=Math.min(B[X].lo,te[X]),B[X].hi=Math.max(B[X].hi,te[X]),X!==j&&(B[X].pixelsPerDataUnit=Math.min(B[X].pixelsPerDataUnit,Math.abs(ne[X])))}}}}return B};var i=t(5795),n=t(4670),r=t(2864),s=t(104),l=t(2142),u=t(6342),d=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function x(_,f,S){this.lo=_,this.hi=f,this.pixelsPerDataUnit=S}var g=[0,0,0,1],p=[0,0,0,1];function v(_,f,S,T,E){for(var C=0;C<3;++C){for(var O=g,I=p,z=0;z<3;++z)I[z]=O[z]=S[z];I[3]=O[3]=1,I[C]+=1,u(I,I,f),I[3]<0&&(_[C]=1/0),O[C]-=1,u(O,O,f),O[3]<0&&(_[C]=1/0);var U=(O[0]/O[3]-I[0]/I[3])*T,D=(O[1]/O[3]-I[1]/I[3])*E;_[C]=.25*Math.sqrt(U*U+D*D)}return _}var y=[new x(1/0,-1/0,1/0),new x(1/0,-1/0,1/0),new x(1/0,-1/0,1/0)],m=[0,0,0]},5827:function(h,o,t){var i=t(5306),n=t(7498),r=t(5050),s=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function l(x,g,p,v,y){this.gl=x,this.type=g,this.handle=p,this.length=v,this.usage=y}var u=l.prototype;function d(x,g,p,v,y,m){var _=y.length*y.BYTES_PER_ELEMENT;if(m<0)return x.bufferData(g,y,v),_;if(_+m>p)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return x.bufferSubData(g,m,y),p}function c(x,g){for(var p=i.malloc(x.length,g),v=x.length,y=0;y<v;++y)p[y]=x[y];return p}u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)},u.update=function(x,g){if(typeof g!="number"&&(g=-1),this.bind(),typeof x=="object"&&x.shape!==void 0){var p=x.dtype;if(s.indexOf(p)<0&&(p="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(p=gl.getExtension("OES_element_index_uint")&&p!=="uint16"?"uint32":"uint16"),p===x.dtype&&function(_,f){for(var S=1,T=f.length-1;T>=0;--T){if(f[T]!==S)return!1;S*=_[T]}return!0}(x.shape,x.stride))x.offset===0&&x.data.length===x.shape[0]?this.length=d(this.gl,this.type,this.length,this.usage,x.data,g):this.length=d(this.gl,this.type,this.length,this.usage,x.data.subarray(x.offset,x.shape[0]),g);else{var v=i.malloc(x.size,p),y=r(v,x.shape);n.assign(y,x),this.length=d(this.gl,this.type,this.length,this.usage,g<0?v:v.subarray(0,x.size),g),i.free(v)}}else if(Array.isArray(x)){var m;m=this.type===this.gl.ELEMENT_ARRAY_BUFFER?c(x,"uint16"):c(x,"float32"),this.length=d(this.gl,this.type,this.length,this.usage,g<0?m:m.subarray(0,x.length),g),i.free(m)}else if(typeof x=="object"&&typeof x.length=="number")this.length=d(this.gl,this.type,this.length,this.usage,x,g);else{if(typeof x!="number"&&x!==void 0)throw new Error("gl-buffer: Invalid data type");if(g>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(x|=0)<=0&&(x=1),this.gl.bufferData(this.type,0|x,this.usage),this.length=x}},h.exports=function(x,g,p,v){if(p=p||x.ARRAY_BUFFER,v=v||x.DYNAMIC_DRAW,p!==x.ARRAY_BUFFER&&p!==x.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(v!==x.DYNAMIC_DRAW&&v!==x.STATIC_DRAW&&v!==x.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var y=x.createBuffer(),m=new l(x,p,y,0,v);return m.update(g),m}},1140:function(h,o,t){var i=t(2858);h.exports=function(r,s){var l=r.positions,u=r.vectors,d={positions:[],vertexIntensity:[],vertexIntensityBounds:r.vertexIntensityBounds,vectors:[],cells:[],coneOffset:r.coneOffset,colormap:r.colormap};if(r.positions.length===0)return s&&(s[0]=[0,0,0],s[1]=[0,0,0]),d;for(var c=0,x=1/0,g=-1/0,p=1/0,v=-1/0,y=1/0,m=-1/0,_=null,f=null,S=[],T=1/0,E=!1,C=0;C<l.length;C++){var O=l[C];x=Math.min(O[0],x),g=Math.max(O[0],g),p=Math.min(O[1],p),v=Math.max(O[1],v),y=Math.min(O[2],y),m=Math.max(O[2],m);var I=u[C];if(i.length(I)>c&&(c=i.length(I)),C){var z=2*i.distance(_,O)/(i.length(f)+i.length(I));z?(T=Math.min(T,z),E=!1):E=!0}E||(_=O,f=I),S.push(I)}var U=[x,p,y],D=[g,v,m];s&&(s[0]=U,s[1]=D),c===0&&(c=1);var B=1/c;isFinite(T)||(T=1),d.vectorScale=T;var Z=r.coneSize||.5;r.absoluteConeSize&&(Z=r.absoluteConeSize*B),d.coneScale=Z,C=0;for(var F=0;C<l.length;C++)for(var j=(O=l[C])[0],V=O[1],te=O[2],Q=S[C],$=i.length(Q)*B,G=0;G<8;G++){d.positions.push([j,V,te,F++]),d.positions.push([j,V,te,F++]),d.positions.push([j,V,te,F++]),d.positions.push([j,V,te,F++]),d.positions.push([j,V,te,F++]),d.positions.push([j,V,te,F++]),d.vectors.push(Q),d.vectors.push(Q),d.vectors.push(Q),d.vectors.push(Q),d.vectors.push(Q),d.vectors.push(Q),d.vertexIntensity.push($,$,$),d.vertexIntensity.push($,$,$);var X=d.positions.length;d.cells.push([X-6,X-5,X-4],[X-3,X-2,X-1])}return d};var n=t(7234);h.exports.createMesh=t(5028),h.exports.createConeMesh=function(r,s){return h.exports.createMesh(r,s,{shaders:n,traceType:"cone"})}},5028:function(h,o,t){var i=t(5158),n=t(5827),r=t(2944),s=t(8931),l=t(104),u=t(7437),d=t(5050),c=t(9156),x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function g(v,y,m,_,f,S,T,E,C,O,I){this.gl=v,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=y,this.dirty=!0,this.triShader=m,this.pickShader=_,this.trianglePositions=f,this.triangleVectors=S,this.triangleColors=E,this.triangleUVs=C,this.triangleIds=T,this.triangleVAO=O,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=I,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=x,this._view=x,this._projection=x,this._resolution=[1,1]}var p=g.prototype;p.isOpaque=function(){return this.opacity>=1},p.isTransparent=function(){return this.opacity<1},p.pickSlots=1,p.setPickBase=function(v){this.pickId=v},p.update=function(v){v=v||{};var y=this.gl;this.dirty=!0,"lightPosition"in v&&(this.lightPosition=v.lightPosition),"opacity"in v&&(this.opacity=v.opacity),"ambient"in v&&(this.ambientLight=v.ambient),"diffuse"in v&&(this.diffuseLight=v.diffuse),"specular"in v&&(this.specularLight=v.specular),"roughness"in v&&(this.roughness=v.roughness),"fresnel"in v&&(this.fresnel=v.fresnel),v.tubeScale!==void 0&&(this.tubeScale=v.tubeScale),v.vectorScale!==void 0&&(this.vectorScale=v.vectorScale),v.coneScale!==void 0&&(this.coneScale=v.coneScale),v.coneOffset!==void 0&&(this.coneOffset=v.coneOffset),v.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=y.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=y.LINEAR,this.texture.setPixels(function(ne){for(var ie=c({colormap:ne,nshades:256,format:"rgba"}),ae=new Uint8Array(1024),le=0;le<256;++le){for(var ce=ie[le],pe=0;pe<3;++pe)ae[4*le+pe]=ce[pe];ae[4*le+3]=255*ce[3]}return d(ae,[256,256,4],[4,0,1])}(v.colormap)),this.texture.generateMipmap());var m=v.cells,_=v.positions,f=v.vectors;if(_&&m&&f){var S=[],T=[],E=[],C=[],O=[];this.cells=m,this.positions=_,this.vectors=f;var I=v.meshColor||[1,1,1,1],z=v.vertexIntensity,U=1/0,D=-1/0;if(z)if(v.vertexIntensityBounds)U=+v.vertexIntensityBounds[0],D=+v.vertexIntensityBounds[1];else for(var B=0;B<z.length;++B){var Z=z[B];U=Math.min(U,Z),D=Math.max(D,Z)}else for(B=0;B<_.length;++B)Z=_[B][2],U=Math.min(U,Z),D=Math.max(D,Z);for(this.intensity=z||function(ne){for(var ie=ne.length,ae=new Array(ie),le=0;le<ie;++le)ae[le]=ne[le][2];return ae}(_),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],B=0;B<_.length;++B)for(var F=_[B],j=0;j<3;++j)!isNaN(F[j])&&isFinite(F[j])&&(this.bounds[0][j]=Math.min(this.bounds[0][j],F[j]),this.bounds[1][j]=Math.max(this.bounds[1][j],F[j]));var V=0;e:for(B=0;B<m.length;++B){var te=m[B];if(te.length===3){for(j=0;j<3;++j){F=_[$=te[j]];for(var Q=0;Q<3;++Q)if(isNaN(F[Q])||!isFinite(F[Q]))continue e}for(j=0;j<3;++j){var $;F=_[$=te[2-j]],S.push(F[0],F[1],F[2],F[3]);var G=f[$];T.push(G[0],G[1],G[2],G[3]||0);var X,J=I;J.length===3?E.push(J[0],J[1],J[2],1):E.push(J[0],J[1],J[2],J[3]),X=z?[(z[$]-U)/(D-U),0]:[(F[2]-U)/(D-U),0],C.push(X[0],X[1]),O.push(B)}V+=1}}this.triangleCount=V,this.trianglePositions.update(S),this.triangleVectors.update(T),this.triangleColors.update(E),this.triangleUVs.update(C),this.triangleIds.update(new Uint32Array(O))}},p.drawTransparent=p.draw=function(v){v=v||{};for(var y=this.gl,m=v.model||x,_=v.view||x,f=v.projection||x,S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],T=0;T<3;++T)S[0][T]=Math.max(S[0][T],this.clipBounds[0][T]),S[1][T]=Math.min(S[1][T],this.clipBounds[1][T]);var E={model:m,view:_,projection:f,inverseModel:x.slice(),clipBounds:S,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};E.inverseModel=u(E.inverseModel,E.model),y.disable(y.CULL_FACE),this.texture.bind(0);var C=new Array(16);for(l(C,E.view,E.model),l(C,E.projection,C),u(C,C),T=0;T<3;++T)E.eyePosition[T]=C[12+T]/C[15];var O=C[15];for(T=0;T<3;++T)O+=this.lightPosition[T]*C[4*T+3];for(T=0;T<3;++T){for(var I=C[12+T],z=0;z<3;++z)I+=C[4*z+T]*this.lightPosition[z];E.lightPosition[T]=I/O}if(this.triangleCount>0){var U=this.triShader;U.bind(),U.uniforms=E,this.triangleVAO.bind(),y.drawArrays(y.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},p.drawPick=function(v){v=v||{};for(var y=this.gl,m=v.model||x,_=v.view||x,f=v.projection||x,S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],T=0;T<3;++T)S[0][T]=Math.max(S[0][T],this.clipBounds[0][T]),S[1][T]=Math.min(S[1][T],this.clipBounds[1][T]);this._model=[].slice.call(m),this._view=[].slice.call(_),this._projection=[].slice.call(f),this._resolution=[y.drawingBufferWidth,y.drawingBufferHeight];var E={model:m,view:_,projection:f,clipBounds:S,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},C=this.pickShader;C.bind(),C.uniforms=E,this.triangleCount>0&&(this.triangleVAO.bind(),y.drawArrays(y.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},p.pick=function(v){if(!v||v.id!==this.pickId)return null;var y=v.value[0]+256*v.value[1]+65536*v.value[2],m=this.cells[y],_=this.positions[m[1]].slice(0,3),f={position:_,dataCoordinate:_,index:Math.floor(m[1]/48)};return this.traceType==="cone"?f.index=Math.floor(m[1]/48):this.traceType==="streamtube"&&(f.intensity=this.intensity[m[1]],f.velocity=this.vectors[m[1]].slice(0,3),f.divergence=this.vectors[m[1]][3],f.index=y),f},p.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},h.exports=function(v,y,m){var _=m.shaders;arguments.length===1&&(v=(y=v).gl);var f=function(D,B){var Z=i(D,B.meshShader.vertex,B.meshShader.fragment,null,B.meshShader.attributes);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.vector.location=4,Z}(v,_),S=function(D,B){var Z=i(D,B.pickShader.vertex,B.pickShader.fragment,null,B.pickShader.attributes);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z.attributes.vector.location=4,Z}(v,_),T=s(v,d(new Uint8Array([255,255,255,255]),[1,1,4]));T.generateMipmap(),T.minFilter=v.LINEAR_MIPMAP_LINEAR,T.magFilter=v.LINEAR;var E=n(v),C=n(v),O=n(v),I=n(v),z=n(v),U=new g(v,T,f,S,E,C,z,O,I,r(v,[{buffer:E,type:v.FLOAT,size:4},{buffer:z,type:v.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:O,type:v.FLOAT,size:4},{buffer:I,type:v.FLOAT,size:2},{buffer:C,type:v.FLOAT,size:4}]),m.traceType||"cone");return U.update(y),U}},7234:function(h,o,t){var i=t(6832),n=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),r=i([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),s=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);o.meshShader={vertex:n,fragment:r,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},o.pickShader={vertex:s,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(h){h.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(h,o,t){var i=t(1950);h.exports=function(n){return i[n]}},3110:function(h,o,t){h.exports=function(g){var p=g.gl,v=i(p),y=n(p,[{buffer:v,type:p.FLOAT,size:3,offset:0,stride:40},{buffer:v,type:p.FLOAT,size:4,offset:12,stride:40},{buffer:v,type:p.FLOAT,size:3,offset:28,stride:40}]),m=r(p);m.attributes.position.location=0,m.attributes.color.location=1,m.attributes.offset.location=2;var _=new l(p,v,y,m);return _.update(g),_};var i=t(5827),n=t(2944),r=t(7667),s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function l(g,p,v,y){this.gl=g,this.shader=y,this.buffer=p,this.vao=v,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var u=l.prototype;function d(g,p){for(var v=0;v<3;++v)g[0][v]=Math.min(g[0][v],p[v]),g[1][v]=Math.max(g[1][v],p[v])}u.isOpaque=function(){return!this.hasAlpha},u.isTransparent=function(){return this.hasAlpha},u.drawTransparent=u.draw=function(g){var p=this.gl,v=this.shader.uniforms;this.shader.bind();var y=v.view=g.view||s,m=v.projection=g.projection||s;v.model=g.model||s,v.clipBounds=this.clipBounds,v.opacity=this.opacity;var _=y[12],f=y[13],S=y[14],T=y[15],E=(g._ortho?2:1)*this.pixelRatio*(m[3]*_+m[7]*f+m[11]*S+m[15]*T)/p.drawingBufferHeight;this.vao.bind();for(var C=0;C<3;++C)p.lineWidth(this.lineWidth[C]*this.pixelRatio),v.capSize=this.capSize[C]*E,this.lineCount[C]&&p.drawArrays(p.LINES,this.lineOffset[C],this.lineCount[C]);this.vao.unbind()};var c=function(){for(var g=new Array(3),p=0;p<3;++p){for(var v=[],y=1;y<=2;++y)for(var m=-1;m<=1;m+=2){var _=[0,0,0];_[(y+p)%3]=m,v.push(_)}g[p]=v}return g}();function x(g,p,v,y){for(var m=c[y],_=0;_<m.length;++_){var f=m[_];g.push(p[0],p[1],p[2],v[0],v[1],v[2],v[3],f[0],f[1],f[2])}return m.length}u.update=function(g){"lineWidth"in(g=g||{})&&(this.lineWidth=g.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in g&&(this.capSize=g.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in g&&(this.opacity=+g.opacity,this.opacity<1&&(this.hasAlpha=!0));var p=g.color||[[0,0,0],[0,0,0],[0,0,0]],v=g.position,y=g.error;if(Array.isArray(p[0])||(p=[p,p,p]),v&&y){var m=[],_=v.length,f=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var S=0;S<3;++S){this.lineOffset[S]=f;e:for(var T=0;T<_;++T){for(var E=v[T],C=0;C<3;++C)if(isNaN(E[C])||!isFinite(E[C]))continue e;var O,I=y[T],z=p[S];Array.isArray(z[0])&&(z=p[T]),z.length===3?z=[z[0],z[1],z[2],1]:z.length===4&&(z=[z[0],z[1],z[2],z[3]],!this.hasAlpha&&z[3]<1&&(this.hasAlpha=!0)),isNaN(I[0][S])||isNaN(I[1][S])||(I[0][S]<0&&((O=E.slice())[S]+=I[0][S],m.push(E[0],E[1],E[2],z[0],z[1],z[2],z[3],0,0,0,O[0],O[1],O[2],z[0],z[1],z[2],z[3],0,0,0),d(this.bounds,O),f+=2+x(m,O,z,S)),I[1][S]>0&&((O=E.slice())[S]+=I[1][S],m.push(E[0],E[1],E[2],z[0],z[1],z[2],z[3],0,0,0,O[0],O[1],O[2],z[0],z[1],z[2],z[3],0,0,0),d(this.bounds,O),f+=2+x(m,O,z,S)))}this.lineCount[S]=f-this.lineOffset[S]}this.buffer.update(m)}},u.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},7667:function(h,o,t){var i=t(6832),n=t(5158),r=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),s=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);h.exports=function(l){return n(l,r,s,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(h,o,t){var i=t(8931);h.exports=function(_,f,S,T){n||(n=_.FRAMEBUFFER_UNSUPPORTED,r=_.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,s=_.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,l=_.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var E=_.getExtension("WEBGL_draw_buffers");if(!u&&E&&function(B,Z){var F=B.getParameter(Z.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(F+1);for(var j=0;j<=F;++j){for(var V=new Array(F),te=0;te<j;++te)V[te]=B.COLOR_ATTACHMENT0+te;for(te=j;te<F;++te)V[te]=B.NONE;u[j]=V}}(_,E),Array.isArray(f)&&(T=S,S=0|f[1],f=0|f[0]),typeof f!="number")throw new Error("gl-fbo: Missing shape parameter");var C=_.getParameter(_.MAX_RENDERBUFFER_SIZE);if(f<0||f>C||S<0||S>C)throw new Error("gl-fbo: Parameters are too large for FBO");var O=1;if("color"in(T=T||{})){if((O=Math.max(0|T.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(O>1){if(!E)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(O>_.getParameter(E.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+O+" draw buffers")}}var I=_.UNSIGNED_BYTE,z=_.getExtension("OES_texture_float");if(T.float&&O>0){if(!z)throw new Error("gl-fbo: Context does not support floating point textures");I=_.FLOAT}else T.preferFloat&&O>0&&z&&(I=_.FLOAT);var U=!0;"depth"in T&&(U=!!T.depth);var D=!1;return"stencil"in T&&(D=!!T.stencil),new v(_,f,S,I,O,U,D,E)};var n,r,s,l,u=null;function d(_){return[_.getParameter(_.FRAMEBUFFER_BINDING),_.getParameter(_.RENDERBUFFER_BINDING),_.getParameter(_.TEXTURE_BINDING_2D)]}function c(_,f){_.bindFramebuffer(_.FRAMEBUFFER,f[0]),_.bindRenderbuffer(_.RENDERBUFFER,f[1]),_.bindTexture(_.TEXTURE_2D,f[2])}function x(_){switch(_){case n:throw new Error("gl-fbo: Framebuffer unsupported");case r:throw new Error("gl-fbo: Framebuffer incomplete attachment");case s:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case l:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function g(_,f,S,T,E,C){if(!T)return null;var O=i(_,f,S,E,T);return O.magFilter=_.NEAREST,O.minFilter=_.NEAREST,O.mipSamples=1,O.bind(),_.framebufferTexture2D(_.FRAMEBUFFER,C,_.TEXTURE_2D,O.handle,0),O}function p(_,f,S,T,E){var C=_.createRenderbuffer();return _.bindRenderbuffer(_.RENDERBUFFER,C),_.renderbufferStorage(_.RENDERBUFFER,T,f,S),_.framebufferRenderbuffer(_.FRAMEBUFFER,E,_.RENDERBUFFER,C),C}function v(_,f,S,T,E,C,O,I){this.gl=_,this._shape=[0|f,0|S],this._destroyed=!1,this._ext=I,this.color=new Array(E);for(var z=0;z<E;++z)this.color[z]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=T,this._useDepth=C,this._useStencil=O;var U=this,D=[0|f,0|S];Object.defineProperties(D,{0:{get:function(){return U._shape[0]},set:function(B){return U.width=B}},1:{get:function(){return U._shape[1]},set:function(B){return U.height=B}}}),this._shapeVector=D,function(B){var Z=d(B.gl),F=B.gl,j=B.handle=F.createFramebuffer(),V=B._shape[0],te=B._shape[1],Q=B.color.length,$=B._ext,G=B._useStencil,X=B._useDepth,J=B._colorType;F.bindFramebuffer(F.FRAMEBUFFER,j);for(var ne=0;ne<Q;++ne)B.color[ne]=g(F,V,te,J,F.RGBA,F.COLOR_ATTACHMENT0+ne);Q===0?(B._color_rb=p(F,V,te,F.RGBA4,F.COLOR_ATTACHMENT0),$&&$.drawBuffersWEBGL(u[0])):Q>1&&$.drawBuffersWEBGL(u[Q]);var ie=F.getExtension("WEBGL_depth_texture");ie?G?B.depth=g(F,V,te,ie.UNSIGNED_INT_24_8_WEBGL,F.DEPTH_STENCIL,F.DEPTH_STENCIL_ATTACHMENT):X&&(B.depth=g(F,V,te,F.UNSIGNED_SHORT,F.DEPTH_COMPONENT,F.DEPTH_ATTACHMENT)):X&&G?B._depth_rb=p(F,V,te,F.DEPTH_STENCIL,F.DEPTH_STENCIL_ATTACHMENT):X?B._depth_rb=p(F,V,te,F.DEPTH_COMPONENT16,F.DEPTH_ATTACHMENT):G&&(B._depth_rb=p(F,V,te,F.STENCIL_INDEX,F.STENCIL_ATTACHMENT));var ae=F.checkFramebufferStatus(F.FRAMEBUFFER);if(ae!==F.FRAMEBUFFER_COMPLETE){for(B._destroyed=!0,F.bindFramebuffer(F.FRAMEBUFFER,null),F.deleteFramebuffer(B.handle),B.handle=null,B.depth&&(B.depth.dispose(),B.depth=null),B._depth_rb&&(F.deleteRenderbuffer(B._depth_rb),B._depth_rb=null),ne=0;ne<B.color.length;++ne)B.color[ne].dispose(),B.color[ne]=null;B._color_rb&&(F.deleteRenderbuffer(B._color_rb),B._color_rb=null),c(F,Z),x(ae)}c(F,Z)}(this)}var y=v.prototype;function m(_,f,S){if(_._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(_._shape[0]!==f||_._shape[1]!==S){var T=_.gl,E=T.getParameter(T.MAX_RENDERBUFFER_SIZE);if(f<0||f>E||S<0||S>E)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");_._shape[0]=f,_._shape[1]=S;for(var C=d(T),O=0;O<_.color.length;++O)_.color[O].shape=_._shape;_._color_rb&&(T.bindRenderbuffer(T.RENDERBUFFER,_._color_rb),T.renderbufferStorage(T.RENDERBUFFER,T.RGBA4,_._shape[0],_._shape[1])),_.depth&&(_.depth.shape=_._shape),_._depth_rb&&(T.bindRenderbuffer(T.RENDERBUFFER,_._depth_rb),_._useDepth&&_._useStencil?T.renderbufferStorage(T.RENDERBUFFER,T.DEPTH_STENCIL,_._shape[0],_._shape[1]):_._useDepth?T.renderbufferStorage(T.RENDERBUFFER,T.DEPTH_COMPONENT16,_._shape[0],_._shape[1]):_._useStencil&&T.renderbufferStorage(T.RENDERBUFFER,T.STENCIL_INDEX,_._shape[0],_._shape[1])),T.bindFramebuffer(T.FRAMEBUFFER,_.handle);var I=T.checkFramebufferStatus(T.FRAMEBUFFER);I!==T.FRAMEBUFFER_COMPLETE&&(_.dispose(),c(T,C),x(I)),c(T,C)}}Object.defineProperties(y,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(_){if(Array.isArray(_)||(_=[0|_,0|_]),_.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var f=0|_[0],S=0|_[1];return m(this,f,S),[f,S]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(_){return m(this,_|=0,this._shape[1]),_},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(_){return _|=0,m(this,this._shape[0],_),_},enumerable:!1}}),y.bind=function(){if(!this._destroyed){var _=this.gl;_.bindFramebuffer(_.FRAMEBUFFER,this.handle),_.viewport(0,0,this._shape[0],this._shape[1])}},y.dispose=function(){if(!this._destroyed){this._destroyed=!0;var _=this.gl;_.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(_.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var f=0;f<this.color.length;++f)this.color[f].dispose(),this.color[f]=null;this._color_rb&&(_.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},3530:function(h,o,t){var i=t(8974).sprintf,n=t(6603),r=t(9365),s=t(8008);h.exports=function(l,u,d){var c=r(u)||"of unknown name (see npm glsl-shader-name)",x="unknown type";d!==void 0&&(x=d===n.FRAGMENT_SHADER?"fragment":"vertex");for(var g=i(`Error compiling %s shader %s:
`,x,c),p=i("%s%s",g,l),v=l.split(`
`),y={},m=0;m<v.length;m++){var _=v[m];if(_!==""&&_!=="\0"){var f=parseInt(_.split(":")[2]);if(isNaN(f))throw new Error(i("Could not parse error: %s",_));y[f]=_}}var S=s(u).split(`
`);for(m=0;m<S.length;m++)if((y[m+3]||y[m+2]||y[m+1])&&(g+=S[m]+`
`,y[m+1])){var T=y[m+1];T=T.substr(T.split(":",3).join(":").length+1).trim(),g+=i(`^^^ %s

`,T)}return{long:g.trim(),short:p.trim()}}},6386:function(h,o,t){h.exports=function(p,v){var y=p.gl,m=new d(p,s(y,u.vertex,u.fragment),s(y,u.pickVertex,u.pickFragment),l(y),l(y),l(y),l(y));return m.update(v),p.addObject(m),m};var i=t(5070),n=t(9560),r=t(5306),s=t(5158),l=t(5827),u=t(1292);function d(p,v,y,m,_,f,S){this.plot=p,this.shader=v,this.pickShader=y,this.positionBuffer=m,this.weightBuffer=_,this.colorBuffer=f,this.idBuffer=S,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c,x=d.prototype,g=[0,0,1,0,0,1,1,0,1,1,0,1];x.draw=(c=[1,0,0,0,1,0,0,0,1],function(){var p=this.plot,v=this.shader,y=this.bounds,m=this.numVertices;if(!(m<=0)){var _=p.gl,f=p.dataBox,S=y[2]-y[0],T=y[3]-y[1],E=f[2]-f[0],C=f[3]-f[1];c[0]=2*S/E,c[4]=2*T/C,c[6]=2*(y[0]-f[0])/E-1,c[7]=2*(y[1]-f[1])/C-1,v.bind();var O=v.uniforms;O.viewTransform=c,O.shape=this.shape;var I=v.attributes;this.positionBuffer.bind(),I.position.pointer(),this.weightBuffer.bind(),I.weight.pointer(_.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),I.color.pointer(_.UNSIGNED_BYTE,!0),_.drawArrays(_.TRIANGLES,0,m)}}),x.drawPick=function(){var p=[1,0,0,0,1,0,0,0,1],v=[0,0,0,0];return function(y){var m=this.plot,_=this.pickShader,f=this.bounds,S=this.numVertices;if(!(S<=0)){var T=m.gl,E=m.dataBox,C=f[2]-f[0],O=f[3]-f[1],I=E[2]-E[0],z=E[3]-E[1];p[0]=2*C/I,p[4]=2*O/z,p[6]=2*(f[0]-E[0])/I-1,p[7]=2*(f[1]-E[1])/z-1;for(var U=0;U<4;++U)v[U]=y>>8*U&255;this.pickOffset=y,_.bind();var D=_.uniforms;D.viewTransform=p,D.pickOffset=v,D.shape=this.shape;var B=_.attributes;return this.positionBuffer.bind(),B.position.pointer(),this.weightBuffer.bind(),B.weight.pointer(T.UNSIGNED_BYTE,!1),this.idBuffer.bind(),B.pickId.pointer(T.UNSIGNED_BYTE,!1),T.drawArrays(T.TRIANGLES,0,S),y+this.shape[0]*this.shape[1]}}}(),x.pick=function(p,v,y){var m=this.pickOffset,_=this.shape[0]*this.shape[1];if(y<m||y>=m+_)return null;var f=y-m,S=this.xData,T=this.yData;return{object:this,pointId:f,dataCoord:[S[f%this.shape[0]],T[f/this.shape[0]|0]]}},x.update=function(p){var v=(p=p||{}).shape||[0,0],y=p.x||n(v[0]),m=p.y||n(v[1]),_=p.z||new Float32Array(v[0]*v[1]),f=p.zsmooth!==!1;this.xData=y,this.yData=m;var S,T,E,C,O=p.colorLevels||[0],I=p.colorValues||[0,0,0,1],z=O.length,U=this.bounds;f?(S=U[0]=y[0],T=U[1]=m[0],E=U[2]=y[y.length-1],C=U[3]=m[m.length-1]):(S=U[0]=y[0]+(y[1]-y[0])/2,T=U[1]=m[0]+(m[1]-m[0])/2,E=U[2]=y[y.length-1]+(y[y.length-1]-y[y.length-2])/2,C=U[3]=m[m.length-1]+(m[m.length-1]-m[m.length-2])/2);var D=1/(E-S),B=1/(C-T),Z=v[0],F=v[1];this.shape=[Z,F];var j=(f?(Z-1)*(F-1):Z*F)*(g.length>>>1);this.numVertices=j;for(var V=r.mallocUint8(4*j),te=r.mallocFloat32(2*j),Q=r.mallocUint8(2*j),$=r.mallocUint32(j),G=0,X=f?Z-1:Z,J=f?F-1:F,ne=0;ne<J;++ne){var ie,ae;f?(ie=B*(m[ne]-T),ae=B*(m[ne+1]-T)):(ie=ne<F-1?B*(m[ne]-(m[ne+1]-m[ne])/2-T):B*(m[ne]-(m[ne]-m[ne-1])/2-T),ae=ne<F-1?B*(m[ne]+(m[ne+1]-m[ne])/2-T):B*(m[ne]+(m[ne]-m[ne-1])/2-T));for(var le=0;le<X;++le){var ce,pe;f?(ce=D*(y[le]-S),pe=D*(y[le+1]-S)):(ce=le<Z-1?D*(y[le]-(y[le+1]-y[le])/2-S):D*(y[le]-(y[le]-y[le-1])/2-S),pe=le<Z-1?D*(y[le]+(y[le+1]-y[le])/2-S):D*(y[le]+(y[le]-y[le-1])/2-S));for(var ge=0;ge<g.length;ge+=2){var me,ve,Me,_e,we=g[ge],oe=g[ge+1],se=_[f?(ne+oe)*Z+(le+we):ne*Z+le],de=i.le(O,se);if(de<0)me=I[0],ve=I[1],Me=I[2],_e=I[3];else if(de===z-1)me=I[4*z-4],ve=I[4*z-3],Me=I[4*z-2],_e=I[4*z-1];else{var Ee=(se-O[de])/(O[de+1]-O[de]),Te=1-Ee,Se=4*de,Le=4*(de+1);me=Te*I[Se]+Ee*I[Le],ve=Te*I[Se+1]+Ee*I[Le+1],Me=Te*I[Se+2]+Ee*I[Le+2],_e=Te*I[Se+3]+Ee*I[Le+3]}V[4*G]=255*me,V[4*G+1]=255*ve,V[4*G+2]=255*Me,V[4*G+3]=255*_e,te[2*G]=.5*ce+.5*pe,te[2*G+1]=.5*ie+.5*ae,Q[2*G]=we,Q[2*G+1]=oe,$[G]=ne*Z+le,G+=1}}}this.positionBuffer.update(te),this.weightBuffer.update(Q),this.colorBuffer.update(V),this.idBuffer.update($),r.free(te),r.free(V),r.free(Q),r.free($)},x.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},1292:function(h,o,t){var i=t(6832);h.exports={fragment:i([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:i([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(h,o,t){var i=t(6832),n=t(5158),r=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),s=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),u=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];o.createShader=function(d){return n(d,r,s,null,u)},o.createPickShader=function(d){return n(d,r,l,null,u)}},6086:function(h,o,t){h.exports=function(S){var T=S.gl||S.scene&&S.scene.gl,E=x(T);E.attributes.position.location=0,E.attributes.nextPosition.location=1,E.attributes.arcLength.location=2,E.attributes.lineWidth.location=3,E.attributes.color.location=4;var C=g(T);C.attributes.position.location=0,C.attributes.nextPosition.location=1,C.attributes.arcLength.location=2,C.attributes.lineWidth.location=3,C.attributes.color.location=4;for(var O=i(T),I=n(T,[{buffer:O,size:3,offset:0,stride:48},{buffer:O,size:3,offset:12,stride:48},{buffer:O,size:1,offset:24,stride:48},{buffer:O,size:1,offset:28,stride:48},{buffer:O,size:4,offset:32,stride:48}]),z=d(new Array(1024),[256,1,4]),U=0;U<1024;++U)z.data[U]=255;var D=r(T,z);D.wrap=T.REPEAT;var B=new _(T,E,C,O,I,D);return B.update(S),B};var i=t(5827),n=t(2944),r=t(8931),s=new Uint8Array(4),l=new Float32Array(s.buffer),u=t(5070),d=t(5050),c=t(248),x=c.createShader,g=c.createPickShader,p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function v(S,T){for(var E=0,C=0;C<3;++C){var O=S[C]-T[C];E+=O*O}return Math.sqrt(E)}function y(S){for(var T=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],E=0;E<3;++E)T[0][E]=Math.max(S[0][E],T[0][E]),T[1][E]=Math.min(S[1][E],T[1][E]);return T}function m(S,T,E,C){this.arcLength=S,this.position=T,this.index=E,this.dataCoordinate=C}function _(S,T,E,C,O,I){this.gl=S,this.shader=T,this.pickShader=E,this.buffer=C,this.vao=O,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=I,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var f=_.prototype;f.isTransparent=function(){return this.hasAlpha},f.isOpaque=function(){return!this.hasAlpha},f.pickSlots=1,f.setPickBase=function(S){this.pickId=S},f.drawTransparent=f.draw=function(S){if(this.vertexCount){var T=this.gl,E=this.shader,C=this.vao;E.bind(),E.uniforms={model:S.model||p,view:S.view||p,projection:S.projection||p,clipBounds:y(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[T.drawingBufferWidth,T.drawingBufferHeight],pixelRatio:this.pixelRatio},C.bind(),C.draw(T.TRIANGLE_STRIP,this.vertexCount),C.unbind()}},f.drawPick=function(S){if(this.vertexCount){var T=this.gl,E=this.pickShader,C=this.vao;E.bind(),E.uniforms={model:S.model||p,view:S.view||p,projection:S.projection||p,pickId:this.pickId,clipBounds:y(this.clipBounds),screenShape:[T.drawingBufferWidth,T.drawingBufferHeight],pixelRatio:this.pixelRatio},C.bind(),C.draw(T.TRIANGLE_STRIP,this.vertexCount),C.unbind()}},f.update=function(S){var T,E;this.dirty=!0;var C=!!S.connectGaps;"dashScale"in S&&(this.dashScale=S.dashScale),this.hasAlpha=!1,"opacity"in S&&(this.opacity=+S.opacity,this.opacity<1&&(this.hasAlpha=!0));var O=[],I=[],z=[],U=0,D=0,B=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Z=S.position||S.positions;if(Z){var F=S.color||S.colors||[0,0,0,1],j=S.lineWidth||1,V=!1;e:for(T=1;T<Z.length;++T){var te,Q,$,G=Z[T-1],X=Z[T];for(I.push(U),z.push(G.slice()),E=0;E<3;++E){if(isNaN(G[E])||isNaN(X[E])||!isFinite(G[E])||!isFinite(X[E])){if(!C&&O.length>0){for(var J=0;J<24;++J)O.push(O[O.length-12]);D+=2,V=!0}continue e}B[0][E]=Math.min(B[0][E],G[E],X[E]),B[1][E]=Math.max(B[1][E],G[E],X[E])}Array.isArray(F[0])?(te=F.length>T-1?F[T-1]:F.length>0?F[F.length-1]:[0,0,0,1],Q=F.length>T?F[T]:F.length>0?F[F.length-1]:[0,0,0,1]):te=Q=F,te.length===3&&(te=[te[0],te[1],te[2],1]),Q.length===3&&(Q=[Q[0],Q[1],Q[2],1]),!this.hasAlpha&&te[3]<1&&(this.hasAlpha=!0),$=Array.isArray(j)?j.length>T-1?j[T-1]:j.length>0?j[j.length-1]:[0,0,0,1]:j;var ne=U;if(U+=v(G,X),V){for(E=0;E<2;++E)O.push(G[0],G[1],G[2],X[0],X[1],X[2],ne,$,te[0],te[1],te[2],te[3]);D+=2,V=!1}O.push(G[0],G[1],G[2],X[0],X[1],X[2],ne,$,te[0],te[1],te[2],te[3],G[0],G[1],G[2],X[0],X[1],X[2],ne,-$,te[0],te[1],te[2],te[3],X[0],X[1],X[2],G[0],G[1],G[2],U,-$,Q[0],Q[1],Q[2],Q[3],X[0],X[1],X[2],G[0],G[1],G[2],U,$,Q[0],Q[1],Q[2],Q[3]),D+=4}}if(this.buffer.update(O),I.push(U),z.push(Z[Z.length-1].slice()),this.bounds=B,this.vertexCount=D,this.points=z,this.arcLength=I,"dashes"in S){var ie=S.dashes.slice();for(ie.unshift(0),T=1;T<ie.length;++T)ie[T]=ie[T-1]+ie[T];var ae=d(new Array(1024),[256,1,4]);for(T=0;T<256;++T){for(E=0;E<4;++E)ae.set(T,0,E,0);1&u.le(ie,ie[ie.length-1]*T/255)?ae.set(T,0,0,0):ae.set(T,0,0,255)}this.texture.setPixels(ae)}},f.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},f.pick=function(S){if(!S||S.id!==this.pickId)return null;var T=function(Z,F,j,V){return s[0]=0,s[1]=j,s[2]=F,s[3]=Z,l[0]}(S.value[0],S.value[1],S.value[2]),E=u.le(this.arcLength,T);if(E<0)return null;if(E===this.arcLength.length-1)return new m(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),E);for(var C=this.points[E],O=this.points[Math.min(E+1,this.points.length-1)],I=(T-this.arcLength[E])/(this.arcLength[E+1]-this.arcLength[E]),z=1-I,U=[0,0,0],D=0;D<3;++D)U[D]=z*C[D]+I*O[D];var B=Math.min(I<.5?E:E+1,this.points.length-1);return new m(T,U,B,this.points[B])}},7332:function(h){h.exports=function(o){var t=new Float32Array(16);return t[0]=o[0],t[1]=o[1],t[2]=o[2],t[3]=o[3],t[4]=o[4],t[5]=o[5],t[6]=o[6],t[7]=o[7],t[8]=o[8],t[9]=o[9],t[10]=o[10],t[11]=o[11],t[12]=o[12],t[13]=o[13],t[14]=o[14],t[15]=o[15],t}},9823:function(h){h.exports=function(){var o=new Float32Array(16);return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},7787:function(h){h.exports=function(o){var t=o[0],i=o[1],n=o[2],r=o[3],s=o[4],l=o[5],u=o[6],d=o[7],c=o[8],x=o[9],g=o[10],p=o[11],v=o[12],y=o[13],m=o[14],_=o[15];return(t*l-i*s)*(g*_-p*m)-(t*u-n*s)*(x*_-p*y)+(t*d-r*s)*(x*m-g*y)+(i*u-n*l)*(c*_-p*v)-(i*d-r*l)*(c*m-g*v)+(n*d-r*u)*(c*y-x*v)}},5950:function(h){h.exports=function(o,t){var i=t[0],n=t[1],r=t[2],s=t[3],l=i+i,u=n+n,d=r+r,c=i*l,x=n*l,g=n*u,p=r*l,v=r*u,y=r*d,m=s*l,_=s*u,f=s*d;return o[0]=1-g-y,o[1]=x+f,o[2]=p-_,o[3]=0,o[4]=x-f,o[5]=1-c-y,o[6]=v+m,o[7]=0,o[8]=p+_,o[9]=v-m,o[10]=1-c-g,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},7280:function(h){h.exports=function(o,t,i){var n=t[0],r=t[1],s=t[2],l=t[3],u=n+n,d=r+r,c=s+s,x=n*u,g=n*d,p=n*c,v=r*d,y=r*c,m=s*c,_=l*u,f=l*d,S=l*c;return o[0]=1-(v+m),o[1]=g+S,o[2]=p-f,o[3]=0,o[4]=g-S,o[5]=1-(x+m),o[6]=y+_,o[7]=0,o[8]=p+f,o[9]=y-_,o[10]=1-(x+v),o[11]=0,o[12]=i[0],o[13]=i[1],o[14]=i[2],o[15]=1,o}},9947:function(h){h.exports=function(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},7437:function(h){h.exports=function(o,t){var i=t[0],n=t[1],r=t[2],s=t[3],l=t[4],u=t[5],d=t[6],c=t[7],x=t[8],g=t[9],p=t[10],v=t[11],y=t[12],m=t[13],_=t[14],f=t[15],S=i*u-n*l,T=i*d-r*l,E=i*c-s*l,C=n*d-r*u,O=n*c-s*u,I=r*c-s*d,z=x*m-g*y,U=x*_-p*y,D=x*f-v*y,B=g*_-p*m,Z=g*f-v*m,F=p*f-v*_,j=S*F-T*Z+E*B+C*D-O*U+I*z;return j?(j=1/j,o[0]=(u*F-d*Z+c*B)*j,o[1]=(r*Z-n*F-s*B)*j,o[2]=(m*I-_*O+f*C)*j,o[3]=(p*O-g*I-v*C)*j,o[4]=(d*D-l*F-c*U)*j,o[5]=(i*F-r*D+s*U)*j,o[6]=(_*E-y*I-f*T)*j,o[7]=(x*I-p*E+v*T)*j,o[8]=(l*Z-u*D+c*z)*j,o[9]=(n*D-i*Z-s*z)*j,o[10]=(y*O-m*E+f*S)*j,o[11]=(g*E-x*O-v*S)*j,o[12]=(u*U-l*B-d*z)*j,o[13]=(i*B-n*U+r*z)*j,o[14]=(m*T-y*C-_*S)*j,o[15]=(x*C-g*T+p*S)*j,o):null}},3012:function(h,o,t){var i=t(9947);h.exports=function(n,r,s,l){var u,d,c,x,g,p,v,y,m,_,f=r[0],S=r[1],T=r[2],E=l[0],C=l[1],O=l[2],I=s[0],z=s[1],U=s[2];return Math.abs(f-I)<1e-6&&Math.abs(S-z)<1e-6&&Math.abs(T-U)<1e-6?i(n):(v=f-I,y=S-z,m=T-U,u=C*(m*=_=1/Math.sqrt(v*v+y*y+m*m))-O*(y*=_),d=O*(v*=_)-E*m,c=E*y-C*v,(_=Math.sqrt(u*u+d*d+c*c))?(u*=_=1/_,d*=_,c*=_):(u=0,d=0,c=0),x=y*c-m*d,g=m*u-v*c,p=v*d-y*u,(_=Math.sqrt(x*x+g*g+p*p))?(x*=_=1/_,g*=_,p*=_):(x=0,g=0,p=0),n[0]=u,n[1]=x,n[2]=v,n[3]=0,n[4]=d,n[5]=g,n[6]=y,n[7]=0,n[8]=c,n[9]=p,n[10]=m,n[11]=0,n[12]=-(u*f+d*S+c*T),n[13]=-(x*f+g*S+p*T),n[14]=-(v*f+y*S+m*T),n[15]=1,n)}},104:function(h){h.exports=function(o,t,i){var n=t[0],r=t[1],s=t[2],l=t[3],u=t[4],d=t[5],c=t[6],x=t[7],g=t[8],p=t[9],v=t[10],y=t[11],m=t[12],_=t[13],f=t[14],S=t[15],T=i[0],E=i[1],C=i[2],O=i[3];return o[0]=T*n+E*u+C*g+O*m,o[1]=T*r+E*d+C*p+O*_,o[2]=T*s+E*c+C*v+O*f,o[3]=T*l+E*x+C*y+O*S,T=i[4],E=i[5],C=i[6],O=i[7],o[4]=T*n+E*u+C*g+O*m,o[5]=T*r+E*d+C*p+O*_,o[6]=T*s+E*c+C*v+O*f,o[7]=T*l+E*x+C*y+O*S,T=i[8],E=i[9],C=i[10],O=i[11],o[8]=T*n+E*u+C*g+O*m,o[9]=T*r+E*d+C*p+O*_,o[10]=T*s+E*c+C*v+O*f,o[11]=T*l+E*x+C*y+O*S,T=i[12],E=i[13],C=i[14],O=i[15],o[12]=T*n+E*u+C*g+O*m,o[13]=T*r+E*d+C*p+O*_,o[14]=T*s+E*c+C*v+O*f,o[15]=T*l+E*x+C*y+O*S,o}},5268:function(h){h.exports=function(o,t,i,n,r,s,l){var u=1/(t-i),d=1/(n-r),c=1/(s-l);return o[0]=-2*u,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*d,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*c,o[11]=0,o[12]=(t+i)*u,o[13]=(r+n)*d,o[14]=(l+s)*c,o[15]=1,o}},1120:function(h){h.exports=function(o,t,i,n,r){var s=1/Math.tan(t/2),l=1/(n-r);return o[0]=s/i,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=s,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(r+n)*l,o[11]=-1,o[12]=0,o[13]=0,o[14]=2*r*n*l,o[15]=0,o}},4422:function(h){h.exports=function(o,t,i,n){var r,s,l,u,d,c,x,g,p,v,y,m,_,f,S,T,E,C,O,I,z,U,D,B,Z=n[0],F=n[1],j=n[2],V=Math.sqrt(Z*Z+F*F+j*j);return Math.abs(V)<1e-6?null:(Z*=V=1/V,F*=V,j*=V,r=Math.sin(i),l=1-(s=Math.cos(i)),u=t[0],d=t[1],c=t[2],x=t[3],g=t[4],p=t[5],v=t[6],y=t[7],m=t[8],_=t[9],f=t[10],S=t[11],T=Z*Z*l+s,E=F*Z*l+j*r,C=j*Z*l-F*r,O=Z*F*l-j*r,I=F*F*l+s,z=j*F*l+Z*r,U=Z*j*l+F*r,D=F*j*l-Z*r,B=j*j*l+s,o[0]=u*T+g*E+m*C,o[1]=d*T+p*E+_*C,o[2]=c*T+v*E+f*C,o[3]=x*T+y*E+S*C,o[4]=u*O+g*I+m*z,o[5]=d*O+p*I+_*z,o[6]=c*O+v*I+f*z,o[7]=x*O+y*I+S*z,o[8]=u*U+g*D+m*B,o[9]=d*U+p*D+_*B,o[10]=c*U+v*D+f*B,o[11]=x*U+y*D+S*B,t!==o&&(o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15]),o)}},6109:function(h){h.exports=function(o,t,i){var n=Math.sin(i),r=Math.cos(i),s=t[4],l=t[5],u=t[6],d=t[7],c=t[8],x=t[9],g=t[10],p=t[11];return t!==o&&(o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15]),o[4]=s*r+c*n,o[5]=l*r+x*n,o[6]=u*r+g*n,o[7]=d*r+p*n,o[8]=c*r-s*n,o[9]=x*r-l*n,o[10]=g*r-u*n,o[11]=p*r-d*n,o}},7115:function(h){h.exports=function(o,t,i){var n=Math.sin(i),r=Math.cos(i),s=t[0],l=t[1],u=t[2],d=t[3],c=t[8],x=t[9],g=t[10],p=t[11];return t!==o&&(o[4]=t[4],o[5]=t[5],o[6]=t[6],o[7]=t[7],o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15]),o[0]=s*r-c*n,o[1]=l*r-x*n,o[2]=u*r-g*n,o[3]=d*r-p*n,o[8]=s*n+c*r,o[9]=l*n+x*r,o[10]=u*n+g*r,o[11]=d*n+p*r,o}},5240:function(h){h.exports=function(o,t,i){var n=Math.sin(i),r=Math.cos(i),s=t[0],l=t[1],u=t[2],d=t[3],c=t[4],x=t[5],g=t[6],p=t[7];return t!==o&&(o[8]=t[8],o[9]=t[9],o[10]=t[10],o[11]=t[11],o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15]),o[0]=s*r+c*n,o[1]=l*r+x*n,o[2]=u*r+g*n,o[3]=d*r+p*n,o[4]=c*r-s*n,o[5]=x*r-l*n,o[6]=g*r-u*n,o[7]=p*r-d*n,o}},3668:function(h){h.exports=function(o,t,i){var n=i[0],r=i[1],s=i[2];return o[0]=t[0]*n,o[1]=t[1]*n,o[2]=t[2]*n,o[3]=t[3]*n,o[4]=t[4]*r,o[5]=t[5]*r,o[6]=t[6]*r,o[7]=t[7]*r,o[8]=t[8]*s,o[9]=t[9]*s,o[10]=t[10]*s,o[11]=t[11]*s,o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15],o}},998:function(h){h.exports=function(o,t,i){var n,r,s,l,u,d,c,x,g,p,v,y,m=i[0],_=i[1],f=i[2];return t===o?(o[12]=t[0]*m+t[4]*_+t[8]*f+t[12],o[13]=t[1]*m+t[5]*_+t[9]*f+t[13],o[14]=t[2]*m+t[6]*_+t[10]*f+t[14],o[15]=t[3]*m+t[7]*_+t[11]*f+t[15]):(n=t[0],r=t[1],s=t[2],l=t[3],u=t[4],d=t[5],c=t[6],x=t[7],g=t[8],p=t[9],v=t[10],y=t[11],o[0]=n,o[1]=r,o[2]=s,o[3]=l,o[4]=u,o[5]=d,o[6]=c,o[7]=x,o[8]=g,o[9]=p,o[10]=v,o[11]=y,o[12]=n*m+u*_+g*f+t[12],o[13]=r*m+d*_+p*f+t[13],o[14]=s*m+c*_+v*f+t[14],o[15]=l*m+x*_+y*f+t[15]),o}},2142:function(h){h.exports=function(o,t){if(o===t){var i=t[1],n=t[2],r=t[3],s=t[6],l=t[7],u=t[11];o[1]=t[4],o[2]=t[8],o[3]=t[12],o[4]=i,o[6]=t[9],o[7]=t[13],o[8]=n,o[9]=s,o[11]=t[14],o[12]=r,o[13]=l,o[14]=u}else o[0]=t[0],o[1]=t[4],o[2]=t[8],o[3]=t[12],o[4]=t[1],o[5]=t[5],o[6]=t[9],o[7]=t[13],o[8]=t[2],o[9]=t[6],o[10]=t[10],o[11]=t[14],o[12]=t[3],o[13]=t[7],o[14]=t[11],o[15]=t[15];return o}},4340:function(h,o,t){var i=t(957),n=t(7309);function r(u,d){for(var c=[0,0,0,0],x=0;x<4;++x)for(var g=0;g<4;++g)c[g]+=u[4*x+g]*d[x];return c}function s(u,d,c,x,g){for(var p=r(x,r(c,r(d,[u[0],u[1],u[2],1]))),v=0;v<3;++v)p[v]/=p[3];return[.5*g[0]*(1+p[0]),.5*g[1]*(1-p[1])]}function l(u,d){for(var c=[0,0,0],x=0;x<u.length;++x)for(var g=u[x],p=d[x],v=0;v<3;++v)c[v]+=p*g[v];return c}h.exports=function(u,d,c,x,g,p){if(u.length===1)return[0,u[0].slice()];for(var v=new Array(u.length),y=0;y<u.length;++y)v[y]=s(u[y],c,x,g,p);var m=0,_=1/0;for(y=0;y<v.length;++y){for(var f=0,S=0;S<2;++S)f+=Math.pow(v[y][S]-d[S],2);f<_&&(_=f,m=y)}var T=function(C,O){if(C.length===2){for(var I=0,z=0,U=0;U<2;++U)I+=Math.pow(O[U]-C[0][U],2),z+=Math.pow(O[U]-C[1][U],2);return(I=Math.sqrt(I))+(z=Math.sqrt(z))<1e-6?[1,0]:[z/(I+z),I/(z+I)]}if(C.length===3){var D=[0,0];return n(C[0],C[1],C[2],O,D),i(C,D)}return[]}(v,d),E=0;for(y=0;y<3;++y){if(T[y]<-.001||T[y]>1.0001)return null;E+=T[y]}return Math.abs(E-1)>.001?null:[m,l(u,T),T]}},2056:function(h,o,t){var i=t(6832),n=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),r=i([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),s=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),u=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),d=i([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),c=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),x=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),g=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),p=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),v=i([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);o.meshShader={vertex:n,fragment:r,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},o.wireShader={vertex:s,fragment:l,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},o.pointShader={vertex:u,fragment:d,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},o.pickShader={vertex:c,fragment:x,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},o.pointPickShader={vertex:g,fragment:x,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},o.contourShader={vertex:p,fragment:v,attributes:[{name:"position",type:"vec3"}]}},8116:function(h,o,t){var i=t(5158),n=t(5827),r=t(2944),s=t(8931),l=t(115),u=t(104),d=t(7437),c=t(5050),x=t(9156),g=t(7212),p=t(5306),v=t(2056),y=t(4340),m=v.meshShader,_=v.wireShader,f=v.pointShader,S=v.pickShader,T=v.pointPickShader,E=v.contourShader,C=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function O(F,j,V,te,Q,$,G,X,J,ne,ie,ae,le,ce,pe,ge,me,ve,Me,_e,we,oe,se,de,Ee,Te,Se){this.gl=F,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=j,this.dirty=!0,this.triShader=V,this.lineShader=te,this.pointShader=Q,this.pickShader=$,this.pointPickShader=G,this.contourShader=X,this.trianglePositions=J,this.triangleColors=ie,this.triangleNormals=le,this.triangleUVs=ae,this.triangleIds=ne,this.triangleVAO=ce,this.triangleCount=0,this.lineWidth=1,this.edgePositions=pe,this.edgeColors=me,this.edgeUVs=ve,this.edgeIds=ge,this.edgeVAO=Me,this.edgeCount=0,this.pointPositions=_e,this.pointColors=oe,this.pointUVs=se,this.pointSizes=de,this.pointIds=we,this.pointVAO=Ee,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Te,this.contourVAO=Se,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=C,this._view=C,this._projection=C,this._resolution=[1,1]}var I=O.prototype;function z(F,j){if(!j||!j.length)return 1;for(var V=0;V<j.length;++V){if(j.length<2)return 1;if(j[V][0]===F)return j[V][1];if(j[V][0]>F&&V>0){var te=(j[V][0]-F)/(j[V][0]-j[V-1][0]);return j[V][1]*(1-te)+te*j[V-1][1]}}return 1}function U(F){var j=i(F,f.vertex,f.fragment);return j.attributes.position.location=0,j.attributes.color.location=2,j.attributes.uv.location=3,j.attributes.pointSize.location=4,j}function D(F){var j=i(F,S.vertex,S.fragment);return j.attributes.position.location=0,j.attributes.id.location=1,j}function B(F){var j=i(F,T.vertex,T.fragment);return j.attributes.position.location=0,j.attributes.id.location=1,j.attributes.pointSize.location=4,j}function Z(F){var j=i(F,E.vertex,E.fragment);return j.attributes.position.location=0,j}I.isOpaque=function(){return!this.hasAlpha},I.isTransparent=function(){return this.hasAlpha},I.pickSlots=1,I.setPickBase=function(F){this.pickId=F},I.highlight=function(F){if(F&&this.contourEnable){for(var j=g(this.cells,this.intensity,F.intensity),V=j.cells,te=j.vertexIds,Q=j.vertexWeights,$=V.length,G=p.mallocFloat32(6*$),X=0,J=0;J<$;++J)for(var ne=V[J],ie=0;ie<2;++ie){var ae=ne[0];ne.length===2&&(ae=ne[ie]);for(var le=te[ae][0],ce=te[ae][1],pe=Q[ae],ge=1-pe,me=this.positions[le],ve=this.positions[ce],Me=0;Me<3;++Me)G[X++]=pe*me[Me]+ge*ve[Me]}this.contourCount=X/3|0,this.contourPositions.update(G.subarray(0,X)),p.free(G)}else this.contourCount=0},I.update=function(F){F=F||{};var j=this.gl;this.dirty=!0,"contourEnable"in F&&(this.contourEnable=F.contourEnable),"contourColor"in F&&(this.contourColor=F.contourColor),"lineWidth"in F&&(this.lineWidth=F.lineWidth),"lightPosition"in F&&(this.lightPosition=F.lightPosition),this.hasAlpha=!1,"opacity"in F&&(this.opacity=F.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in F&&(this.opacityscale=F.opacityscale,this.hasAlpha=!0),"ambient"in F&&(this.ambientLight=F.ambient),"diffuse"in F&&(this.diffuseLight=F.diffuse),"specular"in F&&(this.specularLight=F.specular),"roughness"in F&&(this.roughness=F.roughness),"fresnel"in F&&(this.fresnel=F.fresnel),F.texture?(this.texture.dispose(),this.texture=s(j,F.texture)):F.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=j.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=j.LINEAR,this.texture.setPixels(function(zt,Ft){for(var Rt=x({colormap:zt,nshades:256,format:"rgba"}),We=new Uint8Array(1024),Ze=0;Ze<256;++Ze){for(var Ne=Rt[Ze],Ye=0;Ye<3;++Ye)We[4*Ze+Ye]=Ne[Ye];We[4*Ze+3]=Ft?255*z(Ze/255,Ft):255*Ne[3]}return c(We,[256,256,4],[4,0,1])}(F.colormap,this.opacityscale)),this.texture.generateMipmap());var V=F.cells,te=F.positions;if(te&&V){var Q=[],$=[],G=[],X=[],J=[],ne=[],ie=[],ae=[],le=[],ce=[],pe=[],ge=[],me=[],ve=[];this.cells=V,this.positions=te;var Me=F.vertexNormals,_e=F.cellNormals,we=F.vertexNormalsEpsilon===void 0?1e-6:F.vertexNormalsEpsilon,oe=F.faceNormalsEpsilon===void 0?1e-6:F.faceNormalsEpsilon;F.useFacetNormals&&!_e&&(_e=l.faceNormals(V,te,oe)),_e||Me||(Me=l.vertexNormals(V,te,we));var se=F.vertexColors,de=F.cellColors,Ee=F.meshColor||[1,1,1,1],Te=F.vertexUVs,Se=F.vertexIntensity,Le=F.cellUVs,Oe=F.cellIntensity,he=1/0,xe=-1/0;if(!Te&&!Le)if(Se)if(F.vertexIntensityBounds)he=+F.vertexIntensityBounds[0],xe=+F.vertexIntensityBounds[1];else for(var ke=0;ke<Se.length;++ke){var Re=Se[ke];he=Math.min(he,Re),xe=Math.max(xe,Re)}else if(Oe)if(F.cellIntensityBounds)he=+F.cellIntensityBounds[0],xe=+F.cellIntensityBounds[1];else for(ke=0;ke<Oe.length;++ke)Re=Oe[ke],he=Math.min(he,Re),xe=Math.max(xe,Re);else for(ke=0;ke<te.length;++ke)Re=te[ke][2],he=Math.min(he,Re),xe=Math.max(xe,Re);this.intensity=Se||Oe||function(zt){for(var Ft=zt.length,Rt=new Array(Ft),We=0;We<Ft;++We)Rt[We]=zt[We][2];return Rt}(te),this.pickVertex=!(Oe||de);var ze=F.pointSizes,Ie=F.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],ke=0;ke<te.length;++ke)for(var He=te[ke],qe=0;qe<3;++qe)!isNaN(He[qe])&&isFinite(He[qe])&&(this.bounds[0][qe]=Math.min(this.bounds[0][qe],He[qe]),this.bounds[1][qe]=Math.max(this.bounds[1][qe],He[qe]));var Je=0,st=0,it=0;e:for(ke=0;ke<V.length;++ke){var vt=V[ke];switch(vt.length){case 1:for(He=te[xt=vt[0]],qe=0;qe<3;++qe)if(isNaN(He[qe])||!isFinite(He[qe]))continue e;ce.push(He[0],He[1],He[2]),et=se?se[xt]:de?de[ke]:Ee,this.opacityscale&&Se?$.push(et[0],et[1],et[2],this.opacity*z((Se[xt]-he)/(xe-he),this.opacityscale)):et.length===3?pe.push(et[0],et[1],et[2],this.opacity):(pe.push(et[0],et[1],et[2],et[3]*this.opacity),et[3]<1&&(this.hasAlpha=!0)),nt=Te?Te[xt]:Se?[(Se[xt]-he)/(xe-he),0]:Le?Le[ke]:Oe?[(Oe[ke]-he)/(xe-he),0]:[(He[2]-he)/(xe-he),0],ge.push(nt[0],nt[1]),ze?me.push(ze[xt]):me.push(Ie),ve.push(ke),it+=1;break;case 2:for(qe=0;qe<2;++qe){He=te[xt=vt[qe]];for(var _t=0;_t<3;++_t)if(isNaN(He[_t])||!isFinite(He[_t]))continue e}for(qe=0;qe<2;++qe)He=te[xt=vt[qe]],ne.push(He[0],He[1],He[2]),et=se?se[xt]:de?de[ke]:Ee,this.opacityscale&&Se?$.push(et[0],et[1],et[2],this.opacity*z((Se[xt]-he)/(xe-he),this.opacityscale)):et.length===3?ie.push(et[0],et[1],et[2],this.opacity):(ie.push(et[0],et[1],et[2],et[3]*this.opacity),et[3]<1&&(this.hasAlpha=!0)),nt=Te?Te[xt]:Se?[(Se[xt]-he)/(xe-he),0]:Le?Le[ke]:Oe?[(Oe[ke]-he)/(xe-he),0]:[(He[2]-he)/(xe-he),0],ae.push(nt[0],nt[1]),le.push(ke);st+=1;break;case 3:for(qe=0;qe<3;++qe)for(He=te[xt=vt[qe]],_t=0;_t<3;++_t)if(isNaN(He[_t])||!isFinite(He[_t]))continue e;for(qe=0;qe<3;++qe){var xt,et,nt,Mt;He=te[xt=vt[2-qe]],Q.push(He[0],He[1],He[2]),(et=se?se[xt]:de?de[ke]:Ee)?this.opacityscale&&Se?$.push(et[0],et[1],et[2],this.opacity*z((Se[xt]-he)/(xe-he),this.opacityscale)):et.length===3?$.push(et[0],et[1],et[2],this.opacity):($.push(et[0],et[1],et[2],et[3]*this.opacity),et[3]<1&&(this.hasAlpha=!0)):$.push(.5,.5,.5,1),nt=Te?Te[xt]:Se?[(Se[xt]-he)/(xe-he),0]:Le?Le[ke]:Oe?[(Oe[ke]-he)/(xe-he),0]:[(He[2]-he)/(xe-he),0],X.push(nt[0],nt[1]),Mt=Me?Me[xt]:_e[ke],G.push(Mt[0],Mt[1],Mt[2]),J.push(ke)}Je+=1}}this.pointCount=it,this.edgeCount=st,this.triangleCount=Je,this.pointPositions.update(ce),this.pointColors.update(pe),this.pointUVs.update(ge),this.pointSizes.update(me),this.pointIds.update(new Uint32Array(ve)),this.edgePositions.update(ne),this.edgeColors.update(ie),this.edgeUVs.update(ae),this.edgeIds.update(new Uint32Array(le)),this.trianglePositions.update(Q),this.triangleColors.update($),this.triangleUVs.update(X),this.triangleNormals.update(G),this.triangleIds.update(new Uint32Array(J))}},I.drawTransparent=I.draw=function(F){F=F||{};for(var j=this.gl,V=F.model||C,te=F.view||C,Q=F.projection||C,$=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],G=0;G<3;++G)$[0][G]=Math.max($[0][G],this.clipBounds[0][G]),$[1][G]=Math.min($[1][G],this.clipBounds[1][G]);var X={model:V,view:te,projection:Q,inverseModel:C.slice(),clipBounds:$,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};X.inverseModel=d(X.inverseModel,X.model),j.disable(j.CULL_FACE),this.texture.bind(0);var J=new Array(16);for(u(J,X.view,X.model),u(J,X.projection,J),d(J,J),G=0;G<3;++G)X.eyePosition[G]=J[12+G]/J[15];var ne,ie=J[15];for(G=0;G<3;++G)ie+=this.lightPosition[G]*J[4*G+3];for(G=0;G<3;++G){for(var ae=J[12+G],le=0;le<3;++le)ae+=J[4*le+G]*this.lightPosition[le];X.lightPosition[G]=ae/ie}this.triangleCount>0&&((ne=this.triShader).bind(),ne.uniforms=X,this.triangleVAO.bind(),j.drawArrays(j.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((ne=this.lineShader).bind(),ne.uniforms=X,this.edgeVAO.bind(),j.lineWidth(this.lineWidth*this.pixelRatio),j.drawArrays(j.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((ne=this.pointShader).bind(),ne.uniforms=X,this.pointVAO.bind(),j.drawArrays(j.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((ne=this.contourShader).bind(),ne.uniforms=X,this.contourVAO.bind(),j.drawArrays(j.LINES,0,this.contourCount),this.contourVAO.unbind())},I.drawPick=function(F){F=F||{};for(var j=this.gl,V=F.model||C,te=F.view||C,Q=F.projection||C,$=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],G=0;G<3;++G)$[0][G]=Math.max($[0][G],this.clipBounds[0][G]),$[1][G]=Math.min($[1][G],this.clipBounds[1][G]);this._model=[].slice.call(V),this._view=[].slice.call(te),this._projection=[].slice.call(Q),this._resolution=[j.drawingBufferWidth,j.drawingBufferHeight];var X,J={model:V,view:te,projection:Q,clipBounds:$,pickId:this.pickId/255};(X=this.pickShader).bind(),X.uniforms=J,this.triangleCount>0&&(this.triangleVAO.bind(),j.drawArrays(j.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),j.lineWidth(this.lineWidth*this.pixelRatio),j.drawArrays(j.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((X=this.pointPickShader).bind(),X.uniforms=J,this.pointVAO.bind(),j.drawArrays(j.POINTS,0,this.pointCount),this.pointVAO.unbind())},I.pick=function(F){if(!F||F.id!==this.pickId)return null;for(var j=F.value[0]+256*F.value[1]+65536*F.value[2],V=this.cells[j],te=this.positions,Q=new Array(V.length),$=0;$<V.length;++$)Q[$]=te[V[$]];var G=F.coord[0],X=F.coord[1];if(!this.pickVertex){var J=this.positions[V[0]],ne=this.positions[V[1]],ie=this.positions[V[2]],ae=[(J[0]+ne[0]+ie[0])/3,(J[1]+ne[1]+ie[1])/3,(J[2]+ne[2]+ie[2])/3];return{_cellCenter:!0,position:[G,X],index:j,cell:V,cellId:j,intensity:this.intensity[j],dataCoordinate:ae}}var le=y(Q,[G*this.pixelRatio,this._resolution[1]-X*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!le)return null;var ce=le[2],pe=0;for($=0;$<V.length;++$)pe+=ce[$]*this.intensity[V[$]];return{position:le[1],index:V[le[0]],cell:V,cellId:j,intensity:pe,dataCoordinate:this.positions[V[le[0]]]}},I.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},h.exports=function(F,j){if(arguments.length===1&&(F=(j=F).gl),!(F.getExtension("OES_standard_derivatives")||F.getExtension("MOZ_OES_standard_derivatives")||F.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var V=function(Oe){var he=i(Oe,m.vertex,m.fragment);return he.attributes.position.location=0,he.attributes.color.location=2,he.attributes.uv.location=3,he.attributes.normal.location=4,he}(F),te=function(Oe){var he=i(Oe,_.vertex,_.fragment);return he.attributes.position.location=0,he.attributes.color.location=2,he.attributes.uv.location=3,he}(F),Q=U(F),$=D(F),G=B(F),X=Z(F),J=s(F,c(new Uint8Array([255,255,255,255]),[1,1,4]));J.generateMipmap(),J.minFilter=F.LINEAR_MIPMAP_LINEAR,J.magFilter=F.LINEAR;var ne=n(F),ie=n(F),ae=n(F),le=n(F),ce=n(F),pe=r(F,[{buffer:ne,type:F.FLOAT,size:3},{buffer:ce,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:ie,type:F.FLOAT,size:4},{buffer:ae,type:F.FLOAT,size:2},{buffer:le,type:F.FLOAT,size:3}]),ge=n(F),me=n(F),ve=n(F),Me=n(F),_e=r(F,[{buffer:ge,type:F.FLOAT,size:3},{buffer:Me,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:me,type:F.FLOAT,size:4},{buffer:ve,type:F.FLOAT,size:2}]),we=n(F),oe=n(F),se=n(F),de=n(F),Ee=n(F),Te=r(F,[{buffer:we,type:F.FLOAT,size:3},{buffer:Ee,type:F.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:oe,type:F.FLOAT,size:4},{buffer:se,type:F.FLOAT,size:2},{buffer:de,type:F.FLOAT,size:1}]),Se=n(F),Le=new O(F,J,V,te,Q,$,G,X,ne,ce,ie,ae,le,pe,ge,Me,me,ve,_e,we,Ee,oe,se,de,Te,Se,r(F,[{buffer:Se,type:F.FLOAT,size:3}]));return Le.update(j),Le}},4554:function(h,o,t){h.exports=function(c){var x=c.gl;return new s(c,i(x,[0,0,0,1,1,0,1,1]),n(x,r.boxVert,r.lineFrag))};var i=t(5827),n=t(5158),r=t(2709);function s(c,x,g){this.plot=c,this.vbo=x,this.shader=g}var l,u,d=s.prototype;d.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},d.drawBox=(l=[0,0],u=[0,0],function(c,x,g,p,v){var y=this.plot,m=this.shader,_=y.gl;l[0]=c,l[1]=x,u[0]=g,u[1]=p,m.uniforms.lo=l,m.uniforms.hi=u,m.uniforms.color=v,_.drawArrays(_.TRIANGLE_STRIP,0,4)}),d.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3016:function(h,o,t){h.exports=function(y){var m=y.gl;return new l(y,i(m),n(m,s.gridVert,s.gridFrag),n(m,s.tickVert,s.gridFrag))};var i=t(5827),n=t(5158),r=t(5070),s=t(2709);function l(y,m,_,f){this.plot=y,this.vbo=m,this.shader=_,this.tickShader=f,this.ticks=[[],[]]}function u(y,m){return y-m}var d,c,x,g,p,v=l.prototype;v.draw=(d=[0,0],c=[0,0],x=[0,0],function(){for(var y=this.plot,m=this.vbo,_=this.shader,f=this.ticks,S=y.gl,T=y._tickBounds,E=y.dataBox,C=y.viewBox,O=y.gridLineWidth,I=y.gridLineColor,z=y.gridLineEnable,U=y.pixelRatio,D=0;D<2;++D){var B=T[D],Z=T[D+2]-B,F=.5*(E[D+2]+E[D]),j=E[D+2]-E[D];c[D]=2*Z/j,d[D]=2*(B-F)/j}_.bind(),m.bind(),_.attributes.dataCoord.pointer(),_.uniforms.dataShift=d,_.uniforms.dataScale=c;var V=0;for(D=0;D<2;++D){x[0]=x[1]=0,x[D]=1,_.uniforms.dataAxis=x,_.uniforms.lineWidth=O[D]/(C[D+2]-C[D])*U,_.uniforms.color=I[D];var te=6*f[D].length;z[D]&&te&&S.drawArrays(S.TRIANGLES,V,te),V+=te}}),v.drawTickMarks=function(){var y=[0,0],m=[0,0],_=[1,0],f=[0,1],S=[0,0],T=[0,0];return function(){for(var E=this.plot,C=this.vbo,O=this.tickShader,I=this.ticks,z=E.gl,U=E._tickBounds,D=E.dataBox,B=E.viewBox,Z=E.pixelRatio,F=E.screenBox,j=F[2]-F[0],V=F[3]-F[1],te=B[2]-B[0],Q=B[3]-B[1],$=0;$<2;++$){var G=U[$],X=U[$+2]-G,J=.5*(D[$+2]+D[$]),ne=D[$+2]-D[$];m[$]=2*X/ne,y[$]=2*(G-J)/ne}m[0]*=te/j,y[0]*=te/j,m[1]*=Q/V,y[1]*=Q/V,O.bind(),C.bind(),O.attributes.dataCoord.pointer();var ie=O.uniforms;ie.dataShift=y,ie.dataScale=m;var ae=E.tickMarkLength,le=E.tickMarkWidth,ce=E.tickMarkColor,pe=6*I[0].length,ge=Math.min(r.ge(I[0],(D[0]-U[0])/(U[2]-U[0]),u),I[0].length),me=Math.min(r.gt(I[0],(D[2]-U[0])/(U[2]-U[0]),u),I[0].length),ve=0+6*ge,Me=6*Math.max(0,me-ge),_e=Math.min(r.ge(I[1],(D[1]-U[1])/(U[3]-U[1]),u),I[1].length),we=Math.min(r.gt(I[1],(D[3]-U[1])/(U[3]-U[1]),u),I[1].length),oe=pe+6*_e,se=6*Math.max(0,we-_e);S[0]=2*(B[0]-ae[1])/j-1,S[1]=(B[3]+B[1])/V-1,T[0]=ae[1]*Z/j,T[1]=le[1]*Z/V,se&&(ie.color=ce[1],ie.tickScale=T,ie.dataAxis=f,ie.screenOffset=S,z.drawArrays(z.TRIANGLES,oe,se)),S[0]=(B[2]+B[0])/j-1,S[1]=2*(B[1]-ae[0])/V-1,T[0]=le[0]*Z/j,T[1]=ae[0]*Z/V,Me&&(ie.color=ce[0],ie.tickScale=T,ie.dataAxis=_,ie.screenOffset=S,z.drawArrays(z.TRIANGLES,ve,Me)),S[0]=2*(B[2]+ae[3])/j-1,S[1]=(B[3]+B[1])/V-1,T[0]=ae[3]*Z/j,T[1]=le[3]*Z/V,se&&(ie.color=ce[3],ie.tickScale=T,ie.dataAxis=f,ie.screenOffset=S,z.drawArrays(z.TRIANGLES,oe,se)),S[0]=(B[2]+B[0])/j-1,S[1]=2*(B[3]+ae[2])/V-1,T[0]=le[2]*Z/j,T[1]=ae[2]*Z/V,Me&&(ie.color=ce[2],ie.tickScale=T,ie.dataAxis=_,ie.screenOffset=S,z.drawArrays(z.TRIANGLES,ve,Me))}}(),v.update=(g=[1,1,-1,-1,1,-1],p=[1,-1,1,1,-1,-1],function(y){for(var m=y.ticks,_=y.bounds,f=new Float32Array(18*(m[0].length+m[1].length)),S=(this.plot.zeroLineEnable,0),T=[[],[]],E=0;E<2;++E)for(var C=T[E],O=m[E],I=_[E],z=_[E+2],U=0;U<O.length;++U){var D=(O[U].x-I)/(z-I);C.push(D);for(var B=0;B<6;++B)f[S++]=D,f[S++]=g[B],f[S++]=p[B]}this.ticks=T,this.vbo.update(f)}),v.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},1154:function(h,o,t){h.exports=function(c){var x=c.gl;return new s(c,i(x,[-1,-1,-1,1,1,-1,1,1]),n(x,r.lineVert,r.lineFrag))};var i=t(5827),n=t(5158),r=t(2709);function s(c,x,g){this.plot=c,this.vbo=x,this.shader=g}var l,u,d=s.prototype;d.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},d.drawLine=(l=[0,0],u=[0,0],function(c,x,g,p,v,y){var m=this.plot,_=this.shader,f=m.gl;l[0]=c,l[1]=x,u[0]=g,u[1]=p,_.uniforms.start=l,_.uniforms.end=u,_.uniforms.width=v*m.pixelRatio,_.uniforms.color=y,f.drawArrays(f.TRIANGLE_STRIP,0,4)}),d.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2709:function(h,o,t){var i=t(6832),n=i([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);h.exports={lineVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:n,textVert:i([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:n,gridVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:n,boxVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(h,o,t){h.exports=function(m){var _=m.gl;return new u(m,i(_),n(_,l.textVert,l.textFrag))};var i=t(5827),n=t(5158),r=t(6946),s=t(5070),l=t(2709);function u(m,_,f){this.plot=m,this.vbo=_,this.shader=f,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var d,c,x,g,p,v,y=u.prototype;y.drawTicks=(d=[0,0],c=[0,0],x=[0,0],function(m){var _=this.plot,f=this.shader,S=this.tickX[m],T=this.tickOffset[m],E=_.gl,C=_.viewBox,O=_.dataBox,I=_.screenBox,z=_.pixelRatio,U=_.tickEnable,D=_.tickPad,B=_.tickColor,Z=_.tickAngle,F=_.labelEnable,j=_.labelPad,V=_.labelColor,te=_.labelAngle,Q=this.labelOffset[m],$=this.labelCount[m],G=s.lt(S,O[m]),X=s.le(S,O[m+2]);d[0]=d[1]=0,d[m]=1,c[m]=(C[2+m]+C[m])/(I[2+m]-I[m])-1;var J=2/I[2+(1^m)]-I[1^m];c[1^m]=J*C[1^m]-1,U[m]&&(c[1^m]-=J*z*D[m],G<X&&T[X]>T[G]&&(f.uniforms.dataAxis=d,f.uniforms.screenOffset=c,f.uniforms.color=B[m],f.uniforms.angle=Z[m],E.drawArrays(E.TRIANGLES,T[G],T[X]-T[G]))),F[m]&&$&&(c[1^m]-=J*z*j[m],f.uniforms.dataAxis=x,f.uniforms.screenOffset=c,f.uniforms.color=V[m],f.uniforms.angle=te[m],E.drawArrays(E.TRIANGLES,Q,$)),c[1^m]=J*C[2+(1^m)]-1,U[m+2]&&(c[1^m]+=J*z*D[m+2],G<X&&T[X]>T[G]&&(f.uniforms.dataAxis=d,f.uniforms.screenOffset=c,f.uniforms.color=B[m+2],f.uniforms.angle=Z[m+2],E.drawArrays(E.TRIANGLES,T[G],T[X]-T[G]))),F[m+2]&&$&&(c[1^m]+=J*z*j[m+2],f.uniforms.dataAxis=x,f.uniforms.screenOffset=c,f.uniforms.color=V[m+2],f.uniforms.angle=te[m+2],E.drawArrays(E.TRIANGLES,Q,$))}),y.drawTitle=function(){var m=[0,0],_=[0,0];return function(){var f=this.plot,S=this.shader,T=f.gl,E=f.screenBox,C=f.titleCenter,O=f.titleAngle,I=f.titleColor,z=f.pixelRatio;if(this.titleCount){for(var U=0;U<2;++U)_[U]=2*(C[U]*z-E[U])/(E[2+U]-E[U])-1;S.bind(),S.uniforms.dataAxis=m,S.uniforms.screenOffset=_,S.uniforms.angle=O,S.uniforms.color=I,T.drawArrays(T.TRIANGLES,this.titleOffset,this.titleCount)}}}(),y.bind=(g=[0,0],p=[0,0],v=[0,0],function(){var m=this.plot,_=this.shader,f=m._tickBounds,S=m.dataBox,T=m.screenBox,E=m.viewBox;_.bind();for(var C=0;C<2;++C){var O=f[C],I=f[C+2]-O,z=.5*(S[C+2]+S[C]),U=S[C+2]-S[C],D=E[C],B=E[C+2]-D,Z=T[C],F=T[C+2]-Z;p[C]=2*I/U*B/F,g[C]=2*(O-z)/U*B/F}v[1]=2*m.pixelRatio/(T[3]-T[1]),v[0]=v[1]*(T[3]-T[1])/(T[2]-T[0]),_.uniforms.dataScale=p,_.uniforms.dataShift=g,_.uniforms.textScale=v,this.vbo.bind(),_.attributes.textCoordinate.pointer()}),y.update=function(m){var _,f,S,T,E,C=[],O=m.ticks,I=m.bounds;for(E=0;E<2;++E){var z=[Math.floor(C.length/3)],U=[-1/0],D=O[E];for(_=0;_<D.length;++_){var B=D[_],Z=B.x,F=B.text,j=B.font||"sans-serif";T=B.fontSize||12;for(var V=1/(I[E+2]-I[E]),te=I[E],Q=F.split(`
`),$=0;$<Q.length;$++)for(S=r(j,Q[$]).data,f=0;f<S.length;f+=2)C.push(S[f]*T,-S[f+1]*T-$*T*1.2,(Z-te)*V);z.push(Math.floor(C.length/3)),U.push(Z)}this.tickOffset[E]=z,this.tickX[E]=U}for(E=0;E<2;++E){for(this.labelOffset[E]=Math.floor(C.length/3),S=r(m.labelFont[E],m.labels[E],{textAlign:"center"}).data,T=m.labelSize[E],_=0;_<S.length;_+=2)C.push(S[_]*T,-S[_+1]*T,0);this.labelCount[E]=Math.floor(C.length/3)-this.labelOffset[E]}for(this.titleOffset=Math.floor(C.length/3),S=r(m.titleFont,m.title).data,T=m.titleSize,_=0;_<S.length;_+=2)C.push(S[_]*T,-S[_+1]*T,0);this.titleCount=Math.floor(C.length/3)-this.titleOffset,this.vbo.update(C)},y.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2117:function(h,o,t){h.exports=function(g){var p=g.gl,v=new u(p,i(p,[p.drawingBufferWidth,p.drawingBufferHeight]));return v.grid=n(v),v.text=r(v),v.line=s(v),v.box=l(v),v.update(g),v};var i=t(2611),n=t(3016),r=t(5613),s=t(1154),l=t(4554);function u(g,p){this.gl=g,this.pickBuffer=p,this.screenBox=[0,0,g.drawingBufferWidth,g.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var d=u.prototype;function c(g){for(var p=g.slice(),v=0;v<p.length;++v)p[v]=p[v].slice();return p}function x(g,p){return g.x-p.x}d.setDirty=function(){this.dirty=this.pickDirty=!0},d.setOverlayDirty=function(){this.dirty=!0},d.nextDepthValue=function(){return this._depthCounter++/65536},d.draw=function(){var g=this.gl,p=this.screenBox,v=this.viewBox,y=this.dataBox,m=this.pixelRatio,_=this.grid,f=this.line,S=this.text,T=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,g.bindFramebuffer(g.FRAMEBUFFER,null),g.enable(g.SCISSOR_TEST),g.disable(g.DEPTH_TEST),g.depthFunc(g.LESS),g.depthMask(!1),g.enable(g.BLEND),g.blendEquation(g.FUNC_ADD,g.FUNC_ADD),g.blendFunc(g.ONE,g.ONE_MINUS_SRC_ALPHA),this.borderColor){g.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]);var E=this.borderColor;g.clearColor(E[0]*E[3],E[1]*E[3],E[2]*E[3],E[3]),g.clear(g.COLOR_BUFFER_BIT|g.DEPTH_BUFFER_BIT)}g.scissor(v[0],v[1],v[2]-v[0],v[3]-v[1]),g.viewport(v[0],v[1],v[2]-v[0],v[3]-v[1]);var C=this.backgroundColor;g.clearColor(C[0]*C[3],C[1]*C[3],C[2]*C[3],C[3]),g.clear(g.COLOR_BUFFER_BIT),_.draw();var O=this.zeroLineEnable,I=this.zeroLineColor,z=this.zeroLineWidth;if(O[0]||O[1]){f.bind();for(var U=0;U<2;++U)if(O[U]&&y[U]<=0&&y[U+2]>=0){var D=p[U]-y[U]*(p[U+2]-p[U])/(y[U+2]-y[U]);U===0?f.drawLine(D,p[1],D,p[3],z[U],I[U]):f.drawLine(p[0],D,p[2],D,z[U],I[U])}}for(U=0;U<T.length;++U)T[U].draw();g.viewport(p[0],p[1],p[2]-p[0],p[3]-p[1]),g.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]),this.grid.drawTickMarks(),f.bind();var B=this.borderLineEnable,Z=this.borderLineWidth,F=this.borderLineColor;for(B[1]&&f.drawLine(v[0],v[1]-.5*Z[1]*m,v[0],v[3]+.5*Z[3]*m,Z[1],F[1]),B[0]&&f.drawLine(v[0]-.5*Z[0]*m,v[1],v[2]+.5*Z[2]*m,v[1],Z[0],F[0]),B[3]&&f.drawLine(v[2],v[1]-.5*Z[1]*m,v[2],v[3]+.5*Z[3]*m,Z[3],F[3]),B[2]&&f.drawLine(v[0]-.5*Z[0]*m,v[3],v[2]+.5*Z[2]*m,v[3],Z[2],F[2]),S.bind(),U=0;U<2;++U)S.drawTicks(U);this.titleEnable&&S.drawTitle();var j=this.overlays;for(U=0;U<j.length;++U)j[U].draw();g.disable(g.SCISSOR_TEST),g.disable(g.BLEND),g.depthMask(!0)}},d.drawPick=function(){if(!this.static){var g=this.pickBuffer;this.gl,this._pickTimeout=null,g.begin();for(var p=1,v=this.objects,y=0;y<v.length;++y)p=v[y].drawPick(p);g.end()}},d.pick=function(g,p){if(!this.static){var v=this.pixelRatio,y=this.pickPixelRatio,m=this.viewBox,_=0|Math.round((g-m[0]/v)*y),f=0|Math.round((p-m[1]/v)*y),S=this.pickBuffer.query(_,f,this.pickRadius);if(!S)return null;for(var T=S.id+(S.value[0]<<8)+(S.value[1]<<16)+(S.value[2]<<24),E=this.objects,C=0;C<E.length;++C){var O=E[C].pick(_,f,T);if(O)return O}return null}},d.setScreenBox=function(g){var p=this.screenBox,v=this.pixelRatio;p[0]=0|Math.round(g[0]*v),p[1]=0|Math.round(g[1]*v),p[2]=0|Math.round(g[2]*v),p[3]=0|Math.round(g[3]*v),this.setDirty()},d.setDataBox=function(g){var p=this.dataBox;(p[0]!==g[0]||p[1]!==g[1]||p[2]!==g[2]||p[3]!==g[3])&&(p[0]=g[0],p[1]=g[1],p[2]=g[2],p[3]=g[3],this.setDirty())},d.setViewBox=function(g){var p=this.pixelRatio,v=this.viewBox;v[0]=0|Math.round(g[0]*p),v[1]=0|Math.round(g[1]*p),v[2]=0|Math.round(g[2]*p),v[3]=0|Math.round(g[3]*p);var y=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((g[2]-g[0])*y),0|Math.round((g[3]-g[1])*y)],this.setDirty()},d.update=function(g){g=g||{};var p=this.gl;this.pixelRatio=g.pixelRatio||1;var v=this.pixelRatio;this.pickPixelRatio=Math.max(v,1),this.setScreenBox(g.screenBox||[0,0,p.drawingBufferWidth/v,p.drawingBufferHeight/v]),this.screenBox,this.setViewBox(g.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/v,.125*(this.screenBox[3]-this.screenBox[1])/v,.875*(this.screenBox[2]-this.screenBox[0])/v,.875*(this.screenBox[3]-this.screenBox[1])/v]);var y=this.viewBox,m=(y[2]-y[0])/(y[3]-y[1]);this.setDataBox(g.dataBox||[-10,-10/m,10,10/m]),this.borderColor=g.borderColor!==!1&&(g.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(g.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(g.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(g.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(g.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(g.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(g.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(g.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(g.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(g.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(g.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(g.titleCenter||[.5*(y[0]+y[2])/v,(y[3]+120)/v]).slice(),this.titleEnable=!("titleEnable"in g)||!!g.titleEnable,this.titleAngle=g.titleAngle||0,this.titleColor=(g.titleColor||[0,0,0,1]).slice(),this.labelPad=(g.labelPad||[15,15,15,15]).slice(),this.labelAngle=(g.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(g.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(g.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(g.tickPad||[15,15,15,15]).slice(),this.tickAngle=(g.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(g.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(g.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(g.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(g.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(g.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var _=g.ticks||[[],[]],f=this._tickBounds;f[0]=f[1]=1/0,f[2]=f[3]=-1/0;for(var S=0;S<2;++S){var T=_[S].slice(0);T.length!==0&&(T.sort(x),f[S]=Math.min(f[S],T[0].x),f[S+2]=Math.max(f[S+2],T[T.length-1].x))}this.grid.update({bounds:f,ticks:_}),this.text.update({bounds:f,ticks:_,labels:g.labels||["x","y"],labelSize:g.labelSize||[12,12],labelFont:g.labelFont||["sans-serif","sans-serif"],title:g.title||"",titleSize:g.titleSize||18,titleFont:g.titleFont||"sans-serif"}),this.static=!!g.static,this.setDirty()},d.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var g=this.objects.length-1;g>=0;--g)this.objects[g].dispose();for(this.objects.length=0,g=this.overlays.length-1;g>=0;--g)this.overlays[g].dispose();this.overlays.length=0,this.gl=null},d.addObject=function(g){this.objects.indexOf(g)<0&&(this.objects.push(g),this.setDirty())},d.removeObject=function(g){for(var p=this.objects,v=0;v<p.length;++v)if(p[v]===g){p.splice(v,1),this.setDirty();break}},d.addOverlay=function(g){this.overlays.indexOf(g)<0&&(this.overlays.push(g),this.setOverlayDirty())},d.removeOverlay=function(g){for(var p=this.overlays,v=0;v<p.length;++v)if(p[v]===g){p.splice(v,1),this.setOverlayDirty();break}}},4296:function(h,o,t){h.exports=function(d,c){d=d||document.body;var x=[.01,1/0];"distanceLimits"in(c=c||{})&&(x[0]=c.distanceLimits[0],x[1]=c.distanceLimits[1]),"zoomMin"in c&&(x[0]=c.zoomMin),"zoomMax"in c&&(x[1]=c.zoomMax);var g=n({center:c.center||[0,0,0],up:c.up||[0,1,0],eye:c.eye||[0,0,10],mode:c.mode||"orbit",distanceLimits:x}),p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v=0,y=d.clientWidth,m=d.clientHeight,_={keyBindingMode:"rotate",enableWheel:!0,view:g,element:d,delay:c.delay||16,rotateSpeed:c.rotateSpeed||1,zoomSpeed:c.zoomSpeed||1,translateSpeed:c.translateSpeed||1,flipX:!!c.flipX,flipY:!!c.flipY,modes:g.modes,_ortho:c._ortho||c.projection&&c.projection.type==="orthographic"||!1,tick:function(){var f=i(),S=this.delay,T=f-2*S;g.idle(f-S),g.recalcMatrix(T),g.flush(f-(100+2*S));for(var E=!0,C=g.computedMatrix,O=0;O<16;++O)E=E&&p[O]===C[O],p[O]=C[O];var I=d.clientWidth===y&&d.clientHeight===m;return y=d.clientWidth,m=d.clientHeight,E?!I:(v=Math.exp(g.computedRadius[0]),!0)},lookAt:function(f,S,T){g.lookAt(g.lastT(),f,S,T)},rotate:function(f,S,T){g.rotate(g.lastT(),f,S,T)},pan:function(f,S,T){g.pan(g.lastT(),f,S,T)},translate:function(f,S,T){g.translate(g.lastT(),f,S,T)}};return Object.defineProperties(_,{matrix:{get:function(){return g.computedMatrix},set:function(f){return g.setMatrix(g.lastT(),f),g.computedMatrix},enumerable:!0},mode:{get:function(){return g.getMode()},set:function(f){var S=g.computedUp.slice(),T=g.computedEye.slice(),E=g.computedCenter.slice();if(g.setMode(f),f==="turntable"){var C=i();g._active.lookAt(C,T,E,S),g._active.lookAt(C+500,T,E,[0,0,1]),g._active.flush(C)}return g.getMode()},enumerable:!0},center:{get:function(){return g.computedCenter},set:function(f){return g.lookAt(g.lastT(),null,f),g.computedCenter},enumerable:!0},eye:{get:function(){return g.computedEye},set:function(f){return g.lookAt(g.lastT(),f),g.computedEye},enumerable:!0},up:{get:function(){return g.computedUp},set:function(f){return g.lookAt(g.lastT(),null,null,f),g.computedUp},enumerable:!0},distance:{get:function(){return v},set:function(f){return g.setDistance(g.lastT(),f),f},enumerable:!0},distanceLimits:{get:function(){return g.getDistanceLimits(x)},set:function(f){return g.setDistanceLimits(f),f},enumerable:!0}}),d.addEventListener("contextmenu",function(f){return f.preventDefault(),!1}),_._lastX=-1,_._lastY=-1,_._lastMods={shift:!1,control:!1,alt:!1,meta:!1},_.enableMouseListeners=function(){function f(S,T,E,C){var O=_.keyBindingMode;if(O!==!1){var I=O==="rotate",z=O==="pan",U=O==="zoom",D=!!C.control,B=!!C.alt,Z=!!C.shift,F=!!(1&S),j=!!(2&S),V=!!(4&S),te=1/d.clientHeight,Q=te*(T-_._lastX),$=te*(E-_._lastY),G=_.flipX?1:-1,X=_.flipY?1:-1,J=Math.PI*_.rotateSpeed,ne=i();if(_._lastX!==-1&&_._lastY!==-1&&((I&&F&&!D&&!B&&!Z||F&&!D&&!B&&Z)&&g.rotate(ne,G*J*Q,-X*J*$,0),(z&&F&&!D&&!B&&!Z||j||F&&D&&!B&&!Z)&&g.pan(ne,-_.translateSpeed*Q*v,_.translateSpeed*$*v,0),U&&F&&!D&&!B&&!Z||V||F&&!D&&B&&!Z)){var ie=-_.zoomSpeed*$/window.innerHeight*(ne-g.lastT())*100;g.pan(ne,0,0,v*(Math.exp(ie)-1))}return _._lastX=T,_._lastY=E,_._lastMods=C,!0}}_.mouseListener=r(d,f),d.addEventListener("touchstart",function(S){var T=l(S.changedTouches[0],d);f(0,T[0],T[1],_._lastMods),f(1,T[0],T[1],_._lastMods)},!!u&&{passive:!0}),d.addEventListener("touchmove",function(S){var T=l(S.changedTouches[0],d);f(1,T[0],T[1],_._lastMods),S.preventDefault()},!!u&&{passive:!1}),d.addEventListener("touchend",function(S){f(0,_._lastX,_._lastY,_._lastMods)},!!u&&{passive:!0}),_.wheelListener=s(d,function(S,T){if(_.keyBindingMode!==!1&&_.enableWheel){var E=_.flipX?1:-1,C=_.flipY?1:-1,O=i();if(Math.abs(S)>Math.abs(T))g.rotate(O,0,0,-S*E*Math.PI*_.rotateSpeed/window.innerWidth);else if(!_._ortho){var I=-_.zoomSpeed*C*T/window.innerHeight*(O-g.lastT())/20;g.pan(O,0,0,v*(Math.exp(I)-1))}}},!0)},_.enableMouseListeners(),_};var i=t(8161),n=t(1152),r=t(6145),s=t(6475),l=t(2565),u=t(5233)},8245:function(h,o,t){var i=t(6832),n=t(5158),r=i([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),s=i([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);h.exports=function(l){return n(l,r,s,null,[{name:"position",type:"vec2"}])}},1059:function(h,o,t){var i=t(4296),n=t(7453),r=t(2771),s=t(6496),l=t(2611),u=t(4234),d=t(8126),c=t(6145),x=t(1120),g=t(5268),p=t(8245),v=t(2321)({tablet:!0,featureDetect:!0});function y(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function m(f){var S=Math.round(Math.log(Math.abs(f))/Math.log(10));if(S<0){var T=Math.round(Math.pow(10,-S));return Math.ceil(f*T)/T}return S>0?(T=Math.round(Math.pow(10,S)),Math.ceil(f/T)*T):Math.ceil(f)}function _(f){return typeof f!="boolean"||f}h.exports={createScene:function(f){(f=f||{}).camera=f.camera||{};var S=f.canvas;S||(S=document.createElement("canvas"),f.container?f.container.appendChild(S):document.body.appendChild(S));var T=f.gl;if(T||(f.glOptions&&(v=!!f.glOptions.preserveDrawingBuffer),T=function(Me,_e){var we=null;try{(we=Me.getContext("webgl",_e))||(we=Me.getContext("experimental-webgl",_e))}catch{return null}return we}(S,f.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:v})),!T)throw new Error("webgl not supported");var E=f.bounds||[[-10,-10,-10],[10,10,10]],C=new y,O=u(T,T.drawingBufferWidth,T.drawingBufferHeight,{preferFloat:!v}),I=p(T),z=f.cameraObject&&f.cameraObject._ortho===!0||f.camera.projection&&f.camera.projection.type==="orthographic"||!1,U={eye:f.camera.eye||[2,0,0],center:f.camera.center||[0,0,0],up:f.camera.up||[0,1,0],zoomMin:f.camera.zoomMax||.1,zoomMax:f.camera.zoomMin||100,mode:f.camera.mode||"turntable",_ortho:z},D=f.axes||{},B=n(T,D);B.enable=!D.disable;var Z=f.spikes||{},F=s(T,Z),j=[],V=[],te=[],Q=[],$=!0,G=!0,X={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},J=(G=!0,[T.drawingBufferWidth,T.drawingBufferHeight]),ne=f.cameraObject||i(S,U),ie={gl:T,contextLost:!1,pixelRatio:f.pixelRatio||1,canvas:S,selection:C,camera:ne,axes:B,axesPixels:null,spikes:F,bounds:E,objects:j,shape:J,aspect:f.aspectRatio||[1,1,1],pickRadius:f.pickRadius||10,zNear:f.zNear||.01,zFar:f.zFar||1e3,fovy:f.fovy||Math.PI/4,clearColor:f.clearColor||[0,0,0,0],autoResize:_(f.autoResize),autoBounds:_(f.autoBounds),autoScale:!!f.autoScale,autoCenter:_(f.autoCenter),clipToBounds:_(f.clipToBounds),snapToData:!!f.snapToData,onselect:f.onselect||null,onrender:f.onrender||null,onclick:f.onclick||null,cameraParams:X,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Me){this.aspect[0]=Me.x,this.aspect[1]=Me.y,this.aspect[2]=Me.z,G=!0},setBounds:function(Me,_e){this.bounds[0][Me]=_e.min,this.bounds[1][Me]=_e.max},setClearColor:function(Me){this.clearColor=Me},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},ae=[T.drawingBufferWidth/ie.pixelRatio|0,T.drawingBufferHeight/ie.pixelRatio|0];function le(){if(!ie._stopped&&ie.autoResize){var Me=S.parentNode,_e=1,we=1;Me&&Me!==document.body?(_e=Me.clientWidth,we=Me.clientHeight):(_e=window.innerWidth,we=window.innerHeight);var oe=0|Math.ceil(_e*ie.pixelRatio),se=0|Math.ceil(we*ie.pixelRatio);if(oe!==S.width||se!==S.height){S.width=oe,S.height=se;var de=S.style;de.position=de.position||"absolute",de.left="0px",de.top="0px",de.width=_e+"px",de.height=we+"px",$=!0}}}function ce(){for(var Me=j.length,_e=Q.length,we=0;we<_e;++we)te[we]=0;e:for(we=0;we<Me;++we){var oe=j[we],se=oe.pickSlots;if(se){for(var de=0;de<_e;++de)if(te[de]+se<255){V[we]=de,oe.setPickBase(te[de]+1),te[de]+=se;continue e}var Ee=l(T,J);V[we]=_e,Q.push(Ee),te.push(se),oe.setPickBase(1),_e+=1}else V[we]=-1}for(;_e>0&&te[_e-1]===0;)te.pop(),Q.pop().dispose()}function pe(){if(ie.contextLost)return!0;T.isContextLost()&&(ie.contextLost=!0,ie.mouseListener.enabled=!1,ie.selection.object=null,ie.oncontextloss&&ie.oncontextloss())}ie.autoResize&&le(),window.addEventListener("resize",le),ie.update=function(Me){ie._stopped||($=!0,G=!0)},ie.add=function(Me){ie._stopped||(Me.axes=B,j.push(Me),V.push(-1),$=!0,G=!0,ce())},ie.remove=function(Me){if(!ie._stopped){var _e=j.indexOf(Me);_e<0||(j.splice(_e,1),V.pop(),$=!0,G=!0,ce())}},ie.dispose=function(){if(!ie._stopped&&(ie._stopped=!0,window.removeEventListener("resize",le),S.removeEventListener("webglcontextlost",pe),ie.mouseListener.enabled=!1,!ie.contextLost)){B.dispose(),F.dispose();for(var Me=0;Me<j.length;++Me)j[Me].dispose();for(O.dispose(),Me=0;Me<Q.length;++Me)Q[Me].dispose();I.dispose(),T=null,B=null,F=null,j=[]}},ie._mouseRotating=!1,ie._prevButtons=0,ie.enableMouseListeners=function(){ie.mouseListener=c(S,function(Me,_e,we){if(!ie._stopped){var oe=Q.length,se=j.length,de=C.object;C.distance=1/0,C.mouse[0]=_e,C.mouse[1]=we,C.object=null,C.screen=null,C.dataCoordinate=C.dataPosition=null;var Ee=!1;if(Me&&ie._prevButtons)ie._mouseRotating=!0;else{ie._mouseRotating&&(G=!0),ie._mouseRotating=!1;for(var Te=0;Te<oe;++Te){var Se=Q[Te].query(_e,ae[1]-we-1,ie.pickRadius);if(Se){if(Se.distance>C.distance)continue;for(var Le=0;Le<se;++Le){var Oe=j[Le];if(V[Le]===Te){var he=Oe.pick(Se);he&&(C.buttons=Me,C.screen=Se.coord,C.distance=Se.distance,C.object=Oe,C.index=he.distance,C.dataPosition=he.position,C.dataCoordinate=he.dataCoordinate,C.data=he,Ee=!0)}}}}}de&&de!==C.object&&(de.highlight&&de.highlight(null),$=!0),C.object&&(C.object.highlight&&C.object.highlight(C.data),$=!0),(Ee=Ee||C.object!==de)&&ie.onselect&&ie.onselect(C),1&Me&&!(1&ie._prevButtons)&&ie.onclick&&ie.onclick(C),ie._prevButtons=Me}})},S.addEventListener("webglcontextlost",pe);var ge=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],me=[ge[0].slice(),ge[1].slice()];function ve(){if(!pe()){le();var Me=ie.camera.tick();X.view=ie.camera.matrix,$=$||Me,G=G||Me,B.pixelRatio=ie.pixelRatio,F.pixelRatio=ie.pixelRatio;var _e=j.length,we=ge[0],oe=ge[1];we[0]=we[1]=we[2]=1/0,oe[0]=oe[1]=oe[2]=-1/0;for(var se=0;se<_e;++se){(Ie=j[se]).pixelRatio=ie.pixelRatio,Ie.axes=ie.axes,$=$||!!Ie.dirty,G=G||!!Ie.dirty;var de=Ie.bounds;if(de)for(var Ee=de[0],Te=de[1],Se=0;Se<3;++Se)we[Se]=Math.min(we[Se],Ee[Se]),oe[Se]=Math.max(oe[Se],Te[Se])}var Le=ie.bounds;if(ie.autoBounds)for(Se=0;Se<3;++Se){if(oe[Se]<we[Se])we[Se]=-1,oe[Se]=1;else{we[Se]===oe[Se]&&(we[Se]-=1,oe[Se]+=1);var Oe=.05*(oe[Se]-we[Se]);we[Se]=we[Se]-Oe,oe[Se]=oe[Se]+Oe}Le[0][Se]=we[Se],Le[1][Se]=oe[Se]}var he=!1;for(Se=0;Se<3;++Se)he=he||me[0][Se]!==Le[0][Se]||me[1][Se]!==Le[1][Se],me[0][Se]=Le[0][Se],me[1][Se]=Le[1][Se];if(G=G||he,$=$||he){if(he){var xe=[0,0,0];for(se=0;se<3;++se)xe[se]=m((Le[1][se]-Le[0][se])/10);B.autoTicks?B.update({bounds:Le,tickSpacing:xe}):B.update({bounds:Le})}var ke=T.drawingBufferWidth,Re=T.drawingBufferHeight;for(J[0]=ke,J[1]=Re,ae[0]=0|Math.max(ke/ie.pixelRatio,1),ae[1]=0|Math.max(Re/ie.pixelRatio,1),function(He,qe){var Je=He.bounds,st=He.cameraParams,it=st.projection,vt=st.model,_t=He.gl.drawingBufferWidth,xt=He.gl.drawingBufferHeight,et=He.zNear,nt=He.zFar,Mt=He.fovy,zt=_t/xt;qe?(g(it,-zt,zt,-1,1,et,nt),st._ortho=!0):(x(it,Mt,zt,et,nt),st._ortho=!1);for(var Ft=0;Ft<16;++Ft)vt[Ft]=0;vt[15]=1;var Rt=0;for(Ft=0;Ft<3;++Ft)Rt=Math.max(Rt,Je[1][Ft]-Je[0][Ft]);for(Ft=0;Ft<3;++Ft)He.autoScale?vt[5*Ft]=He.aspect[Ft]/(Je[1][Ft]-Je[0][Ft]):vt[5*Ft]=1/Rt,He.autoCenter&&(vt[12+Ft]=.5*-vt[5*Ft]*(Je[0][Ft]+Je[1][Ft]))}(ie,z),se=0;se<_e;++se)(Ie=j[se]).axesBounds=Le,ie.clipToBounds&&(Ie.clipBounds=Le);C.object&&(ie.snapToData?F.position=C.dataCoordinate:F.position=C.dataPosition,F.bounds=Le),G&&(G=!1,function(){if(!pe()){T.colorMask(!0,!0,!0,!0),T.depthMask(!0),T.disable(T.BLEND),T.enable(T.DEPTH_TEST),T.depthFunc(T.LEQUAL);for(var He=j.length,qe=Q.length,Je=0;Je<qe;++Je){var st=Q[Je];st.shape=ae,st.begin();for(var it=0;it<He;++it)if(V[it]===Je){var vt=j[it];vt.drawPick&&(vt.pixelRatio=1,vt.drawPick(X))}st.end()}}}()),ie.axesPixels=r(ie.axes,X,ke,Re),ie.onrender&&ie.onrender(),T.bindFramebuffer(T.FRAMEBUFFER,null),T.viewport(0,0,ke,Re),ie.clearRGBA(),T.depthMask(!0),T.colorMask(!0,!0,!0,!0),T.enable(T.DEPTH_TEST),T.depthFunc(T.LEQUAL),T.disable(T.BLEND),T.disable(T.CULL_FACE);var ze=!1;for(B.enable&&(ze=ze||B.isTransparent(),B.draw(X)),F.axes=B,C.object&&F.draw(X),T.disable(T.CULL_FACE),se=0;se<_e;++se)(Ie=j[se]).axes=B,Ie.pixelRatio=ie.pixelRatio,Ie.isOpaque&&Ie.isOpaque()&&Ie.draw(X),Ie.isTransparent&&Ie.isTransparent()&&(ze=!0);if(ze){for(O.shape=J,O.bind(),T.clear(T.DEPTH_BUFFER_BIT),T.colorMask(!1,!1,!1,!1),T.depthMask(!0),T.depthFunc(T.LESS),B.enable&&B.isTransparent()&&B.drawTransparent(X),se=0;se<_e;++se)(Ie=j[se]).isOpaque&&Ie.isOpaque()&&Ie.draw(X);for(T.enable(T.BLEND),T.blendEquation(T.FUNC_ADD),T.blendFunc(T.ONE,T.ONE_MINUS_SRC_ALPHA),T.colorMask(!0,!0,!0,!0),T.depthMask(!1),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT),B.isTransparent()&&B.drawTransparent(X),se=0;se<_e;++se){var Ie;(Ie=j[se]).isTransparent&&Ie.isTransparent()&&Ie.drawTransparent(X)}T.bindFramebuffer(T.FRAMEBUFFER,null),T.blendFunc(T.ONE,T.ONE_MINUS_SRC_ALPHA),T.disable(T.DEPTH_TEST),I.bind(),O.color[0].bind(0),I.uniforms.accumBuffer=0,d(T),T.disable(T.BLEND)}for($=!1,se=0;se<_e;++se)j[se].dirty=!1}}}return ie.enableMouseListeners(),function Me(){ie._stopped||ie.contextLost||(ve(),requestAnimationFrame(Me))}(),ie.redraw=function(){ie._stopped||($=!0,ve())},ie},createCamera:i}},8023:function(h,o,t){var i=t(6832);o.pointVertex=i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),o.pointFragment=i([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),o.pickVertex=i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),o.pickFragment=i([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(h,o,t){var i=t(5158),n=t(5827),r=t(5306),s=t(8023);function l(x,g,p,v,y){this.plot=x,this.offsetBuffer=g,this.pickBuffer=p,this.shader=v,this.pickShader=y,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}h.exports=function(x,g){var p=x.gl,v=new l(x,n(p),n(p),i(p,s.pointVertex,s.pointFragment),i(p,s.pickVertex,s.pickFragment));return v.update(g),x.addObject(v),v};var u,d,c=l.prototype;c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},c.update=function(x){var g;function p(T,E){return T in x?x[T]:E}x=x||{},this.sizeMin=p("sizeMin",.5),this.sizeMax=p("sizeMax",20),this.color=p("color",[1,0,0,1]).slice(),this.areaRatio=p("areaRatio",1),this.borderColor=p("borderColor",[0,0,0,1]).slice(),this.blend=p("blend",!1);var v=x.positions.length>>>1,y=x.positions instanceof Float32Array,m=x.idToIndex instanceof Int32Array&&x.idToIndex.length>=v,_=x.positions,f=y?_:r.mallocFloat32(_.length),S=m?x.idToIndex:r.mallocInt32(v);if(y||f.set(_),!m)for(f.set(_),g=0;g<v;g++)S[g]=g;this.points=_,this.offsetBuffer.update(f),this.pickBuffer.update(S),y||r.free(f),m||r.free(S),this.pointCount=v,this.pickOffset=0},c.unifiedDraw=(u=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0],function(x){var g=x!==void 0,p=g?this.pickShader:this.shader,v=this.plot.gl,y=this.plot.dataBox;if(this.pointCount===0)return x;var m=y[2]-y[0],_=y[3]-y[1],f=function(C,O){var I,z=0,U=C.length>>>1;for(I=0;I<U;I++){var D=C[2*I],B=C[2*I+1];D>=O[0]&&D<=O[2]&&B>=O[1]&&B<=O[3]&&z++}return z}(this.points,y),S=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(f,.33333)));u[0]=2/m,u[4]=2/_,u[6]=-2*y[0]/m-1,u[7]=-2*y[1]/_-1,this.offsetBuffer.bind(),p.bind(),p.attributes.position.pointer(),p.uniforms.matrix=u,p.uniforms.color=this.color,p.uniforms.borderColor=this.borderColor,p.uniforms.pointCloud=S<5,p.uniforms.pointSize=S,p.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),g&&(d[0]=255&x,d[1]=x>>8&255,d[2]=x>>16&255,d[3]=x>>24&255,this.pickBuffer.bind(),p.attributes.pickId.pointer(v.UNSIGNED_BYTE),p.uniforms.pickOffset=d,this.pickOffset=x);var T=v.getParameter(v.BLEND),E=v.getParameter(v.DITHER);return T&&!this.blend&&v.disable(v.BLEND),E&&v.disable(v.DITHER),v.drawArrays(v.POINTS,0,this.pointCount),T&&!this.blend&&v.enable(v.BLEND),E&&v.enable(v.DITHER),x+this.pointCount}),c.draw=c.unifiedDraw,c.drawPick=c.unifiedDraw,c.pick=function(x,g,p){var v=this.pickOffset,y=this.pointCount;if(p<v||p>=v+y)return null;var m=p-v,_=this.points;return{object:this,pointId:m,dataCoord:[_[2*m],_[2*m+1]]}}},6093:function(h){h.exports=function(o,t,i,n){var r,s,l,u,d,c=t[0],x=t[1],g=t[2],p=t[3],v=i[0],y=i[1],m=i[2],_=i[3];return(s=c*v+x*y+g*m+p*_)<0&&(s=-s,v=-v,y=-y,m=-m,_=-_),1-s>1e-6?(r=Math.acos(s),l=Math.sin(r),u=Math.sin((1-n)*r)/l,d=Math.sin(n*r)/l):(u=1-n,d=n),o[0]=u*c+d*v,o[1]=u*x+d*y,o[2]=u*g+d*m,o[3]=u*p+d*_,o}},8240:function(h){h.exports=function(o){return o||o===0?o.toString():""}},4123:function(h,o,t){var i=t(875);h.exports=function(r,s,l){var u=n[s];if(u||(u=n[s]={}),r in u)return u[r];var d={textAlign:"center",textBaseline:"middle",lineHeight:1,font:s,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},c=i(r,d);d.triangles=!1;var x,g,p=i(r,d);if(l&&l!==1){for(x=0;x<c.positions.length;++x)for(g=0;g<c.positions[x].length;++g)c.positions[x][g]/=l;for(x=0;x<p.positions.length;++x)for(g=0;g<p.positions[x].length;++g)p.positions[x][g]/=l}var v=[[1/0,1/0],[-1/0,-1/0]],y=p.positions.length;for(x=0;x<y;++x){var m=p.positions[x];for(g=0;g<2;++g)v[0][g]=Math.min(v[0][g],m[g]),v[1][g]=Math.max(v[1][g],m[g])}return u[r]=[c,p,v]};var n={}},9282:function(h,o,t){var i=t(5158),n=t(6832),r=n([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),s=n([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),l=n([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),u=n([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),d=n([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],x={vertex:r,fragment:u,attributes:c},g={vertex:s,fragment:u,attributes:c},p={vertex:l,fragment:u,attributes:c},v={vertex:r,fragment:d,attributes:c},y={vertex:s,fragment:d,attributes:c},m={vertex:l,fragment:d,attributes:c};function _(f,S){var T=i(f,S),E=T.attributes;return E.position.location=0,E.color.location=1,E.glyph.location=2,E.id.location=3,T}o.createPerspective=function(f){return _(f,x)},o.createOrtho=function(f){return _(f,g)},o.createProject=function(f){return _(f,p)},o.createPickPerspective=function(f){return _(f,v)},o.createPickOrtho=function(f){return _(f,y)},o.createPickProject=function(f){return _(f,m)}},2182:function(h,o,t){var i=t(3596),n=t(5827),r=t(2944),s=t(5306),l=t(104),u=t(9282),d=t(4123),c=t(8240),x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function g(V,te){var Q=V[0],$=V[1],G=V[2],X=V[3];return V[0]=te[0]*Q+te[4]*$+te[8]*G+te[12]*X,V[1]=te[1]*Q+te[5]*$+te[9]*G+te[13]*X,V[2]=te[2]*Q+te[6]*$+te[10]*G+te[14]*X,V[3]=te[3]*Q+te[7]*$+te[11]*G+te[15]*X,V}function p(V,te,Q,$){return g($,$),g($,$),g($,$)}function v(V,te){this.index=V,this.dataCoordinate=this.position=te}function y(V){return V===!0||V>1?1:V}function m(V,te,Q,$,G,X,J,ne,ie,ae,le,ce){this.gl=V,this.pixelRatio=1,this.shader=te,this.orthoShader=Q,this.projectShader=$,this.pointBuffer=G,this.colorBuffer=X,this.glyphBuffer=J,this.idBuffer=ne,this.vao=ie,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ae,this.pickOrthoShader=le,this.pickProjectShader=ce,this.points=[],this._selectResult=new v(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}h.exports=function(V){var te=V.gl,Q=u.createPerspective(te),$=u.createOrtho(te),G=u.createProject(te),X=u.createPickPerspective(te),J=u.createPickOrtho(te),ne=u.createPickProject(te),ie=n(te),ae=n(te),le=n(te),ce=n(te),pe=new m(te,Q,$,G,ie,ae,le,ce,r(te,[{buffer:ie,size:3,type:te.FLOAT},{buffer:ae,size:4,type:te.FLOAT},{buffer:le,size:2,type:te.FLOAT},{buffer:ce,size:4,type:te.UNSIGNED_BYTE,normalized:!0}]),X,J,ne);return pe.update(V),pe};var _=m.prototype;_.pickSlots=1,_.setPickBase=function(V){this.pickId=V},_.isTransparent=function(){if(this.hasAlpha)return!0;for(var V=0;V<3;++V)if(this.axesProject[V]&&this.projectHasAlpha)return!0;return!1},_.isOpaque=function(){if(!this.hasAlpha)return!0;for(var V=0;V<3;++V)if(this.axesProject[V]&&!this.projectHasAlpha)return!0;return!1};var f=[0,0],S=[0,0,0],T=[0,0,0],E=[0,0,0,1],C=[0,0,0,1],O=x.slice(),I=[0,0,0],z=[[0,0,0],[0,0,0]];function U(V){return V[0]=V[1]=V[2]=0,V}function D(V,te){return V[0]=te[0],V[1]=te[1],V[2]=te[2],V[3]=1,V}function B(V,te,Q,$){return V[0]=te[0],V[1]=te[1],V[2]=te[2],V[Q]=$,V}var Z=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function F(V,te,Q,$,G,X,J){var ne=Q.gl;if((X===Q.projectHasAlpha||J)&&function(ae,le,ce,pe){var ge,me=le.axesProject,ve=le.gl,Me=ae.uniforms,_e=ce.model||x,we=ce.view||x,oe=ce.projection||x,se=le.axesBounds,de=function(Je){for(var st=z,it=0;it<2;++it)for(var vt=0;vt<3;++vt)st[it][vt]=Math.max(Math.min(Je[it][vt],1e8),-1e8);return st}(le.clipBounds);ge=le.axes&&le.axes.lastCubeProps?le.axes.lastCubeProps.axis:[1,1,1],f[0]=2/ve.drawingBufferWidth,f[1]=2/ve.drawingBufferHeight,ae.bind(),Me.view=we,Me.projection=oe,Me.screenSize=f,Me.highlightId=le.highlightId,Me.highlightScale=le.highlightScale,Me.clipBounds=de,Me.pickGroup=le.pickId/255,Me.pixelRatio=pe;for(var Ee=0;Ee<3;++Ee)if(me[Ee]){Me.scale=le.projectScale[Ee],Me.opacity=le.projectOpacity[Ee];for(var Te=O,Se=0;Se<16;++Se)Te[Se]=0;for(Se=0;Se<4;++Se)Te[5*Se]=1;Te[5*Ee]=0,ge[Ee]<0?Te[12+Ee]=se[0][Ee]:Te[12+Ee]=se[1][Ee],l(Te,_e,Te),Me.model=Te;var Le=(Ee+1)%3,Oe=(Ee+2)%3,he=U(S),xe=U(T);he[Le]=1,xe[Oe]=1;var ke=p(0,0,0,D(E,he)),Re=p(0,0,0,D(C,xe));if(Math.abs(ke[1])>Math.abs(Re[1])){var ze=ke;ke=Re,Re=ze,ze=he,he=xe,xe=ze;var Ie=Le;Le=Oe,Oe=Ie}ke[0]<0&&(he[Le]=-1),Re[1]>0&&(xe[Oe]=-1);var He=0,qe=0;for(Se=0;Se<4;++Se)He+=Math.pow(_e[4*Le+Se],2),qe+=Math.pow(_e[4*Oe+Se],2);he[Le]/=Math.sqrt(He),xe[Oe]/=Math.sqrt(qe),Me.axes[0]=he,Me.axes[1]=xe,Me.fragClipBounds[0]=B(I,de[0],Ee,-1e8),Me.fragClipBounds[1]=B(I,de[1],Ee,1e8),le.vao.bind(),le.vao.draw(ve.TRIANGLES,le.vertexCount),le.lineWidth>0&&(ve.lineWidth(le.lineWidth*pe),le.vao.draw(ve.LINES,le.lineVertexCount,le.vertexCount)),le.vao.unbind()}}(te,Q,$,G),X===Q.hasAlpha||J){V.bind();var ie=V.uniforms;ie.model=$.model||x,ie.view=$.view||x,ie.projection=$.projection||x,f[0]=2/ne.drawingBufferWidth,f[1]=2/ne.drawingBufferHeight,ie.screenSize=f,ie.highlightId=Q.highlightId,ie.highlightScale=Q.highlightScale,ie.fragClipBounds=Z,ie.clipBounds=Q.axes.bounds,ie.opacity=Q.opacity,ie.pickGroup=Q.pickId/255,ie.pixelRatio=G,Q.vao.bind(),Q.vao.draw(ne.TRIANGLES,Q.vertexCount),Q.lineWidth>0&&(ne.lineWidth(Q.lineWidth*G),Q.vao.draw(ne.LINES,Q.lineVertexCount,Q.vertexCount)),Q.vao.unbind()}}function j(V,te,Q,$){var G;G=Array.isArray(V)?te<V.length?V[te]:void 0:V,G=c(G);var X=!0;i(G)&&(G="\u25BC",X=!1);var J=d(G,Q,$);return{mesh:J[0],lines:J[1],bounds:J[2],visible:X}}_.draw=function(V){F(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,V,this.pixelRatio,!1,!1)},_.drawTransparent=function(V){F(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,V,this.pixelRatio,!0,!1)},_.drawPick=function(V){F(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,V,1,!0,!0)},_.pick=function(V){if(!V||V.id!==this.pickId)return null;var te=V.value[2]+(V.value[1]<<8)+(V.value[0]<<16);if(te>=this.pointCount||te<0)return null;var Q=this.points[te],$=this._selectResult;$.index=te;for(var G=0;G<3;++G)$.position[G]=$.dataCoordinate[G]=Q[G];return $},_.highlight=function(V){if(V){var te=V.index,Q=255&te,$=te>>8&255,G=te>>16&255;this.highlightId=[Q/255,$/255,G/255,0]}else this.highlightId=[1,1,1,1]},_.update=function(V){if("perspective"in(V=V||{})&&(this.useOrtho=!V.perspective),"orthographic"in V&&(this.useOrtho=!!V.orthographic),"lineWidth"in V&&(this.lineWidth=V.lineWidth),"project"in V)if(Array.isArray(V.project))this.axesProject=V.project;else{var te=!!V.project;this.axesProject=[te,te,te]}if("projectScale"in V)if(Array.isArray(V.projectScale))this.projectScale=V.projectScale.slice();else{var Q=+V.projectScale;this.projectScale=[Q,Q,Q]}if(this.projectHasAlpha=!1,"projectOpacity"in V){Array.isArray(V.projectOpacity)?this.projectOpacity=V.projectOpacity.slice():(Q=+V.projectOpacity,this.projectOpacity=[Q,Q,Q]);for(var $=0;$<3;++$)this.projectOpacity[$]=y(this.projectOpacity[$]),this.projectOpacity[$]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in V&&(this.opacity=y(V.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var G,X,J=V.position,ne=V.font||"normal",ie=V.alignment||[0,0];if(ie.length===2)G=ie[0],X=ie[1];else for(G=[],X=[],$=0;$<ie.length;++$)G[$]=ie[$][0],X[$]=ie[$][1];var ae=[1/0,1/0,1/0],le=[-1/0,-1/0,-1/0],ce=V.glyph,pe=V.color,ge=V.size,me=V.angle,ve=V.lineColor,Me=-1,_e=0,we=0,oe=0;if(J.length){oe=J.length;e:for($=0;$<oe;++$){for(var se=J[$],de=0;de<3;++de)if(isNaN(se[de])||!isFinite(se[de]))continue e;var Ee=(st=j(ce,$,ne,this.pixelRatio)).mesh,Te=st.lines,Se=st.bounds;_e+=3*Ee.cells.length,we+=2*Te.edges.length}}var Le=_e+we,Oe=s.mallocFloat(3*Le),he=s.mallocFloat(4*Le),xe=s.mallocFloat(2*Le),ke=s.mallocUint32(Le);if(Le>0){var Re=0,ze=_e,Ie=[0,0,0,1],He=[0,0,0,1],qe=Array.isArray(pe)&&Array.isArray(pe[0]),Je=Array.isArray(ve)&&Array.isArray(ve[0]);e:for($=0;$<oe;++$){for(Me+=1,se=J[$],de=0;de<3;++de){if(isNaN(se[de])||!isFinite(se[de]))continue e;le[de]=Math.max(le[de],se[de]),ae[de]=Math.min(ae[de],se[de])}Ee=(st=j(ce,$,ne,this.pixelRatio)).mesh,Te=st.lines,Se=st.bounds;var st,it=st.visible;if(it)if(Array.isArray(pe)){if((vt=qe?$<pe.length?pe[$]:[0,0,0,0]:pe).length===3){for(de=0;de<3;++de)Ie[de]=vt[de];Ie[3]=1}else if(vt.length===4){for(de=0;de<4;++de)Ie[de]=vt[de];!this.hasAlpha&&vt[3]<1&&(this.hasAlpha=!0)}}else Ie[0]=Ie[1]=Ie[2]=0,Ie[3]=1;else Ie=[1,1,1,0];if(it)if(Array.isArray(ve)){var vt;if((vt=Je?$<ve.length?ve[$]:[0,0,0,0]:ve).length===3){for(de=0;de<3;++de)He[de]=vt[de];He[de]=1}else if(vt.length===4){for(de=0;de<4;++de)He[de]=vt[de];!this.hasAlpha&&vt[3]<1&&(this.hasAlpha=!0)}}else He[0]=He[1]=He[2]=0,He[3]=1;else He=[1,1,1,0];var _t=.5;it?Array.isArray(ge)?_t=$<ge.length?+ge[$]:12:ge?_t=+ge:this.useOrtho&&(_t=12):_t=0;var xt=0;Array.isArray(me)?xt=$<me.length?+me[$]:0:me&&(xt=+me);var et=Math.cos(xt),nt=Math.sin(xt);for(se=J[$],de=0;de<3;++de)le[de]=Math.max(le[de],se[de]),ae[de]=Math.min(ae[de],se[de]);var Mt=G,zt=X;Mt=0,Array.isArray(G)?Mt=$<G.length?G[$]:0:G&&(Mt=G),zt=0,Array.isArray(X)?zt=$<X.length?X[$]:0:X&&(zt=X);var Ft=[Mt*=Mt>0?1-Se[0][0]:Mt<0?1+Se[1][0]:1,zt*=zt>0?1-Se[0][1]:zt<0?1+Se[1][1]:1],Rt=Ee.cells||[],We=Ee.positions||[];for(de=0;de<Rt.length;++de)for(var Ze=Rt[de],Ne=0;Ne<3;++Ne){for(var Ye=0;Ye<3;++Ye)Oe[3*Re+Ye]=se[Ye];for(Ye=0;Ye<4;++Ye)he[4*Re+Ye]=Ie[Ye];ke[Re]=Me;var lt=We[Ze[Ne]];xe[2*Re]=_t*(et*lt[0]-nt*lt[1]+Ft[0]),xe[2*Re+1]=_t*(nt*lt[0]+et*lt[1]+Ft[1]),Re+=1}for(Rt=Te.edges,We=Te.positions,de=0;de<Rt.length;++de)for(Ze=Rt[de],Ne=0;Ne<2;++Ne){for(Ye=0;Ye<3;++Ye)Oe[3*ze+Ye]=se[Ye];for(Ye=0;Ye<4;++Ye)he[4*ze+Ye]=He[Ye];ke[ze]=Me,lt=We[Ze[Ne]],xe[2*ze]=_t*(et*lt[0]-nt*lt[1]+Ft[0]),xe[2*ze+1]=_t*(nt*lt[0]+et*lt[1]+Ft[1]),ze+=1}}}this.bounds=[ae,le],this.points=J,this.pointCount=J.length,this.vertexCount=_e,this.lineVertexCount=we,this.pointBuffer.update(Oe),this.colorBuffer.update(he),this.glyphBuffer.update(xe),this.idBuffer.update(ke),s.free(Oe),s.free(he),s.free(xe),s.free(ke)},_.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},1884:function(h,o,t){var i=t(6832);o.boxVertex=i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),o.boxFragment=i([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(h,o,t){var i=t(5158),n=t(5827),r=t(1884);function s(u,d,c){this.plot=u,this.boxBuffer=d,this.boxShader=c,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}h.exports=function(u,d){var c=u.gl,x=new s(u,n(c,[0,0,0,1,1,0,1,1]),i(c,r.boxVertex,r.boxFragment));return x.update(d),u.addOverlay(x),x};var l=s.prototype;l.draw=function(){if(this.enabled){var u=this.plot,d=this.selectBox,c=this.borderWidth,x=(this.innerFill,this.innerColor),g=(this.outerFill,this.outerColor),p=this.borderColor,v=u.box,y=u.screenBox,m=u.dataBox,_=u.viewBox,f=u.pixelRatio,S=(d[0]-m[0])*(_[2]-_[0])/(m[2]-m[0])+_[0],T=(d[1]-m[1])*(_[3]-_[1])/(m[3]-m[1])+_[1],E=(d[2]-m[0])*(_[2]-_[0])/(m[2]-m[0])+_[0],C=(d[3]-m[1])*(_[3]-_[1])/(m[3]-m[1])+_[1];if(S=Math.max(S,_[0]),T=Math.max(T,_[1]),E=Math.min(E,_[2]),C=Math.min(C,_[3]),!(E<S||C<T)){v.bind();var O=y[2]-y[0],I=y[3]-y[1];if(this.outerFill&&(v.drawBox(0,0,O,T,g),v.drawBox(0,T,S,C,g),v.drawBox(0,C,O,I,g),v.drawBox(E,T,O,C,g)),this.innerFill&&v.drawBox(S,T,E,C,x),c>0){var z=c*f;v.drawBox(S-z,T-z,E+z,T+z,p),v.drawBox(S-z,C-z,E+z,C+z,p),v.drawBox(S-z,T-z,S+z,C+z,p),v.drawBox(E-z,T-z,E+z,C+z,p)}}}},l.update=function(u){u=u||{},this.innerFill=!!u.innerFill,this.outerFill=!!u.outerFill,this.innerColor=(u.innerColor||[0,0,0,.5]).slice(),this.outerColor=(u.outerColor||[0,0,0,.5]).slice(),this.borderColor=(u.borderColor||[0,0,0,1]).slice(),this.borderWidth=u.borderWidth||0,this.selectBox=(u.selectBox||this.selectBox).slice()},l.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},2611:function(h,o,t){h.exports=function(c,x){var g=x[0],p=x[1];return new u(c,i(c,g,p,{}),n.mallocUint8(g*p*4))};var i=t(4234),n=t(5306),r=t(5050),s=t(2288).nextPow2;function l(c,x,g,p,v){this.coord=[c,x],this.id=g,this.value=p,this.distance=v}function u(c,x,g){this.gl=c,this.fbo=x,this.buffer=g,this._readTimeout=null;var p=this;this._readCallback=function(){p.gl&&(x.bind(),c.readPixels(0,0,x.shape[0],x.shape[1],c.RGBA,c.UNSIGNED_BYTE,p.buffer),p._readTimeout=null)}}var d=u.prototype;Object.defineProperty(d,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var x=this.fbo.shape[0],g=this.fbo.shape[1];if(g*x*4>this.buffer.length){n.free(this.buffer);for(var p=this.buffer=n.mallocUint8(s(g*x*4)),v=0;v<g*x*4;++v)p[v]=255}return c}}}),d.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},d.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},d.query=function(c,x,g){if(!this.gl)return null;var p=this.fbo.shape.slice();c|=0,x|=0,typeof g!="number"&&(g=1);var v=0|Math.min(Math.max(c-g,0),p[0]),y=0|Math.min(Math.max(c+g,0),p[0]),m=0|Math.min(Math.max(x-g,0),p[1]),_=0|Math.min(Math.max(x+g,0),p[1]);if(y<=v||_<=m)return null;var f=[y-v,_-m],S=r(this.buffer,[f[0],f[1],4],[4,4*p[0],1],4*(v+p[0]*m)),T=function(O,I,z){for(var U=1e8,D=-1,B=-1,Z=O.shape[0],F=O.shape[1],j=0;j<Z;j++)for(var V=0;V<F;V++){var te=O.get(j,V,0),Q=O.get(j,V,1),$=O.get(j,V,2),G=O.get(j,V,3);if(te<255||Q<255||$<255||G<255){var X=I-j,J=z-V,ne=X*X+J*J;ne<U&&(U=ne,D=j,B=V)}}return[D,B,U]}(S.hi(f[0],f[1],1),g,g),E=T[0],C=T[1];return E<0||Math.pow(this.radius,2)<T[2]?null:new l(E+v|0,C+m|0,S.get(E,C,0),[S.get(E,C,1),S.get(E,C,2),S.get(E,C,3)],Math.sqrt(T[2]))},d.dispose=function(){this.gl&&(this.fbo.dispose(),n.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},5158:function(h,o,t){var i=t(9016),n=t(4280),r=t(3984),s=t(1628),l=t(2631),u=t(9068);function d(g){this.gl=g,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=d.prototype;function x(g,p){return g.name<p.name?-1:1}c.bind=function(){var g;this.program||this._relink();var p=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),v=this.gl.lastAttribCount;if(p>v)for(g=v;g<p;g++)this.gl.enableVertexAttribArray(g);else if(v>p)for(g=p;g<v;g++)this.gl.disableVertexAttribArray(g);this.gl.lastAttribCount=p,this.gl.useProgram(this.program)},c.dispose=function(){for(var g=this.gl.lastAttribCount,p=0;p<g;p++)this.gl.disableVertexAttribArray(p);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},c.update=function(g,p,v,y){if(!p||arguments.length===1){var m=g;g=m.vertex,p=m.fragment,v=m.uniforms,y=m.attributes}var _=this,f=_.gl,S=_._vref;_._vref=s.shader(f,f.VERTEX_SHADER,g),S&&S.dispose(),_.vertShader=_._vref.shader;var T=this._fref;if(_._fref=s.shader(f,f.FRAGMENT_SHADER,p),T&&T.dispose(),_.fragShader=_._fref.shader,!v||!y){var E=f.createProgram();if(f.attachShader(E,_.fragShader),f.attachShader(E,_.vertShader),f.linkProgram(E),!f.getProgramParameter(E,f.LINK_STATUS)){var C=f.getProgramInfoLog(E);throw new u(C,"Error linking program:"+C)}v=v||l.uniforms(f,E),y=y||l.attributes(f,E),f.deleteProgram(E)}(y=y.slice()).sort(x);var O,I=[],z=[],U=[];for(O=0;O<y.length;++O){var D=y[O];if(D.type.indexOf("mat")>=0){for(var B=0|D.type.charAt(D.type.length-1),Z=new Array(B),F=0;F<B;++F)Z[F]=U.length,z.push(D.name+"["+F+"]"),typeof D.location=="number"?U.push(D.location+F):Array.isArray(D.location)&&D.location.length===B&&typeof D.location[F]=="number"?U.push(0|D.location[F]):U.push(-1);I.push({name:D.name,type:D.type,locations:Z})}else I.push({name:D.name,type:D.type,locations:[U.length]}),z.push(D.name),typeof D.location=="number"?U.push(0|D.location):U.push(-1)}var j=0;for(O=0;O<U.length;++O)if(U[O]<0){for(;U.indexOf(j)>=0;)j+=1;U[O]=j}var V=new Array(v.length);function te(){_.program=s.program(f,_._vref,_._fref,z,U);for(var Q=0;Q<v.length;++Q)V[Q]=f.getUniformLocation(_.program,v[Q].name)}te(),_._relink=te,_.types={uniforms:r(v),attributes:r(y)},_.attributes=n(f,_,I,U),Object.defineProperty(_,"uniforms",i(f,_,v,V))},h.exports=function(g,p,v,y,m){var _=new d(g);return _.update(p,v,y,m),_}},9068:function(h){function o(t,i,n){this.shortMessage=i||"",this.longMessage=n||"",this.rawError=t||"",this.message="gl-shader: "+(i||t||"")+(n?`
`+n:""),this.stack=new Error().stack}o.prototype=new Error,o.prototype.name="GLError",o.prototype.constructor=o,h.exports=o},4280:function(h,o,t){h.exports=function(d,c,x,g){for(var p={},v=0,y=x.length;v<y;++v){var m=x[v],_=m.name,f=m.type,S=m.locations;switch(f){case"bool":case"int":case"float":l(d,c,S[0],g,1,p,_);break;default:if(f.indexOf("vec")>=0){if((T=f.charCodeAt(f.length-1)-48)<2||T>4)throw new i("","Invalid data type for attribute "+_+": "+f);l(d,c,S[0],g,T,p,_)}else{if(!(f.indexOf("mat")>=0))throw new i("","Unknown data type for attribute "+_+": "+f);var T;if((T=f.charCodeAt(f.length-1)-48)<2||T>4)throw new i("","Invalid data type for attribute "+_+": "+f);u(d,c,S,g,T,p,_)}}}return p};var i=t(9068);function n(d,c,x,g,p,v){this._gl=d,this._wrapper=c,this._index=x,this._locations=g,this._dimension=p,this._constFunc=v}var r=n.prototype;r.pointer=function(d,c,x,g){var p=this,v=p._gl,y=p._locations[p._index];v.vertexAttribPointer(y,p._dimension,d||v.FLOAT,!!c,x||0,g||0),v.enableVertexAttribArray(y)},r.set=function(d,c,x,g){return this._constFunc(this._locations[this._index],d,c,x,g)},Object.defineProperty(r,"location",{get:function(){return this._locations[this._index]},set:function(d){return d!==this._locations[this._index]&&(this._locations[this._index]=0|d,this._wrapper.program=null),0|d}});var s=[function(d,c,x){return x.length===void 0?d.vertexAttrib1f(c,x):d.vertexAttrib1fv(c,x)},function(d,c,x,g){return x.length===void 0?d.vertexAttrib2f(c,x,g):d.vertexAttrib2fv(c,x)},function(d,c,x,g,p){return x.length===void 0?d.vertexAttrib3f(c,x,g,p):d.vertexAttrib3fv(c,x)},function(d,c,x,g,p,v){return x.length===void 0?d.vertexAttrib4f(c,x,g,p,v):d.vertexAttrib4fv(c,x)}];function l(d,c,x,g,p,v,y){var m=s[p],_=new n(d,c,x,g,p,m);Object.defineProperty(v,y,{set:function(f){return d.disableVertexAttribArray(g[x]),m(d,g[x],f),f},get:function(){return _},enumerable:!0})}function u(d,c,x,g,p,v,y){for(var m=new Array(p),_=new Array(p),f=0;f<p;++f)l(d,c,x[f],g,p,m,f),_[f]=m[f];Object.defineProperty(m,"location",{set:function(E){if(Array.isArray(E))for(var C=0;C<p;++C)_[C].location=E[C];else for(C=0;C<p;++C)_[C].location=E+C;return E},get:function(){for(var E=new Array(p),C=0;C<p;++C)E[C]=g[x[C]];return E},enumerable:!0}),m.pointer=function(E,C,O,I){E=E||d.FLOAT,C=!!C,O=O||p*p,I=I||0;for(var z=0;z<p;++z){var U=g[x[z]];d.vertexAttribPointer(U,p,E,C,O,I+z*p),d.enableVertexAttribArray(U)}};var S=new Array(p),T=d["vertexAttrib"+p+"fv"];Object.defineProperty(v,y,{set:function(E){for(var C=0;C<p;++C){var O=g[x[C]];if(d.disableVertexAttribArray(O),Array.isArray(E[0]))T.call(d,O,E[C]);else{for(var I=0;I<p;++I)S[I]=E[p*C+I];T.call(d,O,S)}}return E},get:function(){return m},enumerable:!0})}},9016:function(h,o,t){var i=t(3984),n=t(9068);function r(l){return function(){return l}}function s(l,u){for(var d=new Array(l),c=0;c<l;++c)d[c]=u;return d}h.exports=function(l,u,d,c){function x(m){return function(_){for(var f=g("",m),S=0;S<f.length;++S){var T=f[S],E=T[0],C=T[1];if(c[C]){var O=_;if(typeof E=="string"&&(E.indexOf(".")===0||E.indexOf("[")===0)){var I=E;if(E.indexOf(".")===0&&(I=E.slice(1)),I.indexOf("]")===I.length-1){var z=I.indexOf("["),U=I.slice(0,z),D=I.slice(z+1,I.length-1);O=U?_[U][D]:_[D]}else O=_[I]}var B,Z=d[C].type;switch(Z){case"bool":case"int":case"sampler2D":case"samplerCube":l.uniform1i(c[C],O);break;case"float":l.uniform1f(c[C],O);break;default:var F=Z.indexOf("vec");if(!(0<=F&&F<=1&&Z.length===4+F)){if(Z.indexOf("mat")===0&&Z.length===4){if((B=Z.charCodeAt(Z.length-1)-48)<2||B>4)throw new n("","Invalid uniform dimension type for matrix "+name+": "+Z);l["uniformMatrix"+B+"fv"](c[C],!1,O);break}throw new n("","Unknown uniform data type for "+name+": "+Z)}if((B=Z.charCodeAt(Z.length-1)-48)<2||B>4)throw new n("","Invalid data type");switch(Z.charAt(0)){case"b":case"i":l["uniform"+B+"iv"](c[C],O);break;case"v":l["uniform"+B+"fv"](c[C],O);break;default:throw new n("","Unrecognized data type for vector "+name+": "+Z)}}}}}}function g(m,_){if(typeof _!="object")return[[m,_]];var f=[];for(var S in _){var T=_[S],E=m;parseInt(S)+""===S?E+="["+S+"]":E+="."+S,typeof T=="object"?f.push.apply(f,g(E,T)):f.push([E,T])}return f}function p(m,_,f){if(typeof f=="object"){var S=v(f);Object.defineProperty(m,_,{get:r(S),set:x(f),enumerable:!0,configurable:!1})}else c[f]?Object.defineProperty(m,_,{get:(T=f,function(E,C,O){return E.getUniform(C.program,O[T])}),set:x(f),enumerable:!0,configurable:!1}):m[_]=function(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var C=E.indexOf("vec");if(0<=C&&C<=1&&E.length===4+C){if((O=E.charCodeAt(E.length-1)-48)<2||O>4)throw new n("","Invalid data type");return E.charAt(0)==="b"?s(O,!1):s(O,0)}if(E.indexOf("mat")===0&&E.length===4){var O;if((O=E.charCodeAt(E.length-1)-48)<2||O>4)throw new n("","Invalid uniform dimension type for matrix "+name+": "+E);return s(O*O,0)}throw new n("","Unknown uniform data type for "+name+": "+E)}}(d[f].type);var T}function v(m){var _;if(Array.isArray(m)){_=new Array(m.length);for(var f=0;f<m.length;++f)p(_,f,m[f])}else for(var S in _={},m)p(_,S,m[S]);return _}var y=i(d,!0);return{get:r(v(y)),set:x(y),enumerable:!0,configurable:!0}}},3984:function(h){h.exports=function(o,t){for(var i={},n=0;n<o.length;++n)for(var r=o[n].name.split("."),s=i,l=0;l<r.length;++l){var u=r[l].split("[");if(u.length>1){u[0]in s||(s[u[0]]=[]),s=s[u[0]];for(var d=1;d<u.length;++d){var c=parseInt(u[d]);d<u.length-1||l<r.length-1?(c in s||(d<u.length-1?s[c]=[]:s[c]={}),s=s[c]):s[c]=t?n:o[n].type}}else l<r.length-1?(u[0]in s||(s[u[0]]={}),s=s[u[0]]):s[u[0]]=t?n:o[n].type}return i}},2631:function(h,o){o.uniforms=function(r,s){for(var l=r.getProgramParameter(s,r.ACTIVE_UNIFORMS),u=[],d=0;d<l;++d){var c=r.getActiveUniform(s,d);if(c){var x=n(r,c.type);if(c.size>1)for(var g=0;g<c.size;++g)u.push({name:c.name.replace("[0]","["+g+"]"),type:x});else u.push({name:c.name,type:x})}}return u},o.attributes=function(r,s){for(var l=r.getProgramParameter(s,r.ACTIVE_ATTRIBUTES),u=[],d=0;d<l;++d){var c=r.getActiveAttrib(s,d);c&&u.push({name:c.name,type:n(r,c.type)})}return u};var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},i=null;function n(r,s){if(!i){var l=Object.keys(t);i={};for(var u=0;u<l.length;++u){var d=l[u];i[r[d]]=t[d]}}return i[s]}},1628:function(h,o,t){o.shader=function(x,g,p){return c(x).getShaderReference(g,p)},o.program=function(x,g,p,v,y){return c(x).getProgram(g,p,v,y)};var i=t(9068),n=t(3530),r=new(typeof WeakMap>"u"?t(4037):WeakMap),s=0;function l(x,g,p,v,y,m,_){this.id=x,this.src=g,this.type=p,this.shader=v,this.count=m,this.programs=[],this.cache=_}function u(x){this.gl=x,this.shaders=[{},{}],this.programs={}}l.prototype.dispose=function(){if(--this.count==0){for(var x=this.cache,g=x.gl,p=this.programs,v=0,y=p.length;v<y;++v){var m=x.programs[p[v]];m&&(delete x.programs[v],g.deleteProgram(m))}g.deleteShader(this.shader),delete x.shaders[this.type===g.FRAGMENT_SHADER|0][this.src]}};var d=u.prototype;function c(x){var g=r.get(x);return g||(g=new u(x),r.set(x,g)),g}d.getShaderReference=function(x,g){var p=this.gl,v=this.shaders[x===p.FRAGMENT_SHADER|0],y=v[g];if(y&&p.isShader(y.shader))y.count+=1;else{var m=function(_,f,S){var T=_.createShader(f);if(_.shaderSource(T,S),_.compileShader(T),!_.getShaderParameter(T,_.COMPILE_STATUS)){var E=_.getShaderInfoLog(T);try{var C=n(E,S,f)}catch(O){throw console.warn("Failed to format compiler error: "+O),new i(E,`Error compiling shader:
`+E)}throw new i(E,C.short,C.long)}return T}(p,x,g);y=v[g]=new l(s++,g,x,m,[],1,this)}return y},d.getProgram=function(x,g,p,v){var y=[x.id,g.id,p.join(":"),v.join(":")].join("@"),m=this.programs[y];return m&&this.gl.isProgram(m)||(this.programs[y]=m=function(_,f,S,T,E){var C=_.createProgram();_.attachShader(C,f),_.attachShader(C,S);for(var O=0;O<T.length;++O)_.bindAttribLocation(C,E[O],T[O]);if(_.linkProgram(C),!_.getProgramParameter(C,_.LINK_STATUS)){var I=_.getProgramInfoLog(C);throw new i(I,"Error linking program: "+I)}return C}(this.gl,x.shader,g.shader,p,v),x.programs.push(y),g.programs.push(y)),m}},3050:function(h){function o(i){this.plot=i,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}h.exports=function(i,n){var r=new o(i);return r.update(n),i.addOverlay(r),r};var t=o.prototype;t.update=function(i){i=i||{},this.enable=(i.enable||[!0,!0,!1,!1]).slice(),this.width=(i.width||[1,1,1,1]).slice(),this.color=(i.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(i.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var i=this.enable,n=this.width,r=this.color,s=this.center,l=this.plot,u=l.line,d=l.dataBox,c=l.viewBox;if(u.bind(),d[0]<=s[0]&&s[0]<=d[2]&&d[1]<=s[1]&&s[1]<=d[3]){var x=c[0]+(s[0]-d[0])/(d[2]-d[0])*(c[2]-c[0]),g=c[1]+(s[1]-d[1])/(d[3]-d[1])*(c[3]-c[1]);i[0]&&u.drawLine(x,g,c[0],g,n[0],r[0]),i[1]&&u.drawLine(x,g,x,c[1],n[1],r[1]),i[2]&&u.drawLine(x,g,c[2],g,n[2],r[2]),i[3]&&u.drawLine(x,g,x,c[3],n[3],r[3])}},t.dispose=function(){this.plot.removeOverlay(this)}},3540:function(h,o,t){var i=t(6832),n=t(5158),r=i([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),s=i([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);h.exports=function(l){return n(l,r,s,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(h,o,t){var i=t(5827),n=t(2944),r=t(3540);h.exports=function(g,p){var v=[];function y(T,E,C,O,I,z){var U=[T,E,C,0,0,0,1];U[O+3]=1,U[O]=I,v.push.apply(v,U),U[6]=-1,v.push.apply(v,U),U[O]=z,v.push.apply(v,U),v.push.apply(v,U),U[6]=1,v.push.apply(v,U),U[O]=I,v.push.apply(v,U)}y(0,0,0,0,0,1),y(0,0,0,1,0,1),y(0,0,0,2,0,1),y(1,0,0,1,-1,1),y(1,0,0,2,-1,1),y(0,1,0,0,-1,1),y(0,1,0,2,-1,1),y(0,0,1,0,-1,1),y(0,0,1,1,-1,1);var m=i(g,v),_=n(g,[{type:g.FLOAT,buffer:m,size:3,offset:0,stride:28},{type:g.FLOAT,buffer:m,size:3,offset:12,stride:28},{type:g.FLOAT,buffer:m,size:1,offset:24,stride:28}]),f=r(g);f.attributes.position.location=0,f.attributes.color.location=1,f.attributes.weight.location=2;var S=new l(g,m,_,f);return S.update(p),S};var s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function l(g,p,v,y){this.gl=g,this.buffer=p,this.vao=v,this.shader=y,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=l.prototype,d=[0,0,0],c=[0,0,0],x=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(g){},u.draw=function(g){var p=this.gl,v=this.vao,y=this.shader;v.bind(),y.bind();var m,_=g.model||s,f=g.view||s,S=g.projection||s;this.axes&&(m=this.axes.lastCubeProps.axis);for(var T=d,E=c,C=0;C<3;++C)m&&m[C]<0?(T[C]=this.bounds[0][C],E[C]=this.bounds[1][C]):(T[C]=this.bounds[1][C],E[C]=this.bounds[0][C]);for(x[0]=p.drawingBufferWidth,x[1]=p.drawingBufferHeight,y.uniforms.model=_,y.uniforms.view=f,y.uniforms.projection=S,y.uniforms.coordinates=[this.position,T,E],y.uniforms.colors=this.colors,y.uniforms.screenShape=x,C=0;C<3;++C)y.uniforms.lineWidth=this.lineWidth[C]*this.pixelRatio,this.enabled[C]&&(v.draw(p.TRIANGLES,6,6*C),this.drawSides[C]&&v.draw(p.TRIANGLES,12,18+12*C));v.unbind()},u.update=function(g){g&&("bounds"in g&&(this.bounds=g.bounds),"position"in g&&(this.position=g.position),"lineWidth"in g&&(this.lineWidth=g.lineWidth),"colors"in g&&(this.colors=g.colors),"enabled"in g&&(this.enabled=g.enabled),"drawSides"in g&&(this.drawSides=g.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},9578:function(h,o,t){var i=t(6832),n=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),r=i([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),s=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);o.meshShader={vertex:n,fragment:r,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},o.pickShader={vertex:s,fragment:l,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(h,o,t){var i=t(2858),n=t(4020),r=["xyz","xzy","yxz","yzx","zxy","zyx"],s=function(x,g){var p,v=x.length;for(p=0;p<v;p++){var y=x[p];if(y===g)return p;if(y>g)return p-1}return p},l=function(x,g,p){return x<g?g:x>p?p:x},u=function(x){var g=1/0;x.sort(function(m,_){return m-_});for(var p=x.length,v=1;v<p;v++){var y=Math.abs(x[v]-x[v-1]);y<g&&(g=y)}return g};h.exports=function(x,g){var p=x.startingPositions,v=x.maxLength||1e3,y=x.tubeSize||1,m=x.absoluteTubeSize,_=x.gridFill||"+x+y+z",f={};_.indexOf("-x")!==-1&&(f.reversedX=!0),_.indexOf("-y")!==-1&&(f.reversedY=!0),_.indexOf("-z")!==-1&&(f.reversedZ=!0),f.filled=r.indexOf(_.replace(/-/g,"").replace(/\+/g,""));var S=x.getVelocity||function(ve){return function(Me,_e,we){var oe=_e.vectors,se=_e.meshgrid,de=Me[0],Ee=Me[1],Te=Me[2],Se=se[0].length,Le=se[1].length,Oe=se[2].length,he=s(se[0],de),xe=s(se[1],Ee),ke=s(se[2],Te),Re=he+1,ze=xe+1,Ie=ke+1;if(he=l(he,0,Se-1),Re=l(Re,0,Se-1),xe=l(xe,0,Le-1),ze=l(ze,0,Le-1),ke=l(ke,0,Oe-1),Ie=l(Ie,0,Oe-1),he<0||xe<0||ke<0||Re>Se-1||ze>Le-1||Ie>Oe-1)return i.create();var He,qe,Je,st,it,vt,_t=se[0][he],xt=se[0][Re],et=se[1][xe],nt=se[1][ze],Mt=se[2][ke],zt=(de-_t)/(xt-_t),Ft=(Ee-et)/(nt-et),Rt=(Te-Mt)/(se[2][Ie]-Mt);switch(isFinite(zt)||(zt=.5),isFinite(Ft)||(Ft=.5),isFinite(Rt)||(Rt=.5),we.reversedX&&(he=Se-1-he,Re=Se-1-Re),we.reversedY&&(xe=Le-1-xe,ze=Le-1-ze),we.reversedZ&&(ke=Oe-1-ke,Ie=Oe-1-Ie),we.filled){case 5:it=ke,vt=Ie,Je=xe*Oe,st=ze*Oe,He=he*Oe*Le,qe=Re*Oe*Le;break;case 4:it=ke,vt=Ie,He=he*Oe,qe=Re*Oe,Je=xe*Oe*Se,st=ze*Oe*Se;break;case 3:Je=xe,st=ze,it=ke*Le,vt=Ie*Le,He=he*Le*Oe,qe=Re*Le*Oe;break;case 2:Je=xe,st=ze,He=he*Le,qe=Re*Le,it=ke*Le*Se,vt=Ie*Le*Se;break;case 1:He=he,qe=Re,it=ke*Se,vt=Ie*Se,Je=xe*Se*Oe,st=ze*Se*Oe;break;default:He=he,qe=Re,Je=xe*Se,st=ze*Se,it=ke*Se*Le,vt=Ie*Se*Le}var We=oe[He+Je+it],Ze=oe[He+Je+vt],Ne=oe[He+st+it],Ye=oe[He+st+vt],lt=oe[qe+Je+it],at=oe[qe+Je+vt],Fe=oe[qe+st+it],Be=oe[qe+st+vt],ot=i.create(),Xe=i.create(),pt=i.create(),mt=i.create();i.lerp(ot,We,lt,zt),i.lerp(Xe,Ze,at,zt),i.lerp(pt,Ne,Fe,zt),i.lerp(mt,Ye,Be,zt);var yt=i.create(),ht=i.create();i.lerp(yt,ot,pt,Ft),i.lerp(ht,Xe,mt,Ft);var Lt=i.create();return i.lerp(Lt,yt,ht,Rt),Lt}(ve,x,f)},T=x.getDivergence||function(ve,Me){var _e=i.create(),we=1e-4;i.add(_e,ve,[we,0,0]);var oe=S(_e);i.subtract(oe,oe,Me),i.scale(oe,oe,1/we),i.add(_e,ve,[0,we,0]);var se=S(_e);i.subtract(se,se,Me),i.scale(se,se,1/we),i.add(_e,ve,[0,0,we]);var de=S(_e);return i.subtract(de,de,Me),i.scale(de,de,1/we),i.add(_e,oe,se),i.add(_e,_e,de),_e},E=[],C=g[0][0],O=g[0][1],I=g[0][2],z=g[1][0],U=g[1][1],D=g[1][2],B=function(ve){var Me=ve[0],_e=ve[1],we=ve[2];return!(Me<C||Me>z||_e<O||_e>U||we<I||we>D)},Z=10*i.distance(g[0],g[1])/v,F=Z*Z,j=1,V=0,te=p.length;te>1&&(j=function(ve){for(var Me=[],_e=[],we=[],oe={},se={},de={},Ee=ve.length,Te=0;Te<Ee;Te++){var Se=ve[Te],Le=Se[0],Oe=Se[1],he=Se[2];oe[Le]||(Me.push(Le),oe[Le]=!0),se[Oe]||(_e.push(Oe),se[Oe]=!0),de[he]||(we.push(he),de[he]=!0)}var xe=u(Me),ke=u(_e),Re=u(we),ze=Math.min(xe,ke,Re);return isFinite(ze)?ze:1}(p));for(var Q=0;Q<te;Q++){var $=i.create();i.copy($,p[Q]);var G=[$],X=[],J=S($),ne=$;X.push(J);var ie=[],ae=T($,J),le=i.length(ae);isFinite(le)&&le>V&&(V=le),ie.push(le),E.push({points:G,velocities:X,divergences:ie});for(var ce=0;ce<100*v&&G.length<v&&B($);){ce++;var pe=i.clone(J),ge=i.squaredLength(pe);if(ge===0)break;ge>F&&i.scale(pe,pe,Z/Math.sqrt(ge)),i.add(pe,pe,$),J=S(pe),i.squaredDistance(ne,pe)-F>-1e-4*F&&(G.push(pe),ne=pe,X.push(J),ae=T(pe,J),le=i.length(ae),isFinite(le)&&le>V&&(V=le),ie.push(le)),$=pe}}var me=function(ve,Me,_e,we){for(var oe=0,se=0;se<ve.length;se++)for(var de=ve[se].velocities,Ee=0;Ee<de.length;Ee++)oe=Math.max(oe,i.length(de[Ee]));var Te=ve.map(function(He){return function(qe,Je,st,it){for(var vt=qe.points,_t=qe.velocities,xt=qe.divergences,et=[],nt=[],Mt=[],zt=[],Ft=[],Rt=[],We=0,Ze=0,Ne=n.create(),Ye=n.create(),lt=0;lt<vt.length;lt++){var at=vt[lt],Fe=_t[lt],Be=xt[lt];Je===0&&(Be=.05*st),Ze=i.length(Fe)/it,Ne=n.create(),i.copy(Ne,Fe),Ne[3]=Be;for(var ot=0;ot<8;ot++)Ft[ot]=[at[0],at[1],at[2],ot];if(zt.length>0)for(ot=0;ot<8;ot++){var Xe=(ot+1)%8;et.push(zt[ot],Ft[ot],Ft[Xe],Ft[Xe],zt[Xe],zt[ot]),Mt.push(Ye,Ne,Ne,Ne,Ye,Ye),Rt.push(We,Ze,Ze,Ze,We,We);var pt=et.length;nt.push([pt-6,pt-5,pt-4],[pt-3,pt-2,pt-1])}var mt=zt;zt=Ft,Ft=mt;var yt=Ye;Ye=Ne,Ne=yt;var ht=We;We=Ze,Ze=ht}return{positions:et,cells:nt,vectors:Mt,vertexIntensity:Rt}}(He,_e,we,oe)}),Se=[],Le=[],Oe=[],he=[];for(se=0;se<Te.length;se++){var xe=Te[se],ke=Se.length;for(Se=Se.concat(xe.positions),Oe=Oe.concat(xe.vectors),he=he.concat(xe.vertexIntensity),Ee=0;Ee<xe.cells.length;Ee++){var Re=xe.cells[Ee],ze=[];Le.push(ze);for(var Ie=0;Ie<Re.length;Ie++)ze.push(Re[Ie]+ke)}}return{positions:Se,cells:Le,vectors:Oe,vertexIntensity:he,colormap:Me}}(E,x.colormap,V,j);return m?me.tubeScale=m:(V===0&&(V=1),me.tubeScale=.5*y*j/V),me};var d=t(9578),c=t(1140).createMesh;h.exports.createTubeMesh=function(x,g){return c(x,g,{shaders:d,traceType:"streamtube"})}},9054:function(h,o,t){var i=t(5158),n=t(6832),r=n([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),s=n([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color \u2014 in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),l=n([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),u=n([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);o.createShader=function(d){var c=i(d,r,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},o.createPickShader=function(d){var c=i(d,r,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},o.createContourShader=function(d){var c=i(d,l,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c},o.createPickContourShader=function(d){var c=i(d,l,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c}},3754:function(h,o,t){h.exports=function(ae){var le=ae.gl,ce=f(le),pe=T(le),ge=S(le),me=E(le),ve=n(le),Me=r(le,[{buffer:ve,size:4,stride:C,offset:0},{buffer:ve,size:3,stride:C,offset:16},{buffer:ve,size:3,stride:C,offset:28}]),_e=n(le),we=r(le,[{buffer:_e,size:4,stride:20,offset:0},{buffer:_e,size:1,stride:20,offset:16}]),oe=n(le),se=r(le,[{buffer:oe,size:2,type:le.FLOAT}]),de=s(le,1,D,le.RGBA,le.UNSIGNED_BYTE);de.minFilter=le.LINEAR,de.magFilter=le.LINEAR;var Ee=new B(le,[0,0],[[0,0,0],[0,0,0]],ce,pe,ve,Me,de,ge,me,_e,we,oe,se,[0,0,0]),Te={levels:[[],[],[]]};for(var Se in ae)Te[Se]=ae[Se];return Te.colormap=Te.colormap||"jet",Ee.update(Te),Ee};var i=t(2288),n=t(5827),r=t(2944),s=t(8931),l=t(5306),u=t(9156),d=t(7498),c=t(7382),x=t(5050),g=t(4162),p=t(104),v=t(7437),y=t(5070),m=t(9144),_=t(9054),f=_.createShader,S=_.createContourShader,T=_.createPickShader,E=_.createPickContourShader,C=40,O=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],I=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],z=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function U(ae,le,ce,pe,ge){this.position=ae,this.index=le,this.uv=ce,this.level=pe,this.dataCoordinate=ge}(function(){for(var ae=0;ae<3;++ae){var le=z[ae],ce=(ae+2)%3;le[(ae+1)%3+0]=1,le[ce+3]=1,le[ae+6]=1}})();var D=256;function B(ae,le,ce,pe,ge,me,ve,Me,_e,we,oe,se,de,Ee,Te){this.gl=ae,this.shape=le,this.bounds=ce,this.objectOffset=Te,this.intensityBounds=[],this._shader=pe,this._pickShader=ge,this._coordinateBuffer=me,this._vao=ve,this._colorMap=Me,this._contourShader=_e,this._contourPickShader=we,this._contourBuffer=oe,this._contourVAO=se,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new U([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=de,this._dynamicVAO=Ee,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[x(l.mallocFloat(1024),[0,0]),x(l.mallocFloat(1024),[0,0]),x(l.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var Z=B.prototype;Z.genColormap=function(ae,le){var ce=!1,pe=c([u({colormap:ae,nshades:D,format:"rgba"}).map(function(ge,me){var ve=le?function(Me,_e){if(!_e||!_e.length)return 1;for(var we=0;we<_e.length;++we){if(_e.length<2)return 1;if(_e[we][0]===Me)return _e[we][1];if(_e[we][0]>Me&&we>0){var oe=(_e[we][0]-Me)/(_e[we][0]-_e[we-1][0]);return _e[we][1]*(1-oe)+oe*_e[we-1][1]}}return 1}(me/255,le):ge[3];return ve<1&&(ce=!0),[ge[0],ge[1],ge[2],255*ve]})]);return d.divseq(pe,255),this.hasAlphaScale=ce,pe},Z.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},Z.isOpaque=function(){return!this.isTransparent()},Z.pickSlots=1,Z.setPickBase=function(ae){this.pickId=ae};var F=[0,0,0],j={showSurface:!1,showContour:!1,projections:[O.slice(),O.slice(),O.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function V(ae,le){var ce,pe,ge,me=le.axes&&le.axes.lastCubeProps.axis||F,ve=le.showSurface,Me=le.showContour;for(ce=0;ce<3;++ce)for(ve=ve||le.surfaceProject[ce],pe=0;pe<3;++pe)Me=Me||le.contourProject[ce][pe];for(ce=0;ce<3;++ce){var _e=j.projections[ce];for(pe=0;pe<16;++pe)_e[pe]=0;for(pe=0;pe<4;++pe)_e[5*pe]=1;_e[5*ce]=0,_e[12+ce]=le.axesBounds[+(me[ce]>0)][ce],p(_e,ae.model,_e);var we=j.clipBounds[ce];for(ge=0;ge<2;++ge)for(pe=0;pe<3;++pe)we[ge][pe]=ae.clipBounds[ge][pe];we[0][ce]=-1e8,we[1][ce]=1e8}return j.showSurface=ve,j.showContour=Me,j}var te={model:O,view:O,projection:O,inverseModel:O.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},Q=O.slice(),$=[1,0,0,0,1,0,0,0,1];function G(ae,le){ae=ae||{};var ce=this.gl;ce.disable(ce.CULL_FACE),this._colorMap.bind(0);var pe=te;pe.model=ae.model||O,pe.view=ae.view||O,pe.projection=ae.projection||O,pe.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],pe.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],pe.objectOffset=this.objectOffset,pe.contourColor=this.contourColor[0],pe.inverseModel=v(pe.inverseModel,pe.model);for(var ge=0;ge<2;++ge)for(var me=pe.clipBounds[ge],ve=0;ve<3;++ve)me[ve]=Math.min(Math.max(this.clipBounds[ge][ve],-1e8),1e8);pe.kambient=this.ambientLight,pe.kdiffuse=this.diffuseLight,pe.kspecular=this.specularLight,pe.roughness=this.roughness,pe.fresnel=this.fresnel,pe.opacity=this.opacity,pe.height=0,pe.permutation=$,pe.vertexColor=this.vertexColor;var Me=Q;for(p(Me,pe.view,pe.model),p(Me,pe.projection,Me),v(Me,Me),ge=0;ge<3;++ge)pe.eyePosition[ge]=Me[12+ge]/Me[15];var _e=Me[15];for(ge=0;ge<3;++ge)_e+=this.lightPosition[ge]*Me[4*ge+3];for(ge=0;ge<3;++ge){var we=Me[12+ge];for(ve=0;ve<3;++ve)we+=Me[4*ve+ge]*this.lightPosition[ve];pe.lightPosition[ge]=we/_e}var oe=V(pe,this);if(oe.showSurface){for(this._shader.bind(),this._shader.uniforms=pe,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(ce.TRIANGLES,this._vertexCount),ge=0;ge<3;++ge)this.surfaceProject[ge]&&this.vertexCount&&(this._shader.uniforms.model=oe.projections[ge],this._shader.uniforms.clipBounds=oe.clipBounds[ge],this._vao.draw(ce.TRIANGLES,this._vertexCount));this._vao.unbind()}if(oe.showContour){var se=this._contourShader;pe.kambient=1,pe.kdiffuse=0,pe.kspecular=0,pe.opacity=1,se.bind(),se.uniforms=pe;var de=this._contourVAO;for(de.bind(),ge=0;ge<3;++ge)for(se.uniforms.permutation=z[ge],ce.lineWidth(this.contourWidth[ge]*this.pixelRatio),ve=0;ve<this.contourLevels[ge].length;++ve)ve===this.highlightLevel[ge]?(se.uniforms.contourColor=this.highlightColor[ge],se.uniforms.contourTint=this.highlightTint[ge]):ve!==0&&ve-1!==this.highlightLevel[ge]||(se.uniforms.contourColor=this.contourColor[ge],se.uniforms.contourTint=this.contourTint[ge]),this._contourCounts[ge][ve]&&(se.uniforms.height=this.contourLevels[ge][ve],de.draw(ce.LINES,this._contourCounts[ge][ve],this._contourOffsets[ge][ve]));for(ge=0;ge<3;++ge)for(se.uniforms.model=oe.projections[ge],se.uniforms.clipBounds=oe.clipBounds[ge],ve=0;ve<3;++ve)if(this.contourProject[ge][ve]){se.uniforms.permutation=z[ve],ce.lineWidth(this.contourWidth[ve]*this.pixelRatio);for(var Ee=0;Ee<this.contourLevels[ve].length;++Ee)Ee===this.highlightLevel[ve]?(se.uniforms.contourColor=this.highlightColor[ve],se.uniforms.contourTint=this.highlightTint[ve]):Ee!==0&&Ee-1!==this.highlightLevel[ve]||(se.uniforms.contourColor=this.contourColor[ve],se.uniforms.contourTint=this.contourTint[ve]),this._contourCounts[ve][Ee]&&(se.uniforms.height=this.contourLevels[ve][Ee],de.draw(ce.LINES,this._contourCounts[ve][Ee],this._contourOffsets[ve][Ee]))}for(de.unbind(),(de=this._dynamicVAO).bind(),ge=0;ge<3;++ge)if(this._dynamicCounts[ge]!==0)for(se.uniforms.model=pe.model,se.uniforms.clipBounds=pe.clipBounds,se.uniforms.permutation=z[ge],ce.lineWidth(this.dynamicWidth[ge]*this.pixelRatio),se.uniforms.contourColor=this.dynamicColor[ge],se.uniforms.contourTint=this.dynamicTint[ge],se.uniforms.height=this.dynamicLevel[ge],de.draw(ce.LINES,this._dynamicCounts[ge],this._dynamicOffsets[ge]),ve=0;ve<3;++ve)this.contourProject[ve][ge]&&(se.uniforms.model=oe.projections[ve],se.uniforms.clipBounds=oe.clipBounds[ve],de.draw(ce.LINES,this._dynamicCounts[ge],this._dynamicOffsets[ge]));de.unbind()}}Z.draw=function(ae){return G.call(this,ae,!1)},Z.drawTransparent=function(ae){return G.call(this,ae,!0)};var X={model:O,view:O,projection:O,inverseModel:O,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function J(ae,le){return Array.isArray(ae)?[le(ae[0]),le(ae[1]),le(ae[2])]:[le(ae),le(ae),le(ae)]}function ne(ae){return Array.isArray(ae)?ae.length===3?[ae[0],ae[1],ae[2],1]:[ae[0],ae[1],ae[2],ae[3]]:[0,0,0,1]}function ie(ae){if(Array.isArray(ae)){if(Array.isArray(ae))return[ne(ae[0]),ne(ae[1]),ne(ae[2])];var le=ne(ae);return[le.slice(),le.slice(),le.slice()]}}Z.drawPick=function(ae){ae=ae||{};var le=this.gl;le.disable(le.CULL_FACE);var ce=X;ce.model=ae.model||O,ce.view=ae.view||O,ce.projection=ae.projection||O,ce.shape=this._field[2].shape,ce.pickId=this.pickId/255,ce.lowerBound=this.bounds[0],ce.upperBound=this.bounds[1],ce.objectOffset=this.objectOffset,ce.permutation=$;for(var pe=0;pe<2;++pe)for(var ge=ce.clipBounds[pe],me=0;me<3;++me)ge[me]=Math.min(Math.max(this.clipBounds[pe][me],-1e8),1e8);var ve=V(ce,this);if(ve.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=ce,this._vao.bind(),this._vao.draw(le.TRIANGLES,this._vertexCount),pe=0;pe<3;++pe)this.surfaceProject[pe]&&(this._pickShader.uniforms.model=ve.projections[pe],this._pickShader.uniforms.clipBounds=ve.clipBounds[pe],this._vao.draw(le.TRIANGLES,this._vertexCount));this._vao.unbind()}if(ve.showContour){var Me=this._contourPickShader;Me.bind(),Me.uniforms=ce;var _e=this._contourVAO;for(_e.bind(),me=0;me<3;++me)for(le.lineWidth(this.contourWidth[me]*this.pixelRatio),Me.uniforms.permutation=z[me],pe=0;pe<this.contourLevels[me].length;++pe)this._contourCounts[me][pe]&&(Me.uniforms.height=this.contourLevels[me][pe],_e.draw(le.LINES,this._contourCounts[me][pe],this._contourOffsets[me][pe]));for(pe=0;pe<3;++pe)for(Me.uniforms.model=ve.projections[pe],Me.uniforms.clipBounds=ve.clipBounds[pe],me=0;me<3;++me)if(this.contourProject[pe][me]){Me.uniforms.permutation=z[me],le.lineWidth(this.contourWidth[me]*this.pixelRatio);for(var we=0;we<this.contourLevels[me].length;++we)this._contourCounts[me][we]&&(Me.uniforms.height=this.contourLevels[me][we],_e.draw(le.LINES,this._contourCounts[me][we],this._contourOffsets[me][we]))}_e.unbind()}},Z.pick=function(ae){if(!ae||ae.id!==this.pickId)return null;var le=this._field[2].shape,ce=this._pickResult,pe=le[0]*(ae.value[0]+(ae.value[2]>>4)/16)/255,ge=Math.floor(pe),me=pe-ge,ve=le[1]*(ae.value[1]+(15&ae.value[2])/16)/255,Me=Math.floor(ve),_e=ve-Me;ge+=1,Me+=1;var we=ce.position;we[0]=we[1]=we[2]=0;for(var oe=0;oe<2;++oe)for(var se=oe?me:1-me,de=0;de<2;++de)for(var Ee=ge+oe,Te=Me+de,Se=se*(de?_e:1-_e),Le=0;Le<3;++Le)we[Le]+=this._field[Le].get(Ee,Te)*Se;for(var Oe=this._pickResult.level,he=0;he<3;++he)if(Oe[he]=y.le(this.contourLevels[he],we[he]),Oe[he]<0)this.contourLevels[he].length>0&&(Oe[he]=0);else if(Oe[he]<this.contourLevels[he].length-1){var xe=this.contourLevels[he][Oe[he]],ke=this.contourLevels[he][Oe[he]+1];Math.abs(xe-we[he])>Math.abs(ke-we[he])&&(Oe[he]+=1)}for(ce.index[0]=me<.5?ge:ge+1,ce.index[1]=_e<.5?Me:Me+1,ce.uv[0]=pe/le[0],ce.uv[1]=ve/le[1],Le=0;Le<3;++Le)ce.dataCoordinate[Le]=this._field[Le].get(ce.index[0],ce.index[1]);return ce},Z.padField=function(ae,le){var ce=le.shape.slice(),pe=ae.shape.slice();d.assign(ae.lo(1,1).hi(ce[0],ce[1]),le),d.assign(ae.lo(1).hi(ce[0],1),le.hi(ce[0],1)),d.assign(ae.lo(1,pe[1]-1).hi(ce[0],1),le.lo(0,ce[1]-1).hi(ce[0],1)),d.assign(ae.lo(0,1).hi(1,ce[1]),le.hi(1)),d.assign(ae.lo(pe[0]-1,1).hi(1,ce[1]),le.lo(ce[0]-1)),ae.set(0,0,le.get(0,0)),ae.set(0,pe[1]-1,le.get(0,ce[1]-1)),ae.set(pe[0]-1,0,le.get(ce[0]-1,0)),ae.set(pe[0]-1,pe[1]-1,le.get(ce[0]-1,ce[1]-1))},Z.update=function(ae){ae=ae||{},this.objectOffset=ae.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in ae&&(this.contourWidth=J(ae.contourWidth,Number)),"showContour"in ae&&(this.showContour=J(ae.showContour,Boolean)),"showSurface"in ae&&(this.showSurface=!!ae.showSurface),"contourTint"in ae&&(this.contourTint=J(ae.contourTint,Boolean)),"contourColor"in ae&&(this.contourColor=ie(ae.contourColor)),"contourProject"in ae&&(this.contourProject=J(ae.contourProject,function(un){return J(un,Boolean)})),"surfaceProject"in ae&&(this.surfaceProject=ae.surfaceProject),"dynamicColor"in ae&&(this.dynamicColor=ie(ae.dynamicColor)),"dynamicTint"in ae&&(this.dynamicTint=J(ae.dynamicTint,Number)),"dynamicWidth"in ae&&(this.dynamicWidth=J(ae.dynamicWidth,Number)),"opacity"in ae&&(this.opacity=ae.opacity),"opacityscale"in ae&&(this.opacityscale=ae.opacityscale),"colorBounds"in ae&&(this.colorBounds=ae.colorBounds),"vertexColor"in ae&&(this.vertexColor=ae.vertexColor?1:0),"colormap"in ae&&this._colorMap.setPixels(this.genColormap(ae.colormap,this.opacityscale));var le=ae.field||ae.coords&&ae.coords[2]||null,ce=!1;if(le||(le=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in ae||"coords"in ae){var pe=(le.shape[0]+2)*(le.shape[1]+2);pe>this._field[2].data.length&&(l.freeFloat(this._field[2].data),this._field[2].data=l.mallocFloat(i.nextPow2(pe))),this._field[2]=x(this._field[2].data,[le.shape[0]+2,le.shape[1]+2]),this.padField(this._field[2],le),this.shape=le.shape.slice();for(var ge=this.shape,me=0;me<2;++me)this._field[2].size>this._field[me].data.length&&(l.freeFloat(this._field[me].data),this._field[me].data=l.mallocFloat(this._field[2].size)),this._field[me]=x(this._field[me].data,[ge[0]+2,ge[1]+2]);if(ae.coords){var ve=ae.coords;if(!Array.isArray(ve)||ve.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(me=0;me<2;++me){var Me=ve[me];for(de=0;de<2;++de)if(Me.shape[de]!==ge[de])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[me],Me)}}else if(ae.ticks){var _e=ae.ticks;if(!Array.isArray(_e)||_e.length!==2)throw new Error("gl-surface: invalid ticks");for(me=0;me<2;++me){var we=_e[me];if((Array.isArray(we)||we.length)&&(we=x(we)),we.shape[0]!==ge[me])throw new Error("gl-surface: invalid tick length");var oe=x(we.data,ge);oe.stride[me]=we.stride[0],oe.stride[1^me]=0,this.padField(this._field[me],oe)}}else{for(me=0;me<2;++me){var se=[0,0];se[me]=1,this._field[me]=x(this._field[me].data,[ge[0]+2,ge[1]+2],se,0)}this._field[0].set(0,0,0);for(var de=0;de<ge[0];++de)this._field[0].set(de+1,0,de);for(this._field[0].set(ge[0]+1,0,ge[0]-1),this._field[1].set(0,0,0),de=0;de<ge[1];++de)this._field[1].set(0,de+1,de);this._field[1].set(0,ge[1]+1,ge[1]-1)}var Ee=this._field,Te=x(l.mallocFloat(3*Ee[2].size*2),[3,ge[0]+2,ge[1]+2,2]);for(me=0;me<3;++me)m(Te.pick(me),Ee[me],"mirror");var Se=x(l.mallocFloat(3*Ee[2].size),[ge[0]+2,ge[1]+2,3]);for(me=0;me<ge[0]+2;++me)for(de=0;de<ge[1]+2;++de){var Le=Te.get(0,me,de,0),Oe=Te.get(0,me,de,1),he=Te.get(1,me,de,0),xe=Te.get(1,me,de,1),ke=Te.get(2,me,de,0),Re=Te.get(2,me,de,1),ze=he*Re-xe*ke,Ie=ke*Oe-Re*Le,He=Le*xe-Oe*he,qe=Math.sqrt(ze*ze+Ie*Ie+He*He);qe<1e-8?(qe=Math.max(Math.abs(ze),Math.abs(Ie),Math.abs(He)))<1e-8?(He=1,Ie=ze=0,qe=1):qe=1/qe:qe=1/Math.sqrt(qe),Se.set(me,de,0,ze*qe),Se.set(me,de,1,Ie*qe),Se.set(me,de,2,He*qe)}l.free(Te.data);var Je=[1/0,1/0,1/0],st=[-1/0,-1/0,-1/0],it=1/0,vt=-1/0,_t=(ge[0]-1)*(ge[1]-1)*6,xt=l.mallocFloat(i.nextPow2(10*_t)),et=0,nt=0;for(me=0;me<ge[0]-1;++me)e:for(de=0;de<ge[1]-1;++de){for(var Mt=0;Mt<2;++Mt)for(var zt=0;zt<2;++zt)for(var Ft=0;Ft<3;++Ft){var Rt=this._field[Ft].get(1+me+Mt,1+de+zt);if(isNaN(Rt)||!isFinite(Rt))continue e}for(Ft=0;Ft<6;++Ft){var We=me+I[Ft][0],Ze=de+I[Ft][1],Ne=this._field[0].get(We+1,Ze+1),Ye=this._field[1].get(We+1,Ze+1);Rt=this._field[2].get(We+1,Ze+1),ze=Se.get(We+1,Ze+1,0),Ie=Se.get(We+1,Ze+1,1),He=Se.get(We+1,Ze+1,2),ae.intensity&&(lt=ae.intensity.get(We,Ze));var lt=ae.intensity?ae.intensity.get(We,Ze):Rt+this.objectOffset[2];xt[et++]=We,xt[et++]=Ze,xt[et++]=Ne,xt[et++]=Ye,xt[et++]=Rt,xt[et++]=0,xt[et++]=lt,xt[et++]=ze,xt[et++]=Ie,xt[et++]=He,Je[0]=Math.min(Je[0],Ne+this.objectOffset[0]),Je[1]=Math.min(Je[1],Ye+this.objectOffset[1]),Je[2]=Math.min(Je[2],Rt+this.objectOffset[2]),it=Math.min(it,lt),st[0]=Math.max(st[0],Ne+this.objectOffset[0]),st[1]=Math.max(st[1],Ye+this.objectOffset[1]),st[2]=Math.max(st[2],Rt+this.objectOffset[2]),vt=Math.max(vt,lt),nt+=1}}for(ae.intensityBounds&&(it=+ae.intensityBounds[0],vt=+ae.intensityBounds[1]),me=6;me<et;me+=10)xt[me]=(xt[me]-it)/(vt-it);this._vertexCount=nt,this._coordinateBuffer.update(xt.subarray(0,et)),l.freeFloat(xt),l.free(Se.data),this.bounds=[Je,st],this.intensity=ae.intensity||this._field[2],this.intensityBounds[0]===it&&this.intensityBounds[1]===vt||(ce=!0),this.intensityBounds=[it,vt]}if("levels"in ae){var at=ae.levels;for(at=Array.isArray(at[0])?at.slice():[[],[],at],me=0;me<3;++me)at[me]=at[me].slice(),at[me].sort(function(un,rn){return un-rn});for(me=0;me<3;++me)for(de=0;de<at[me].length;++de)at[me][de]-=this.objectOffset[me];e:for(me=0;me<3;++me){if(at[me].length!==this.contourLevels[me].length){ce=!0;break}for(de=0;de<at[me].length;++de)if(at[me][de]!==this.contourLevels[me][de]){ce=!0;break e}}this.contourLevels=at}if(ce){Ee=this._field,ge=this.shape;for(var Fe=[],Be=0;Be<3;++Be){var ot=this.contourLevels[Be],Xe=[],pt=[],mt=[0,0,0];for(me=0;me<ot.length;++me){var yt=g(this._field[Be],ot[me]);Xe.push(Fe.length/5|0),nt=0;e:for(de=0;de<yt.cells.length;++de){var ht=yt.cells[de];for(Ft=0;Ft<2;++Ft){var Lt=yt.positions[ht[Ft]],Tt=Lt[0],bt=0|Math.floor(Tt),Pt=Tt-bt,Ot=Lt[1],Bt=0|Math.floor(Ot),Kt=Ot-Bt,on=!1;t:for(var qt=0;qt<3;++qt){mt[qt]=0;var Wt=(Be+qt+1)%3;for(Mt=0;Mt<2;++Mt){var nn=Mt?Pt:1-Pt;for(We=0|Math.min(Math.max(bt+Mt,0),ge[0]),zt=0;zt<2;++zt){var En=zt?Kt:1-Kt;if(Ze=0|Math.min(Math.max(Bt+zt,0),ge[1]),Rt=qt<2?this._field[Wt].get(We,Ze):(this.intensity.get(We,Ze)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Rt)||isNaN(Rt)){on=!0;break t}var Mn=nn*En;mt[qt]+=Mn*Rt}}}if(on){if(Ft>0){for(var dn=0;dn<5;++dn)Fe.pop();nt-=1}continue e}Fe.push(mt[0],mt[1],Lt[0],Lt[1],mt[2]),nt+=1}}pt.push(nt)}this._contourOffsets[Be]=Xe,this._contourCounts[Be]=pt}var Jt=l.mallocFloat(Fe.length);for(me=0;me<Fe.length;++me)Jt[me]=Fe[me];this._contourBuffer.update(Jt),l.freeFloat(Jt)}},Z.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var ae=0;ae<3;++ae)l.freeFloat(this._field[ae].data)},Z.highlight=function(ae){var le,ce;if(!ae)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(le=0;le<3;++le)this.enableHighlight[le]?this.highlightLevel[le]=ae.level[le]:this.highlightLevel[le]=-1;for(ce=this.snapToData?ae.dataCoordinate:ae.position,le=0;le<3;++le)ce[le]-=this.objectOffset[le];if(this.enableDynamic[0]&&ce[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&ce[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&ce[2]!==this.dynamicLevel[2]){for(var pe=0,ge=this.shape,me=l.mallocFloat(12*ge[0]*ge[1]),ve=0;ve<3;++ve)if(this.enableDynamic[ve]){this.dynamicLevel[ve]=ce[ve];var Me=(ve+1)%3,_e=(ve+2)%3,we=this._field[ve],oe=this._field[Me],se=this._field[_e],de=g(we,ce[ve]),Ee=de.cells,Te=de.positions;for(this._dynamicOffsets[ve]=pe,le=0;le<Ee.length;++le)for(var Se=Ee[le],Le=0;Le<2;++Le){var Oe=Te[Se[Le]],he=+Oe[0],xe=0|he,ke=0|Math.min(xe+1,ge[0]),Re=he-xe,ze=1-Re,Ie=+Oe[1],He=0|Ie,qe=0|Math.min(He+1,ge[1]),Je=Ie-He,st=1-Je,it=ze*st,vt=ze*Je,_t=Re*st,xt=Re*Je,et=it*oe.get(xe,He)+vt*oe.get(xe,qe)+_t*oe.get(ke,He)+xt*oe.get(ke,qe),nt=it*se.get(xe,He)+vt*se.get(xe,qe)+_t*se.get(ke,He)+xt*se.get(ke,qe);if(isNaN(et)||isNaN(nt)){Le&&(pe-=1);break}me[2*pe+0]=et,me[2*pe+1]=nt,pe+=1}this._dynamicCounts[ve]=pe-this._dynamicOffsets[ve]}else this.dynamicLevel[ve]=NaN,this._dynamicCounts[ve]=0;this._dynamicBuffer.update(me.subarray(0,2*pe)),l.freeFloat(me)}}},8931:function(h,o,t){var i=t(5050),n=t(7498),r=t(5306);h.exports=function(_){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(s||function(T){s=[T.LINEAR,T.NEAREST_MIPMAP_LINEAR,T.LINEAR_MIPMAP_NEAREST,T.LINEAR_MIPMAP_NEAREST],l=[T.NEAREST,T.LINEAR,T.NEAREST_MIPMAP_NEAREST,T.NEAREST_MIPMAP_LINEAR,T.LINEAR_MIPMAP_NEAREST,T.LINEAR_MIPMAP_LINEAR],u=[T.REPEAT,T.CLAMP_TO_EDGE,T.MIRRORED_REPEAT]}(_),typeof arguments[1]=="number")return m(_,arguments[1],arguments[2],arguments[3]||_.RGBA,arguments[4]||_.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return m(_,0|arguments[1][0],0|arguments[1][1],arguments[2]||_.RGBA,arguments[3]||_.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var f=arguments[1],S=d(f)?f:f.raw;if(S)return function(T,E,C,O,I,z){var U=y(T);return T.texImage2D(T.TEXTURE_2D,0,I,I,z,E),new g(T,U,C,O,I,z)}(_,S,0|f.width,0|f.height,arguments[2]||_.RGBA,arguments[3]||_.UNSIGNED_BYTE);if(f.shape&&f.data&&f.stride)return function(T,E){var C=E.dtype,O=E.shape.slice(),I=T.getParameter(T.MAX_TEXTURE_SIZE);if(O[0]<0||O[0]>I||O[1]<0||O[1]>I)throw new Error("gl-texture2d: Invalid texture size");var z=v(O,E.stride.slice()),U=0;C==="float32"?U=T.FLOAT:C==="float64"?(U=T.FLOAT,z=!1,C="float32"):C==="uint8"?U=T.UNSIGNED_BYTE:(U=T.UNSIGNED_BYTE,z=!1,C="uint8");var D,B,Z=0;if(O.length===2)Z=T.LUMINANCE,O=[O[0],O[1],1],E=i(E.data,O,[E.stride[0],E.stride[1],1],E.offset);else{if(O.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(O[2]===1)Z=T.ALPHA;else if(O[2]===2)Z=T.LUMINANCE_ALPHA;else if(O[2]===3)Z=T.RGB;else{if(O[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");Z=T.RGBA}}U!==T.FLOAT||T.getExtension("OES_texture_float")||(U=T.UNSIGNED_BYTE,z=!1);var F=E.size;if(z)D=E.offset===0&&E.data.length===F?E.data:E.data.subarray(E.offset,E.offset+F);else{var j=[O[2],O[2]*O[0],1];B=r.malloc(F,C);var V=i(B,O,j,0);C!=="float32"&&C!=="float64"||U!==T.UNSIGNED_BYTE?n.assign(V,E):c(V,E),D=B.subarray(0,F)}var te=y(T);return T.texImage2D(T.TEXTURE_2D,0,Z,O[0],O[1],0,Z,U,D),z||r.free(B),new g(T,te,O[0],O[1],Z,U)}(_,f)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var s=null,l=null,u=null;function d(_){return typeof HTMLCanvasElement<"u"&&_ instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&_ instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&_ instanceof HTMLVideoElement||typeof ImageData<"u"&&_ instanceof ImageData}var c=function(_,f){n.muls(_,f,255)};function x(_,f,S){var T=_.gl,E=T.getParameter(T.MAX_TEXTURE_SIZE);if(f<0||f>E||S<0||S>E)throw new Error("gl-texture2d: Invalid texture size");return _._shape=[f,S],_.bind(),T.texImage2D(T.TEXTURE_2D,0,_.format,f,S,0,_.format,_.type,null),_._mipLevels=[0],_}function g(_,f,S,T,E,C){this.gl=_,this.handle=f,this.format=E,this.type=C,this._shape=[S,T],this._mipLevels=[0],this._magFilter=_.NEAREST,this._minFilter=_.NEAREST,this._wrapS=_.CLAMP_TO_EDGE,this._wrapT=_.CLAMP_TO_EDGE,this._anisoSamples=1;var O=this,I=[this._wrapS,this._wrapT];Object.defineProperties(I,[{get:function(){return O._wrapS},set:function(U){return O.wrapS=U}},{get:function(){return O._wrapT},set:function(U){return O.wrapT=U}}]),this._wrapVector=I;var z=[this._shape[0],this._shape[1]];Object.defineProperties(z,[{get:function(){return O._shape[0]},set:function(U){return O.width=U}},{get:function(){return O._shape[1]},set:function(U){return O.height=U}}]),this._shapeVector=z}var p=g.prototype;function v(_,f){return _.length===3?f[2]===1&&f[1]===_[0]*_[2]&&f[0]===_[2]:f[0]===1&&f[1]===_[0]}function y(_){var f=_.createTexture();return _.bindTexture(_.TEXTURE_2D,f),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.NEAREST),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),f}function m(_,f,S,T,E){var C=_.getParameter(_.MAX_TEXTURE_SIZE);if(f<0||f>C||S<0||S>C)throw new Error("gl-texture2d: Invalid texture shape");if(E===_.FLOAT&&!_.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var O=y(_);return _.texImage2D(_.TEXTURE_2D,0,T,f,S,0,T,E,null),new g(_,O,f,S,T,E)}Object.defineProperties(p,{minFilter:{get:function(){return this._minFilter},set:function(_){this.bind();var f=this.gl;if(this.type===f.FLOAT&&s.indexOf(_)>=0&&(f.getExtension("OES_texture_float_linear")||(_=f.NEAREST)),l.indexOf(_)<0)throw new Error("gl-texture2d: Unknown filter mode "+_);return f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,_),this._minFilter=_}},magFilter:{get:function(){return this._magFilter},set:function(_){this.bind();var f=this.gl;if(this.type===f.FLOAT&&s.indexOf(_)>=0&&(f.getExtension("OES_texture_float_linear")||(_=f.NEAREST)),l.indexOf(_)<0)throw new Error("gl-texture2d: Unknown filter mode "+_);return f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,_),this._magFilter=_}},mipSamples:{get:function(){return this._anisoSamples},set:function(_){var f=this._anisoSamples;if(this._anisoSamples=0|Math.max(_,1),f!==this._anisoSamples){var S=this.gl.getExtension("EXT_texture_filter_anisotropic");S&&this.gl.texParameterf(this.gl.TEXTURE_2D,S.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(_){if(this.bind(),u.indexOf(_)<0)throw new Error("gl-texture2d: Unknown wrap mode "+_);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,_),this._wrapS=_}},wrapT:{get:function(){return this._wrapT},set:function(_){if(this.bind(),u.indexOf(_)<0)throw new Error("gl-texture2d: Unknown wrap mode "+_);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,_),this._wrapT=_}},wrap:{get:function(){return this._wrapVector},set:function(_){if(Array.isArray(_)||(_=[_,_]),_.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var f=0;f<2;++f)if(u.indexOf(_[f])<0)throw new Error("gl-texture2d: Unknown wrap mode "+_);this._wrapS=_[0],this._wrapT=_[1];var S=this.gl;return this.bind(),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,this._wrapS),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,this._wrapT),_}},shape:{get:function(){return this._shapeVector},set:function(_){if(Array.isArray(_)){if(_.length!==2)throw new Error("gl-texture2d: Invalid texture shape")}else _=[0|_,0|_];return x(this,0|_[0],0|_[1]),[0|_[0],0|_[1]]}},width:{get:function(){return this._shape[0]},set:function(_){return x(this,_|=0,this._shape[1]),_}},height:{get:function(){return this._shape[1]},set:function(_){return _|=0,x(this,this._shape[0],_),_}}}),p.bind=function(_){var f=this.gl;return _!==void 0&&f.activeTexture(f.TEXTURE0+(0|_)),f.bindTexture(f.TEXTURE_2D,this.handle),_!==void 0?0|_:f.getParameter(f.ACTIVE_TEXTURE)-f.TEXTURE0},p.dispose=function(){this.gl.deleteTexture(this.handle)},p.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var _=Math.min(this._shape[0],this._shape[1]),f=0;_>0;++f,_>>>=1)this._mipLevels.indexOf(f)<0&&this._mipLevels.push(f)},p.setPixels=function(_,f,S,T){var E=this.gl;this.bind(),Array.isArray(f)?(T=S,S=0|f[1],f=0|f[0]):(f=f||0,S=S||0),T=T||0;var C=d(_)?_:_.raw;if(C)this._mipLevels.indexOf(T)<0?(E.texImage2D(E.TEXTURE_2D,0,this.format,this.format,this.type,C),this._mipLevels.push(T)):E.texSubImage2D(E.TEXTURE_2D,T,f,S,this.format,this.type,C);else{if(!(_.shape&&_.stride&&_.data))throw new Error("gl-texture2d: Unsupported data type");if(_.shape.length<2||f+_.shape[1]>this._shape[1]>>>T||S+_.shape[0]>this._shape[0]>>>T||f<0||S<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");(function(O,I,z,U,D,B,Z,F){var j=F.dtype,V=F.shape.slice();if(V.length<2||V.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var te=0,Q=0,$=v(V,F.stride.slice());if(j==="float32"?te=O.FLOAT:j==="float64"?(te=O.FLOAT,$=!1,j="float32"):j==="uint8"?te=O.UNSIGNED_BYTE:(te=O.UNSIGNED_BYTE,$=!1,j="uint8"),V.length===2)Q=O.LUMINANCE,V=[V[0],V[1],1],F=i(F.data,V,[F.stride[0],F.stride[1],1],F.offset);else{if(V.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(V[2]===1)Q=O.ALPHA;else if(V[2]===2)Q=O.LUMINANCE_ALPHA;else if(V[2]===3)Q=O.RGB;else{if(V[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");Q=O.RGBA}V[2]}if(Q!==O.LUMINANCE&&Q!==O.ALPHA||D!==O.LUMINANCE&&D!==O.ALPHA||(Q=D),Q!==D)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var G=F.size,X=Z.indexOf(U)<0;if(X&&Z.push(U),te===B&&$)F.offset===0&&F.data.length===G?X?O.texImage2D(O.TEXTURE_2D,U,D,V[0],V[1],0,D,B,F.data):O.texSubImage2D(O.TEXTURE_2D,U,I,z,V[0],V[1],D,B,F.data):X?O.texImage2D(O.TEXTURE_2D,U,D,V[0],V[1],0,D,B,F.data.subarray(F.offset,F.offset+G)):O.texSubImage2D(O.TEXTURE_2D,U,I,z,V[0],V[1],D,B,F.data.subarray(F.offset,F.offset+G));else{var J;J=B===O.FLOAT?r.mallocFloat32(G):r.mallocUint8(G);var ne=i(J,V,[V[2],V[2]*V[0],1]);te===O.FLOAT&&B===O.UNSIGNED_BYTE?c(ne,F):n.assign(ne,F),X?O.texImage2D(O.TEXTURE_2D,U,D,V[0],V[1],0,D,B,J.subarray(0,G)):O.texSubImage2D(O.TEXTURE_2D,U,I,z,V[0],V[1],D,B,J.subarray(0,G)),B===O.FLOAT?r.freeFloat32(J):r.freeUint8(J)}})(E,f,S,T,this.format,this.type,this._mipLevels,_)}}},3056:function(h){h.exports=function(o,t,i){t?t.bind():o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,null);var n=0|o.getParameter(o.MAX_VERTEX_ATTRIBS);if(i){if(i.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var r=0;r<i.length;++r){var s=i[r];if(s.buffer){var l=s.buffer,u=s.size||4,d=s.type||o.FLOAT,c=!!s.normalized,x=s.stride||0,g=s.offset||0;l.bind(),o.enableVertexAttribArray(r),o.vertexAttribPointer(r,u,d,c,x,g)}else{if(typeof s=="number")o.vertexAttrib1f(r,s);else if(s.length===1)o.vertexAttrib1f(r,s[0]);else if(s.length===2)o.vertexAttrib2f(r,s[0],s[1]);else if(s.length===3)o.vertexAttrib3f(r,s[0],s[1],s[2]);else{if(s.length!==4)throw new Error("gl-vao: Invalid vertex attribute");o.vertexAttrib4f(r,s[0],s[1],s[2],s[3])}o.disableVertexAttribArray(r)}}for(;r<n;++r)o.disableVertexAttribArray(r)}else for(o.bindBuffer(o.ARRAY_BUFFER,null),r=0;r<n;++r)o.disableVertexAttribArray(r)}},7220:function(h,o,t){var i=t(3056);function n(r){this.gl=r,this._elements=null,this._attributes=null,this._elementsType=r.UNSIGNED_SHORT}n.prototype.bind=function(){i(this.gl,this._elements,this._attributes)},n.prototype.update=function(r,s,l){this._elements=s,this._attributes=r,this._elementsType=l||this.gl.UNSIGNED_SHORT},n.prototype.dispose=function(){},n.prototype.unbind=function(){},n.prototype.draw=function(r,s,l){l=l||0;var u=this.gl;this._elements?u.drawElements(r,s,this._elementsType,l):u.drawArrays(r,l,s)},h.exports=function(r){return new n(r)}},3778:function(h,o,t){var i=t(3056);function n(s,l,u,d,c,x){this.location=s,this.dimension=l,this.a=u,this.b=d,this.c=c,this.d=x}function r(s,l,u){this.gl=s,this._ext=l,this.handle=u,this._attribs=[],this._useElements=!1,this._elementsType=s.UNSIGNED_SHORT}n.prototype.bind=function(s){switch(this.dimension){case 1:s.vertexAttrib1f(this.location,this.a);break;case 2:s.vertexAttrib2f(this.location,this.a,this.b);break;case 3:s.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:s.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},r.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var s=0;s<this._attribs.length;++s)this._attribs[s].bind(this.gl)},r.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},r.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},r.prototype.update=function(s,l,u){if(this.bind(),i(this.gl,l,s),this.unbind(),this._attribs.length=0,s)for(var d=0;d<s.length;++d){var c=s[d];typeof c=="number"?this._attribs.push(new n(d,1,c)):Array.isArray(c)&&this._attribs.push(new n(d,c.length,c[0],c[1],c[2],c[3]))}this._useElements=!!l,this._elementsType=u||this.gl.UNSIGNED_SHORT},r.prototype.draw=function(s,l,u){u=u||0;var d=this.gl;this._useElements?d.drawElements(s,l,this._elementsType,u):d.drawArrays(s,u,l)},h.exports=function(s,l){return new r(s,l,l.createVertexArrayOES())}},2944:function(h,o,t){var i=t(3778),n=t(7220);function r(s){this.bindVertexArrayOES=s.bindVertexArray.bind(s),this.createVertexArrayOES=s.createVertexArray.bind(s),this.deleteVertexArrayOES=s.deleteVertexArray.bind(s)}h.exports=function(s,l,u,d){var c,x=s.createVertexArray?new r(s):s.getExtension("OES_vertex_array_object");return(c=x?i(s,x):n(s)).update(l,u,d),c}},2598:function(h){h.exports=function(o,t,i){return o[0]=t[0]+i[0],o[1]=t[1]+i[1],o[2]=t[2]+i[2],o}},5879:function(h,o,t){h.exports=function(s,l){var u=i(s[0],s[1],s[2]),d=i(l[0],l[1],l[2]);n(u,u),n(d,d);var c=r(u,d);return c>1?0:Math.acos(c)};var i=t(5415),n=t(899),r=t(9305)},8827:function(h){h.exports=function(o,t){return o[0]=Math.ceil(t[0]),o[1]=Math.ceil(t[1]),o[2]=Math.ceil(t[2]),o}},7622:function(h){h.exports=function(o){var t=new Float32Array(3);return t[0]=o[0],t[1]=o[1],t[2]=o[2],t}},8782:function(h){h.exports=function(o,t){return o[0]=t[0],o[1]=t[1],o[2]=t[2],o}},8501:function(h){h.exports=function(){var o=new Float32Array(3);return o[0]=0,o[1]=0,o[2]=0,o}},903:function(h){h.exports=function(o,t,i){var n=t[0],r=t[1],s=t[2],l=i[0],u=i[1],d=i[2];return o[0]=r*d-s*u,o[1]=s*l-n*d,o[2]=n*u-r*l,o}},5981:function(h,o,t){h.exports=t(8288)},8288:function(h){h.exports=function(o,t){var i=t[0]-o[0],n=t[1]-o[1],r=t[2]-o[2];return Math.sqrt(i*i+n*n+r*r)}},8629:function(h,o,t){h.exports=t(7979)},7979:function(h){h.exports=function(o,t,i){return o[0]=t[0]/i[0],o[1]=t[1]/i[1],o[2]=t[2]/i[2],o}},9305:function(h){h.exports=function(o,t){return o[0]*t[0]+o[1]*t[1]+o[2]*t[2]}},154:function(h){h.exports=1e-6},4932:function(h,o,t){h.exports=function(n,r){var s=n[0],l=n[1],u=n[2],d=r[0],c=r[1],x=r[2];return Math.abs(s-d)<=i*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(l-c)<=i*Math.max(1,Math.abs(l),Math.abs(c))&&Math.abs(u-x)<=i*Math.max(1,Math.abs(u),Math.abs(x))};var i=t(154)},5777:function(h){h.exports=function(o,t){return o[0]===t[0]&&o[1]===t[1]&&o[2]===t[2]}},3306:function(h){h.exports=function(o,t){return o[0]=Math.floor(t[0]),o[1]=Math.floor(t[1]),o[2]=Math.floor(t[2]),o}},7447:function(h,o,t){h.exports=function(n,r,s,l,u,d){var c,x;for(r||(r=3),s||(s=0),x=l?Math.min(l*r+s,n.length):n.length,c=s;c<x;c+=r)i[0]=n[c],i[1]=n[c+1],i[2]=n[c+2],u(i,i,d),n[c]=i[0],n[c+1]=i[1],n[c+2]=i[2];return n};var i=t(8501)()},5415:function(h){h.exports=function(o,t,i){var n=new Float32Array(3);return n[0]=o,n[1]=t,n[2]=i,n}},2858:function(h,o,t){h.exports={EPSILON:t(154),create:t(8501),clone:t(7622),angle:t(5879),fromValues:t(5415),copy:t(8782),set:t(831),equals:t(4932),exactEquals:t(5777),add:t(2598),subtract:t(911),sub:t(8921),multiply:t(105),mul:t(5733),divide:t(7979),div:t(8629),min:t(3605),max:t(1716),floor:t(3306),ceil:t(8827),round:t(1624),scale:t(5685),scaleAndAdd:t(6722),distance:t(8288),dist:t(5981),squaredDistance:t(6403),sqrDist:t(5294),length:t(4693),len:t(1468),squaredLength:t(4337),sqrLen:t(3303),negate:t(435),inverse:t(2073),normalize:t(899),dot:t(9305),cross:t(903),lerp:t(1868),random:t(6660),transformMat4:t(3255),transformMat3:t(9908),transformQuat:t(6568),rotateX:t(392),rotateY:t(3222),rotateZ:t(3388),forEach:t(7447)}},2073:function(h){h.exports=function(o,t){return o[0]=1/t[0],o[1]=1/t[1],o[2]=1/t[2],o}},1468:function(h,o,t){h.exports=t(4693)},4693:function(h){h.exports=function(o){var t=o[0],i=o[1],n=o[2];return Math.sqrt(t*t+i*i+n*n)}},1868:function(h){h.exports=function(o,t,i,n){var r=t[0],s=t[1],l=t[2];return o[0]=r+n*(i[0]-r),o[1]=s+n*(i[1]-s),o[2]=l+n*(i[2]-l),o}},1716:function(h){h.exports=function(o,t,i){return o[0]=Math.max(t[0],i[0]),o[1]=Math.max(t[1],i[1]),o[2]=Math.max(t[2],i[2]),o}},3605:function(h){h.exports=function(o,t,i){return o[0]=Math.min(t[0],i[0]),o[1]=Math.min(t[1],i[1]),o[2]=Math.min(t[2],i[2]),o}},5733:function(h,o,t){h.exports=t(105)},105:function(h){h.exports=function(o,t,i){return o[0]=t[0]*i[0],o[1]=t[1]*i[1],o[2]=t[2]*i[2],o}},435:function(h){h.exports=function(o,t){return o[0]=-t[0],o[1]=-t[1],o[2]=-t[2],o}},899:function(h){h.exports=function(o,t){var i=t[0],n=t[1],r=t[2],s=i*i+n*n+r*r;return s>0&&(s=1/Math.sqrt(s),o[0]=t[0]*s,o[1]=t[1]*s,o[2]=t[2]*s),o}},6660:function(h){h.exports=function(o,t){t=t||1;var i=2*Math.random()*Math.PI,n=2*Math.random()-1,r=Math.sqrt(1-n*n)*t;return o[0]=Math.cos(i)*r,o[1]=Math.sin(i)*r,o[2]=n*t,o}},392:function(h){h.exports=function(o,t,i,n){var r=i[1],s=i[2],l=t[1]-r,u=t[2]-s,d=Math.sin(n),c=Math.cos(n);return o[0]=t[0],o[1]=r+l*c-u*d,o[2]=s+l*d+u*c,o}},3222:function(h){h.exports=function(o,t,i,n){var r=i[0],s=i[2],l=t[0]-r,u=t[2]-s,d=Math.sin(n),c=Math.cos(n);return o[0]=r+u*d+l*c,o[1]=t[1],o[2]=s+u*c-l*d,o}},3388:function(h){h.exports=function(o,t,i,n){var r=i[0],s=i[1],l=t[0]-r,u=t[1]-s,d=Math.sin(n),c=Math.cos(n);return o[0]=r+l*c-u*d,o[1]=s+l*d+u*c,o[2]=t[2],o}},1624:function(h){h.exports=function(o,t){return o[0]=Math.round(t[0]),o[1]=Math.round(t[1]),o[2]=Math.round(t[2]),o}},5685:function(h){h.exports=function(o,t,i){return o[0]=t[0]*i,o[1]=t[1]*i,o[2]=t[2]*i,o}},6722:function(h){h.exports=function(o,t,i,n){return o[0]=t[0]+i[0]*n,o[1]=t[1]+i[1]*n,o[2]=t[2]+i[2]*n,o}},831:function(h){h.exports=function(o,t,i,n){return o[0]=t,o[1]=i,o[2]=n,o}},5294:function(h,o,t){h.exports=t(6403)},3303:function(h,o,t){h.exports=t(4337)},6403:function(h){h.exports=function(o,t){var i=t[0]-o[0],n=t[1]-o[1],r=t[2]-o[2];return i*i+n*n+r*r}},4337:function(h){h.exports=function(o){var t=o[0],i=o[1],n=o[2];return t*t+i*i+n*n}},8921:function(h,o,t){h.exports=t(911)},911:function(h){h.exports=function(o,t,i){return o[0]=t[0]-i[0],o[1]=t[1]-i[1],o[2]=t[2]-i[2],o}},9908:function(h){h.exports=function(o,t,i){var n=t[0],r=t[1],s=t[2];return o[0]=n*i[0]+r*i[3]+s*i[6],o[1]=n*i[1]+r*i[4]+s*i[7],o[2]=n*i[2]+r*i[5]+s*i[8],o}},3255:function(h){h.exports=function(o,t,i){var n=t[0],r=t[1],s=t[2],l=i[3]*n+i[7]*r+i[11]*s+i[15];return l=l||1,o[0]=(i[0]*n+i[4]*r+i[8]*s+i[12])/l,o[1]=(i[1]*n+i[5]*r+i[9]*s+i[13])/l,o[2]=(i[2]*n+i[6]*r+i[10]*s+i[14])/l,o}},6568:function(h){h.exports=function(o,t,i){var n=t[0],r=t[1],s=t[2],l=i[0],u=i[1],d=i[2],c=i[3],x=c*n+u*s-d*r,g=c*r+d*n-l*s,p=c*s+l*r-u*n,v=-l*n-u*r-d*s;return o[0]=x*c+v*-l+g*-d-p*-u,o[1]=g*c+v*-u+p*-l-x*-d,o[2]=p*c+v*-d+x*-u-g*-l,o}},3433:function(h){h.exports=function(o,t,i){return o[0]=t[0]+i[0],o[1]=t[1]+i[1],o[2]=t[2]+i[2],o[3]=t[3]+i[3],o}},1413:function(h){h.exports=function(o){var t=new Float32Array(4);return t[0]=o[0],t[1]=o[1],t[2]=o[2],t[3]=o[3],t}},3470:function(h){h.exports=function(o,t){return o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o}},5313:function(h){h.exports=function(){var o=new Float32Array(4);return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o}},5446:function(h){h.exports=function(o,t){var i=t[0]-o[0],n=t[1]-o[1],r=t[2]-o[2],s=t[3]-o[3];return Math.sqrt(i*i+n*n+r*r+s*s)}},205:function(h){h.exports=function(o,t,i){return o[0]=t[0]/i[0],o[1]=t[1]/i[1],o[2]=t[2]/i[2],o[3]=t[3]/i[3],o}},4242:function(h){h.exports=function(o,t){return o[0]*t[0]+o[1]*t[1]+o[2]*t[2]+o[3]*t[3]}},5680:function(h){h.exports=function(o,t,i,n){var r=new Float32Array(4);return r[0]=o,r[1]=t,r[2]=i,r[3]=n,r}},4020:function(h,o,t){h.exports={create:t(5313),clone:t(1413),fromValues:t(5680),copy:t(3470),set:t(6453),add:t(3433),subtract:t(2705),multiply:t(746),divide:t(205),min:t(2170),max:t(3030),scale:t(5510),scaleAndAdd:t(4224),distance:t(5446),squaredDistance:t(1542),length:t(8177),squaredLength:t(9037),negate:t(6459),inverse:t(8057),normalize:t(381),dot:t(4242),lerp:t(8746),random:t(3770),transformMat4:t(6342),transformQuat:t(5022)}},8057:function(h){h.exports=function(o,t){return o[0]=1/t[0],o[1]=1/t[1],o[2]=1/t[2],o[3]=1/t[3],o}},8177:function(h){h.exports=function(o){var t=o[0],i=o[1],n=o[2],r=o[3];return Math.sqrt(t*t+i*i+n*n+r*r)}},8746:function(h){h.exports=function(o,t,i,n){var r=t[0],s=t[1],l=t[2],u=t[3];return o[0]=r+n*(i[0]-r),o[1]=s+n*(i[1]-s),o[2]=l+n*(i[2]-l),o[3]=u+n*(i[3]-u),o}},3030:function(h){h.exports=function(o,t,i){return o[0]=Math.max(t[0],i[0]),o[1]=Math.max(t[1],i[1]),o[2]=Math.max(t[2],i[2]),o[3]=Math.max(t[3],i[3]),o}},2170:function(h){h.exports=function(o,t,i){return o[0]=Math.min(t[0],i[0]),o[1]=Math.min(t[1],i[1]),o[2]=Math.min(t[2],i[2]),o[3]=Math.min(t[3],i[3]),o}},746:function(h){h.exports=function(o,t,i){return o[0]=t[0]*i[0],o[1]=t[1]*i[1],o[2]=t[2]*i[2],o[3]=t[3]*i[3],o}},6459:function(h){h.exports=function(o,t){return o[0]=-t[0],o[1]=-t[1],o[2]=-t[2],o[3]=-t[3],o}},381:function(h){h.exports=function(o,t){var i=t[0],n=t[1],r=t[2],s=t[3],l=i*i+n*n+r*r+s*s;return l>0&&(l=1/Math.sqrt(l),o[0]=i*l,o[1]=n*l,o[2]=r*l,o[3]=s*l),o}},3770:function(h,o,t){var i=t(381),n=t(5510);h.exports=function(r,s){return s=s||1,r[0]=Math.random(),r[1]=Math.random(),r[2]=Math.random(),r[3]=Math.random(),i(r,r),n(r,r,s),r}},5510:function(h){h.exports=function(o,t,i){return o[0]=t[0]*i,o[1]=t[1]*i,o[2]=t[2]*i,o[3]=t[3]*i,o}},4224:function(h){h.exports=function(o,t,i,n){return o[0]=t[0]+i[0]*n,o[1]=t[1]+i[1]*n,o[2]=t[2]+i[2]*n,o[3]=t[3]+i[3]*n,o}},6453:function(h){h.exports=function(o,t,i,n,r){return o[0]=t,o[1]=i,o[2]=n,o[3]=r,o}},1542:function(h){h.exports=function(o,t){var i=t[0]-o[0],n=t[1]-o[1],r=t[2]-o[2],s=t[3]-o[3];return i*i+n*n+r*r+s*s}},9037:function(h){h.exports=function(o){var t=o[0],i=o[1],n=o[2],r=o[3];return t*t+i*i+n*n+r*r}},2705:function(h){h.exports=function(o,t,i){return o[0]=t[0]-i[0],o[1]=t[1]-i[1],o[2]=t[2]-i[2],o[3]=t[3]-i[3],o}},6342:function(h){h.exports=function(o,t,i){var n=t[0],r=t[1],s=t[2],l=t[3];return o[0]=i[0]*n+i[4]*r+i[8]*s+i[12]*l,o[1]=i[1]*n+i[5]*r+i[9]*s+i[13]*l,o[2]=i[2]*n+i[6]*r+i[10]*s+i[14]*l,o[3]=i[3]*n+i[7]*r+i[11]*s+i[15]*l,o}},5022:function(h){h.exports=function(o,t,i){var n=t[0],r=t[1],s=t[2],l=i[0],u=i[1],d=i[2],c=i[3],x=c*n+u*s-d*r,g=c*r+d*n-l*s,p=c*s+l*r-u*n,v=-l*n-u*r-d*s;return o[0]=x*c+v*-l+g*-d-p*-u,o[1]=g*c+v*-u+p*-l-x*-d,o[2]=p*c+v*-d+x*-u-g*-l,o[3]=t[3],o}},9365:function(h,o,t){var i=t(8096),n=t(7896);h.exports=function(r){for(var s=Array.isArray(r)?r:i(r),l=0;l<s.length;l++){var u=s[l];if(u.type==="preprocessor"){var d=u.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(d&&d[2]){var c=d[1],x=d[2];return(c?n(x):x).trim()}}}}},3193:function(h,o,t){h.exports=function(O){var I,z,U,D=0,B=0,Z=u,F=[],j=[],V=1,te=0,Q=0,$=!1,G=!1,X="",J=r,ne=i;(O=O||{}).version==="300 es"&&(J=l,ne=s);var ie={},ae={};for(D=0;D<J.length;D++)ie[J[D]]=!0;for(D=0;D<ne.length;D++)ae[ne[D]]=!0;return function(de){return j=[],de!==null?function(Ee){var Te;for(D=0,Ee.toString&&(Ee=Ee.toString()),X+=Ee.replace(/\r\n/g,`
`),U=X.length;I=X[D],D<U;){switch(Te=D,Z){case c:D=me();break;case x:case g:D=ge();break;case p:D=ve();break;case v:D=we();break;case E:D=_e();break;case y:D=oe();break;case d:D=se();break;case S:D=pe();break;case u:D=ce()}Te!==D&&(X[Te]===`
`?(te=0,++V):++te)}return B+=D,X=X.slice(D),j}(de):(F.length&&le(F.join("")),Z=T,le("(eof)"),j)};function le(de){de.length&&j.push({type:C[Z],data:de,position:Q,line:V,column:te})}function ce(){return F=F.length?[]:F,z==="/"&&I==="*"?(Q=B+D-1,Z=c,z=I,D+1):z==="/"&&I==="/"?(Q=B+D-1,Z=x,z=I,D+1):I==="#"?(Z=g,Q=B+D,D):/\s/.test(I)?(Z=S,Q=B+D,D):($=/\d/.test(I),G=/[^\w_]/.test(I),Q=B+D,Z=$?v:G?p:d,D)}function pe(){return/[^\s]/g.test(I)?(le(F.join("")),Z=u,D):(F.push(I),z=I,D+1)}function ge(){return I!=="\r"&&I!==`
`||z==="\\"?(F.push(I),z=I,D+1):(le(F.join("")),Z=u,D)}function me(){return I==="/"&&z==="*"?(F.push(I),le(F.join("")),Z=u,D+1):(F.push(I),z=I,D+1)}function ve(){if(z==="."&&/\d/.test(I))return Z=y,D;if(z==="/"&&I==="*")return Z=c,D;if(z==="/"&&I==="/")return Z=x,D;if(I==="."&&F.length){for(;Me(F););return Z=y,D}if(I===";"||I===")"||I==="("){if(F.length)for(;Me(F););return le(I),Z=u,D+1}var de=F.length===2&&I!=="=";if(/[\w_\d\s]/.test(I)||de){for(;Me(F););return Z=u,D}return F.push(I),z=I,D+1}function Me(de){for(var Ee,Te,Se=0;;){if(Ee=n.indexOf(de.slice(0,de.length+Se).join("")),Te=n[Ee],Ee===-1){if(Se--+de.length>0)continue;Te=de.slice(0,1).join("")}return le(Te),Q+=Te.length,(F=F.slice(Te.length)).length}}function _e(){return/[^a-fA-F0-9]/.test(I)?(le(F.join("")),Z=u,D):(F.push(I),z=I,D+1)}function we(){return I==="."||/[eE]/.test(I)?(F.push(I),Z=y,z=I,D+1):I==="x"&&F.length===1&&F[0]==="0"?(Z=E,F.push(I),z=I,D+1):/[^\d]/.test(I)?(le(F.join("")),Z=u,D):(F.push(I),z=I,D+1)}function oe(){return I==="f"&&(F.push(I),z=I,D+=1),/[eE]/.test(I)?(F.push(I),z=I,D+1):(I!=="-"&&I!=="+"||!/[eE]/.test(z))&&/[^\d]/.test(I)?(le(F.join("")),Z=u,D):(F.push(I),z=I,D+1)}function se(){if(/[^\d\w_]/.test(I)){var de=F.join("");return Z=ae[de]?f:ie[de]?_:m,le(F.join("")),Z=u,D}return F.push(I),z=I,D+1}};var i=t(399),n=t(9746),r=t(9525),s=t(9458),l=t(3585),u=999,d=9999,c=0,x=1,g=2,p=3,v=4,y=5,m=6,_=7,f=8,S=9,T=10,E=11,C=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3585:function(h,o,t){var i=t(9525);i=i.slice().filter(function(n){return!/^(gl\_|texture)/.test(n)}),h.exports=i.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(h){h.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(h,o,t){var i=t(399);h.exports=i.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(h){h.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(h){h.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(h,o,t){var i=t(3193);h.exports=function(n,r){var s=i(r),l=[];return(l=l.concat(s(n))).concat(s(null))}},6832:function(h){h.exports=function(o){typeof o=="string"&&(o=[o]);for(var t=[].slice.call(arguments,1),i=[],n=0;n<o.length-1;n++)i.push(o[n],t[n]||"");return i.push(o[n]),i.join("")}},5233:function(h,o,t){var i=t(4846);h.exports=i&&function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,r),window.removeEventListener("test",null,r)}catch{n=!1}return n}()},2183:function(h,o,t){h.exports=function(x,g){var p=x.length;if(p===0)throw new Error("Must have at least d+1 points");var v=x[0].length;if(p<=v)throw new Error("Must input at least d+1 points");var y=x.slice(0,v+1),m=i.apply(void 0,y);if(m===0)throw new Error("Input not in general position");for(var _=new Array(v+1),f=0;f<=v;++f)_[f]=f;m<0&&(_[0]=1,_[1]=0);var S=new r(_,new Array(v+1),!1),T=S.adjacent,E=new Array(v+2);for(f=0;f<=v;++f){for(var C=_.slice(),O=0;O<=v;++O)O===f&&(C[O]=-1);var I=C[0];C[0]=C[1],C[1]=I;var z=new r(C,new Array(v+1),!0);T[f]=z,E[f]=z}for(E[v+1]=S,f=0;f<=v;++f){C=T[f].vertices;var U=T[f].adjacent;for(O=0;O<=v;++O){var D=C[O];if(D<0)U[O]=S;else for(var B=0;B<=v;++B)T[B].vertices.indexOf(D)<0&&(U[O]=T[B])}}var Z=new d(v,y,E),F=!!g;for(f=v+1;f<p;++f)Z.insert(x[f],F);return Z.boundary()};var i=t(417),n=t(8211).H;function r(x,g,p){this.vertices=x,this.adjacent=g,this.boundary=p,this.lastVisited=-1}function s(x,g,p){this.vertices=x,this.cell=g,this.index=p}function l(x,g){return n(x.vertices,g.vertices)}r.prototype.flip=function(){var x=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=x;var g=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=g};var u=[];function d(x,g,p){this.dimension=x,this.vertices=g,this.simplices=p,this.interior=p.filter(function(_){return!_.boundary}),this.tuple=new Array(x+1);for(var v=0;v<=x;++v)this.tuple[v]=this.vertices[v];var y,m=u[x];m||(m=u[x]=((y=i[x+1])||(y=i),function(_){return function(){var f=this.tuple;return _.apply(this,f)}}(y))),this.orient=m}var c=d.prototype;c.handleBoundaryDegeneracy=function(x,g){var p=this.dimension,v=this.vertices.length-1,y=this.tuple,m=this.vertices,_=[x];for(x.lastVisited=-v;_.length>0;)for(var f=(x=_.pop()).adjacent,S=0;S<=p;++S){var T=f[S];if(T.boundary&&!(T.lastVisited<=-v)){for(var E=T.vertices,C=0;C<=p;++C){var O=E[C];y[C]=O<0?g:m[O]}var I=this.orient();if(I>0)return T;T.lastVisited=-v,I===0&&_.push(T)}}return null},c.walk=function(x,g){var p=this.vertices.length-1,v=this.dimension,y=this.vertices,m=this.tuple,_=g?this.interior.length*Math.random()|0:this.interior.length-1,f=this.interior[_];e:for(;!f.boundary;){for(var S=f.vertices,T=f.adjacent,E=0;E<=v;++E)m[E]=y[S[E]];for(f.lastVisited=p,E=0;E<=v;++E){var C=T[E];if(!(C.lastVisited>=p)){var O=m[E];m[E]=x;var I=this.orient();if(m[E]=O,I<0){f=C;continue e}C.boundary?C.lastVisited=-p:C.lastVisited=p}}return}return f},c.addPeaks=function(x,g){var p=this.vertices.length-1,v=this.dimension,y=this.vertices,m=this.tuple,_=this.interior,f=this.simplices,S=[g];g.lastVisited=p,g.vertices[g.vertices.indexOf(-1)]=p,g.boundary=!1,_.push(g);for(var T=[];S.length>0;){var E=(g=S.pop()).vertices,C=g.adjacent,O=E.indexOf(p);if(!(O<0)){for(var I=0;I<=v;++I)if(I!==O){var z=C[I];if(z.boundary&&!(z.lastVisited>=p)){var U=z.vertices;if(z.lastVisited!==-p){for(var D=0,B=0;B<=v;++B)U[B]<0?(D=B,m[B]=x):m[B]=y[U[B]];if(this.orient()>0){U[D]=p,z.boundary=!1,_.push(z),S.push(z),z.lastVisited=p;continue}z.lastVisited=-p}var Z=z.adjacent,F=E.slice(),j=C.slice(),V=new r(F,j,!0);f.push(V);var te=Z.indexOf(g);if(!(te<0))for(Z[te]=V,j[O]=z,F[I]=-1,j[I]=g,C[I]=V,V.flip(),B=0;B<=v;++B){var Q=F[B];if(!(Q<0||Q===p)){for(var $=new Array(v-1),G=0,X=0;X<=v;++X){var J=F[X];J<0||X===B||($[G++]=J)}T.push(new s($,V,B))}}}}}}for(T.sort(l),I=0;I+1<T.length;I+=2){var ne=T[I],ie=T[I+1],ae=ne.index,le=ie.index;ae<0||le<0||(ne.cell.adjacent[ne.index]=ie.cell,ie.cell.adjacent[ie.index]=ne.cell)}},c.insert=function(x,g){var p=this.vertices;p.push(x);var v=this.walk(x,g);if(v){for(var y=this.dimension,m=this.tuple,_=0;_<=y;++_){var f=v.vertices[_];m[_]=f<0?x:p[f]}var S=this.orient(m);S<0||(S!==0||(v=this.handleBoundaryDegeneracy(v,x)))&&this.addPeaks(x,v)}},c.boundary=function(){for(var x=this.dimension,g=[],p=this.simplices,v=p.length,y=0;y<v;++y){var m=p[y];if(m.boundary){for(var _=new Array(x),f=m.vertices,S=0,T=0,E=0;E<=x;++E)f[E]>=0?_[S++]=f[E]:T=1&E;if(T===(1&x)){var C=_[0];_[0]=_[1],_[1]=C}g.push(_)}}return g}},9014:function(h,o,t){var i=t(5070);function n(S,T,E,C,O){this.mid=S,this.left=T,this.right=E,this.leftPoints=C,this.rightPoints=O,this.count=(T?T.count:0)+(E?E.count:0)+C.length}h.exports=function(S){return S&&S.length!==0?new _(m(S)):new _(null)};var r=n.prototype;function s(S,T){S.mid=T.mid,S.left=T.left,S.right=T.right,S.leftPoints=T.leftPoints,S.rightPoints=T.rightPoints,S.count=T.count}function l(S,T){var E=m(T);S.mid=E.mid,S.left=E.left,S.right=E.right,S.leftPoints=E.leftPoints,S.rightPoints=E.rightPoints,S.count=E.count}function u(S,T){var E=S.intervals([]);E.push(T),l(S,E)}function d(S,T){var E=S.intervals([]),C=E.indexOf(T);return C<0?0:(E.splice(C,1),l(S,E),1)}function c(S,T,E){for(var C=0;C<S.length&&S[C][0]<=T;++C){var O=E(S[C]);if(O)return O}}function x(S,T,E){for(var C=S.length-1;C>=0&&S[C][1]>=T;--C){var O=E(S[C]);if(O)return O}}function g(S,T){for(var E=0;E<S.length;++E){var C=T(S[E]);if(C)return C}}function p(S,T){return S-T}function v(S,T){return S[0]-T[0]||S[1]-T[1]}function y(S,T){return S[1]-T[1]||S[0]-T[0]}function m(S){if(S.length===0)return null;for(var T=[],E=0;E<S.length;++E)T.push(S[E][0],S[E][1]);T.sort(p);var C=T[T.length>>1],O=[],I=[],z=[];for(E=0;E<S.length;++E){var U=S[E];U[1]<C?O.push(U):C<U[0]?I.push(U):z.push(U)}var D=z,B=z.slice();return D.sort(v),B.sort(y),new n(C,m(O),m(I),D,B)}function _(S){this.root=S}r.intervals=function(S){return S.push.apply(S,this.leftPoints),this.left&&this.left.intervals(S),this.right&&this.right.intervals(S),S},r.insert=function(S){var T=this.count-this.leftPoints.length;if(this.count+=1,S[1]<this.mid)this.left?4*(this.left.count+1)>3*(T+1)?u(this,S):this.left.insert(S):this.left=m([S]);else if(S[0]>this.mid)this.right?4*(this.right.count+1)>3*(T+1)?u(this,S):this.right.insert(S):this.right=m([S]);else{var E=i.ge(this.leftPoints,S,v),C=i.ge(this.rightPoints,S,y);this.leftPoints.splice(E,0,S),this.rightPoints.splice(C,0,S)}},r.remove=function(S){var T=this.count-this.leftPoints;if(S[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(T-1)?d(this,S):(I=this.left.remove(S))===2?(this.left=null,this.count-=1,1):(I===1&&(this.count-=1),I):0;if(S[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(T-1)?d(this,S):(I=this.right.remove(S))===2?(this.right=null,this.count-=1,1):(I===1&&(this.count-=1),I):0;if(this.count===1)return this.leftPoints[0]===S?2:0;if(this.leftPoints.length===1&&this.leftPoints[0]===S){if(this.left&&this.right){for(var E=this,C=this.left;C.right;)E=C,C=C.right;if(E===this)C.right=this.right;else{var O=this.left,I=this.right;E.count-=C.count,E.right=C.left,C.left=O,C.right=I}s(this,C),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?s(this,this.left):s(this,this.right);return 1}for(O=i.ge(this.leftPoints,S,v);O<this.leftPoints.length&&this.leftPoints[O][0]===S[0];++O)if(this.leftPoints[O]===S){for(this.count-=1,this.leftPoints.splice(O,1),I=i.ge(this.rightPoints,S,y);I<this.rightPoints.length&&this.rightPoints[I][1]===S[1];++I)if(this.rightPoints[I]===S)return this.rightPoints.splice(I,1),1}return 0},r.queryPoint=function(S,T){return S<this.mid?this.left&&(E=this.left.queryPoint(S,T))?E:c(this.leftPoints,S,T):S>this.mid?this.right&&(E=this.right.queryPoint(S,T))?E:x(this.rightPoints,S,T):g(this.leftPoints,T);var E},r.queryInterval=function(S,T,E){var C;return S<this.mid&&this.left&&(C=this.left.queryInterval(S,T,E))||T>this.mid&&this.right&&(C=this.right.queryInterval(S,T,E))?C:T<this.mid?c(this.leftPoints,T,E):S>this.mid?x(this.rightPoints,S,E):g(this.leftPoints,E)};var f=_.prototype;f.insert=function(S){this.root?this.root.insert(S):this.root=new n(S[0],null,null,[S],[S])},f.remove=function(S){if(this.root){var T=this.root.remove(S);return T===2&&(this.root=null),T!==0}return!1},f.queryPoint=function(S,T){if(this.root)return this.root.queryPoint(S,T)},f.queryInterval=function(S,T,E){if(S<=T&&this.root)return this.root.queryInterval(S,T,E)},Object.defineProperty(f,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(f,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},9560:function(h){h.exports=function(o){for(var t=new Array(o),i=0;i<o;++i)t[i]=i;return t}},4846:function(h){h.exports=!0},4780:function(h){function o(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}h.exports=function(t){return t!=null&&(o(t)||function(i){return typeof i.readFloatLE=="function"&&typeof i.slice=="function"&&o(i.slice(0,0))}(t)||!!t._isBuffer)}},3596:function(h){h.exports=function(o){for(var t,i=o.length,n=0;n<i;n++)if(((t=o.charCodeAt(n))<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},3578:function(h){h.exports=function(o,t,i){return o*(1-i)+t*i}},7191:function(h,o,t){var i=t(4690),n=t(9823),r=t(7332),s=t(7787),l=t(7437),u=t(2142),d={length:t(4693),normalize:t(899),dot:t(9305),cross:t(903)},c=n(),x=n(),g=[0,0,0,0],p=[[0,0,0],[0,0,0],[0,0,0]],v=[0,0,0];function y(m,_,f,S,T){m[0]=_[0]*S+f[0]*T,m[1]=_[1]*S+f[1]*T,m[2]=_[2]*S+f[2]*T}h.exports=function(m,_,f,S,T,E){if(_||(_=[0,0,0]),f||(f=[0,0,0]),S||(S=[0,0,0]),T||(T=[0,0,0,1]),E||(E=[0,0,0,1]),!i(c,m)||(r(x,c),x[3]=0,x[7]=0,x[11]=0,x[15]=1,Math.abs(s(x)<1e-8)))return!1;var C,O,I,z,U,D,B,Z=c[3],F=c[7],j=c[11],V=c[12],te=c[13],Q=c[14],$=c[15];if(Z!==0||F!==0||j!==0){if(g[0]=Z,g[1]=F,g[2]=j,g[3]=$,!l(x,x))return!1;u(x,x),C=T,I=x,z=(O=g)[0],U=O[1],D=O[2],B=O[3],C[0]=I[0]*z+I[4]*U+I[8]*D+I[12]*B,C[1]=I[1]*z+I[5]*U+I[9]*D+I[13]*B,C[2]=I[2]*z+I[6]*U+I[10]*D+I[14]*B,C[3]=I[3]*z+I[7]*U+I[11]*D+I[15]*B}else T[0]=T[1]=T[2]=0,T[3]=1;if(_[0]=V,_[1]=te,_[2]=Q,function(X,J){X[0][0]=J[0],X[0][1]=J[1],X[0][2]=J[2],X[1][0]=J[4],X[1][1]=J[5],X[1][2]=J[6],X[2][0]=J[8],X[2][1]=J[9],X[2][2]=J[10]}(p,c),f[0]=d.length(p[0]),d.normalize(p[0],p[0]),S[0]=d.dot(p[0],p[1]),y(p[1],p[1],p[0],1,-S[0]),f[1]=d.length(p[1]),d.normalize(p[1],p[1]),S[0]/=f[1],S[1]=d.dot(p[0],p[2]),y(p[2],p[2],p[0],1,-S[1]),S[2]=d.dot(p[1],p[2]),y(p[2],p[2],p[1],1,-S[2]),f[2]=d.length(p[2]),d.normalize(p[2],p[2]),S[1]/=f[2],S[2]/=f[2],d.cross(v,p[1],p[2]),d.dot(p[0],v)<0)for(var G=0;G<3;G++)f[G]*=-1,p[G][0]*=-1,p[G][1]*=-1,p[G][2]*=-1;return E[0]=.5*Math.sqrt(Math.max(1+p[0][0]-p[1][1]-p[2][2],0)),E[1]=.5*Math.sqrt(Math.max(1-p[0][0]+p[1][1]-p[2][2],0)),E[2]=.5*Math.sqrt(Math.max(1-p[0][0]-p[1][1]+p[2][2],0)),E[3]=.5*Math.sqrt(Math.max(1+p[0][0]+p[1][1]+p[2][2],0)),p[2][1]>p[1][2]&&(E[0]=-E[0]),p[0][2]>p[2][0]&&(E[1]=-E[1]),p[1][0]>p[0][1]&&(E[2]=-E[2]),!0}},4690:function(h){h.exports=function(o,t){var i=t[15];if(i===0)return!1;for(var n=1/i,r=0;r<16;r++)o[r]=t[r]*n;return!0}},7649:function(h,o,t){var i=t(1868),n=t(1102),r=t(7191),s=t(7787),l=t(1116),u=x(),d=x(),c=x();function x(){return{translate:g(),scale:g(1),skew:g(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function g(p){return[p||0,p||0,p||0]}h.exports=function(p,v,y,m){if(s(v)===0||s(y)===0)return!1;var _=r(v,u.translate,u.scale,u.skew,u.perspective,u.quaternion),f=r(y,d.translate,d.scale,d.skew,d.perspective,d.quaternion);return!(!_||!f||(i(c.translate,u.translate,d.translate,m),i(c.skew,u.skew,d.skew,m),i(c.scale,u.scale,d.scale,m),i(c.perspective,u.perspective,d.perspective,m),l(c.quaternion,u.quaternion,d.quaternion,m),n(p,c.translate,c.scale,c.skew,c.perspective,c.quaternion),0))}},1102:function(h,o,t){var i={identity:t(9947),translate:t(998),multiply:t(104),create:t(9823),scale:t(3668),fromRotationTranslation:t(7280)},n=(i.create(),i.create());h.exports=function(r,s,l,u,d,c){return i.identity(r),i.fromRotationTranslation(r,c,s),r[3]=d[0],r[7]=d[1],r[11]=d[2],r[15]=d[3],i.identity(n),u[2]!==0&&(n[9]=u[2],i.multiply(r,r,n)),u[1]!==0&&(n[9]=0,n[8]=u[1],i.multiply(r,r,n)),u[0]!==0&&(n[8]=0,n[4]=u[0],i.multiply(r,r,n)),i.scale(r,r,l),r}},9298:function(h,o,t){var i=t(5070),n=t(7649),r=t(7437),s=t(6109),l=t(7115),u=t(5240),d=t(3012),c=t(998),x=(t(3668),t(899)),g=[0,0,0];function p(m){this._components=m.slice(),this._time=[0],this.prevMatrix=m.slice(),this.nextMatrix=m.slice(),this.computedMatrix=m.slice(),this.computedInverse=m.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}h.exports=function(m){return new p((m=m||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var v=p.prototype;v.recalcMatrix=function(m){var _=this._time,f=i.le(_,m),S=this.computedMatrix;if(!(f<0)){var T=this._components;if(f===_.length-1)for(var E=16*f,C=0;C<16;++C)S[C]=T[E++];else{var O=_[f+1]-_[f],I=(E=16*f,this.prevMatrix),z=!0;for(C=0;C<16;++C)I[C]=T[E++];var U=this.nextMatrix;for(C=0;C<16;++C)U[C]=T[E++],z=z&&I[C]===U[C];if(O<1e-6||z)for(C=0;C<16;++C)S[C]=I[C];else n(S,I,U,(m-_[f])/O)}var D=this.computedUp;D[0]=S[1],D[1]=S[5],D[2]=S[9],x(D,D);var B=this.computedInverse;r(B,S);var Z=this.computedEye,F=B[15];Z[0]=B[12]/F,Z[1]=B[13]/F,Z[2]=B[14]/F;var j=this.computedCenter,V=Math.exp(this.computedRadius[0]);for(C=0;C<3;++C)j[C]=Z[C]-S[2+4*C]*V}},v.idle=function(m){if(!(m<this.lastT())){for(var _=this._components,f=_.length-16,S=0;S<16;++S)_.push(_[f++]);this._time.push(m)}},v.flush=function(m){var _=i.gt(this._time,m)-2;_<0||(this._time.splice(0,_),this._components.splice(0,16*_))},v.lastT=function(){return this._time[this._time.length-1]},v.lookAt=function(m,_,f,S){this.recalcMatrix(m),_=_||this.computedEye,f=f||g,S=S||this.computedUp,this.setMatrix(m,d(this.computedMatrix,_,f,S));for(var T=0,E=0;E<3;++E)T+=Math.pow(f[E]-_[E],2);T=Math.log(Math.sqrt(T)),this.computedRadius[0]=T},v.rotate=function(m,_,f,S){this.recalcMatrix(m);var T=this.computedInverse;_&&l(T,T,_),f&&s(T,T,f),S&&u(T,T,S),this.setMatrix(m,r(this.computedMatrix,T))};var y=[0,0,0];v.pan=function(m,_,f,S){y[0]=-(_||0),y[1]=-(f||0),y[2]=-(S||0),this.recalcMatrix(m);var T=this.computedInverse;c(T,T,y),this.setMatrix(m,r(T,T))},v.translate=function(m,_,f,S){y[0]=_||0,y[1]=f||0,y[2]=S||0,this.recalcMatrix(m);var T=this.computedMatrix;c(T,T,y),this.setMatrix(m,T)},v.setMatrix=function(m,_){if(!(m<this.lastT())){this._time.push(m);for(var f=0;f<16;++f)this._components.push(_[f])}},v.setDistance=function(m,_){this.computedRadius[0]=_},v.setDistanceLimits=function(m,_){var f=this._limits;f[0]=m,f[1]=_},v.getDistanceLimits=function(m){var _=this._limits;return m?(m[0]=_[0],m[1]=_[1],m):_}},3266:function(h,o,t){h.exports=function(n){var r=n.length;if(r<3){for(var s=new Array(r),l=0;l<r;++l)s[l]=l;return r===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:s}var u=new Array(r);for(l=0;l<r;++l)u[l]=l;u.sort(function(_,f){return n[_][0]-n[f][0]||n[_][1]-n[f][1]});var d=[u[0],u[1]],c=[u[0],u[1]];for(l=2;l<r;++l){for(var x=u[l],g=n[x],p=d.length;p>1&&i(n[d[p-2]],n[d[p-1]],g)<=0;)p-=1,d.pop();for(d.push(x),p=c.length;p>1&&i(n[c[p-2]],n[c[p-1]],g)>=0;)p-=1,c.pop();c.push(x)}s=new Array(c.length+d.length-2);for(var v=0,y=(l=0,d.length);l<y;++l)s[v++]=d[l];for(var m=c.length-2;m>0;--m)s[v++]=c[m];return s};var i=t(417)[3]},6145:function(h,o,t){h.exports=function(n,r){r||(r=n,n=window);var s=0,l=0,u=0,d={shift:!1,alt:!1,control:!1,meta:!1},c=!1;function x(E){var C=!1;return"altKey"in E&&(C=C||E.altKey!==d.alt,d.alt=!!E.altKey),"shiftKey"in E&&(C=C||E.shiftKey!==d.shift,d.shift=!!E.shiftKey),"ctrlKey"in E&&(C=C||E.ctrlKey!==d.control,d.control=!!E.ctrlKey),"metaKey"in E&&(C=C||E.metaKey!==d.meta,d.meta=!!E.metaKey),C}function g(E,C){var O=i.x(C),I=i.y(C);"buttons"in C&&(E=0|C.buttons),(E!==s||O!==l||I!==u||x(C))&&(s=0|E,l=O||0,u=I||0,r&&r(s,l,u,d))}function p(E){g(0,E)}function v(){(s||l||u||d.shift||d.alt||d.meta||d.control)&&(l=u=0,s=0,d.shift=d.alt=d.control=d.meta=!1,r&&r(0,0,0,d))}function y(E){x(E)&&r&&r(s,l,u,d)}function m(E){i.buttons(E)===0?g(0,E):g(s,E)}function _(E){g(s|i.buttons(E),E)}function f(E){g(s&~i.buttons(E),E)}function S(){c||(c=!0,n.addEventListener("mousemove",m),n.addEventListener("mousedown",_),n.addEventListener("mouseup",f),n.addEventListener("mouseleave",p),n.addEventListener("mouseenter",p),n.addEventListener("mouseout",p),n.addEventListener("mouseover",p),n.addEventListener("blur",v),n.addEventListener("keyup",y),n.addEventListener("keydown",y),n.addEventListener("keypress",y),n!==window&&(window.addEventListener("blur",v),window.addEventListener("keyup",y),window.addEventListener("keydown",y),window.addEventListener("keypress",y)))}S();var T={element:n};return Object.defineProperties(T,{enabled:{get:function(){return c},set:function(E){E?S():c&&(c=!1,n.removeEventListener("mousemove",m),n.removeEventListener("mousedown",_),n.removeEventListener("mouseup",f),n.removeEventListener("mouseleave",p),n.removeEventListener("mouseenter",p),n.removeEventListener("mouseout",p),n.removeEventListener("mouseover",p),n.removeEventListener("blur",v),n.removeEventListener("keyup",y),n.removeEventListener("keydown",y),n.removeEventListener("keypress",y),n!==window&&(window.removeEventListener("blur",v),window.removeEventListener("keyup",y),window.removeEventListener("keydown",y),window.removeEventListener("keypress",y)))},enumerable:!0},buttons:{get:function(){return s},enumerable:!0},x:{get:function(){return l},enumerable:!0},y:{get:function(){return u},enumerable:!0},mods:{get:function(){return d},enumerable:!0}}),T};var i=t(4110)},2565:function(h){var o={left:0,top:0};h.exports=function(t,i,n){i=i||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var r,s=t.clientX||0,l=t.clientY||0,u=(r=i)===window||r===document||r===document.body?o:r.getBoundingClientRect();return n[0]=s-u.left,n[1]=l-u.top,n}},4110:function(h,o){function t(i){return i.target||i.srcElement||window}o.buttons=function(i){if(typeof i=="object"){if("buttons"in i)return i.buttons;if("which"in i){if((n=i.which)===2)return 4;if(n===3)return 2;if(n>0)return 1<<n-1}else if("button"in i){var n;if((n=i.button)===1)return 4;if(n===2)return 2;if(n>=0)return 1<<n}}return 0},o.element=t,o.x=function(i){if(typeof i=="object"){if("offsetX"in i)return i.offsetX;var n=t(i).getBoundingClientRect();return i.clientX-n.left}return 0},o.y=function(i){if(typeof i=="object"){if("offsetY"in i)return i.offsetY;var n=t(i).getBoundingClientRect();return i.clientY-n.top}return 0}},6475:function(h,o,t){var i=t(14);h.exports=function(n,r,s){typeof n=="function"&&(s=!!r,r=n,n=window);var l=i("ex",n),u=function(d){s&&d.preventDefault();var c=d.deltaX||0,x=d.deltaY||0,g=d.deltaZ||0,p=1;switch(d.deltaMode){case 1:p=l;break;case 2:p=window.innerHeight}if(x*=p,g*=p,(c*=p)||x||g)return r(c,x,g,d)};return n.addEventListener("wheel",u),u}},9284:function(h,o,t){var i=t(5306);h.exports=function(r){function s(g){throw new Error("ndarray-extract-contour: "+g)}typeof r!="object"&&s("Must specify arguments");var l=r.order;Array.isArray(l)||s("Must specify order");var u=r.arrayArguments||1;u<1&&s("Must have at least one array argument"),(r.scalarArguments||0)<0&&s("Scalar arg count must be > 0"),typeof r.vertex!="function"&&s("Must specify vertex creation function"),typeof r.cell!="function"&&s("Must specify cell creation function"),typeof r.phase!="function"&&s("Must specify phase function");for(var d=r.getters||[],c=new Array(u),x=0;x<u;++x)d.indexOf(x)>=0?c[x]=!0:c[x]=!1;return function(g,p,v,y,m,_){var f=[_,m].join(",");return(0,n[f])(g,p,v,i.mallocUint32,i.freeUint32)}(r.vertex,r.cell,r.phase,0,l,c)};var n={"false,0,1":function(r,s,l,u,d){return function(c,x,g,p){var v,y=0|c.shape[0],m=0|c.shape[1],_=c.data,f=0|c.offset,S=0|c.stride[0],T=0|c.stride[1],E=f,C=0|-S,O=0,I=0|-T,z=0,U=-S-T|0,D=0,B=0|S,Z=T-S*y|0,F=0,j=0,V=0,te=2*y|0,Q=u(te),$=u(te),G=0,X=0,J=-1,ne=-1,ie=0,ae=0|-y,le=0|y,ce=0,pe=-y-1|0,ge=y-1|0,me=0,ve=0,Me=0;for(F=0;F<y;++F)Q[G++]=l(_[E],x,g,p),E+=B;if(E+=Z,m>0){if(j=1,Q[G++]=l(_[E],x,g,p),E+=B,y>0)for(F=1,v=_[E],X=Q[G]=l(v,x,g,p),ie=Q[G+J],ce=Q[G+ae],me=Q[G+pe],X===ie&&X===ce&&X===me||(O=_[E+C],z=_[E+I],D=_[E+U],r(F,j,v,O,z,D,X,ie,ce,me,x,g,p),ve=$[G]=V++),G+=1,E+=B,F=2;F<y;++F)v=_[E],X=Q[G]=l(v,x,g,p),ie=Q[G+J],ce=Q[G+ae],me=Q[G+pe],X===ie&&X===ce&&X===me||(O=_[E+C],z=_[E+I],D=_[E+U],r(F,j,v,O,z,D,X,ie,ce,me,x,g,p),ve=$[G]=V++,me!==ie&&s($[G+J],ve,D,O,me,ie,x,g,p)),G+=1,E+=B;for(E+=Z,G=0,Me=J,J=ne,ne=Me,Me=ae,ae=le,le=Me,Me=pe,pe=ge,ge=Me,j=2;j<m;++j){if(Q[G++]=l(_[E],x,g,p),E+=B,y>0)for(F=1,v=_[E],X=Q[G]=l(v,x,g,p),ie=Q[G+J],ce=Q[G+ae],me=Q[G+pe],X===ie&&X===ce&&X===me||(O=_[E+C],z=_[E+I],D=_[E+U],r(F,j,v,O,z,D,X,ie,ce,me,x,g,p),ve=$[G]=V++,me!==ce&&s($[G+ae],ve,z,D,ce,me,x,g,p)),G+=1,E+=B,F=2;F<y;++F)v=_[E],X=Q[G]=l(v,x,g,p),ie=Q[G+J],ce=Q[G+ae],me=Q[G+pe],X===ie&&X===ce&&X===me||(O=_[E+C],z=_[E+I],D=_[E+U],r(F,j,v,O,z,D,X,ie,ce,me,x,g,p),ve=$[G]=V++,me!==ce&&s($[G+ae],ve,z,D,ce,me,x,g,p),me!==ie&&s($[G+J],ve,D,O,me,ie,x,g,p)),G+=1,E+=B;1&j&&(G=0),Me=J,J=ne,ne=Me,Me=ae,ae=le,le=Me,Me=pe,pe=ge,ge=Me,E+=Z}}d($),d(Q)}},"false,1,0":function(r,s,l,u,d){return function(c,x,g,p){var v,y=0|c.shape[0],m=0|c.shape[1],_=c.data,f=0|c.offset,S=0|c.stride[0],T=0|c.stride[1],E=f,C=0|-S,O=0,I=0|-T,z=0,U=-S-T|0,D=0,B=0|T,Z=S-T*m|0,F=0,j=0,V=0,te=2*m|0,Q=u(te),$=u(te),G=0,X=0,J=-1,ne=-1,ie=0,ae=0|-m,le=0|m,ce=0,pe=-m-1|0,ge=m-1|0,me=0,ve=0,Me=0;for(j=0;j<m;++j)Q[G++]=l(_[E],x,g,p),E+=B;if(E+=Z,y>0){if(F=1,Q[G++]=l(_[E],x,g,p),E+=B,m>0)for(j=1,v=_[E],X=Q[G]=l(v,x,g,p),ce=Q[G+ae],ie=Q[G+J],me=Q[G+pe],X===ce&&X===ie&&X===me||(O=_[E+C],z=_[E+I],D=_[E+U],r(F,j,v,O,z,D,X,ce,ie,me,x,g,p),ve=$[G]=V++),G+=1,E+=B,j=2;j<m;++j)v=_[E],X=Q[G]=l(v,x,g,p),ce=Q[G+ae],ie=Q[G+J],me=Q[G+pe],X===ce&&X===ie&&X===me||(O=_[E+C],z=_[E+I],D=_[E+U],r(F,j,v,O,z,D,X,ce,ie,me,x,g,p),ve=$[G]=V++,me!==ie&&s($[G+J],ve,z,D,ie,me,x,g,p)),G+=1,E+=B;for(E+=Z,G=0,Me=ae,ae=le,le=Me,Me=J,J=ne,ne=Me,Me=pe,pe=ge,ge=Me,F=2;F<y;++F){if(Q[G++]=l(_[E],x,g,p),E+=B,m>0)for(j=1,v=_[E],X=Q[G]=l(v,x,g,p),ce=Q[G+ae],ie=Q[G+J],me=Q[G+pe],X===ce&&X===ie&&X===me||(O=_[E+C],z=_[E+I],D=_[E+U],r(F,j,v,O,z,D,X,ce,ie,me,x,g,p),ve=$[G]=V++,me!==ce&&s($[G+ae],ve,D,O,me,ce,x,g,p)),G+=1,E+=B,j=2;j<m;++j)v=_[E],X=Q[G]=l(v,x,g,p),ce=Q[G+ae],ie=Q[G+J],me=Q[G+pe],X===ce&&X===ie&&X===me||(O=_[E+C],z=_[E+I],D=_[E+U],r(F,j,v,O,z,D,X,ce,ie,me,x,g,p),ve=$[G]=V++,me!==ie&&s($[G+J],ve,z,D,ie,me,x,g,p),me!==ce&&s($[G+ae],ve,D,O,me,ce,x,g,p)),G+=1,E+=B;1&F&&(G=0),Me=ae,ae=le,le=Me,Me=J,J=ne,ne=Me,Me=pe,pe=ge,ge=Me,E+=Z}}d($),d(Q)}}}},9144:function(h,o,t){var i=t(3094),n={zero:function(y,m,_,f){var S=y[0];f|=0;var T=0,E=_[0];for(T=0;T<S;++T)m[f]=0,f+=E},fdTemplate1:function(y,m,_,f,S,T,E){var C=y[0],O=_[0],I=-1*O,z=O;f|=0,E|=0;var U=0,D=O,B=T[0];for(U=0;U<C;++U)S[E]=.5*(m[f+I]-m[f+z]),f+=D,E+=B},fdTemplate2:function(y,m,_,f,S,T,E,C,O,I){var z=y[0],U=y[1],D=_[0],B=_[1],Z=T[0],F=T[1],j=O[0],V=O[1],te=-1*D,Q=D,$=-1*B,G=B;f|=0,E|=0,I|=0;var X=0,J=0,ne=B,ie=D-U*B,ae=F,le=Z-U*F,ce=V,pe=j-U*V;for(J=0;J<z;++J){for(X=0;X<U;++X)S[E]=.5*(m[f+te]-m[f+Q]),C[I]=.5*(m[f+$]-m[f+G]),f+=ne,E+=ae,I+=ce;f+=ie,E+=le,I+=pe}}},r={cdiff:function(y){var m={};return function(_,f,S){var T=_.dtype,E=_.order,C=f.dtype,O=f.order,I=S.dtype,z=S.order,U=[T,E.join(),C,O.join(),I,z.join()].join(),D=m[U];return D||(m[U]=D=y([T,E,C,O,I,z])),D(_.shape.slice(0),_.data,_.stride,0|_.offset,f.data,f.stride,0|f.offset,S.data,S.stride,0|S.offset)}},zero:function(y){var m={};return function(_){var f=_.dtype,S=_.order,T=[f,S.join()].join(),E=m[T];return E||(m[T]=E=y([f,S])),E(_.shape.slice(0),_.data,_.stride,0|_.offset)}},fdTemplate1:function(y){var m={};return function(_,f){var S=_.dtype,T=_.order,E=f.dtype,C=f.order,O=[S,T.join(),E,C.join()].join(),I=m[O];return I||(m[O]=I=y([S,T,E,C])),I(_.shape.slice(0),_.data,_.stride,0|_.offset,f.data,f.stride,0|f.offset)}},fdTemplate2:function(y){var m={};return function(_,f,S){var T=_.dtype,E=_.order,C=f.dtype,O=f.order,I=S.dtype,z=S.order,U=[T,E.join(),C,O.join(),I,z.join()].join(),D=m[U];return D||(m[U]=D=y([T,E,C,O,I,z])),D(_.shape.slice(0),_.data,_.stride,0|_.offset,f.data,f.stride,0|f.offset,S.data,S.stride,0|S.offset)}}};function s(y){return(0,r[y.funcName])(l.bind(void 0,y))}function l(y){return n[y.funcName]}function u(y){return s({funcName:y.funcName})}var d={},c={},x=u({funcName:"cdiff"}),g=u({funcName:"zero"});function p(y){return y in d?d[y]:d[y]=u({funcName:"fdTemplate"+y})}function v(y,m,_,f){return function(S,T){var E=T.shape.slice();return E[0]>2&&E[1]>2&&f(T.pick(-1,-1).lo(1,1).hi(E[0]-2,E[1]-2),S.pick(-1,-1,0).lo(1,1).hi(E[0]-2,E[1]-2),S.pick(-1,-1,1).lo(1,1).hi(E[0]-2,E[1]-2)),E[1]>2&&(_(T.pick(0,-1).lo(1).hi(E[1]-2),S.pick(0,-1,1).lo(1).hi(E[1]-2)),m(S.pick(0,-1,0).lo(1).hi(E[1]-2))),E[1]>2&&(_(T.pick(E[0]-1,-1).lo(1).hi(E[1]-2),S.pick(E[0]-1,-1,1).lo(1).hi(E[1]-2)),m(S.pick(E[0]-1,-1,0).lo(1).hi(E[1]-2))),E[0]>2&&(_(T.pick(-1,0).lo(1).hi(E[0]-2),S.pick(-1,0,0).lo(1).hi(E[0]-2)),m(S.pick(-1,0,1).lo(1).hi(E[0]-2))),E[0]>2&&(_(T.pick(-1,E[1]-1).lo(1).hi(E[0]-2),S.pick(-1,E[1]-1,0).lo(1).hi(E[0]-2)),m(S.pick(-1,E[1]-1,1).lo(1).hi(E[0]-2))),S.set(0,0,0,0),S.set(0,0,1,0),S.set(E[0]-1,0,0,0),S.set(E[0]-1,0,1,0),S.set(0,E[1]-1,0,0),S.set(0,E[1]-1,1,0),S.set(E[0]-1,E[1]-1,0,0),S.set(E[0]-1,E[1]-1,1,0),S}}h.exports=function(y,m,_){return Array.isArray(_)||(_=i(m.dimension,typeof _=="string"?_:"clamp")),m.size===0?y:m.dimension===0?(y.set(0),y):function(f){var S=f.join();if(O=c[S])return O;for(var T=f.length,E=[x,g],C=1;C<=T;++C)E.push(p(C));var O=v.apply(void 0,E);return c[S]=O,O}(_)(y,m)}},3581:function(h){function o(r,s){var l=Math.floor(s),u=s-l,d=0<=l&&l<r.shape[0],c=0<=l+1&&l+1<r.shape[0];return(1-u)*(d?+r.get(l):0)+u*(c?+r.get(l+1):0)}function t(r,s,l){var u=Math.floor(s),d=s-u,c=0<=u&&u<r.shape[0],x=0<=u+1&&u+1<r.shape[0],g=Math.floor(l),p=l-g,v=0<=g&&g<r.shape[1],y=0<=g+1&&g+1<r.shape[1],m=c&&v?r.get(u,g):0,_=c&&y?r.get(u,g+1):0;return(1-p)*((1-d)*m+d*(x&&v?r.get(u+1,g):0))+p*((1-d)*_+d*(x&&y?r.get(u+1,g+1):0))}function i(r,s,l,u){var d=Math.floor(s),c=s-d,x=0<=d&&d<r.shape[0],g=0<=d+1&&d+1<r.shape[0],p=Math.floor(l),v=l-p,y=0<=p&&p<r.shape[1],m=0<=p+1&&p+1<r.shape[1],_=Math.floor(u),f=u-_,S=0<=_&&_<r.shape[2],T=0<=_+1&&_+1<r.shape[2],E=x&&y&&S?r.get(d,p,_):0,C=x&&m&&S?r.get(d,p+1,_):0,O=g&&y&&S?r.get(d+1,p,_):0,I=g&&m&&S?r.get(d+1,p+1,_):0,z=x&&y&&T?r.get(d,p,_+1):0,U=x&&m&&T?r.get(d,p+1,_+1):0;return(1-f)*((1-v)*((1-c)*E+c*O)+v*((1-c)*C+c*I))+f*((1-v)*((1-c)*z+c*(g&&y&&T?r.get(d+1,p,_+1):0))+v*((1-c)*U+c*(g&&m&&T?r.get(d+1,p+1,_+1):0)))}function n(r){var s,l,u=0|r.shape.length,d=new Array(u),c=new Array(u),x=new Array(u),g=new Array(u);for(s=0;s<u;++s)l=+arguments[s+1],d[s]=Math.floor(l),c[s]=l-d[s],x[s]=0<=d[s]&&d[s]<r.shape[s],g[s]=0<=d[s]+1&&d[s]+1<r.shape[s];var p,v,y,m=0;e:for(s=0;s<1<<u;++s){for(v=1,y=r.offset,p=0;p<u;++p)if(s&1<<p){if(!g[p])continue e;v*=c[p],y+=r.stride[p]*(d[p]+1)}else{if(!x[p])continue e;v*=1-c[p],y+=r.stride[p]*d[p]}m+=v*r.data[y]}return m}h.exports=function(r,s,l,u){switch(r.shape.length){case 0:return 0;case 1:return o(r,s);case 2:return t(r,s,l);case 3:return i(r,s,l,u);default:return n.apply(void 0,arguments)}},h.exports.d1=o,h.exports.d2=t,h.exports.d3=i},7498:function(h,o){var t={"float64,2,1,0":function(){return function(l,u,d,c,x){var g=l[0],p=l[1],v=l[2],y=d[0],m=d[1],_=d[2];c|=0;var f=0,S=0,T=0,E=_,C=m-v*_,O=y-p*m;for(T=0;T<g;++T){for(S=0;S<p;++S){for(f=0;f<v;++f)u[c]/=x,c+=E;c+=C}c+=O}}},"uint8,2,0,1,float64,2,1,0":function(){return function(l,u,d,c,x,g,p,v){for(var y=l[0],m=l[1],_=l[2],f=d[0],S=d[1],T=d[2],E=g[0],C=g[1],O=g[2],I=c|=0,z=p|=0,U=0|l[0];U>0;){U<64?(y=U,U=0):(y=64,U-=64);for(var D=0|l[1];D>0;){D<64?(m=D,D=0):(m=64,D-=64),c=I+U*f+D*S,p=z+U*E+D*C;var B=0,Z=0,F=0,j=T,V=f-_*T,te=S-y*f,Q=O,$=E-_*O,G=C-y*E;for(F=0;F<m;++F){for(Z=0;Z<y;++Z){for(B=0;B<_;++B)u[c]=x[p]*v,c+=j,p+=Q;c+=V,p+=$}c+=te,p+=G}}}}},"float32,1,0,float32,1,0":function(){return function(l,u,d,c,x,g,p){var v=l[0],y=l[1],m=d[0],_=d[1],f=g[0],S=g[1];c|=0,p|=0;var T=0,E=0,C=_,O=m-y*_,I=S,z=f-y*S;for(E=0;E<v;++E){for(T=0;T<y;++T)u[c]=x[p],c+=C,p+=I;c+=O,p+=z}}},"float32,1,0,float32,0,1":function(){return function(l,u,d,c,x,g,p){for(var v=l[0],y=l[1],m=d[0],_=d[1],f=g[0],S=g[1],T=c|=0,E=p|=0,C=0|l[1];C>0;){C<64?(y=C,C=0):(y=64,C-=64);for(var O=0|l[0];O>0;){O<64?(v=O,O=0):(v=64,O-=64),c=T+C*_+O*m,p=E+C*S+O*f;var I=0,z=0,U=_,D=m-y*_,B=S,Z=f-y*S;for(z=0;z<v;++z){for(I=0;I<y;++I)u[c]=x[p],c+=U,p+=B;c+=D,p+=Z}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(l,u,d,c,x,g,p){for(var v=l[0],y=l[1],m=l[2],_=d[0],f=d[1],S=d[2],T=g[0],E=g[1],C=g[2],O=c|=0,I=p|=0,z=0|l[2];z>0;){z<64?(m=z,z=0):(m=64,z-=64);for(var U=0|l[0];U>0;){U<64?(v=U,U=0):(v=64,U-=64);for(var D=0|l[1];D>0;){D<64?(y=D,D=0):(y=64,D-=64),c=O+z*S+U*_+D*f,p=I+z*C+U*T+D*E;var B=0,Z=0,F=0,j=S,V=_-m*S,te=f-v*_,Q=C,$=T-m*C,G=E-v*T;for(F=0;F<y;++F){for(Z=0;Z<v;++Z){for(B=0;B<m;++B)u[c]=x[p],c+=j,p+=Q;c+=V,p+=$}c+=te,p+=G}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(l,u,d,c,x,g,p){var v=l[0],y=l[1],m=l[2],_=d[0],f=d[1],S=d[2],T=g[0],E=g[1],C=g[2];c|=0,p|=0;var O=0,I=0,z=0,U=S,D=_-m*S,B=f-v*_,Z=C,F=T-m*C,j=E-v*T;for(z=0;z<y;++z){for(I=0;I<v;++I){for(O=0;O<m;++O)u[c]=x[p],c+=U,p+=Z;c+=D,p+=F}c+=B,p+=j}}}},i=function(l,u){var d=u.join(",");return(0,t[d])()},n={mul:function(l){var u={};return function(d,c,x){var g=d.dtype,p=d.order,v=c.dtype,y=c.order,m=x.dtype,_=x.order,f=[g,p.join(),v,y.join(),m,_.join()].join(),S=u[f];return S||(u[f]=S=l([g,p,v,y,m,_])),S(d.shape.slice(0),d.data,d.stride,0|d.offset,c.data,c.stride,0|c.offset,x.data,x.stride,0|x.offset)}},muls:function(l){var u={};return function(d,c,x){var g=d.dtype,p=d.order,v=c.dtype,y=c.order,m=[g,p.join(),v,y.join()].join(),_=u[m];return _||(u[m]=_=l([g,p,v,y])),_(d.shape.slice(0),d.data,d.stride,0|d.offset,c.data,c.stride,0|c.offset,x)}},mulseq:function(l){var u={};return function(d,c){var x=d.dtype,g=d.order,p=[x,g.join()].join(),v=u[p];return v||(u[p]=v=l([x,g])),v(d.shape.slice(0),d.data,d.stride,0|d.offset,c)}},div:function(l){var u={};return function(d,c,x){var g=d.dtype,p=d.order,v=c.dtype,y=c.order,m=x.dtype,_=x.order,f=[g,p.join(),v,y.join(),m,_.join()].join(),S=u[f];return S||(u[f]=S=l([g,p,v,y,m,_])),S(d.shape.slice(0),d.data,d.stride,0|d.offset,c.data,c.stride,0|c.offset,x.data,x.stride,0|x.offset)}},divs:function(l){var u={};return function(d,c,x){var g=d.dtype,p=d.order,v=c.dtype,y=c.order,m=[g,p.join(),v,y.join()].join(),_=u[m];return _||(u[m]=_=l([g,p,v,y])),_(d.shape.slice(0),d.data,d.stride,0|d.offset,c.data,c.stride,0|c.offset,x)}},divseq:function(l){var u={};return function(d,c){var x=d.dtype,g=d.order,p=[x,g.join()].join(),v=u[p];return v||(u[p]=v=l([x,g])),v(d.shape.slice(0),d.data,d.stride,0|d.offset,c)}},assign:function(l){var u={};return function(d,c){var x=d.dtype,g=d.order,p=c.dtype,v=c.order,y=[x,g.join(),p,v.join()].join(),m=u[y];return m||(u[y]=m=l([x,g,p,v])),m(d.shape.slice(0),d.data,d.stride,0|d.offset,c.data,c.stride,0|c.offset)}}};function r(l){return u={funcName:l.funcName},(0,n[u.funcName])(i.bind(void 0,u));var u}var s={mul:"*",div:"/"};(function(){for(var l in s)o[l]=r({funcName:l}),o[l+"s"]=r({funcName:l+"s"}),o[l+"seq"]=r({funcName:l+"seq"})})(),o.assign=r({funcName:"assign"})},7382:function(h,o,t){var i=t(5050),n=t(9262);h.exports=function(r,s){for(var l=[],u=r,d=1;Array.isArray(u);)l.push(u.length),d*=u.length,u=u[0];return l.length===0?i():(s||(s=i(new Float64Array(d),l)),n(s,r),s)}},9262:function(h){h.exports=function(o){var t={};return function(i,n){var r=i.dtype,s=i.order,l=[r,s.join()].join(),u=t[l];return u||(t[l]=u=o([r,s])),u(i.shape.slice(0),i.data,i.stride,0|i.offset,n)}}(function(){return function(o,t,i,n,r){var s=o[0],l=o[1],u=o[2],d=i[0],c=i[1],x=i[2],g=[0,0,0];n|=0;var p=0,v=0,y=0,m=x,_=c-u*x,f=d-l*c;for(y=0;y<s;++y){for(v=0;v<l;++v){for(p=0;p<u;++p){var S,T=r;for(S=0;S<g.length-1;++S)T=T[g[S]];t[n]=T[g[g.length-1]],n+=m,++g[2]}n+=_,g[2]-=u,++g[1]}n+=f,g[1]-=l,++g[0]}}}.bind(void 0,{funcName:"convert"}))},8139:function(h,o,t){var i=t(5306);function n(u){return u==="uint32"?[i.mallocUint32,i.freeUint32]:null}var r={"uint32,1,0":function(u,d){return function(c,x,g,p,v,y,m,_,f,S,T){var E,C,O,I,z,U,D,B,Z=c*v+p,F=u(_);for(E=c+1;E<=x;++E){for(C=E,O=Z+=v,z=0,U=Z,I=0;I<_;++I)F[z++]=g[U],U+=f;e:for(;C-- >c;){z=0,U=O-v;t:for(I=0;I<_;++I){if((D=g[U])<(B=F[z]))break e;if(D>B)break t;U+=S,z+=T}for(z=O,U=O-v,I=0;I<_;++I)g[z]=g[U],z+=f,U+=f;O-=v}for(z=O,U=0,I=0;I<_;++I)g[z]=F[U++],z+=f}d(F)}}},s={"uint32,1,0":function(u,d,c){return function x(g,p,v,y,m,_,f,S,T,E,C){var O,I,z,U,D,B,Z,F,j,V,te,Q,$,G,X,J,ne,ie,ae,le,ce,pe,ge,me,ve,Me=(p-g+1)/6|0,_e=g+Me,we=p-Me,oe=g+p>>1,se=oe-Me,de=oe+Me,Ee=_e,Te=se,Se=oe,Le=de,Oe=we,he=g+1,xe=p-1,ke=!0,Re=0,ze=0,Ie=0,He=S,qe=d(He),Je=d(He);te=m*Ee,Q=m*Te,ve=y;e:for(V=0;V<S;++V){if(F=Q+ve,(Ie=v[Z=te+ve]-v[F])>0){I=Ee,Ee=Te,Te=I;break e}if(Ie<0)break e;ve+=E}te=m*Le,Q=m*Oe,ve=y;e:for(V=0;V<S;++V){if(F=Q+ve,(Ie=v[Z=te+ve]-v[F])>0){I=Le,Le=Oe,Oe=I;break e}if(Ie<0)break e;ve+=E}te=m*Ee,Q=m*Se,ve=y;e:for(V=0;V<S;++V){if(F=Q+ve,(Ie=v[Z=te+ve]-v[F])>0){I=Ee,Ee=Se,Se=I;break e}if(Ie<0)break e;ve+=E}te=m*Te,Q=m*Se,ve=y;e:for(V=0;V<S;++V){if(F=Q+ve,(Ie=v[Z=te+ve]-v[F])>0){I=Te,Te=Se,Se=I;break e}if(Ie<0)break e;ve+=E}te=m*Ee,Q=m*Le,ve=y;e:for(V=0;V<S;++V){if(F=Q+ve,(Ie=v[Z=te+ve]-v[F])>0){I=Ee,Ee=Le,Le=I;break e}if(Ie<0)break e;ve+=E}te=m*Se,Q=m*Le,ve=y;e:for(V=0;V<S;++V){if(F=Q+ve,(Ie=v[Z=te+ve]-v[F])>0){I=Se,Se=Le,Le=I;break e}if(Ie<0)break e;ve+=E}te=m*Te,Q=m*Oe,ve=y;e:for(V=0;V<S;++V){if(F=Q+ve,(Ie=v[Z=te+ve]-v[F])>0){I=Te,Te=Oe,Oe=I;break e}if(Ie<0)break e;ve+=E}te=m*Te,Q=m*Se,ve=y;e:for(V=0;V<S;++V){if(F=Q+ve,(Ie=v[Z=te+ve]-v[F])>0){I=Te,Te=Se,Se=I;break e}if(Ie<0)break e;ve+=E}te=m*Le,Q=m*Oe,ve=y;e:for(V=0;V<S;++V){if(F=Q+ve,(Ie=v[Z=te+ve]-v[F])>0){I=Le,Le=Oe,Oe=I;break e}if(Ie<0)break e;ve+=E}for(te=m*Ee,Q=m*Te,$=m*Se,G=m*Le,X=m*Oe,J=m*_e,ne=m*oe,ie=m*we,me=0,ve=y,V=0;V<S;++V)Z=te+ve,F=Q+ve,j=$+ve,ae=G+ve,le=X+ve,ce=J+ve,pe=ne+ve,ge=ie+ve,qe[me]=v[F],Je[me]=v[ae],ke=ke&&qe[me]===Je[me],z=v[Z],U=v[j],D=v[le],v[ce]=z,v[pe]=U,v[ge]=D,++me,ve+=T;for(te=m*se,Q=m*g,ve=y,V=0;V<S;++V)F=Q+ve,v[Z=te+ve]=v[F],ve+=T;for(te=m*de,Q=m*p,ve=y,V=0;V<S;++V)F=Q+ve,v[Z=te+ve]=v[F],ve+=T;if(ke)for(B=he;B<=xe;++B){for(Z=y+B*m,me=0,V=0;V<S&&(Ie=v[Z]-qe[me])==0;++V)me+=C,Z+=E;if(Ie!==0)if(Ie<0){if(B!==he)for(te=m*B,Q=m*he,ve=y,V=0;V<S;++V)F=Q+ve,O=v[Z=te+ve],v[Z]=v[F],v[F]=O,ve+=T;++he}else for(;;){for(Z=y+xe*m,me=0,V=0;V<S&&(Ie=v[Z]-qe[me])==0;++V)me+=C,Z+=E;if(!(Ie>0)){if(Ie<0){for(te=m*B,Q=m*he,$=m*xe,ve=y,V=0;V<S;++V)F=Q+ve,j=$+ve,O=v[Z=te+ve],v[Z]=v[F],v[F]=v[j],v[j]=O,ve+=T;++he,--xe;break}for(te=m*B,Q=m*xe,ve=y,V=0;V<S;++V)F=Q+ve,O=v[Z=te+ve],v[Z]=v[F],v[F]=O,ve+=T;--xe;break}xe--}}else for(B=he;B<=xe;++B){for(Z=y+B*m,me=0,V=0;V<S&&(Re=v[Z]-qe[me])==0;++V)me+=C,Z+=E;if(Re<0){if(B!==he)for(te=m*B,Q=m*he,ve=y,V=0;V<S;++V)F=Q+ve,O=v[Z=te+ve],v[Z]=v[F],v[F]=O,ve+=T;++he}else{for(Z=y+B*m,me=0,V=0;V<S&&(ze=v[Z]-Je[me])==0;++V)me+=C,Z+=E;if(ze>0)for(;;){for(Z=y+xe*m,me=0,V=0;V<S&&(Ie=v[Z]-Je[me])==0;++V)me+=C,Z+=E;if(!(Ie>0)){for(Z=y+xe*m,me=0,V=0;V<S&&(Ie=v[Z]-qe[me])==0;++V)me+=C,Z+=E;if(Ie<0){for(te=m*B,Q=m*he,$=m*xe,ve=y,V=0;V<S;++V)F=Q+ve,j=$+ve,O=v[Z=te+ve],v[Z]=v[F],v[F]=v[j],v[j]=O,ve+=T;++he,--xe}else{for(te=m*B,Q=m*xe,ve=y,V=0;V<S;++V)F=Q+ve,O=v[Z=te+ve],v[Z]=v[F],v[F]=O,ve+=T;--xe}break}if(--xe<B)break}}}for(te=m*g,Q=m*(he-1),me=0,ve=y,V=0;V<S;++V)F=Q+ve,v[Z=te+ve]=v[F],v[F]=qe[me],++me,ve+=T;for(te=m*p,Q=m*(xe+1),me=0,ve=y,V=0;V<S;++V)F=Q+ve,v[Z=te+ve]=v[F],v[F]=Je[me],++me,ve+=T;if(he-2-g<=32?u(g,he-2,v,y,m,_,f,S,T,E,C):x(g,he-2,v,y,m,_,f,S,T,E,C),p-(xe+2)<=32?u(xe+2,p,v,y,m,_,f,S,T,E,C):x(xe+2,p,v,y,m,_,f,S,T,E,C),ke)return c(qe),void c(Je);if(he<_e&&xe>we){e:for(;;){for(Z=y+he*m,me=0,ve=y,V=0;V<S;++V){if(v[Z]!==qe[me])break e;++me,Z+=T}++he}e:for(;;){for(Z=y+xe*m,me=0,ve=y,V=0;V<S;++V){if(v[Z]!==Je[me])break e;++me,Z+=T}--xe}for(B=he;B<=xe;++B){for(Z=y+B*m,me=0,V=0;V<S&&(Re=v[Z]-qe[me])==0;++V)me+=C,Z+=E;if(Re===0){if(B!==he)for(te=m*B,Q=m*he,ve=y,V=0;V<S;++V)F=Q+ve,O=v[Z=te+ve],v[Z]=v[F],v[F]=O,ve+=T;++he}else{for(Z=y+B*m,me=0,V=0;V<S&&(ze=v[Z]-Je[me])==0;++V)me+=C,Z+=E;if(ze===0)for(;;){for(Z=y+xe*m,me=0,V=0;V<S&&(Ie=v[Z]-Je[me])==0;++V)me+=C,Z+=E;if(Ie!==0){for(Z=y+xe*m,me=0,V=0;V<S&&(Ie=v[Z]-qe[me])==0;++V)me+=C,Z+=E;if(Ie<0){for(te=m*B,Q=m*he,$=m*xe,ve=y,V=0;V<S;++V)F=Q+ve,j=$+ve,O=v[Z=te+ve],v[Z]=v[F],v[F]=v[j],v[j]=O,ve+=T;++he,--xe}else{for(te=m*B,Q=m*xe,ve=y,V=0;V<S;++V)F=Q+ve,O=v[Z=te+ve],v[Z]=v[F],v[F]=O,ve+=T;--xe}break}if(--xe<B)break}}}}c(qe),c(Je),xe-he<=32?u(he,xe,v,y,m,_,f,S,T,E,C):x(he,xe,v,y,m,_,f,S,T,E,C)}}},l={"uint32,1,0":function(u,d){return function(c){var x=c.data,g=0|c.offset,p=c.shape,v=c.stride,y=0|v[0],m=0|p[0],_=0|v[1],f=0|p[1],S=_,T=_;m<=32?u(0,m-1,x,g,y,_,m,f,S,T,1):d(0,m-1,x,g,y,_,m,f,S,T,1)}}};h.exports=function(u,d){var c=[d,u].join(","),x=l[c],g=function(v,y){var m=n(y),_=[y,v].join(","),f=r[_];return m?f(m[0],m[1]):f()}(u,d),p=function(v,y,m){var _=n(y),f=[y,v].join(","),S=s[f];return v.length>1&&_?S(m,_[0],_[1]):S(m)}(u,d,g);return x(g,p)}},8729:function(h,o,t){var i=t(8139),n={};h.exports=function(r){var s=r.order,l=r.dtype,u=[s,l].join(":"),d=n[u];return d||(n[u]=d=i(s,l)),d(r),r}},5050:function(h,o,t){var i=t(4780),n=typeof Float64Array<"u";function r(c,x){return c[0]-x[0]}function s(){var c,x=this.stride,g=new Array(x.length);for(c=0;c<g.length;++c)g[c]=[Math.abs(x[c]),c];g.sort(r);var p=new Array(g.length);for(c=0;c<p.length;++c)p[c]=g[c][1];return p}var l={T:function(c){function x(p){this.data=p}var g=x.prototype;return g.dtype=c,g.index=function(){return-1},g.size=0,g.dimension=-1,g.shape=g.stride=g.order=[],g.lo=g.hi=g.transpose=g.step=function(){return new x(this.data)},g.get=g.set=function(){},g.pick=function(){return null},function(p){return new x(p)}},0:function(c,x){function g(v,y){this.data=v,this.offset=y}var p=g.prototype;return p.dtype=c,p.index=function(){return this.offset},p.dimension=0,p.size=1,p.shape=p.stride=p.order=[],p.lo=p.hi=p.transpose=p.step=function(){return new g(this.data,this.offset)},p.pick=function(){return x(this.data)},p.valueOf=p.get=function(){return c==="generic"?this.data.get(this.offset):this.data[this.offset]},p.set=function(v){return c==="generic"?this.data.set(this.offset,v):this.data[this.offset]=v},function(v,y,m,_){return new g(v,_)}},1:function(c,x,g){function p(y,m,_,f){this.data=y,this.shape=[m],this.stride=[_],this.offset=0|f}var v=p.prototype;return v.dtype=c,v.dimension=1,Object.defineProperty(v,"size",{get:function(){return this.shape[0]}}),v.order=[0],v.set=function(y,m){return c==="generic"?this.data.set(this.offset+this.stride[0]*y,m):this.data[this.offset+this.stride[0]*y]=m},v.get=function(y){return c==="generic"?this.data.get(this.offset+this.stride[0]*y):this.data[this.offset+this.stride[0]*y]},v.index=function(y){return this.offset+this.stride[0]*y},v.hi=function(y){return new p(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,this.stride[0],this.offset)},v.lo=function(y){var m=this.offset,_=0,f=this.shape[0],S=this.stride[0];return typeof y=="number"&&y>=0&&(m+=S*(_=0|y),f-=_),new p(this.data,f,S,m)},v.step=function(y){var m=this.shape[0],_=this.stride[0],f=this.offset,S=0,T=Math.ceil;return typeof y=="number"&&((S=0|y)<0?(f+=_*(m-1),m=T(-m/S)):m=T(m/S),_*=S),new p(this.data,m,_,f)},v.transpose=function(y){y=y===void 0?0:0|y;var m=this.shape,_=this.stride;return new p(this.data,m[y],_[y],this.offset)},v.pick=function(y){var m=[],_=[],f=this.offset;return typeof y=="number"&&y>=0?f=f+this.stride[0]*y|0:(m.push(this.shape[0]),_.push(this.stride[0])),(0,x[m.length+1])(this.data,m,_,f)},function(y,m,_,f){return new p(y,m[0],_[0],f)}},2:function(c,x,g){function p(y,m,_,f,S,T){this.data=y,this.shape=[m,_],this.stride=[f,S],this.offset=0|T}var v=p.prototype;return v.dtype=c,v.dimension=2,Object.defineProperty(v,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(v,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),v.set=function(y,m,_){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*m,_):this.data[this.offset+this.stride[0]*y+this.stride[1]*m]=_},v.get=function(y,m){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*m):this.data[this.offset+this.stride[0]*y+this.stride[1]*m]},v.index=function(y,m){return this.offset+this.stride[0]*y+this.stride[1]*m},v.hi=function(y,m){return new p(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,typeof m!="number"||m<0?this.shape[1]:0|m,this.stride[0],this.stride[1],this.offset)},v.lo=function(y,m){var _=this.offset,f=0,S=this.shape[0],T=this.shape[1],E=this.stride[0],C=this.stride[1];return typeof y=="number"&&y>=0&&(_+=E*(f=0|y),S-=f),typeof m=="number"&&m>=0&&(_+=C*(f=0|m),T-=f),new p(this.data,S,T,E,C,_)},v.step=function(y,m){var _=this.shape[0],f=this.shape[1],S=this.stride[0],T=this.stride[1],E=this.offset,C=0,O=Math.ceil;return typeof y=="number"&&((C=0|y)<0?(E+=S*(_-1),_=O(-_/C)):_=O(_/C),S*=C),typeof m=="number"&&((C=0|m)<0?(E+=T*(f-1),f=O(-f/C)):f=O(f/C),T*=C),new p(this.data,_,f,S,T,E)},v.transpose=function(y,m){y=y===void 0?0:0|y,m=m===void 0?1:0|m;var _=this.shape,f=this.stride;return new p(this.data,_[y],_[m],f[y],f[m],this.offset)},v.pick=function(y,m){var _=[],f=[],S=this.offset;return typeof y=="number"&&y>=0?S=S+this.stride[0]*y|0:(_.push(this.shape[0]),f.push(this.stride[0])),typeof m=="number"&&m>=0?S=S+this.stride[1]*m|0:(_.push(this.shape[1]),f.push(this.stride[1])),(0,x[_.length+1])(this.data,_,f,S)},function(y,m,_,f){return new p(y,m[0],m[1],_[0],_[1],f)}},3:function(c,x,g){function p(y,m,_,f,S,T,E,C){this.data=y,this.shape=[m,_,f],this.stride=[S,T,E],this.offset=0|C}var v=p.prototype;return v.dtype=c,v.dimension=3,Object.defineProperty(v,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(v,"order",{get:function(){var y=Math.abs(this.stride[0]),m=Math.abs(this.stride[1]),_=Math.abs(this.stride[2]);return y>m?m>_?[2,1,0]:y>_?[1,2,0]:[1,0,2]:y>_?[2,0,1]:_>m?[0,1,2]:[0,2,1]}}),v.set=function(y,m,_,f){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*_,f):this.data[this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*_]=f},v.get=function(y,m,_){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*_):this.data[this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*_]},v.index=function(y,m,_){return this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*_},v.hi=function(y,m,_){return new p(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,typeof m!="number"||m<0?this.shape[1]:0|m,typeof _!="number"||_<0?this.shape[2]:0|_,this.stride[0],this.stride[1],this.stride[2],this.offset)},v.lo=function(y,m,_){var f=this.offset,S=0,T=this.shape[0],E=this.shape[1],C=this.shape[2],O=this.stride[0],I=this.stride[1],z=this.stride[2];return typeof y=="number"&&y>=0&&(f+=O*(S=0|y),T-=S),typeof m=="number"&&m>=0&&(f+=I*(S=0|m),E-=S),typeof _=="number"&&_>=0&&(f+=z*(S=0|_),C-=S),new p(this.data,T,E,C,O,I,z,f)},v.step=function(y,m,_){var f=this.shape[0],S=this.shape[1],T=this.shape[2],E=this.stride[0],C=this.stride[1],O=this.stride[2],I=this.offset,z=0,U=Math.ceil;return typeof y=="number"&&((z=0|y)<0?(I+=E*(f-1),f=U(-f/z)):f=U(f/z),E*=z),typeof m=="number"&&((z=0|m)<0?(I+=C*(S-1),S=U(-S/z)):S=U(S/z),C*=z),typeof _=="number"&&((z=0|_)<0?(I+=O*(T-1),T=U(-T/z)):T=U(T/z),O*=z),new p(this.data,f,S,T,E,C,O,I)},v.transpose=function(y,m,_){y=y===void 0?0:0|y,m=m===void 0?1:0|m,_=_===void 0?2:0|_;var f=this.shape,S=this.stride;return new p(this.data,f[y],f[m],f[_],S[y],S[m],S[_],this.offset)},v.pick=function(y,m,_){var f=[],S=[],T=this.offset;return typeof y=="number"&&y>=0?T=T+this.stride[0]*y|0:(f.push(this.shape[0]),S.push(this.stride[0])),typeof m=="number"&&m>=0?T=T+this.stride[1]*m|0:(f.push(this.shape[1]),S.push(this.stride[1])),typeof _=="number"&&_>=0?T=T+this.stride[2]*_|0:(f.push(this.shape[2]),S.push(this.stride[2])),(0,x[f.length+1])(this.data,f,S,T)},function(y,m,_,f){return new p(y,m[0],m[1],m[2],_[0],_[1],_[2],f)}},4:function(c,x,g){function p(y,m,_,f,S,T,E,C,O,I){this.data=y,this.shape=[m,_,f,S],this.stride=[T,E,C,O],this.offset=0|I}var v=p.prototype;return v.dtype=c,v.dimension=4,Object.defineProperty(v,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(v,"order",{get:g}),v.set=function(y,m,_,f,S){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*_+this.stride[3]*f,S):this.data[this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*_+this.stride[3]*f]=S},v.get=function(y,m,_,f){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*_+this.stride[3]*f):this.data[this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*_+this.stride[3]*f]},v.index=function(y,m,_,f){return this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*_+this.stride[3]*f},v.hi=function(y,m,_,f){return new p(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,typeof m!="number"||m<0?this.shape[1]:0|m,typeof _!="number"||_<0?this.shape[2]:0|_,typeof f!="number"||f<0?this.shape[3]:0|f,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},v.lo=function(y,m,_,f){var S=this.offset,T=0,E=this.shape[0],C=this.shape[1],O=this.shape[2],I=this.shape[3],z=this.stride[0],U=this.stride[1],D=this.stride[2],B=this.stride[3];return typeof y=="number"&&y>=0&&(S+=z*(T=0|y),E-=T),typeof m=="number"&&m>=0&&(S+=U*(T=0|m),C-=T),typeof _=="number"&&_>=0&&(S+=D*(T=0|_),O-=T),typeof f=="number"&&f>=0&&(S+=B*(T=0|f),I-=T),new p(this.data,E,C,O,I,z,U,D,B,S)},v.step=function(y,m,_,f){var S=this.shape[0],T=this.shape[1],E=this.shape[2],C=this.shape[3],O=this.stride[0],I=this.stride[1],z=this.stride[2],U=this.stride[3],D=this.offset,B=0,Z=Math.ceil;return typeof y=="number"&&((B=0|y)<0?(D+=O*(S-1),S=Z(-S/B)):S=Z(S/B),O*=B),typeof m=="number"&&((B=0|m)<0?(D+=I*(T-1),T=Z(-T/B)):T=Z(T/B),I*=B),typeof _=="number"&&((B=0|_)<0?(D+=z*(E-1),E=Z(-E/B)):E=Z(E/B),z*=B),typeof f=="number"&&((B=0|f)<0?(D+=U*(C-1),C=Z(-C/B)):C=Z(C/B),U*=B),new p(this.data,S,T,E,C,O,I,z,U,D)},v.transpose=function(y,m,_,f){y=y===void 0?0:0|y,m=m===void 0?1:0|m,_=_===void 0?2:0|_,f=f===void 0?3:0|f;var S=this.shape,T=this.stride;return new p(this.data,S[y],S[m],S[_],S[f],T[y],T[m],T[_],T[f],this.offset)},v.pick=function(y,m,_,f){var S=[],T=[],E=this.offset;return typeof y=="number"&&y>=0?E=E+this.stride[0]*y|0:(S.push(this.shape[0]),T.push(this.stride[0])),typeof m=="number"&&m>=0?E=E+this.stride[1]*m|0:(S.push(this.shape[1]),T.push(this.stride[1])),typeof _=="number"&&_>=0?E=E+this.stride[2]*_|0:(S.push(this.shape[2]),T.push(this.stride[2])),typeof f=="number"&&f>=0?E=E+this.stride[3]*f|0:(S.push(this.shape[3]),T.push(this.stride[3])),(0,x[S.length+1])(this.data,S,T,E)},function(y,m,_,f){return new p(y,m[0],m[1],m[2],m[3],_[0],_[1],_[2],_[3],f)}},5:function(c,x,g){function p(y,m,_,f,S,T,E,C,O,I,z,U){this.data=y,this.shape=[m,_,f,S,T],this.stride=[E,C,O,I,z],this.offset=0|U}var v=p.prototype;return v.dtype=c,v.dimension=5,Object.defineProperty(v,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(v,"order",{get:g}),v.set=function(y,m,_,f,S,T){return c==="generic"?this.data.set(this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*_+this.stride[3]*f+this.stride[4]*S,T):this.data[this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*_+this.stride[3]*f+this.stride[4]*S]=T},v.get=function(y,m,_,f,S){return c==="generic"?this.data.get(this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*_+this.stride[3]*f+this.stride[4]*S):this.data[this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*_+this.stride[3]*f+this.stride[4]*S]},v.index=function(y,m,_,f,S){return this.offset+this.stride[0]*y+this.stride[1]*m+this.stride[2]*_+this.stride[3]*f+this.stride[4]*S},v.hi=function(y,m,_,f,S){return new p(this.data,typeof y!="number"||y<0?this.shape[0]:0|y,typeof m!="number"||m<0?this.shape[1]:0|m,typeof _!="number"||_<0?this.shape[2]:0|_,typeof f!="number"||f<0?this.shape[3]:0|f,typeof S!="number"||S<0?this.shape[4]:0|S,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},v.lo=function(y,m,_,f,S){var T=this.offset,E=0,C=this.shape[0],O=this.shape[1],I=this.shape[2],z=this.shape[3],U=this.shape[4],D=this.stride[0],B=this.stride[1],Z=this.stride[2],F=this.stride[3],j=this.stride[4];return typeof y=="number"&&y>=0&&(T+=D*(E=0|y),C-=E),typeof m=="number"&&m>=0&&(T+=B*(E=0|m),O-=E),typeof _=="number"&&_>=0&&(T+=Z*(E=0|_),I-=E),typeof f=="number"&&f>=0&&(T+=F*(E=0|f),z-=E),typeof S=="number"&&S>=0&&(T+=j*(E=0|S),U-=E),new p(this.data,C,O,I,z,U,D,B,Z,F,j,T)},v.step=function(y,m,_,f,S){var T=this.shape[0],E=this.shape[1],C=this.shape[2],O=this.shape[3],I=this.shape[4],z=this.stride[0],U=this.stride[1],D=this.stride[2],B=this.stride[3],Z=this.stride[4],F=this.offset,j=0,V=Math.ceil;return typeof y=="number"&&((j=0|y)<0?(F+=z*(T-1),T=V(-T/j)):T=V(T/j),z*=j),typeof m=="number"&&((j=0|m)<0?(F+=U*(E-1),E=V(-E/j)):E=V(E/j),U*=j),typeof _=="number"&&((j=0|_)<0?(F+=D*(C-1),C=V(-C/j)):C=V(C/j),D*=j),typeof f=="number"&&((j=0|f)<0?(F+=B*(O-1),O=V(-O/j)):O=V(O/j),B*=j),typeof S=="number"&&((j=0|S)<0?(F+=Z*(I-1),I=V(-I/j)):I=V(I/j),Z*=j),new p(this.data,T,E,C,O,I,z,U,D,B,Z,F)},v.transpose=function(y,m,_,f,S){y=y===void 0?0:0|y,m=m===void 0?1:0|m,_=_===void 0?2:0|_,f=f===void 0?3:0|f,S=S===void 0?4:0|S;var T=this.shape,E=this.stride;return new p(this.data,T[y],T[m],T[_],T[f],T[S],E[y],E[m],E[_],E[f],E[S],this.offset)},v.pick=function(y,m,_,f,S){var T=[],E=[],C=this.offset;return typeof y=="number"&&y>=0?C=C+this.stride[0]*y|0:(T.push(this.shape[0]),E.push(this.stride[0])),typeof m=="number"&&m>=0?C=C+this.stride[1]*m|0:(T.push(this.shape[1]),E.push(this.stride[1])),typeof _=="number"&&_>=0?C=C+this.stride[2]*_|0:(T.push(this.shape[2]),E.push(this.stride[2])),typeof f=="number"&&f>=0?C=C+this.stride[3]*f|0:(T.push(this.shape[3]),E.push(this.stride[3])),typeof S=="number"&&S>=0?C=C+this.stride[4]*S|0:(T.push(this.shape[4]),E.push(this.stride[4])),(0,x[T.length+1])(this.data,T,E,C)},function(y,m,_,f){return new p(y,m[0],m[1],m[2],m[3],m[4],_[0],_[1],_[2],_[3],_[4],f)}}};function u(c,x){var g=x===-1?"T":String(x),p=l[g];return x===-1?p(c):x===0?p(c,d[c][0]):p(c,d[c],s)}var d={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};h.exports=function(c,x,g,p){if(c===void 0)return(0,d.array[0])([]);typeof c=="number"&&(c=[c]),x===void 0&&(x=[c.length]);var v=x.length;if(g===void 0){g=new Array(v);for(var y=v-1,m=1;y>=0;--y)g[y]=m,m*=x[y]}if(p===void 0)for(p=0,y=0;y<v;++y)g[y]<0&&(p-=(x[y]-1)*g[y]);for(var _=function(S){if(i(S))return"buffer";if(n)switch(Object.prototype.toString.call(S)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(S)?"array":"generic"}(c),f=d[_];f.length<=v+1;)f.push(u(_,f.length-1));return(0,f[v+1])(c,x,g,p)}},8551:function(h,o,t){var i=t(8362),n=Math.pow(2,-1074),r=-1>>>0;h.exports=function(s,l){if(isNaN(s)||isNaN(l))return NaN;if(s===l)return s;if(s===0)return l<0?-n:n;var u=i.hi(s),d=i.lo(s);return l>s==s>0?d===r?(u+=1,d=0):d+=1:d===0?(d=r,u-=1):d-=1,i.pack(d,u)}},115:function(h,o){o.vertexNormals=function(t,i,n){for(var r=i.length,s=new Array(r),l=n===void 0?1e-6:n,u=0;u<r;++u)s[u]=[0,0,0];for(u=0;u<t.length;++u)for(var d=t[u],c=0,x=d[d.length-1],g=d[0],p=0;p<d.length;++p){c=x,x=g,g=d[(p+1)%d.length];for(var v=i[c],y=i[x],m=i[g],_=new Array(3),f=0,S=new Array(3),T=0,E=0;E<3;++E)_[E]=v[E]-y[E],f+=_[E]*_[E],S[E]=m[E]-y[E],T+=S[E]*S[E];if(f*T>l){var C=s[x],O=1/Math.sqrt(f*T);for(E=0;E<3;++E){var I=(E+1)%3,z=(E+2)%3;C[E]+=O*(S[I]*_[z]-S[z]*_[I])}}}for(u=0;u<r;++u){C=s[u];var U=0;for(E=0;E<3;++E)U+=C[E]*C[E];if(U>l)for(O=1/Math.sqrt(U),E=0;E<3;++E)C[E]*=O;else for(E=0;E<3;++E)C[E]=0}return s},o.faceNormals=function(t,i,n){for(var r=t.length,s=new Array(r),l=n===void 0?1e-6:n,u=0;u<r;++u){for(var d=t[u],c=new Array(3),x=0;x<3;++x)c[x]=i[d[x]];var g=new Array(3),p=new Array(3);for(x=0;x<3;++x)g[x]=c[1][x]-c[0][x],p[x]=c[2][x]-c[0][x];var v=new Array(3),y=0;for(x=0;x<3;++x){var m=(x+1)%3,_=(x+2)%3;v[x]=g[m]*p[_]-g[_]*p[m],y+=v[x]*v[x]}for(y=y>l?1/Math.sqrt(y):0,x=0;x<3;++x)v[x]*=y;s[u]=v}return s}},567:function(h){h.exports=function(o,t,i,n,r,s,l,u,d,c){var x=t+s+c;if(g>0){var g=Math.sqrt(x+1);o[0]=.5*(l-d)/g,o[1]=.5*(u-n)/g,o[2]=.5*(i-s)/g,o[3]=.5*g}else{var p=Math.max(t,s,c);g=Math.sqrt(2*p-x+1),t>=p?(o[0]=.5*g,o[1]=.5*(r+i)/g,o[2]=.5*(u+n)/g,o[3]=.5*(l-d)/g):s>=p?(o[0]=.5*(i+r)/g,o[1]=.5*g,o[2]=.5*(d+l)/g,o[3]=.5*(u-n)/g):(o[0]=.5*(n+u)/g,o[1]=.5*(l+d)/g,o[2]=.5*g,o[3]=.5*(i-r)/g)}return o}},7774:function(h,o,t){h.exports=function(p){var v=(p=p||{}).center||[0,0,0],y=p.rotation||[0,0,0,1],m=p.radius||1;v=[].slice.call(v,0,3),c(y=[].slice.call(y,0,4),y);var _=new x(y,v,Math.log(m));return _.setDistanceLimits(p.zoomMin,p.zoomMax),("eye"in p||"up"in p)&&_.lookAt(0,p.eye,p.center,p.up),_};var i=t(8444),n=t(3012),r=t(5950),s=t(7437),l=t(567);function u(p,v,y){return Math.sqrt(Math.pow(p,2)+Math.pow(v,2)+Math.pow(y,2))}function d(p,v,y,m){return Math.sqrt(Math.pow(p,2)+Math.pow(v,2)+Math.pow(y,2)+Math.pow(m,2))}function c(p,v){var y=v[0],m=v[1],_=v[2],f=v[3],S=d(y,m,_,f);S>1e-6?(p[0]=y/S,p[1]=m/S,p[2]=_/S,p[3]=f/S):(p[0]=p[1]=p[2]=0,p[3]=1)}function x(p,v,y){this.radius=i([y]),this.center=i(v),this.rotation=i(p),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var g=x.prototype;g.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},g.recalcMatrix=function(p){this.radius.curve(p),this.center.curve(p),this.rotation.curve(p);var v=this.computedRotation;c(v,v);var y=this.computedMatrix;r(y,v);var m=this.computedCenter,_=this.computedEye,f=this.computedUp,S=Math.exp(this.computedRadius[0]);_[0]=m[0]+S*y[2],_[1]=m[1]+S*y[6],_[2]=m[2]+S*y[10],f[0]=y[1],f[1]=y[5],f[2]=y[9];for(var T=0;T<3;++T){for(var E=0,C=0;C<3;++C)E+=y[T+4*C]*_[C];y[12+T]=-E}},g.getMatrix=function(p,v){this.recalcMatrix(p);var y=this.computedMatrix;if(v){for(var m=0;m<16;++m)v[m]=y[m];return v}return y},g.idle=function(p){this.center.idle(p),this.radius.idle(p),this.rotation.idle(p)},g.flush=function(p){this.center.flush(p),this.radius.flush(p),this.rotation.flush(p)},g.pan=function(p,v,y,m){v=v||0,y=y||0,m=m||0,this.recalcMatrix(p);var _=this.computedMatrix,f=_[1],S=_[5],T=_[9],E=u(f,S,T);f/=E,S/=E,T/=E;var C=_[0],O=_[4],I=_[8],z=C*f+O*S+I*T,U=u(C-=f*z,O-=S*z,I-=T*z);C/=U,O/=U,I/=U,_[2],_[6],_[10];var D=C*v+f*y,B=O*v+S*y,Z=I*v+T*y;this.center.move(p,D,B,Z);var F=Math.exp(this.computedRadius[0]);F=Math.max(1e-4,F+m),this.radius.set(p,Math.log(F))},g.rotate=function(p,v,y,m){this.recalcMatrix(p),v=v||0,y=y||0;var _=this.computedMatrix,f=_[0],S=_[4],T=_[8],E=_[1],C=_[5],O=_[9],I=_[2],z=_[6],U=_[10],D=v*f+y*E,B=v*S+y*C,Z=v*T+y*O,F=-(z*Z-U*B),j=-(U*D-I*Z),V=-(I*B-z*D),te=Math.sqrt(Math.max(0,1-Math.pow(F,2)-Math.pow(j,2)-Math.pow(V,2))),Q=d(F,j,V,te);Q>1e-6?(F/=Q,j/=Q,V/=Q,te/=Q):(F=j=V=0,te=1);var $=this.computedRotation,G=$[0],X=$[1],J=$[2],ne=$[3],ie=G*te+ne*F+X*V-J*j,ae=X*te+ne*j+J*F-G*V,le=J*te+ne*V+G*j-X*F,ce=ne*te-G*F-X*j-J*V;if(m){F=I,j=z,V=U;var pe=Math.sin(m)/u(F,j,V);F*=pe,j*=pe,V*=pe,ce=ce*(te=Math.cos(v))-(ie=ie*te+ce*F+ae*V-le*j)*F-(ae=ae*te+ce*j+le*F-ie*V)*j-(le=le*te+ce*V+ie*j-ae*F)*V}var ge=d(ie,ae,le,ce);ge>1e-6?(ie/=ge,ae/=ge,le/=ge,ce/=ge):(ie=ae=le=0,ce=1),this.rotation.set(p,ie,ae,le,ce)},g.lookAt=function(p,v,y,m){this.recalcMatrix(p),y=y||this.computedCenter,v=v||this.computedEye,m=m||this.computedUp;var _=this.computedMatrix;n(_,v,y,m);var f=this.computedRotation;l(f,_[0],_[1],_[2],_[4],_[5],_[6],_[8],_[9],_[10]),c(f,f),this.rotation.set(p,f[0],f[1],f[2],f[3]);for(var S=0,T=0;T<3;++T)S+=Math.pow(y[T]-v[T],2);this.radius.set(p,.5*Math.log(Math.max(S,1e-6))),this.center.set(p,y[0],y[1],y[2])},g.translate=function(p,v,y,m){this.center.move(p,v||0,y||0,m||0)},g.setMatrix=function(p,v){var y=this.computedRotation;l(y,v[0],v[1],v[2],v[4],v[5],v[6],v[8],v[9],v[10]),c(y,y),this.rotation.set(p,y[0],y[1],y[2],y[3]);var m=this.computedMatrix;s(m,v);var _=m[15];if(Math.abs(_)>1e-6){var f=m[12]/_,S=m[13]/_,T=m[14]/_;this.recalcMatrix(p);var E=Math.exp(this.computedRadius[0]);this.center.set(p,f-m[2]*E,S-m[6]*E,T-m[10]*E),this.radius.idle(p)}else this.center.idle(p),this.radius.idle(p)},g.setDistance=function(p,v){v>0&&this.radius.set(p,Math.log(v))},g.setDistanceLimits=function(p,v){p=p>0?Math.log(p):-1/0,v=v>0?Math.log(v):1/0,v=Math.max(v,p),this.radius.bounds[0][0]=p,this.radius.bounds[1][0]=v},g.getDistanceLimits=function(p){var v=this.radius.bounds;return p?(p[0]=Math.exp(v[0][0]),p[1]=Math.exp(v[1][0]),p):[Math.exp(v[0][0]),Math.exp(v[1][0])]},g.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},g.fromJSON=function(p){var v=this.lastT(),y=p.center;y&&this.center.set(v,y[0],y[1],y[2]);var m=p.rotation;m&&this.rotation.set(v,m[0],m[1],m[2],m[3]);var _=p.distance;_&&_>0&&this.radius.set(v,Math.log(_)),this.setDistanceLimits(p.zoomMin,p.zoomMax)}},4930:function(h,o,t){var i=t(6184);h.exports=function(n,r,s){return i(s=s!==void 0?s+"":" ",r)+n}},4405:function(h){h.exports=function(o,t){t||(t=[0,""]),o=String(o);var i=parseFloat(o,10);return t[0]=i,t[1]=o.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},4166:function(h,o,t){h.exports=function(n,r){for(var s=0|r.length,l=n.length,u=[new Array(s),new Array(s)],d=0;d<s;++d)u[0][d]=[],u[1][d]=[];for(d=0;d<l;++d){var c=n[d];u[0][c[0]].push(c),u[1][c[1]].push(c)}var x=[];for(d=0;d<s;++d)u[0][d].length+u[1][d].length===0&&x.push([d]);function g(S,T){var E=u[T][S[T]];E.splice(E.indexOf(S),1)}function p(S,T,E){for(var C,O,I,z=0;z<2;++z)if(u[z][T].length>0){C=u[z][T][0],I=z;break}O=C[1^I];for(var U=0;U<2;++U)for(var D=u[U][T],B=0;B<D.length;++B){var Z=D[B],F=Z[1^U];i(r[S],r[T],r[O],r[F])>0&&(C=Z,O=F,I=U)}return E||C&&g(C,I),O}function v(S,T){var E=u[T][S][0],C=[S];g(E,T);for(var O=E[1^T];;){for(;O!==S;)C.push(O),O=p(C[C.length-2],O,!1);if(u[0][S].length+u[1][S].length===0)break;var I=C[C.length-1],z=S,U=C[1],D=p(I,z,!0);if(i(r[I],r[z],r[U],r[D])<0)break;C.push(S),O=p(I,z)}return C}function y(S,T){return T[1]===T[T.length-1]}for(d=0;d<s;++d)for(var m=0;m<2;++m){for(var _=[];u[m][d].length>0;){u[0][d].length;var f=v(d,m);y(0,f)?_.push.apply(_,f):(_.length>0&&x.push(_),_=f)}_.length>0&&x.push(_)}return x};var i=t(9398)},3959:function(h,o,t){h.exports=function(n,r){for(var s=i(n,r.length),l=new Array(r.length),u=new Array(r.length),d=[],c=0;c<r.length;++c){var x=s[c].length;u[c]=x,l[c]=!0,x<=1&&d.push(c)}for(;d.length>0;){l[m=d.pop()]=!1;var g=s[m];for(c=0;c<g.length;++c){var p=g[c];--u[p]==0&&d.push(p)}}var v=new Array(r.length),y=[];for(c=0;c<r.length;++c)if(l[c]){var m=y.length;v[c]=m,y.push(r[c])}else v[c]=-1;var _=[];for(c=0;c<n.length;++c){var f=n[c];l[f[0]]&&l[f[1]]&&_.push([v[f[0]],v[f[1]]])}return[_,y]};var i=t(8348)},8040:function(h,o,t){h.exports=function(x,g){var p=d(x,g);x=p[0];for(var v=(g=p[1]).length,y=(x.length,i(x,g.length)),m=0;m<v;++m)if(y[m].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var _=n(x,g),f=(_=_.filter(function(Me){for(var _e=Me.length,we=[0],oe=0;oe<_e;++oe){var se=g[Me[oe]],de=g[Me[(oe+1)%_e]],Ee=s(-se[0],se[1]),Te=s(-se[0],de[1]),Se=s(de[0],se[1]),Le=s(de[0],de[1]);we=l(we,l(l(Ee,Te),l(Se,Le)))}return we[we.length-1]>0})).length,S=new Array(f),T=new Array(f);for(m=0;m<f;++m){S[m]=m;var E=new Array(f),C=_[m].map(function(Me){return g[Me]}),O=r([C]),I=0;e:for(var z=0;z<f;++z)if(E[z]=0,m!==z){for(var U=(me=_[z]).length,D=0;D<U;++D){var B=O(g[me[D]]);if(B!==0){B<0&&(E[z]=1,I+=1);continue e}}E[z]=1,I+=1}T[m]=[I,m,E]}for(T.sort(function(Me,_e){return _e[0]-Me[0]}),m=0;m<f;++m){var Z=(E=T[m])[1],F=E[2];for(z=0;z<f;++z)F[z]&&(S[z]=Z)}var j=function(Me){for(var _e=new Array(Me),we=0;we<Me;++we)_e[we]=[];return _e}(f);for(m=0;m<f;++m)j[m].push(S[m]),j[S[m]].push(m);var V={},te=c(v,!1);for(m=0;m<f;++m)for(U=(me=_[m]).length,z=0;z<U;++z){var Q=me[z],$=me[(z+1)%U],G=Math.min(Q,$)+":"+Math.max(Q,$);if(G in V){var X=V[G];j[X].push(m),j[m].push(X),te[Q]=te[$]=!0}else V[G]=m}function J(Me){for(var _e=Me.length,we=0;we<_e;++we)if(!te[Me[we]])return!1;return!0}var ne=[],ie=c(f,-1);for(m=0;m<f;++m)S[m]!==m||J(_[m])?ie[m]=-1:(ne.push(m),ie[m]=0);for(p=[];ne.length>0;){var ae=ne.pop(),le=j[ae];u(le,function(Me,_e){return Me-_e});var ce,pe=le.length,ge=ie[ae];for(ge===0&&(ce=[me=_[ae]]),m=0;m<pe;++m){var me,ve=le[m];ie[ve]>=0||(ie[ve]=1^ge,ne.push(ve),ge===0&&(J(me=_[ve])||(me.reverse(),ce.push(me))))}ge===0&&p.push(ce)}return p};var i=t(8348),n=t(4166),r=t(211),s=t(9660),l=t(9662),u=t(1215),d=t(3959);function c(x,g){for(var p=new Array(x),v=0;v<x;++v)p[v]=g;return p}},211:function(h,o,t){h.exports=function(c){for(var x=c.length,g=[],p=[],v=0;v<x;++v)for(var y=c[v],m=y.length,_=m-1,f=0;f<m;_=f++){var S=y[_],T=y[f];S[0]===T[0]?p.push([S,T]):g.push([S,T])}if(g.length===0)return p.length===0?d:(E=u(p),function(I){return E(I[0],I[1])?0:1});var E,C=n(g),O=function(I,z){return function(U){var D=s.le(z,U[0]);if(D<0)return 1;var B=I[D];if(!B){if(!(D>0&&z[D]===U[0]))return 1;B=I[D-1]}for(var Z=1;B;){var F=B.key,j=i(U,F[0],F[1]);if(F[0][0]<F[1][0])if(j<0)B=B.left;else{if(!(j>0))return 0;Z=-1,B=B.right}else if(j>0)B=B.left;else{if(!(j<0))return 0;Z=1,B=B.right}}return Z}}(C.slabs,C.coordinates);return p.length===0?O:function(I,z){return function(U){return I(U[0],U[1])?0:z(U)}}(u(p),O)};var i=t(417)[3],n=t(4385),r=t(9014),s=t(5070);function l(){return!0}function u(c){for(var x={},g=0;g<c.length;++g){var p=c[g],v=p[0][0],y=p[0][1],m=p[1][1],_=[Math.min(y,m),Math.max(y,m)];v in x?x[v].push(_):x[v]=[_]}var f={},S=Object.keys(x);for(g=0;g<S.length;++g){var T=x[S[g]];f[S[g]]=r(T)}return function(E){return function(C,O){var I=E[C];return!!I&&!!I.queryPoint(O,l)}}(f)}function d(c){return 1}},7309:function(h){var o=new Float64Array(4),t=new Float64Array(4),i=new Float64Array(4);h.exports=function(n,r,s,l,u){o.length<l.length&&(o=new Float64Array(l.length),t=new Float64Array(l.length),i=new Float64Array(l.length));for(var d=0;d<l.length;++d)o[d]=n[d]-l[d],t[d]=r[d]-n[d],i[d]=s[d]-n[d];var c=0,x=0,g=0,p=0,v=0,y=0;for(d=0;d<l.length;++d){var m=t[d],_=i[d],f=o[d];c+=m*m,x+=m*_,g+=_*_,p+=f*m,v+=f*_,y+=f*f}var S,T,E,C,O,I=Math.abs(c*g-x*x),z=x*v-g*p,U=x*p-c*v;if(z+U<=I)if(z<0)U<0&&p<0?(U=0,-p>=c?(z=1,S=c+2*p+y):S=p*(z=-p/c)+y):(z=0,v>=0?(U=0,S=y):-v>=g?(U=1,S=g+2*v+y):S=v*(U=-v/g)+y);else if(U<0)U=0,p>=0?(z=0,S=y):-p>=c?(z=1,S=c+2*p+y):S=p*(z=-p/c)+y;else{var D=1/I;S=(z*=D)*(c*z+x*(U*=D)+2*p)+U*(x*z+g*U+2*v)+y}else z<0?(E=g+v)>(T=x+p)?(C=E-T)>=(O=c-2*x+g)?(z=1,U=0,S=c+2*p+y):S=(z=C/O)*(c*z+x*(U=1-z)+2*p)+U*(x*z+g*U+2*v)+y:(z=0,E<=0?(U=1,S=g+2*v+y):v>=0?(U=0,S=y):S=v*(U=-v/g)+y):U<0?(E=c+p)>(T=x+v)?(C=E-T)>=(O=c-2*x+g)?(U=1,z=0,S=g+2*v+y):S=(z=1-(U=C/O))*(c*z+x*U+2*p)+U*(x*z+g*U+2*v)+y:(U=0,E<=0?(z=1,S=c+2*p+y):p>=0?(z=0,S=y):S=p*(z=-p/c)+y):(C=g+v-x-p)<=0?(z=0,U=1,S=g+2*v+y):C>=(O=c-2*x+g)?(z=1,U=0,S=c+2*p+y):S=(z=C/O)*(c*z+x*(U=1-z)+2*p)+U*(x*z+g*U+2*v)+y;var B=1-z-U;for(d=0;d<l.length;++d)u[d]=B*n[d]+z*r[d]+U*s[d];return S<0?0:S}},1116:function(h,o,t){h.exports=t(6093)},7584:function(h,o,t){var i=t(1539);h.exports=function(n,r){for(var s=n.length,l=new Array(s),u=0;u<s;++u)l[u]=i(n[u],r[u]);return l}},2826:function(h,o,t){h.exports=function(n){for(var r=new Array(n.length),s=0;s<n.length;++s)r[s]=i(n[s]);return r};var i=t(5125)},4469:function(h,o,t){var i=t(5125),n=t(3962);h.exports=function(r,s){for(var l=i(s),u=r.length,d=new Array(u),c=0;c<u;++c)d[c]=n(r[c],l);return d}},6695:function(h,o,t){var i=t(4354);h.exports=function(n,r){for(var s=n.length,l=new Array(s),u=0;u<s;++u)l[u]=i(n[u],r[u]);return l}},7037:function(h,o,t){var i=t(9209),n=t(1284),r=t(9887);h.exports=function(s){s.sort(n);for(var l=s.length,u=0,d=0;d<l;++d){var c=s[d],x=r(c);if(x!==0){if(u>0){var g=s[u-1];if(i(c,g)===0&&r(g)!==x){u-=1;continue}}s[u++]=c}}return s.length=u,s}},6184:function(h){var o,t="";h.exports=function(i,n){if(typeof i!="string")throw new TypeError("expected a string");if(n===1)return i;if(n===2)return i+i;var r=i.length*n;if(o!==i||o===void 0)o=i,t="";else if(t.length>=r)return t.substr(0,r);for(;r>t.length&&n>1;)1&n&&(t+=i),n>>=1,i+=i;return t=(t+=i).substr(0,r)}},8161:function(h,o,t){h.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(h){h.exports=function(o){for(var t=o.length,i=o[o.length-1],n=t,r=t-2;r>=0;--r){var s=i;(d=(u=o[r])-((i=s+u)-s))&&(o[--n]=i,i=d)}var l=0;for(r=n;r<t;++r){var u,d;(d=(u=i)-((i=(s=o[r])+u)-s))&&(o[l++]=d)}return o[l++]=i,o.length=l,o}},8167:function(h,o,t){var i=t(9660),n=t(9662),r=t(8289),s=t(402);function l(v,y,m,_){return function(f){return _(v(m(f[0][0],f[1][1]),m(-f[0][1],f[1][0])))}}function u(v,y,m,_){return function(f){return _(v(y(v(m(f[1][1],f[2][2]),m(-f[1][2],f[2][1])),f[0][0]),v(y(v(m(f[1][0],f[2][2]),m(-f[1][2],f[2][0])),-f[0][1]),y(v(m(f[1][0],f[2][1]),m(-f[1][1],f[2][0])),f[0][2]))))}}function d(v,y,m,_){return function(f){return _(v(v(y(v(y(v(m(f[2][2],f[3][3]),m(-f[2][3],f[3][2])),f[1][1]),v(y(v(m(f[2][1],f[3][3]),m(-f[2][3],f[3][1])),-f[1][2]),y(v(m(f[2][1],f[3][2]),m(-f[2][2],f[3][1])),f[1][3]))),f[0][0]),y(v(y(v(m(f[2][2],f[3][3]),m(-f[2][3],f[3][2])),f[1][0]),v(y(v(m(f[2][0],f[3][3]),m(-f[2][3],f[3][0])),-f[1][2]),y(v(m(f[2][0],f[3][2]),m(-f[2][2],f[3][0])),f[1][3]))),-f[0][1])),v(y(v(y(v(m(f[2][1],f[3][3]),m(-f[2][3],f[3][1])),f[1][0]),v(y(v(m(f[2][0],f[3][3]),m(-f[2][3],f[3][0])),-f[1][1]),y(v(m(f[2][0],f[3][1]),m(-f[2][1],f[3][0])),f[1][3]))),f[0][2]),y(v(y(v(m(f[2][1],f[3][2]),m(-f[2][2],f[3][1])),f[1][0]),v(y(v(m(f[2][0],f[3][2]),m(-f[2][2],f[3][0])),-f[1][1]),y(v(m(f[2][0],f[3][1]),m(-f[2][1],f[3][0])),f[1][2]))),-f[0][3]))))}}function c(v,y,m,_){return function(f){return _(v(v(y(v(v(y(v(y(v(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][2]),v(y(v(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),-f[2][3]),y(v(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][4]))),f[1][1]),y(v(y(v(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][1]),v(y(v(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),-f[2][3]),y(v(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),f[2][4]))),-f[1][2])),v(y(v(y(v(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),f[2][1]),v(y(v(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),-f[2][2]),y(v(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][4]))),f[1][3]),y(v(y(v(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][1]),v(y(v(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),-f[2][2]),y(v(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][3]))),-f[1][4]))),f[0][0]),y(v(v(y(v(y(v(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][2]),v(y(v(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),-f[2][3]),y(v(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][4]))),f[1][0]),y(v(y(v(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][0]),v(y(v(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][3]),y(v(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),f[2][4]))),-f[1][2])),v(y(v(y(v(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),f[2][0]),v(y(v(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][2]),y(v(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),f[2][4]))),f[1][3]),y(v(y(v(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][0]),v(y(v(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),-f[2][2]),y(v(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),f[2][3]))),-f[1][4]))),-f[0][1])),v(y(v(v(y(v(y(v(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][1]),v(y(v(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),-f[2][3]),y(v(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),f[2][4]))),f[1][0]),y(v(y(v(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][0]),v(y(v(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][3]),y(v(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),f[2][4]))),-f[1][1])),v(y(v(y(v(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),f[2][0]),v(y(v(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][1]),y(v(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][4]))),f[1][3]),y(v(y(v(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),f[2][0]),v(y(v(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),-f[2][1]),y(v(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][3]))),-f[1][4]))),f[0][2]),v(y(v(v(y(v(y(v(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),f[2][1]),v(y(v(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),-f[2][2]),y(v(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][4]))),f[1][0]),y(v(y(v(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),f[2][0]),v(y(v(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][2]),y(v(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),f[2][4]))),-f[1][1])),v(y(v(y(v(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),f[2][0]),v(y(v(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][1]),y(v(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][4]))),f[1][2]),y(v(y(v(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][0]),v(y(v(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),-f[2][1]),y(v(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][2]))),-f[1][4]))),-f[0][3]),y(v(v(y(v(y(v(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][1]),v(y(v(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),-f[2][2]),y(v(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][3]))),f[1][0]),y(v(y(v(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][0]),v(y(v(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),-f[2][2]),y(v(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),f[2][3]))),-f[1][1])),v(y(v(y(v(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),f[2][0]),v(y(v(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),-f[2][1]),y(v(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][3]))),f[1][2]),y(v(y(v(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][0]),v(y(v(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),-f[2][1]),y(v(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][2]))),-f[1][3]))),f[0][4])))))}}function x(v){return(v===2?l:v===3?u:v===4?d:v===5?c:void 0)(n,r,i,s)}var g=[function(){return[0]},function(v){return[v[0][0]]}];function p(v,y,m,_,f,S,T,E){return function(C){switch(C.length){case 0:return v(C);case 1:return y(C);case 2:return m(C);case 3:return _(C);case 4:return f(C);case 5:return S(C)}var O=T[C.length];return O||(O=T[C.length]=E(C.length)),O(C)}}(function(){for(;g.length<6;)g.push(x(g.length));h.exports=p.apply(void 0,g.concat([g,x]));for(var v=0;v<g.length;++v)h.exports[v]=g[v]})()},9130:function(h,o,t){var i=t(9660),n=t(9662);h.exports=function(r,s){for(var l=i(r[0],s[0]),u=1;u<r.length;++u)l=n(l,i(r[u],s[u]));return l}},2227:function(h,o,t){var i=t(9660),n=t(9662),r=t(4078),s=t(8289);function l(y){return(y===3?u:y===4?d:y===5?c:x)(n,r,i,s)}function u(y,m,_,f){return function(S,T,E){var C=_(S[0],S[0]),O=f(C,T[0]),I=f(C,E[0]),z=_(T[0],T[0]),U=f(z,S[0]),D=f(z,E[0]),B=_(E[0],E[0]),Z=f(B,S[0]),F=f(B,T[0]),j=y(m(F,D),m(U,O)),V=m(Z,I),te=m(j,V);return te[te.length-1]}}function d(y,m,_,f){return function(S,T,E,C){var O=y(_(S[0],S[0]),_(S[1],S[1])),I=f(O,T[0]),z=f(O,E[0]),U=f(O,C[0]),D=y(_(T[0],T[0]),_(T[1],T[1])),B=f(D,S[0]),Z=f(D,E[0]),F=f(D,C[0]),j=y(_(E[0],E[0]),_(E[1],E[1])),V=f(j,S[0]),te=f(j,T[0]),Q=f(j,C[0]),$=y(_(C[0],C[0]),_(C[1],C[1])),G=f($,S[0]),X=f($,T[0]),J=f($,E[0]),ne=y(y(f(m(J,Q),T[1]),y(f(m(X,F),-E[1]),f(m(te,Z),C[1]))),y(f(m(X,F),S[1]),y(f(m(G,U),-T[1]),f(m(B,I),C[1])))),ie=y(y(f(m(J,Q),S[1]),y(f(m(G,U),-E[1]),f(m(V,z),C[1]))),y(f(m(te,Z),S[1]),y(f(m(V,z),-T[1]),f(m(B,I),E[1])))),ae=m(ne,ie);return ae[ae.length-1]}}function c(y,m,_,f){return function(S,T,E,C,O){var I=y(_(S[0],S[0]),y(_(S[1],S[1]),_(S[2],S[2]))),z=f(I,T[0]),U=f(I,E[0]),D=f(I,C[0]),B=f(I,O[0]),Z=y(_(T[0],T[0]),y(_(T[1],T[1]),_(T[2],T[2]))),F=f(Z,S[0]),j=f(Z,E[0]),V=f(Z,C[0]),te=f(Z,O[0]),Q=y(_(E[0],E[0]),y(_(E[1],E[1]),_(E[2],E[2]))),$=f(Q,S[0]),G=f(Q,T[0]),X=f(Q,C[0]),J=f(Q,O[0]),ne=y(_(C[0],C[0]),y(_(C[1],C[1]),_(C[2],C[2]))),ie=f(ne,S[0]),ae=f(ne,T[0]),le=f(ne,E[0]),ce=f(ne,O[0]),pe=y(_(O[0],O[0]),y(_(O[1],O[1]),_(O[2],O[2]))),ge=f(pe,S[0]),me=f(pe,T[0]),ve=f(pe,E[0]),Me=f(pe,C[0]),_e=y(y(y(f(y(f(m(Me,ce),E[1]),y(f(m(ve,J),-C[1]),f(m(le,X),O[1]))),T[2]),y(f(y(f(m(Me,ce),T[1]),y(f(m(me,te),-C[1]),f(m(ae,V),O[1]))),-E[2]),f(y(f(m(ve,J),T[1]),y(f(m(me,te),-E[1]),f(m(G,j),O[1]))),C[2]))),y(f(y(f(m(le,X),T[1]),y(f(m(ae,V),-E[1]),f(m(G,j),C[1]))),-O[2]),y(f(y(f(m(Me,ce),T[1]),y(f(m(me,te),-C[1]),f(m(ae,V),O[1]))),S[2]),f(y(f(m(Me,ce),S[1]),y(f(m(ge,B),-C[1]),f(m(ie,D),O[1]))),-T[2])))),y(y(f(y(f(m(me,te),S[1]),y(f(m(ge,B),-T[1]),f(m(F,z),O[1]))),C[2]),y(f(y(f(m(ae,V),S[1]),y(f(m(ie,D),-T[1]),f(m(F,z),C[1]))),-O[2]),f(y(f(m(le,X),T[1]),y(f(m(ae,V),-E[1]),f(m(G,j),C[1]))),S[2]))),y(f(y(f(m(le,X),S[1]),y(f(m(ie,D),-E[1]),f(m($,U),C[1]))),-T[2]),y(f(y(f(m(ae,V),S[1]),y(f(m(ie,D),-T[1]),f(m(F,z),C[1]))),E[2]),f(y(f(m(G,j),S[1]),y(f(m($,U),-T[1]),f(m(F,z),E[1]))),-C[2]))))),we=y(y(y(f(y(f(m(Me,ce),E[1]),y(f(m(ve,J),-C[1]),f(m(le,X),O[1]))),S[2]),f(y(f(m(Me,ce),S[1]),y(f(m(ge,B),-C[1]),f(m(ie,D),O[1]))),-E[2])),y(f(y(f(m(ve,J),S[1]),y(f(m(ge,B),-E[1]),f(m($,U),O[1]))),C[2]),f(y(f(m(le,X),S[1]),y(f(m(ie,D),-E[1]),f(m($,U),C[1]))),-O[2]))),y(y(f(y(f(m(ve,J),T[1]),y(f(m(me,te),-E[1]),f(m(G,j),O[1]))),S[2]),f(y(f(m(ve,J),S[1]),y(f(m(ge,B),-E[1]),f(m($,U),O[1]))),-T[2])),y(f(y(f(m(me,te),S[1]),y(f(m(ge,B),-T[1]),f(m(F,z),O[1]))),E[2]),f(y(f(m(G,j),S[1]),y(f(m($,U),-T[1]),f(m(F,z),E[1]))),-O[2])))),oe=m(_e,we);return oe[oe.length-1]}}function x(y,m,_,f){return function(S,T,E,C,O,I){var z=y(y(_(S[0],S[0]),_(S[1],S[1])),y(_(S[2],S[2]),_(S[3],S[3]))),U=f(z,T[0]),D=f(z,E[0]),B=f(z,C[0]),Z=f(z,O[0]),F=f(z,I[0]),j=y(y(_(T[0],T[0]),_(T[1],T[1])),y(_(T[2],T[2]),_(T[3],T[3]))),V=f(j,S[0]),te=f(j,E[0]),Q=f(j,C[0]),$=f(j,O[0]),G=f(j,I[0]),X=y(y(_(E[0],E[0]),_(E[1],E[1])),y(_(E[2],E[2]),_(E[3],E[3]))),J=f(X,S[0]),ne=f(X,T[0]),ie=f(X,C[0]),ae=f(X,O[0]),le=f(X,I[0]),ce=y(y(_(C[0],C[0]),_(C[1],C[1])),y(_(C[2],C[2]),_(C[3],C[3]))),pe=f(ce,S[0]),ge=f(ce,T[0]),me=f(ce,E[0]),ve=f(ce,O[0]),Me=f(ce,I[0]),_e=y(y(_(O[0],O[0]),_(O[1],O[1])),y(_(O[2],O[2]),_(O[3],O[3]))),we=f(_e,S[0]),oe=f(_e,T[0]),se=f(_e,E[0]),de=f(_e,C[0]),Ee=f(_e,I[0]),Te=y(y(_(I[0],I[0]),_(I[1],I[1])),y(_(I[2],I[2]),_(I[3],I[3]))),Se=f(Te,S[0]),Le=f(Te,T[0]),Oe=f(Te,E[0]),he=f(Te,C[0]),xe=f(Te,O[0]),ke=y(y(y(f(y(y(f(y(f(m(xe,Ee),C[1]),y(f(m(he,Me),-O[1]),f(m(de,ve),I[1]))),E[2]),f(y(f(m(xe,Ee),E[1]),y(f(m(Oe,le),-O[1]),f(m(se,ae),I[1]))),-C[2])),y(f(y(f(m(he,Me),E[1]),y(f(m(Oe,le),-C[1]),f(m(me,ie),I[1]))),O[2]),f(y(f(m(de,ve),E[1]),y(f(m(se,ae),-C[1]),f(m(me,ie),O[1]))),-I[2]))),T[3]),y(f(y(y(f(y(f(m(xe,Ee),C[1]),y(f(m(he,Me),-O[1]),f(m(de,ve),I[1]))),T[2]),f(y(f(m(xe,Ee),T[1]),y(f(m(Le,G),-O[1]),f(m(oe,$),I[1]))),-C[2])),y(f(y(f(m(he,Me),T[1]),y(f(m(Le,G),-C[1]),f(m(ge,Q),I[1]))),O[2]),f(y(f(m(de,ve),T[1]),y(f(m(oe,$),-C[1]),f(m(ge,Q),O[1]))),-I[2]))),-E[3]),f(y(y(f(y(f(m(xe,Ee),E[1]),y(f(m(Oe,le),-O[1]),f(m(se,ae),I[1]))),T[2]),f(y(f(m(xe,Ee),T[1]),y(f(m(Le,G),-O[1]),f(m(oe,$),I[1]))),-E[2])),y(f(y(f(m(Oe,le),T[1]),y(f(m(Le,G),-E[1]),f(m(ne,te),I[1]))),O[2]),f(y(f(m(se,ae),T[1]),y(f(m(oe,$),-E[1]),f(m(ne,te),O[1]))),-I[2]))),C[3]))),y(y(f(y(y(f(y(f(m(he,Me),E[1]),y(f(m(Oe,le),-C[1]),f(m(me,ie),I[1]))),T[2]),f(y(f(m(he,Me),T[1]),y(f(m(Le,G),-C[1]),f(m(ge,Q),I[1]))),-E[2])),y(f(y(f(m(Oe,le),T[1]),y(f(m(Le,G),-E[1]),f(m(ne,te),I[1]))),C[2]),f(y(f(m(me,ie),T[1]),y(f(m(ge,Q),-E[1]),f(m(ne,te),C[1]))),-I[2]))),-O[3]),f(y(y(f(y(f(m(de,ve),E[1]),y(f(m(se,ae),-C[1]),f(m(me,ie),O[1]))),T[2]),f(y(f(m(de,ve),T[1]),y(f(m(oe,$),-C[1]),f(m(ge,Q),O[1]))),-E[2])),y(f(y(f(m(se,ae),T[1]),y(f(m(oe,$),-E[1]),f(m(ne,te),O[1]))),C[2]),f(y(f(m(me,ie),T[1]),y(f(m(ge,Q),-E[1]),f(m(ne,te),C[1]))),-O[2]))),I[3])),y(f(y(y(f(y(f(m(xe,Ee),C[1]),y(f(m(he,Me),-O[1]),f(m(de,ve),I[1]))),T[2]),f(y(f(m(xe,Ee),T[1]),y(f(m(Le,G),-O[1]),f(m(oe,$),I[1]))),-C[2])),y(f(y(f(m(he,Me),T[1]),y(f(m(Le,G),-C[1]),f(m(ge,Q),I[1]))),O[2]),f(y(f(m(de,ve),T[1]),y(f(m(oe,$),-C[1]),f(m(ge,Q),O[1]))),-I[2]))),S[3]),f(y(y(f(y(f(m(xe,Ee),C[1]),y(f(m(he,Me),-O[1]),f(m(de,ve),I[1]))),S[2]),f(y(f(m(xe,Ee),S[1]),y(f(m(Se,F),-O[1]),f(m(we,Z),I[1]))),-C[2])),y(f(y(f(m(he,Me),S[1]),y(f(m(Se,F),-C[1]),f(m(pe,B),I[1]))),O[2]),f(y(f(m(de,ve),S[1]),y(f(m(we,Z),-C[1]),f(m(pe,B),O[1]))),-I[2]))),-T[3])))),y(y(y(f(y(y(f(y(f(m(xe,Ee),T[1]),y(f(m(Le,G),-O[1]),f(m(oe,$),I[1]))),S[2]),f(y(f(m(xe,Ee),S[1]),y(f(m(Se,F),-O[1]),f(m(we,Z),I[1]))),-T[2])),y(f(y(f(m(Le,G),S[1]),y(f(m(Se,F),-T[1]),f(m(V,U),I[1]))),O[2]),f(y(f(m(oe,$),S[1]),y(f(m(we,Z),-T[1]),f(m(V,U),O[1]))),-I[2]))),C[3]),f(y(y(f(y(f(m(he,Me),T[1]),y(f(m(Le,G),-C[1]),f(m(ge,Q),I[1]))),S[2]),f(y(f(m(he,Me),S[1]),y(f(m(Se,F),-C[1]),f(m(pe,B),I[1]))),-T[2])),y(f(y(f(m(Le,G),S[1]),y(f(m(Se,F),-T[1]),f(m(V,U),I[1]))),C[2]),f(y(f(m(ge,Q),S[1]),y(f(m(pe,B),-T[1]),f(m(V,U),C[1]))),-I[2]))),-O[3])),y(f(y(y(f(y(f(m(de,ve),T[1]),y(f(m(oe,$),-C[1]),f(m(ge,Q),O[1]))),S[2]),f(y(f(m(de,ve),S[1]),y(f(m(we,Z),-C[1]),f(m(pe,B),O[1]))),-T[2])),y(f(y(f(m(oe,$),S[1]),y(f(m(we,Z),-T[1]),f(m(V,U),O[1]))),C[2]),f(y(f(m(ge,Q),S[1]),y(f(m(pe,B),-T[1]),f(m(V,U),C[1]))),-O[2]))),I[3]),f(y(y(f(y(f(m(he,Me),E[1]),y(f(m(Oe,le),-C[1]),f(m(me,ie),I[1]))),T[2]),f(y(f(m(he,Me),T[1]),y(f(m(Le,G),-C[1]),f(m(ge,Q),I[1]))),-E[2])),y(f(y(f(m(Oe,le),T[1]),y(f(m(Le,G),-E[1]),f(m(ne,te),I[1]))),C[2]),f(y(f(m(me,ie),T[1]),y(f(m(ge,Q),-E[1]),f(m(ne,te),C[1]))),-I[2]))),S[3]))),y(y(f(y(y(f(y(f(m(he,Me),E[1]),y(f(m(Oe,le),-C[1]),f(m(me,ie),I[1]))),S[2]),f(y(f(m(he,Me),S[1]),y(f(m(Se,F),-C[1]),f(m(pe,B),I[1]))),-E[2])),y(f(y(f(m(Oe,le),S[1]),y(f(m(Se,F),-E[1]),f(m(J,D),I[1]))),C[2]),f(y(f(m(me,ie),S[1]),y(f(m(pe,B),-E[1]),f(m(J,D),C[1]))),-I[2]))),-T[3]),f(y(y(f(y(f(m(he,Me),T[1]),y(f(m(Le,G),-C[1]),f(m(ge,Q),I[1]))),S[2]),f(y(f(m(he,Me),S[1]),y(f(m(Se,F),-C[1]),f(m(pe,B),I[1]))),-T[2])),y(f(y(f(m(Le,G),S[1]),y(f(m(Se,F),-T[1]),f(m(V,U),I[1]))),C[2]),f(y(f(m(ge,Q),S[1]),y(f(m(pe,B),-T[1]),f(m(V,U),C[1]))),-I[2]))),E[3])),y(f(y(y(f(y(f(m(Oe,le),T[1]),y(f(m(Le,G),-E[1]),f(m(ne,te),I[1]))),S[2]),f(y(f(m(Oe,le),S[1]),y(f(m(Se,F),-E[1]),f(m(J,D),I[1]))),-T[2])),y(f(y(f(m(Le,G),S[1]),y(f(m(Se,F),-T[1]),f(m(V,U),I[1]))),E[2]),f(y(f(m(ne,te),S[1]),y(f(m(J,D),-T[1]),f(m(V,U),E[1]))),-I[2]))),-C[3]),f(y(y(f(y(f(m(me,ie),T[1]),y(f(m(ge,Q),-E[1]),f(m(ne,te),C[1]))),S[2]),f(y(f(m(me,ie),S[1]),y(f(m(pe,B),-E[1]),f(m(J,D),C[1]))),-T[2])),y(f(y(f(m(ge,Q),S[1]),y(f(m(pe,B),-T[1]),f(m(V,U),C[1]))),E[2]),f(y(f(m(ne,te),S[1]),y(f(m(J,D),-T[1]),f(m(V,U),E[1]))),-C[2]))),I[3]))))),Re=y(y(y(f(y(y(f(y(f(m(xe,Ee),C[1]),y(f(m(he,Me),-O[1]),f(m(de,ve),I[1]))),E[2]),f(y(f(m(xe,Ee),E[1]),y(f(m(Oe,le),-O[1]),f(m(se,ae),I[1]))),-C[2])),y(f(y(f(m(he,Me),E[1]),y(f(m(Oe,le),-C[1]),f(m(me,ie),I[1]))),O[2]),f(y(f(m(de,ve),E[1]),y(f(m(se,ae),-C[1]),f(m(me,ie),O[1]))),-I[2]))),S[3]),y(f(y(y(f(y(f(m(xe,Ee),C[1]),y(f(m(he,Me),-O[1]),f(m(de,ve),I[1]))),S[2]),f(y(f(m(xe,Ee),S[1]),y(f(m(Se,F),-O[1]),f(m(we,Z),I[1]))),-C[2])),y(f(y(f(m(he,Me),S[1]),y(f(m(Se,F),-C[1]),f(m(pe,B),I[1]))),O[2]),f(y(f(m(de,ve),S[1]),y(f(m(we,Z),-C[1]),f(m(pe,B),O[1]))),-I[2]))),-E[3]),f(y(y(f(y(f(m(xe,Ee),E[1]),y(f(m(Oe,le),-O[1]),f(m(se,ae),I[1]))),S[2]),f(y(f(m(xe,Ee),S[1]),y(f(m(Se,F),-O[1]),f(m(we,Z),I[1]))),-E[2])),y(f(y(f(m(Oe,le),S[1]),y(f(m(Se,F),-E[1]),f(m(J,D),I[1]))),O[2]),f(y(f(m(se,ae),S[1]),y(f(m(we,Z),-E[1]),f(m(J,D),O[1]))),-I[2]))),C[3]))),y(y(f(y(y(f(y(f(m(he,Me),E[1]),y(f(m(Oe,le),-C[1]),f(m(me,ie),I[1]))),S[2]),f(y(f(m(he,Me),S[1]),y(f(m(Se,F),-C[1]),f(m(pe,B),I[1]))),-E[2])),y(f(y(f(m(Oe,le),S[1]),y(f(m(Se,F),-E[1]),f(m(J,D),I[1]))),C[2]),f(y(f(m(me,ie),S[1]),y(f(m(pe,B),-E[1]),f(m(J,D),C[1]))),-I[2]))),-O[3]),f(y(y(f(y(f(m(de,ve),E[1]),y(f(m(se,ae),-C[1]),f(m(me,ie),O[1]))),S[2]),f(y(f(m(de,ve),S[1]),y(f(m(we,Z),-C[1]),f(m(pe,B),O[1]))),-E[2])),y(f(y(f(m(se,ae),S[1]),y(f(m(we,Z),-E[1]),f(m(J,D),O[1]))),C[2]),f(y(f(m(me,ie),S[1]),y(f(m(pe,B),-E[1]),f(m(J,D),C[1]))),-O[2]))),I[3])),y(f(y(y(f(y(f(m(xe,Ee),E[1]),y(f(m(Oe,le),-O[1]),f(m(se,ae),I[1]))),T[2]),f(y(f(m(xe,Ee),T[1]),y(f(m(Le,G),-O[1]),f(m(oe,$),I[1]))),-E[2])),y(f(y(f(m(Oe,le),T[1]),y(f(m(Le,G),-E[1]),f(m(ne,te),I[1]))),O[2]),f(y(f(m(se,ae),T[1]),y(f(m(oe,$),-E[1]),f(m(ne,te),O[1]))),-I[2]))),S[3]),f(y(y(f(y(f(m(xe,Ee),E[1]),y(f(m(Oe,le),-O[1]),f(m(se,ae),I[1]))),S[2]),f(y(f(m(xe,Ee),S[1]),y(f(m(Se,F),-O[1]),f(m(we,Z),I[1]))),-E[2])),y(f(y(f(m(Oe,le),S[1]),y(f(m(Se,F),-E[1]),f(m(J,D),I[1]))),O[2]),f(y(f(m(se,ae),S[1]),y(f(m(we,Z),-E[1]),f(m(J,D),O[1]))),-I[2]))),-T[3])))),y(y(y(f(y(y(f(y(f(m(xe,Ee),T[1]),y(f(m(Le,G),-O[1]),f(m(oe,$),I[1]))),S[2]),f(y(f(m(xe,Ee),S[1]),y(f(m(Se,F),-O[1]),f(m(we,Z),I[1]))),-T[2])),y(f(y(f(m(Le,G),S[1]),y(f(m(Se,F),-T[1]),f(m(V,U),I[1]))),O[2]),f(y(f(m(oe,$),S[1]),y(f(m(we,Z),-T[1]),f(m(V,U),O[1]))),-I[2]))),E[3]),f(y(y(f(y(f(m(Oe,le),T[1]),y(f(m(Le,G),-E[1]),f(m(ne,te),I[1]))),S[2]),f(y(f(m(Oe,le),S[1]),y(f(m(Se,F),-E[1]),f(m(J,D),I[1]))),-T[2])),y(f(y(f(m(Le,G),S[1]),y(f(m(Se,F),-T[1]),f(m(V,U),I[1]))),E[2]),f(y(f(m(ne,te),S[1]),y(f(m(J,D),-T[1]),f(m(V,U),E[1]))),-I[2]))),-O[3])),y(f(y(y(f(y(f(m(se,ae),T[1]),y(f(m(oe,$),-E[1]),f(m(ne,te),O[1]))),S[2]),f(y(f(m(se,ae),S[1]),y(f(m(we,Z),-E[1]),f(m(J,D),O[1]))),-T[2])),y(f(y(f(m(oe,$),S[1]),y(f(m(we,Z),-T[1]),f(m(V,U),O[1]))),E[2]),f(y(f(m(ne,te),S[1]),y(f(m(J,D),-T[1]),f(m(V,U),E[1]))),-O[2]))),I[3]),f(y(y(f(y(f(m(de,ve),E[1]),y(f(m(se,ae),-C[1]),f(m(me,ie),O[1]))),T[2]),f(y(f(m(de,ve),T[1]),y(f(m(oe,$),-C[1]),f(m(ge,Q),O[1]))),-E[2])),y(f(y(f(m(se,ae),T[1]),y(f(m(oe,$),-E[1]),f(m(ne,te),O[1]))),C[2]),f(y(f(m(me,ie),T[1]),y(f(m(ge,Q),-E[1]),f(m(ne,te),C[1]))),-O[2]))),S[3]))),y(y(f(y(y(f(y(f(m(de,ve),E[1]),y(f(m(se,ae),-C[1]),f(m(me,ie),O[1]))),S[2]),f(y(f(m(de,ve),S[1]),y(f(m(we,Z),-C[1]),f(m(pe,B),O[1]))),-E[2])),y(f(y(f(m(se,ae),S[1]),y(f(m(we,Z),-E[1]),f(m(J,D),O[1]))),C[2]),f(y(f(m(me,ie),S[1]),y(f(m(pe,B),-E[1]),f(m(J,D),C[1]))),-O[2]))),-T[3]),f(y(y(f(y(f(m(de,ve),T[1]),y(f(m(oe,$),-C[1]),f(m(ge,Q),O[1]))),S[2]),f(y(f(m(de,ve),S[1]),y(f(m(we,Z),-C[1]),f(m(pe,B),O[1]))),-T[2])),y(f(y(f(m(oe,$),S[1]),y(f(m(we,Z),-T[1]),f(m(V,U),O[1]))),C[2]),f(y(f(m(ge,Q),S[1]),y(f(m(pe,B),-T[1]),f(m(V,U),C[1]))),-O[2]))),E[3])),y(f(y(y(f(y(f(m(se,ae),T[1]),y(f(m(oe,$),-E[1]),f(m(ne,te),O[1]))),S[2]),f(y(f(m(se,ae),S[1]),y(f(m(we,Z),-E[1]),f(m(J,D),O[1]))),-T[2])),y(f(y(f(m(oe,$),S[1]),y(f(m(we,Z),-T[1]),f(m(V,U),O[1]))),E[2]),f(y(f(m(ne,te),S[1]),y(f(m(J,D),-T[1]),f(m(V,U),E[1]))),-O[2]))),-C[3]),f(y(y(f(y(f(m(me,ie),T[1]),y(f(m(ge,Q),-E[1]),f(m(ne,te),C[1]))),S[2]),f(y(f(m(me,ie),S[1]),y(f(m(pe,B),-E[1]),f(m(J,D),C[1]))),-T[2])),y(f(y(f(m(ge,Q),S[1]),y(f(m(pe,B),-T[1]),f(m(V,U),C[1]))),E[2]),f(y(f(m(ne,te),S[1]),y(f(m(J,D),-T[1]),f(m(V,U),E[1]))),-C[2]))),O[3]))))),ze=m(ke,Re);return ze[ze.length-1]}}var g=[function(){return 0},function(){return 0},function(){return 0}];function p(y){var m=g[y.length];return m||(m=g[y.length]=l(y.length)),m.apply(void 0,y)}function v(y,m,_,f,S,T,E,C){return function(O,I,z,U,D,B){switch(arguments.length){case 0:case 1:return 0;case 2:return f(O,I);case 3:return S(O,I,z);case 4:return T(O,I,z,U);case 5:return E(O,I,z,U,D);case 6:return C(O,I,z,U,D,B)}for(var Z=new Array(arguments.length),F=0;F<arguments.length;++F)Z[F]=arguments[F];return y(Z)}}(function(){for(;g.length<=6;)g.push(l(g.length));h.exports=v.apply(void 0,[p].concat(g));for(var y=0;y<=6;++y)h.exports[y]=g[y]})()},6606:function(h,o,t){var i=t(8167);function n(g){return(g===2?r:g===3?s:g===4?l:g===5?u:d)(g<6?i[g]:i)}function r(g){return function(p,v){return[g([[+v[0],+p[0][1]],[+v[1],+p[1][1]]]),g([[+p[0][0],+v[0]],[+p[1][0],+v[1]]]),g(p)]}}function s(g){return function(p,v){return[g([[+v[0],+p[0][1],+p[0][2]],[+v[1],+p[1][1],+p[1][2]],[+v[2],+p[2][1],+p[2][2]]]),g([[+p[0][0],+v[0],+p[0][2]],[+p[1][0],+v[1],+p[1][2]],[+p[2][0],+v[2],+p[2][2]]]),g([[+p[0][0],+p[0][1],+v[0]],[+p[1][0],+p[1][1],+v[1]],[+p[2][0],+p[2][1],+v[2]]]),g(p)]}}function l(g){return function(p,v){return[g([[+v[0],+p[0][1],+p[0][2],+p[0][3]],[+v[1],+p[1][1],+p[1][2],+p[1][3]],[+v[2],+p[2][1],+p[2][2],+p[2][3]],[+v[3],+p[3][1],+p[3][2],+p[3][3]]]),g([[+p[0][0],+v[0],+p[0][2],+p[0][3]],[+p[1][0],+v[1],+p[1][2],+p[1][3]],[+p[2][0],+v[2],+p[2][2],+p[2][3]],[+p[3][0],+v[3],+p[3][2],+p[3][3]]]),g([[+p[0][0],+p[0][1],+v[0],+p[0][3]],[+p[1][0],+p[1][1],+v[1],+p[1][3]],[+p[2][0],+p[2][1],+v[2],+p[2][3]],[+p[3][0],+p[3][1],+v[3],+p[3][3]]]),g([[+p[0][0],+p[0][1],+p[0][2],+v[0]],[+p[1][0],+p[1][1],+p[1][2],+v[1]],[+p[2][0],+p[2][1],+p[2][2],+v[2]],[+p[3][0],+p[3][1],+p[3][2],+v[3]]]),g(p)]}}function u(g){return function(p,v){return[g([[+v[0],+p[0][1],+p[0][2],+p[0][3],+p[0][4]],[+v[1],+p[1][1],+p[1][2],+p[1][3],+p[1][4]],[+v[2],+p[2][1],+p[2][2],+p[2][3],+p[2][4]],[+v[3],+p[3][1],+p[3][2],+p[3][3],+p[3][4]],[+v[4],+p[4][1],+p[4][2],+p[4][3],+p[4][4]]]),g([[+p[0][0],+v[0],+p[0][2],+p[0][3],+p[0][4]],[+p[1][0],+v[1],+p[1][2],+p[1][3],+p[1][4]],[+p[2][0],+v[2],+p[2][2],+p[2][3],+p[2][4]],[+p[3][0],+v[3],+p[3][2],+p[3][3],+p[3][4]],[+p[4][0],+v[4],+p[4][2],+p[4][3],+p[4][4]]]),g([[+p[0][0],+p[0][1],+v[0],+p[0][3],+p[0][4]],[+p[1][0],+p[1][1],+v[1],+p[1][3],+p[1][4]],[+p[2][0],+p[2][1],+v[2],+p[2][3],+p[2][4]],[+p[3][0],+p[3][1],+v[3],+p[3][3],+p[3][4]],[+p[4][0],+p[4][1],+v[4],+p[4][3],+p[4][4]]]),g([[+p[0][0],+p[0][1],+p[0][2],+v[0],+p[0][4]],[+p[1][0],+p[1][1],+p[1][2],+v[1],+p[1][4]],[+p[2][0],+p[2][1],+p[2][2],+v[2],+p[2][4]],[+p[3][0],+p[3][1],+p[3][2],+v[3],+p[3][4]],[+p[4][0],+p[4][1],+p[4][2],+v[4],+p[4][4]]]),g([[+p[0][0],+p[0][1],+p[0][2],+p[0][3],+v[0]],[+p[1][0],+p[1][1],+p[1][2],+p[1][3],+v[1]],[+p[2][0],+p[2][1],+p[2][2],+p[2][3],+v[2]],[+p[3][0],+p[3][1],+p[3][2],+p[3][3],+v[3]],[+p[4][0],+p[4][1],+p[4][2],+p[4][3],+v[4]]]),g(p)]}}function d(g){return function(p,v){return[g([[+v[0],+p[0][1],+p[0][2],+p[0][3],+p[0][4],+p[0][5]],[+v[1],+p[1][1],+p[1][2],+p[1][3],+p[1][4],+p[1][5]],[+v[2],+p[2][1],+p[2][2],+p[2][3],+p[2][4],+p[2][5]],[+v[3],+p[3][1],+p[3][2],+p[3][3],+p[3][4],+p[3][5]],[+v[4],+p[4][1],+p[4][2],+p[4][3],+p[4][4],+p[4][5]],[+v[5],+p[5][1],+p[5][2],+p[5][3],+p[5][4],+p[5][5]]]),g([[+p[0][0],+v[0],+p[0][2],+p[0][3],+p[0][4],+p[0][5]],[+p[1][0],+v[1],+p[1][2],+p[1][3],+p[1][4],+p[1][5]],[+p[2][0],+v[2],+p[2][2],+p[2][3],+p[2][4],+p[2][5]],[+p[3][0],+v[3],+p[3][2],+p[3][3],+p[3][4],+p[3][5]],[+p[4][0],+v[4],+p[4][2],+p[4][3],+p[4][4],+p[4][5]],[+p[5][0],+v[5],+p[5][2],+p[5][3],+p[5][4],+p[5][5]]]),g([[+p[0][0],+p[0][1],+v[0],+p[0][3],+p[0][4],+p[0][5]],[+p[1][0],+p[1][1],+v[1],+p[1][3],+p[1][4],+p[1][5]],[+p[2][0],+p[2][1],+v[2],+p[2][3],+p[2][4],+p[2][5]],[+p[3][0],+p[3][1],+v[3],+p[3][3],+p[3][4],+p[3][5]],[+p[4][0],+p[4][1],+v[4],+p[4][3],+p[4][4],+p[4][5]],[+p[5][0],+p[5][1],+v[5],+p[5][3],+p[5][4],+p[5][5]]]),g([[+p[0][0],+p[0][1],+p[0][2],+v[0],+p[0][4],+p[0][5]],[+p[1][0],+p[1][1],+p[1][2],+v[1],+p[1][4],+p[1][5]],[+p[2][0],+p[2][1],+p[2][2],+v[2],+p[2][4],+p[2][5]],[+p[3][0],+p[3][1],+p[3][2],+v[3],+p[3][4],+p[3][5]],[+p[4][0],+p[4][1],+p[4][2],+v[4],+p[4][4],+p[4][5]],[+p[5][0],+p[5][1],+p[5][2],+v[5],+p[5][4],+p[5][5]]]),g([[+p[0][0],+p[0][1],+p[0][2],+p[0][3],+v[0],+p[0][5]],[+p[1][0],+p[1][1],+p[1][2],+p[1][3],+v[1],+p[1][5]],[+p[2][0],+p[2][1],+p[2][2],+p[2][3],+v[2],+p[2][5]],[+p[3][0],+p[3][1],+p[3][2],+p[3][3],+v[3],+p[3][5]],[+p[4][0],+p[4][1],+p[4][2],+p[4][3],+v[4],+p[4][5]],[+p[5][0],+p[5][1],+p[5][2],+p[5][3],+v[5],+p[5][5]]]),g([[+p[0][0],+p[0][1],+p[0][2],+p[0][3],+p[0][4],+v[0]],[+p[1][0],+p[1][1],+p[1][2],+p[1][3],+p[1][4],+v[1]],[+p[2][0],+p[2][1],+p[2][2],+p[2][3],+p[2][4],+v[2]],[+p[3][0],+p[3][1],+p[3][2],+p[3][3],+p[3][4],+v[3]],[+p[4][0],+p[4][1],+p[4][2],+p[4][3],+p[4][4],+v[4]],[+p[5][0],+p[5][1],+p[5][2],+p[5][3],+p[5][4],+v[5]]]),g(p)]}}var c=[function(){return[[0]]},function(g,p){return[[p[0]],[g[0][0]]]}];function x(g,p,v,y,m,_,f,S){return function(T,E){switch(T.length){case 0:return g(T,E);case 1:return p(T,E);case 2:return v(T,E);case 3:return y(T,E);case 4:return m(T,E);case 5:return _(T,E)}var C=f[T.length];return C||(C=f[T.length]=S(T.length)),C(T,E)}}(function(){for(;c.length<6;)c.push(n(c.length));h.exports=x.apply(void 0,c.concat([c,n]));for(var g=0;g<6;++g)h.exports[g]=c[g]})()},417:function(h,o,t){var i=t(9660),n=t(9662),r=t(8289),s=t(4078);function l(m,_,f,S){return function(T,E,C){var O=m(m(_(E[1],C[0]),_(-C[1],E[0])),m(_(T[1],E[0]),_(-E[1],T[0]))),I=m(_(T[1],C[0]),_(-C[1],T[0])),z=S(O,I);return z[z.length-1]}}function u(m,_,f,S){return function(T,E,C,O){var I=m(m(f(m(_(C[1],O[0]),_(-O[1],C[0])),E[2]),m(f(m(_(E[1],O[0]),_(-O[1],E[0])),-C[2]),f(m(_(E[1],C[0]),_(-C[1],E[0])),O[2]))),m(f(m(_(E[1],O[0]),_(-O[1],E[0])),T[2]),m(f(m(_(T[1],O[0]),_(-O[1],T[0])),-E[2]),f(m(_(T[1],E[0]),_(-E[1],T[0])),O[2])))),z=m(m(f(m(_(C[1],O[0]),_(-O[1],C[0])),T[2]),m(f(m(_(T[1],O[0]),_(-O[1],T[0])),-C[2]),f(m(_(T[1],C[0]),_(-C[1],T[0])),O[2]))),m(f(m(_(E[1],C[0]),_(-C[1],E[0])),T[2]),m(f(m(_(T[1],C[0]),_(-C[1],T[0])),-E[2]),f(m(_(T[1],E[0]),_(-E[1],T[0])),C[2])))),U=S(I,z);return U[U.length-1]}}function d(m,_,f,S){return function(T,E,C,O,I){var z=m(m(m(f(m(f(m(_(O[1],I[0]),_(-I[1],O[0])),C[2]),m(f(m(_(C[1],I[0]),_(-I[1],C[0])),-O[2]),f(m(_(C[1],O[0]),_(-O[1],C[0])),I[2]))),E[3]),m(f(m(f(m(_(O[1],I[0]),_(-I[1],O[0])),E[2]),m(f(m(_(E[1],I[0]),_(-I[1],E[0])),-O[2]),f(m(_(E[1],O[0]),_(-O[1],E[0])),I[2]))),-C[3]),f(m(f(m(_(C[1],I[0]),_(-I[1],C[0])),E[2]),m(f(m(_(E[1],I[0]),_(-I[1],E[0])),-C[2]),f(m(_(E[1],C[0]),_(-C[1],E[0])),I[2]))),O[3]))),m(f(m(f(m(_(C[1],O[0]),_(-O[1],C[0])),E[2]),m(f(m(_(E[1],O[0]),_(-O[1],E[0])),-C[2]),f(m(_(E[1],C[0]),_(-C[1],E[0])),O[2]))),-I[3]),m(f(m(f(m(_(O[1],I[0]),_(-I[1],O[0])),E[2]),m(f(m(_(E[1],I[0]),_(-I[1],E[0])),-O[2]),f(m(_(E[1],O[0]),_(-O[1],E[0])),I[2]))),T[3]),f(m(f(m(_(O[1],I[0]),_(-I[1],O[0])),T[2]),m(f(m(_(T[1],I[0]),_(-I[1],T[0])),-O[2]),f(m(_(T[1],O[0]),_(-O[1],T[0])),I[2]))),-E[3])))),m(m(f(m(f(m(_(E[1],I[0]),_(-I[1],E[0])),T[2]),m(f(m(_(T[1],I[0]),_(-I[1],T[0])),-E[2]),f(m(_(T[1],E[0]),_(-E[1],T[0])),I[2]))),O[3]),m(f(m(f(m(_(E[1],O[0]),_(-O[1],E[0])),T[2]),m(f(m(_(T[1],O[0]),_(-O[1],T[0])),-E[2]),f(m(_(T[1],E[0]),_(-E[1],T[0])),O[2]))),-I[3]),f(m(f(m(_(C[1],O[0]),_(-O[1],C[0])),E[2]),m(f(m(_(E[1],O[0]),_(-O[1],E[0])),-C[2]),f(m(_(E[1],C[0]),_(-C[1],E[0])),O[2]))),T[3]))),m(f(m(f(m(_(C[1],O[0]),_(-O[1],C[0])),T[2]),m(f(m(_(T[1],O[0]),_(-O[1],T[0])),-C[2]),f(m(_(T[1],C[0]),_(-C[1],T[0])),O[2]))),-E[3]),m(f(m(f(m(_(E[1],O[0]),_(-O[1],E[0])),T[2]),m(f(m(_(T[1],O[0]),_(-O[1],T[0])),-E[2]),f(m(_(T[1],E[0]),_(-E[1],T[0])),O[2]))),C[3]),f(m(f(m(_(E[1],C[0]),_(-C[1],E[0])),T[2]),m(f(m(_(T[1],C[0]),_(-C[1],T[0])),-E[2]),f(m(_(T[1],E[0]),_(-E[1],T[0])),C[2]))),-O[3]))))),U=m(m(m(f(m(f(m(_(O[1],I[0]),_(-I[1],O[0])),C[2]),m(f(m(_(C[1],I[0]),_(-I[1],C[0])),-O[2]),f(m(_(C[1],O[0]),_(-O[1],C[0])),I[2]))),T[3]),f(m(f(m(_(O[1],I[0]),_(-I[1],O[0])),T[2]),m(f(m(_(T[1],I[0]),_(-I[1],T[0])),-O[2]),f(m(_(T[1],O[0]),_(-O[1],T[0])),I[2]))),-C[3])),m(f(m(f(m(_(C[1],I[0]),_(-I[1],C[0])),T[2]),m(f(m(_(T[1],I[0]),_(-I[1],T[0])),-C[2]),f(m(_(T[1],C[0]),_(-C[1],T[0])),I[2]))),O[3]),f(m(f(m(_(C[1],O[0]),_(-O[1],C[0])),T[2]),m(f(m(_(T[1],O[0]),_(-O[1],T[0])),-C[2]),f(m(_(T[1],C[0]),_(-C[1],T[0])),O[2]))),-I[3]))),m(m(f(m(f(m(_(C[1],I[0]),_(-I[1],C[0])),E[2]),m(f(m(_(E[1],I[0]),_(-I[1],E[0])),-C[2]),f(m(_(E[1],C[0]),_(-C[1],E[0])),I[2]))),T[3]),f(m(f(m(_(C[1],I[0]),_(-I[1],C[0])),T[2]),m(f(m(_(T[1],I[0]),_(-I[1],T[0])),-C[2]),f(m(_(T[1],C[0]),_(-C[1],T[0])),I[2]))),-E[3])),m(f(m(f(m(_(E[1],I[0]),_(-I[1],E[0])),T[2]),m(f(m(_(T[1],I[0]),_(-I[1],T[0])),-E[2]),f(m(_(T[1],E[0]),_(-E[1],T[0])),I[2]))),C[3]),f(m(f(m(_(E[1],C[0]),_(-C[1],E[0])),T[2]),m(f(m(_(T[1],C[0]),_(-C[1],T[0])),-E[2]),f(m(_(T[1],E[0]),_(-E[1],T[0])),C[2]))),-I[3])))),D=S(z,U);return D[D.length-1]}}function c(m){return(m===3?l:m===4?u:d)(n,i,r,s)}var x=c(3),g=c(4),p=[function(){return 0},function(){return 0},function(m,_){return _[0]-m[0]},function(m,_,f){var S,T=(m[1]-f[1])*(_[0]-f[0]),E=(m[0]-f[0])*(_[1]-f[1]),C=T-E;if(T>0){if(E<=0)return C;S=T+E}else{if(!(T<0)||E>=0)return C;S=-(T+E)}var O=33306690738754716e-32*S;return C>=O||C<=-O?C:x(m,_,f)},function(m,_,f,S){var T=m[0]-S[0],E=_[0]-S[0],C=f[0]-S[0],O=m[1]-S[1],I=_[1]-S[1],z=f[1]-S[1],U=m[2]-S[2],D=_[2]-S[2],B=f[2]-S[2],Z=E*z,F=C*I,j=C*O,V=T*z,te=T*I,Q=E*O,$=U*(Z-F)+D*(j-V)+B*(te-Q),G=7771561172376103e-31*((Math.abs(Z)+Math.abs(F))*Math.abs(U)+(Math.abs(j)+Math.abs(V))*Math.abs(D)+(Math.abs(te)+Math.abs(Q))*Math.abs(B));return $>G||-$>G?$:g(m,_,f,S)}];function v(m){var _=p[m.length];return _||(_=p[m.length]=c(m.length)),_.apply(void 0,m)}function y(m,_,f,S,T,E,C){return function(O,I,z,U,D){switch(arguments.length){case 0:case 1:return 0;case 2:return S(O,I);case 3:return T(O,I,z);case 4:return E(O,I,z,U);case 5:return C(O,I,z,U,D)}for(var B=new Array(arguments.length),Z=0;Z<arguments.length;++Z)B[Z]=arguments[Z];return m(B)}}(function(){for(;p.length<=5;)p.push(c(p.length));h.exports=y.apply(void 0,[v].concat(p));for(var m=0;m<=5;++m)h.exports[m]=p[m]})()},2019:function(h,o,t){var i=t(9662),n=t(8289);h.exports=function(r,s){if(r.length===1)return n(s,r[0]);if(s.length===1)return n(r,s[0]);if(r.length===0||s.length===0)return[0];var l=[0];if(r.length<s.length)for(var u=0;u<r.length;++u)l=i(l,n(s,r[u]));else for(u=0;u<s.length;++u)l=i(l,n(r,s[u]));return l}},8289:function(h,o,t){var i=t(9660),n=t(87);h.exports=function(r,s){var l=r.length;if(l===1){var u=i(r[0],s);return u[0]?u:[u[1]]}var d=new Array(2*l),c=[.1,.1],x=[.1,.1],g=0;i(r[0],s,c),c[0]&&(d[g++]=c[0]);for(var p=1;p<l;++p){i(r[p],s,x);var v=c[1];n(v,x[0],c),c[0]&&(d[g++]=c[0]);var y=x[1],m=c[1],_=y+m,f=m-(_-y);c[1]=_,f&&(d[g++]=f)}return c[1]&&(d[g++]=c[1]),g===0&&(d[g++]=0),d.length=g,d}},4434:function(h,o,t){h.exports=function(n,r,s,l){var u=i(n,s,l),d=i(r,s,l);if(u>0&&d>0||u<0&&d<0)return!1;var c=i(s,n,r),x=i(l,n,r);return!(c>0&&x>0||c<0&&x<0)&&(u!==0||d!==0||c!==0||x!==0||function(g,p,v,y){for(var m=0;m<2;++m){var _=g[m],f=p[m],S=Math.min(_,f),T=Math.max(_,f),E=v[m],C=y[m],O=Math.min(E,C);if(Math.max(E,C)<S||T<O)return!1}return!0}(n,r,s,l))};var i=t(417)[3]},4078:function(h){h.exports=function(o,t){var i=0|o.length,n=0|t.length;if(i===1&&n===1)return function(O,I){var z=O+I,U=z-O,D=O-(z-U)+(I-U);return D?[D,z]:[z]}(o[0],-t[0]);var r,s,l=new Array(i+n),u=0,d=0,c=0,x=Math.abs,g=o[d],p=x(g),v=-t[c],y=x(v);p<y?(s=g,(d+=1)<i&&(p=x(g=o[d]))):(s=v,(c+=1)<n&&(y=x(v=-t[c]))),d<i&&p<y||c>=n?(r=g,(d+=1)<i&&(p=x(g=o[d]))):(r=v,(c+=1)<n&&(y=x(v=-t[c])));for(var m,_,f=r+s,S=f-r,T=s-S,E=T,C=f;d<i&&c<n;)p<y?(r=g,(d+=1)<i&&(p=x(g=o[d]))):(r=v,(c+=1)<n&&(y=x(v=-t[c]))),(T=(s=E)-(S=(f=r+s)-r))&&(l[u++]=T),E=C-((m=C+f)-(_=m-C))+(f-_),C=m;for(;d<i;)(T=(s=E)-(S=(f=(r=g)+s)-r))&&(l[u++]=T),E=C-((m=C+f)-(_=m-C))+(f-_),C=m,(d+=1)<i&&(g=o[d]);for(;c<n;)(T=(s=E)-(S=(f=(r=v)+s)-r))&&(l[u++]=T),E=C-((m=C+f)-(_=m-C))+(f-_),C=m,(c+=1)<n&&(v=-t[c]);return E&&(l[u++]=E),C&&(l[u++]=C),u||(l[u++]=0),l.length=u,l}},9662:function(h){h.exports=function(o,t){var i=0|o.length,n=0|t.length;if(i===1&&n===1)return function(O,I){var z=O+I,U=z-O,D=O-(z-U)+(I-U);return D?[D,z]:[z]}(o[0],t[0]);var r,s,l=new Array(i+n),u=0,d=0,c=0,x=Math.abs,g=o[d],p=x(g),v=t[c],y=x(v);p<y?(s=g,(d+=1)<i&&(p=x(g=o[d]))):(s=v,(c+=1)<n&&(y=x(v=t[c]))),d<i&&p<y||c>=n?(r=g,(d+=1)<i&&(p=x(g=o[d]))):(r=v,(c+=1)<n&&(y=x(v=t[c])));for(var m,_,f=r+s,S=f-r,T=s-S,E=T,C=f;d<i&&c<n;)p<y?(r=g,(d+=1)<i&&(p=x(g=o[d]))):(r=v,(c+=1)<n&&(y=x(v=t[c]))),(T=(s=E)-(S=(f=r+s)-r))&&(l[u++]=T),E=C-((m=C+f)-(_=m-C))+(f-_),C=m;for(;d<i;)(T=(s=E)-(S=(f=(r=g)+s)-r))&&(l[u++]=T),E=C-((m=C+f)-(_=m-C))+(f-_),C=m,(d+=1)<i&&(g=o[d]);for(;c<n;)(T=(s=E)-(S=(f=(r=v)+s)-r))&&(l[u++]=T),E=C-((m=C+f)-(_=m-C))+(f-_),C=m,(c+=1)<n&&(v=t[c]);return E&&(l[u++]=E),C&&(l[u++]=C),u||(l[u++]=0),l.length=u,l}},8691:function(h,o,t){h.exports=function(r){return n(i(r))};var i=t(2692),n=t(7037)},7212:function(h,o,t){h.exports=function(l,u,d,c){if(d=d||0,c===void 0&&(c=function(f){for(var S=f.length,T=0,E=0;E<S;++E)T=0|Math.max(T,f[E].length);return T-1}(l)),l.length===0||c<1)return{cells:[],vertexIds:[],vertexWeights:[]};var x=function(f,S){for(var T=f.length,E=n.mallocUint8(T),C=0;C<T;++C)E[C]=f[C]<S|0;return E}(u,+d),g=function(f,S){for(var T=f.length,E=S*(S+1)/2*T|0,C=n.mallocUint32(2*E),O=0,I=0;I<T;++I)for(var z=f[I],U=(S=z.length,0);U<S;++U)for(var D=0;D<U;++D){var B=z[D],Z=z[U];C[O++]=0|Math.min(B,Z),C[O++]=0|Math.max(B,Z)}r(i(C,[O/2|0,2]));var F=2;for(I=2;I<O;I+=2)C[I-2]===C[I]&&C[I-1]===C[I+1]||(C[F++]=C[I],C[F++]=C[I+1]);return i(C,[F/2|0,2])}(l,c),p=function(f,S,T,E){for(var C=f.data,O=f.shape[0],I=n.mallocDouble(O),z=0,U=0;U<O;++U){var D=C[2*U],B=C[2*U+1];if(T[D]!==T[B]){var Z=S[D],F=S[B];C[2*z]=D,C[2*z+1]=B,I[z++]=(F-E)/(F-Z)}}return f.shape[0]=z,i(I,[z])}(g,u,x,+d),v=function(f,S){var T=n.mallocInt32(2*S),E=f.shape[0],C=f.data;T[0]=0;for(var O=0,I=0;I<E;++I){var z=C[2*I];if(z!==O){for(T[2*O+1]=I;++O<z;)T[2*O]=I,T[2*O+1]=I;T[2*O]=I}}for(T[2*O+1]=E;++O<S;)T[2*O]=T[2*O+1]=E;return T}(g,0|u.length),y=s(c)(l,g.data,v,x),m=function(f){for(var S=0|f.shape[0],T=f.data,E=new Array(S),C=0;C<S;++C)E[C]=[T[2*C],T[2*C+1]];return E}(g),_=[].slice.call(p.data,0,p.shape[0]);return n.free(x),n.free(g.data),n.free(p.data),n.free(v),{cells:y,vertexIds:m,vertexWeights:_}};var i=t(5050),n=t(5306),r=t(8729),s=t(1168)},1168:function(h){h.exports=function(t){return o[t]()};var o=[function(){return function(t,i,n,r){for(var s=t.length,l=0;l<s;++l)t[l].length;return[]}},function(){function t(i,n,r,s){for(var l=0|Math.min(r,s),u=0|Math.max(r,s),d=i[2*l],c=i[2*l+1];d<c;){var x=d+c>>1,g=n[2*x+1];if(g===u)return x;u<g?c=x:d=x+1}return d}return function(i,n,r,s){for(var l=i.length,u=[],d=0;d<l;++d){var c=i[d];if(c.length===2){var x=(s[c[0]]<<0)+(s[c[1]]<<1);if(x===0||x===3)continue;switch(x){case 0:case 3:break;case 1:u.push([t(r,n,c[0],c[1])]);break;case 2:u.push([t(r,n,c[1],c[0])])}}}return u}},function(){function t(i,n,r,s){for(var l=0|Math.min(r,s),u=0|Math.max(r,s),d=i[2*l],c=i[2*l+1];d<c;){var x=d+c>>1,g=n[2*x+1];if(g===u)return x;u<g?c=x:d=x+1}return d}return function(i,n,r,s){for(var l=i.length,u=[],d=0;d<l;++d){var c=i[d],x=c.length;if(x===3){if((g=(s[c[0]]<<0)+(s[c[1]]<<1)+(s[c[2]]<<2))==0||g===7)continue;switch(g){case 0:case 7:break;case 1:u.push([t(r,n,c[0],c[2]),t(r,n,c[0],c[1])]);break;case 2:u.push([t(r,n,c[1],c[0]),t(r,n,c[1],c[2])]);break;case 3:u.push([t(r,n,c[0],c[2]),t(r,n,c[1],c[2])]);break;case 4:u.push([t(r,n,c[2],c[1]),t(r,n,c[2],c[0])]);break;case 5:u.push([t(r,n,c[2],c[1]),t(r,n,c[0],c[1])]);break;case 6:u.push([t(r,n,c[1],c[0]),t(r,n,c[2],c[0])])}}else if(x===2){var g;if((g=(s[c[0]]<<0)+(s[c[1]]<<1))==0||g===3)continue;switch(g){case 0:case 3:break;case 1:u.push([t(r,n,c[0],c[1])]);break;case 2:u.push([t(r,n,c[1],c[0])])}}}return u}},function(){function t(i,n,r,s){for(var l=0|Math.min(r,s),u=0|Math.max(r,s),d=i[2*l],c=i[2*l+1];d<c;){var x=d+c>>1,g=n[2*x+1];if(g===u)return x;u<g?c=x:d=x+1}return d}return function(i,n,r,s){for(var l=i.length,u=[],d=0;d<l;++d){var c=i[d],x=c.length;if(x===4){if((g=(s[c[0]]<<0)+(s[c[1]]<<1)+(s[c[2]]<<2)+(s[c[3]]<<3))==0||g===15)continue;switch(g){case 0:case 15:break;case 1:u.push([t(r,n,c[0],c[1]),t(r,n,c[0],c[2]),t(r,n,c[0],c[3])]);break;case 2:u.push([t(r,n,c[1],c[2]),t(r,n,c[1],c[0]),t(r,n,c[1],c[3])]);break;case 3:u.push([t(r,n,c[1],c[2]),t(r,n,c[0],c[2]),t(r,n,c[0],c[3])],[t(r,n,c[1],c[3]),t(r,n,c[1],c[2]),t(r,n,c[0],c[3])]);break;case 4:u.push([t(r,n,c[2],c[0]),t(r,n,c[2],c[1]),t(r,n,c[2],c[3])]);break;case 5:u.push([t(r,n,c[0],c[1]),t(r,n,c[2],c[1]),t(r,n,c[0],c[3])],[t(r,n,c[2],c[1]),t(r,n,c[2],c[3]),t(r,n,c[0],c[3])]);break;case 6:u.push([t(r,n,c[2],c[0]),t(r,n,c[1],c[0]),t(r,n,c[1],c[3])],[t(r,n,c[2],c[3]),t(r,n,c[2],c[0]),t(r,n,c[1],c[3])]);break;case 7:u.push([t(r,n,c[0],c[3]),t(r,n,c[1],c[3]),t(r,n,c[2],c[3])]);break;case 8:u.push([t(r,n,c[3],c[1]),t(r,n,c[3],c[0]),t(r,n,c[3],c[2])]);break;case 9:u.push([t(r,n,c[3],c[1]),t(r,n,c[0],c[1]),t(r,n,c[0],c[2])],[t(r,n,c[3],c[2]),t(r,n,c[3],c[1]),t(r,n,c[0],c[2])]);break;case 10:u.push([t(r,n,c[1],c[0]),t(r,n,c[3],c[0]),t(r,n,c[1],c[2])],[t(r,n,c[3],c[0]),t(r,n,c[3],c[2]),t(r,n,c[1],c[2])]);break;case 11:u.push([t(r,n,c[1],c[2]),t(r,n,c[0],c[2]),t(r,n,c[3],c[2])]);break;case 12:u.push([t(r,n,c[3],c[0]),t(r,n,c[2],c[0]),t(r,n,c[2],c[1])],[t(r,n,c[3],c[1]),t(r,n,c[3],c[0]),t(r,n,c[2],c[1])]);break;case 13:u.push([t(r,n,c[0],c[1]),t(r,n,c[2],c[1]),t(r,n,c[3],c[1])]);break;case 14:u.push([t(r,n,c[2],c[0]),t(r,n,c[1],c[0]),t(r,n,c[3],c[0])])}}else if(x===3){if((g=(s[c[0]]<<0)+(s[c[1]]<<1)+(s[c[2]]<<2))==0||g===7)continue;switch(g){case 0:case 7:break;case 1:u.push([t(r,n,c[0],c[2]),t(r,n,c[0],c[1])]);break;case 2:u.push([t(r,n,c[1],c[0]),t(r,n,c[1],c[2])]);break;case 3:u.push([t(r,n,c[0],c[2]),t(r,n,c[1],c[2])]);break;case 4:u.push([t(r,n,c[2],c[1]),t(r,n,c[2],c[0])]);break;case 5:u.push([t(r,n,c[2],c[1]),t(r,n,c[0],c[1])]);break;case 6:u.push([t(r,n,c[1],c[0]),t(r,n,c[2],c[0])])}}else if(x===2){var g;if((g=(s[c[0]]<<0)+(s[c[1]]<<1))==0||g===3)continue;switch(g){case 0:case 3:break;case 1:u.push([t(r,n,c[0],c[1])]);break;case 2:u.push([t(r,n,c[1],c[0])])}}}return u}}]},8211:function(h,o,t){t(2288),t(1731),o.H=function(i,n){var r=i.length,s=i.length-n.length,l=Math.min;if(s)return s;switch(r){case 0:return 0;case 1:return i[0]-n[0];case 2:return(c=i[0]+i[1]-n[0]-n[1])||l(i[0],i[1])-l(n[0],n[1]);case 3:var u=i[0]+i[1],d=n[0]+n[1];if(c=u+i[2]-(d+n[2]))return c;var c,x=l(i[0],i[1]),g=l(n[0],n[1]);return(c=l(x,i[2])-l(g,n[2]))||l(x+i[2],u)-l(g+n[2],d);default:var p=i.slice(0);p.sort();var v=n.slice(0);v.sort();for(var y=0;y<r;++y)if(s=p[y]-v[y])return s;return 0}}},9392:function(h,o){function t(n){var r=32;return(n&=-n)&&r--,65535&n&&(r-=16),16711935&n&&(r-=8),252645135&n&&(r-=4),858993459&n&&(r-=2),1431655765&n&&(r-=1),r}o.INT_BITS=32,o.INT_MAX=2147483647,o.INT_MIN=-2147483648,o.sign=function(n){return(n>0)-(n<0)},o.abs=function(n){var r=n>>31;return(n^r)-r},o.min=function(n,r){return r^(n^r)&-(n<r)},o.max=function(n,r){return n^(n^r)&-(n<r)},o.isPow2=function(n){return!(n&n-1||!n)},o.log2=function(n){var r,s;return r=(n>65535)<<4,r|=s=((n>>>=r)>255)<<3,r|=s=((n>>>=s)>15)<<2,(r|=s=((n>>>=s)>3)<<1)|(n>>>=s)>>1},o.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},o.popCount=function(n){return 16843009*((n=(858993459&(n-=n>>>1&1431655765))+(n>>>2&858993459))+(n>>>4)&252645135)>>>24},o.countTrailingZeros=t,o.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,1+((n|=n>>>8)|n>>>16)},o.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,(n|=n>>>16)-(n>>>1)},o.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,27030>>>(n&=15)&1};var i=new Array(256);(function(n){for(var r=0;r<256;++r){var s=r,l=r,u=7;for(s>>>=1;s;s>>>=1)l<<=1,l|=1&s,--u;n[r]=l<<u&255}})(i),o.reverse=function(n){return i[255&n]<<24|i[n>>>8&255]<<16|i[n>>>16&255]<<8|i[n>>>24&255]},o.interleave2=function(n,r){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))<<1},o.deinterleave2=function(n,r){return(n=65535&((n=16711935&((n=252645135&((n=858993459&((n=n>>>r&1431655765)|n>>>1))|n>>>2))|n>>>4))|n>>>16))<<16>>16},o.interleave3=function(n,r,s){return n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2),(n|=(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<1)|(s=1227133513&((s=3272356035&((s=251719695&((s=4278190335&((s&=1023)|s<<16))|s<<8))|s<<4))|s<<2))<<2},o.deinterleave3=function(n,r){return(n=1023&((n=4278190335&((n=251719695&((n=3272356035&((n=n>>>r&1227133513)|n>>>2))|n>>>4))|n>>>8))|n>>>16))<<22>>22},o.nextCombination=function(n){var r=n|n-1;return r+1|(~r&-~r)-1>>>t(n)+1}},6656:function(h,o,t){var i=t(9392),n=t(9521);function r(g,p){var v=g.length,y=g.length-p.length,m=Math.min;if(y)return y;switch(v){case 0:return 0;case 1:return g[0]-p[0];case 2:return(S=g[0]+g[1]-p[0]-p[1])||m(g[0],g[1])-m(p[0],p[1]);case 3:var _=g[0]+g[1],f=p[0]+p[1];if(S=_+g[2]-(f+p[2]))return S;var S,T=m(g[0],g[1]),E=m(p[0],p[1]);return(S=m(T,g[2])-m(E,p[2]))||m(T+g[2],_)-m(E+p[2],f);default:var C=g.slice(0);C.sort();var O=p.slice(0);O.sort();for(var I=0;I<v;++I)if(y=C[I]-O[I])return y;return 0}}function s(g,p){return r(g[0],p[0])}function l(g,p){if(p){for(var v=g.length,y=new Array(v),m=0;m<v;++m)y[m]=[g[m],p[m]];for(y.sort(s),m=0;m<v;++m)g[m]=y[m][0],p[m]=y[m][1];return g}return g.sort(r),g}function u(g){if(g.length===0)return[];for(var p=1,v=g.length,y=1;y<v;++y){var m=g[y];if(r(m,g[y-1])){if(y===p){p++;continue}g[p++]=m}}return g.length=p,g}function d(g,p){for(var v=0,y=g.length-1,m=-1;v<=y;){var _=v+y>>1,f=r(g[_],p);f<=0?(f===0&&(m=_),v=_+1):f>0&&(y=_-1)}return m}function c(g,p){for(var v=new Array(g.length),y=0,m=v.length;y<m;++y)v[y]=[];for(var _=[],f=(y=0,p.length);y<f;++y)for(var S=p[y],T=S.length,E=1,C=1<<T;E<C;++E){_.length=i.popCount(E);for(var O=0,I=0;I<T;++I)E&1<<I&&(_[O++]=S[I]);var z=d(g,_);if(!(z<0))for(;v[z++].push(y),!(z>=g.length||r(g[z],_)!==0););}return v}function x(g,p){if(p<0)return[];for(var v=[],y=(1<<p+1)-1,m=0;m<g.length;++m)for(var _=g[m],f=y;f<1<<_.length;f=i.nextCombination(f)){for(var S=new Array(p+1),T=0,E=0;E<_.length;++E)f&1<<E&&(S[T++]=_[E]);v.push(S)}return l(v)}o.dimension=function(g){for(var p=0,v=Math.max,y=0,m=g.length;y<m;++y)p=v(p,g[y].length);return p-1},o.countVertices=function(g){for(var p=-1,v=Math.max,y=0,m=g.length;y<m;++y)for(var _=g[y],f=0,S=_.length;f<S;++f)p=v(p,_[f]);return p+1},o.cloneCells=function(g){for(var p=new Array(g.length),v=0,y=g.length;v<y;++v)p[v]=g[v].slice(0);return p},o.compareCells=r,o.normalize=l,o.unique=u,o.findCell=d,o.incidence=c,o.dual=function(g,p){if(!p)return c(u(x(g,0)),g);for(var v=new Array(p),y=0;y<p;++y)v[y]=[];y=0;for(var m=g.length;y<m;++y)for(var _=g[y],f=0,S=_.length;f<S;++f)v[_[f]].push(y);return v},o.explode=function(g){for(var p=[],v=0,y=g.length;v<y;++v)for(var m=g[v],_=0|m.length,f=1,S=1<<_;f<S;++f){for(var T=[],E=0;E<_;++E)f>>>E&1&&T.push(m[E]);p.push(T)}return l(p)},o.skeleton=x,o.boundary=function(g){for(var p=[],v=0,y=g.length;v<y;++v)for(var m=g[v],_=0,f=m.length;_<f;++_){for(var S=new Array(m.length-1),T=0,E=0;T<f;++T)T!==_&&(S[E++]=m[T]);p.push(S)}return l(p)},o.connectedComponents=function(g,p){return p?function(v,y){for(var m=new n(y),_=0;_<v.length;++_)for(var f=v[_],S=0;S<f.length;++S)for(var T=S+1;T<f.length;++T)m.link(f[S],f[T]);var E=[],C=m.ranks;for(_=0;_<C.length;++_)C[_]=-1;for(_=0;_<v.length;++_){var O=m.find(v[_][0]);C[O]<0?(C[O]=E.length,E.push([v[_].slice(0)])):E[C[O]].push(v[_].slice(0))}return E}(g,p):function(v){for(var y=u(l(x(v,0))),m=new n(y.length),_=0;_<v.length;++_)for(var f=v[_],S=0;S<f.length;++S)for(var T=d(y,[f[S]]),E=S+1;E<f.length;++E)m.link(T,d(y,[f[E]]));var C=[],O=m.ranks;for(_=0;_<O.length;++_)O[_]=-1;for(_=0;_<v.length;++_){var I=m.find(d(y,[v[_][0]]));O[I]<0?(O[I]=C.length,C.push([v[_].slice(0)])):C[O[I]].push(v[_].slice(0))}return C}(g)}},9521:function(h){function o(t){this.roots=new Array(t),this.ranks=new Array(t);for(var i=0;i<t;++i)this.roots[i]=i,this.ranks[i]=0}h.exports=o,o.prototype.length=function(){return this.roots.length},o.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},o.prototype.find=function(t){for(var i=this.roots;i[t]!==t;){var n=i[t];i[t]=i[n],t=n}return t},o.prototype.link=function(t,i){var n=this.find(t),r=this.find(i);if(n!==r){var s=this.ranks,l=this.roots,u=s[n],d=s[r];u<d?l[n]=r:d<u?l[r]=n:(l[r]=n,++s[n])}}},8243:function(h,o,t){h.exports=function(r,s,l){for(var u=s.length,d=r.length,c=new Array(u),x=new Array(u),g=new Array(u),p=new Array(u),v=0;v<u;++v)c[v]=x[v]=-1,g[v]=1/0,p[v]=!1;for(v=0;v<d;++v){var y=r[v];if(y.length!==2)throw new Error("Input must be a graph");var m=y[1],_=y[0];x[_]!==-1?x[_]=-2:x[_]=m,c[m]!==-1?c[m]=-2:c[m]=_}function f(Q){if(p[Q])return 1/0;var $,G,X,J=c[Q],ne=x[Q];return J<0||ne<0?1/0:($=s[Q],G=s[J],X=s[ne],Math.abs(i($,G,X))/Math.sqrt(Math.pow(G[0]-X[0],2)+Math.pow(G[1]-X[1],2)))}function S(Q,$){var G=D[Q],X=D[$];D[Q]=X,D[$]=G,B[G]=$,B[X]=Q}function T(Q){return g[D[Q]]}function E(Q){return 1&Q?Q-1>>1:(Q>>1)-1}function C(Q){for(var $=T(Q);;){var G=$,X=2*Q+1,J=2*(Q+1),ne=Q;if(X<Z){var ie=T(X);ie<G&&(ne=X,G=ie)}if(J<Z&&T(J)<G&&(ne=J),ne===Q)return Q;S(Q,ne),Q=ne}}function O(Q){for(var $=T(Q);Q>0;){var G=E(Q);if(!(G>=0&&$<T(G)))return Q;S(Q,G),Q=G}}function I(){if(Z>0){var Q=D[0];return S(0,Z-1),Z-=1,C(0),Q}return-1}function z(Q,$){var G=D[Q];return g[G]===$?Q:(g[G]=-1/0,O(Q),I(),g[G]=$,O((Z+=1)-1))}function U(Q){if(!p[Q]){p[Q]=!0;var $=c[Q],G=x[Q];c[G]>=0&&(c[G]=$),x[$]>=0&&(x[$]=G),B[$]>=0&&z(B[$],f($)),B[G]>=0&&z(B[G],f(G))}}var D=[],B=new Array(u);for(v=0;v<u;++v)(g[v]=f(v))<1/0?(B[v]=D.length,D.push(v)):B[v]=-1;var Z=D.length;for(v=Z>>1;v>=0;--v)C(v);for(;;){var F=I();if(F<0||g[F]>l)break;U(F)}var j=[];for(v=0;v<u;++v)p[v]||(B[v]=j.length,j.push(s[v].slice()));function V(Q,$){if(Q[$]<0)return $;var G=$,X=$;do{var J=Q[X];if(!p[X]||J<0||J===X||(J=Q[X=J],!p[X]||J<0||J===X))break;X=J,G=Q[G]}while(G!==X);for(var ne=$;ne!==X;ne=Q[ne])Q[ne]=X;return X}j.length;var te=[];return r.forEach(function(Q){var $=V(c,Q[0]),G=V(x,Q[1]);if($>=0&&G>=0&&$!==G){var X=B[$],J=B[G];X!==J&&te.push([X,J])}}),n.unique(n.normalize(te)),{positions:j,edges:te}};var i=t(417),n=t(6656)},6638:function(h,o,t){h.exports=function(r,s){var l,u,d,c;if(s[0][0]<s[1][0])l=s[0],u=s[1];else{if(!(s[0][0]>s[1][0]))return n(s,r);l=s[1],u=s[0]}if(r[0][0]<r[1][0])d=r[0],c=r[1];else{if(!(r[0][0]>r[1][0]))return-n(r,s);d=r[1],c=r[0]}var x=i(l,u,c),g=i(l,u,d);if(x<0){if(g<=0)return x}else if(x>0){if(g>=0)return x}else if(g)return g;if(x=i(c,d,u),g=i(c,d,l),x<0){if(g<=0)return x}else if(x>0){if(g>=0)return x}else if(g)return g;return u[0]-c[0]};var i=t(417);function n(r,s){var l,u,d,c;if(s[0][0]<s[1][0])l=s[0],u=s[1];else{if(!(s[0][0]>s[1][0])){var x=Math.min(r[0][1],r[1][1]),g=Math.max(r[0][1],r[1][1]),p=Math.min(s[0][1],s[1][1]),v=Math.max(s[0][1],s[1][1]);return g<p?g-p:x>v?x-v:g-v}l=s[1],u=s[0]}r[0][1]<r[1][1]?(d=r[0],c=r[1]):(d=r[1],c=r[0]);var y=i(u,l,d);return y||(y=i(u,l,c))||c-u}},4385:function(h,o,t){h.exports=function(g){for(var p=g.length,v=2*p,y=new Array(v),m=0;m<p;++m){var _=g[m],f=_[0][0]<_[1][0];y[2*m]=new x(_[0][0],_,f,m),y[2*m+1]=new x(_[1][0],_,!f,m)}y.sort(function(U,D){var B=U.x-D.x;return B||(B=U.create-D.create)||Math.min(U.segment[0][1],U.segment[1][1])-Math.min(D.segment[0][1],D.segment[1][1])});var S=n(s),T=[],E=[],C=[];for(m=0;m<v;){for(var O=y[m].x,I=[];m<v;){var z=y[m];if(z.x!==O)break;m+=1,z.segment[0][0]===z.x&&z.segment[1][0]===z.x?z.create&&(z.segment[0][1]<z.segment[1][1]?(I.push(new c(z.segment[0][1],z.index,!0,!0)),I.push(new c(z.segment[1][1],z.index,!1,!1))):(I.push(new c(z.segment[1][1],z.index,!0,!1)),I.push(new c(z.segment[0][1],z.index,!1,!0)))):S=z.create?S.insert(z.segment,z.index):S.remove(z.segment)}T.push(S.root),E.push(O),C.push(I)}return new l(T,E,C)};var i=t(5070),n=t(7080),r=t(417),s=t(6638);function l(g,p,v){this.slabs=g,this.coordinates=p,this.horizontal=v}function u(g,p){return g.y-p}function d(g,p){for(var v=null;g;){var y,m,_=g.key;_[0][0]<_[1][0]?(y=_[0],m=_[1]):(y=_[1],m=_[0]);var f=r(y,m,p);if(f<0)g=g.left;else if(f>0)if(p[0]!==_[1][0])v=g,g=g.right;else{if(S=d(g.right,p))return S;g=g.left}else{if(p[0]!==_[1][0])return g;var S;if(S=d(g.right,p))return S;g=g.left}}return v}function c(g,p,v,y){this.y=g,this.index=p,this.start=v,this.closed=y}function x(g,p,v,y){this.x=g,this.segment=p,this.create=v,this.index=y}l.prototype.castUp=function(g){var p=i.le(this.coordinates,g[0]);if(p<0)return-1;this.slabs[p];var v=d(this.slabs[p],g),y=-1;if(v&&(y=v.value),this.coordinates[p]===g[0]){var m=null;if(v&&(m=v.key),p>0){var _=d(this.slabs[p-1],g);_&&(m?s(_.key,m)>0&&(m=_.key,y=_.value):(y=_.value,m=_.key))}var f=this.horizontal[p];if(f.length>0){var S=i.ge(f,g[1],u);if(S<f.length){var T=f[S];if(g[1]===T.y){if(T.closed)return T.index;for(;S<f.length-1&&f[S+1].y===g[1];)if((T=f[S+=1]).closed)return T.index;if(T.y===g[1]&&!T.start){if((S+=1)>=f.length)return y;T=f[S]}}if(T.start)if(m){var E=r(m[0],m[1],[g[0],T.y]);m[0][0]>m[1][0]&&(E=-E),E>0&&(y=T.index)}else y=T.index;else T.y!==g[1]&&(y=T.index)}}}return y}},4670:function(h,o,t){var i=t(9130),n=t(9662);function r(l,u){var d=n(i(l,u),[u[u.length-1]]);return d[d.length-1]}function s(l,u,d,c){var x=-u/(c-u);x<0?x=0:x>1&&(x=1);for(var g=1-x,p=l.length,v=new Array(p),y=0;y<p;++y)v[y]=x*l[y]+g*d[y];return v}h.exports=function(l,u){for(var d=[],c=[],x=r(l[l.length-1],u),g=l[l.length-1],p=l[0],v=0;v<l.length;++v,g=p){var y=r(p=l[v],u);if(x<0&&y>0||x>0&&y<0){var m=s(g,y,p,x);d.push(m),c.push(m.slice())}y<0?c.push(p.slice()):y>0?d.push(p.slice()):(d.push(p.slice()),c.push(p.slice())),x=y}return{positive:d,negative:c}},h.exports.positive=function(l,u){for(var d=[],c=r(l[l.length-1],u),x=l[l.length-1],g=l[0],p=0;p<l.length;++p,x=g){var v=r(g=l[p],u);(c<0&&v>0||c>0&&v<0)&&d.push(s(x,v,g,c)),v>=0&&d.push(g.slice()),c=v}return d},h.exports.negative=function(l,u){for(var d=[],c=r(l[l.length-1],u),x=l[l.length-1],g=l[0],p=0;p<l.length;++p,x=g){var v=r(g=l[p],u);(c<0&&v>0||c>0&&v<0)&&d.push(s(x,v,g,c)),v<=0&&d.push(g.slice()),c=v}return d}},8974:function(h,o,t){var i;(function(){var n={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function r(u){return function(d,c){var x,g,p,v,y,m,_,f,S,T=1,E=d.length,C="";for(g=0;g<E;g++)if(typeof d[g]=="string")C+=d[g];else if(typeof d[g]=="object"){if((v=d[g]).keys)for(x=c[T],p=0;p<v.keys.length;p++){if(x==null)throw new Error(r('[sprintf] Cannot access property "%s" of undefined value "%s"',v.keys[p],v.keys[p-1]));x=x[v.keys[p]]}else x=v.param_no?c[v.param_no]:c[T++];if(n.not_type.test(v.type)&&n.not_primitive.test(v.type)&&x instanceof Function&&(x=x()),n.numeric_arg.test(v.type)&&typeof x!="number"&&isNaN(x))throw new TypeError(r("[sprintf] expecting number but found %T",x));switch(n.number.test(v.type)&&(f=x>=0),v.type){case"b":x=parseInt(x,10).toString(2);break;case"c":x=String.fromCharCode(parseInt(x,10));break;case"d":case"i":x=parseInt(x,10);break;case"j":x=JSON.stringify(x,null,v.width?parseInt(v.width):0);break;case"e":x=v.precision?parseFloat(x).toExponential(v.precision):parseFloat(x).toExponential();break;case"f":x=v.precision?parseFloat(x).toFixed(v.precision):parseFloat(x);break;case"g":x=v.precision?String(Number(x.toPrecision(v.precision))):parseFloat(x);break;case"o":x=(parseInt(x,10)>>>0).toString(8);break;case"s":x=String(x),x=v.precision?x.substring(0,v.precision):x;break;case"t":x=String(!!x),x=v.precision?x.substring(0,v.precision):x;break;case"T":x=Object.prototype.toString.call(x).slice(8,-1).toLowerCase(),x=v.precision?x.substring(0,v.precision):x;break;case"u":x=parseInt(x,10)>>>0;break;case"v":x=x.valueOf(),x=v.precision?x.substring(0,v.precision):x;break;case"x":x=(parseInt(x,10)>>>0).toString(16);break;case"X":x=(parseInt(x,10)>>>0).toString(16).toUpperCase()}n.json.test(v.type)?C+=x:(!n.number.test(v.type)||f&&!v.sign?S="":(S=f?"+":"-",x=x.toString().replace(n.sign,"")),m=v.pad_char?v.pad_char==="0"?"0":v.pad_char.charAt(1):" ",_=v.width-(S+x).length,y=v.width&&_>0?m.repeat(_):"",C+=v.align?S+x+y:m==="0"?S+y+x:y+S+x)}return C}(function(d){if(l[d])return l[d];for(var c,x=d,g=[],p=0;x;){if((c=n.text.exec(x))!==null)g.push(c[0]);else if((c=n.modulo.exec(x))!==null)g.push("%");else{if((c=n.placeholder.exec(x))===null)throw new SyntaxError("[sprintf] unexpected placeholder");if(c[2]){p|=1;var v=[],y=c[2],m=[];if((m=n.key.exec(y))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");for(v.push(m[1]);(y=y.substring(m[0].length))!=="";)if((m=n.key_access.exec(y))!==null)v.push(m[1]);else{if((m=n.index_access.exec(y))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");v.push(m[1])}c[2]=v}else p|=2;if(p===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");g.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}x=x.substring(c[0].length)}return l[d]=g}(u),arguments)}function s(u,d){return r.apply(null,[u].concat(d||[]))}var l=Object.create(null);o.sprintf=r,o.vsprintf=s,typeof window<"u"&&(window.sprintf=r,window.vsprintf=s,(i=function(){return{sprintf:r,vsprintf:s}}.call(o,t,o,h))===void 0||(h.exports=i))})()},4162:function(h,o,t){h.exports=function(l,u){if(l.dimension<=0)return{positions:[],cells:[]};if(l.dimension===1)return function(x,g){for(var p=n(x,g),v=p.length,y=new Array(v),m=new Array(v),_=0;_<v;++_)y[_]=[p[_]],m[_]=[_];return{positions:y,cells:m}}(l,u);var d=l.order.join()+"-"+l.dtype,c=s[d];return u=+u||0,c||(c=s[d]=function(x,g){var p=x.length+"d",v=r[p];if(v)return v(i,x,g)}(l.order,l.dtype)),c(l,u)};var i=t(9284),n=t(9584),r={"2d":function(l,u,d){var c=l({order:u,scalarArguments:3,getters:d==="generic"?[0]:void 0,phase:function(x,g,p,v){return x>v|0},vertex:function(x,g,p,v,y,m,_,f,S,T,E,C,O){var I=(_<<0)+(f<<1)+(S<<2)+(T<<3)|0;if(I!==0&&I!==15)switch(I){case 0:case 15:E.push([x-.5,g-.5]);break;case 1:E.push([x-.25-.25*(v+p-2*O)/(p-v),g-.25-.25*(y+p-2*O)/(p-y)]);break;case 2:E.push([x-.75-.25*(-v-p+2*O)/(v-p),g-.25-.25*(m+v-2*O)/(v-m)]);break;case 3:E.push([x-.5,g-.5-.5*(y+p+m+v-4*O)/(p-y+v-m)]);break;case 4:E.push([x-.25-.25*(m+y-2*O)/(y-m),g-.75-.25*(-y-p+2*O)/(y-p)]);break;case 5:E.push([x-.5-.5*(v+p+m+y-4*O)/(p-v+y-m),g-.5]);break;case 6:E.push([x-.5-.25*(-v-p+m+y)/(v-p+y-m),g-.5-.25*(-y-p+m+v)/(y-p+v-m)]);break;case 7:E.push([x-.75-.25*(m+y-2*O)/(y-m),g-.75-.25*(m+v-2*O)/(v-m)]);break;case 8:E.push([x-.75-.25*(-m-y+2*O)/(m-y),g-.75-.25*(-m-v+2*O)/(m-v)]);break;case 9:E.push([x-.5-.25*(v+p+-m-y)/(p-v+m-y),g-.5-.25*(y+p+-m-v)/(p-y+m-v)]);break;case 10:E.push([x-.5-.5*(-v-p-m-y+4*O)/(v-p+m-y),g-.5]);break;case 11:E.push([x-.25-.25*(-m-y+2*O)/(m-y),g-.75-.25*(y+p-2*O)/(p-y)]);break;case 12:E.push([x-.5,g-.5-.5*(-y-p-m-v+4*O)/(y-p+m-v)]);break;case 13:E.push([x-.75-.25*(v+p-2*O)/(p-v),g-.25-.25*(-m-v+2*O)/(m-v)]);break;case 14:E.push([x-.25-.25*(-v-p+2*O)/(v-p),g-.25-.25*(-y-p+2*O)/(y-p)])}},cell:function(x,g,p,v,y,m,_,f,S){y?f.push([x,g]):f.push([g,x])}});return function(x,g){var p=[],v=[];return c(x,p,v,g),{positions:p,cells:v}}}},s={}},6946:function(h,o,t){h.exports=function s(l,u,d){d=d||{};var c=r[l];c||(c=r[l]={" ":{data:new Float32Array(0),shape:.2}});var x=c[u];if(!x)if(u.length<=1||!/\d/.test(u))x=c[u]=function(C){for(var O=C.cells,I=C.positions,z=new Float32Array(6*O.length),U=0,D=0,B=0;B<O.length;++B)for(var Z=O[B],F=0;F<3;++F){var j=I[Z[F]];z[U++]=j[0],z[U++]=j[1]+1.4,D=Math.max(j[0],D)}return{data:z,shape:D}}(i(u,{triangles:!0,font:l,textAlign:d.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var g=u.split(/(\d|\s)/),p=new Array(g.length),v=0,y=0,m=0;m<g.length;++m)p[m]=s(l,g[m]),v+=p[m].data.length,y+=p[m].shape,m>0&&(y+=.02);var _=new Float32Array(v),f=0,S=-.5*y;for(m=0;m<p.length;++m){for(var T=p[m].data,E=0;E<T.length;E+=2)_[f++]=T[E]+S,_[f++]=T[E+1];S+=p[m].shape+.02}x=c[u]={data:_,shape:y}}return x};var i=t(875),n=window||k.global||{},r=n.__TEXT_CACHE||{};n.__TEXT_CACHE={}},14:function(h,o,t){var i=t(4405);h.exports=s;var n=96;function r(l,u){var d=i(getComputedStyle(l).getPropertyValue(u));return d[0]*s(d[1],l)}function s(l,u){switch(u=u||document.body,l=(l||"px").trim().toLowerCase(),u!==window&&u!==document||(u=document.body),l){case"%":return u.clientHeight/100;case"ch":case"ex":return function(d,c){var x=document.createElement("div");x.style["font-size"]="128"+d,c.appendChild(x);var g=r(x,"font-size")/128;return c.removeChild(x),g}(l,u);case"em":return r(u,"font-size");case"rem":return r(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return n;case"cm":return n/2.54;case"mm":return n/25.4;case"pt":return n/72;case"pc":return n/6}return 1}},3440:function(h,o,t){h.exports=function(y){var m=(y=y||{}).center||[0,0,0],_=y.up||[0,1,0],f=y.right||x(_),S=y.radius||1,T=y.theta||0,E=y.phi||0;if(m=[].slice.call(m,0,3),_=[].slice.call(_,0,3),l(_,_),f=[].slice.call(f,0,3),l(f,f),"eye"in y){var C=y.eye,O=[C[0]-m[0],C[1]-m[1],C[2]-m[2]];s(f,O,_),d(f[0],f[1],f[2])<1e-6?f=x(_):l(f,f),S=d(O[0],O[1],O[2]);var I=u(_,O)/S,z=u(f,O)/S;E=Math.acos(I),T=Math.acos(z)}return S=Math.log(S),new g(y.zoomMin,y.zoomMax,m,_,f,S,T,E)};var i=t(8444),n=t(7437),r=t(4422),s=t(903),l=t(899),u=t(9305);function d(y,m,_){return Math.sqrt(Math.pow(y,2)+Math.pow(m,2)+Math.pow(_,2))}function c(y){return Math.min(1,Math.max(-1,y))}function x(y){var m=Math.abs(y[0]),_=Math.abs(y[1]),f=Math.abs(y[2]),S=[0,0,0];m>Math.max(_,f)?S[2]=1:_>Math.max(m,f)?S[0]=1:S[1]=1;for(var T=0,E=0,C=0;C<3;++C)T+=y[C]*y[C],E+=S[C]*y[C];for(C=0;C<3;++C)S[C]-=E/T*y[C];return l(S,S),S}function g(y,m,_,f,S,T,E,C){this.center=i(_),this.up=i(f),this.right=i(S),this.radius=i([T]),this.angle=i([E,C]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(y,m),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var O=0;O<16;++O)this.computedMatrix[O]=.5;this.recalcMatrix(0)}var p=g.prototype;p.setDistanceLimits=function(y,m){y=y>0?Math.log(y):-1/0,m=m>0?Math.log(m):1/0,m=Math.max(m,y),this.radius.bounds[0][0]=y,this.radius.bounds[1][0]=m},p.getDistanceLimits=function(y){var m=this.radius.bounds[0];return y?(y[0]=Math.exp(m[0][0]),y[1]=Math.exp(m[1][0]),y):[Math.exp(m[0][0]),Math.exp(m[1][0])]},p.recalcMatrix=function(y){this.center.curve(y),this.up.curve(y),this.right.curve(y),this.radius.curve(y),this.angle.curve(y);for(var m=this.computedUp,_=this.computedRight,f=0,S=0,T=0;T<3;++T)S+=m[T]*_[T],f+=m[T]*m[T];var E=Math.sqrt(f),C=0;for(T=0;T<3;++T)_[T]-=m[T]*S/f,C+=_[T]*_[T],m[T]/=E;var O=Math.sqrt(C);for(T=0;T<3;++T)_[T]/=O;var I=this.computedToward;s(I,m,_),l(I,I);var z=Math.exp(this.computedRadius[0]),U=this.computedAngle[0],D=this.computedAngle[1],B=Math.cos(U),Z=Math.sin(U),F=Math.cos(D),j=Math.sin(D),V=this.computedCenter,te=B*F,Q=Z*F,$=j,G=-B*j,X=-Z*j,J=F,ne=this.computedEye,ie=this.computedMatrix;for(T=0;T<3;++T){var ae=te*_[T]+Q*I[T]+$*m[T];ie[4*T+1]=G*_[T]+X*I[T]+J*m[T],ie[4*T+2]=ae,ie[4*T+3]=0}var le=ie[1],ce=ie[5],pe=ie[9],ge=ie[2],me=ie[6],ve=ie[10],Me=ce*ve-pe*me,_e=pe*ge-le*ve,we=le*me-ce*ge,oe=d(Me,_e,we);for(Me/=oe,_e/=oe,we/=oe,ie[0]=Me,ie[4]=_e,ie[8]=we,T=0;T<3;++T)ne[T]=V[T]+ie[2+4*T]*z;for(T=0;T<3;++T){C=0;for(var se=0;se<3;++se)C+=ie[T+4*se]*ne[se];ie[12+T]=-C}ie[15]=1},p.getMatrix=function(y,m){this.recalcMatrix(y);var _=this.computedMatrix;if(m){for(var f=0;f<16;++f)m[f]=_[f];return m}return _};var v=[0,0,0];p.rotate=function(y,m,_,f){if(this.angle.move(y,m,_),f){this.recalcMatrix(y);var S=this.computedMatrix;v[0]=S[2],v[1]=S[6],v[2]=S[10];for(var T=this.computedUp,E=this.computedRight,C=this.computedToward,O=0;O<3;++O)S[4*O]=T[O],S[4*O+1]=E[O],S[4*O+2]=C[O];for(r(S,S,f,v),O=0;O<3;++O)T[O]=S[4*O],E[O]=S[4*O+1];this.up.set(y,T[0],T[1],T[2]),this.right.set(y,E[0],E[1],E[2])}},p.pan=function(y,m,_,f){m=m||0,_=_||0,f=f||0,this.recalcMatrix(y);var S=this.computedMatrix,T=(Math.exp(this.computedRadius[0]),S[1]),E=S[5],C=S[9],O=d(T,E,C);T/=O,E/=O,C/=O;var I=S[0],z=S[4],U=S[8],D=I*T+z*E+U*C,B=d(I-=T*D,z-=E*D,U-=C*D),Z=(I/=B)*m+T*_,F=(z/=B)*m+E*_,j=(U/=B)*m+C*_;this.center.move(y,Z,F,j);var V=Math.exp(this.computedRadius[0]);V=Math.max(1e-4,V+f),this.radius.set(y,Math.log(V))},p.translate=function(y,m,_,f){this.center.move(y,m||0,_||0,f||0)},p.setMatrix=function(y,m,_,f){var S=1;typeof _=="number"&&(S=0|_),(S<0||S>3)&&(S=1);var T=(S+2)%3;m||(this.recalcMatrix(y),m=this.computedMatrix);var E=m[S],C=m[S+4],O=m[S+8];if(f){var I=Math.abs(E),z=Math.abs(C),U=Math.abs(O),D=Math.max(I,z,U);I===D?(E=E<0?-1:1,C=O=0):U===D?(O=O<0?-1:1,E=C=0):(C=C<0?-1:1,E=O=0)}else{var B=d(E,C,O);E/=B,C/=B,O/=B}var Z,F,j=m[T],V=m[T+4],te=m[T+8],Q=j*E+V*C+te*O,$=d(j-=E*Q,V-=C*Q,te-=O*Q),G=C*(te/=$)-O*(V/=$),X=O*(j/=$)-E*te,J=E*V-C*j,ne=d(G,X,J);if(G/=ne,X/=ne,J/=ne,this.center.jump(y,Se,Le,Oe),this.radius.idle(y),this.up.jump(y,E,C,O),this.right.jump(y,j,V,te),S===2){var ie=m[1],ae=m[5],le=m[9],ce=ie*j+ae*V+le*te,pe=ie*G+ae*X+le*J;Z=Me<0?-Math.PI/2:Math.PI/2,F=Math.atan2(pe,ce)}else{var ge=m[2],me=m[6],ve=m[10],Me=ge*E+me*C+ve*O,_e=ge*j+me*V+ve*te,we=ge*G+me*X+ve*J;Z=Math.asin(c(Me)),F=Math.atan2(we,_e)}this.angle.jump(y,F,Z),this.recalcMatrix(y);var oe=m[2],se=m[6],de=m[10],Ee=this.computedMatrix;n(Ee,m);var Te=Ee[15],Se=Ee[12]/Te,Le=Ee[13]/Te,Oe=Ee[14]/Te,he=Math.exp(this.computedRadius[0]);this.center.jump(y,Se-oe*he,Le-se*he,Oe-de*he)},p.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},p.idle=function(y){this.center.idle(y),this.up.idle(y),this.right.idle(y),this.radius.idle(y),this.angle.idle(y)},p.flush=function(y){this.center.flush(y),this.up.flush(y),this.right.flush(y),this.radius.flush(y),this.angle.flush(y)},p.setDistance=function(y,m){m>0&&this.radius.set(y,Math.log(m))},p.lookAt=function(y,m,_,f){this.recalcMatrix(y),m=m||this.computedEye,_=_||this.computedCenter;var S=(f=f||this.computedUp)[0],T=f[1],E=f[2],C=d(S,T,E);if(!(C<1e-6)){S/=C,T/=C,E/=C;var O=m[0]-_[0],I=m[1]-_[1],z=m[2]-_[2],U=d(O,I,z);if(!(U<1e-6)){O/=U,I/=U,z/=U;var D=this.computedRight,B=D[0],Z=D[1],F=D[2],j=S*B+T*Z+E*F,V=d(B-=j*S,Z-=j*T,F-=j*E);if(!(V<.01&&(V=d(B=T*z-E*I,Z=E*O-S*z,F=S*I-T*O))<1e-6)){B/=V,Z/=V,F/=V,this.up.set(y,S,T,E),this.right.set(y,B,Z,F),this.center.set(y,_[0],_[1],_[2]),this.radius.set(y,Math.log(U));var te=T*F-E*Z,Q=E*B-S*F,$=S*Z-T*B,G=d(te,Q,$),X=S*O+T*I+E*z,J=B*O+Z*I+F*z,ne=(te/=G)*O+(Q/=G)*I+($/=G)*z,ie=Math.asin(c(X)),ae=Math.atan2(ne,J),le=this.angle._state,ce=le[le.length-1],pe=le[le.length-2];ce%=2*Math.PI;var ge=Math.abs(ce+2*Math.PI-ae),me=Math.abs(ce-ae),ve=Math.abs(ce-2*Math.PI-ae);ge<me&&(ce+=2*Math.PI),ve<me&&(ce-=2*Math.PI),this.angle.jump(this.angle.lastT(),ce,pe),this.angle.set(y,ae,ie)}}}}},9660:function(h){h.exports=function(t,i,n){var r=t*i,s=o*t,l=s-(s-t),u=t-l,d=o*i,c=d-(d-i),x=i-c,g=u*x-(r-l*c-u*c-l*x);return n?(n[0]=g,n[1]=r,n):[g,r]};var o=+(Math.pow(2,27)+1)},87:function(h){h.exports=function(o,t,i){var n=o+t,r=n-o,s=t-r,l=o-(n-r);return i?(i[0]=l+s,i[1]=n,i):[l+s,n]}},5306:function(h,o,t){var i=t(2288),n=t(3094),r=t(2146).lW;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:n([32,0]),UINT16:n([32,0]),UINT32:n([32,0]),BIGUINT64:n([32,0]),INT8:n([32,0]),INT16:n([32,0]),INT32:n([32,0]),BIGINT64:n([32,0]),FLOAT:n([32,0]),DOUBLE:n([32,0]),DATA:n([32,0]),UINT8C:n([32,0]),BUFFER:n([32,0])});var s=typeof Uint8ClampedArray<"u",l=typeof BigUint64Array<"u",u=typeof BigInt64Array<"u",d=t.g.__TYPEDARRAY_POOL;d.UINT8C||(d.UINT8C=n([32,0])),d.BIGUINT64||(d.BIGUINT64=n([32,0])),d.BIGINT64||(d.BIGINT64=n([32,0])),d.BUFFER||(d.BUFFER=n([32,0]));var c=d.DATA,x=d.BUFFER;function g(D){if(D){var B=D.length||D.byteLength,Z=i.log2(B);c[Z].push(D)}}function p(D){D=i.nextPow2(D);var B=i.log2(D),Z=c[B];return Z.length>0?Z.pop():new ArrayBuffer(D)}function v(D){return new Uint8Array(p(D),0,D)}function y(D){return new Uint16Array(p(2*D),0,D)}function m(D){return new Uint32Array(p(4*D),0,D)}function _(D){return new Int8Array(p(D),0,D)}function f(D){return new Int16Array(p(2*D),0,D)}function S(D){return new Int32Array(p(4*D),0,D)}function T(D){return new Float32Array(p(4*D),0,D)}function E(D){return new Float64Array(p(8*D),0,D)}function C(D){return s?new Uint8ClampedArray(p(D),0,D):v(D)}function O(D){return l?new BigUint64Array(p(8*D),0,D):null}function I(D){return u?new BigInt64Array(p(8*D),0,D):null}function z(D){return new DataView(p(D),0,D)}function U(D){D=i.nextPow2(D);var B=i.log2(D),Z=x[B];return Z.length>0?Z.pop():new r(D)}o.free=function(D){if(r.isBuffer(D))x[i.log2(D.length)].push(D);else{if(Object.prototype.toString.call(D)!=="[object ArrayBuffer]"&&(D=D.buffer),!D)return;var B=D.length||D.byteLength,Z=0|i.log2(B);c[Z].push(D)}},o.freeUint8=o.freeUint16=o.freeUint32=o.freeBigUint64=o.freeInt8=o.freeInt16=o.freeInt32=o.freeBigInt64=o.freeFloat32=o.freeFloat=o.freeFloat64=o.freeDouble=o.freeUint8Clamped=o.freeDataView=function(D){g(D.buffer)},o.freeArrayBuffer=g,o.freeBuffer=function(D){x[i.log2(D.length)].push(D)},o.malloc=function(D,B){if(B===void 0||B==="arraybuffer")return p(D);switch(B){case"uint8":return v(D);case"uint16":return y(D);case"uint32":return m(D);case"int8":return _(D);case"int16":return f(D);case"int32":return S(D);case"float":case"float32":return T(D);case"double":case"float64":return E(D);case"uint8_clamped":return C(D);case"bigint64":return I(D);case"biguint64":return O(D);case"buffer":return U(D);case"data":case"dataview":return z(D);default:return null}return null},o.mallocArrayBuffer=p,o.mallocUint8=v,o.mallocUint16=y,o.mallocUint32=m,o.mallocInt8=_,o.mallocInt16=f,o.mallocInt32=S,o.mallocFloat32=o.mallocFloat=T,o.mallocFloat64=o.mallocDouble=E,o.mallocUint8Clamped=C,o.mallocBigUint64=O,o.mallocBigInt64=I,o.mallocDataView=z,o.mallocBuffer=U,o.clearCache=function(){for(var D=0;D<32;++D)d.UINT8[D].length=0,d.UINT16[D].length=0,d.UINT32[D].length=0,d.INT8[D].length=0,d.INT16[D].length=0,d.INT32[D].length=0,d.FLOAT[D].length=0,d.DOUBLE[D].length=0,d.BIGUINT64[D].length=0,d.BIGINT64[D].length=0,d.UINT8C[D].length=0,c[D].length=0,x[D].length=0}},1731:function(h){function o(i){this.roots=new Array(i),this.ranks=new Array(i);for(var n=0;n<i;++n)this.roots[n]=n,this.ranks[n]=0}h.exports=o;var t=o.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var i=this.roots.length;return this.roots.push(i),this.ranks.push(0),i},t.find=function(i){for(var n=i,r=this.roots;r[i]!==i;)i=r[i];for(;r[n]!==i;){var s=r[n];r[n]=i,n=s}return i},t.link=function(i,n){var r=this.find(i),s=this.find(n);if(r!==s){var l=this.ranks,u=this.roots,d=l[r],c=l[s];d<c?u[r]=s:c<d?u[s]=r:(u[s]=r,++l[r])}}},1215:function(h){h.exports=function(o,t,i){return o.length===0?o:t?(i||o.sort(t),function(n,r){for(var s=1,l=n.length,u=n[0],d=n[0],c=1;c<l;++c)if(d=u,r(u=n[c],d)){if(c===s){s++;continue}n[s++]=u}return n.length=s,n}(o,t)):(i||o.sort(),function(n){for(var r=1,s=n.length,l=n[0],u=n[0],d=1;d<s;++d,u=l)if(u=l,(l=n[d])!==u){if(d===r){r++;continue}n[r++]=l}return n.length=r,n}(o))}},875:function(h,o,t){h.exports=function(s,l){return typeof l=="object"&&l!==null||(l={}),i(s,l.canvas||n,l.context||r,l)};var i=t(712),n=null,r=null;typeof document<"u"&&((n=document.createElement("canvas")).width=8192,n.height=1024,r=n.getContext("2d"))},712:function(h,o,t){h.exports=function(O,I,z,U){var D=64,B=1.25,Z={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return U&&(U.size&&U.size>0&&(D=U.size),U.lineSpacing&&U.lineSpacing>0&&(B=U.lineSpacing),U.styletags&&U.styletags.breaklines&&(Z.breaklines=!!U.styletags.breaklines),U.styletags&&U.styletags.bolds&&(Z.bolds=!!U.styletags.bolds),U.styletags&&U.styletags.italics&&(Z.italics=!!U.styletags.italics),U.styletags&&U.styletags.subscripts&&(Z.subscripts=!!U.styletags.subscripts),U.styletags&&U.styletags.superscripts&&(Z.superscripts=!!U.styletags.superscripts)),z.font=[U.fontStyle,U.fontVariant,U.fontWeight,D+"px",U.font].filter(function(F){return F}).join(" "),z.textAlign="start",z.textBaseline="alphabetic",z.direction="ltr",C(function(F,j,V,te,Q,$){V=V.replace(/\n/g,""),V=$.breaklines===!0?V.replace(/\<br\>/g,`
`):V.replace(/\<br\>/g," ");var G="",X=[];for(ae=0;ae<V.length;++ae)X[ae]=G;$.bolds===!0&&(X=S(d,c,V,X)),$.italics===!0&&(X=S(x,g,V,X)),$.superscripts===!0&&(X=S(p,y,V,X)),$.subscripts===!0&&(X=S(m,f,V,X));var J=[],ne="";for(ae=0;ae<V.length;++ae)X[ae]!==null&&(ne+=V[ae],J.push(X[ae]));var ie,ae,le,ce,pe,ge=ne.split(`
`),me=ge.length,ve=Math.round(Q*te),Me=te,_e=2*te,we=0,oe=me*ve+_e;F.height<oe&&(F.height=oe),j.fillStyle="#000",j.fillRect(0,0,F.width,F.height),j.fillStyle="#fff";var se=0,de="";function Ee(){if(de!==""){var Re=j.measureText(de).width;j.fillText(de,Me+le,_e+ce),le+=Re}}function Te(){return Math.round(pe)+"px "}function Se(Re,ze){var Ie=""+j.font;if($.subscripts===!0){var He=Re.indexOf(_),qe=ze.indexOf(_),Je=He>-1?parseInt(Re[1+He]):0,st=qe>-1?parseInt(ze[1+qe]):0;Je!==st&&(Ie=Ie.replace(Te(),"?px "),pe*=Math.pow(.75,st-Je),Ie=Ie.replace("?px ",Te())),ce+=.25*ve*(st-Je)}if($.superscripts===!0){var it=Re.indexOf(v),vt=ze.indexOf(v),_t=it>-1?parseInt(Re[1+it]):0,xt=vt>-1?parseInt(ze[1+vt]):0;_t!==xt&&(Ie=Ie.replace(Te(),"?px "),pe*=Math.pow(.75,xt-_t),Ie=Ie.replace("?px ",Te())),ce-=.25*ve*(xt-_t)}if($.bolds===!0){var et=Re.indexOf(c)>-1,nt=ze.indexOf(c)>-1;!et&&nt&&(Ie=Mt?Ie.replace("italic ","italic bold "):"bold "+Ie),et&&!nt&&(Ie=Ie.replace("bold ",""))}if($.italics===!0){var Mt=Re.indexOf(g)>-1,zt=ze.indexOf(g)>-1;!Mt&&zt&&(Ie="italic "+Ie),Mt&&!zt&&(Ie=Ie.replace("italic ",""))}j.font=Ie}for(ie=0;ie<me;++ie){var Le=ge[ie]+`
`;for(le=0,ce=ie*ve,pe=te,de="",ae=0;ae<Le.length;++ae){var Oe=ae+se<J.length?J[ae+se]:J[J.length-1];G===Oe?de+=Le[ae]:(Ee(),de=Le[ae],Oe!==void 0&&(Se(G,Oe),G=Oe))}Ee(),se+=Le.length;var he=0|Math.round(le+2*Me);we<he&&(we=he)}var xe=we,ke=_e+ve*me;return n(j.getImageData(0,0,xe,ke).data,[ke,xe,4]).pick(-1,-1,0).transpose(1,0)}(I,z,O,D,B,Z),U,D)},h.exports.processPixels=C;var i=t(4162),n=t(5050),r=t(8243),s=t(197),l=t(7761),u=t(8040),d="b",c="b|",x="i",g="i|",p="sup",v="+",y="+1",m="sub",_="-",f="-1";function S(O,I,z,U){for(var D="<"+O+">",B="</"+O+">",Z=D.length,F=B.length,j=I[0]===v||I[0]===_,V=0,te=-F;V>-1&&(V=z.indexOf(D,V))!==-1&&(te=z.indexOf(B,V+Z))!==-1&&!(te<=V);){for(var Q=V;Q<te+F;++Q)if(Q<V+Z||Q>=te)U[Q]=null,z=z.substr(0,Q)+" "+z.substr(Q+1);else if(U[Q]!==null){var $=U[Q].indexOf(I[0]);$===-1?U[Q]+=I:j&&(U[Q]=U[Q].substr(0,$+1)+(1+parseInt(U[Q][$+1]))+U[Q].substr($+2))}var G=V+Z,X=z.substr(G,te-G).indexOf(D);V=X!==-1?X:te+F}return U}function T(O,I){var z=i(O,128);return I?r(z.cells,z.positions,.25):{edges:z.cells,positions:z.positions}}function E(O,I,z,U){var D=T(O,U),B=function(ie,ae,le){for(var ce=ae.textAlign||"start",pe=ae.textBaseline||"alphabetic",ge=[1<<30,1<<30],me=[0,0],ve=ie.length,Me=0;Me<ve;++Me)for(var _e=ie[Me],we=0;we<2;++we)ge[we]=0|Math.min(ge[we],_e[we]),me[we]=0|Math.max(me[we],_e[we]);var oe=0;switch(ce){case"center":oe=-.5*(ge[0]+me[0]);break;case"right":case"end":oe=-me[0];break;case"left":case"start":oe=-ge[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+ce+"'")}var se=0;switch(pe){case"hanging":case"top":se=-ge[1];break;case"middle":se=-.5*(ge[1]+me[1]);break;case"alphabetic":case"ideographic":se=-3*le;break;case"bottom":se=-me[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+pe+"'")}var de=1/le;return"lineHeight"in ae?de*=+ae.lineHeight:"width"in ae?de=ae.width/(me[0]-ge[0]):"height"in ae&&(de=ae.height/(me[1]-ge[1])),ie.map(function(Ee){return[de*(Ee[0]+oe),de*(Ee[1]+se)]})}(D.positions,I,z),Z=D.edges,F=I.orientation==="ccw";if(s(B,Z),I.polygons||I.polygon||I.polyline){for(var j=u(Z,B),V=new Array(j.length),te=0;te<j.length;++te){for(var Q=j[te],$=new Array(Q.length),G=0;G<Q.length;++G){for(var X=Q[G],J=new Array(X.length),ne=0;ne<X.length;++ne)J[ne]=B[X[ne]].slice();F&&J.reverse(),$[G]=J}V[te]=$}return V}return I.triangles||I.triangulate||I.triangle?{cells:l(B,Z,{delaunay:!1,exterior:!1,interior:!0}),positions:B}:{edges:Z,positions:B}}function C(O,I,z){try{return E(O,I,z,!0)}catch{}try{return E(O,I,z,!1)}catch{}return I.polygons||I.polyline||I.polygon?[]:I.triangles||I.triangulate||I.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},5346:function(h){(function(){if(typeof ses>"u"||!ses.ok||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=m);var o=!1;if(typeof WeakMap=="function"){var t=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var i=new t,n=Object.freeze({});if(i.set(n,1),i.get(n)===1)return void(h.exports=WeakMap);o=!0}}var r=Object.getOwnPropertyNames,s=Object.defineProperty,l=Object.isExtensible,u="weakmap:",d=u+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var c=new ArrayBuffer(25),x=new Uint8Array(c);crypto.getRandomValues(x),d=u+"rand:"+Array.prototype.map.call(x,function(E){return(E%36).toString(36)}).join("")+"___"}if(s(Object,"getOwnPropertyNames",{value:function(E){return r(E).filter(_)}}),"getPropertyNames"in Object){var g=Object.getPropertyNames;s(Object,"getPropertyNames",{value:function(E){return g(E).filter(_)}})}(function(){var E=Object.freeze;s(Object,"freeze",{value:function(I){return f(I),E(I)}});var C=Object.seal;s(Object,"seal",{value:function(I){return f(I),C(I)}});var O=Object.preventExtensions;s(Object,"preventExtensions",{value:function(I){return f(I),O(I)}})})();var p=!1,v=0,y=function(){this instanceof y||T();var E=[],C=[],O=v++;return Object.create(y.prototype,{get___:{value:S(function(I,z){var U,D=f(I);return D?O in D?D[O]:z:(U=E.indexOf(I))>=0?C[U]:z})},has___:{value:S(function(I){var z=f(I);return z?O in z:E.indexOf(I)>=0})},set___:{value:S(function(I,z){var U,D=f(I);return D?D[O]=z:(U=E.indexOf(I))>=0?C[U]=z:(U=E.length,C[U]=z,E[U]=I),this})},delete___:{value:S(function(I){var z,U,D=f(I);return D?O in D&&delete D[O]:!((z=E.indexOf(I))<0||(U=E.length-1,E[z]=void 0,C[z]=C[U],E[z]=E[U],E.length=U,C.length=U,0))})}})};y.prototype=Object.create(Object.prototype,{get:{value:function(E,C){return this.get___(E,C)},writable:!0,configurable:!0},has:{value:function(E){return this.has___(E)},writable:!0,configurable:!0},set:{value:function(E,C){return this.set___(E,C)},writable:!0,configurable:!0},delete:{value:function(E){return this.delete___(E)},writable:!0,configurable:!0}}),typeof t=="function"?function(){function E(){this instanceof y||T();var C,O=new t,I=void 0,z=!1;return C=o?function(U,D){return O.set(U,D),O.has(U)||(I||(I=new y),I.set(U,D)),this}:function(U,D){if(z)try{O.set(U,D)}catch{I||(I=new y),I.set___(U,D)}else O.set(U,D);return this},Object.create(y.prototype,{get___:{value:S(function(U,D){return I?O.has(U)?O.get(U):I.get___(U,D):O.get(U,D)})},has___:{value:S(function(U){return O.has(U)||!!I&&I.has___(U)})},set___:{value:S(C)},delete___:{value:S(function(U){var D=!!O.delete(U);return I&&I.delete___(U)||D})},permitHostObjects___:{value:S(function(U){if(U!==m)throw new Error("bogus call to permitHostObjects___");z=!0})}})}o&&typeof Proxy<"u"&&(Proxy=void 0),E.prototype=y.prototype,h.exports=E,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),h.exports=y)}function m(E){E.permitHostObjects___&&E.permitHostObjects___(m)}function _(E){return!(E.substr(0,8)==u&&E.substr(E.length-3)==="___")}function f(E){if(E!==Object(E))throw new TypeError("Not an object: "+E);var C=E[d];if(C&&C.key===E)return C;if(l(E)){C={key:E};try{return s(E,d,{value:C,writable:!1,enumerable:!1,configurable:!1}),C}catch{return}}}function S(E){return E.prototype=null,Object.freeze(E)}function T(){p||typeof console>"u"||(p=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}})()},9222:function(h,o,t){var i=t(7178);h.exports=function(){var n={};return function(r){if((typeof r!="object"||r===null)&&typeof r!="function")throw new Error("Weakmap-shim: Key must be object");var s=r.valueOf(n);return s&&s.identity===n?s:i(r,n)}}},7178:function(h){h.exports=function(o,t){var i={identity:t},n=o.valueOf;return Object.defineProperty(o,"valueOf",{value:function(r){return r!==t?n.apply(this,arguments):i},writable:!0}),i}},4037:function(h,o,t){var i=t(9222);h.exports=function(){var n=i();return{get:function(r,s){var l=n(r);return l.hasOwnProperty("value")?l.value:s},set:function(r,s){return n(r).value=s,this},has:function(r){return"value"in n(r)},delete:function(r){return delete n(r).value}}}},6183:function(h){h.exports=function(o){var t={};return function(i,n,r){var s=i.dtype,l=i.order,u=[s,l.join()].join(),d=t[u];return d||(t[u]=d=o([s,l])),d(i.shape.slice(0),i.data,i.stride,0|i.offset,n,r)}}(function(){return function(o,t,i,n,r,s){var l=o[0],u=i[0],d=[0],c=u;n|=0;var x=0,g=u;for(x=0;x<l;++x){var p=t[n]-s,v=t[n+c]-s;p>=0!=v>=0&&r.push(d[0]+.5+.5*(p+v)/(p-v)),n+=g,++d[0]}}}.bind(void 0,{funcName:"zeroCrossings"}))},9584:function(h,o,t){h.exports=function(n,r){var s=[];return r=+r||0,i(n.hi(n.shape[0]-1),s,r),s};var i=t(6183)},6601:function(){}},w={};function b(h){var o=w[h];if(o!==void 0)return o.exports;var t=w[h]={id:h,loaded:!1,exports:{}};return a[h].call(t.exports,t,t.exports,b),t.loaded=!0,t.exports}return b.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),b.nmd=function(h){return h.paths=[],h.children||(h.children=[]),h},b(7386)}()},Y.exports=A()},33576:function(Y,P,e){function A(oe,se){for(var de=0;de<se.length;de++){var Ee=se[de];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(oe,(Te=function(Se,Le){if(b(Se)!=="object"||Se===null)return Se;var Oe=Se[Symbol.toPrimitive];if(Oe!==void 0){var he=Oe.call(Se,"string");if(b(he)!=="object")return he;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Se)}(Ee.key),b(Te)==="symbol"?Te:String(Te)),Ee)}var Te}function k(oe){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(se){return se.__proto__||Object.getPrototypeOf(se)},k(oe)}function a(oe){if(oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}function w(oe,se){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(de,Ee){return de.__proto__=Ee,de},w(oe,se)}function b(oe){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(se){return typeof se}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},b(oe)}var h=e(59968),o=e(35984),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;P.Buffer=r,P.SlowBuffer=function(oe){return+oe!=oe&&(oe=0),r.alloc(+oe)},P.INSPECT_MAX_BYTES=50;var i=2147483647;function n(oe){if(oe>i)throw new RangeError('The value "'+oe+'" is invalid for option "size"');var se=new Uint8Array(oe);return Object.setPrototypeOf(se,r.prototype),se}function r(oe,se,de){if(typeof oe=="number"){if(typeof se=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(oe)}return s(oe,se,de)}function s(oe,se,de){if(typeof oe=="string")return function(Se,Le){if(typeof Le=="string"&&Le!==""||(Le="utf8"),!r.isEncoding(Le))throw new TypeError("Unknown encoding: "+Le);var Oe=0|g(Se,Le),he=n(Oe),xe=he.write(Se,Le);return xe!==Oe&&(he=he.slice(0,xe)),he}(oe,se);if(ArrayBuffer.isView(oe))return function(Se){if(me(Se,Uint8Array)){var Le=new Uint8Array(Se);return c(Le.buffer,Le.byteOffset,Le.byteLength)}return d(Se)}(oe);if(oe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(oe));if(me(oe,ArrayBuffer)||oe&&me(oe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(oe,SharedArrayBuffer)||oe&&me(oe.buffer,SharedArrayBuffer)))return c(oe,se,de);if(typeof oe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ee=oe.valueOf&&oe.valueOf();if(Ee!=null&&Ee!==oe)return r.from(Ee,se,de);var Te=function(Se){if(r.isBuffer(Se)){var Le=0|x(Se.length),Oe=n(Le);return Oe.length===0||Se.copy(Oe,0,0,Le),Oe}return Se.length!==void 0?typeof Se.length!="number"||ve(Se.length)?n(0):d(Se):Se.type==="Buffer"&&Array.isArray(Se.data)?d(Se.data):void 0}(oe);if(Te)return Te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof oe[Symbol.toPrimitive]=="function")return r.from(oe[Symbol.toPrimitive]("string"),se,de);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+b(oe))}function l(oe){if(typeof oe!="number")throw new TypeError('"size" argument must be of type number');if(oe<0)throw new RangeError('The value "'+oe+'" is invalid for option "size"')}function u(oe){return l(oe),n(oe<0?0:0|x(oe))}function d(oe){for(var se=oe.length<0?0:0|x(oe.length),de=n(se),Ee=0;Ee<se;Ee+=1)de[Ee]=255&oe[Ee];return de}function c(oe,se,de){if(se<0||oe.byteLength<se)throw new RangeError('"offset" is outside of buffer bounds');if(oe.byteLength<se+(de||0))throw new RangeError('"length" is outside of buffer bounds');var Ee;return Ee=se===void 0&&de===void 0?new Uint8Array(oe):de===void 0?new Uint8Array(oe,se):new Uint8Array(oe,se,de),Object.setPrototypeOf(Ee,r.prototype),Ee}function x(oe){if(oe>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|oe}function g(oe,se){if(r.isBuffer(oe))return oe.length;if(ArrayBuffer.isView(oe)||me(oe,ArrayBuffer))return oe.byteLength;if(typeof oe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+b(oe));var de=oe.length,Ee=arguments.length>2&&arguments[2]===!0;if(!Ee&&de===0)return 0;for(var Te=!1;;)switch(se){case"ascii":case"latin1":case"binary":return de;case"utf8":case"utf-8":return ce(oe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*de;case"hex":return de>>>1;case"base64":return pe(oe).length;default:if(Te)return Ee?-1:ce(oe).length;se=(""+se).toLowerCase(),Te=!0}}function p(oe,se,de){var Ee=!1;if((se===void 0||se<0)&&(se=0),se>this.length||((de===void 0||de>this.length)&&(de=this.length),de<=0)||(de>>>=0)<=(se>>>=0))return"";for(oe||(oe="utf8");;)switch(oe){case"hex":return D(this,se,de);case"utf8":case"utf-8":return O(this,se,de);case"ascii":return z(this,se,de);case"latin1":case"binary":return U(this,se,de);case"base64":return C(this,se,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,se,de);default:if(Ee)throw new TypeError("Unknown encoding: "+oe);oe=(oe+"").toLowerCase(),Ee=!0}}function v(oe,se,de){var Ee=oe[se];oe[se]=oe[de],oe[de]=Ee}function y(oe,se,de,Ee,Te){if(oe.length===0)return-1;if(typeof de=="string"?(Ee=de,de=0):de>2147483647?de=2147483647:de<-2147483648&&(de=-2147483648),ve(de=+de)&&(de=Te?0:oe.length-1),de<0&&(de=oe.length+de),de>=oe.length){if(Te)return-1;de=oe.length-1}else if(de<0){if(!Te)return-1;de=0}if(typeof se=="string"&&(se=r.from(se,Ee)),r.isBuffer(se))return se.length===0?-1:m(oe,se,de,Ee,Te);if(typeof se=="number")return se&=255,typeof Uint8Array.prototype.indexOf=="function"?Te?Uint8Array.prototype.indexOf.call(oe,se,de):Uint8Array.prototype.lastIndexOf.call(oe,se,de):m(oe,[se],de,Ee,Te);throw new TypeError("val must be string, number or Buffer")}function m(oe,se,de,Ee,Te){var Se,Le=1,Oe=oe.length,he=se.length;if(Ee!==void 0&&((Ee=String(Ee).toLowerCase())==="ucs2"||Ee==="ucs-2"||Ee==="utf16le"||Ee==="utf-16le")){if(oe.length<2||se.length<2)return-1;Le=2,Oe/=2,he/=2,de/=2}function xe(Ie,He){return Le===1?Ie[He]:Ie.readUInt16BE(He*Le)}if(Te){var ke=-1;for(Se=de;Se<Oe;Se++)if(xe(oe,Se)===xe(se,ke===-1?0:Se-ke)){if(ke===-1&&(ke=Se),Se-ke+1===he)return ke*Le}else ke!==-1&&(Se-=Se-ke),ke=-1}else for(de+he>Oe&&(de=Oe-he),Se=de;Se>=0;Se--){for(var Re=!0,ze=0;ze<he;ze++)if(xe(oe,Se+ze)!==xe(se,ze)){Re=!1;break}if(Re)return Se}return-1}function _(oe,se,de,Ee){de=Number(de)||0;var Te=oe.length-de;Ee?(Ee=Number(Ee))>Te&&(Ee=Te):Ee=Te;var Se,Le=se.length;for(Ee>Le/2&&(Ee=Le/2),Se=0;Se<Ee;++Se){var Oe=parseInt(se.substr(2*Se,2),16);if(ve(Oe))return Se;oe[de+Se]=Oe}return Se}function f(oe,se,de,Ee){return ge(ce(se,oe.length-de),oe,de,Ee)}function S(oe,se,de,Ee){return ge(function(Te){for(var Se=[],Le=0;Le<Te.length;++Le)Se.push(255&Te.charCodeAt(Le));return Se}(se),oe,de,Ee)}function T(oe,se,de,Ee){return ge(pe(se),oe,de,Ee)}function E(oe,se,de,Ee){return ge(function(Te,Se){for(var Le,Oe,he,xe=[],ke=0;ke<Te.length&&!((Se-=2)<0);++ke)Oe=(Le=Te.charCodeAt(ke))>>8,he=Le%256,xe.push(he),xe.push(Oe);return xe}(se,oe.length-de),oe,de,Ee)}function C(oe,se,de){return se===0&&de===oe.length?h.fromByteArray(oe):h.fromByteArray(oe.slice(se,de))}function O(oe,se,de){de=Math.min(oe.length,de);for(var Ee=[],Te=se;Te<de;){var Se=oe[Te],Le=null,Oe=Se>239?4:Se>223?3:Se>191?2:1;if(Te+Oe<=de){var he=void 0,xe=void 0,ke=void 0,Re=void 0;switch(Oe){case 1:Se<128&&(Le=Se);break;case 2:(192&(he=oe[Te+1]))==128&&(Re=(31&Se)<<6|63&he)>127&&(Le=Re);break;case 3:he=oe[Te+1],xe=oe[Te+2],(192&he)==128&&(192&xe)==128&&(Re=(15&Se)<<12|(63&he)<<6|63&xe)>2047&&(Re<55296||Re>57343)&&(Le=Re);break;case 4:he=oe[Te+1],xe=oe[Te+2],ke=oe[Te+3],(192&he)==128&&(192&xe)==128&&(192&ke)==128&&(Re=(15&Se)<<18|(63&he)<<12|(63&xe)<<6|63&ke)>65535&&Re<1114112&&(Le=Re)}}Le===null?(Le=65533,Oe=1):Le>65535&&(Le-=65536,Ee.push(Le>>>10&1023|55296),Le=56320|1023&Le),Ee.push(Le),Te+=Oe}return function(ze){var Ie=ze.length;if(Ie<=I)return String.fromCharCode.apply(String,ze);for(var He="",qe=0;qe<Ie;)He+=String.fromCharCode.apply(String,ze.slice(qe,qe+=I));return He}(Ee)}P.kMaxLength=i,r.TYPED_ARRAY_SUPPORT=function(){try{var oe=new Uint8Array(1),se={foo:function(){return 42}};return Object.setPrototypeOf(se,Uint8Array.prototype),Object.setPrototypeOf(oe,se),oe.foo()===42}catch{return!1}}(),r.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}}),r.poolSize=8192,r.from=function(oe,se,de){return s(oe,se,de)},Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array),r.alloc=function(oe,se,de){return function(Ee,Te,Se){return l(Ee),Ee<=0?n(Ee):Te!==void 0?typeof Se=="string"?n(Ee).fill(Te,Se):n(Ee).fill(Te):n(Ee)}(oe,se,de)},r.allocUnsafe=function(oe){return u(oe)},r.allocUnsafeSlow=function(oe){return u(oe)},r.isBuffer=function(oe){return oe!=null&&oe._isBuffer===!0&&oe!==r.prototype},r.compare=function(oe,se){if(me(oe,Uint8Array)&&(oe=r.from(oe,oe.offset,oe.byteLength)),me(se,Uint8Array)&&(se=r.from(se,se.offset,se.byteLength)),!r.isBuffer(oe)||!r.isBuffer(se))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(oe===se)return 0;for(var de=oe.length,Ee=se.length,Te=0,Se=Math.min(de,Ee);Te<Se;++Te)if(oe[Te]!==se[Te]){de=oe[Te],Ee=se[Te];break}return de<Ee?-1:Ee<de?1:0},r.isEncoding=function(oe){switch(String(oe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(oe,se){if(!Array.isArray(oe))throw new TypeError('"list" argument must be an Array of Buffers');if(oe.length===0)return r.alloc(0);var de;if(se===void 0)for(se=0,de=0;de<oe.length;++de)se+=oe[de].length;var Ee=r.allocUnsafe(se),Te=0;for(de=0;de<oe.length;++de){var Se=oe[de];if(me(Se,Uint8Array))Te+Se.length>Ee.length?(r.isBuffer(Se)||(Se=r.from(Se)),Se.copy(Ee,Te)):Uint8Array.prototype.set.call(Ee,Se,Te);else{if(!r.isBuffer(Se))throw new TypeError('"list" argument must be an Array of Buffers');Se.copy(Ee,Te)}Te+=Se.length}return Ee},r.byteLength=g,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var oe=this.length;if(oe%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var se=0;se<oe;se+=2)v(this,se,se+1);return this},r.prototype.swap32=function(){var oe=this.length;if(oe%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var se=0;se<oe;se+=4)v(this,se,se+3),v(this,se+1,se+2);return this},r.prototype.swap64=function(){var oe=this.length;if(oe%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var se=0;se<oe;se+=8)v(this,se,se+7),v(this,se+1,se+6),v(this,se+2,se+5),v(this,se+3,se+4);return this},r.prototype.toString=function(){var oe=this.length;return oe===0?"":arguments.length===0?O(this,0,oe):p.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(oe){if(!r.isBuffer(oe))throw new TypeError("Argument must be a Buffer");return this===oe||r.compare(this,oe)===0},r.prototype.inspect=function(){var oe="",se=P.INSPECT_MAX_BYTES;return oe=this.toString("hex",0,se).replace(/(.{2})/g,"$1 ").trim(),this.length>se&&(oe+=" ... "),"<Buffer "+oe+">"},t&&(r.prototype[t]=r.prototype.inspect),r.prototype.compare=function(oe,se,de,Ee,Te){if(me(oe,Uint8Array)&&(oe=r.from(oe,oe.offset,oe.byteLength)),!r.isBuffer(oe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+b(oe));if(se===void 0&&(se=0),de===void 0&&(de=oe?oe.length:0),Ee===void 0&&(Ee=0),Te===void 0&&(Te=this.length),se<0||de>oe.length||Ee<0||Te>this.length)throw new RangeError("out of range index");if(Ee>=Te&&se>=de)return 0;if(Ee>=Te)return-1;if(se>=de)return 1;if(this===oe)return 0;for(var Se=(Te>>>=0)-(Ee>>>=0),Le=(de>>>=0)-(se>>>=0),Oe=Math.min(Se,Le),he=this.slice(Ee,Te),xe=oe.slice(se,de),ke=0;ke<Oe;++ke)if(he[ke]!==xe[ke]){Se=he[ke],Le=xe[ke];break}return Se<Le?-1:Le<Se?1:0},r.prototype.includes=function(oe,se,de){return this.indexOf(oe,se,de)!==-1},r.prototype.indexOf=function(oe,se,de){return y(this,oe,se,de,!0)},r.prototype.lastIndexOf=function(oe,se,de){return y(this,oe,se,de,!1)},r.prototype.write=function(oe,se,de,Ee){if(se===void 0)Ee="utf8",de=this.length,se=0;else if(de===void 0&&typeof se=="string")Ee=se,de=this.length,se=0;else{if(!isFinite(se))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");se>>>=0,isFinite(de)?(de>>>=0,Ee===void 0&&(Ee="utf8")):(Ee=de,de=void 0)}var Te=this.length-se;if((de===void 0||de>Te)&&(de=Te),oe.length>0&&(de<0||se<0)||se>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ee||(Ee="utf8");for(var Se=!1;;)switch(Ee){case"hex":return _(this,oe,se,de);case"utf8":case"utf-8":return f(this,oe,se,de);case"ascii":case"latin1":case"binary":return S(this,oe,se,de);case"base64":return T(this,oe,se,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,oe,se,de);default:if(Se)throw new TypeError("Unknown encoding: "+Ee);Ee=(""+Ee).toLowerCase(),Se=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function z(oe,se,de){var Ee="";de=Math.min(oe.length,de);for(var Te=se;Te<de;++Te)Ee+=String.fromCharCode(127&oe[Te]);return Ee}function U(oe,se,de){var Ee="";de=Math.min(oe.length,de);for(var Te=se;Te<de;++Te)Ee+=String.fromCharCode(oe[Te]);return Ee}function D(oe,se,de){var Ee=oe.length;(!se||se<0)&&(se=0),(!de||de<0||de>Ee)&&(de=Ee);for(var Te="",Se=se;Se<de;++Se)Te+=Me[oe[Se]];return Te}function B(oe,se,de){for(var Ee=oe.slice(se,de),Te="",Se=0;Se<Ee.length-1;Se+=2)Te+=String.fromCharCode(Ee[Se]+256*Ee[Se+1]);return Te}function Z(oe,se,de){if(oe%1!=0||oe<0)throw new RangeError("offset is not uint");if(oe+se>de)throw new RangeError("Trying to access beyond buffer length")}function F(oe,se,de,Ee,Te,Se){if(!r.isBuffer(oe))throw new TypeError('"buffer" argument must be a Buffer instance');if(se>Te||se<Se)throw new RangeError('"value" argument is out of bounds');if(de+Ee>oe.length)throw new RangeError("Index out of range")}function j(oe,se,de,Ee,Te){ne(se,Ee,Te,oe,de,7);var Se=Number(se&BigInt(4294967295));oe[de++]=Se,Se>>=8,oe[de++]=Se,Se>>=8,oe[de++]=Se,Se>>=8,oe[de++]=Se;var Le=Number(se>>BigInt(32)&BigInt(4294967295));return oe[de++]=Le,Le>>=8,oe[de++]=Le,Le>>=8,oe[de++]=Le,Le>>=8,oe[de++]=Le,de}function V(oe,se,de,Ee,Te){ne(se,Ee,Te,oe,de,7);var Se=Number(se&BigInt(4294967295));oe[de+7]=Se,Se>>=8,oe[de+6]=Se,Se>>=8,oe[de+5]=Se,Se>>=8,oe[de+4]=Se;var Le=Number(se>>BigInt(32)&BigInt(4294967295));return oe[de+3]=Le,Le>>=8,oe[de+2]=Le,Le>>=8,oe[de+1]=Le,Le>>=8,oe[de]=Le,de+8}function te(oe,se,de,Ee,Te,Se){if(de+Ee>oe.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("Index out of range")}function Q(oe,se,de,Ee,Te){return se=+se,de>>>=0,Te||te(oe,0,de,4),o.write(oe,se,de,Ee,23,4),de+4}function $(oe,se,de,Ee,Te){return se=+se,de>>>=0,Te||te(oe,0,de,8),o.write(oe,se,de,Ee,52,8),de+8}r.prototype.slice=function(oe,se){var de=this.length;(oe=~~oe)<0?(oe+=de)<0&&(oe=0):oe>de&&(oe=de),(se=se===void 0?de:~~se)<0?(se+=de)<0&&(se=0):se>de&&(se=de),se<oe&&(se=oe);var Ee=this.subarray(oe,se);return Object.setPrototypeOf(Ee,r.prototype),Ee},r.prototype.readUintLE=r.prototype.readUIntLE=function(oe,se,de){oe>>>=0,se>>>=0,de||Z(oe,se,this.length);for(var Ee=this[oe],Te=1,Se=0;++Se<se&&(Te*=256);)Ee+=this[oe+Se]*Te;return Ee},r.prototype.readUintBE=r.prototype.readUIntBE=function(oe,se,de){oe>>>=0,se>>>=0,de||Z(oe,se,this.length);for(var Ee=this[oe+--se],Te=1;se>0&&(Te*=256);)Ee+=this[oe+--se]*Te;return Ee},r.prototype.readUint8=r.prototype.readUInt8=function(oe,se){return oe>>>=0,se||Z(oe,1,this.length),this[oe]},r.prototype.readUint16LE=r.prototype.readUInt16LE=function(oe,se){return oe>>>=0,se||Z(oe,2,this.length),this[oe]|this[oe+1]<<8},r.prototype.readUint16BE=r.prototype.readUInt16BE=function(oe,se){return oe>>>=0,se||Z(oe,2,this.length),this[oe]<<8|this[oe+1]},r.prototype.readUint32LE=r.prototype.readUInt32LE=function(oe,se){return oe>>>=0,se||Z(oe,4,this.length),(this[oe]|this[oe+1]<<8|this[oe+2]<<16)+16777216*this[oe+3]},r.prototype.readUint32BE=r.prototype.readUInt32BE=function(oe,se){return oe>>>=0,se||Z(oe,4,this.length),16777216*this[oe]+(this[oe+1]<<16|this[oe+2]<<8|this[oe+3])},r.prototype.readBigUInt64LE=_e(function(oe){ie(oe>>>=0,"offset");var se=this[oe],de=this[oe+7];se!==void 0&&de!==void 0||ae(oe,this.length-8);var Ee=se+this[++oe]*Math.pow(2,8)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,24),Te=this[++oe]+this[++oe]*Math.pow(2,8)+this[++oe]*Math.pow(2,16)+de*Math.pow(2,24);return BigInt(Ee)+(BigInt(Te)<<BigInt(32))}),r.prototype.readBigUInt64BE=_e(function(oe){ie(oe>>>=0,"offset");var se=this[oe],de=this[oe+7];se!==void 0&&de!==void 0||ae(oe,this.length-8);var Ee=se*Math.pow(2,24)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,8)+this[++oe],Te=this[++oe]*Math.pow(2,24)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,8)+de;return(BigInt(Ee)<<BigInt(32))+BigInt(Te)}),r.prototype.readIntLE=function(oe,se,de){oe>>>=0,se>>>=0,de||Z(oe,se,this.length);for(var Ee=this[oe],Te=1,Se=0;++Se<se&&(Te*=256);)Ee+=this[oe+Se]*Te;return Ee>=(Te*=128)&&(Ee-=Math.pow(2,8*se)),Ee},r.prototype.readIntBE=function(oe,se,de){oe>>>=0,se>>>=0,de||Z(oe,se,this.length);for(var Ee=se,Te=1,Se=this[oe+--Ee];Ee>0&&(Te*=256);)Se+=this[oe+--Ee]*Te;return Se>=(Te*=128)&&(Se-=Math.pow(2,8*se)),Se},r.prototype.readInt8=function(oe,se){return oe>>>=0,se||Z(oe,1,this.length),128&this[oe]?-1*(255-this[oe]+1):this[oe]},r.prototype.readInt16LE=function(oe,se){oe>>>=0,se||Z(oe,2,this.length);var de=this[oe]|this[oe+1]<<8;return 32768&de?4294901760|de:de},r.prototype.readInt16BE=function(oe,se){oe>>>=0,se||Z(oe,2,this.length);var de=this[oe+1]|this[oe]<<8;return 32768&de?4294901760|de:de},r.prototype.readInt32LE=function(oe,se){return oe>>>=0,se||Z(oe,4,this.length),this[oe]|this[oe+1]<<8|this[oe+2]<<16|this[oe+3]<<24},r.prototype.readInt32BE=function(oe,se){return oe>>>=0,se||Z(oe,4,this.length),this[oe]<<24|this[oe+1]<<16|this[oe+2]<<8|this[oe+3]},r.prototype.readBigInt64LE=_e(function(oe){ie(oe>>>=0,"offset");var se=this[oe],de=this[oe+7];se!==void 0&&de!==void 0||ae(oe,this.length-8);var Ee=this[oe+4]+this[oe+5]*Math.pow(2,8)+this[oe+6]*Math.pow(2,16)+(de<<24);return(BigInt(Ee)<<BigInt(32))+BigInt(se+this[++oe]*Math.pow(2,8)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,24))}),r.prototype.readBigInt64BE=_e(function(oe){ie(oe>>>=0,"offset");var se=this[oe],de=this[oe+7];se!==void 0&&de!==void 0||ae(oe,this.length-8);var Ee=(se<<24)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,8)+this[++oe];return(BigInt(Ee)<<BigInt(32))+BigInt(this[++oe]*Math.pow(2,24)+this[++oe]*Math.pow(2,16)+this[++oe]*Math.pow(2,8)+de)}),r.prototype.readFloatLE=function(oe,se){return oe>>>=0,se||Z(oe,4,this.length),o.read(this,oe,!0,23,4)},r.prototype.readFloatBE=function(oe,se){return oe>>>=0,se||Z(oe,4,this.length),o.read(this,oe,!1,23,4)},r.prototype.readDoubleLE=function(oe,se){return oe>>>=0,se||Z(oe,8,this.length),o.read(this,oe,!0,52,8)},r.prototype.readDoubleBE=function(oe,se){return oe>>>=0,se||Z(oe,8,this.length),o.read(this,oe,!1,52,8)},r.prototype.writeUintLE=r.prototype.writeUIntLE=function(oe,se,de,Ee){oe=+oe,se>>>=0,de>>>=0,Ee||F(this,oe,se,de,Math.pow(2,8*de)-1,0);var Te=1,Se=0;for(this[se]=255&oe;++Se<de&&(Te*=256);)this[se+Se]=oe/Te&255;return se+de},r.prototype.writeUintBE=r.prototype.writeUIntBE=function(oe,se,de,Ee){oe=+oe,se>>>=0,de>>>=0,Ee||F(this,oe,se,de,Math.pow(2,8*de)-1,0);var Te=de-1,Se=1;for(this[se+Te]=255&oe;--Te>=0&&(Se*=256);)this[se+Te]=oe/Se&255;return se+de},r.prototype.writeUint8=r.prototype.writeUInt8=function(oe,se,de){return oe=+oe,se>>>=0,de||F(this,oe,se,1,255,0),this[se]=255&oe,se+1},r.prototype.writeUint16LE=r.prototype.writeUInt16LE=function(oe,se,de){return oe=+oe,se>>>=0,de||F(this,oe,se,2,65535,0),this[se]=255&oe,this[se+1]=oe>>>8,se+2},r.prototype.writeUint16BE=r.prototype.writeUInt16BE=function(oe,se,de){return oe=+oe,se>>>=0,de||F(this,oe,se,2,65535,0),this[se]=oe>>>8,this[se+1]=255&oe,se+2},r.prototype.writeUint32LE=r.prototype.writeUInt32LE=function(oe,se,de){return oe=+oe,se>>>=0,de||F(this,oe,se,4,4294967295,0),this[se+3]=oe>>>24,this[se+2]=oe>>>16,this[se+1]=oe>>>8,this[se]=255&oe,se+4},r.prototype.writeUint32BE=r.prototype.writeUInt32BE=function(oe,se,de){return oe=+oe,se>>>=0,de||F(this,oe,se,4,4294967295,0),this[se]=oe>>>24,this[se+1]=oe>>>16,this[se+2]=oe>>>8,this[se+3]=255&oe,se+4},r.prototype.writeBigUInt64LE=_e(function(oe){return j(this,oe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeBigUInt64BE=_e(function(oe){return V(this,oe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeIntLE=function(oe,se,de,Ee){if(oe=+oe,se>>>=0,!Ee){var Te=Math.pow(2,8*de-1);F(this,oe,se,de,Te-1,-Te)}var Se=0,Le=1,Oe=0;for(this[se]=255&oe;++Se<de&&(Le*=256);)oe<0&&Oe===0&&this[se+Se-1]!==0&&(Oe=1),this[se+Se]=(oe/Le>>0)-Oe&255;return se+de},r.prototype.writeIntBE=function(oe,se,de,Ee){if(oe=+oe,se>>>=0,!Ee){var Te=Math.pow(2,8*de-1);F(this,oe,se,de,Te-1,-Te)}var Se=de-1,Le=1,Oe=0;for(this[se+Se]=255&oe;--Se>=0&&(Le*=256);)oe<0&&Oe===0&&this[se+Se+1]!==0&&(Oe=1),this[se+Se]=(oe/Le>>0)-Oe&255;return se+de},r.prototype.writeInt8=function(oe,se,de){return oe=+oe,se>>>=0,de||F(this,oe,se,1,127,-128),oe<0&&(oe=255+oe+1),this[se]=255&oe,se+1},r.prototype.writeInt16LE=function(oe,se,de){return oe=+oe,se>>>=0,de||F(this,oe,se,2,32767,-32768),this[se]=255&oe,this[se+1]=oe>>>8,se+2},r.prototype.writeInt16BE=function(oe,se,de){return oe=+oe,se>>>=0,de||F(this,oe,se,2,32767,-32768),this[se]=oe>>>8,this[se+1]=255&oe,se+2},r.prototype.writeInt32LE=function(oe,se,de){return oe=+oe,se>>>=0,de||F(this,oe,se,4,2147483647,-2147483648),this[se]=255&oe,this[se+1]=oe>>>8,this[se+2]=oe>>>16,this[se+3]=oe>>>24,se+4},r.prototype.writeInt32BE=function(oe,se,de){return oe=+oe,se>>>=0,de||F(this,oe,se,4,2147483647,-2147483648),oe<0&&(oe=4294967295+oe+1),this[se]=oe>>>24,this[se+1]=oe>>>16,this[se+2]=oe>>>8,this[se+3]=255&oe,se+4},r.prototype.writeBigInt64LE=_e(function(oe){return j(this,oe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeBigInt64BE=_e(function(oe){return V(this,oe,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeFloatLE=function(oe,se,de){return Q(this,oe,se,!0,de)},r.prototype.writeFloatBE=function(oe,se,de){return Q(this,oe,se,!1,de)},r.prototype.writeDoubleLE=function(oe,se,de){return $(this,oe,se,!0,de)},r.prototype.writeDoubleBE=function(oe,se,de){return $(this,oe,se,!1,de)},r.prototype.copy=function(oe,se,de,Ee){if(!r.isBuffer(oe))throw new TypeError("argument should be a Buffer");if(de||(de=0),Ee||Ee===0||(Ee=this.length),se>=oe.length&&(se=oe.length),se||(se=0),Ee>0&&Ee<de&&(Ee=de),Ee===de||oe.length===0||this.length===0)return 0;if(se<0)throw new RangeError("targetStart out of bounds");if(de<0||de>=this.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("sourceEnd out of bounds");Ee>this.length&&(Ee=this.length),oe.length-se<Ee-de&&(Ee=oe.length-se+de);var Te=Ee-de;return this===oe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(se,de,Ee):Uint8Array.prototype.set.call(oe,this.subarray(de,Ee),se),Te},r.prototype.fill=function(oe,se,de,Ee){if(typeof oe=="string"){if(typeof se=="string"?(Ee=se,se=0,de=this.length):typeof de=="string"&&(Ee=de,de=this.length),Ee!==void 0&&typeof Ee!="string")throw new TypeError("encoding must be a string");if(typeof Ee=="string"&&!r.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee);if(oe.length===1){var Te=oe.charCodeAt(0);(Ee==="utf8"&&Te<128||Ee==="latin1")&&(oe=Te)}}else typeof oe=="number"?oe&=255:typeof oe=="boolean"&&(oe=Number(oe));if(se<0||this.length<se||this.length<de)throw new RangeError("Out of range index");if(de<=se)return this;var Se;if(se>>>=0,de=de===void 0?this.length:de>>>0,oe||(oe=0),typeof oe=="number")for(Se=se;Se<de;++Se)this[Se]=oe;else{var Le=r.isBuffer(oe)?oe:r.from(oe,Ee),Oe=Le.length;if(Oe===0)throw new TypeError('The value "'+oe+'" is invalid for argument "value"');for(Se=0;Se<de-se;++Se)this[Se+se]=Le[Se%Oe]}return this};var G={};function X(oe,se,de){G[oe]=function(Ee){function Te(){var Oe;return function(he,xe){if(!(he instanceof xe))throw new TypeError("Cannot call a class as a function")}(this,Te),Oe=function(he,xe,ke){return xe=k(xe),function(Re,ze){if(ze&&(b(ze)==="object"||typeof ze=="function"))return ze;if(ze!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a(Re)}(he,function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{return!1}}()?Reflect.construct(xe,ke||[],k(he).constructor):xe.apply(he,ke))}(this,Te),Object.defineProperty(a(Oe),"message",{value:se.apply(a(Oe),arguments),writable:!0,configurable:!0}),Oe.name="".concat(Oe.name," [").concat(oe,"]"),Oe.stack,delete Oe.name,Oe}var Se,Le;return function(Oe,he){if(typeof he!="function"&&he!==null)throw new TypeError("Super expression must either be null or a function");Oe.prototype=Object.create(he&&he.prototype,{constructor:{value:Oe,writable:!0,configurable:!0}}),Object.defineProperty(Oe,"prototype",{writable:!1}),he&&w(Oe,he)}(Te,Ee),Se=Te,(Le=[{key:"code",get:function(){return oe},set:function(Oe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Oe,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(oe,"]: ").concat(this.message)}}])&&A(Se.prototype,Le),Object.defineProperty(Se,"prototype",{writable:!1}),Te}(de)}function J(oe){for(var se="",de=oe.length,Ee=oe[0]==="-"?1:0;de>=Ee+4;de-=3)se="_".concat(oe.slice(de-3,de)).concat(se);return"".concat(oe.slice(0,de)).concat(se)}function ne(oe,se,de,Ee,Te,Se){if(oe>de||oe<se){var Le,Oe=typeof se=="bigint"?"n":"";throw Le=Se>3?se===0||se===BigInt(0)?">= 0".concat(Oe," and < 2").concat(Oe," ** ").concat(8*(Se+1)).concat(Oe):">= -(2".concat(Oe," ** ").concat(8*(Se+1)-1).concat(Oe,") and < 2 ** ")+"".concat(8*(Se+1)-1).concat(Oe):">= ".concat(se).concat(Oe," and <= ").concat(de).concat(Oe),new G.ERR_OUT_OF_RANGE("value",Le,oe)}(function(he,xe,ke){ie(xe,"offset"),he[xe]!==void 0&&he[xe+ke]!==void 0||ae(xe,he.length-(ke+1))})(Ee,Te,Se)}function ie(oe,se){if(typeof oe!="number")throw new G.ERR_INVALID_ARG_TYPE(se,"number",oe)}function ae(oe,se,de){throw Math.floor(oe)!==oe?(ie(oe,de),new G.ERR_OUT_OF_RANGE(de||"offset","an integer",oe)):se<0?new G.ERR_BUFFER_OUT_OF_BOUNDS:new G.ERR_OUT_OF_RANGE(de||"offset",">= ".concat(de?1:0," and <= ").concat(se),oe)}X("ERR_BUFFER_OUT_OF_BOUNDS",function(oe){return oe?"".concat(oe," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),X("ERR_INVALID_ARG_TYPE",function(oe,se){return'The "'.concat(oe,'" argument must be of type number. Received type ').concat(b(se))},TypeError),X("ERR_OUT_OF_RANGE",function(oe,se,de){var Ee='The value of "'.concat(oe,'" is out of range.'),Te=de;return Number.isInteger(de)&&Math.abs(de)>Math.pow(2,32)?Te=J(String(de)):typeof de=="bigint"&&(Te=String(de),(de>Math.pow(BigInt(2),BigInt(32))||de<-Math.pow(BigInt(2),BigInt(32)))&&(Te=J(Te)),Te+="n"),Ee+" It must be ".concat(se,". Received ").concat(Te)},RangeError);var le=/[^+/0-9A-Za-z-_]/g;function ce(oe,se){var de;se=se||1/0;for(var Ee=oe.length,Te=null,Se=[],Le=0;Le<Ee;++Le){if((de=oe.charCodeAt(Le))>55295&&de<57344){if(!Te){if(de>56319){(se-=3)>-1&&Se.push(239,191,189);continue}if(Le+1===Ee){(se-=3)>-1&&Se.push(239,191,189);continue}Te=de;continue}if(de<56320){(se-=3)>-1&&Se.push(239,191,189),Te=de;continue}de=65536+(Te-55296<<10|de-56320)}else Te&&(se-=3)>-1&&Se.push(239,191,189);if(Te=null,de<128){if((se-=1)<0)break;Se.push(de)}else if(de<2048){if((se-=2)<0)break;Se.push(de>>6|192,63&de|128)}else if(de<65536){if((se-=3)<0)break;Se.push(de>>12|224,de>>6&63|128,63&de|128)}else{if(!(de<1114112))throw new Error("Invalid code point");if((se-=4)<0)break;Se.push(de>>18|240,de>>12&63|128,de>>6&63|128,63&de|128)}}return Se}function pe(oe){return h.toByteArray(function(se){if((se=(se=se.split("=")[0]).trim().replace(le,"")).length<2)return"";for(;se.length%4!=0;)se+="=";return se}(oe))}function ge(oe,se,de,Ee){var Te;for(Te=0;Te<Ee&&!(Te+de>=se.length||Te>=oe.length);++Te)se[Te+de]=oe[Te];return Te}function me(oe,se){return oe instanceof se||oe!=null&&oe.constructor!=null&&oe.constructor.name!=null&&oe.constructor.name===se.name}function ve(oe){return oe!=oe}var Me=function(){for(var oe="0123456789abcdef",se=new Array(256),de=0;de<16;++de)for(var Ee=16*de,Te=0;Te<16;++Te)se[Ee+Te]=oe[de]+oe[Te];return se}();function _e(oe){return typeof BigInt>"u"?we:oe}function we(){throw new Error("BigInt not supported")}},25928:function(Y){Y.exports=k,Y.exports.isMobile=k,Y.exports.default=k;var P=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,A=/android|ipad|playbook|silk/i;function k(a){a||(a={});var w=a.ua;if(w||typeof navigator>"u"||(w=navigator.userAgent),w&&w.headers&&typeof w.headers["user-agent"]=="string"&&(w=w.headers["user-agent"]),typeof w!="string")return!1;var b=P.test(w)&&!e.test(w)||!!a.tablet&&A.test(w);return!b&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&w.indexOf("Macintosh")!==-1&&w.indexOf("Safari")!==-1&&(b=!0),b}},48932:function(Y,P,e){e.r(P),e.d(P,{sankeyCenter:function(){return n},sankeyCircular:function(){return C},sankeyJustify:function(){return i},sankeyLeft:function(){return o},sankeyRight:function(){return t}});var A=e(84706),k=e(34712),a=e(10132),w=e(6688),b=e.n(w);function h(ge){return ge.target.depth}function o(ge){return ge.depth}function t(ge,me){return me-1-ge.height}function i(ge,me){return ge.sourceLinks.length?ge.depth:me-1}function n(ge){return ge.targetLinks.length?ge.depth:ge.sourceLinks.length?(0,A.SY)(ge.sourceLinks,h)-1:0}function r(ge){return function(){return ge}}var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge};function l(ge,me){return d(ge.source,me.source)||ge.index-me.index}function u(ge,me){return d(ge.target,me.target)||ge.index-me.index}function d(ge,me){return ge.partOfCycle===me.partOfCycle?ge.y0-me.y0:ge.circularLinkType==="top"||me.circularLinkType==="bottom"?-1:1}function c(ge){return ge.value}function x(ge){return(ge.y0+ge.y1)/2}function g(ge){return x(ge.source)}function p(ge){return x(ge.target)}function v(ge){return ge.index}function y(ge){return ge.nodes}function m(ge){return ge.links}function _(ge,me){var ve=ge.get(me);if(!ve)throw new Error("missing: "+me);return ve}function f(ge,me){return me(ge)}var S=25,T=10,E=.3;function C(){var ge,me,ve=0,Me=0,_e=1,we=1,oe=24,se=v,de=i,Ee=y,Te=m,Se=32,Le=2,Oe=null;function he(){var ke={nodes:Ee.apply(null,arguments),links:Te.apply(null,arguments)};(function(ze){ze.nodes.forEach(function(He,qe){He.index=qe,He.sourceLinks=[],He.targetLinks=[]});var Ie=(0,k.kH)(ze.nodes,se);ze.links.forEach(function(He,qe){He.index=qe;var Je=He.source,st=He.target;(Je===void 0?"undefined":s(Je))!=="object"&&(Je=He.source=_(Ie,Je)),(st===void 0?"undefined":s(st))!=="object"&&(st=He.target=_(Ie,st)),Je.sourceLinks.push(He),st.targetLinks.push(He)})})(ke),function(ze,Ie,He){var qe=0;if(He===null){for(var Je=[],st=0;st<ze.links.length;st++){var it=ze.links[st],vt=it.source.index,_t=it.target.index;Je[vt]||(Je[vt]=[]),Je[_t]||(Je[_t]=[]),Je[vt].indexOf(_t)===-1&&Je[vt].push(_t)}var xt=b()(Je);xt.sort(function(Mt,zt){return Mt.length-zt.length});var et={};for(st=0;st<xt.length;st++){var nt=xt[st].slice(-2);et[nt[0]]||(et[nt[0]]={}),et[nt[0]][nt[1]]=!0}ze.links.forEach(function(Mt){var zt=Mt.target.index,Ft=Mt.source.index;zt===Ft||et[Ft]&&et[Ft][zt]?(Mt.circular=!0,Mt.circularLinkID=qe,qe+=1):Mt.circular=!1})}else ze.links.forEach(function(Mt){Mt.source[He]<Mt.target[He]?Mt.circular=!1:(Mt.circular=!0,Mt.circularLinkID=qe,qe+=1)})}(ke,0,Oe),function(ze){ze.nodes.forEach(function(Ie){Ie.partOfCycle=!1,Ie.value=Math.max((0,A.oh)(Ie.sourceLinks,c),(0,A.oh)(Ie.targetLinks,c)),Ie.sourceLinks.forEach(function(He){He.circular&&(Ie.partOfCycle=!0,Ie.circularLinkType=He.circularLinkType)}),Ie.targetLinks.forEach(function(He){He.circular&&(Ie.partOfCycle=!0,Ie.circularLinkType=He.circularLinkType)})})}(ke),function(ze){var Ie,He,qe;for(Ie=ze.nodes,He=[],qe=0;Ie.length;++qe,Ie=He,He=[])Ie.forEach(function(Je){Je.depth=qe,Je.sourceLinks.forEach(function(st){He.indexOf(st.target)<0&&!st.circular&&He.push(st.target)})});for(Ie=ze.nodes,He=[],qe=0;Ie.length;++qe,Ie=He,He=[])Ie.forEach(function(Je){Je.height=qe,Je.targetLinks.forEach(function(st){He.indexOf(st.source)<0&&!st.circular&&He.push(st.source)})});ze.nodes.forEach(function(Je){Je.column=Math.floor(de.call(null,Je,qe))})}(ke),O(ke,se),function(ze,Ie,He){var qe=(0,k.UJ)().key(function(_t){return _t.column}).sortKeys(A.XE).entries(ze.nodes).map(function(_t){return _t.values});(function(_t){if(me){var xt=1/0;qe.forEach(function(zt){var Ft=we*me/(zt.length+1);xt=Ft<xt?Ft:xt}),ge=xt}var et=(0,A.SY)(qe,function(zt){return(we-Me-(zt.length-1)*ge)/(0,A.oh)(zt,c)});et*=E,ze.links.forEach(function(zt){zt.width=zt.value*et});var nt=function(zt){var Ft=0,Rt=0,We=0,Ze=0,Ne=(0,A.kv)(zt.nodes,function(Ye){return Ye.column});return zt.links.forEach(function(Ye){Ye.circular&&(Ye.circularLinkType=="top"?Ft+=Ye.width:Rt+=Ye.width,Ye.target.column==0&&(Ze+=Ye.width),Ye.source.column==Ne&&(We+=Ye.width))}),{top:Ft=Ft>0?Ft+S+T:Ft,bottom:Rt=Rt>0?Rt+S+T:Rt,left:Ze=Ze>0?Ze+S+T:Ze,right:We=We>0?We+S+T:We}}(ze),Mt=function(zt,Ft){var Rt=(0,A.kv)(zt.nodes,function(lt){return lt.column}),We=_e-ve,Ze=we-Me,Ne=We/(We+Ft.right+Ft.left),Ye=Ze/(Ze+Ft.top+Ft.bottom);return ve=ve*Ne+Ft.left,_e=Ft.right==0?_e:_e*Ne,Me=Me*Ye+Ft.top,we*=Ye,zt.nodes.forEach(function(lt){lt.x0=ve+lt.column*((_e-ve-oe)/Rt),lt.x1=lt.x0+oe}),Ye}(ze,nt);et*=Mt,ze.links.forEach(function(zt){zt.width=zt.value*et}),qe.forEach(function(zt){var Ft=zt.length;zt.forEach(function(Rt,We){Rt.depth==qe.length-1&&Ft==1||Rt.depth==0&&Ft==1?(Rt.y0=we/2-Rt.value*et,Rt.y1=Rt.y0+Rt.value*et):Rt.partOfCycle?z(Rt,_t)==0?(Rt.y0=we/2+We,Rt.y1=Rt.y0+Rt.value*et):Rt.circularLinkType=="top"?(Rt.y0=Me+We,Rt.y1=Rt.y0+Rt.value*et):(Rt.y0=we-Rt.value*et-We,Rt.y1=Rt.y0+Rt.value*et):nt.top==0||nt.bottom==0?(Rt.y0=(we-Me)/Ft*We,Rt.y1=Rt.y0+Rt.value*et):(Rt.y0=(we-Me)/2-Ft/2+We,Rt.y1=Rt.y0+Rt.value*et)})})})(He),vt();for(var Je=1,st=Ie;st>0;--st)it(Je*=.99,He),vt();function it(_t,xt){var et=qe.length;qe.forEach(function(nt){var Mt=nt.length,zt=nt[0].depth;nt.forEach(function(Ft){var Rt;if((Ft.sourceLinks.length||Ft.targetLinks.length)&&!(Ft.partOfCycle&&z(Ft,xt)>0))if(zt==0&&Mt==1)Rt=Ft.y1-Ft.y0,Ft.y0=we/2-Rt/2,Ft.y1=we/2+Rt/2;else if(zt==et-1&&Mt==1)Rt=Ft.y1-Ft.y0,Ft.y0=we/2-Rt/2,Ft.y1=we/2+Rt/2;else{var We=(0,A.mo)(Ft.sourceLinks,p),Ze=(0,A.mo)(Ft.targetLinks,g),Ne=((We&&Ze?(We+Ze)/2:We||Ze)-x(Ft))*_t;Ft.y0+=Ne,Ft.y1+=Ne}})})}function vt(){qe.forEach(function(_t){var xt,et,nt,Mt=Me,zt=_t.length;for(_t.sort(d),nt=0;nt<zt;++nt)(et=Mt-(xt=_t[nt]).y0)>0&&(xt.y0+=et,xt.y1+=et),Mt=xt.y1+ge;if((et=Mt-ge-we)>0)for(Mt=xt.y0-=et,xt.y1-=et,nt=zt-2;nt>=0;--nt)(et=(xt=_t[nt]).y1+ge-Mt)>0&&(xt.y0-=et,xt.y1-=et),Mt=xt.y0})}}(ke,Se,se),xe(ke);for(var Re=0;Re<4;Re++)ie(ke,we,se),ae(ke,0,se),J(ke,Me,we,se),ie(ke,we,se),ae(ke,0,se);return function(ze,Ie,He){var qe=ze.nodes,Je=ze.links,st=!1,it=!1;if(Je.forEach(function(xt){xt.circularLinkType=="top"?st=!0:xt.circularLinkType=="bottom"&&(it=!0)}),st==0||it==0){var vt=(0,A.SY)(qe,function(xt){return xt.y0}),_t=(He-Ie)/((0,A.kv)(qe,function(xt){return xt.y1})-vt);qe.forEach(function(xt){var et=(xt.y1-xt.y0)*_t;xt.y0=(xt.y0-vt)*_t,xt.y1=xt.y0+et}),Je.forEach(function(xt){xt.y0=(xt.y0-vt)*_t,xt.y1=(xt.y1-vt)*_t,xt.width=xt.width*_t})}}(ke,Me,we),B(ke,Le,we,se),ke}function xe(ke){ke.nodes.forEach(function(Re){Re.sourceLinks.sort(u),Re.targetLinks.sort(l)}),ke.nodes.forEach(function(Re){var ze=Re.y0,Ie=ze,He=Re.y1,qe=He;Re.sourceLinks.forEach(function(Je){Je.circular?(Je.y0=He-Je.width/2,He-=Je.width):(Je.y0=ze+Je.width/2,ze+=Je.width)}),Re.targetLinks.forEach(function(Je){Je.circular?(Je.y1=qe-Je.width/2,qe-=Je.width):(Je.y1=Ie+Je.width/2,Ie+=Je.width)})})}return he.nodeId=function(ke){return arguments.length?(se=typeof ke=="function"?ke:r(ke),he):se},he.nodeAlign=function(ke){return arguments.length?(de=typeof ke=="function"?ke:r(ke),he):de},he.nodeWidth=function(ke){return arguments.length?(oe=+ke,he):oe},he.nodePadding=function(ke){return arguments.length?(ge=+ke,he):ge},he.nodes=function(ke){return arguments.length?(Ee=typeof ke=="function"?ke:r(ke),he):Ee},he.links=function(ke){return arguments.length?(Te=typeof ke=="function"?ke:r(ke),he):Te},he.size=function(ke){return arguments.length?(ve=Me=0,_e=+ke[0],we=+ke[1],he):[_e-ve,we-Me]},he.extent=function(ke){return arguments.length?(ve=+ke[0][0],_e=+ke[1][0],Me=+ke[0][1],we=+ke[1][1],he):[[ve,Me],[_e,we]]},he.iterations=function(ke){return arguments.length?(Se=+ke,he):Se},he.circularLinkGap=function(ke){return arguments.length?(Le=+ke,he):Le},he.nodePaddingRatio=function(ke){return arguments.length?(me=+ke,he):me},he.sortNodes=function(ke){return arguments.length?(Oe=ke,he):Oe},he.update=function(ke){return O(ke,se),xe(ke),ke.links.forEach(function(Re){Re.circular&&(Re.circularLinkType=Re.y0+Re.y1<we?"top":"bottom",Re.source.circularLinkType=Re.circularLinkType,Re.target.circularLinkType=Re.circularLinkType)}),ie(ke,we,se,!1),ae(ke,0,se),B(ke,Le,we,se),ke},he}function O(ge,me){var ve=0,Me=0;ge.links.forEach(function(_e){_e.circular&&(_e.source.circularLinkType||_e.target.circularLinkType?_e.circularLinkType=_e.source.circularLinkType?_e.source.circularLinkType:_e.target.circularLinkType:_e.circularLinkType=ve<Me?"top":"bottom",_e.circularLinkType=="top"?ve+=1:Me+=1,ge.nodes.forEach(function(we){f(we,me)!=f(_e.source,me)&&f(we,me)!=f(_e.target,me)||(we.circularLinkType=_e.circularLinkType)}))}),ge.links.forEach(function(_e){_e.circular&&(_e.source.circularLinkType==_e.target.circularLinkType&&(_e.circularLinkType=_e.source.circularLinkType),pe(_e,me)&&(_e.circularLinkType=_e.source.circularLinkType))})}function I(ge){var me=Math.abs(ge.y1-ge.y0),ve=Math.abs(ge.target.x0-ge.source.x1);return Math.atan(ve/me)}function z(ge,me){var ve=0;ge.sourceLinks.forEach(function(_e){ve=_e.circular&&!pe(_e,me)?ve+1:ve});var Me=0;return ge.targetLinks.forEach(function(_e){Me=_e.circular&&!pe(_e,me)?Me+1:Me}),ve+Me}function U(ge){var me=ge.source.sourceLinks,ve=0;me.forEach(function(we){ve=we.circular?ve+1:ve});var Me=ge.target.targetLinks,_e=0;return Me.forEach(function(we){_e=we.circular?_e+1:_e}),!(ve>1||_e>1)}function D(ge,me,ve){return ge.sort(Z),ge.forEach(function(Me,_e){var we,oe,se=0;if(pe(Me,ve)&&U(Me))Me.circularPathData.verticalBuffer=se+Me.width/2;else{for(var de=0;de<_e;de++)if(we=ge[_e],oe=ge[de],!(we.source.column<oe.target.column||we.target.column>oe.source.column)){var Ee=ge[de].circularPathData.verticalBuffer+ge[de].width/2+me;se=Ee>se?Ee:se}Me.circularPathData.verticalBuffer=se+Me.width/2}}),ge}function B(ge,me,ve,Me){var _e=(0,A.SY)(ge.links,function(we){return we.source.y0});ge.links.forEach(function(we){we.circular&&(we.circularPathData={})}),D(ge.links.filter(function(we){return we.circularLinkType=="top"}),me,Me),D(ge.links.filter(function(we){return we.circularLinkType=="bottom"}),me,Me),ge.links.forEach(function(we){if(we.circular){if(we.circularPathData.arcRadius=we.width+T,we.circularPathData.leftNodeBuffer=5,we.circularPathData.rightNodeBuffer=5,we.circularPathData.sourceWidth=we.source.x1-we.source.x0,we.circularPathData.sourceX=we.source.x0+we.circularPathData.sourceWidth,we.circularPathData.targetX=we.target.x0,we.circularPathData.sourceY=we.y0,we.circularPathData.targetY=we.y1,pe(we,Me)&&U(we))we.circularPathData.leftSmallArcRadius=T+we.width/2,we.circularPathData.leftLargeArcRadius=T+we.width/2,we.circularPathData.rightSmallArcRadius=T+we.width/2,we.circularPathData.rightLargeArcRadius=T+we.width/2,we.circularLinkType=="bottom"?(we.circularPathData.verticalFullExtent=we.source.y1+S+we.circularPathData.verticalBuffer,we.circularPathData.verticalLeftInnerExtent=we.circularPathData.verticalFullExtent-we.circularPathData.leftLargeArcRadius,we.circularPathData.verticalRightInnerExtent=we.circularPathData.verticalFullExtent-we.circularPathData.rightLargeArcRadius):(we.circularPathData.verticalFullExtent=we.source.y0-S-we.circularPathData.verticalBuffer,we.circularPathData.verticalLeftInnerExtent=we.circularPathData.verticalFullExtent+we.circularPathData.leftLargeArcRadius,we.circularPathData.verticalRightInnerExtent=we.circularPathData.verticalFullExtent+we.circularPathData.rightLargeArcRadius);else{var oe=we.source.column,se=we.circularLinkType,de=ge.links.filter(function(Se){return Se.source.column==oe&&Se.circularLinkType==se});we.circularLinkType=="bottom"?de.sort(j):de.sort(F);var Ee=0;de.forEach(function(Se,Le){Se.circularLinkID==we.circularLinkID&&(we.circularPathData.leftSmallArcRadius=T+we.width/2+Ee,we.circularPathData.leftLargeArcRadius=T+we.width/2+Le*me+Ee),Ee+=Se.width}),oe=we.target.column,de=ge.links.filter(function(Se){return Se.target.column==oe&&Se.circularLinkType==se}),we.circularLinkType=="bottom"?de.sort(te):de.sort(V),Ee=0,de.forEach(function(Se,Le){Se.circularLinkID==we.circularLinkID&&(we.circularPathData.rightSmallArcRadius=T+we.width/2+Ee,we.circularPathData.rightLargeArcRadius=T+we.width/2+Le*me+Ee),Ee+=Se.width}),we.circularLinkType=="bottom"?(we.circularPathData.verticalFullExtent=Math.max(ve,we.source.y1,we.target.y1)+S+we.circularPathData.verticalBuffer,we.circularPathData.verticalLeftInnerExtent=we.circularPathData.verticalFullExtent-we.circularPathData.leftLargeArcRadius,we.circularPathData.verticalRightInnerExtent=we.circularPathData.verticalFullExtent-we.circularPathData.rightLargeArcRadius):(we.circularPathData.verticalFullExtent=_e-S-we.circularPathData.verticalBuffer,we.circularPathData.verticalLeftInnerExtent=we.circularPathData.verticalFullExtent+we.circularPathData.leftLargeArcRadius,we.circularPathData.verticalRightInnerExtent=we.circularPathData.verticalFullExtent+we.circularPathData.rightLargeArcRadius)}we.circularPathData.leftInnerExtent=we.circularPathData.sourceX+we.circularPathData.leftNodeBuffer,we.circularPathData.rightInnerExtent=we.circularPathData.targetX-we.circularPathData.rightNodeBuffer,we.circularPathData.leftFullExtent=we.circularPathData.sourceX+we.circularPathData.leftLargeArcRadius+we.circularPathData.leftNodeBuffer,we.circularPathData.rightFullExtent=we.circularPathData.targetX-we.circularPathData.rightLargeArcRadius-we.circularPathData.rightNodeBuffer}if(we.circular)we.path=function(Se){return Se.circularLinkType=="top"?"M"+Se.circularPathData.sourceX+" "+Se.circularPathData.sourceY+" L"+Se.circularPathData.leftInnerExtent+" "+Se.circularPathData.sourceY+" A"+Se.circularPathData.leftLargeArcRadius+" "+Se.circularPathData.leftSmallArcRadius+" 0 0 0 "+Se.circularPathData.leftFullExtent+" "+(Se.circularPathData.sourceY-Se.circularPathData.leftSmallArcRadius)+" L"+Se.circularPathData.leftFullExtent+" "+Se.circularPathData.verticalLeftInnerExtent+" A"+Se.circularPathData.leftLargeArcRadius+" "+Se.circularPathData.leftLargeArcRadius+" 0 0 0 "+Se.circularPathData.leftInnerExtent+" "+Se.circularPathData.verticalFullExtent+" L"+Se.circularPathData.rightInnerExtent+" "+Se.circularPathData.verticalFullExtent+" A"+Se.circularPathData.rightLargeArcRadius+" "+Se.circularPathData.rightLargeArcRadius+" 0 0 0 "+Se.circularPathData.rightFullExtent+" "+Se.circularPathData.verticalRightInnerExtent+" L"+Se.circularPathData.rightFullExtent+" "+(Se.circularPathData.targetY-Se.circularPathData.rightSmallArcRadius)+" A"+Se.circularPathData.rightLargeArcRadius+" "+Se.circularPathData.rightSmallArcRadius+" 0 0 0 "+Se.circularPathData.rightInnerExtent+" "+Se.circularPathData.targetY+" L"+Se.circularPathData.targetX+" "+Se.circularPathData.targetY:"M"+Se.circularPathData.sourceX+" "+Se.circularPathData.sourceY+" L"+Se.circularPathData.leftInnerExtent+" "+Se.circularPathData.sourceY+" A"+Se.circularPathData.leftLargeArcRadius+" "+Se.circularPathData.leftSmallArcRadius+" 0 0 1 "+Se.circularPathData.leftFullExtent+" "+(Se.circularPathData.sourceY+Se.circularPathData.leftSmallArcRadius)+" L"+Se.circularPathData.leftFullExtent+" "+Se.circularPathData.verticalLeftInnerExtent+" A"+Se.circularPathData.leftLargeArcRadius+" "+Se.circularPathData.leftLargeArcRadius+" 0 0 1 "+Se.circularPathData.leftInnerExtent+" "+Se.circularPathData.verticalFullExtent+" L"+Se.circularPathData.rightInnerExtent+" "+Se.circularPathData.verticalFullExtent+" A"+Se.circularPathData.rightLargeArcRadius+" "+Se.circularPathData.rightLargeArcRadius+" 0 0 1 "+Se.circularPathData.rightFullExtent+" "+Se.circularPathData.verticalRightInnerExtent+" L"+Se.circularPathData.rightFullExtent+" "+(Se.circularPathData.targetY+Se.circularPathData.rightSmallArcRadius)+" A"+Se.circularPathData.rightLargeArcRadius+" "+Se.circularPathData.rightSmallArcRadius+" 0 0 1 "+Se.circularPathData.rightInnerExtent+" "+Se.circularPathData.targetY+" L"+Se.circularPathData.targetX+" "+Se.circularPathData.targetY}(we);else{var Te=(0,a.ak)().source(function(Se){return[Se.source.x0+(Se.source.x1-Se.source.x0),Se.y0]}).target(function(Se){return[Se.target.x0,Se.y1]});we.path=Te(we)}})}function Z(ge,me){return Q(ge)==Q(me)?ge.circularLinkType=="bottom"?j(ge,me):F(ge,me):Q(me)-Q(ge)}function F(ge,me){return ge.y0-me.y0}function j(ge,me){return me.y0-ge.y0}function V(ge,me){return ge.y1-me.y1}function te(ge,me){return me.y1-ge.y1}function Q(ge){return ge.target.column-ge.source.column}function $(ge){return ge.target.x0-ge.source.x1}function G(ge,me){var ve=I(ge),Me=$(me)/Math.tan(ve);return ce(ge)=="up"?ge.y1+Me:ge.y1-Me}function X(ge,me){var ve=I(ge),Me=$(me)/Math.tan(ve);return ce(ge)=="up"?ge.y1-Me:ge.y1+Me}function J(ge,me,ve,Me){ge.links.forEach(function(_e){if(!_e.circular&&_e.target.column-_e.source.column>1){var we=_e.source.column+1,oe=_e.target.column-1,se=1,de=oe-we+1;for(se=1;we<=oe;we++,se++)ge.nodes.forEach(function(Ee){if(Ee.column==we){var Te,Se=se/(de+1),Le=Math.pow(1-Se,3),Oe=3*Se*Math.pow(1-Se,2),he=3*Math.pow(Se,2)*(1-Se),xe=Math.pow(Se,3),ke=Le*_e.y0+Oe*_e.y0+he*_e.y1+xe*_e.y1,Re=ke-_e.width/2,ze=ke+_e.width/2;Re>Ee.y0&&Re<Ee.y1?(Te=Ee.y1-Re+10,Te=Ee.circularLinkType=="bottom"?Te:-Te,Ee=ne(Ee,Te,me,ve),ge.nodes.forEach(function(Ie){var He,qe;f(Ie,Me)!=f(Ee,Me)&&Ie.column==Ee.column&&(qe=Ie,(He=Ee).y0>qe.y0&&He.y0<qe.y1||He.y1>qe.y0&&He.y1<qe.y1||He.y0<qe.y0&&He.y1>qe.y1)&&ne(Ie,Te,me,ve)})):(ze>Ee.y0&&ze<Ee.y1||Re<Ee.y0&&ze>Ee.y1)&&(Te=ze-Ee.y0+10,Ee=ne(Ee,Te,me,ve),ge.nodes.forEach(function(Ie){f(Ie,Me)!=f(Ee,Me)&&Ie.column==Ee.column&&Ie.y0<Ee.y1&&Ie.y1>Ee.y1&&ne(Ie,Te,me,ve)}))}})}})}function ne(ge,me,ve,Me){return ge.y0+me>=ve&&ge.y1+me<=Me&&(ge.y0=ge.y0+me,ge.y1=ge.y1+me,ge.targetLinks.forEach(function(_e){_e.y1=_e.y1+me}),ge.sourceLinks.forEach(function(_e){_e.y0=_e.y0+me})),ge}function ie(ge,me,ve,Me){ge.nodes.forEach(function(_e){Me&&_e.y+(_e.y1-_e.y0)>me&&(_e.y=_e.y-(_e.y+(_e.y1-_e.y0)-me));var we=ge.links.filter(function(de){return f(de.source,ve)==f(_e,ve)}),oe=we.length;oe>1&&we.sort(function(de,Ee){if(!de.circular&&!Ee.circular){if(de.target.column==Ee.target.column||!le(de,Ee))return de.y1-Ee.y1;if(de.target.column>Ee.target.column){var Te=X(Ee,de);return de.y1-Te}if(Ee.target.column>de.target.column)return X(de,Ee)-Ee.y1}return de.circular&&!Ee.circular?de.circularLinkType=="top"?-1:1:Ee.circular&&!de.circular?Ee.circularLinkType=="top"?1:-1:de.circular&&Ee.circular?de.circularLinkType===Ee.circularLinkType&&de.circularLinkType=="top"?de.target.column===Ee.target.column?de.target.y1-Ee.target.y1:Ee.target.column-de.target.column:de.circularLinkType===Ee.circularLinkType&&de.circularLinkType=="bottom"?de.target.column===Ee.target.column?Ee.target.y1-de.target.y1:de.target.column-Ee.target.column:de.circularLinkType=="top"?-1:1:void 0});var se=_e.y0;we.forEach(function(de){de.y0=se+de.width/2,se+=de.width}),we.forEach(function(de,Ee){if(de.circularLinkType=="bottom"){for(var Te=Ee+1,Se=0;Te<oe;Te++)Se+=we[Te].width;de.y0=_e.y1-Se-de.width/2}})})}function ae(ge,me,ve){ge.nodes.forEach(function(Me){var _e=ge.links.filter(function(se){return f(se.target,ve)==f(Me,ve)}),we=_e.length;we>1&&_e.sort(function(se,de){if(!se.circular&&!de.circular){if(se.source.column==de.source.column||!le(se,de))return se.y0-de.y0;if(de.source.column<se.source.column){var Ee=G(de,se);return se.y0-Ee}if(se.source.column<de.source.column)return G(se,de)-de.y0}return se.circular&&!de.circular?se.circularLinkType=="top"?-1:1:de.circular&&!se.circular?de.circularLinkType=="top"?1:-1:se.circular&&de.circular?se.circularLinkType===de.circularLinkType&&se.circularLinkType=="top"?se.source.column===de.source.column?se.source.y1-de.source.y1:se.source.column-de.source.column:se.circularLinkType===de.circularLinkType&&se.circularLinkType=="bottom"?se.source.column===de.source.column?se.source.y1-de.source.y1:de.source.column-se.source.column:se.circularLinkType=="top"?-1:1:void 0});var oe=Me.y0;_e.forEach(function(se){se.y1=oe+se.width/2,oe+=se.width}),_e.forEach(function(se,de){if(se.circularLinkType=="bottom"){for(var Ee=de+1,Te=0;Ee<we;Ee++)Te+=_e[Ee].width;se.y1=Me.y1-Te-se.width/2}})})}function le(ge,me){return ce(ge)==ce(me)}function ce(ge){return ge.y0-ge.y1>0?"up":"down"}function pe(ge,me){return f(ge.source,me)==f(ge.target,me)}},26800:function(Y,P,e){e.r(P),e.d(P,{sankey:function(){return v},sankeyCenter:function(){return o},sankeyJustify:function(){return h},sankeyLeft:function(){return w},sankeyLinkHorizontal:function(){return f},sankeyRight:function(){return b}});var A=e(84706),k=e(34712);function a(S){return S.target.depth}function w(S){return S.depth}function b(S,T){return T-1-S.height}function h(S,T){return S.sourceLinks.length?S.depth:T-1}function o(S){return S.targetLinks.length?S.depth:S.sourceLinks.length?(0,A.SY)(S.sourceLinks,a)-1:0}function t(S){return function(){return S}}function i(S,T){return r(S.source,T.source)||S.index-T.index}function n(S,T){return r(S.target,T.target)||S.index-T.index}function r(S,T){return S.y0-T.y0}function s(S){return S.value}function l(S){return(S.y0+S.y1)/2}function u(S){return l(S.source)*S.value}function d(S){return l(S.target)*S.value}function c(S){return S.index}function x(S){return S.nodes}function g(S){return S.links}function p(S,T){var E=S.get(T);if(!E)throw new Error("missing: "+T);return E}function v(){var S=0,T=0,E=1,C=1,O=24,I=8,z=c,U=h,D=x,B=g,Z=32;function F(){var V={nodes:D.apply(null,arguments),links:B.apply(null,arguments)};return function(te){te.nodes.forEach(function($,G){$.index=G,$.sourceLinks=[],$.targetLinks=[]});var Q=(0,k.kH)(te.nodes,z);te.links.forEach(function($,G){$.index=G;var X=$.source,J=$.target;typeof X!="object"&&(X=$.source=p(Q,X)),typeof J!="object"&&(J=$.target=p(Q,J)),X.sourceLinks.push($),J.targetLinks.push($)})}(V),function(te){te.nodes.forEach(function(Q){Q.value=Math.max((0,A.oh)(Q.sourceLinks,s),(0,A.oh)(Q.targetLinks,s))})}(V),function(te){var Q,$,G;for(Q=te.nodes,$=[],G=0;Q.length;++G,Q=$,$=[])Q.forEach(function(J){J.depth=G,J.sourceLinks.forEach(function(ne){$.indexOf(ne.target)<0&&$.push(ne.target)})});for(Q=te.nodes,$=[],G=0;Q.length;++G,Q=$,$=[])Q.forEach(function(J){J.height=G,J.targetLinks.forEach(function(ne){$.indexOf(ne.source)<0&&$.push(ne.source)})});var X=(E-S-O)/(G-1);te.nodes.forEach(function(J){J.x1=(J.x0=S+Math.max(0,Math.min(G-1,Math.floor(U.call(null,J,G))))*X)+O})}(V),function(te){var Q=(0,k.UJ)().key(function(ie){return ie.x0}).sortKeys(A.XE).entries(te.nodes).map(function(ie){return ie.values});(function(){var ie=(0,A.kv)(Q,function(ce){return ce.length}),ae=.6666666666666666*(C-T)/(ie-1);I>ae&&(I=ae);var le=(0,A.SY)(Q,function(ce){return(C-T-(ce.length-1)*I)/(0,A.oh)(ce,s)});Q.forEach(function(ce){ce.forEach(function(pe,ge){pe.y1=(pe.y0=ge)+pe.value*le})}),te.links.forEach(function(ce){ce.width=ce.value*le})})(),ne();for(var $=1,G=Z;G>0;--G)J($*=.99),ne(),X($),ne();function X(ie){Q.forEach(function(ae){ae.forEach(function(le){if(le.targetLinks.length){var ce=((0,A.oh)(le.targetLinks,u)/(0,A.oh)(le.targetLinks,s)-l(le))*ie;le.y0+=ce,le.y1+=ce}})})}function J(ie){Q.slice().reverse().forEach(function(ae){ae.forEach(function(le){if(le.sourceLinks.length){var ce=((0,A.oh)(le.sourceLinks,d)/(0,A.oh)(le.sourceLinks,s)-l(le))*ie;le.y0+=ce,le.y1+=ce}})})}function ne(){Q.forEach(function(ie){var ae,le,ce,pe=T,ge=ie.length;for(ie.sort(r),ce=0;ce<ge;++ce)(le=pe-(ae=ie[ce]).y0)>0&&(ae.y0+=le,ae.y1+=le),pe=ae.y1+I;if((le=pe-I-C)>0)for(pe=ae.y0-=le,ae.y1-=le,ce=ge-2;ce>=0;--ce)(le=(ae=ie[ce]).y1+I-pe)>0&&(ae.y0-=le,ae.y1-=le),pe=ae.y0})}}(V),j(V),V}function j(V){V.nodes.forEach(function(te){te.sourceLinks.sort(n),te.targetLinks.sort(i)}),V.nodes.forEach(function(te){var Q=te.y0,$=Q;te.sourceLinks.forEach(function(G){G.y0=Q+G.width/2,Q+=G.width}),te.targetLinks.forEach(function(G){G.y1=$+G.width/2,$+=G.width})})}return F.update=function(V){return j(V),V},F.nodeId=function(V){return arguments.length?(z=typeof V=="function"?V:t(V),F):z},F.nodeAlign=function(V){return arguments.length?(U=typeof V=="function"?V:t(V),F):U},F.nodeWidth=function(V){return arguments.length?(O=+V,F):O},F.nodePadding=function(V){return arguments.length?(I=+V,F):I},F.nodes=function(V){return arguments.length?(D=typeof V=="function"?V:t(V),F):D},F.links=function(V){return arguments.length?(B=typeof V=="function"?V:t(V),F):B},F.size=function(V){return arguments.length?(S=T=0,E=+V[0],C=+V[1],F):[E-S,C-T]},F.extent=function(V){return arguments.length?(S=+V[0][0],E=+V[1][0],T=+V[0][1],C=+V[1][1],F):[[S,T],[E,C]]},F.iterations=function(V){return arguments.length?(Z=+V,F):Z},F}var y=e(10132);function m(S){return[S.source.x1,S.y0]}function _(S){return[S.target.x0,S.y1]}function f(){return(0,y.ak)().source(m).target(_)}},33428:function(Y,P,e){var A,k;(function(){var a={version:"3.8.0"},w=[].slice,b=function(L){return w.call(L)},h=self.document;function o(L){return L&&(L.ownerDocument||L.document||L).documentElement}function t(L){return L&&(L.ownerDocument&&L.ownerDocument.defaultView||L.document&&L||L.defaultView)}if(h)try{b(h.documentElement.childNodes)[0].nodeType}catch{b=function(H){for(var ee=H.length,re=new Array(ee);ee--;)re[ee]=H[ee];return re}}if(Date.now||(Date.now=function(){return+new Date}),h)try{h.createElement("DIV").style.setProperty("opacity",0,"")}catch{var i=this.Element.prototype,n=i.setAttribute,r=i.setAttributeNS,s=this.CSSStyleDeclaration.prototype,l=s.setProperty;i.setAttribute=function(H,ee){n.call(this,H,ee+"")},i.setAttributeNS=function(H,ee,re){r.call(this,H,ee,re+"")},s.setProperty=function(H,ee,re){l.call(this,H,ee+"",re)}}function u(L,H){return L<H?-1:L>H?1:L>=H?0:NaN}function d(L){return L===null?NaN:+L}function c(L){return!isNaN(L)}function x(L){return{left:function(H,ee,re,fe){for(arguments.length<3&&(re=0),arguments.length<4&&(fe=H.length);re<fe;){var ye=re+fe>>>1;L(H[ye],ee)<0?re=ye+1:fe=ye}return re},right:function(H,ee,re,fe){for(arguments.length<3&&(re=0),arguments.length<4&&(fe=H.length);re<fe;){var ye=re+fe>>>1;L(H[ye],ee)>0?fe=ye:re=ye+1}return re}}}a.ascending=u,a.descending=function(L,H){return H<L?-1:H>L?1:H>=L?0:NaN},a.min=function(L,H){var ee,re,fe=-1,ye=L.length;if(arguments.length===1){for(;++fe<ye;)if((re=L[fe])!=null&&re>=re){ee=re;break}for(;++fe<ye;)(re=L[fe])!=null&&ee>re&&(ee=re)}else{for(;++fe<ye;)if((re=H.call(L,L[fe],fe))!=null&&re>=re){ee=re;break}for(;++fe<ye;)(re=H.call(L,L[fe],fe))!=null&&ee>re&&(ee=re)}return ee},a.max=function(L,H){var ee,re,fe=-1,ye=L.length;if(arguments.length===1){for(;++fe<ye;)if((re=L[fe])!=null&&re>=re){ee=re;break}for(;++fe<ye;)(re=L[fe])!=null&&re>ee&&(ee=re)}else{for(;++fe<ye;)if((re=H.call(L,L[fe],fe))!=null&&re>=re){ee=re;break}for(;++fe<ye;)(re=H.call(L,L[fe],fe))!=null&&re>ee&&(ee=re)}return ee},a.extent=function(L,H){var ee,re,fe,ye=-1,Ce=L.length;if(arguments.length===1){for(;++ye<Ce;)if((re=L[ye])!=null&&re>=re){ee=fe=re;break}for(;++ye<Ce;)(re=L[ye])!=null&&(ee>re&&(ee=re),fe<re&&(fe=re))}else{for(;++ye<Ce;)if((re=H.call(L,L[ye],ye))!=null&&re>=re){ee=fe=re;break}for(;++ye<Ce;)(re=H.call(L,L[ye],ye))!=null&&(ee>re&&(ee=re),fe<re&&(fe=re))}return[ee,fe]},a.sum=function(L,H){var ee,re=0,fe=L.length,ye=-1;if(arguments.length===1)for(;++ye<fe;)c(ee=+L[ye])&&(re+=ee);else for(;++ye<fe;)c(ee=+H.call(L,L[ye],ye))&&(re+=ee);return re},a.mean=function(L,H){var ee,re=0,fe=L.length,ye=-1,Ce=fe;if(arguments.length===1)for(;++ye<fe;)c(ee=d(L[ye]))?re+=ee:--Ce;else for(;++ye<fe;)c(ee=d(H.call(L,L[ye],ye)))?re+=ee:--Ce;if(Ce)return re/Ce},a.quantile=function(L,H){var ee=(L.length-1)*H+1,re=Math.floor(ee),fe=+L[re-1],ye=ee-re;return ye?fe+ye*(L[re]-fe):fe},a.median=function(L,H){var ee,re=[],fe=L.length,ye=-1;if(arguments.length===1)for(;++ye<fe;)c(ee=d(L[ye]))&&re.push(ee);else for(;++ye<fe;)c(ee=d(H.call(L,L[ye],ye)))&&re.push(ee);if(re.length)return a.quantile(re.sort(u),.5)},a.variance=function(L,H){var ee,re,fe=L.length,ye=0,Ce=0,De=-1,Ue=0;if(arguments.length===1)for(;++De<fe;)c(ee=d(L[De]))&&(Ce+=(re=ee-ye)*(ee-(ye+=re/++Ue)));else for(;++De<fe;)c(ee=d(H.call(L,L[De],De)))&&(Ce+=(re=ee-ye)*(ee-(ye+=re/++Ue)));if(Ue>1)return Ce/(Ue-1)},a.deviation=function(){var L=a.variance.apply(this,arguments);return L&&Math.sqrt(L)};var g=x(u);function p(L){return L.length}a.bisectLeft=g.left,a.bisect=a.bisectRight=g.right,a.bisector=function(L){return x(L.length===1?function(H,ee){return u(L(H),ee)}:L)},a.shuffle=function(L,H,ee){(ye=arguments.length)<3&&(ee=L.length,ye<2&&(H=0));for(var re,fe,ye=ee-H;ye;)fe=Math.random()*ye--|0,re=L[ye+H],L[ye+H]=L[fe+H],L[fe+H]=re;return L},a.permute=function(L,H){for(var ee=H.length,re=new Array(ee);ee--;)re[ee]=L[H[ee]];return re},a.pairs=function(L){for(var H=0,ee=L.length-1,re=L[0],fe=new Array(ee<0?0:ee);H<ee;)fe[H]=[re,re=L[++H]];return fe},a.transpose=function(L){if(!(fe=L.length))return[];for(var H=-1,ee=a.min(L,p),re=new Array(ee);++H<ee;)for(var fe,ye=-1,Ce=re[H]=new Array(fe);++ye<fe;)Ce[ye]=L[ye][H];return re},a.zip=function(){return a.transpose(arguments)},a.keys=function(L){var H=[];for(var ee in L)H.push(ee);return H},a.values=function(L){var H=[];for(var ee in L)H.push(L[ee]);return H},a.entries=function(L){var H=[];for(var ee in L)H.push({key:ee,value:L[ee]});return H},a.merge=function(L){for(var H,ee,re,fe=L.length,ye=-1,Ce=0;++ye<fe;)Ce+=L[ye].length;for(ee=new Array(Ce);--fe>=0;)for(H=(re=L[fe]).length;--H>=0;)ee[--Ce]=re[H];return ee};var v=Math.abs;function y(L,H){for(var ee in H)Object.defineProperty(L.prototype,ee,{value:H[ee],enumerable:!1})}function m(){this._=Object.create(null)}a.range=function(L,H,ee){if(arguments.length<3&&(ee=1,arguments.length<2&&(H=L,L=0)),(H-L)/ee==1/0)throw new Error("infinite range");var re,fe=[],ye=function(De){for(var Ue=1;De*Ue%1;)Ue*=10;return Ue}(v(ee)),Ce=-1;if(L*=ye,H*=ye,(ee*=ye)<0)for(;(re=L+ee*++Ce)>H;)fe.push(re/ye);else for(;(re=L+ee*++Ce)<H;)fe.push(re/ye);return fe},a.map=function(L,H){var ee=new m;if(L instanceof m)L.forEach(function(De,Ue){ee.set(De,Ue)});else if(Array.isArray(L)){var re,fe=-1,ye=L.length;if(arguments.length===1)for(;++fe<ye;)ee.set(fe,L[fe]);else for(;++fe<ye;)ee.set(H.call(L,re=L[fe],fe),re)}else for(var Ce in L)ee.set(Ce,L[Ce]);return ee};var _="__proto__",f="\0";function S(L){return(L+="")===_||L[0]===f?f+L:L}function T(L){return(L+="")[0]===f?L.slice(1):L}function E(L){return S(L)in this._}function C(L){return(L=S(L))in this._&&delete this._[L]}function O(){var L=[];for(var H in this._)L.push(T(H));return L}function I(){var L=0;for(var H in this._)++L;return L}function z(){for(var L in this._)return!1;return!0}function U(){this._=Object.create(null)}function D(L){return L}function B(L,H,ee){return function(){var re=ee.apply(H,arguments);return re===H?L:re}}function Z(L,H){if(H in L)return H;H=H.charAt(0).toUpperCase()+H.slice(1);for(var ee=0,re=F.length;ee<re;++ee){var fe=F[ee]+H;if(fe in L)return fe}}y(m,{has:E,get:function(L){return this._[S(L)]},set:function(L,H){return this._[S(L)]=H},remove:C,keys:O,values:function(){var L=[];for(var H in this._)L.push(this._[H]);return L},entries:function(){var L=[];for(var H in this._)L.push({key:T(H),value:this._[H]});return L},size:I,empty:z,forEach:function(L){for(var H in this._)L.call(this,T(H),this._[H])}}),a.nest=function(){var L,H,ee={},re=[],fe=[];function ye(De,Ue,Ge){if(Ge>=re.length)return H?H.call(ee,Ue):L?Ue.sort(L):Ue;for(var tt,ft,dt,At,Ct=-1,Et=Ue.length,jt=re[Ge++],Dt=new m;++Ct<Et;)(At=Dt.get(tt=jt(ft=Ue[Ct])))?At.push(ft):Dt.set(tt,[ft]);return De?(ft=De(),dt=function($t,Yt){ft.set($t,ye(De,Yt,Ge))}):(ft={},dt=function($t,Yt){ft[$t]=ye(De,Yt,Ge)}),Dt.forEach(dt),ft}function Ce(De,Ue){if(Ue>=re.length)return De;var Ge=[],tt=fe[Ue++];return De.forEach(function(ft,dt){Ge.push({key:ft,values:Ce(dt,Ue)})}),tt?Ge.sort(function(ft,dt){return tt(ft.key,dt.key)}):Ge}return ee.map=function(De,Ue){return ye(Ue,De,0)},ee.entries=function(De){return Ce(ye(a.map,De,0),0)},ee.key=function(De){return re.push(De),ee},ee.sortKeys=function(De){return fe[re.length-1]=De,ee},ee.sortValues=function(De){return L=De,ee},ee.rollup=function(De){return H=De,ee},ee},a.set=function(L){var H=new U;if(L)for(var ee=0,re=L.length;ee<re;++ee)H.add(L[ee]);return H},y(U,{has:E,add:function(L){return this._[S(L+="")]=!0,L},remove:C,values:O,size:I,empty:z,forEach:function(L){for(var H in this._)L.call(this,T(H))}}),a.behavior={},a.rebind=function(L,H){for(var ee,re=1,fe=arguments.length;++re<fe;)L[ee=arguments[re]]=B(L,H,H[ee]);return L};var F=["webkit","ms","moz","Moz","o","O"];function j(){}function V(){}function te(L){var H=[],ee=new m;function re(){for(var fe,ye=H,Ce=-1,De=ye.length;++Ce<De;)(fe=ye[Ce].on)&&fe.apply(this,arguments);return L}return re.on=function(fe,ye){var Ce,De=ee.get(fe);return arguments.length<2?De&&De.on:(De&&(De.on=null,H=H.slice(0,Ce=H.indexOf(De)).concat(H.slice(Ce+1)),ee.remove(fe)),ye&&H.push(ee.set(fe,{on:ye})),L)},re}function Q(){a.event.preventDefault()}function $(){for(var L,H=a.event;L=H.sourceEvent;)H=L;return H}function G(L){for(var H=new V,ee=0,re=arguments.length;++ee<re;)H[arguments[ee]]=te(H);return H.of=function(fe,ye){return function(Ce){try{var De=Ce.sourceEvent=a.event;Ce.target=L,a.event=Ce,H[Ce.type].apply(fe,ye)}finally{a.event=De}}},H}a.dispatch=function(){for(var L=new V,H=-1,ee=arguments.length;++H<ee;)L[arguments[H]]=te(L);return L},V.prototype.on=function(L,H){var ee=L.indexOf("."),re="";if(ee>=0&&(re=L.slice(ee+1),L=L.slice(0,ee)),L)return arguments.length<2?this[L].on(re):this[L].on(re,H);if(arguments.length===2){if(H==null)for(L in this)this.hasOwnProperty(L)&&this[L].on(re,null);return this}},a.event=null,a.requote=function(L){return L.replace(X,"\\$&")};var X=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,J={}.__proto__?function(L,H){L.__proto__=H}:function(L,H){for(var ee in H)L[ee]=H[ee]};function ne(L){return J(L,ce),L}var ie=function(L,H){return H.querySelector(L)},ae=function(L,H){return H.querySelectorAll(L)},le=function(L,H){var ee=L.matches||L[Z(L,"matchesSelector")];return le=function(re,fe){return ee.call(re,fe)},le(L,H)};typeof Sizzle=="function"&&(ie=function(L,H){return Sizzle(L,H)[0]||null},ae=Sizzle,le=Sizzle.matchesSelector),a.selection=function(){return a.select(h.documentElement)};var ce=a.selection.prototype=[];function pe(L){return typeof L=="function"?L:function(){return ie(L,this)}}function ge(L){return typeof L=="function"?L:function(){return ae(L,this)}}ce.select=function(L){var H,ee,re,fe,ye=[];L=pe(L);for(var Ce=-1,De=this.length;++Ce<De;){ye.push(H=[]),H.parentNode=(re=this[Ce]).parentNode;for(var Ue=-1,Ge=re.length;++Ue<Ge;)(fe=re[Ue])?(H.push(ee=L.call(fe,fe.__data__,Ue,Ce)),ee&&"__data__"in fe&&(ee.__data__=fe.__data__)):H.push(null)}return ne(ye)},ce.selectAll=function(L){var H,ee,re=[];L=ge(L);for(var fe=-1,ye=this.length;++fe<ye;)for(var Ce=this[fe],De=-1,Ue=Ce.length;++De<Ue;)(ee=Ce[De])&&(re.push(H=b(L.call(ee,ee.__data__,De,fe))),H.parentNode=ee);return ne(re)};var me="http://www.w3.org/1999/xhtml",ve={svg:"http://www.w3.org/2000/svg",xhtml:me,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Me(L,H){return L=a.ns.qualify(L),H==null?L.local?function(){this.removeAttributeNS(L.space,L.local)}:function(){this.removeAttribute(L)}:typeof H=="function"?L.local?function(){var ee=H.apply(this,arguments);ee==null?this.removeAttributeNS(L.space,L.local):this.setAttributeNS(L.space,L.local,ee)}:function(){var ee=H.apply(this,arguments);ee==null?this.removeAttribute(L):this.setAttribute(L,ee)}:L.local?function(){this.setAttributeNS(L.space,L.local,H)}:function(){this.setAttribute(L,H)}}function _e(L){return L.trim().replace(/\s+/g," ")}function we(L){return new RegExp("(?:^|\\s+)"+a.requote(L)+"(?:\\s+|$)","g")}function oe(L){return(L+"").trim().split(/^|\s+/)}function se(L,H){var ee=(L=oe(L).map(de)).length;return typeof H=="function"?function(){for(var re=-1,fe=H.apply(this,arguments);++re<ee;)L[re](this,fe)}:function(){for(var re=-1;++re<ee;)L[re](this,H)}}function de(L){var H=we(L);return function(ee,re){if(fe=ee.classList)return re?fe.add(L):fe.remove(L);var fe=ee.getAttribute("class")||"";re?(H.lastIndex=0,H.test(fe)||ee.setAttribute("class",_e(fe+" "+L))):ee.setAttribute("class",_e(fe.replace(H," ")))}}function Ee(L,H,ee){return H==null?function(){this.style.removeProperty(L)}:typeof H=="function"?function(){var re=H.apply(this,arguments);re==null?this.style.removeProperty(L):this.style.setProperty(L,re,ee)}:function(){this.style.setProperty(L,H,ee)}}function Te(L,H){return H==null?function(){delete this[L]}:typeof H=="function"?function(){var ee=H.apply(this,arguments);ee==null?delete this[L]:this[L]=ee}:function(){this[L]=H}}function Se(L){return typeof L=="function"?L:(L=a.ns.qualify(L)).local?function(){return this.ownerDocument.createElementNS(L.space,L.local)}:function(){var H=this.ownerDocument,ee=this.namespaceURI;return ee===me&&H.documentElement.namespaceURI===me?H.createElement(L):H.createElementNS(ee,L)}}function Le(){var L=this.parentNode;L&&L.removeChild(this)}function Oe(L){return{__data__:L}}function he(L){return function(){return le(this,L)}}function xe(L){return arguments.length||(L=u),function(H,ee){return H&&ee?L(H.__data__,ee.__data__):!H-!ee}}function ke(L,H){for(var ee=0,re=L.length;ee<re;ee++)for(var fe,ye=L[ee],Ce=0,De=ye.length;Ce<De;Ce++)(fe=ye[Ce])&&H(fe,Ce,ee);return L}function Re(L){return J(L,ze),L}a.ns={prefix:ve,qualify:function(L){var H=L.indexOf(":"),ee=L;return H>=0&&(ee=L.slice(0,H))!=="xmlns"&&(L=L.slice(H+1)),ve.hasOwnProperty(ee)?{space:ve[ee],local:L}:L}},ce.attr=function(L,H){if(arguments.length<2){if(typeof L=="string"){var ee=this.node();return(L=a.ns.qualify(L)).local?ee.getAttributeNS(L.space,L.local):ee.getAttribute(L)}for(H in L)this.each(Me(H,L[H]));return this}return this.each(Me(L,H))},ce.classed=function(L,H){if(arguments.length<2){if(typeof L=="string"){var ee=this.node(),re=(L=oe(L)).length,fe=-1;if(H=ee.classList){for(;++fe<re;)if(!H.contains(L[fe]))return!1}else for(H=ee.getAttribute("class");++fe<re;)if(!we(L[fe]).test(H))return!1;return!0}for(H in L)this.each(se(H,L[H]));return this}return this.each(se(L,H))},ce.style=function(L,H,ee){var re=arguments.length;if(re<3){if(typeof L!="string"){for(ee in re<2&&(H=""),L)this.each(Ee(ee,L[ee],H));return this}if(re<2){var fe=this.node();return t(fe).getComputedStyle(fe,null).getPropertyValue(L)}ee=""}return this.each(Ee(L,H,ee))},ce.property=function(L,H){if(arguments.length<2){if(typeof L=="string")return this.node()[L];for(H in L)this.each(Te(H,L[H]));return this}return this.each(Te(L,H))},ce.text=function(L){return arguments.length?this.each(typeof L=="function"?function(){var H=L.apply(this,arguments);this.textContent=H==null?"":H}:L==null?function(){this.textContent=""}:function(){this.textContent=L}):this.node().textContent},ce.html=function(L){return arguments.length?this.each(typeof L=="function"?function(){var H=L.apply(this,arguments);this.innerHTML=H==null?"":H}:L==null?function(){this.innerHTML=""}:function(){this.innerHTML=L}):this.node().innerHTML},ce.append=function(L){return L=Se(L),this.select(function(){return this.appendChild(L.apply(this,arguments))})},ce.insert=function(L,H){return L=Se(L),H=pe(H),this.select(function(){return this.insertBefore(L.apply(this,arguments),H.apply(this,arguments)||null)})},ce.remove=function(){return this.each(Le)},ce.data=function(L,H){var ee,re,fe=-1,ye=this.length;if(!arguments.length){for(L=new Array(ye=(ee=this[0]).length);++fe<ye;)(re=ee[fe])&&(L[fe]=re.__data__);return L}function Ce(tt,ft){var dt,At,Ct,Et=tt.length,jt=ft.length,Dt=Math.min(Et,jt),$t=new Array(jt),Yt=new Array(jt),Vt=new Array(Et);if(H){var gn,xn=new m,Pn=new Array(Et);for(dt=-1;++dt<Et;)(At=tt[dt])&&(xn.has(gn=H.call(At,At.__data__,dt))?Vt[dt]=At:xn.set(gn,At),Pn[dt]=gn);for(dt=-1;++dt<jt;)(At=xn.get(gn=H.call(ft,Ct=ft[dt],dt)))?At!==!0&&($t[dt]=At,At.__data__=Ct):Yt[dt]=Oe(Ct),xn.set(gn,!0);for(dt=-1;++dt<Et;)dt in Pn&&xn.get(Pn[dt])!==!0&&(Vt[dt]=tt[dt])}else{for(dt=-1;++dt<Dt;)At=tt[dt],Ct=ft[dt],At?(At.__data__=Ct,$t[dt]=At):Yt[dt]=Oe(Ct);for(;dt<jt;++dt)Yt[dt]=Oe(ft[dt]);for(;dt<Et;++dt)Vt[dt]=tt[dt]}Yt.update=$t,Yt.parentNode=$t.parentNode=Vt.parentNode=tt.parentNode,De.push(Yt),Ue.push($t),Ge.push(Vt)}var De=Re([]),Ue=ne([]),Ge=ne([]);if(typeof L=="function")for(;++fe<ye;)Ce(ee=this[fe],L.call(ee,ee.parentNode.__data__,fe));else for(;++fe<ye;)Ce(ee=this[fe],L);return Ue.enter=function(){return De},Ue.exit=function(){return Ge},Ue},ce.datum=function(L){return arguments.length?this.property("__data__",L):this.property("__data__")},ce.filter=function(L){var H,ee,re,fe=[];typeof L!="function"&&(L=he(L));for(var ye=0,Ce=this.length;ye<Ce;ye++){fe.push(H=[]),H.parentNode=(ee=this[ye]).parentNode;for(var De=0,Ue=ee.length;De<Ue;De++)(re=ee[De])&&L.call(re,re.__data__,De,ye)&&H.push(re)}return ne(fe)},ce.order=function(){for(var L=-1,H=this.length;++L<H;)for(var ee,re=this[L],fe=re.length-1,ye=re[fe];--fe>=0;)(ee=re[fe])&&(ye&&ye!==ee.nextSibling&&ye.parentNode.insertBefore(ee,ye),ye=ee);return this},ce.sort=function(L){L=xe.apply(this,arguments);for(var H=-1,ee=this.length;++H<ee;)this[H].sort(L);return this.order()},ce.each=function(L){return ke(this,function(H,ee,re){L.call(H,H.__data__,ee,re)})},ce.call=function(L){var H=b(arguments);return L.apply(H[0]=this,H),this},ce.empty=function(){return!this.node()},ce.node=function(){for(var L=0,H=this.length;L<H;L++)for(var ee=this[L],re=0,fe=ee.length;re<fe;re++){var ye=ee[re];if(ye)return ye}return null},ce.size=function(){var L=0;return ke(this,function(){++L}),L};var ze=[];function Ie(L,H,ee){var re="__on"+L,fe=L.indexOf("."),ye=qe;fe>0&&(L=L.slice(0,fe));var Ce=He.get(L);function De(){var Ue=this[re];Ue&&(this.removeEventListener(L,Ue,Ue.$),delete this[re])}return Ce&&(L=Ce,ye=Je),fe?H?function(){var Ue=ye(H,b(arguments));De.call(this),this.addEventListener(L,this[re]=Ue,Ue.$=ee),Ue._=H}:De:H?j:function(){var Ue,Ge=new RegExp("^__on([^.]+)"+a.requote(L)+"$");for(var tt in this)if(Ue=tt.match(Ge)){var ft=this[tt];this.removeEventListener(Ue[1],ft,ft.$),delete this[tt]}}}a.selection.enter=Re,a.selection.enter.prototype=ze,ze.append=ce.append,ze.empty=ce.empty,ze.node=ce.node,ze.call=ce.call,ze.size=ce.size,ze.select=function(L){for(var H,ee,re,fe,ye,Ce=[],De=-1,Ue=this.length;++De<Ue;){re=(fe=this[De]).update,Ce.push(H=[]),H.parentNode=fe.parentNode;for(var Ge=-1,tt=fe.length;++Ge<tt;)(ye=fe[Ge])?(H.push(re[Ge]=ee=L.call(fe.parentNode,ye.__data__,Ge,De)),ee.__data__=ye.__data__):H.push(null)}return ne(Ce)},ze.insert=function(L,H){var ee,re,fe;return arguments.length<2&&(ee=this,H=function(ye,Ce,De){var Ue,Ge=ee[De].update,tt=Ge.length;for(De!=fe&&(fe=De,re=0),Ce>=re&&(re=Ce+1);!(Ue=Ge[re])&&++re<tt;);return Ue}),ce.insert.call(this,L,H)},a.select=function(L){var H;return typeof L=="string"?(H=[ie(L,h)]).parentNode=h.documentElement:(H=[L]).parentNode=o(L),ne([H])},a.selectAll=function(L){var H;return typeof L=="string"?(H=b(ae(L,h))).parentNode=h.documentElement:(H=b(L)).parentNode=null,ne([H])},ce.on=function(L,H,ee){var re=arguments.length;if(re<3){if(typeof L!="string"){for(ee in re<2&&(H=!1),L)this.each(Ie(ee,L[ee],H));return this}if(re<2)return(re=this.node()["__on"+L])&&re._;ee=!1}return this.each(Ie(L,H,ee))};var He=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});function qe(L,H){return function(ee){var re=a.event;a.event=ee,H[0]=this.__data__;try{L.apply(this,H)}finally{a.event=re}}}function Je(L,H){var ee=qe(L,H);return function(re){var fe=this,ye=re.relatedTarget;ye&&(ye===fe||8&ye.compareDocumentPosition(fe))||ee.call(fe,re)}}h&&He.forEach(function(L){"on"+L in h&&He.remove(L)});var st,it=0;function vt(L){var H=".dragsuppress-"+ ++it,ee="click"+H,re=a.select(t(L)).on("touchmove"+H,Q).on("dragstart"+H,Q).on("selectstart"+H,Q);if(st==null&&(st=!("onselectstart"in L)&&Z(L.style,"userSelect")),st){var fe=o(L).style,ye=fe[st];fe[st]="none"}return function(Ce){if(re.on(H,null),st&&(fe[st]=ye),Ce){var De=function(){re.on(ee,null)};re.on(ee,function(){Q(),De()},!0),setTimeout(De,0)}}}a.mouse=function(L){return xt(L,$())};var _t=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function xt(L,H){H.changedTouches&&(H=H.changedTouches[0]);var ee=L.ownerSVGElement||L;if(ee.createSVGPoint){var re=ee.createSVGPoint();if(_t<0){var fe=t(L);if(fe.scrollX||fe.scrollY){var ye=(ee=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();_t=!(ye.f||ye.e),ee.remove()}}return _t?(re.x=H.pageX,re.y=H.pageY):(re.x=H.clientX,re.y=H.clientY),[(re=re.matrixTransform(L.getScreenCTM().inverse())).x,re.y]}var Ce=L.getBoundingClientRect();return[H.clientX-Ce.left-L.clientLeft,H.clientY-Ce.top-L.clientTop]}function et(){return a.event.changedTouches[0].identifier}a.touch=function(L,H,ee){if(arguments.length<3&&(ee=H,H=$().changedTouches),H){for(var re,fe=0,ye=H.length;fe<ye;++fe)if((re=H[fe]).identifier===ee)return xt(L,re)}},a.behavior.drag=function(){var L=G(fe,"drag","dragstart","dragend"),H=null,ee=ye(j,a.mouse,t,"mousemove","mouseup"),re=ye(et,a.touch,D,"touchmove","touchend");function fe(){this.on("mousedown.drag",ee).on("touchstart.drag",re)}function ye(Ce,De,Ue,Ge,tt){return function(){var ft,dt=this,At=a.event.target.correspondingElement||a.event.target,Ct=dt.parentNode,Et=L.of(dt,arguments),jt=0,Dt=Ce(),$t=".drag"+(Dt==null?"":"-"+Dt),Yt=a.select(Ue(At)).on(Ge+$t,function(){var xn,Pn,Rn=De(Ct,Dt);Rn&&(xn=Rn[0]-gn[0],Pn=Rn[1]-gn[1],jt|=xn|Pn,gn=Rn,Et({type:"drag",x:Rn[0]+ft[0],y:Rn[1]+ft[1],dx:xn,dy:Pn}))}).on(tt+$t,function(){De(Ct,Dt)&&(Yt.on(Ge+$t,null).on(tt+$t,null),Vt(jt),Et({type:"dragend"}))}),Vt=vt(At),gn=De(Ct,Dt);ft=H?[(ft=H.apply(dt,arguments)).x-gn[0],ft.y-gn[1]]:[0,0],Et({type:"dragstart"})}}return fe.origin=function(Ce){return arguments.length?(H=Ce,fe):H},a.rebind(fe,L,"on")},a.touches=function(L,H){return arguments.length<2&&(H=$().touches),H?b(H).map(function(ee){var re=xt(L,ee);return re.identifier=ee.identifier,re}):[]};var nt=1e-6,Mt=nt*nt,zt=Math.PI,Ft=2*zt,Rt=Ft-nt,We=zt/2,Ze=zt/180,Ne=180/zt;function Ye(L){return L>1?We:L<-1?-We:Math.asin(L)}function lt(L){return((L=Math.exp(L))+1/L)/2}var at=Math.SQRT2;a.interpolateZoom=function(L,H){var ee,re,fe=L[0],ye=L[1],Ce=L[2],De=H[0],Ue=H[1],Ge=H[2],tt=De-fe,ft=Ue-ye,dt=tt*tt+ft*ft;if(dt<Mt)re=Math.log(Ge/Ce)/at,ee=function($t){return[fe+$t*tt,ye+$t*ft,Ce*Math.exp(at*$t*re)]};else{var At=Math.sqrt(dt),Ct=(Ge*Ge-Ce*Ce+4*dt)/(2*Ce*2*At),Et=(Ge*Ge-Ce*Ce-4*dt)/(2*Ge*2*At),jt=Math.log(Math.sqrt(Ct*Ct+1)-Ct),Dt=Math.log(Math.sqrt(Et*Et+1)-Et);re=(Dt-jt)/at,ee=function($t){var Yt,Vt=$t*re,gn=lt(jt),xn=Ce/(2*At)*(gn*(Yt=at*Vt+jt,((Yt=Math.exp(2*Yt))-1)/(Yt+1))-function(Pn){return((Pn=Math.exp(Pn))-1/Pn)/2}(jt));return[fe+xn*tt,ye+xn*ft,Ce*gn/lt(at*Vt+jt)]}}return ee.duration=1e3*re,ee},a.behavior.zoom=function(){var L,H,ee,re,fe,ye,Ce,De,Ue,Ge={x:0,y:0,k:1},tt=[960,500],ft=ot,dt=250,At=0,Ct="mousedown.zoom",Et="mousemove.zoom",jt="mouseup.zoom",Dt="touchstart.zoom",$t=G(Yt,"zoomstart","zoom","zoomend");function Yt(nr){nr.on(Ct,Xn).on(Be+".zoom",wr).on("dblclick.zoom",Pr).on(Dt,pr)}function Vt(nr){return[(nr[0]-Ge.x)/Ge.k,(nr[1]-Ge.y)/Ge.k]}function gn(nr){Ge.k=Math.max(ft[0],Math.min(ft[1],nr))}function xn(nr,hr){hr=function(Ar){return[Ar[0]*Ge.k+Ge.x,Ar[1]*Ge.k+Ge.y]}(hr),Ge.x+=nr[0]-hr[0],Ge.y+=nr[1]-hr[1]}function Pn(nr,hr,Ar,vr){nr.__chart__={x:Ge.x,y:Ge.y,k:Ge.k},gn(Math.pow(2,vr)),xn(H=hr,Ar),nr=a.select(nr),dt>0&&(nr=nr.transition().duration(dt)),nr.call(Yt.event)}function Rn(){Ce&&Ce.domain(ye.range().map(function(nr){return(nr-Ge.x)/Ge.k}).map(ye.invert)),Ue&&Ue.domain(De.range().map(function(nr){return(nr-Ge.y)/Ge.k}).map(De.invert))}function Wn(nr){At++||nr({type:"zoomstart"})}function ir(nr){Rn(),nr({type:"zoom",scale:Ge.k,translate:[Ge.x,Ge.y]})}function gr(nr){--At||(nr({type:"zoomend"}),H=null)}function Xn(){var nr=this,hr=$t.of(nr,arguments),Ar=0,vr=a.select(t(nr)).on(Et,function(){Ar=1,xn(a.mouse(nr),Lr),ir(hr)}).on(jt,function(){vr.on(Et,null).on(jt,null),Rr(Ar),gr(hr)}),Lr=Vt(a.mouse(nr)),Rr=vt(nr);ja.call(nr),Wn(hr)}function pr(){var nr,hr=this,Ar=$t.of(hr,arguments),vr={},Lr=0,Rr=".zoom-"+a.event.changedTouches[0].identifier,Ur="touchmove"+Rr,Vr="touchend"+Rr,Gr=[],Xr=a.select(hr),mi=vt(hr);function Di(){var Ti=a.touches(hr);return nr=Ge.k,Ti.forEach(function($r){$r.identifier in vr&&(vr[$r.identifier]=Vt($r))}),Ti}function ya(){var Ti=a.event.target;a.select(Ti).on(Ur,ea).on(Vr,fa),Gr.push(Ti);for(var $r=a.event.changedTouches,Li=0,fi=$r.length;Li<fi;++Li)vr[$r[Li].identifier]=null;var ti=Di(),Ci=Date.now();if(ti.length===1){if(Ci-fe<500){var zi=ti[0];Pn(hr,zi,vr[zi.identifier],Math.floor(Math.log(Ge.k)/Math.LN2)+1),Q()}fe=Ci}else if(ti.length>1){zi=ti[0];var Zi=ti[1],Ns=zi[0]-Zi[0],js=zi[1]-Zi[1];Lr=Ns*Ns+js*js}}function ea(){var Ti,$r,Li,fi,ti=a.touches(hr);ja.call(hr);for(var Ci=0,zi=ti.length;Ci<zi;++Ci,fi=null)if(Li=ti[Ci],fi=vr[Li.identifier]){if($r)break;Ti=Li,$r=fi}if(fi){var Zi=(Zi=Li[0]-Ti[0])*Zi+(Zi=Li[1]-Ti[1])*Zi,Ns=Lr&&Math.sqrt(Zi/Lr);Ti=[(Ti[0]+Li[0])/2,(Ti[1]+Li[1])/2],$r=[($r[0]+fi[0])/2,($r[1]+fi[1])/2],gn(Ns*nr)}fe=null,xn(Ti,$r),ir(Ar)}function fa(){if(a.event.touches.length){for(var Ti=a.event.changedTouches,$r=0,Li=Ti.length;$r<Li;++$r)delete vr[Ti[$r].identifier];for(var fi in vr)return void Di()}a.selectAll(Gr).on(Rr,null),Xr.on(Ct,Xn).on(Dt,pr),mi(),gr(Ar)}ya(),Wn(Ar),Xr.on(Ct,null).on(Dt,ya)}function wr(){var nr=$t.of(this,arguments);re?clearTimeout(re):(ja.call(this),L=Vt(H=ee||a.mouse(this)),Wn(nr)),re=setTimeout(function(){re=null,gr(nr)},50),Q(),gn(Math.pow(2,.002*Fe())*Ge.k),xn(H,L),ir(nr)}function Pr(){var nr=a.mouse(this),hr=Math.log(Ge.k)/Math.LN2;Pn(this,nr,Vt(nr),a.event.shiftKey?Math.ceil(hr)-1:Math.floor(hr)+1)}return Be||(Be="onwheel"in h?(Fe=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in h?(Fe=function(){return a.event.wheelDelta},"mousewheel"):(Fe=function(){return-a.event.detail},"MozMousePixelScroll")),Yt.event=function(nr){nr.each(function(){var hr=$t.of(this,arguments),Ar=Ge;Ni?a.select(this).transition().each("start.zoom",function(){Ge=this.__chart__||{x:0,y:0,k:1},Wn(hr)}).tween("zoom:zoom",function(){var vr=tt[0],Lr=tt[1],Rr=H?H[0]:vr/2,Ur=H?H[1]:Lr/2,Vr=a.interpolateZoom([(Rr-Ge.x)/Ge.k,(Ur-Ge.y)/Ge.k,vr/Ge.k],[(Rr-Ar.x)/Ar.k,(Ur-Ar.y)/Ar.k,vr/Ar.k]);return function(Gr){var Xr=Vr(Gr),mi=vr/Xr[2];this.__chart__=Ge={x:Rr-Xr[0]*mi,y:Ur-Xr[1]*mi,k:mi},ir(hr)}}).each("interrupt.zoom",function(){gr(hr)}).each("end.zoom",function(){gr(hr)}):(this.__chart__=Ge,Wn(hr),ir(hr),gr(hr))})},Yt.translate=function(nr){return arguments.length?(Ge={x:+nr[0],y:+nr[1],k:Ge.k},Rn(),Yt):[Ge.x,Ge.y]},Yt.scale=function(nr){return arguments.length?(Ge={x:Ge.x,y:Ge.y,k:null},gn(+nr),Rn(),Yt):Ge.k},Yt.scaleExtent=function(nr){return arguments.length?(ft=nr==null?ot:[+nr[0],+nr[1]],Yt):ft},Yt.center=function(nr){return arguments.length?(ee=nr&&[+nr[0],+nr[1]],Yt):ee},Yt.size=function(nr){return arguments.length?(tt=nr&&[+nr[0],+nr[1]],Yt):tt},Yt.duration=function(nr){return arguments.length?(dt=+nr,Yt):dt},Yt.x=function(nr){return arguments.length?(Ce=nr,ye=nr.copy(),Ge={x:0,y:0,k:1},Yt):Ce},Yt.y=function(nr){return arguments.length?(Ue=nr,De=nr.copy(),Ge={x:0,y:0,k:1},Yt):Ue},a.rebind(Yt,$t,"on")};var Fe,Be,ot=[0,1/0];function Xe(){}function pt(L,H,ee){return this instanceof pt?(this.h=+L,this.s=+H,void(this.l=+ee)):arguments.length<2?L instanceof pt?new pt(L.h,L.s,L.l):hn(""+L,kn,pt):new pt(L,H,ee)}a.color=Xe,Xe.prototype.toString=function(){return this.rgb()+""},a.hsl=pt;var mt=pt.prototype=new Xe;function yt(L,H,ee){var re,fe;function ye(Ce){return Math.round(255*function(De){return De>360?De-=360:De<0&&(De+=360),De<60?re+(fe-re)*De/60:De<180?fe:De<240?re+(fe-re)*(240-De)/60:re}(Ce))}return L=isNaN(L)?0:(L%=360)<0?L+360:L,H=isNaN(H)||H<0?0:H>1?1:H,re=2*(ee=ee<0?0:ee>1?1:ee)-(fe=ee<=.5?ee*(1+H):ee+H-ee*H),new Mn(ye(L+120),ye(L),ye(L-120))}function ht(L,H,ee){return this instanceof ht?(this.h=+L,this.c=+H,void(this.l=+ee)):arguments.length<2?L instanceof ht?new ht(L.h,L.c,L.l):function(re,fe,ye){return re>0?new ht(Math.atan2(ye,fe)*Ne,Math.sqrt(fe*fe+ye*ye),re):new ht(NaN,NaN,re)}(L instanceof bt?L.l:(L=Ln((L=a.rgb(L)).r,L.g,L.b)).l,L.a,L.b):new ht(L,H,ee)}mt.brighter=function(L){return L=Math.pow(.7,arguments.length?L:1),new pt(this.h,this.s,this.l/L)},mt.darker=function(L){return L=Math.pow(.7,arguments.length?L:1),new pt(this.h,this.s,L*this.l)},mt.rgb=function(){return yt(this.h,this.s,this.l)},a.hcl=ht;var Lt=ht.prototype=new Xe;function Tt(L,H,ee){return isNaN(L)&&(L=0),isNaN(H)&&(H=0),new bt(ee,Math.cos(L*=Ze)*H,Math.sin(L)*H)}function bt(L,H,ee){return this instanceof bt?(this.l=+L,this.a=+H,void(this.b=+ee)):arguments.length<2?L instanceof bt?new bt(L.l,L.a,L.b):L instanceof ht?Tt(L.h,L.c,L.l):Ln((L=Mn(L)).r,L.g,L.b):new bt(L,H,ee)}Lt.brighter=function(L){return new ht(this.h,this.c,Math.min(100,this.l+Pt*(arguments.length?L:1)))},Lt.darker=function(L){return new ht(this.h,this.c,Math.max(0,this.l-Pt*(arguments.length?L:1)))},Lt.rgb=function(){return Tt(this.h,this.c,this.l).rgb()},a.lab=bt;var Pt=18,Ot=.95047,Bt=1,Kt=1.08883,on=bt.prototype=new Xe;function qt(L,H,ee){var re=(L+16)/116,fe=re+H/500,ye=re-ee/200;return new Mn(En(3.2404542*(fe=Wt(fe)*Ot)-1.5371385*(re=Wt(re)*Bt)-.4985314*(ye=Wt(ye)*Kt)),En(-.969266*fe+1.8760108*re+.041556*ye),En(.0556434*fe-.2040259*re+1.0572252*ye))}function Wt(L){return L>.206893034?L*L*L:(L-.13793103448275862)/7.787037}function nn(L){return L>.008856?Math.pow(L,.3333333333333333):7.787037*L+.13793103448275862}function En(L){return Math.round(255*(L<=.00304?12.92*L:1.055*Math.pow(L,.4166666666666667)-.055))}function Mn(L,H,ee){return this instanceof Mn?(this.r=~~L,this.g=~~H,void(this.b=~~ee)):arguments.length<2?L instanceof Mn?new Mn(L.r,L.g,L.b):hn(""+L,Mn,yt):new Mn(L,H,ee)}function dn(L){return new Mn(L>>16,L>>8&255,255&L)}function Jt(L){return dn(L)+""}on.brighter=function(L){return new bt(Math.min(100,this.l+Pt*(arguments.length?L:1)),this.a,this.b)},on.darker=function(L){return new bt(Math.max(0,this.l-Pt*(arguments.length?L:1)),this.a,this.b)},on.rgb=function(){return qt(this.l,this.a,this.b)},a.rgb=Mn;var un=Mn.prototype=new Xe;function rn(L){return L<16?"0"+Math.max(0,L).toString(16):Math.min(255,L).toString(16)}function hn(L,H,ee){var re,fe,ye,Ce=0,De=0,Ue=0;if(re=/([a-z]+)\((.*)\)/.exec(L=L.toLowerCase()))switch(fe=re[2].split(","),re[1]){case"hsl":return ee(parseFloat(fe[0]),parseFloat(fe[1])/100,parseFloat(fe[2])/100);case"rgb":return H(zn(fe[0]),zn(fe[1]),zn(fe[2]))}return(ye=On.get(L))?H(ye.r,ye.g,ye.b):(L==null||L.charAt(0)!=="#"||isNaN(ye=parseInt(L.slice(1),16))||(L.length===4?(Ce=(3840&ye)>>4,Ce|=Ce>>4,De=240&ye,De|=De>>4,Ue=15&ye,Ue|=Ue<<4):L.length===7&&(Ce=(16711680&ye)>>16,De=(65280&ye)>>8,Ue=255&ye)),H(Ce,De,Ue))}function kn(L,H,ee){var re,fe,ye=Math.min(L/=255,H/=255,ee/=255),Ce=Math.max(L,H,ee),De=Ce-ye,Ue=(Ce+ye)/2;return De?(fe=Ue<.5?De/(Ce+ye):De/(2-Ce-ye),re=L==Ce?(H-ee)/De+(H<ee?6:0):H==Ce?(ee-L)/De+2:(L-H)/De+4,re*=60):(re=NaN,fe=Ue>0&&Ue<1?0:re),new pt(re,fe,Ue)}function Ln(L,H,ee){var re=nn((.4124564*(L=Dn(L))+.3575761*(H=Dn(H))+.1804375*(ee=Dn(ee)))/Ot),fe=nn((.2126729*L+.7151522*H+.072175*ee)/Bt);return bt(116*fe-16,500*(re-fe),200*(fe-nn((.0193339*L+.119192*H+.9503041*ee)/Kt)))}function Dn(L){return(L/=255)<=.04045?L/12.92:Math.pow((L+.055)/1.055,2.4)}function zn(L){var H=parseFloat(L);return L.charAt(L.length-1)==="%"?Math.round(2.55*H):H}un.brighter=function(L){L=Math.pow(.7,arguments.length?L:1);var H=this.r,ee=this.g,re=this.b,fe=30;return H||ee||re?(H&&H<fe&&(H=fe),ee&&ee<fe&&(ee=fe),re&&re<fe&&(re=fe),new Mn(Math.min(255,H/L),Math.min(255,ee/L),Math.min(255,re/L))):new Mn(fe,fe,fe)},un.darker=function(L){return new Mn((L=Math.pow(.7,arguments.length?L:1))*this.r,L*this.g,L*this.b)},un.hsl=function(){return kn(this.r,this.g,this.b)},un.toString=function(){return"#"+rn(this.r)+rn(this.g)+rn(this.b)};var On=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Hn(L){return typeof L=="function"?L:function(){return L}}function jn(L){return function(H,ee,re){return arguments.length===2&&typeof ee=="function"&&(re=ee,ee=null),ar(H,ee,L,re)}}function ar(L,H,ee,re){var fe={},ye=a.dispatch("beforesend","progress","load","error"),Ce={},De=new XMLHttpRequest,Ue=null;function Ge(){var tt,ft=De.status;if(!ft&&function(dt){var At=dt.responseType;return At&&At!=="text"?dt.response:dt.responseText}(De)||ft>=200&&ft<300||ft===304){try{tt=ee.call(fe,De)}catch(dt){return void ye.error.call(fe,dt)}ye.load.call(fe,tt)}else ye.error.call(fe,De)}return self.XDomainRequest&&!("withCredentials"in De)&&/^(http(s)?:)?\/\//.test(L)&&(De=new XDomainRequest),"onload"in De?De.onload=De.onerror=Ge:De.onreadystatechange=function(){De.readyState>3&&Ge()},De.onprogress=function(tt){var ft=a.event;a.event=tt;try{ye.progress.call(fe,De)}finally{a.event=ft}},fe.header=function(tt,ft){return tt=(tt+"").toLowerCase(),arguments.length<2?Ce[tt]:(ft==null?delete Ce[tt]:Ce[tt]=ft+"",fe)},fe.mimeType=function(tt){return arguments.length?(H=tt==null?null:tt+"",fe):H},fe.responseType=function(tt){return arguments.length?(Ue=tt,fe):Ue},fe.response=function(tt){return ee=tt,fe},["get","post"].forEach(function(tt){fe[tt]=function(){return fe.send.apply(fe,[tt].concat(b(arguments)))}}),fe.send=function(tt,ft,dt){if(arguments.length===2&&typeof ft=="function"&&(dt=ft,ft=null),De.open(tt,L,!0),H==null||"accept"in Ce||(Ce.accept=H+",*/*"),De.setRequestHeader)for(var At in Ce)De.setRequestHeader(At,Ce[At]);return H!=null&&De.overrideMimeType&&De.overrideMimeType(H),Ue!=null&&(De.responseType=Ue),dt!=null&&fe.on("error",dt).on("load",function(Ct){dt(null,Ct)}),ye.beforesend.call(fe,De),De.send(ft==null?null:ft),fe},fe.abort=function(){return De.abort(),fe},a.rebind(fe,ye,"on"),re==null?fe:fe.get(function(tt){return tt.length===1?function(ft,dt){tt(ft==null?dt:null)}:tt}(re))}On.forEach(function(L,H){On.set(L,dn(H))}),a.functor=Hn,a.xhr=jn(D),a.dsv=function(L,H){var ee=new RegExp('["'+L+`
]`),re=L.charCodeAt(0);function fe(Ge,tt,ft){arguments.length<3&&(ft=tt,tt=null);var dt=ar(Ge,H,tt==null?ye:Ce(tt),ft);return dt.row=function(At){return arguments.length?dt.response((tt=At)==null?ye:Ce(At)):tt},dt}function ye(Ge){return fe.parse(Ge.responseText)}function Ce(Ge){return function(tt){return fe.parse(tt.responseText,Ge)}}function De(Ge){return Ge.map(Ue).join(L)}function Ue(Ge){return ee.test(Ge)?'"'+Ge.replace(/\"/g,'""')+'"':Ge}return fe.parse=function(Ge,tt){var ft;return fe.parseRows(Ge,function(dt,At){if(ft)return ft(dt,At-1);var Ct=function(Et){for(var jt={},Dt=dt.length,$t=0;$t<Dt;++$t)jt[dt[$t]]=Et[$t];return jt};ft=tt?function(Et,jt){return tt(Ct(Et),jt)}:Ct})},fe.parseRows=function(Ge,tt){var ft,dt,At={},Ct={},Et=[],jt=Ge.length,Dt=0,$t=0;function Yt(){if(Dt>=jt)return Ct;if(dt)return dt=!1,At;var gn=Dt;if(Ge.charCodeAt(gn)===34){for(var xn=gn;xn++<jt;)if(Ge.charCodeAt(xn)===34){if(Ge.charCodeAt(xn+1)!==34)break;++xn}return Dt=xn+2,(Pn=Ge.charCodeAt(xn+1))===13?(dt=!0,Ge.charCodeAt(xn+2)===10&&++Dt):Pn===10&&(dt=!0),Ge.slice(gn+1,xn).replace(/""/g,'"')}for(;Dt<jt;){var Pn,Rn=1;if((Pn=Ge.charCodeAt(Dt++))===10)dt=!0;else if(Pn===13)dt=!0,Ge.charCodeAt(Dt)===10&&(++Dt,++Rn);else if(Pn!==re)continue;return Ge.slice(gn,Dt-Rn)}return Ge.slice(gn)}for(;(ft=Yt())!==Ct;){for(var Vt=[];ft!==At&&ft!==Ct;)Vt.push(ft),ft=Yt();tt&&(Vt=tt(Vt,$t++))==null||Et.push(Vt)}return Et},fe.format=function(Ge){if(Array.isArray(Ge[0]))return fe.formatRows(Ge);var tt=new U,ft=[];return Ge.forEach(function(dt){for(var At in dt)tt.has(At)||ft.push(tt.add(At))}),[ft.map(Ue).join(L)].concat(Ge.map(function(dt){return ft.map(function(At){return Ue(dt[At])}).join(L)})).join(`
`)},fe.formatRows=function(Ge){return Ge.map(De).join(`
`)},fe},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("	","text/tab-separated-values");var ur,cr,er,Tr,Ht=this[Z(this,"requestAnimationFrame")]||function(L){setTimeout(L,17)};function an(L,H,ee){var re=arguments.length;re<2&&(H=0),re<3&&(ee=Date.now());var fe={c:L,t:ee+H,n:null};return cr?cr.n=fe:ur=fe,cr=fe,er||(Tr=clearTimeout(Tr),er=1,Ht(_n)),fe}function _n(){var L=vn(),H=Cn()-L;H>24?(isFinite(H)&&(clearTimeout(Tr),Tr=setTimeout(_n,H)),er=0):(er=1,Ht(_n))}function vn(){for(var L=Date.now(),H=ur;H;)L>=H.t&&H.c(L-H.t)&&(H.c=null),H=H.n;return L}function Cn(){for(var L,H=ur,ee=1/0;H;)H.c?(H.t<ee&&(ee=H.t),H=(L=H).n):H=L?L.n=H.n:ur=H.n;return cr=L,ee}function Gn(L){return L[0]}function Fn(L){return L[1]}function Nn(L){for(var H,ee,re,fe=L.length,ye=[0,1],Ce=2,De=2;De<fe;De++){for(;Ce>1&&(H=L[ye[Ce-2]],ee=L[ye[Ce-1]],re=L[De],(ee[0]-H[0])*(re[1]-H[1])-(ee[1]-H[1])*(re[0]-H[0])<=0);)--Ce;ye[Ce++]=De}return ye.slice(0,Ce)}function rr(L,H){return L[0]-H[0]||L[1]-H[1]}a.timer=function(){an.apply(this,arguments)},a.timer.flush=function(){vn(),Cn()},a.round=function(L,H){return H?Math.round(L*(H=Math.pow(10,H)))/H:Math.round(L)},a.geom={},a.geom.hull=function(L){var H=Gn,ee=Fn;if(arguments.length)return re(L);function re(fe){if(fe.length<3)return[];var ye,Ce=Hn(H),De=Hn(ee),Ue=fe.length,Ge=[],tt=[];for(ye=0;ye<Ue;ye++)Ge.push([+Ce.call(this,fe[ye],ye),+De.call(this,fe[ye],ye),ye]);for(Ge.sort(rr),ye=0;ye<Ue;ye++)tt.push([Ge[ye][0],-Ge[ye][1]]);var ft=Nn(Ge),dt=Nn(tt),At=dt[0]===ft[0],Ct=dt[dt.length-1]===ft[ft.length-1],Et=[];for(ye=ft.length-1;ye>=0;--ye)Et.push(fe[Ge[ft[ye]][2]]);for(ye=+At;ye<dt.length-Ct;++ye)Et.push(fe[Ge[dt[ye]][2]]);return Et}return re.x=function(fe){return arguments.length?(H=fe,re):H},re.y=function(fe){return arguments.length?(ee=fe,re):ee},re},a.geom.polygon=function(L){return J(L,Zt),L};var Zt=a.geom.polygon.prototype=[];function mn(L,H,ee){return(ee[0]-H[0])*(L[1]-H[1])<(ee[1]-H[1])*(L[0]-H[0])}function It(L,H,ee,re){var fe=L[0],ye=ee[0],Ce=H[0]-fe,De=re[0]-ye,Ue=L[1],Ge=ee[1],tt=H[1]-Ue,ft=re[1]-Ge,dt=(De*(Ue-Ge)-ft*(fe-ye))/(ft*Ce-De*tt);return[fe+dt*Ce,Ue+dt*tt]}function Xt(L){var H=L[0],ee=L[L.length-1];return!(H[0]-ee[0]||H[1]-ee[1])}Zt.area=function(){for(var L,H=-1,ee=this.length,re=this[ee-1],fe=0;++H<ee;)L=re,re=this[H],fe+=L[1]*re[0]-L[0]*re[1];return .5*fe},Zt.centroid=function(L){var H,ee,re=-1,fe=this.length,ye=0,Ce=0,De=this[fe-1];for(arguments.length||(L=-1/(6*this.area()));++re<fe;)H=De,De=this[re],ee=H[0]*De[1]-De[0]*H[1],ye+=(H[0]+De[0])*ee,Ce+=(H[1]+De[1])*ee;return[ye*L,Ce*L]},Zt.clip=function(L){for(var H,ee,re,fe,ye,Ce,De=Xt(L),Ue=-1,Ge=this.length-Xt(this),tt=this[Ge-1];++Ue<Ge;){for(H=L.slice(),L.length=0,fe=this[Ue],ye=H[(re=H.length-De)-1],ee=-1;++ee<re;)mn(Ce=H[ee],tt,fe)?(mn(ye,tt,fe)||L.push(It(ye,Ce,tt,fe)),L.push(Ce)):mn(ye,tt,fe)&&L.push(It(ye,Ce,tt,fe)),ye=Ce;De&&L.push(L[0]),tt=fe}return L};var tn,bn,yn,Tn,fn,Qt=[],en=[];function ln(){hi(this),this.edge=this.site=this.circle=null}function pn(L){var H=Qt.pop()||new ln;return H.site=L,H}function Sn(L){mr(L),yn.remove(L),Qt.push(L),hi(L)}function In(L){var H=L.circle,ee=H.x,re=H.cy,fe={x:ee,y:re},ye=L.P,Ce=L.N,De=[L];Sn(L);for(var Ue=ye;Ue.circle&&v(ee-Ue.circle.x)<nt&&v(re-Ue.circle.cy)<nt;)ye=Ue.P,De.unshift(Ue),Sn(Ue),Ue=ye;De.unshift(Ue),mr(Ue);for(var Ge=Ce;Ge.circle&&v(ee-Ge.circle.x)<nt&&v(re-Ge.circle.cy)<nt;)Ce=Ge.N,De.push(Ge),Sn(Ge),Ge=Ce;De.push(Ge),mr(Ge);var tt,ft=De.length;for(tt=1;tt<ft;++tt)Ge=De[tt],Ue=De[tt-1],xr(Ge.edge,Ue.site,Ge.site,fe);Ue=De[0],(Ge=De[ft-1]).edge=sr(Ue.site,Ge.site,null,fe),Qn(Ue),Qn(Ge)}function Vn(L){for(var H,ee,re,fe,ye=L.x,Ce=L.y,De=yn._;De;)if((re=qn(De,Ce)-ye)>nt)De=De.L;else{if(!((fe=ye-$n(De,Ce))>nt)){re>-nt?(H=De.P,ee=De):fe>-nt?(H=De,ee=De.N):H=ee=De;break}if(!De.R){H=De;break}De=De.R}var Ue=pn(L);if(yn.insert(H,Ue),H||ee){if(H===ee)return mr(H),ee=pn(H.site),yn.insert(Ue,ee),Ue.edge=ee.edge=sr(H.site,Ue.site),Qn(H),void Qn(ee);if(ee){mr(H),mr(ee);var Ge=H.site,tt=Ge.x,ft=Ge.y,dt=L.x-tt,At=L.y-ft,Ct=ee.site,Et=Ct.x-tt,jt=Ct.y-ft,Dt=2*(dt*jt-At*Et),$t=dt*dt+At*At,Yt=Et*Et+jt*jt,Vt={x:(jt*$t-At*Yt)/Dt+tt,y:(dt*Yt-Et*$t)/Dt+ft};xr(ee.edge,Ge,Ct,Vt),Ue.edge=sr(Ge,L,null,Vt),ee.edge=sr(L,Ct,null,Vt),Qn(H),Qn(ee)}else Ue.edge=sr(H.site,Ue.site)}}function qn(L,H){var ee=L.site,re=ee.x,fe=ee.y,ye=fe-H;if(!ye)return re;var Ce=L.P;if(!Ce)return-1/0;var De=(ee=Ce.site).x,Ue=ee.y,Ge=Ue-H;if(!Ge)return De;var tt=De-re,ft=1/ye-1/Ge,dt=tt/Ge;return ft?(-dt+Math.sqrt(dt*dt-2*ft*(tt*tt/(-2*Ge)-Ue+Ge/2+fe-ye/2)))/ft+re:(re+De)/2}function $n(L,H){var ee=L.N;if(ee)return qn(ee,H);var re=L.site;return re.y===H?re.x:1/0}function Zn(L){this.site=L,this.edges=[]}function or(L,H){return H.angle-L.angle}function tr(){hi(this),this.x=this.y=this.arc=this.site=this.cy=null}function Qn(L){var H=L.P,ee=L.N;if(H&&ee){var re=H.site,fe=L.site,ye=ee.site;if(re!==ye){var Ce=fe.x,De=fe.y,Ue=re.x-Ce,Ge=re.y-De,tt=ye.x-Ce,ft=2*(Ue*(jt=ye.y-De)-Ge*tt);if(!(ft>=-Mt)){var dt=Ue*Ue+Ge*Ge,At=tt*tt+jt*jt,Ct=(jt*dt-Ge*At)/ft,Et=(Ue*At-tt*dt)/ft,jt=Et+De,Dt=en.pop()||new tr;Dt.arc=L,Dt.site=fe,Dt.x=Ct+Ce,Dt.y=jt+Math.sqrt(Ct*Ct+Et*Et),Dt.cy=jt,L.circle=Dt;for(var $t=null,Yt=fn._;Yt;)if(Dt.y<Yt.y||Dt.y===Yt.y&&Dt.x<=Yt.x){if(!Yt.L){$t=Yt.P;break}Yt=Yt.L}else{if(!Yt.R){$t=Yt;break}Yt=Yt.R}fn.insert($t,Dt),$t||(Tn=Dt)}}}}function mr(L){var H=L.circle;H&&(H.P||(Tn=H.N),fn.remove(H),en.push(H),hi(H),L.circle=null)}function fr(L,H){var ee=L.b;if(ee)return!0;var re,fe,ye=L.a,Ce=H[0][0],De=H[1][0],Ue=H[0][1],Ge=H[1][1],tt=L.l,ft=L.r,dt=tt.x,At=tt.y,Ct=ft.x,Et=ft.y,jt=(dt+Ct)/2,Dt=(At+Et)/2;if(Et===At){if(jt<Ce||jt>=De)return;if(dt>Ct){if(ye){if(ye.y>=Ge)return}else ye={x:jt,y:Ue};ee={x:jt,y:Ge}}else{if(ye){if(ye.y<Ue)return}else ye={x:jt,y:Ge};ee={x:jt,y:Ue}}}else if(fe=Dt-(re=(dt-Ct)/(Et-At))*jt,re<-1||re>1)if(dt>Ct){if(ye){if(ye.y>=Ge)return}else ye={x:(Ue-fe)/re,y:Ue};ee={x:(Ge-fe)/re,y:Ge}}else{if(ye){if(ye.y<Ue)return}else ye={x:(Ge-fe)/re,y:Ge};ee={x:(Ue-fe)/re,y:Ue}}else if(At<Et){if(ye){if(ye.x>=De)return}else ye={x:Ce,y:re*Ce+fe};ee={x:De,y:re*De+fe}}else{if(ye){if(ye.x<Ce)return}else ye={x:De,y:re*De+fe};ee={x:Ce,y:re*Ce+fe}}return L.a=ye,L.b=ee,!0}function dr(L,H){this.l=L,this.r=H,this.a=this.b=null}function sr(L,H,ee,re){var fe=new dr(L,H);return tn.push(fe),ee&&xr(fe,L,H,ee),re&&xr(fe,H,L,re),bn[L.i].edges.push(new Sr(fe,L,H)),bn[H.i].edges.push(new Sr(fe,H,L)),fe}function xr(L,H,ee,re){L.a||L.b?L.l===ee?L.b=re:L.a=re:(L.a=re,L.l=H,L.r=ee)}function Sr(L,H,ee){var re=L.a,fe=L.b;this.edge=L,this.site=H,this.angle=ee?Math.atan2(ee.y-H.y,ee.x-H.x):L.l===H?Math.atan2(fe.x-re.x,re.y-fe.y):Math.atan2(re.x-fe.x,fe.y-re.y)}function Br(){this._=null}function hi(L){L.U=L.C=L.L=L.R=L.P=L.N=null}function di(L,H){var ee=H,re=H.R,fe=ee.U;fe?fe.L===ee?fe.L=re:fe.R=re:L._=re,re.U=fe,ee.U=re,ee.R=re.L,ee.R&&(ee.R.U=ee),re.L=ee}function Gi(L,H){var ee=H,re=H.L,fe=ee.U;fe?fe.L===ee?fe.L=re:fe.R=re:L._=re,re.U=fe,ee.U=re,ee.L=re.R,ee.L&&(ee.L.U=ee),re.R=ee}function ui(L){for(;L.L;)L=L.L;return L}function Ri(L,H){var ee,re,fe,ye=L.sort(_a).pop();for(tn=[],bn=new Array(L.length),yn=new Br,fn=new Br;;)if(fe=Tn,ye&&(!fe||ye.y<fe.y||ye.y===fe.y&&ye.x<fe.x))ye.x===ee&&ye.y===re||(bn[ye.i]=new Zn(ye),Vn(ye),ee=ye.x,re=ye.y),ye=L.pop();else{if(!fe)break;In(fe.arc)}H&&(function(De){for(var Ue,Ge,tt,ft,dt,At=tn,Ct=(Ge=De[0][0],tt=De[0][1],ft=De[1][0],dt=De[1][1],function(jt){var Dt,$t=jt.a,Yt=jt.b,Vt=$t.x,gn=$t.y,xn=0,Pn=1,Rn=Yt.x-Vt,Wn=Yt.y-gn;if(Dt=Ge-Vt,Rn||!(Dt>0)){if(Dt/=Rn,Rn<0){if(Dt<xn)return;Dt<Pn&&(Pn=Dt)}else if(Rn>0){if(Dt>Pn)return;Dt>xn&&(xn=Dt)}if(Dt=ft-Vt,Rn||!(Dt<0)){if(Dt/=Rn,Rn<0){if(Dt>Pn)return;Dt>xn&&(xn=Dt)}else if(Rn>0){if(Dt<xn)return;Dt<Pn&&(Pn=Dt)}if(Dt=tt-gn,Wn||!(Dt>0)){if(Dt/=Wn,Wn<0){if(Dt<xn)return;Dt<Pn&&(Pn=Dt)}else if(Wn>0){if(Dt>Pn)return;Dt>xn&&(xn=Dt)}if(Dt=dt-gn,Wn||!(Dt<0)){if(Dt/=Wn,Wn<0){if(Dt>Pn)return;Dt>xn&&(xn=Dt)}else if(Wn>0){if(Dt<xn)return;Dt<Pn&&(Pn=Dt)}return xn>0&&(jt.a={x:Vt+xn*Rn,y:gn+xn*Wn}),Pn<1&&(jt.b={x:Vt+Pn*Rn,y:gn+Pn*Wn}),jt}}}}}),Et=At.length;Et--;)(!fr(Ue=At[Et],De)||!Ct(Ue)||v(Ue.a.x-Ue.b.x)<nt&&v(Ue.a.y-Ue.b.y)<nt)&&(Ue.a=Ue.b=null,At.splice(Et,1))}(H),function(De){for(var Ue,Ge,tt,ft,dt,At,Ct,Et,jt,Dt,$t=De[0][0],Yt=De[1][0],Vt=De[0][1],gn=De[1][1],xn=bn,Pn=xn.length;Pn--;)if((dt=xn[Pn])&&dt.prepare())for(Et=(Ct=dt.edges).length,At=0;At<Et;)tt=(Dt=Ct[At].end()).x,ft=Dt.y,Ue=(jt=Ct[++At%Et].start()).x,Ge=jt.y,(v(tt-Ue)>nt||v(ft-Ge)>nt)&&(Ct.splice(At,0,new Sr((Rn=dt.site,Wn=Dt,ir=v(tt-$t)<nt&&gn-ft>nt?{x:$t,y:v(Ue-$t)<nt?Ge:gn}:v(ft-gn)<nt&&Yt-tt>nt?{x:v(Ge-gn)<nt?Ue:Yt,y:gn}:v(tt-Yt)<nt&&ft-Vt>nt?{x:Yt,y:v(Ue-Yt)<nt?Ge:Vt}:v(ft-Vt)<nt&&tt-$t>nt?{x:v(Ge-Vt)<nt?Ue:$t,y:Vt}:null,gr=void 0,(gr=new dr(Rn,null)).a=Wn,gr.b=ir,tn.push(gr),gr),dt.site,null)),++Et);var Rn,Wn,ir,gr}(H));var Ce={cells:bn,edges:tn};return yn=fn=tn=bn=null,Ce}function _a(L,H){return H.y-L.y||H.x-L.x}Zn.prototype.prepare=function(){for(var L,H=this.edges,ee=H.length;ee--;)(L=H[ee].edge).b&&L.a||H.splice(ee,1);return H.sort(or),H.length},Sr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Br.prototype={insert:function(L,H){var ee,re,fe;if(L){if(H.P=L,H.N=L.N,L.N&&(L.N.P=H),L.N=H,L.R){for(L=L.R;L.L;)L=L.L;L.L=H}else L.R=H;ee=L}else this._?(L=ui(this._),H.P=null,H.N=L,L.P=L.L=H,ee=L):(H.P=H.N=null,this._=H,ee=null);for(H.L=H.R=null,H.U=ee,H.C=!0,L=H;ee&&ee.C;)ee===(re=ee.U).L?(fe=re.R)&&fe.C?(ee.C=fe.C=!1,re.C=!0,L=re):(L===ee.R&&(di(this,ee),ee=(L=ee).U),ee.C=!1,re.C=!0,Gi(this,re)):(fe=re.L)&&fe.C?(ee.C=fe.C=!1,re.C=!0,L=re):(L===ee.L&&(Gi(this,ee),ee=(L=ee).U),ee.C=!1,re.C=!0,di(this,re)),ee=L.U;this._.C=!1},remove:function(L){L.N&&(L.N.P=L.P),L.P&&(L.P.N=L.N),L.N=L.P=null;var H,ee,re,fe=L.U,ye=L.L,Ce=L.R;if(ee=ye?Ce?ui(Ce):ye:Ce,fe?fe.L===L?fe.L=ee:fe.R=ee:this._=ee,ye&&Ce?(re=ee.C,ee.C=L.C,ee.L=ye,ye.U=ee,ee!==Ce?(fe=ee.U,ee.U=L.U,L=ee.R,fe.L=L,ee.R=Ce,Ce.U=ee):(ee.U=fe,fe=ee,L=ee.R)):(re=L.C,L=ee),L&&(L.U=fe),!re)if(L&&L.C)L.C=!1;else{do{if(L===this._)break;if(L===fe.L){if((H=fe.R).C&&(H.C=!1,fe.C=!0,di(this,fe),H=fe.R),H.L&&H.L.C||H.R&&H.R.C){H.R&&H.R.C||(H.L.C=!1,H.C=!0,Gi(this,H),H=fe.R),H.C=fe.C,fe.C=H.R.C=!1,di(this,fe),L=this._;break}}else if((H=fe.L).C&&(H.C=!1,fe.C=!0,Gi(this,fe),H=fe.L),H.L&&H.L.C||H.R&&H.R.C){H.L&&H.L.C||(H.R.C=!1,H.C=!0,di(this,H),H=fe.L),H.C=fe.C,fe.C=H.L.C=!1,Gi(this,fe),L=this._;break}H.C=!0,L=fe,fe=fe.U}while(!L.C);L&&(L.C=!1)}}},a.geom.voronoi=function(L){var H=Gn,ee=Fn,re=H,fe=ee,ye=wa;if(L)return Ce(L);function Ce(Ue){var Ge=new Array(Ue.length),tt=ye[0][0],ft=ye[0][1],dt=ye[1][0],At=ye[1][1];return Ri(De(Ue),ye).cells.forEach(function(Ct,Et){var jt=Ct.edges,Dt=Ct.site;(Ge[Et]=jt.length?jt.map(function($t){var Yt=$t.start();return[Yt.x,Yt.y]}):Dt.x>=tt&&Dt.x<=dt&&Dt.y>=ft&&Dt.y<=At?[[tt,At],[dt,At],[dt,ft],[tt,ft]]:[]).point=Ue[Et]}),Ge}function De(Ue){return Ue.map(function(Ge,tt){return{x:Math.round(re(Ge,tt)/nt)*nt,y:Math.round(fe(Ge,tt)/nt)*nt,i:tt}})}return Ce.links=function(Ue){return Ri(De(Ue)).edges.filter(function(Ge){return Ge.l&&Ge.r}).map(function(Ge){return{source:Ue[Ge.l.i],target:Ue[Ge.r.i]}})},Ce.triangles=function(Ue){var Ge=[];return Ri(De(Ue)).cells.forEach(function(tt,ft){for(var dt,At,Ct,Et,jt=tt.site,Dt=tt.edges.sort(or),$t=-1,Yt=Dt.length,Vt=Dt[Yt-1].edge,gn=Vt.l===jt?Vt.r:Vt.l;++$t<Yt;)dt=gn,gn=(Vt=Dt[$t].edge).l===jt?Vt.r:Vt.l,ft<dt.i&&ft<gn.i&&(Ct=dt,Et=gn,((At=jt).x-Et.x)*(Ct.y-At.y)-(At.x-Ct.x)*(Et.y-At.y)<0)&&Ge.push([Ue[ft],Ue[dt.i],Ue[gn.i]])}),Ge},Ce.x=function(Ue){return arguments.length?(re=Hn(H=Ue),Ce):H},Ce.y=function(Ue){return arguments.length?(fe=Hn(ee=Ue),Ce):ee},Ce.clipExtent=function(Ue){return arguments.length?(ye=Ue==null?wa:Ue,Ce):ye===wa?null:ye},Ce.size=function(Ue){return arguments.length?Ce.clipExtent(Ue&&[[0,0],Ue]):ye===wa?null:ye&&ye[1]},Ce};var wa=[[-1e6,-1e6],[1e6,1e6]];function us(L){return L.x}function bu(L){return L.y}function Gs(L,H,ee,re,fe,ye){if(!L(H,ee,re,fe,ye)){var Ce=.5*(ee+fe),De=.5*(re+ye),Ue=H.nodes;Ue[0]&&Gs(L,Ue[0],ee,re,Ce,De),Ue[1]&&Gs(L,Ue[1],Ce,re,fe,De),Ue[2]&&Gs(L,Ue[2],ee,De,Ce,ye),Ue[3]&&Gs(L,Ue[3],Ce,De,fe,ye)}}function Ws(L,H){L=a.rgb(L),H=a.rgb(H);var ee=L.r,re=L.g,fe=L.b,ye=H.r-ee,Ce=H.g-re,De=H.b-fe;return function(Ue){return"#"+rn(Math.round(ee+ye*Ue))+rn(Math.round(re+Ce*Ue))+rn(Math.round(fe+De*Ue))}}function vl(L,H){var ee,re={},fe={};for(ee in L)ee in H?re[ee]=So(L[ee],H[ee]):fe[ee]=L[ee];for(ee in H)ee in L||(fe[ee]=H[ee]);return function(ye){for(ee in re)fe[ee]=re[ee](ye);return fe}}function Qa(L,H){return L=+L,H=+H,function(ee){return L*(1-ee)+H*ee}}function ml(L,H){var ee,re,fe,ye=yl.lastIndex=xl.lastIndex=0,Ce=-1,De=[],Ue=[];for(L+="",H+="";(ee=yl.exec(L))&&(re=xl.exec(H));)(fe=re.index)>ye&&(fe=H.slice(ye,fe),De[Ce]?De[Ce]+=fe:De[++Ce]=fe),(ee=ee[0])===(re=re[0])?De[Ce]?De[Ce]+=re:De[++Ce]=re:(De[++Ce]=null,Ue.push({i:Ce,x:Qa(ee,re)})),ye=xl.lastIndex;return ye<H.length&&(fe=H.slice(ye),De[Ce]?De[Ce]+=fe:De[++Ce]=fe),De.length<2?Ue[0]?(H=Ue[0].x,function(Ge){return H(Ge)+""}):function(){return H}:(H=Ue.length,function(Ge){for(var tt,ft=0;ft<H;++ft)De[(tt=Ue[ft]).i]=tt.x(Ge);return De.join("")})}a.geom.delaunay=function(L){return a.geom.voronoi().triangles(L)},a.geom.quadtree=function(L,H,ee,re,fe){var ye,Ce=Gn,De=Fn;if(ye=arguments.length)return Ce=us,De=bu,ye===3&&(fe=ee,re=H,ee=H=0),Ue(L);function Ue(Ge){var tt,ft,dt,At,Ct,Et,jt,Dt,$t,Yt=Hn(Ce),Vt=Hn(De);if(H!=null)Et=H,jt=ee,Dt=re,$t=fe;else if(Dt=$t=-(Et=jt=1/0),ft=[],dt=[],Ct=Ge.length,ye)for(At=0;At<Ct;++At)(tt=Ge[At]).x<Et&&(Et=tt.x),tt.y<jt&&(jt=tt.y),tt.x>Dt&&(Dt=tt.x),tt.y>$t&&($t=tt.y),ft.push(tt.x),dt.push(tt.y);else for(At=0;At<Ct;++At){var gn=+Yt(tt=Ge[At],At),xn=+Vt(tt,At);gn<Et&&(Et=gn),xn<jt&&(jt=xn),gn>Dt&&(Dt=gn),xn>$t&&($t=xn),ft.push(gn),dt.push(xn)}var Pn=Dt-Et,Rn=$t-jt;function Wn(Xn,pr,wr,Pr,nr,hr,Ar,vr){if(!isNaN(wr)&&!isNaN(Pr))if(Xn.leaf){var Lr=Xn.x,Rr=Xn.y;if(Lr!=null)if(v(Lr-wr)+v(Rr-Pr)<.01)ir(Xn,pr,wr,Pr,nr,hr,Ar,vr);else{var Ur=Xn.point;Xn.x=Xn.y=Xn.point=null,ir(Xn,Ur,Lr,Rr,nr,hr,Ar,vr),ir(Xn,pr,wr,Pr,nr,hr,Ar,vr)}else Xn.x=wr,Xn.y=Pr,Xn.point=pr}else ir(Xn,pr,wr,Pr,nr,hr,Ar,vr)}function ir(Xn,pr,wr,Pr,nr,hr,Ar,vr){var Lr=.5*(nr+Ar),Rr=.5*(hr+vr),Ur=wr>=Lr,Vr=Pr>=Rr,Gr=Vr<<1|Ur;Xn.leaf=!1,Ur?nr=Lr:Ar=Lr,Vr?hr=Rr:vr=Rr,Wn(Xn=Xn.nodes[Gr]||(Xn.nodes[Gr]={leaf:!0,nodes:[],point:null,x:null,y:null}),pr,wr,Pr,nr,hr,Ar,vr)}Pn>Rn?$t=jt+Pn:Dt=Et+Rn;var gr={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(Xn){Wn(gr,Xn,+Yt(Xn,++At),+Vt(Xn,At),Et,jt,Dt,$t)}};if(gr.visit=function(Xn){Gs(Xn,gr,Et,jt,Dt,$t)},gr.find=function(Xn){return function(pr,wr,Pr,nr,hr,Ar,vr){var Lr,Rr=1/0;return function Ur(Vr,Gr,Xr,mi,Di){if(!(Gr>Ar||Xr>vr||mi<nr||Di<hr)){if(ya=Vr.point){var ya,ea=wr-Vr.x,fa=Pr-Vr.y,Ti=ea*ea+fa*fa;if(Ti<Rr){var $r=Math.sqrt(Rr=Ti);nr=wr-$r,hr=Pr-$r,Ar=wr+$r,vr=Pr+$r,Lr=ya}}for(var Li=Vr.nodes,fi=.5*(Gr+mi),ti=.5*(Xr+Di),Ci=(Pr>=ti)<<1|wr>=fi,zi=Ci+4;Ci<zi;++Ci)if(Vr=Li[3&Ci])switch(3&Ci){case 0:Ur(Vr,Gr,Xr,fi,ti);break;case 1:Ur(Vr,fi,Xr,mi,ti);break;case 2:Ur(Vr,Gr,ti,fi,Di);break;case 3:Ur(Vr,fi,ti,mi,Di)}}}(pr,nr,hr,Ar,vr),Lr}(gr,Xn[0],Xn[1],Et,jt,Dt,$t)},At=-1,H==null){for(;++At<Ct;)Wn(gr,Ge[At],ft[At],dt[At],Et,jt,Dt,$t);--At}else Ge.forEach(gr.add);return ft=dt=Ge=tt=null,gr}return Ue.x=function(Ge){return arguments.length?(Ce=Ge,Ue):Ce},Ue.y=function(Ge){return arguments.length?(De=Ge,Ue):De},Ue.extent=function(Ge){return arguments.length?(Ge==null?H=ee=re=fe=null:(H=+Ge[0][0],ee=+Ge[0][1],re=+Ge[1][0],fe=+Ge[1][1]),Ue):H==null?null:[[H,ee],[re,fe]]},Ue.size=function(Ge){return arguments.length?(Ge==null?H=ee=re=fe=null:(H=ee=0,re=+Ge[0],fe=+Ge[1]),Ue):H==null?null:[re-H,fe-ee]},Ue},a.interpolateRgb=Ws,a.interpolateObject=vl,a.interpolateNumber=Qa,a.interpolateString=ml;var yl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xl=new RegExp(yl.source,"g");function So(L,H){for(var ee,re=a.interpolators.length;--re>=0&&!(ee=a.interpolators[re](L,H)););return ee}function Vo(L,H){var ee,re=[],fe=[],ye=L.length,Ce=H.length,De=Math.min(L.length,H.length);for(ee=0;ee<De;++ee)re.push(So(L[ee],H[ee]));for(;ee<ye;++ee)fe[ee]=L[ee];for(;ee<Ce;++ee)fe[ee]=H[ee];return function(Ue){for(ee=0;ee<De;++ee)fe[ee]=re[ee](Ue);return fe}}a.interpolate=So,a.interpolators=[function(L,H){var ee=typeof H;return(ee==="string"?On.has(H.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(H)?Ws:ml:H instanceof Xe?Ws:Array.isArray(H)?Vo:ee==="object"&&isNaN(H)?vl:Qa)(L,H)}],a.interpolateArray=Vo;var cs=function(){return D},_i=a.map({linear:cs,poly:function(L){return function(H){return Math.pow(H,L)}},quad:function(){return eo},cubic:function(){return Ho},sin:function(){return qo},exp:function(){return Lo},circle:function(){return Go},elastic:function(L,H){var ee;return arguments.length<2&&(H=.45),arguments.length?ee=H/Ft*Math.asin(1/L):(L=1,ee=H/4),function(re){return 1+L*Math.pow(2,-10*re)*Math.sin((re-ee)*Ft/H)}},back:function(L){return L||(L=1.70158),function(H){return H*H*((L+1)*H-L)}},bounce:function(){return vo}}),Ji=a.map({in:D,out:Eo,"in-out":po,"out-in":function(L){return po(Eo(L))}});function Eo(L){return function(H){return 1-L(1-H)}}function po(L){return function(H){return .5*(H<.5?L(2*H):2-L(2-2*H))}}function eo(L){return L*L}function Ho(L){return L*L*L}function go(L){if(L<=0)return 0;if(L>=1)return 1;var H=L*L,ee=H*L;return 4*(L<.5?ee:3*(L-H)+ee-.75)}function qo(L){return 1-Math.cos(L*We)}function Lo(L){return Math.pow(2,10*(L-1))}function Go(L){return 1-Math.sqrt(1-L*L)}function vo(L){return L<.36363636363636365?7.5625*L*L:L<.7272727272727273?7.5625*(L-=.5454545454545454)*L+.75:L<.9090909090909091?7.5625*(L-=.8181818181818182)*L+.9375:7.5625*(L-=.9545454545454546)*L+.984375}function Bl(L,H){return H-=L,function(ee){return Math.round(L+H*ee)}}function bl(L){var H,ee,re,fe=[L.a,L.b],ye=[L.c,L.d],Ce=$l(fe),De=fs(fe,ye),Ue=$l(((H=ye)[0]+=(re=-De)*(ee=fe)[0],H[1]+=re*ee[1],H))||0;fe[0]*ye[1]<ye[0]*fe[1]&&(fe[0]*=-1,fe[1]*=-1,Ce*=-1,De*=-1),this.rotate=(Ce?Math.atan2(fe[1],fe[0]):Math.atan2(-ye[0],ye[1]))*Ne,this.translate=[L.e,L.f],this.scale=[Ce,Ue],this.skew=Ue?Math.atan2(De,Ue)*Ne:0}function fs(L,H){return L[0]*H[0]+L[1]*H[1]}function $l(L){var H=Math.sqrt(fs(L,L));return H&&(L[0]/=H,L[1]/=H),H}a.ease=function(L){var H,ee=L.indexOf("-"),re=ee>=0?L.slice(0,ee):L,fe=ee>=0?L.slice(ee+1):"in";return re=_i.get(re)||cs,fe=Ji.get(fe)||D,H=fe(re.apply(null,w.call(arguments,1))),function(ye){return ye<=0?0:ye>=1?1:H(ye)}},a.interpolateHcl=function(L,H){L=a.hcl(L),H=a.hcl(H);var ee=L.h,re=L.c,fe=L.l,ye=H.h-ee,Ce=H.c-re,De=H.l-fe;return isNaN(Ce)&&(Ce=0,re=isNaN(re)?H.c:re),isNaN(ye)?(ye=0,ee=isNaN(ee)?H.h:ee):ye>180?ye-=360:ye<-180&&(ye+=360),function(Ue){return Tt(ee+ye*Ue,re+Ce*Ue,fe+De*Ue)+""}},a.interpolateHsl=function(L,H){L=a.hsl(L),H=a.hsl(H);var ee=L.h,re=L.s,fe=L.l,ye=H.h-ee,Ce=H.s-re,De=H.l-fe;return isNaN(Ce)&&(Ce=0,re=isNaN(re)?H.s:re),isNaN(ye)?(ye=0,ee=isNaN(ee)?H.h:ee):ye>180?ye-=360:ye<-180&&(ye+=360),function(Ue){return yt(ee+ye*Ue,re+Ce*Ue,fe+De*Ue)+""}},a.interpolateLab=function(L,H){L=a.lab(L),H=a.lab(H);var ee=L.l,re=L.a,fe=L.b,ye=H.l-ee,Ce=H.a-re,De=H.b-fe;return function(Ue){return qt(ee+ye*Ue,re+Ce*Ue,fe+De*Ue)+""}},a.interpolateRound=Bl,a.transform=function(L){var H=h.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(ee){if(ee!=null){H.setAttribute("transform",ee);var re=H.transform.baseVal.consolidate()}return new bl(re?re.matrix:Ql)})(L)},bl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Ql={a:1,b:0,c:0,d:1,e:0,f:0};function hs(L){return L.length?L.pop()+",":""}function eu(L,H){var ee=[],re=[];return L=a.transform(L),H=a.transform(H),function(fe,ye,Ce,De){if(fe[0]!==ye[0]||fe[1]!==ye[1]){var Ue=Ce.push("translate(",null,",",null,")");De.push({i:Ue-4,x:Qa(fe[0],ye[0])},{i:Ue-2,x:Qa(fe[1],ye[1])})}else(ye[0]||ye[1])&&Ce.push("translate("+ye+")")}(L.translate,H.translate,ee,re),function(fe,ye,Ce,De){fe!==ye?(fe-ye>180?ye+=360:ye-fe>180&&(fe+=360),De.push({i:Ce.push(hs(Ce)+"rotate(",null,")")-2,x:Qa(fe,ye)})):ye&&Ce.push(hs(Ce)+"rotate("+ye+")")}(L.rotate,H.rotate,ee,re),function(fe,ye,Ce,De){fe!==ye?De.push({i:Ce.push(hs(Ce)+"skewX(",null,")")-2,x:Qa(fe,ye)}):ye&&Ce.push(hs(Ce)+"skewX("+ye+")")}(L.skew,H.skew,ee,re),function(fe,ye,Ce,De){if(fe[0]!==ye[0]||fe[1]!==ye[1]){var Ue=Ce.push(hs(Ce)+"scale(",null,",",null,")");De.push({i:Ue-4,x:Qa(fe[0],ye[0])},{i:Ue-2,x:Qa(fe[1],ye[1])})}else ye[0]===1&&ye[1]===1||Ce.push(hs(Ce)+"scale("+ye+")")}(L.scale,H.scale,ee,re),L=H=null,function(fe){for(var ye,Ce=-1,De=re.length;++Ce<De;)ee[(ye=re[Ce]).i]=ye.x(fe);return ee.join("")}}function _u(L,H){return H=(H-=L=+L)||1/H,function(ee){return(ee-L)/H}}function wu(L,H){return H=(H-=L=+L)||1/H,function(ee){return Math.max(0,Math.min(1,(ee-L)/H))}}function ps(L){for(var H=L.source,ee=L.target,re=function(Ce,De){if(Ce===De)return Ce;for(var Ue=mo(Ce),Ge=mo(De),tt=Ue.pop(),ft=Ge.pop(),dt=null;tt===ft;)dt=tt,tt=Ue.pop(),ft=Ge.pop();return dt}(H,ee),fe=[H];H!==re;)H=H.parent,fe.push(H);for(var ye=fe.length;ee!==re;)fe.splice(ye,0,ee),ee=ee.parent;return fe}function mo(L){for(var H=[],ee=L.parent;ee!=null;)H.push(L),L=ee,ee=ee.parent;return H.push(L),H}function Ss(L){L.fixed|=2}function ds(L){L.fixed&=-7}function Ys(L){L.fixed|=4,L.px=L.x,L.py=L.y}function gs(L){L.fixed&=-5}function to(L,H,ee){var re=0,fe=0;if(L.charge=0,!L.leaf)for(var ye,Ce=L.nodes,De=Ce.length,Ue=-1;++Ue<De;)(ye=Ce[Ue])!=null&&(to(ye,H,ee),L.charge+=ye.charge,re+=ye.charge*ye.cx,fe+=ye.charge*ye.cy);if(L.point){L.leaf||(L.point.x+=Math.random()-.5,L.point.y+=Math.random()-.5);var Ge=H*ee[L.point.index];L.charge+=L.pointCharge=Ge,re+=Ge*L.point.x,fe+=Ge*L.point.y}L.cx=re/L.charge,L.cy=fe/L.charge}a.interpolateTransform=eu,a.layout={},a.layout.bundle=function(){return function(L){for(var H=[],ee=-1,re=L.length;++ee<re;)H.push(ps(L[ee]));return H}},a.layout.chord=function(){var L,H,ee,re,fe,ye,Ce,De={},Ue=0;function Ge(){var ft,dt,At,Ct,Et,jt={},Dt=[],$t=a.range(re),Yt=[];for(L=[],H=[],ft=0,Ct=-1;++Ct<re;){for(dt=0,Et=-1;++Et<re;)dt+=ee[Ct][Et];Dt.push(dt),Yt.push(a.range(re)),ft+=dt}for(fe&&$t.sort(function(gr,Xn){return fe(Dt[gr],Dt[Xn])}),ye&&Yt.forEach(function(gr,Xn){gr.sort(function(pr,wr){return ye(ee[Xn][pr],ee[Xn][wr])})}),ft=(Ft-Ue*re)/ft,dt=0,Ct=-1;++Ct<re;){for(At=dt,Et=-1;++Et<re;){var Vt=$t[Ct],gn=Yt[Vt][Et],xn=ee[Vt][gn],Pn=dt,Rn=dt+=xn*ft;jt[Vt+"-"+gn]={index:Vt,subindex:gn,startAngle:Pn,endAngle:Rn,value:xn}}H[Vt]={index:Vt,startAngle:At,endAngle:dt,value:Dt[Vt]},dt+=Ue}for(Ct=-1;++Ct<re;)for(Et=Ct-1;++Et<re;){var Wn=jt[Ct+"-"+Et],ir=jt[Et+"-"+Ct];(Wn.value||ir.value)&&L.push(Wn.value<ir.value?{source:ir,target:Wn}:{source:Wn,target:ir})}Ce&&tt()}function tt(){L.sort(function(ft,dt){return Ce((ft.source.value+ft.target.value)/2,(dt.source.value+dt.target.value)/2)})}return De.matrix=function(ft){return arguments.length?(re=(ee=ft)&&ee.length,L=H=null,De):ee},De.padding=function(ft){return arguments.length?(Ue=ft,L=H=null,De):Ue},De.sortGroups=function(ft){return arguments.length?(fe=ft,L=H=null,De):fe},De.sortSubgroups=function(ft){return arguments.length?(ye=ft,L=null,De):ye},De.sortChords=function(ft){return arguments.length?(Ce=ft,L&&tt(),De):Ce},De.chords=function(){return L||Ge(),L},De.groups=function(){return H||Ge(),H},De},a.layout.force=function(){var L,H,ee,re,fe,ye,Ce={},De=a.dispatch("start","tick","end"),Ue=[1,1],Ge=.9,tt=Nl,ft=Wo,dt=-30,At=Co,Ct=.1,Et=.64,jt=[],Dt=[];function $t(Vt){return function(gn,xn,Pn,Rn){if(gn.point!==Vt){var Wn=gn.cx-Vt.x,ir=gn.cy-Vt.y,gr=Rn-xn,Xn=Wn*Wn+ir*ir;if(gr*gr/Et<Xn){if(Xn<At){var pr=gn.charge/Xn;Vt.px-=Wn*pr,Vt.py-=ir*pr}return!0}gn.point&&Xn&&Xn<At&&(pr=gn.pointCharge/Xn,Vt.px-=Wn*pr,Vt.py-=ir*pr)}return!gn.charge}}function Yt(Vt){Vt.px=a.event.x,Vt.py=a.event.y,Ce.resume()}return Ce.tick=function(){if((ee*=.99)<.005)return L=null,De.end({type:"end",alpha:ee=0}),!0;var Vt,gn,xn,Pn,Rn,Wn,ir,gr,Xn,pr=jt.length,wr=Dt.length;for(gn=0;gn<wr;++gn)Pn=(xn=Dt[gn]).source,(Wn=(gr=(Rn=xn.target).x-Pn.x)*gr+(Xn=Rn.y-Pn.y)*Xn)&&(gr*=Wn=ee*fe[gn]*((Wn=Math.sqrt(Wn))-re[gn])/Wn,Xn*=Wn,Rn.x-=gr*(ir=Pn.weight+Rn.weight?Pn.weight/(Pn.weight+Rn.weight):.5),Rn.y-=Xn*ir,Pn.x+=gr*(ir=1-ir),Pn.y+=Xn*ir);if((ir=ee*Ct)&&(gr=Ue[0]/2,Xn=Ue[1]/2,gn=-1,ir))for(;++gn<pr;)(xn=jt[gn]).x+=(gr-xn.x)*ir,xn.y+=(Xn-xn.y)*ir;if(dt)for(to(Vt=a.geom.quadtree(jt),ee,ye),gn=-1;++gn<pr;)(xn=jt[gn]).fixed||Vt.visit($t(xn));for(gn=-1;++gn<pr;)(xn=jt[gn]).fixed?(xn.x=xn.px,xn.y=xn.py):(xn.x-=(xn.px-(xn.px=xn.x))*Ge,xn.y-=(xn.py-(xn.py=xn.y))*Ge);De.tick({type:"tick",alpha:ee})},Ce.nodes=function(Vt){return arguments.length?(jt=Vt,Ce):jt},Ce.links=function(Vt){return arguments.length?(Dt=Vt,Ce):Dt},Ce.size=function(Vt){return arguments.length?(Ue=Vt,Ce):Ue},Ce.linkDistance=function(Vt){return arguments.length?(tt=typeof Vt=="function"?Vt:+Vt,Ce):tt},Ce.distance=Ce.linkDistance,Ce.linkStrength=function(Vt){return arguments.length?(ft=typeof Vt=="function"?Vt:+Vt,Ce):ft},Ce.friction=function(Vt){return arguments.length?(Ge=+Vt,Ce):Ge},Ce.charge=function(Vt){return arguments.length?(dt=typeof Vt=="function"?Vt:+Vt,Ce):dt},Ce.chargeDistance=function(Vt){return arguments.length?(At=Vt*Vt,Ce):Math.sqrt(At)},Ce.gravity=function(Vt){return arguments.length?(Ct=+Vt,Ce):Ct},Ce.theta=function(Vt){return arguments.length?(Et=Vt*Vt,Ce):Math.sqrt(Et)},Ce.alpha=function(Vt){return arguments.length?(Vt=+Vt,ee?Vt>0?ee=Vt:(L.c=null,L.t=NaN,L=null,De.end({type:"end",alpha:ee=0})):Vt>0&&(De.start({type:"start",alpha:ee=Vt}),L=an(Ce.tick)),Ce):ee},Ce.start=function(){var Vt,gn,xn,Pn=jt.length,Rn=Dt.length,Wn=Ue[0],ir=Ue[1];for(Vt=0;Vt<Pn;++Vt)(xn=jt[Vt]).index=Vt,xn.weight=0;for(Vt=0;Vt<Rn;++Vt)typeof(xn=Dt[Vt]).source=="number"&&(xn.source=jt[xn.source]),typeof xn.target=="number"&&(xn.target=jt[xn.target]),++xn.source.weight,++xn.target.weight;for(Vt=0;Vt<Pn;++Vt)xn=jt[Vt],isNaN(xn.x)&&(xn.x=gr("x",Wn)),isNaN(xn.y)&&(xn.y=gr("y",ir)),isNaN(xn.px)&&(xn.px=xn.x),isNaN(xn.py)&&(xn.py=xn.y);if(re=[],typeof tt=="function")for(Vt=0;Vt<Rn;++Vt)re[Vt]=+tt.call(this,Dt[Vt],Vt);else for(Vt=0;Vt<Rn;++Vt)re[Vt]=tt;if(fe=[],typeof ft=="function")for(Vt=0;Vt<Rn;++Vt)fe[Vt]=+ft.call(this,Dt[Vt],Vt);else for(Vt=0;Vt<Rn;++Vt)fe[Vt]=ft;if(ye=[],typeof dt=="function")for(Vt=0;Vt<Pn;++Vt)ye[Vt]=+dt.call(this,jt[Vt],Vt);else for(Vt=0;Vt<Pn;++Vt)ye[Vt]=dt;function gr(Xn,pr){if(!gn){for(gn=new Array(Pn),hr=0;hr<Pn;++hr)gn[hr]=[];for(hr=0;hr<Rn;++hr){var wr=Dt[hr];gn[wr.source.index].push(wr.target),gn[wr.target.index].push(wr.source)}}for(var Pr,nr=gn[Vt],hr=-1,Ar=nr.length;++hr<Ar;)if(!isNaN(Pr=nr[hr][Xn]))return Pr;return Math.random()*pr}return Ce.resume()},Ce.resume=function(){return Ce.alpha(.1)},Ce.stop=function(){return Ce.alpha(0)},Ce.drag=function(){if(H||(H=a.behavior.drag().origin(D).on("dragstart.force",Ss).on("drag.force",Yt).on("dragend.force",ds)),!arguments.length)return H;this.on("mouseover.force",Ys).on("mouseout.force",gs).call(H)},a.rebind(Ce,De,"on")};var Nl=20,Wo=1,Co=1/0;function Po(L,H){return a.rebind(L,H,"sort","children","value"),L.nodes=L,L.links=Ls,L}function Yo(L,H){for(var ee=[L];(L=ee.pop())!=null;)if(H(L),(fe=L.children)&&(re=fe.length))for(var re,fe;--re>=0;)ee.push(fe[re])}function Wr(L,H){for(var ee=[L],re=[];(L=ee.pop())!=null;)if(re.push(L),(ye=L.children)&&(fe=ye.length))for(var fe,ye,Ce=-1;++Ce<fe;)ee.push(ye[Ce]);for(;(L=re.pop())!=null;)H(L)}function Es(L){return L.children}function Tu(L){return L.value}function _l(L,H){return H.value-L.value}function Ls(L){return a.merge(L.map(function(H){return(H.children||[]).map(function(ee){return{source:H,target:ee}})}))}a.layout.hierarchy=function(){var L=_l,H=Es,ee=Tu;function re(fe){var ye,Ce=[fe],De=[];for(fe.depth=0;(ye=Ce.pop())!=null;)if(De.push(ye),(Ge=H.call(re,ye,ye.depth))&&(Ue=Ge.length)){for(var Ue,Ge,tt;--Ue>=0;)Ce.push(tt=Ge[Ue]),tt.parent=ye,tt.depth=ye.depth+1;ee&&(ye.value=0),ye.children=Ge}else ee&&(ye.value=+ee.call(re,ye,ye.depth)||0),delete ye.children;return Wr(fe,function(ft){var dt,At;L&&(dt=ft.children)&&dt.sort(L),ee&&(At=ft.parent)&&(At.value+=ft.value)}),De}return re.sort=function(fe){return arguments.length?(L=fe,re):L},re.children=function(fe){return arguments.length?(H=fe,re):H},re.value=function(fe){return arguments.length?(ee=fe,re):ee},re.revalue=function(fe){return ee&&(Yo(fe,function(ye){ye.children&&(ye.value=0)}),Wr(fe,function(ye){var Ce;ye.children||(ye.value=+ee.call(re,ye,ye.depth)||0),(Ce=ye.parent)&&(Ce.value+=ye.value)})),fe},re},a.layout.partition=function(){var L=a.layout.hierarchy(),H=[1,1];function ee(ye,Ce,De,Ue){var Ge=ye.children;if(ye.x=Ce,ye.y=ye.depth*Ue,ye.dx=De,ye.dy=Ue,Ge&&(tt=Ge.length)){var tt,ft,dt,At=-1;for(De=ye.value?De/ye.value:0;++At<tt;)ee(ft=Ge[At],Ce,dt=ft.value*De,Ue),Ce+=dt}}function re(ye){var Ce=ye.children,De=0;if(Ce&&(Ue=Ce.length))for(var Ue,Ge=-1;++Ge<Ue;)De=Math.max(De,re(Ce[Ge]));return 1+De}function fe(ye,Ce){var De=L.call(this,ye,Ce);return ee(De[0],0,H[0],H[1]/re(De[0])),De}return fe.size=function(ye){return arguments.length?(H=ye,fe):H},Po(fe,L)},a.layout.pie=function(){var L=Number,H=tu,ee=0,re=Ft,fe=0;function ye(Ce){var De,Ue=Ce.length,Ge=Ce.map(function($t,Yt){return+L.call(ye,$t,Yt)}),tt=+(typeof ee=="function"?ee.apply(this,arguments):ee),ft=(typeof re=="function"?re.apply(this,arguments):re)-tt,dt=Math.min(Math.abs(ft)/Ue,+(typeof fe=="function"?fe.apply(this,arguments):fe)),At=dt*(ft<0?-1:1),Ct=a.sum(Ge),Et=Ct?(ft-Ue*At)/Ct:0,jt=a.range(Ue),Dt=[];return H!=null&&jt.sort(H===tu?function($t,Yt){return Ge[Yt]-Ge[$t]}:function($t,Yt){return H(Ce[$t],Ce[Yt])}),jt.forEach(function($t){Dt[$t]={data:Ce[$t],value:De=Ge[$t],startAngle:tt,endAngle:tt+=De*Et+At,padAngle:dt}}),Dt}return ye.value=function(Ce){return arguments.length?(L=Ce,ye):L},ye.sort=function(Ce){return arguments.length?(H=Ce,ye):H},ye.startAngle=function(Ce){return arguments.length?(ee=Ce,ye):ee},ye.endAngle=function(Ce){return arguments.length?(re=Ce,ye):re},ye.padAngle=function(Ce){return arguments.length?(fe=Ce,ye):fe},ye};var tu={};function ku(L){return L.x}function wl(L){return L.y}function Au(L,H,ee){L.y0=H,L.y=ee}a.layout.stack=function(){var L=D,H=Oo,ee=no,re=Au,fe=ku,ye=wl;function Ce(De,Ue){if(!(dt=De.length))return De;var Ge=De.map(function($t,Yt){return L.call(Ce,$t,Yt)}),tt=Ge.map(function($t){return $t.map(function(Yt,Vt){return[fe.call(Ce,Yt,Vt),ye.call(Ce,Yt,Vt)]})}),ft=H.call(Ce,tt,Ue);Ge=a.permute(Ge,ft),tt=a.permute(tt,ft);var dt,At,Ct,Et,jt=ee.call(Ce,tt,Ue),Dt=Ge[0].length;for(Ct=0;Ct<Dt;++Ct)for(re.call(Ce,Ge[0][Ct],Et=jt[Ct],tt[0][Ct][1]),At=1;At<dt;++At)re.call(Ce,Ge[At][Ct],Et+=tt[At-1][Ct][1],tt[At][Ct][1]);return De}return Ce.values=function(De){return arguments.length?(L=De,Ce):L},Ce.order=function(De){return arguments.length?(H=typeof De=="function"?De:Zo.get(De)||Oo,Ce):H},Ce.offset=function(De){return arguments.length?(ee=typeof De=="function"?De:vs.get(De)||no,Ce):ee},Ce.x=function(De){return arguments.length?(fe=De,Ce):fe},Ce.y=function(De){return arguments.length?(ye=De,Ce):ye},Ce.out=function(De){return arguments.length?(re=De,Ce):re},Ce};var Zo=a.map({"inside-out":function(L){var H,ee,re=L.length,fe=L.map(Cs),ye=L.map(nu),Ce=a.range(re).sort(function(ft,dt){return fe[ft]-fe[dt]}),De=0,Ue=0,Ge=[],tt=[];for(H=0;H<re;++H)ee=Ce[H],De<Ue?(De+=ye[ee],Ge.push(ee)):(Ue+=ye[ee],tt.push(ee));return tt.reverse().concat(Ge)},reverse:function(L){return a.range(L.length).reverse()},default:Oo}),vs=a.map({silhouette:function(L){var H,ee,re,fe=L.length,ye=L[0].length,Ce=[],De=0,Ue=[];for(ee=0;ee<ye;++ee){for(H=0,re=0;H<fe;H++)re+=L[H][ee][1];re>De&&(De=re),Ce.push(re)}for(ee=0;ee<ye;++ee)Ue[ee]=(De-Ce[ee])/2;return Ue},wiggle:function(L){var H,ee,re,fe,ye,Ce,De,Ue,Ge,tt=L.length,ft=L[0],dt=ft.length,At=[];for(At[0]=Ue=Ge=0,ee=1;ee<dt;++ee){for(H=0,fe=0;H<tt;++H)fe+=L[H][ee][1];for(H=0,ye=0,De=ft[ee][0]-ft[ee-1][0];H<tt;++H){for(re=0,Ce=(L[H][ee][1]-L[H][ee-1][1])/(2*De);re<H;++re)Ce+=(L[re][ee][1]-L[re][ee-1][1])/De;ye+=Ce*L[H][ee][1]}At[ee]=Ue-=fe?ye/fe*De:0,Ue<Ge&&(Ge=Ue)}for(ee=0;ee<dt;++ee)At[ee]-=Ge;return At},expand:function(L){var H,ee,re,fe=L.length,ye=L[0].length,Ce=1/fe,De=[];for(ee=0;ee<ye;++ee){for(H=0,re=0;H<fe;H++)re+=L[H][ee][1];if(re)for(H=0;H<fe;H++)L[H][ee][1]/=re;else for(H=0;H<fe;H++)L[H][ee][1]=Ce}for(ee=0;ee<ye;++ee)De[ee]=0;return De},zero:no});function Oo(L){return a.range(L.length)}function no(L){for(var H=-1,ee=L[0].length,re=[];++H<ee;)re[H]=0;return re}function Cs(L){for(var H,ee=1,re=0,fe=L[0][1],ye=L.length;ee<ye;++ee)(H=L[ee][1])>fe&&(re=ee,fe=H);return re}function nu(L){return L.reduce(Zs,0)}function Zs(L,H){return L+H[1]}function Tl(L,H){return Ba(L,Math.ceil(Math.log(H.length)/Math.LN2+1))}function Ba(L,H){for(var ee=-1,re=+L[0],fe=(L[1]-re)/H,ye=[];++ee<=H;)ye[ee]=fe*ee+re;return ye}function kl(L){return[a.min(L),a.max(L)]}function ru(L,H){return L.value-H.value}function Ps(L,H){var ee=L._pack_next;L._pack_next=H,H._pack_prev=L,H._pack_next=ee,ee._pack_prev=H}function ms(L,H){L._pack_next=H,H._pack_prev=L}function Os(L,H){var ee=H.x-L.x,re=H.y-L.y,fe=L.r+H.r;return .999*fe*fe>ee*ee+re*re}function ys(L){if((H=L.children)&&(Ue=H.length)){var H,ee,re,fe,ye,Ce,De,Ue,Ge=1/0,tt=-1/0,ft=1/0,dt=-1/0;if(H.forEach(xs),(ee=H[0]).x=-ee.r,ee.y=0,Yt(ee),Ue>1&&((re=H[1]).x=re.r,re.y=0,Yt(re),Ue>2))for(oi(ee,re,fe=H[2]),Yt(fe),Ps(ee,fe),ee._pack_prev=fe,Ps(fe,re),re=ee._pack_next,ye=3;ye<Ue;ye++){oi(ee,re,fe=H[ye]);var At=0,Ct=1,Et=1;for(Ce=re._pack_next;Ce!==re;Ce=Ce._pack_next,Ct++)if(Os(Ce,fe)){At=1;break}if(At==1)for(De=ee._pack_prev;De!==Ce._pack_prev&&!Os(De,fe);De=De._pack_prev,Et++);At?(Ct<Et||Ct==Et&&re.r<ee.r?ms(ee,re=Ce):ms(ee=De,re),ye--):(Ps(ee,fe),re=fe,Yt(fe))}var jt=(Ge+tt)/2,Dt=(ft+dt)/2,$t=0;for(ye=0;ye<Ue;ye++)(fe=H[ye]).x-=jt,fe.y-=Dt,$t=Math.max($t,fe.r+Math.sqrt(fe.x*fe.x+fe.y*fe.y));L.r=$t,H.forEach(Xs)}function Yt(Vt){Ge=Math.min(Vt.x-Vt.r,Ge),tt=Math.max(Vt.x+Vt.r,tt),ft=Math.min(Vt.y-Vt.r,ft),dt=Math.max(Vt.y+Vt.r,dt)}}function xs(L){L._pack_next=L._pack_prev=L}function Xs(L){delete L._pack_next,delete L._pack_prev}function Al(L,H,ee,re){var fe=L.children;if(L.x=H+=re*L.x,L.y=ee+=re*L.y,L.r*=re,fe)for(var ye=-1,Ce=fe.length;++ye<Ce;)Al(fe[ye],H,ee,re)}function oi(L,H,ee){var re=L.r+ee.r,fe=H.x-L.x,ye=H.y-L.y;if(re&&(fe||ye)){var Ce=H.r+ee.r,De=fe*fe+ye*ye,Ue=.5+((re*=re)-(Ce*=Ce))/(2*De),Ge=Math.sqrt(Math.max(0,2*Ce*(re+De)-(re-=De)*re-Ce*Ce))/(2*De);ee.x=L.x+Ue*fe+Ge*ye,ee.y=L.y+Ue*ye-Ge*fe}else ee.x=L.x+re,ee.y=L.y}function Xo(L,H){return L.parent==H.parent?1:2}function ca(L){var H=L.children;return H.length?H[0]:L.t}function ro(L){var H,ee=L.children;return(H=ee.length)?ee[H-1]:L.t}function Qr(L,H,ee){var re=ee/(H.i-L.i);H.c-=re,H.s+=ee,L.c+=re,H.z+=ee,H.m+=ee}function ai(L,H,ee){return L.a.parent===H.parent?L.a:ee}function Na(L){var H=L.children;return H&&H.length?Na(H[0]):L}function Is(L){var H,ee=L.children;return ee&&(H=ee.length)?Is(ee[H-1]):L}function Ks(L){return{x:L.x,y:L.y,dx:L.dx,dy:L.dy}}function Ml(L,H){var ee=L.x+H[3],re=L.y+H[0],fe=L.dx-H[1]-H[3],ye=L.dy-H[0]-H[2];return fe<0&&(ee+=fe/2,fe=0),ye<0&&(re+=ye/2,ye=0),{x:ee,y:re,dx:fe,dy:ye}}function Js(L){var H=L[0],ee=L[L.length-1];return H<ee?[H,ee]:[ee,H]}function $s(L){return L.rangeExtent?L.rangeExtent():Js(L.range())}function qa(L,H,ee,re){var fe=ee(L[0],L[1]),ye=re(H[0],H[1]);return function(Ce){return ye(fe(Ce))}}function Ko(L,H){var ee,re=0,fe=L.length-1,ye=L[re],Ce=L[fe];return Ce<ye&&(ee=re,re=fe,fe=ee,ee=ye,ye=Ce,Ce=ee),L[re]=H.floor(ye),L[fe]=H.ceil(Ce),L}function Jo(L){return L?{floor:function(H){return Math.floor(H/L)*L},ceil:function(H){return Math.ceil(H/L)*L}}:va}a.layout.histogram=function(){var L=!0,H=Number,ee=kl,re=Tl;function fe(ye,Ce){for(var De,Ue,Ge=[],tt=ye.map(H,this),ft=ee.call(this,tt,Ce),dt=re.call(this,ft,tt,Ce),At=(Ce=-1,tt.length),Ct=dt.length-1,Et=L?1:1/At;++Ce<Ct;)(De=Ge[Ce]=[]).dx=dt[Ce+1]-(De.x=dt[Ce]),De.y=0;if(Ct>0)for(Ce=-1;++Ce<At;)(Ue=tt[Ce])>=ft[0]&&Ue<=ft[1]&&((De=Ge[a.bisect(dt,Ue,1,Ct)-1]).y+=Et,De.push(ye[Ce]));return Ge}return fe.value=function(ye){return arguments.length?(H=ye,fe):H},fe.range=function(ye){return arguments.length?(ee=Hn(ye),fe):ee},fe.bins=function(ye){return arguments.length?(re=typeof ye=="number"?function(Ce){return Ba(Ce,ye)}:Hn(ye),fe):re},fe.frequency=function(ye){return arguments.length?(L=!!ye,fe):L},fe},a.layout.pack=function(){var L,H=a.layout.hierarchy().sort(ru),ee=0,re=[1,1];function fe(ye,Ce){var De=H.call(this,ye,Ce),Ue=De[0],Ge=re[0],tt=re[1],ft=L==null?Math.sqrt:typeof L=="function"?L:function(){return L};if(Ue.x=Ue.y=0,Wr(Ue,function(At){At.r=+ft(At.value)}),Wr(Ue,ys),ee){var dt=ee*(L?1:Math.max(2*Ue.r/Ge,2*Ue.r/tt))/2;Wr(Ue,function(At){At.r+=dt}),Wr(Ue,ys),Wr(Ue,function(At){At.r-=dt})}return Al(Ue,Ge/2,tt/2,L?1:1/Math.max(2*Ue.r/Ge,2*Ue.r/tt)),De}return fe.size=function(ye){return arguments.length?(re=ye,fe):re},fe.radius=function(ye){return arguments.length?(L=ye==null||typeof ye=="function"?ye:+ye,fe):L},fe.padding=function(ye){return arguments.length?(ee=+ye,fe):ee},Po(fe,H)},a.layout.tree=function(){var L=a.layout.hierarchy().sort(null).value(null),H=Xo,ee=[1,1],re=null;function fe(Ue,Ge){var tt=L.call(this,Ue,Ge),ft=tt[0],dt=function(Yt){for(var Vt,gn={A:null,children:[Yt]},xn=[gn];(Vt=xn.pop())!=null;)for(var Pn,Rn=Vt.children,Wn=0,ir=Rn.length;Wn<ir;++Wn)xn.push((Rn[Wn]=Pn={_:Rn[Wn],parent:Vt,children:(Pn=Rn[Wn].children)&&Pn.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Wn}).a=Pn);return gn.children[0]}(ft);if(Wr(dt,ye),dt.parent.m=-dt.z,Yo(dt,Ce),re)Yo(ft,De);else{var At=ft,Ct=ft,Et=ft;Yo(ft,function(Yt){Yt.x<At.x&&(At=Yt),Yt.x>Ct.x&&(Ct=Yt),Yt.depth>Et.depth&&(Et=Yt)});var jt=H(At,Ct)/2-At.x,Dt=ee[0]/(Ct.x+H(Ct,At)/2+jt),$t=ee[1]/(Et.depth||1);Yo(ft,function(Yt){Yt.x=(Yt.x+jt)*Dt,Yt.y=Yt.depth*$t})}return tt}function ye(Ue){var Ge=Ue.children,tt=Ue.parent.children,ft=Ue.i?tt[Ue.i-1]:null;if(Ge.length){(function(At){for(var Ct,Et=0,jt=0,Dt=At.children,$t=Dt.length;--$t>=0;)(Ct=Dt[$t]).z+=Et,Ct.m+=Et,Et+=Ct.s+(jt+=Ct.c)})(Ue);var dt=(Ge[0].z+Ge[Ge.length-1].z)/2;ft?(Ue.z=ft.z+H(Ue._,ft._),Ue.m=Ue.z-dt):Ue.z=dt}else ft&&(Ue.z=ft.z+H(Ue._,ft._));Ue.parent.A=function(At,Ct,Et){if(Ct){for(var jt,Dt=At,$t=At,Yt=Ct,Vt=Dt.parent.children[0],gn=Dt.m,xn=$t.m,Pn=Yt.m,Rn=Vt.m;Yt=ro(Yt),Dt=ca(Dt),Yt&&Dt;)Vt=ca(Vt),($t=ro($t)).a=At,(jt=Yt.z+Pn-Dt.z-gn+H(Yt._,Dt._))>0&&(Qr(ai(Yt,At,Et),At,jt),gn+=jt,xn+=jt),Pn+=Yt.m,gn+=Dt.m,Rn+=Vt.m,xn+=$t.m;Yt&&!ro($t)&&($t.t=Yt,$t.m+=Pn-xn),Dt&&!ca(Vt)&&(Vt.t=Dt,Vt.m+=gn-Rn,Et=At)}return Et}(Ue,ft,Ue.parent.A||tt[0])}function Ce(Ue){Ue._.x=Ue.z+Ue.parent.m,Ue.m+=Ue.parent.m}function De(Ue){Ue.x*=ee[0],Ue.y=Ue.depth*ee[1]}return fe.separation=function(Ue){return arguments.length?(H=Ue,fe):H},fe.size=function(Ue){return arguments.length?(re=(ee=Ue)==null?De:null,fe):re?null:ee},fe.nodeSize=function(Ue){return arguments.length?(re=(ee=Ue)==null?null:De,fe):re?ee:null},Po(fe,L)},a.layout.cluster=function(){var L=a.layout.hierarchy().sort(null).value(null),H=Xo,ee=[1,1],re=!1;function fe(ye,Ce){var De,Ue=L.call(this,ye,Ce),Ge=Ue[0],tt=0;Wr(Ge,function(Et){var jt=Et.children;jt&&jt.length?(Et.x=function(Dt){return Dt.reduce(function($t,Yt){return $t+Yt.x},0)/Dt.length}(jt),Et.y=function(Dt){return 1+a.max(Dt,function($t){return $t.y})}(jt)):(Et.x=De?tt+=H(Et,De):0,Et.y=0,De=Et)});var ft=Na(Ge),dt=Is(Ge),At=ft.x-H(ft,dt)/2,Ct=dt.x+H(dt,ft)/2;return Wr(Ge,re?function(Et){Et.x=(Et.x-Ge.x)*ee[0],Et.y=(Ge.y-Et.y)*ee[1]}:function(Et){Et.x=(Et.x-At)/(Ct-At)*ee[0],Et.y=(1-(Ge.y?Et.y/Ge.y:1))*ee[1]}),Ue}return fe.separation=function(ye){return arguments.length?(H=ye,fe):H},fe.size=function(ye){return arguments.length?(re=(ee=ye)==null,fe):re?null:ee},fe.nodeSize=function(ye){return arguments.length?(re=(ee=ye)!=null,fe):re?ee:null},Po(fe,L)},a.layout.treemap=function(){var L,H=a.layout.hierarchy(),ee=Math.round,re=[1,1],fe=null,ye=Ks,Ce=!1,De="squarify",Ue=.5*(1+Math.sqrt(5));function Ge(Et,jt){for(var Dt,$t,Yt=-1,Vt=Et.length;++Yt<Vt;)$t=(Dt=Et[Yt]).value*(jt<0?0:jt),Dt.area=isNaN($t)||$t<=0?0:$t}function tt(Et){var jt=Et.children;if(jt&&jt.length){var Dt,$t,Yt,Vt=ye(Et),gn=[],xn=jt.slice(),Pn=1/0,Rn=De==="slice"?Vt.dx:De==="dice"?Vt.dy:De==="slice-dice"?1&Et.depth?Vt.dy:Vt.dx:Math.min(Vt.dx,Vt.dy);for(Ge(xn,Vt.dx*Vt.dy/Et.value),gn.area=0;(Yt=xn.length)>0;)gn.push(Dt=xn[Yt-1]),gn.area+=Dt.area,De!=="squarify"||($t=dt(gn,Rn))<=Pn?(xn.pop(),Pn=$t):(gn.area-=gn.pop().area,At(gn,Rn,Vt,!1),Rn=Math.min(Vt.dx,Vt.dy),gn.length=gn.area=0,Pn=1/0);gn.length&&(At(gn,Rn,Vt,!0),gn.length=gn.area=0),jt.forEach(tt)}}function ft(Et){var jt=Et.children;if(jt&&jt.length){var Dt,$t=ye(Et),Yt=jt.slice(),Vt=[];for(Ge(Yt,$t.dx*$t.dy/Et.value),Vt.area=0;Dt=Yt.pop();)Vt.push(Dt),Vt.area+=Dt.area,Dt.z!=null&&(At(Vt,Dt.z?$t.dx:$t.dy,$t,!Yt.length),Vt.length=Vt.area=0);jt.forEach(ft)}}function dt(Et,jt){for(var Dt,$t=Et.area,Yt=0,Vt=1/0,gn=-1,xn=Et.length;++gn<xn;)(Dt=Et[gn].area)&&(Dt<Vt&&(Vt=Dt),Dt>Yt&&(Yt=Dt));return jt*=jt,($t*=$t)?Math.max(jt*Yt*Ue/$t,$t/(jt*Vt*Ue)):1/0}function At(Et,jt,Dt,$t){var Yt,Vt=-1,gn=Et.length,xn=Dt.x,Pn=Dt.y,Rn=jt?ee(Et.area/jt):0;if(jt==Dt.dx){for(($t||Rn>Dt.dy)&&(Rn=Dt.dy);++Vt<gn;)(Yt=Et[Vt]).x=xn,Yt.y=Pn,Yt.dy=Rn,xn+=Yt.dx=Math.min(Dt.x+Dt.dx-xn,Rn?ee(Yt.area/Rn):0);Yt.z=!0,Yt.dx+=Dt.x+Dt.dx-xn,Dt.y+=Rn,Dt.dy-=Rn}else{for(($t||Rn>Dt.dx)&&(Rn=Dt.dx);++Vt<gn;)(Yt=Et[Vt]).x=xn,Yt.y=Pn,Yt.dx=Rn,Pn+=Yt.dy=Math.min(Dt.y+Dt.dy-Pn,Rn?ee(Yt.area/Rn):0);Yt.z=!1,Yt.dy+=Dt.y+Dt.dy-Pn,Dt.x+=Rn,Dt.dx-=Rn}}function Ct(Et){var jt=L||H(Et),Dt=jt[0];return Dt.x=Dt.y=0,Dt.value?(Dt.dx=re[0],Dt.dy=re[1]):Dt.dx=Dt.dy=0,L&&H.revalue(Dt),Ge([Dt],Dt.dx*Dt.dy/Dt.value),(L?ft:tt)(Dt),Ce&&(L=jt),jt}return Ct.size=function(Et){return arguments.length?(re=Et,Ct):re},Ct.padding=function(Et){if(!arguments.length)return fe;function jt($t){return Ml($t,Et)}var Dt;return ye=(fe=Et)==null?Ks:(Dt=typeof Et)=="function"?function($t){var Yt=Et.call(Ct,$t,$t.depth);return Yt==null?Ks($t):Ml($t,typeof Yt=="number"?[Yt,Yt,Yt,Yt]:Yt)}:(Dt==="number"&&(Et=[Et,Et,Et,Et]),jt),Ct},Ct.round=function(Et){return arguments.length?(ee=Et?Math.round:Number,Ct):ee!=Number},Ct.sticky=function(Et){return arguments.length?(Ce=Et,L=null,Ct):Ce},Ct.ratio=function(Et){return arguments.length?(Ue=Et,Ct):Ue},Ct.mode=function(Et){return arguments.length?(De=Et+"",Ct):De},Po(Ct,H)},a.random={normal:function(L,H){var ee=arguments.length;return ee<2&&(H=1),ee<1&&(L=0),function(){var re,fe,ye;do ye=(re=2*Math.random()-1)*re+(fe=2*Math.random()-1)*fe;while(!ye||ye>1);return L+H*re*Math.sqrt(-2*Math.log(ye)/ye)}},logNormal:function(){var L=a.random.normal.apply(a,arguments);return function(){return Math.exp(L())}},bates:function(L){var H=a.random.irwinHall(L);return function(){return H()/L}},irwinHall:function(L){return function(){for(var H=0,ee=0;ee<L;ee++)H+=Math.random();return H}}},a.scale={};var va={floor:D,ceil:D};function Qs(L,H,ee,re){var fe=[],ye=[],Ce=0,De=Math.min(L.length,H.length)-1;for(L[De]<L[0]&&(L=L.slice().reverse(),H=H.slice().reverse());++Ce<=De;)fe.push(ee(L[Ce-1],L[Ce])),ye.push(re(H[Ce-1],H[Ce]));return function(Ue){var Ge=a.bisect(L,Ue,1,De)-1;return ye[Ge](fe[Ge](Ue))}}function Ga(L,H,ee,re){var fe,ye;function Ce(){var Ue=Math.min(L.length,H.length)>2?Qs:qa,Ge=re?wu:_u;return fe=Ue(L,H,Ge,ee),ye=Ue(H,L,Ge,So),De}function De(Ue){return fe(Ue)}return De.invert=function(Ue){return ye(Ue)},De.domain=function(Ue){return arguments.length?(L=Ue.map(Number),Ce()):L},De.range=function(Ue){return arguments.length?(H=Ue,Ce()):H},De.rangeRound=function(Ue){return De.range(Ue).interpolate(Bl)},De.clamp=function(Ue){return arguments.length?(re=Ue,Ce()):re},De.interpolate=function(Ue){return arguments.length?(ee=Ue,Ce()):ee},De.ticks=function(Ue){return aa(L,Ue)},De.tickFormat=function(Ue,Ge){return d3_scale_linearTickFormat(L,Ue,Ge)},De.nice=function(Ue){return ia(L,Ue),Ce()},De.copy=function(){return Ga(L,H,ee,re)},Ce()}function $i(L,H){return a.rebind(L,H,"range","rangeRound","interpolate","clamp")}function ia(L,H){return Ko(L,Jo(pi(L,H)[2])),Ko(L,Jo(pi(L,H)[2])),L}function pi(L,H){H==null&&(H=10);var ee=Js(L),re=ee[1]-ee[0],fe=Math.pow(10,Math.floor(Math.log(re/H)/Math.LN10)),ye=H/re*fe;return ye<=.15?fe*=10:ye<=.35?fe*=5:ye<=.75&&(fe*=2),ee[0]=Math.ceil(ee[0]/fe)*fe,ee[1]=Math.floor(ee[1]/fe)*fe+.5*fe,ee[2]=fe,ee}function aa(L,H){return a.range.apply(a,pi(L,H))}function yo(L,H,ee,re){function fe(De){return(ee?Math.log(De<0?0:De):-Math.log(De>0?0:-De))/Math.log(H)}function ye(De){return ee?Math.pow(H,De):-Math.pow(H,-De)}function Ce(De){return L(fe(De))}return Ce.invert=function(De){return ye(L.invert(De))},Ce.domain=function(De){return arguments.length?(ee=De[0]>=0,L.domain((re=De.map(Number)).map(fe)),Ce):re},Ce.base=function(De){return arguments.length?(H=+De,L.domain(re.map(fe)),Ce):H},Ce.nice=function(){var De=Ko(re.map(fe),ee?Math:bs);return L.domain(De),re=De.map(ye),Ce},Ce.ticks=function(){var De=Js(re),Ue=[],Ge=De[0],tt=De[1],ft=Math.floor(fe(Ge)),dt=Math.ceil(fe(tt)),At=H%1?2:H;if(isFinite(dt-ft)){if(ee){for(;ft<dt;ft++)for(var Ct=1;Ct<At;Ct++)Ue.push(ye(ft)*Ct);Ue.push(ye(ft))}else for(Ue.push(ye(ft));ft++<dt;)for(Ct=At-1;Ct>0;Ct--)Ue.push(ye(ft)*Ct);for(ft=0;Ue[ft]<Ge;ft++);for(dt=Ue.length;Ue[dt-1]>tt;dt--);Ue=Ue.slice(ft,dt)}return Ue},Ce.copy=function(){return yo(L.copy(),H,ee,re)},$i(Ce,L)}a.scale.linear=function(){return Ga([0,1],[0,1],So,!1)},a.scale.log=function(){return yo(a.scale.linear().domain([0,1]),10,!0,[1,10])};var bs={floor:function(L){return-Math.ceil(-L)},ceil:function(L){return-Math.floor(-L)}};function io(L,H,ee){var re=$o(H),fe=$o(1/H);function ye(Ce){return L(re(Ce))}return ye.invert=function(Ce){return fe(L.invert(Ce))},ye.domain=function(Ce){return arguments.length?(L.domain((ee=Ce.map(Number)).map(re)),ye):ee},ye.ticks=function(Ce){return aa(ee,Ce)},ye.tickFormat=function(Ce,De){return d3_scale_linearTickFormat(ee,Ce,De)},ye.nice=function(Ce){return ye.domain(ia(ee,Ce))},ye.exponent=function(Ce){return arguments.length?(re=$o(H=Ce),fe=$o(1/H),L.domain(ee.map(re)),ye):H},ye.copy=function(){return io(L.copy(),H,ee)},$i(ye,L)}function $o(L){return function(H){return H<0?-Math.pow(-H,L):Math.pow(H,L)}}function Ta(L,H){var ee,re,fe;function ye(De){return re[((ee.get(De)||(H.t==="range"?ee.set(De,L.push(De)):NaN))-1)%re.length]}function Ce(De,Ue){return a.range(L.length).map(function(Ge){return De+Ue*Ge})}return ye.domain=function(De){if(!arguments.length)return L;L=[],ee=new m;for(var Ue,Ge=-1,tt=De.length;++Ge<tt;)ee.has(Ue=De[Ge])||ee.set(Ue,L.push(Ue));return ye[H.t].apply(ye,H.a)},ye.range=function(De){return arguments.length?(re=De,fe=0,H={t:"range",a:arguments},ye):re},ye.rangePoints=function(De,Ue){arguments.length<2&&(Ue=0);var Ge=De[0],tt=De[1],ft=L.length<2?(Ge=(Ge+tt)/2,0):(tt-Ge)/(L.length-1+Ue);return re=Ce(Ge+ft*Ue/2,ft),fe=0,H={t:"rangePoints",a:arguments},ye},ye.rangeRoundPoints=function(De,Ue){arguments.length<2&&(Ue=0);var Ge=De[0],tt=De[1],ft=L.length<2?(Ge=tt=Math.round((Ge+tt)/2),0):(tt-Ge)/(L.length-1+Ue)|0;return re=Ce(Ge+Math.round(ft*Ue/2+(tt-Ge-(L.length-1+Ue)*ft)/2),ft),fe=0,H={t:"rangeRoundPoints",a:arguments},ye},ye.rangeBands=function(De,Ue,Ge){arguments.length<2&&(Ue=0),arguments.length<3&&(Ge=Ue);var tt=De[1]<De[0],ft=De[tt-0],dt=(De[1-tt]-ft)/(L.length-Ue+2*Ge);return re=Ce(ft+dt*Ge,dt),tt&&re.reverse(),fe=dt*(1-Ue),H={t:"rangeBands",a:arguments},ye},ye.rangeRoundBands=function(De,Ue,Ge){arguments.length<2&&(Ue=0),arguments.length<3&&(Ge=Ue);var tt=De[1]<De[0],ft=De[tt-0],dt=De[1-tt],At=Math.floor((dt-ft)/(L.length-Ue+2*Ge));return re=Ce(ft+Math.round((dt-ft-(L.length-Ue)*At)/2),At),tt&&re.reverse(),fe=Math.round(At*(1-Ue)),H={t:"rangeRoundBands",a:arguments},ye},ye.rangeBand=function(){return fe},ye.rangeExtent=function(){return Js(H.a[0])},ye.copy=function(){return Ta(L,H)},ye.domain(L)}a.scale.pow=function(){return io(a.scale.linear(),1,[0,1])},a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return Ta([],{t:"range",a:[[]]})},a.scale.category10=function(){return a.scale.ordinal().range(_s)},a.scale.category20=function(){return a.scale.ordinal().range(Io)},a.scale.category20b=function(){return a.scale.ordinal().range(Wa)},a.scale.category20c=function(){return a.scale.ordinal().range(Ya)};var _s=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Jt),Io=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Jt),Wa=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Jt),Ya=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Jt);function gi(L,H){var ee;function re(){var ye=0,Ce=H.length;for(ee=[];++ye<Ce;)ee[ye-1]=a.quantile(L,ye/Ce);return fe}function fe(ye){if(!isNaN(ye=+ye))return H[a.bisect(ee,ye)]}return fe.domain=function(ye){return arguments.length?(L=ye.map(d).filter(c).sort(u),re()):L},fe.range=function(ye){return arguments.length?(H=ye,re()):H},fe.quantiles=function(){return ee},fe.invertExtent=function(ye){return(ye=H.indexOf(ye))<0?[NaN,NaN]:[ye>0?ee[ye-1]:L[0],ye<ee.length?ee[ye]:L[L.length-1]]},fe.copy=function(){return gi(L,H)},re()}function ao(L,H,ee){var re,fe;function ye(De){return ee[Math.max(0,Math.min(fe,Math.floor(re*(De-L))))]}function Ce(){return re=ee.length/(H-L),fe=ee.length-1,ye}return ye.domain=function(De){return arguments.length?(L=+De[0],H=+De[De.length-1],Ce()):[L,H]},ye.range=function(De){return arguments.length?(ee=De,Ce()):ee},ye.invertExtent=function(De){return[De=(De=ee.indexOf(De))<0?NaN:De/re+L,De+1/re]},ye.copy=function(){return ao(L,H,ee)},Ce()}function Er(L,H){function ee(re){if(re<=re)return H[a.bisect(L,re)]}return ee.domain=function(re){return arguments.length?(L=re,ee):L},ee.range=function(re){return arguments.length?(H=re,ee):H},ee.invertExtent=function(re){return re=H.indexOf(re),[L[re-1],L[re]]},ee.copy=function(){return Er(L,H)},ee}function el(L){function H(ee){return+ee}return H.invert=H,H.domain=H.range=function(ee){return arguments.length?(L=ee.map(H),H):L},H.ticks=function(ee){return aa(L,ee)},H.tickFormat=function(ee,re){return d3_scale_linearTickFormat(L,ee,re)},H.copy=function(){return el(L)},H}function jl(){return 0}a.scale.quantile=function(){return gi([],[])},a.scale.quantize=function(){return ao(0,1,[0,1])},a.scale.threshold=function(){return Er([.5],[0,1])},a.scale.identity=function(){return el([0,1])},a.svg={},a.svg.arc=function(){var L=es,H=ws,ee=jl,re=Qo,fe=Rs,ye=_r,Ce=tl;function De(){var Ge=Math.max(0,+L.apply(this,arguments)),tt=Math.max(0,+H.apply(this,arguments)),ft=fe.apply(this,arguments)-We,dt=ye.apply(this,arguments)-We,At=Math.abs(dt-ft),Ct=ft>dt?0:1;if(tt<Ge&&(Et=tt,tt=Ge,Ge=Et),At>=Rt)return Ue(tt,Ct)+(Ge?Ue(Ge,1-Ct):"")+"Z";var Et,jt,Dt,$t,Yt,Vt,gn,xn,Pn,Rn,Wn,ir,gr=0,Xn=0,pr=[];if(($t=(+Ce.apply(this,arguments)||0)/2)&&(Dt=re===Qo?Math.sqrt(Ge*Ge+tt*tt):+re.apply(this,arguments),Ct||(Xn*=-1),tt&&(Xn=Ye(Dt/tt*Math.sin($t))),Ge&&(gr=Ye(Dt/Ge*Math.sin($t)))),tt){Yt=tt*Math.cos(ft+Xn),Vt=tt*Math.sin(ft+Xn),gn=tt*Math.cos(dt-Xn),xn=tt*Math.sin(dt-Xn);var wr=Math.abs(dt-ft-2*Xn)<=zt?0:1;if(Xn&&Ro(Yt,Vt,gn,xn)===Ct^wr){var Pr=(ft+dt)/2;Yt=tt*Math.cos(Pr),Vt=tt*Math.sin(Pr),gn=xn=null}}else Yt=Vt=0;if(Ge){Pn=Ge*Math.cos(dt-gr),Rn=Ge*Math.sin(dt-gr),Wn=Ge*Math.cos(ft+gr),ir=Ge*Math.sin(ft+gr);var nr=Math.abs(ft-dt+2*gr)<=zt?0:1;if(gr&&Ro(Pn,Rn,Wn,ir)===1-Ct^nr){var hr=(ft+dt)/2;Pn=Ge*Math.cos(hr),Rn=Ge*Math.sin(hr),Wn=ir=null}}else Pn=Rn=0;if(At>nt&&(Et=Math.min(Math.abs(tt-Ge)/2,+ee.apply(this,arguments)))>.001){jt=Ge<tt^Ct?0:1;var Ar=Et,vr=Et;if(At<zt){var Lr=Wn==null?[Pn,Rn]:gn==null?[Yt,Vt]:It([Yt,Vt],[Wn,ir],[gn,xn],[Pn,Rn]),Rr=Yt-Lr[0],Ur=Vt-Lr[1],Vr=gn-Lr[0],Gr=xn-Lr[1],Xr=1/Math.sin(Math.acos((Rr*Vr+Ur*Gr)/(Math.sqrt(Rr*Rr+Ur*Ur)*Math.sqrt(Vr*Vr+Gr*Gr)))/2),mi=Math.sqrt(Lr[0]*Lr[0]+Lr[1]*Lr[1]);vr=Math.min(Et,(Ge-mi)/(Xr-1)),Ar=Math.min(Et,(tt-mi)/(Xr+1))}if(gn!=null){var Di=Qi(Wn==null?[Pn,Rn]:[Wn,ir],[Yt,Vt],tt,Ar,Ct),ya=Qi([gn,xn],[Pn,Rn],tt,Ar,Ct);Et===Ar?pr.push("M",Di[0],"A",Ar,",",Ar," 0 0,",jt," ",Di[1],"A",tt,",",tt," 0 ",1-Ct^Ro(Di[1][0],Di[1][1],ya[1][0],ya[1][1]),",",Ct," ",ya[1],"A",Ar,",",Ar," 0 0,",jt," ",ya[0]):pr.push("M",Di[0],"A",Ar,",",Ar," 0 1,",jt," ",ya[0])}else pr.push("M",Yt,",",Vt);if(Wn!=null){var ea=Qi([Yt,Vt],[Wn,ir],Ge,-vr,Ct),fa=Qi([Pn,Rn],gn==null?[Yt,Vt]:[gn,xn],Ge,-vr,Ct);Et===vr?pr.push("L",fa[0],"A",vr,",",vr," 0 0,",jt," ",fa[1],"A",Ge,",",Ge," 0 ",Ct^Ro(fa[1][0],fa[1][1],ea[1][0],ea[1][1]),",",1-Ct," ",ea[1],"A",vr,",",vr," 0 0,",jt," ",ea[0]):pr.push("L",fa[0],"A",vr,",",vr," 0 0,",jt," ",ea[0])}else pr.push("L",Pn,",",Rn)}else pr.push("M",Yt,",",Vt),gn!=null&&pr.push("A",tt,",",tt," 0 ",wr,",",Ct," ",gn,",",xn),pr.push("L",Pn,",",Rn),Wn!=null&&pr.push("A",Ge,",",Ge," 0 ",nr,",",1-Ct," ",Wn,",",ir);return pr.push("Z"),pr.join("")}function Ue(Ge,tt){return"M0,"+Ge+"A"+Ge+","+Ge+" 0 1,"+tt+" 0,"+-Ge+"A"+Ge+","+Ge+" 0 1,"+tt+" 0,"+Ge}return De.innerRadius=function(Ge){return arguments.length?(L=Hn(Ge),De):L},De.outerRadius=function(Ge){return arguments.length?(H=Hn(Ge),De):H},De.cornerRadius=function(Ge){return arguments.length?(ee=Hn(Ge),De):ee},De.padRadius=function(Ge){return arguments.length?(re=Ge==Qo?Qo:Hn(Ge),De):re},De.startAngle=function(Ge){return arguments.length?(fe=Hn(Ge),De):fe},De.endAngle=function(Ge){return arguments.length?(ye=Hn(Ge),De):ye},De.padAngle=function(Ge){return arguments.length?(Ce=Hn(Ge),De):Ce},De.centroid=function(){var Ge=(+L.apply(this,arguments)+ +H.apply(this,arguments))/2,tt=(+fe.apply(this,arguments)+ +ye.apply(this,arguments))/2-We;return[Math.cos(tt)*Ge,Math.sin(tt)*Ge]},De};var Qo="auto";function es(L){return L.innerRadius}function ws(L){return L.outerRadius}function Rs(L){return L.startAngle}function _r(L){return L.endAngle}function tl(L){return L&&L.padAngle}function Ro(L,H,ee,re){return(L-ee)*H-(H-re)*L>0?0:1}function Qi(L,H,ee,re,fe){var ye=L[0]-H[0],Ce=L[1]-H[1],De=(fe?re:-re)/Math.sqrt(ye*ye+Ce*Ce),Ue=De*Ce,Ge=-De*ye,tt=L[0]+Ue,ft=L[1]+Ge,dt=H[0]+Ue,At=H[1]+Ge,Ct=(tt+dt)/2,Et=(ft+At)/2,jt=dt-tt,Dt=At-ft,$t=jt*jt+Dt*Dt,Yt=ee-re,Vt=tt*At-dt*ft,gn=(Dt<0?-1:1)*Math.sqrt(Math.max(0,Yt*Yt*$t-Vt*Vt)),xn=(Vt*Dt-jt*gn)/$t,Pn=(-Vt*jt-Dt*gn)/$t,Rn=(Vt*Dt+jt*gn)/$t,Wn=(-Vt*jt+Dt*gn)/$t,ir=xn-Ct,gr=Pn-Et,Xn=Rn-Ct,pr=Wn-Et;return ir*ir+gr*gr>Xn*Xn+pr*pr&&(xn=Rn,Pn=Wn),[[xn-Ue,Pn-Ge],[xn*ee/Yt,Pn*ee/Yt]]}function ts(){return!0}function oo(L){var H=Gn,ee=Fn,re=ts,fe=ma,ye=fe.key,Ce=.7;function De(Ue){var Ge,tt=[],ft=[],dt=-1,At=Ue.length,Ct=Hn(H),Et=Hn(ee);function jt(){tt.push("M",fe(L(ft),Ce))}for(;++dt<At;)re.call(this,Ge=Ue[dt],dt)?ft.push([+Ct.call(this,Ge,dt),+Et.call(this,Ge,dt)]):ft.length&&(jt(),ft=[]);return ft.length&&jt(),tt.length?tt.join(""):null}return De.x=function(Ue){return arguments.length?(H=Ue,De):H},De.y=function(Ue){return arguments.length?(ee=Ue,De):ee},De.defined=function(Ue){return arguments.length?(re=Ue,De):re},De.interpolate=function(Ue){return arguments.length?(ye=typeof Ue=="function"?fe=Ue:(fe=Za.get(Ue)||ma).key,De):ye},De.tension=function(Ue){return arguments.length?(Ce=Ue,De):Ce},De}a.svg.line=function(){return oo(D)};var Za=a.map({linear:ma,"linear-closed":xo,step:function(L){for(var H=0,ee=L.length,re=L[0],fe=[re[0],",",re[1]];++H<ee;)fe.push("H",(re[0]+(re=L[H])[0])/2,"V",re[1]);return ee>1&&fe.push("H",re[0]),fe.join("")},"step-before":Xa,"step-after":Do,basis:Jr,"basis-open":function(L){if(L.length<4)return ma(L);for(var H,ee=[],re=-1,fe=L.length,ye=[0],Ce=[0];++re<3;)H=L[re],ye.push(H[0]),Ce.push(H[1]);for(ee.push(oa(Aa,ye)+","+oa(Aa,Ce)),--re;++re<fe;)H=L[re],ye.shift(),ye.push(H[0]),Ce.shift(),Ce.push(H[1]),Ds(ee,ye,Ce);return ee.join("")},"basis-closed":function(L){for(var H,ee,re=-1,fe=L.length,ye=fe+4,Ce=[],De=[];++re<4;)ee=L[re%fe],Ce.push(ee[0]),De.push(ee[1]);for(H=[oa(Aa,Ce),",",oa(Aa,De)],--re;++re<ye;)ee=L[re%fe],Ce.shift(),Ce.push(ee[0]),De.shift(),De.push(ee[1]),Ds(H,Ce,De);return H.join("")},bundle:function(L,H){var ee=L.length-1;if(ee)for(var re,fe,ye=L[0][0],Ce=L[0][1],De=L[ee][0]-ye,Ue=L[ee][1]-Ce,Ge=-1;++Ge<=ee;)fe=Ge/ee,(re=L[Ge])[0]=H*re[0]+(1-H)*(ye+fe*De),re[1]=H*re[1]+(1-H)*(Ce+fe*Ue);return Jr(L)},cardinal:function(L,H){return L.length<3?ma(L):L[0]+nl(L,ns(L,H))},"cardinal-open":function(L,H){return L.length<4?ma(L):L[1]+nl(L.slice(1,-1),ns(L,H))},"cardinal-closed":function(L,H){return L.length<3?xo(L):L[0]+nl((L.push(L[0]),L),ns([L[L.length-2]].concat(L,[L[1]]),H))},monotone:function(L){return L.length<3?ma(L):L[0]+nl(L,function(H){for(var ee,re,fe,ye,Ce=[],De=function(tt){for(var ft=0,dt=tt.length-1,At=[],Ct=tt[0],Et=tt[1],jt=At[0]=zs(Ct,Et);++ft<dt;)At[ft]=(jt+(jt=zs(Ct=Et,Et=tt[ft+1])))/2;return At[ft]=jt,At}(H),Ue=-1,Ge=H.length-1;++Ue<Ge;)ee=zs(H[Ue],H[Ue+1]),v(ee)<nt?De[Ue]=De[Ue+1]=0:(ye=(re=De[Ue]/ee)*re+(fe=De[Ue+1]/ee)*fe)>9&&(ye=3*ee/Math.sqrt(ye),De[Ue]=ye*re,De[Ue+1]=ye*fe);for(Ue=-1;++Ue<=Ge;)ye=(H[Math.min(Ge,Ue+1)][0]-H[Math.max(0,Ue-1)][0])/(6*(1+De[Ue]*De[Ue])),Ce.push([ye||0,De[Ue]*ye||0]);return Ce}(L))}});function ma(L){return L.length>1?L.join("L"):L+"Z"}function xo(L){return L.join("L")+"Z"}function Xa(L){for(var H=0,ee=L.length,re=L[0],fe=[re[0],",",re[1]];++H<ee;)fe.push("V",(re=L[H])[1],"H",re[0]);return fe.join("")}function Do(L){for(var H=0,ee=L.length,re=L[0],fe=[re[0],",",re[1]];++H<ee;)fe.push("H",(re=L[H])[0],"V",re[1]);return fe.join("")}function nl(L,H){if(H.length<1||L.length!=H.length&&L.length!=H.length+2)return ma(L);var ee=L.length!=H.length,re="",fe=L[0],ye=L[1],Ce=H[0],De=Ce,Ue=1;if(ee&&(re+="Q"+(ye[0]-2*Ce[0]/3)+","+(ye[1]-2*Ce[1]/3)+","+ye[0]+","+ye[1],fe=L[1],Ue=2),H.length>1){De=H[1],ye=L[Ue],Ue++,re+="C"+(fe[0]+Ce[0])+","+(fe[1]+Ce[1])+","+(ye[0]-De[0])+","+(ye[1]-De[1])+","+ye[0]+","+ye[1];for(var Ge=2;Ge<H.length;Ge++,Ue++)ye=L[Ue],De=H[Ge],re+="S"+(ye[0]-De[0])+","+(ye[1]-De[1])+","+ye[0]+","+ye[1]}if(ee){var tt=L[Ue];re+="Q"+(ye[0]+2*De[0]/3)+","+(ye[1]+2*De[1]/3)+","+tt[0]+","+tt[1]}return re}function ns(L,H){for(var ee,re=[],fe=(1-H)/2,ye=L[0],Ce=L[1],De=1,Ue=L.length;++De<Ue;)ee=ye,ye=Ce,Ce=L[De],re.push([fe*(Ce[0]-ee[0]),fe*(Ce[1]-ee[1])]);return re}function Jr(L){if(L.length<3)return ma(L);var H=1,ee=L.length,re=L[0],fe=re[0],ye=re[1],Ce=[fe,fe,fe,(re=L[1])[0]],De=[ye,ye,ye,re[1]],Ue=[fe,",",ye,"L",oa(Aa,Ce),",",oa(Aa,De)];for(L.push(L[ee-1]);++H<=ee;)re=L[H],Ce.shift(),Ce.push(re[0]),De.shift(),De.push(re[1]),Ds(Ue,Ce,De);return L.pop(),Ue.push("L",re),Ue.join("")}function oa(L,H){return L[0]*H[0]+L[1]*H[1]+L[2]*H[2]+L[3]*H[3]}Za.forEach(function(L,H){H.key=L,H.closed=/-closed$/.test(L)});var ka=[0,2/3,1/3,0],bo=[0,1/3,2/3,0],Aa=[0,1/6,2/3,1/6];function Ds(L,H,ee){L.push("C",oa(ka,H),",",oa(ka,ee),",",oa(bo,H),",",oa(bo,ee),",",oa(Aa,H),",",oa(Aa,ee))}function zs(L,H){return(H[1]-L[1])/(H[0]-L[0])}function Ma(L){for(var H,ee,re,fe=-1,ye=L.length;++fe<ye;)ee=(H=L[fe])[0],re=H[1]-We,H[0]=ee*Math.cos(re),H[1]=ee*Math.sin(re);return L}function Zr(L){var H=Gn,ee=Gn,re=0,fe=Fn,ye=ts,Ce=ma,De=Ce.key,Ue=Ce,Ge="L",tt=.7;function ft(dt){var At,Ct,Et,jt=[],Dt=[],$t=[],Yt=-1,Vt=dt.length,gn=Hn(H),xn=Hn(re),Pn=H===ee?function(){return Ct}:Hn(ee),Rn=re===fe?function(){return Et}:Hn(fe);function Wn(){jt.push("M",Ce(L($t),tt),Ge,Ue(L(Dt.reverse()),tt),"Z")}for(;++Yt<Vt;)ye.call(this,At=dt[Yt],Yt)?(Dt.push([Ct=+gn.call(this,At,Yt),Et=+xn.call(this,At,Yt)]),$t.push([+Pn.call(this,At,Yt),+Rn.call(this,At,Yt)])):Dt.length&&(Wn(),Dt=[],$t=[]);return Dt.length&&Wn(),jt.length?jt.join(""):null}return ft.x=function(dt){return arguments.length?(H=ee=dt,ft):ee},ft.x0=function(dt){return arguments.length?(H=dt,ft):H},ft.x1=function(dt){return arguments.length?(ee=dt,ft):ee},ft.y=function(dt){return arguments.length?(re=fe=dt,ft):fe},ft.y0=function(dt){return arguments.length?(re=dt,ft):re},ft.y1=function(dt){return arguments.length?(fe=dt,ft):fe},ft.defined=function(dt){return arguments.length?(ye=dt,ft):ye},ft.interpolate=function(dt){return arguments.length?(De=typeof dt=="function"?Ce=dt:(Ce=Za.get(dt)||ma).key,Ue=Ce.reverse||Ce,Ge=Ce.closed?"M":"L",ft):De},ft.tension=function(dt){return arguments.length?(tt=dt,ft):tt},ft}function _o(L){return L.source}function Ts(L){return L.target}function so(L){return L.radius}function Fs(L){return[L.x,L.y]}function Bs(){return 64}function lo(){return"circle"}function vi(L){var H=Math.sqrt(L/zt);return"M0,"+H+"A"+H+","+H+" 0 1,1 0,"+-H+"A"+H+","+H+" 0 1,1 0,"+H+"Z"}a.svg.line.radial=function(){var L=oo(Ma);return L.radius=L.x,delete L.x,L.angle=L.y,delete L.y,L},Xa.reverse=Do,Do.reverse=Xa,a.svg.area=function(){return Zr(D)},a.svg.area.radial=function(){var L=Zr(Ma);return L.radius=L.x,delete L.x,L.innerRadius=L.x0,delete L.x0,L.outerRadius=L.x1,delete L.x1,L.angle=L.y,delete L.y,L.startAngle=L.y0,delete L.y0,L.endAngle=L.y1,delete L.y1,L},a.svg.chord=function(){var L=_o,H=Ts,ee=so,re=Rs,fe=_r;function ye(Ge,tt){var ft,dt,At=Ce(this,L,Ge,tt),Ct=Ce(this,H,Ge,tt);return"M"+At.p0+De(At.r,At.p1,At.a1-At.a0)+(dt=Ct,((ft=At).a0==dt.a0&&ft.a1==dt.a1?Ue(At.r,At.p1,At.r,At.p0):Ue(At.r,At.p1,Ct.r,Ct.p0)+De(Ct.r,Ct.p1,Ct.a1-Ct.a0)+Ue(Ct.r,Ct.p1,At.r,At.p0))+"Z")}function Ce(Ge,tt,ft,dt){var At=tt.call(Ge,ft,dt),Ct=ee.call(Ge,At,dt),Et=re.call(Ge,At,dt)-We,jt=fe.call(Ge,At,dt)-We;return{r:Ct,a0:Et,a1:jt,p0:[Ct*Math.cos(Et),Ct*Math.sin(Et)],p1:[Ct*Math.cos(jt),Ct*Math.sin(jt)]}}function De(Ge,tt,ft){return"A"+Ge+","+Ge+" 0 "+ +(ft>zt)+",1 "+tt}function Ue(Ge,tt,ft,dt){return"Q 0,0 "+dt}return ye.radius=function(Ge){return arguments.length?(ee=Hn(Ge),ye):ee},ye.source=function(Ge){return arguments.length?(L=Hn(Ge),ye):L},ye.target=function(Ge){return arguments.length?(H=Hn(Ge),ye):H},ye.startAngle=function(Ge){return arguments.length?(re=Hn(Ge),ye):re},ye.endAngle=function(Ge){return arguments.length?(fe=Hn(Ge),ye):fe},ye},a.svg.diagonal=function(){var L=_o,H=Ts,ee=Fs;function re(fe,ye){var Ce=L.call(this,fe,ye),De=H.call(this,fe,ye),Ue=(Ce.y+De.y)/2,Ge=[Ce,{x:Ce.x,y:Ue},{x:De.x,y:Ue},De];return"M"+(Ge=Ge.map(ee))[0]+"C"+Ge[1]+" "+Ge[2]+" "+Ge[3]}return re.source=function(fe){return arguments.length?(L=Hn(fe),re):L},re.target=function(fe){return arguments.length?(H=Hn(fe),re):H},re.projection=function(fe){return arguments.length?(ee=fe,re):ee},re},a.svg.diagonal.radial=function(){var L=a.svg.diagonal(),H=Fs,ee=L.projection;return L.projection=function(re){return arguments.length?ee(function(fe){return function(){var ye=fe.apply(this,arguments),Ce=ye[0],De=ye[1]-We;return[Ce*Math.cos(De),Ce*Math.sin(De)]}}(H=re)):H},L},a.svg.symbol=function(){var L=lo,H=Bs;function ee(re,fe){return(ks.get(L.call(this,re,fe))||vi)(H.call(this,re,fe))}return ee.type=function(re){return arguments.length?(L=Hn(re),ee):L},ee.size=function(re){return arguments.length?(H=Hn(re),ee):H},ee};var ks=a.map({circle:vi,cross:function(L){var H=Math.sqrt(L/5)/2;return"M"+-3*H+","+-H+"H"+-H+"V"+-3*H+"H"+H+"V"+-H+"H"+3*H+"V"+H+"H"+H+"V"+3*H+"H"+-H+"V"+H+"H"+-3*H+"Z"},diamond:function(L){var H=Math.sqrt(L/(2*zr)),ee=H*zr;return"M0,"+-H+"L"+ee+",0 0,"+H+" "+-ee+",0Z"},square:function(L){var H=Math.sqrt(L)/2;return"M"+-H+","+-H+"L"+H+","+-H+" "+H+","+H+" "+-H+","+H+"Z"},"triangle-down":function(L){var H=Math.sqrt(L/Cr),ee=H*Cr/2;return"M0,"+ee+"L"+H+","+-ee+" "+-H+","+-ee+"Z"},"triangle-up":function(L){var H=Math.sqrt(L/Cr),ee=H*Cr/2;return"M0,"+-ee+"L"+H+","+ee+" "+-H+","+ee+"Z"}});a.svg.symbolTypes=ks.keys();var Cr=Math.sqrt(3),zr=Math.tan(30*Ze);ce.transition=function(L){for(var H,ee,re=Ni||++iu,fe=wi(L),ye=[],Ce=To||{time:Date.now(),ease:go,delay:0,duration:250},De=-1,Ue=this.length;++De<Ue;){ye.push(H=[]);for(var Ge=this[De],tt=-1,ft=Ge.length;++tt<ft;)(ee=Ge[tt])&&Ia(ee,tt,fe,re,Ce),H.push(ee)}return zo(ye,fe,re)},ce.interrupt=function(L){return this.each(L==null?ja:wo(wi(L)))};var ja=wo(wi());function wo(L){return function(){var H,ee,re;(H=this[L])&&(re=H[ee=H.active])&&(re.timer.c=null,re.timer.t=NaN,--H.count?delete H[ee]:delete this[L],H.active+=.5,re.event&&re.event.interrupt.call(this,this.__data__,re.index))}}function zo(L,H,ee){return J(L,si),L.namespace=H,L.id=ee,L}var Ni,To,si=[],iu=0;function Ua(L,H,ee,re){var fe=L.id,ye=L.namespace;return ke(L,typeof ee=="function"?function(Ce,De,Ue){Ce[ye][fe].tween.set(H,re(ee.call(Ce,Ce.__data__,De,Ue)))}:(ee=re(ee),function(Ce){Ce[ye][fe].tween.set(H,ee)}))}function ci(L){return L==null&&(L=""),function(){this.textContent=L}}function wi(L){return L==null?"__transition__":"__transition_"+L+"__"}function Ia(L,H,ee,re,fe){var ye,Ce,De,Ue,Ge,tt=L[ee]||(L[ee]={active:0,count:0}),ft=tt[re];function dt(Ct){var Et=tt.active,jt=tt[Et];for(var Dt in jt&&(jt.timer.c=null,jt.timer.t=NaN,--tt.count,delete tt[Et],jt.event&&jt.event.interrupt.call(L,L.__data__,jt.index)),tt)if(+Dt<re){var $t=tt[Dt];$t.timer.c=null,$t.timer.t=NaN,--tt.count,delete tt[Dt]}Ce.c=At,an(function(){return Ce.c&&At(Ct||1)&&(Ce.c=null,Ce.t=NaN),1},0,ye),tt.active=re,ft.event&&ft.event.start.call(L,L.__data__,H),Ge=[],ft.tween.forEach(function(Yt,Vt){(Vt=Vt.call(L,L.__data__,H))&&Ge.push(Vt)}),Ue=ft.ease,De=ft.duration}function At(Ct){for(var Et=Ct/De,jt=Ue(Et),Dt=Ge.length;Dt>0;)Ge[--Dt].call(L,jt);if(Et>=1)return ft.event&&ft.event.end.call(L,L.__data__,H),--tt.count?delete tt[re]:delete L[ee],1}ft||(ye=fe.time,Ce=an(function(Ct){var Et=ft.delay;if(Ce.t=Et+ye,Et<=Ct)return dt(Ct-Et);Ce.c=dt},0,ye),ft=tt[re]={tween:new m,time:ye,timer:Ce,delay:fe.delay,duration:fe.duration,ease:fe.ease,index:H},fe=null,++tt.count)}si.call=ce.call,si.empty=ce.empty,si.node=ce.node,si.size=ce.size,a.transition=function(L,H){return L&&L.transition?Ni?L.transition(H):L:a.selection().transition(L)},a.transition.prototype=si,si.select=function(L){var H,ee,re,fe=this.id,ye=this.namespace,Ce=[];L=pe(L);for(var De=-1,Ue=this.length;++De<Ue;){Ce.push(H=[]);for(var Ge=this[De],tt=-1,ft=Ge.length;++tt<ft;)(re=Ge[tt])&&(ee=L.call(re,re.__data__,tt,De))?("__data__"in re&&(ee.__data__=re.__data__),Ia(ee,tt,ye,fe,re[ye][fe]),H.push(ee)):H.push(null)}return zo(Ce,ye,fe)},si.selectAll=function(L){var H,ee,re,fe,ye,Ce=this.id,De=this.namespace,Ue=[];L=ge(L);for(var Ge=-1,tt=this.length;++Ge<tt;)for(var ft=this[Ge],dt=-1,At=ft.length;++dt<At;)if(re=ft[dt]){ye=re[De][Ce],ee=L.call(re,re.__data__,dt,Ge),Ue.push(H=[]);for(var Ct=-1,Et=ee.length;++Ct<Et;)(fe=ee[Ct])&&Ia(fe,Ct,De,Ce,ye),H.push(fe)}return zo(Ue,De,Ce)},si.filter=function(L){var H,ee,re=[];typeof L!="function"&&(L=he(L));for(var fe=0,ye=this.length;fe<ye;fe++){re.push(H=[]);for(var Ce,De=0,Ue=(Ce=this[fe]).length;De<Ue;De++)(ee=Ce[De])&&L.call(ee,ee.__data__,De,fe)&&H.push(ee)}return zo(re,this.namespace,this.id)},si.tween=function(L,H){var ee=this.id,re=this.namespace;return arguments.length<2?this.node()[re][ee].tween.get(L):ke(this,H==null?function(fe){fe[re][ee].tween.remove(L)}:function(fe){fe[re][ee].tween.set(L,H)})},si.attr=function(L,H){if(arguments.length<2){for(H in L)this.attr(H,L[H]);return this}var ee=L=="transform"?eu:So,re=a.ns.qualify(L);function fe(){this.removeAttribute(re)}function ye(){this.removeAttributeNS(re.space,re.local)}return Ua(this,"attr."+L,H,re.local?function(Ce){return Ce==null?ye:(Ce+="",function(){var De,Ue=this.getAttributeNS(re.space,re.local);return Ue!==Ce&&(De=ee(Ue,Ce),function(Ge){this.setAttributeNS(re.space,re.local,De(Ge))})})}:function(Ce){return Ce==null?fe:(Ce+="",function(){var De,Ue=this.getAttribute(re);return Ue!==Ce&&(De=ee(Ue,Ce),function(Ge){this.setAttribute(re,De(Ge))})})})},si.attrTween=function(L,H){var ee=a.ns.qualify(L);return this.tween("attr."+L,ee.local?function(re,fe){var ye=H.call(this,re,fe,this.getAttributeNS(ee.space,ee.local));return ye&&function(Ce){this.setAttributeNS(ee.space,ee.local,ye(Ce))}}:function(re,fe){var ye=H.call(this,re,fe,this.getAttribute(ee));return ye&&function(Ce){this.setAttribute(ee,ye(Ce))}})},si.style=function(L,H,ee){var re=arguments.length;if(re<3){if(typeof L!="string"){for(ee in re<2&&(H=""),L)this.style(ee,L[ee],H);return this}ee=""}function fe(){this.style.removeProperty(L)}return Ua(this,"style."+L,H,function(ye){return ye==null?fe:(ye+="",function(){var Ce,De=t(this).getComputedStyle(this,null).getPropertyValue(L);return De!==ye&&(Ce=So(De,ye),function(Ue){this.style.setProperty(L,Ce(Ue),ee)})})})},si.styleTween=function(L,H,ee){return arguments.length<3&&(ee=""),this.tween("style."+L,function(re,fe){var ye=H.call(this,re,fe,t(this).getComputedStyle(this,null).getPropertyValue(L));return ye&&function(Ce){this.style.setProperty(L,ye(Ce),ee)}})},si.text=function(L){return Ua(this,"text",L,ci)},si.remove=function(){var L=this.namespace;return this.each("end.transition",function(){var H;this[L].count<2&&(H=this.parentNode)&&H.removeChild(this)})},si.ease=function(L){var H=this.id,ee=this.namespace;return arguments.length<1?this.node()[ee][H].ease:(typeof L!="function"&&(L=a.ease.apply(a,arguments)),ke(this,function(re){re[ee][H].ease=L}))},si.delay=function(L){var H=this.id,ee=this.namespace;return arguments.length<1?this.node()[ee][H].delay:ke(this,typeof L=="function"?function(re,fe,ye){re[ee][H].delay=+L.call(re,re.__data__,fe,ye)}:(L=+L,function(re){re[ee][H].delay=L}))},si.duration=function(L){var H=this.id,ee=this.namespace;return arguments.length<1?this.node()[ee][H].duration:ke(this,typeof L=="function"?function(re,fe,ye){re[ee][H].duration=Math.max(1,L.call(re,re.__data__,fe,ye))}:(L=Math.max(1,L),function(re){re[ee][H].duration=L}))},si.each=function(L,H){var ee=this.id,re=this.namespace;if(arguments.length<2){var fe=To,ye=Ni;try{Ni=ee,ke(this,function(Ce,De,Ue){To=Ce[re][ee],L.call(Ce,Ce.__data__,De,Ue)})}finally{To=fe,Ni=ye}}else ke(this,function(Ce){var De=Ce[re][ee];(De.event||(De.event=a.dispatch("start","end","interrupt"))).on(L,H)});return this},si.transition=function(){for(var L,H,ee,re=this.id,fe=++iu,ye=this.namespace,Ce=[],De=0,Ue=this.length;De<Ue;De++){Ce.push(L=[]);for(var Ge,tt=0,ft=(Ge=this[De]).length;tt<ft;tt++)(H=Ge[tt])&&Ia(H,tt,ye,fe,{time:(ee=H[ye][re]).time,ease:ee.ease,delay:ee.delay+ee.duration,duration:ee.duration}),L.push(H)}return zo(Ce,ye,fe)},a.svg.axis=function(){var L,H=a.scale.linear(),ee=rs,re=6,fe=6,ye=3,Ce=[10],De=null;function Ue(Ge){Ge.each(function(){var tt,ft=a.select(this),dt=this.__chart__||H,At=this.__chart__=H.copy(),Ct=De==null?At.ticks?At.ticks.apply(At,Ce):At.domain():De,Et=L==null?At.tickFormat?At.tickFormat.apply(At,Ce):D:L,jt=ft.selectAll(".tick").data(Ct,At),Dt=jt.enter().insert("g",".domain").attr("class","tick").style("opacity",nt),$t=a.transition(jt.exit()).style("opacity",nt).remove(),Yt=a.transition(jt.order()).style("opacity",1),Vt=Math.max(re,0)+ye,gn=$s(At),xn=ft.selectAll(".domain").data([0]),Pn=(xn.enter().append("path").attr("class","domain"),a.transition(xn));Dt.append("line"),Dt.append("text");var Rn,Wn,ir,gr,Xn=Dt.select("line"),pr=Yt.select("line"),wr=jt.select("text").text(Et),Pr=Dt.select("text"),nr=Yt.select("text"),hr=ee==="top"||ee==="left"?-1:1;if(ee==="bottom"||ee==="top"?(tt=Ke,Rn="x",ir="y",Wn="x2",gr="y2",wr.attr("dy",hr<0?"0em":".71em").style("text-anchor","middle"),Pn.attr("d","M"+gn[0]+","+hr*fe+"V0H"+gn[1]+"V"+hr*fe)):(tt=Qe,Rn="y",ir="x",Wn="y2",gr="x2",wr.attr("dy",".32em").style("text-anchor",hr<0?"end":"start"),Pn.attr("d","M"+hr*fe+","+gn[0]+"H0V"+gn[1]+"H"+hr*fe)),Xn.attr(gr,hr*re),Pr.attr(ir,hr*Vt),pr.attr(Wn,0).attr(gr,hr*re),nr.attr(Rn,0).attr(ir,hr*Vt),At.rangeBand){var Ar=At,vr=Ar.rangeBand()/2;dt=At=function(Lr){return Ar(Lr)+vr}}else dt.rangeBand?dt=At:$t.call(tt,At,dt);Dt.call(tt,dt,At),Yt.call(tt,At,At)})}return Ue.scale=function(Ge){return arguments.length?(H=Ge,Ue):H},Ue.orient=function(Ge){return arguments.length?(ee=Ge in Ul?Ge+"":rs,Ue):ee},Ue.ticks=function(){return arguments.length?(Ce=b(arguments),Ue):Ce},Ue.tickValues=function(Ge){return arguments.length?(De=Ge,Ue):De},Ue.tickFormat=function(Ge){return arguments.length?(L=Ge,Ue):L},Ue.tickSize=function(Ge){var tt=arguments.length;return tt?(re=+Ge,fe=+arguments[tt-1],Ue):re},Ue.innerTickSize=function(Ge){return arguments.length?(re=+Ge,Ue):re},Ue.outerTickSize=function(Ge){return arguments.length?(fe=+Ge,Ue):fe},Ue.tickPadding=function(Ge){return arguments.length?(ye=+Ge,Ue):ye},Ue.tickSubdivide=function(){return arguments.length&&Ue},Ue};var rs="bottom",Ul={top:1,right:1,bottom:1,left:1};function Ke(L,H,ee){L.attr("transform",function(re){var fe=H(re);return"translate("+(isFinite(fe)?fe:ee(re))+",0)"})}function Qe(L,H,ee){L.attr("transform",function(re){var fe=H(re);return"translate(0,"+(isFinite(fe)?fe:ee(re))+")"})}a.svg.brush=function(){var L,H,ee=G(tt,"brushstart","brush","brushend"),re=null,fe=null,ye=[0,0],Ce=[0,0],De=!0,Ue=!0,Ge=N[0];function tt(Et){Et.each(function(){var jt=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Ct).on("touchstart.brush",Ct),Dt=jt.selectAll(".background").data([0]);Dt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),jt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var $t=jt.selectAll(".resize").data(Ge,D);$t.exit().remove(),$t.enter().append("g").attr("class",function(xn){return"resize "+xn}).style("cursor",function(xn){return ut[xn]}).append("rect").attr("x",function(xn){return/[ew]$/.test(xn)?-3:null}).attr("y",function(xn){return/^[ns]/.test(xn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),$t.style("display",tt.empty()?"none":null);var Yt,Vt=a.transition(jt),gn=a.transition(Dt);re&&(Yt=$s(re),gn.attr("x",Yt[0]).attr("width",Yt[1]-Yt[0]),dt(Vt)),fe&&(Yt=$s(fe),gn.attr("y",Yt[0]).attr("height",Yt[1]-Yt[0]),At(Vt)),ft(Vt)})}function ft(Et){Et.selectAll(".resize").attr("transform",function(jt){return"translate("+ye[+/e$/.test(jt)]+","+Ce[+/^s/.test(jt)]+")"})}function dt(Et){Et.select(".extent").attr("x",ye[0]),Et.selectAll(".extent,.n>rect,.s>rect").attr("width",ye[1]-ye[0])}function At(Et){Et.select(".extent").attr("y",Ce[0]),Et.selectAll(".extent,.e>rect,.w>rect").attr("height",Ce[1]-Ce[0])}function Ct(){var Et,jt,Dt=this,$t=a.select(a.event.target),Yt=ee.of(Dt,arguments),Vt=a.select(Dt),gn=$t.datum(),xn=!/^(n|s)$/.test(gn)&&re,Pn=!/^(e|w)$/.test(gn)&&fe,Rn=$t.classed("extent"),Wn=vt(Dt),ir=a.mouse(Dt),gr=a.select(t(Dt)).on("keydown.brush",function(){a.event.keyCode==32&&(Rn||(Et=null,ir[0]-=ye[1],ir[1]-=Ce[1],Rn=2),Q())}).on("keyup.brush",function(){a.event.keyCode==32&&Rn==2&&(ir[0]+=ye[1],ir[1]+=Ce[1],Rn=0,Q())});if(a.event.changedTouches?gr.on("touchmove.brush",wr).on("touchend.brush",nr):gr.on("mousemove.brush",wr).on("mouseup.brush",nr),Vt.interrupt().selectAll("*").interrupt(),Rn)ir[0]=ye[0]-ir[0],ir[1]=Ce[0]-ir[1];else if(gn){var Xn=+/w$/.test(gn),pr=+/^n/.test(gn);jt=[ye[1-Xn]-ir[0],Ce[1-pr]-ir[1]],ir[0]=ye[Xn],ir[1]=Ce[pr]}else a.event.altKey&&(Et=ir.slice());function wr(){var hr=a.mouse(Dt),Ar=!1;jt&&(hr[0]+=jt[0],hr[1]+=jt[1]),Rn||(a.event.altKey?(Et||(Et=[(ye[0]+ye[1])/2,(Ce[0]+Ce[1])/2]),ir[0]=ye[+(hr[0]<Et[0])],ir[1]=Ce[+(hr[1]<Et[1])]):Et=null),xn&&Pr(hr,re,0)&&(dt(Vt),Ar=!0),Pn&&Pr(hr,fe,1)&&(At(Vt),Ar=!0),Ar&&(ft(Vt),Yt({type:"brush",mode:Rn?"move":"resize"}))}function Pr(hr,Ar,vr){var Lr,Rr,Ur=$s(Ar),Vr=Ur[0],Gr=Ur[1],Xr=ir[vr],mi=vr?Ce:ye,Di=mi[1]-mi[0];if(Rn&&(Vr-=Xr,Gr-=Di+Xr),Lr=(vr?Ue:De)?Math.max(Vr,Math.min(Gr,hr[vr])):hr[vr],Rn?Rr=(Lr+=Xr)+Di:(Et&&(Xr=Math.max(Vr,Math.min(Gr,2*Et[vr]-Lr))),Xr<Lr?(Rr=Lr,Lr=Xr):Rr=Xr),mi[0]!=Lr||mi[1]!=Rr)return vr?H=null:L=null,mi[0]=Lr,mi[1]=Rr,!0}function nr(){wr(),Vt.style("pointer-events","all").selectAll(".resize").style("display",tt.empty()?"none":null),a.select("body").style("cursor",null),gr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Wn(),Yt({type:"brushend"})}Vt.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",$t.style("cursor")),Yt({type:"brushstart"}),wr()}return tt.event=function(Et){Et.each(function(){var jt=ee.of(this,arguments),Dt={x:ye,y:Ce,i:L,j:H},$t=this.__chart__||Dt;this.__chart__=Dt,Ni?a.select(this).transition().each("start.brush",function(){L=$t.i,H=$t.j,ye=$t.x,Ce=$t.y,jt({type:"brushstart"})}).tween("brush:brush",function(){var Yt=Vo(ye,Dt.x),Vt=Vo(Ce,Dt.y);return L=H=null,function(gn){ye=Dt.x=Yt(gn),Ce=Dt.y=Vt(gn),jt({type:"brush",mode:"resize"})}}).each("end.brush",function(){L=Dt.i,H=Dt.j,jt({type:"brush",mode:"resize"}),jt({type:"brushend"})}):(jt({type:"brushstart"}),jt({type:"brush",mode:"resize"}),jt({type:"brushend"}))})},tt.x=function(Et){return arguments.length?(Ge=N[!(re=Et)<<1|!fe],tt):re},tt.y=function(Et){return arguments.length?(Ge=N[!re<<1|!(fe=Et)],tt):fe},tt.clamp=function(Et){return arguments.length?(re&&fe?(De=!!Et[0],Ue=!!Et[1]):re?De=!!Et:fe&&(Ue=!!Et),tt):re&&fe?[De,Ue]:re?De:fe?Ue:null},tt.extent=function(Et){var jt,Dt,$t,Yt,Vt;return arguments.length?(re&&(jt=Et[0],Dt=Et[1],fe&&(jt=jt[0],Dt=Dt[0]),L=[jt,Dt],re.invert&&(jt=re(jt),Dt=re(Dt)),Dt<jt&&(Vt=jt,jt=Dt,Dt=Vt),jt==ye[0]&&Dt==ye[1]||(ye=[jt,Dt])),fe&&($t=Et[0],Yt=Et[1],re&&($t=$t[1],Yt=Yt[1]),H=[$t,Yt],fe.invert&&($t=fe($t),Yt=fe(Yt)),Yt<$t&&(Vt=$t,$t=Yt,Yt=Vt),$t==Ce[0]&&Yt==Ce[1]||(Ce=[$t,Yt])),tt):(re&&(L?(jt=L[0],Dt=L[1]):(jt=ye[0],Dt=ye[1],re.invert&&(jt=re.invert(jt),Dt=re.invert(Dt)),Dt<jt&&(Vt=jt,jt=Dt,Dt=Vt))),fe&&(H?($t=H[0],Yt=H[1]):($t=Ce[0],Yt=Ce[1],fe.invert&&($t=fe.invert($t),Yt=fe.invert(Yt)),Yt<$t&&(Vt=$t,$t=Yt,Yt=Vt))),re&&fe?[[jt,$t],[Dt,Yt]]:re?[jt,Dt]:fe&&[$t,Yt])},tt.clear=function(){return tt.empty()||(ye=[0,0],Ce=[0,0],L=H=null),tt},tt.empty=function(){return!!re&&ye[0]==ye[1]||!!fe&&Ce[0]==Ce[1]},a.rebind(tt,ee,"on")};var ut={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},N=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function W(L){return JSON.parse(L.responseText)}function q(L){var H=h.createRange();return H.selectNode(h.body),H.createContextualFragment(L.responseText)}a.text=jn(function(L){return L.responseText}),a.json=function(L,H){return ar(L,"application/json",W,H)},a.html=function(L,H){return ar(L,"text/html",q,H)},a.xml=jn(function(L){return L.responseXML}),(k=typeof(A=a)=="function"?A.call(P,e,P,Y):A)===void 0||(Y.exports=k)}).apply(self)},3480:function(Y){Y.exports=function(){var P,e,A;function k(a,w){if(P)if(e){var b="var sharedChunk = {}; ("+P+")(sharedChunk); ("+e+")(sharedChunk);",h={};P(h),A=w(h),typeof window<"u"&&(A.workerUrl=window.URL.createObjectURL(new Blob([b],{type:"text/javascript"})))}else e=w;else P=w}return k(0,function(a){function w(M,R){return M(R={exports:{}},R.exports),R.exports}var b="1.13.4",h=o;function o(M,R,K,ue){this.cx=3*M,this.bx=3*(K-M)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*R,this.by=3*(ue-R)-this.cy,this.ay=1-this.cy-this.by,this.p1x=M,this.p1y=ue,this.p2x=K,this.p2y=ue}o.prototype.sampleCurveX=function(M){return((this.ax*M+this.bx)*M+this.cx)*M},o.prototype.sampleCurveY=function(M){return((this.ay*M+this.by)*M+this.cy)*M},o.prototype.sampleCurveDerivativeX=function(M){return(3*this.ax*M+2*this.bx)*M+this.cx},o.prototype.solveCurveX=function(M,R){var K,ue,Ae,Pe,je;for(R===void 0&&(R=1e-6),Ae=M,je=0;je<8;je++){if(Pe=this.sampleCurveX(Ae)-M,Math.abs(Pe)<R)return Ae;var $e=this.sampleCurveDerivativeX(Ae);if(Math.abs($e)<1e-6)break;Ae-=Pe/$e}if((Ae=M)<(K=0))return K;if(Ae>(ue=1))return ue;for(;K<ue;){if(Pe=this.sampleCurveX(Ae),Math.abs(Pe-M)<R)return Ae;M>Pe?K=Ae:ue=Ae,Ae=.5*(ue-K)+K}return Ae},o.prototype.solve=function(M,R){return this.sampleCurveY(this.solveCurveX(M,R))};var t=i;function i(M,R){this.x=M,this.y=R}i.prototype={clone:function(){return new i(this.x,this.y)},add:function(M){return this.clone()._add(M)},sub:function(M){return this.clone()._sub(M)},multByPoint:function(M){return this.clone()._multByPoint(M)},divByPoint:function(M){return this.clone()._divByPoint(M)},mult:function(M){return this.clone()._mult(M)},div:function(M){return this.clone()._div(M)},rotate:function(M){return this.clone()._rotate(M)},rotateAround:function(M,R){return this.clone()._rotateAround(M,R)},matMult:function(M){return this.clone()._matMult(M)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(M){return this.x===M.x&&this.y===M.y},dist:function(M){return Math.sqrt(this.distSqr(M))},distSqr:function(M){var R=M.x-this.x,K=M.y-this.y;return R*R+K*K},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(M){return Math.atan2(this.y-M.y,this.x-M.x)},angleWith:function(M){return this.angleWithSep(M.x,M.y)},angleWithSep:function(M,R){return Math.atan2(this.x*R-this.y*M,this.x*M+this.y*R)},_matMult:function(M){var R=M[0]*this.x+M[1]*this.y,K=M[2]*this.x+M[3]*this.y;return this.x=R,this.y=K,this},_add:function(M){return this.x+=M.x,this.y+=M.y,this},_sub:function(M){return this.x-=M.x,this.y-=M.y,this},_mult:function(M){return this.x*=M,this.y*=M,this},_div:function(M){return this.x/=M,this.y/=M,this},_multByPoint:function(M){return this.x*=M.x,this.y*=M.y,this},_divByPoint:function(M){return this.x/=M.x,this.y/=M.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var M=this.y;return this.y=this.x,this.x=-M,this},_rotate:function(M){var R=Math.cos(M),K=Math.sin(M),ue=R*this.x-K*this.y,Ae=K*this.x+R*this.y;return this.x=ue,this.y=Ae,this},_rotateAround:function(M,R){var K=Math.cos(M),ue=Math.sin(M),Ae=R.x+K*(this.x-R.x)-ue*(this.y-R.y),Pe=R.y+ue*(this.x-R.x)+K*(this.y-R.y);return this.x=Ae,this.y=Pe,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(M){return M instanceof i?M:Array.isArray(M)?new i(M[0],M[1]):M};var n=typeof self<"u"?self:{},r=Math.pow(2,53)-1;function s(M,R,K,ue){var Ae=new h(M,R,K,ue);return function(Pe){return Ae.solve(Pe)}}var l=s(.25,.1,.25,1);function u(M,R,K){return Math.min(K,Math.max(R,M))}function d(M,R,K){var ue=K-R,Ae=((M-R)%ue+ue)%ue+R;return Ae===R?K:Ae}function c(M){for(var R=[],K=arguments.length-1;K-- >0;)R[K]=arguments[K+1];for(var ue=0,Ae=R;ue<Ae.length;ue+=1){var Pe=Ae[ue];for(var je in Pe)M[je]=Pe[je]}return M}var x=1;function g(){return x++}function p(){return function M(R){return R?(R^16*Math.random()>>R/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,M)}()}function v(M){return!!M&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(M)}function y(M,R){M.forEach(function(K){R[K]&&(R[K]=R[K].bind(R))})}function m(M,R){return M.indexOf(R,M.length-R.length)!==-1}function _(M,R,K){var ue={};for(var Ae in M)ue[Ae]=R.call(K||this,M[Ae],Ae,M);return ue}function f(M,R,K){var ue={};for(var Ae in M)R.call(K||this,M[Ae],Ae,M)&&(ue[Ae]=M[Ae]);return ue}function S(M){return Array.isArray(M)?M.map(S):typeof M=="object"&&M?_(M,S):M}var T={};function E(M){T[M]||(typeof console<"u"&&console.warn(M),T[M]=!0)}function C(M,R,K){return(K.y-M.y)*(R.x-M.x)>(R.y-M.y)*(K.x-M.x)}function O(M){for(var R=0,K=0,ue=M.length,Ae=ue-1,Pe=void 0,je=void 0;K<ue;Ae=K++)Pe=M[K],R+=((je=M[Ae]).x-Pe.x)*(Pe.y+je.y);return R}function I(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function z(M){var R={};if(M.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(ue,Ae,Pe,je){var $e=Pe||je;return R[Ae]=!$e||$e.toLowerCase(),""}),R["max-age"]){var K=parseInt(R["max-age"],10);isNaN(K)?delete R["max-age"]:R["max-age"]=K}return R}var U=null;function D(M){if(U==null){var R=M.navigator?M.navigator.userAgent:null;U=!!M.safari||!(!R||!(/\b(iPad|iPhone|iPod)\b/.test(R)||R.match("Safari")&&!R.match("Chrome")))}return U}function B(M){try{var R=n[M];return R.setItem("_mapbox_test_",1),R.removeItem("_mapbox_test_"),!0}catch{return!1}}var Z,F,j,V,te=n.performance&&n.performance.now?n.performance.now.bind(n.performance):Date.now.bind(Date),Q=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame,$=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.msCancelAnimationFrame,G={now:te,frame:function(M){var R=Q(M);return{cancel:function(){return $(R)}}},getImageData:function(M,R){R===void 0&&(R=0);var K=n.document.createElement("canvas"),ue=K.getContext("2d");if(!ue)throw new Error("failed to create canvas 2d context");return K.width=M.width,K.height=M.height,ue.drawImage(M,0,0,M.width,M.height),ue.getImageData(-R,-R,M.width+2*R,M.height+2*R)},resolveURL:function(M){return Z||(Z=n.document.createElement("a")),Z.href=M,Z.href},hardwareConcurrency:n.navigator&&n.navigator.hardwareConcurrency||4,get devicePixelRatio(){return n.devicePixelRatio},get prefersReducedMotion(){return!!n.matchMedia&&(F==null&&(F=n.matchMedia("(prefers-reduced-motion: reduce)")),F.matches)}},X={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},J={supported:!1,testSupport:function(M){!ne&&V&&(ie?ae(M):j=M)}},ne=!1,ie=!1;function ae(M){var R=M.createTexture();M.bindTexture(M.TEXTURE_2D,R);try{if(M.texImage2D(M.TEXTURE_2D,0,M.RGBA,M.RGBA,M.UNSIGNED_BYTE,V),M.isContextLost())return;J.supported=!0}catch{}M.deleteTexture(R),ne=!0}n.document&&((V=n.document.createElement("img")).onload=function(){j&&ae(j),j=null,ie=!0},V.onerror=function(){ne=!0,j=null},V.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var le="01",ce=function(M,R){this._transformRequestFn=M,this._customAccessToken=R,this._createSkuToken()};function pe(M){return M.indexOf("mapbox:")===0}ce.prototype._createSkuToken=function(){var M=function(){for(var R="",K=0;K<10;K++)R+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",le,R].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=M.token,this._skuTokenExpiresAt=M.tokenExpiresAt},ce.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},ce.prototype.transformRequest=function(M,R){return this._transformRequestFn&&this._transformRequestFn(M,R)||{url:M}},ce.prototype.normalizeStyleURL=function(M,R){if(!pe(M))return M;var K=Me(M);return K.path="/styles/v1"+K.path,this._makeAPIURL(K,this._customAccessToken||R)},ce.prototype.normalizeGlyphsURL=function(M,R){if(!pe(M))return M;var K=Me(M);return K.path="/fonts/v1"+K.path,this._makeAPIURL(K,this._customAccessToken||R)},ce.prototype.normalizeSourceURL=function(M,R){if(!pe(M))return M;var K=Me(M);return K.path="/v4/"+K.authority+".json",K.params.push("secure"),this._makeAPIURL(K,this._customAccessToken||R)},ce.prototype.normalizeSpriteURL=function(M,R,K,ue){var Ae=Me(M);return pe(M)?(Ae.path="/styles/v1"+Ae.path+"/sprite"+R+K,this._makeAPIURL(Ae,this._customAccessToken||ue)):(Ae.path+=""+R+K,_e(Ae))},ce.prototype.normalizeTileURL=function(M,R){if(this._isSkuTokenExpired()&&this._createSkuToken(),M&&!pe(M))return M;var K=Me(M),ue=G.devicePixelRatio>=2||R===512?"@2x":"",Ae=J.supported?".webp":"$1";K.path=K.path.replace(/(\.(png|jpg)\d*)(?=$)/,""+ue+Ae),K.path=K.path.replace(/^.+\/v4\//,"/"),K.path="/v4"+K.path;var Pe=this._customAccessToken||function(je){for(var $e=0,ct=je;$e<ct.length;$e+=1){var wt=ct[$e].match(/^access_token=(.*)$/);if(wt)return wt[1]}return null}(K.params)||X.ACCESS_TOKEN;return X.REQUIRE_ACCESS_TOKEN&&Pe&&this._skuToken&&K.params.push("sku="+this._skuToken),this._makeAPIURL(K,Pe)},ce.prototype.canonicalizeTileURL=function(M,R){var K=Me(M);if(!K.path.match(/(^\/v4\/)/)||!K.path.match(/\.[\w]+$/))return M;var ue="mapbox://tiles/";ue+=K.path.replace("/v4/","");var Ae=K.params;return R&&(Ae=Ae.filter(function(Pe){return!Pe.match(/^access_token=/)})),Ae.length&&(ue+="?"+Ae.join("&")),ue},ce.prototype.canonicalizeTileset=function(M,R){for(var K=!!R&&pe(R),ue=[],Ae=0,Pe=M.tiles||[];Ae<Pe.length;Ae+=1){var je=Pe[Ae];me(je)?ue.push(this.canonicalizeTileURL(je,K)):ue.push(je)}return ue},ce.prototype._makeAPIURL=function(M,R){var K="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ue=Me(X.API_URL);if(M.protocol=ue.protocol,M.authority=ue.authority,M.protocol==="http"){var Ae=M.params.indexOf("secure");Ae>=0&&M.params.splice(Ae,1)}if(ue.path!=="/"&&(M.path=""+ue.path+M.path),!X.REQUIRE_ACCESS_TOKEN)return _e(M);if(!(R=R||X.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+K);if(R[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+K);return M.params=M.params.filter(function(Pe){return Pe.indexOf("access_token")===-1}),M.params.push("access_token="+R),_e(M)};var ge=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function me(M){return ge.test(M)}var ve=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Me(M){var R=M.match(ve);if(!R)throw new Error("Unable to parse URL object");return{protocol:R[1],authority:R[2],path:R[3]||"/",params:R[4]?R[4].split("&"):[]}}function _e(M){var R=M.params.length?"?"+M.params.join("&"):"";return M.protocol+"://"+M.authority+M.path+R}var we="mapbox.eventData";function oe(M){if(!M)return null;var R,K=M.split(".");if(!K||K.length!==3)return null;try{return JSON.parse((R=K[1],decodeURIComponent(n.atob(R).split("").map(function(ue){return"%"+("00"+ue.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch{return null}}var se=function(M){this.type=M,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};se.prototype.getStorageKey=function(M){var R,K,ue=oe(X.ACCESS_TOKEN);return R=ue&&ue.u?(K=ue.u,n.btoa(encodeURIComponent(K).replace(/%([0-9A-F]{2})/g,function(Ae,Pe){return String.fromCharCode(Number("0x"+Pe))}))):X.ACCESS_TOKEN||"",M?we+"."+M+":"+R:we+":"+R},se.prototype.fetchEventData=function(){var M=B("localStorage"),R=this.getStorageKey(),K=this.getStorageKey("uuid");if(M)try{var ue=n.localStorage.getItem(R);ue&&(this.eventData=JSON.parse(ue));var Ae=n.localStorage.getItem(K);Ae&&(this.anonId=Ae)}catch{E("Unable to read from LocalStorage")}},se.prototype.saveEventData=function(){var M=B("localStorage"),R=this.getStorageKey(),K=this.getStorageKey("uuid");if(M)try{n.localStorage.setItem(K,this.anonId),Object.keys(this.eventData).length>=1&&n.localStorage.setItem(R,JSON.stringify(this.eventData))}catch{E("Unable to write to LocalStorage")}},se.prototype.processRequests=function(M){},se.prototype.postEvent=function(M,R,K,ue){var Ae=this;if(X.EVENTS_URL){var Pe=Me(X.EVENTS_URL);Pe.params.push("access_token="+(ue||X.ACCESS_TOKEN||""));var je={event:this.type,created:new Date(M).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:b,skuId:le,userId:this.anonId},$e=R?c(je,R):je,ct={url:_e(Pe),headers:{"Content-Type":"text/plain"},body:JSON.stringify([$e])};this.pendingRequest=Rt(ct,function(wt){Ae.pendingRequest=null,K(wt),Ae.saveEventData(),Ae.processRequests(ue)})}},se.prototype.queueRequest=function(M,R){this.queue.push(M),this.processRequests(R)};var de,Ee,Te=function(M){function R(){M.call(this,"map.load"),this.success={},this.skuToken=""}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.postMapLoadEvent=function(K,ue,Ae,Pe){this.skuToken=Ae,(X.EVENTS_URL&&Pe||X.ACCESS_TOKEN&&Array.isArray(K)&&K.some(function(je){return pe(je)||me(je)}))&&this.queueRequest({id:ue,timestamp:Date.now()},Pe)},R.prototype.processRequests=function(K){var ue=this;if(!this.pendingRequest&&this.queue.length!==0){var Ae=this.queue.shift(),Pe=Ae.id,je=Ae.timestamp;Pe&&this.success[Pe]||(this.anonId||this.fetchEventData(),v(this.anonId)||(this.anonId=p()),this.postEvent(je,{skuToken:this.skuToken},function($e){$e||Pe&&(ue.success[Pe]=!0)},K))}},R}(se),Se=function(M){function R(K){M.call(this,"appUserTurnstile"),this._customAccessToken=K}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.postTurnstileEvent=function(K,ue){X.EVENTS_URL&&X.ACCESS_TOKEN&&Array.isArray(K)&&K.some(function(Ae){return pe(Ae)||me(Ae)})&&this.queueRequest(Date.now(),ue)},R.prototype.processRequests=function(K){var ue=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var Ae=oe(X.ACCESS_TOKEN),Pe=Ae?Ae.u:X.ACCESS_TOKEN,je=Pe!==this.eventData.tokenU;v(this.anonId)||(this.anonId=p(),je=!0);var $e=this.queue.shift();if(this.eventData.lastSuccess){var ct=new Date(this.eventData.lastSuccess),wt=new Date($e),St=($e-this.eventData.lastSuccess)/864e5;je=je||St>=1||St<-1||ct.getDate()!==wt.getDate()}else je=!0;if(!je)return this.processRequests();this.postEvent($e,{"enabled.telemetry":!1},function(Nt){Nt||(ue.eventData.lastSuccess=$e,ue.eventData.tokenU=Pe)},K)}},R}(se),Le=new Se,Oe=Le.postTurnstileEvent.bind(Le),he=new Te,xe=he.postMapLoadEvent.bind(he),ke="mapbox-tiles",Re=500,ze=50,Ie=42e4;function He(){n.caches&&!de&&(de=n.caches.open(ke))}function qe(M,R,K){if(He(),de){var ue={status:R.status,statusText:R.statusText,headers:new n.Headers};R.headers.forEach(function(Pe,je){return ue.headers.set(je,Pe)});var Ae=z(R.headers.get("Cache-Control")||"");Ae["no-store"]||(Ae["max-age"]&&ue.headers.set("Expires",new Date(K+1e3*Ae["max-age"]).toUTCString()),new Date(ue.headers.get("Expires")).getTime()-K<Ie||function(Pe,je){if(Ee===void 0)try{new Response(new ReadableStream),Ee=!0}catch{Ee=!1}Ee?je(Pe.body):Pe.blob().then(je)}(R,function(Pe){var je=new n.Response(Pe,ue);He(),de&&de.then(function($e){return $e.put(Je(M.url),je)}).catch(function($e){return E($e.message)})}))}}function Je(M){var R=M.indexOf("?");return R<0?M:M.slice(0,R)}function st(M,R){if(He(),!de)return R(null);var K=Je(M.url);de.then(function(ue){ue.match(K).then(function(Ae){var Pe=function(je){if(!je)return!1;var $e=new Date(je.headers.get("Expires")||0),ct=z(je.headers.get("Cache-Control")||"");return $e>Date.now()&&!ct["no-cache"]}(Ae);ue.delete(K),Pe&&ue.put(K,Ae.clone()),R(null,Ae,Pe)}).catch(R)}).catch(R)}var it,vt=1/0;function _t(){return it==null&&(it=n.OffscreenCanvas&&new n.OffscreenCanvas(1,1).getContext("2d")&&typeof n.createImageBitmap=="function"),it}var xt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(xt);var et=function(M){function R(K,ue,Ae){ue===401&&me(Ae)&&(K+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),M.call(this,K),this.status=ue,this.url=Ae,this.name=this.constructor.name,this.message=K}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},R}(Error),nt=I()?function(){return self.worker&&self.worker.referrer}:function(){return(n.location.protocol==="blob:"?n.parent:n).location.href};function Mt(M,R){var K,ue=new n.AbortController,Ae=new n.Request(M.url,{method:M.method||"GET",body:M.body,credentials:M.credentials,headers:M.headers,referrer:nt(),signal:ue.signal}),Pe=!1,je=!1,$e=(K=Ae.url).indexOf("sku=")>0&&me(K);M.type==="json"&&Ae.headers.set("Accept","application/json");var ct=function(St,Nt,Gt){if(!je){if(St&&St.message!=="SecurityError"&&E(St),Nt&&Gt)return wt(Nt);var Ut=Date.now();n.fetch(Ae).then(function(sn){if(sn.ok){var cn=$e?sn.clone():null;return wt(sn,cn,Ut)}return R(new et(sn.statusText,sn.status,M.url))}).catch(function(sn){sn.code!==20&&R(new Error(sn.message))})}},wt=function(St,Nt,Gt){(M.type==="arrayBuffer"?St.arrayBuffer():M.type==="json"?St.json():St.text()).then(function(Ut){je||(Nt&&Gt&&qe(Ae,Nt,Gt),Pe=!0,R(null,Ut,St.headers.get("Cache-Control"),St.headers.get("Expires")))}).catch(function(Ut){je||R(new Error(Ut.message))})};return $e?st(Ae,ct):ct(null,null),{cancel:function(){je=!0,Pe||ue.abort()}}}var zt=function(M,R){if(K=M.url,!(/^file:/.test(K)||/^file:/.test(nt())&&!/^\w+:/.test(K))){if(n.fetch&&n.Request&&n.AbortController&&n.Request.prototype.hasOwnProperty("signal"))return Mt(M,R);if(I()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",M,R,void 0,!0)}var K;return function(ue,Ae){var Pe=new n.XMLHttpRequest;for(var je in Pe.open(ue.method||"GET",ue.url,!0),ue.type==="arrayBuffer"&&(Pe.responseType="arraybuffer"),ue.headers)Pe.setRequestHeader(je,ue.headers[je]);return ue.type==="json"&&(Pe.responseType="text",Pe.setRequestHeader("Accept","application/json")),Pe.withCredentials=ue.credentials==="include",Pe.onerror=function(){Ae(new Error(Pe.statusText))},Pe.onload=function(){if((Pe.status>=200&&Pe.status<300||Pe.status===0)&&Pe.response!==null){var $e=Pe.response;if(ue.type==="json")try{$e=JSON.parse(Pe.response)}catch(ct){return Ae(ct)}Ae(null,$e,Pe.getResponseHeader("Cache-Control"),Pe.getResponseHeader("Expires"))}else Ae(new et(Pe.statusText,Pe.status,ue.url))},Pe.send(ue.body),{cancel:function(){return Pe.abort()}}}(M,R)},Ft=function(M,R){return zt(c(M,{type:"arrayBuffer"}),R)},Rt=function(M,R){return zt(c(M,{method:"POST"}),R)},We,Ze,Ne="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";We=[],Ze=0;var Ye=function(M,R){if(J.supported&&(M.headers||(M.headers={}),M.headers.accept="image/webp,*/*"),Ze>=X.MAX_PARALLEL_IMAGE_REQUESTS){var K={requestParameters:M,callback:R,cancelled:!1,cancel:function(){this.cancelled=!0}};return We.push(K),K}Ze++;var ue=!1,Ae=function(){if(!ue)for(ue=!0,Ze--;We.length&&Ze<X.MAX_PARALLEL_IMAGE_REQUESTS;){var je=We.shift(),$e=je.requestParameters,ct=je.callback;je.cancelled||(je.cancel=Ye($e,ct).cancel)}},Pe=Ft(M,function(je,$e,ct,wt){Ae(),je?R(je):$e&&(_t()?function(St,Nt){var Gt=new n.Blob([new Uint8Array(St)],{type:"image/png"});n.createImageBitmap(Gt).then(function(Ut){Nt(null,Ut)}).catch(function(Ut){Nt(new Error("Could not load image because of "+Ut.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}($e,R):function(St,Nt,Gt,Ut){var sn=new n.Image,cn=n.URL;sn.onload=function(){Nt(null,sn),cn.revokeObjectURL(sn.src),sn.onload=null,n.requestAnimationFrame(function(){sn.src=Ne})},sn.onerror=function(){return Nt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var An=new n.Blob([new Uint8Array(St)],{type:"image/png"});sn.cacheControl=Gt,sn.expires=Ut,sn.src=St.byteLength?cn.createObjectURL(An):Ne}($e,R,ct,wt))});return{cancel:function(){Pe.cancel(),Ae()}}};function lt(M,R,K){K[M]&&K[M].indexOf(R)!==-1||(K[M]=K[M]||[],K[M].push(R))}function at(M,R,K){if(K&&K[M]){var ue=K[M].indexOf(R);ue!==-1&&K[M].splice(ue,1)}}var Fe=function(M,R){R===void 0&&(R={}),c(this,R),this.type=M},Be=function(M){function R(K,ue){ue===void 0&&(ue={}),M.call(this,"error",c({error:K},ue))}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R}(Fe),ot=function(){};ot.prototype.on=function(M,R){return this._listeners=this._listeners||{},lt(M,R,this._listeners),this},ot.prototype.off=function(M,R){return at(M,R,this._listeners),at(M,R,this._oneTimeListeners),this},ot.prototype.once=function(M,R){return this._oneTimeListeners=this._oneTimeListeners||{},lt(M,R,this._oneTimeListeners),this},ot.prototype.fire=function(M,R){typeof M=="string"&&(M=new Fe(M,R||{}));var K=M.type;if(this.listens(K)){M.target=this;for(var ue=0,Ae=this._listeners&&this._listeners[K]?this._listeners[K].slice():[];ue<Ae.length;ue+=1)Ae[ue].call(this,M);for(var Pe=0,je=this._oneTimeListeners&&this._oneTimeListeners[K]?this._oneTimeListeners[K].slice():[];Pe<je.length;Pe+=1){var $e=je[Pe];at(K,$e,this._oneTimeListeners),$e.call(this,M)}var ct=this._eventedParent;ct&&(c(M,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ct.fire(M))}else M instanceof Be&&console.error(M.error);return this},ot.prototype.listens=function(M){return this._listeners&&this._listeners[M]&&this._listeners[M].length>0||this._oneTimeListeners&&this._oneTimeListeners[M]&&this._oneTimeListeners[M].length>0||this._eventedParent&&this._eventedParent.listens(M)},ot.prototype.setEventedParent=function(M,R){return this._eventedParent=M,this._eventedParentData=R,this};var Xe={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},pt=function(M,R,K,ue){this.message=(M?M+": ":"")+K,ue&&(this.identifier=ue),R!=null&&R.__line__&&(this.line=R.__line__)};function mt(M){var R=M.key,K=M.value;return K?[new pt(R,K,"constants have been deprecated as of v8")]:[]}function yt(M){for(var R=[],K=arguments.length-1;K-- >0;)R[K]=arguments[K+1];for(var ue=0,Ae=R;ue<Ae.length;ue+=1){var Pe=Ae[ue];for(var je in Pe)M[je]=Pe[je]}return M}function ht(M){return M instanceof Number||M instanceof String||M instanceof Boolean?M.valueOf():M}function Lt(M){if(Array.isArray(M))return M.map(Lt);if(M instanceof Object&&!(M instanceof Number||M instanceof String||M instanceof Boolean)){var R={};for(var K in M)R[K]=Lt(M[K]);return R}return ht(M)}var Tt=function(M){function R(K,ue){M.call(this,ue),this.message=ue,this.key=K}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R}(Error),bt=function(M,R){R===void 0&&(R=[]),this.parent=M,this.bindings={};for(var K=0,ue=R;K<ue.length;K+=1){var Ae=ue[K],Pe=Ae[0],je=Ae[1];this.bindings[Pe]=je}};bt.prototype.concat=function(M){return new bt(this,M)},bt.prototype.get=function(M){if(this.bindings[M])return this.bindings[M];if(this.parent)return this.parent.get(M);throw new Error(M+" not found in scope.")},bt.prototype.has=function(M){return!!this.bindings[M]||!!this.parent&&this.parent.has(M)};var Pt={kind:"null"},Ot={kind:"number"},Bt={kind:"string"},Kt={kind:"boolean"},on={kind:"color"},qt={kind:"object"},Wt={kind:"value"},nn={kind:"collator"},En={kind:"formatted"},Mn={kind:"resolvedImage"};function dn(M,R){return{kind:"array",itemType:M,N:R}}function Jt(M){if(M.kind==="array"){var R=Jt(M.itemType);return typeof M.N=="number"?"array<"+R+", "+M.N+">":M.itemType.kind==="value"?"array":"array<"+R+">"}return M.kind}var un=[Pt,Ot,Bt,Kt,on,En,qt,dn(Wt),Mn];function rn(M,R){if(R.kind==="error")return null;if(M.kind==="array"){if(R.kind==="array"&&(R.N===0&&R.itemType.kind==="value"||!rn(M.itemType,R.itemType))&&(typeof M.N!="number"||M.N===R.N))return null}else{if(M.kind===R.kind)return null;if(M.kind==="value"){for(var K=0,ue=un;K<ue.length;K+=1)if(!rn(ue[K],R))return null}}return"Expected "+Jt(M)+" but found "+Jt(R)+" instead."}function hn(M,R){return R.some(function(K){return K.kind===M.kind})}function kn(M,R){return R.some(function(K){return K==="null"?M===null:K==="array"?Array.isArray(M):K==="object"?M&&!Array.isArray(M)&&typeof M=="object":K===typeof M})}var Ln=w(function(M,R){var K={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ue(ct){return(ct=Math.round(ct))<0?0:ct>255?255:ct}function Ae(ct){return ct<0?0:ct>1?1:ct}function Pe(ct){return ct[ct.length-1]==="%"?ue(parseFloat(ct)/100*255):ue(parseInt(ct))}function je(ct){return ct[ct.length-1]==="%"?Ae(parseFloat(ct)/100):Ae(parseFloat(ct))}function $e(ct,wt,St){return St<0?St+=1:St>1&&(St-=1),6*St<1?ct+(wt-ct)*St*6:2*St<1?wt:3*St<2?ct+(wt-ct)*(2/3-St)*6:ct}try{R.parseCSSColor=function(ct){var wt,St=ct.replace(/ /g,"").toLowerCase();if(St in K)return K[St].slice();if(St[0]==="#")return St.length===4?(wt=parseInt(St.substr(1),16))>=0&&wt<=4095?[(3840&wt)>>4|(3840&wt)>>8,240&wt|(240&wt)>>4,15&wt|(15&wt)<<4,1]:null:St.length===7&&(wt=parseInt(St.substr(1),16))>=0&&wt<=16777215?[(16711680&wt)>>16,(65280&wt)>>8,255&wt,1]:null;var Nt=St.indexOf("("),Gt=St.indexOf(")");if(Nt!==-1&&Gt+1===St.length){var Ut=St.substr(0,Nt),sn=St.substr(Nt+1,Gt-(Nt+1)).split(","),cn=1;switch(Ut){case"rgba":if(sn.length!==4)return null;cn=je(sn.pop());case"rgb":return sn.length!==3?null:[Pe(sn[0]),Pe(sn[1]),Pe(sn[2]),cn];case"hsla":if(sn.length!==4)return null;cn=je(sn.pop());case"hsl":if(sn.length!==3)return null;var An=(parseFloat(sn[0])%360+360)%360/360,wn=je(sn[1]),Bn=je(sn[2]),Un=Bn<=.5?Bn*(wn+1):Bn+wn-Bn*wn,Yn=2*Bn-Un;return[ue(255*$e(Yn,Un,An+1/3)),ue(255*$e(Yn,Un,An)),ue(255*$e(Yn,Un,An-1/3)),cn];default:return null}}return null}}catch{}}),Dn=Ln.parseCSSColor,zn=function(M,R,K,ue){ue===void 0&&(ue=1),this.r=M,this.g=R,this.b=K,this.a=ue};zn.parse=function(M){if(M){if(M instanceof zn)return M;if(typeof M=="string"){var R=Dn(M);if(R)return new zn(R[0]/255*R[3],R[1]/255*R[3],R[2]/255*R[3],R[3])}}},zn.prototype.toString=function(){var M=this.toArray(),R=M[0],K=M[1],ue=M[2],Ae=M[3];return"rgba("+Math.round(R)+","+Math.round(K)+","+Math.round(ue)+","+Ae+")"},zn.prototype.toArray=function(){var M=this,R=M.r,K=M.g,ue=M.b,Ae=M.a;return Ae===0?[0,0,0,0]:[255*R/Ae,255*K/Ae,255*ue/Ae,Ae]},zn.black=new zn(0,0,0,1),zn.white=new zn(1,1,1,1),zn.transparent=new zn(0,0,0,0),zn.red=new zn(1,0,0,1);var On=function(M,R,K){this.sensitivity=M?R?"variant":"case":R?"accent":"base",this.locale=K,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};On.prototype.compare=function(M,R){return this.collator.compare(M,R)},On.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Hn=function(M,R,K,ue,Ae){this.text=M,this.image=R,this.scale=K,this.fontStack=ue,this.textColor=Ae},jn=function(M){this.sections=M};jn.fromString=function(M){return new jn([new Hn(M,null,null,null,null)])},jn.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(M){return M.text.length!==0||M.image&&M.image.name.length!==0})},jn.factory=function(M){return M instanceof jn?M:jn.fromString(M)},jn.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(M){return M.text}).join("")},jn.prototype.serialize=function(){for(var M=["format"],R=0,K=this.sections;R<K.length;R+=1){var ue=K[R];if(ue.image)M.push(["image",ue.image.name]);else{M.push(ue.text);var Ae={};ue.fontStack&&(Ae["text-font"]=["literal",ue.fontStack.split(",")]),ue.scale&&(Ae["font-scale"]=ue.scale),ue.textColor&&(Ae["text-color"]=["rgba"].concat(ue.textColor.toArray())),M.push(Ae)}}return M};var ar=function(M){this.name=M.name,this.available=M.available};function ur(M,R,K,ue){return typeof M=="number"&&M>=0&&M<=255&&typeof R=="number"&&R>=0&&R<=255&&typeof K=="number"&&K>=0&&K<=255?ue===void 0||typeof ue=="number"&&ue>=0&&ue<=1?null:"Invalid rgba value ["+[M,R,K,ue].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof ue=="number"?[M,R,K,ue]:[M,R,K]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function cr(M){if(M===null||typeof M=="string"||typeof M=="boolean"||typeof M=="number"||M instanceof zn||M instanceof On||M instanceof jn||M instanceof ar)return!0;if(Array.isArray(M)){for(var R=0,K=M;R<K.length;R+=1)if(!cr(K[R]))return!1;return!0}if(typeof M=="object"){for(var ue in M)if(!cr(M[ue]))return!1;return!0}return!1}function er(M){if(M===null)return Pt;if(typeof M=="string")return Bt;if(typeof M=="boolean")return Kt;if(typeof M=="number")return Ot;if(M instanceof zn)return on;if(M instanceof On)return nn;if(M instanceof jn)return En;if(M instanceof ar)return Mn;if(Array.isArray(M)){for(var R,K=M.length,ue=0,Ae=M;ue<Ae.length;ue+=1){var Pe=er(Ae[ue]);if(R){if(R===Pe)continue;R=Wt;break}R=Pe}return dn(R||Wt,K)}return qt}function Tr(M){var R=typeof M;return M===null?"":R==="string"||R==="number"||R==="boolean"?String(M):M instanceof zn||M instanceof jn||M instanceof ar?M.toString():JSON.stringify(M)}ar.prototype.toString=function(){return this.name},ar.fromString=function(M){return M?new ar({name:M,available:!1}):null},ar.prototype.serialize=function(){return["image",this.name]};var Ht=function(M,R){this.type=M,this.value=R};Ht.parse=function(M,R){if(M.length!==2)return R.error("'literal' expression requires exactly one argument, but found "+(M.length-1)+" instead.");if(!cr(M[1]))return R.error("invalid value");var K=M[1],ue=er(K),Ae=R.expectedType;return ue.kind!=="array"||ue.N!==0||!Ae||Ae.kind!=="array"||typeof Ae.N=="number"&&Ae.N!==0||(ue=Ae),new Ht(ue,K)},Ht.prototype.evaluate=function(){return this.value},Ht.prototype.eachChild=function(){},Ht.prototype.outputDefined=function(){return!0},Ht.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof zn?["rgba"].concat(this.value.toArray()):this.value instanceof jn?this.value.serialize():this.value};var an=function(M){this.name="ExpressionEvaluationError",this.message=M};an.prototype.toJSON=function(){return this.message};var _n={string:Bt,number:Ot,boolean:Kt,object:qt},vn=function(M,R){this.type=M,this.args=R};vn.parse=function(M,R){if(M.length<2)return R.error("Expected at least one argument.");var K,ue=1,Ae=M[0];if(Ae==="array"){var Pe,je;if(M.length>2){var $e=M[1];if(typeof $e!="string"||!($e in _n)||$e==="object")return R.error('The item type argument of "array" must be one of string, number, boolean',1);Pe=_n[$e],ue++}else Pe=Wt;if(M.length>3){if(M[2]!==null&&(typeof M[2]!="number"||M[2]<0||M[2]!==Math.floor(M[2])))return R.error('The length argument to "array" must be a positive integer literal',2);je=M[2],ue++}K=dn(Pe,je)}else K=_n[Ae];for(var ct=[];ue<M.length;ue++){var wt=R.parse(M[ue],ue,Wt);if(!wt)return null;ct.push(wt)}return new vn(K,ct)},vn.prototype.evaluate=function(M){for(var R=0;R<this.args.length;R++){var K=this.args[R].evaluate(M);if(!rn(this.type,er(K)))return K;if(R===this.args.length-1)throw new an("Expected value to be of type "+Jt(this.type)+", but found "+Jt(er(K))+" instead.")}return null},vn.prototype.eachChild=function(M){this.args.forEach(M)},vn.prototype.outputDefined=function(){return this.args.every(function(M){return M.outputDefined()})},vn.prototype.serialize=function(){var M=this.type,R=[M.kind];if(M.kind==="array"){var K=M.itemType;if(K.kind==="string"||K.kind==="number"||K.kind==="boolean"){R.push(K.kind);var ue=M.N;(typeof ue=="number"||this.args.length>1)&&R.push(ue)}}return R.concat(this.args.map(function(Ae){return Ae.serialize()}))};var Cn=function(M){this.type=En,this.sections=M};Cn.parse=function(M,R){if(M.length<2)return R.error("Expected at least one argument.");var K=M[1];if(!Array.isArray(K)&&typeof K=="object")return R.error("First argument must be an image or text section.");for(var ue=[],Ae=!1,Pe=1;Pe<=M.length-1;++Pe){var je=M[Pe];if(Ae&&typeof je=="object"&&!Array.isArray(je)){Ae=!1;var $e=null;if(je["font-scale"]&&!($e=R.parse(je["font-scale"],1,Ot)))return null;var ct=null;if(je["text-font"]&&!(ct=R.parse(je["text-font"],1,dn(Bt))))return null;var wt=null;if(je["text-color"]&&!(wt=R.parse(je["text-color"],1,on)))return null;var St=ue[ue.length-1];St.scale=$e,St.font=ct,St.textColor=wt}else{var Nt=R.parse(M[Pe],1,Wt);if(!Nt)return null;var Gt=Nt.type.kind;if(Gt!=="string"&&Gt!=="value"&&Gt!=="null"&&Gt!=="resolvedImage")return R.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Ae=!0,ue.push({content:Nt,scale:null,font:null,textColor:null})}}return new Cn(ue)},Cn.prototype.evaluate=function(M){return new jn(this.sections.map(function(R){var K=R.content.evaluate(M);return er(K)===Mn?new Hn("",K,null,null,null):new Hn(Tr(K),null,R.scale?R.scale.evaluate(M):null,R.font?R.font.evaluate(M).join(","):null,R.textColor?R.textColor.evaluate(M):null)}))},Cn.prototype.eachChild=function(M){for(var R=0,K=this.sections;R<K.length;R+=1){var ue=K[R];M(ue.content),ue.scale&&M(ue.scale),ue.font&&M(ue.font),ue.textColor&&M(ue.textColor)}},Cn.prototype.outputDefined=function(){return!1},Cn.prototype.serialize=function(){for(var M=["format"],R=0,K=this.sections;R<K.length;R+=1){var ue=K[R];M.push(ue.content.serialize());var Ae={};ue.scale&&(Ae["font-scale"]=ue.scale.serialize()),ue.font&&(Ae["text-font"]=ue.font.serialize()),ue.textColor&&(Ae["text-color"]=ue.textColor.serialize()),M.push(Ae)}return M};var Gn=function(M){this.type=Mn,this.input=M};Gn.parse=function(M,R){if(M.length!==2)return R.error("Expected two arguments.");var K=R.parse(M[1],1,Bt);return K?new Gn(K):R.error("No image name provided.")},Gn.prototype.evaluate=function(M){var R=this.input.evaluate(M),K=ar.fromString(R);return K&&M.availableImages&&(K.available=M.availableImages.indexOf(R)>-1),K},Gn.prototype.eachChild=function(M){M(this.input)},Gn.prototype.outputDefined=function(){return!1},Gn.prototype.serialize=function(){return["image",this.input.serialize()]};var Fn={"to-boolean":Kt,"to-color":on,"to-number":Ot,"to-string":Bt},Nn=function(M,R){this.type=M,this.args=R};Nn.parse=function(M,R){if(M.length<2)return R.error("Expected at least one argument.");var K=M[0];if((K==="to-boolean"||K==="to-string")&&M.length!==2)return R.error("Expected one argument.");for(var ue=Fn[K],Ae=[],Pe=1;Pe<M.length;Pe++){var je=R.parse(M[Pe],Pe,Wt);if(!je)return null;Ae.push(je)}return new Nn(ue,Ae)},Nn.prototype.evaluate=function(M){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(M));if(this.type.kind==="color"){for(var R,K,ue=0,Ae=this.args;ue<Ae.length;ue+=1){if(K=null,(R=Ae[ue].evaluate(M))instanceof zn)return R;if(typeof R=="string"){var Pe=M.parseColor(R);if(Pe)return Pe}else if(Array.isArray(R)&&!(K=R.length<3||R.length>4?"Invalid rbga value "+JSON.stringify(R)+": expected an array containing either three or four numeric values.":ur(R[0],R[1],R[2],R[3])))return new zn(R[0]/255,R[1]/255,R[2]/255,R[3])}throw new an(K||"Could not parse color from value '"+(typeof R=="string"?R:String(JSON.stringify(R)))+"'")}if(this.type.kind==="number"){for(var je=null,$e=0,ct=this.args;$e<ct.length;$e+=1){if((je=ct[$e].evaluate(M))===null)return 0;var wt=Number(je);if(!isNaN(wt))return wt}throw new an("Could not convert "+JSON.stringify(je)+" to number.")}return this.type.kind==="formatted"?jn.fromString(Tr(this.args[0].evaluate(M))):this.type.kind==="resolvedImage"?ar.fromString(Tr(this.args[0].evaluate(M))):Tr(this.args[0].evaluate(M))},Nn.prototype.eachChild=function(M){this.args.forEach(M)},Nn.prototype.outputDefined=function(){return this.args.every(function(M){return M.outputDefined()})},Nn.prototype.serialize=function(){if(this.type.kind==="formatted")return new Cn([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Gn(this.args[0]).serialize();var M=["to-"+this.type.kind];return this.eachChild(function(R){M.push(R.serialize())}),M};var rr=["Unknown","Point","LineString","Polygon"],Zt=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Zt.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Zt.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?rr[this.feature.type]:this.feature.type:null},Zt.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Zt.prototype.canonicalID=function(){return this.canonical},Zt.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Zt.prototype.parseColor=function(M){var R=this._parseColorCache[M];return R||(R=this._parseColorCache[M]=zn.parse(M)),R};var mn=function(M,R,K,ue){this.name=M,this.type=R,this._evaluate=K,this.args=ue};mn.prototype.evaluate=function(M){return this._evaluate(M,this.args)},mn.prototype.eachChild=function(M){this.args.forEach(M)},mn.prototype.outputDefined=function(){return!1},mn.prototype.serialize=function(){return[this.name].concat(this.args.map(function(M){return M.serialize()}))},mn.parse=function(M,R){var K,ue=M[0],Ae=mn.definitions[ue];if(!Ae)return R.error('Unknown expression "'+ue+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Pe=Array.isArray(Ae)?Ae[0]:Ae.type,je=Array.isArray(Ae)?[[Ae[1],Ae[2]]]:Ae.overloads,$e=je.filter(function(jr){var Ir=jr[0];return!Array.isArray(Ir)||Ir.length===M.length-1}),ct=null,wt=0,St=$e;wt<St.length;wt+=1){var Nt=St[wt],Gt=Nt[0],Ut=Nt[1];ct=new dr(R.registry,R.path,null,R.scope);for(var sn=[],cn=!1,An=1;An<M.length;An++){var wn=M[An],Bn=Array.isArray(Gt)?Gt[An-1]:Gt.type,Un=ct.parse(wn,1+sn.length,Bn);if(!Un){cn=!0;break}sn.push(Un)}if(!cn)if(Array.isArray(Gt)&&Gt.length!==sn.length)ct.error("Expected "+Gt.length+" arguments, but found "+sn.length+" instead.");else{for(var Yn=0;Yn<sn.length;Yn++){var Jn=Array.isArray(Gt)?Gt[Yn]:Gt.type,lr=sn[Yn];ct.concat(Yn+1).checkSubtype(Jn,lr.type)}if(ct.errors.length===0)return new mn(ue,Pe,Ut,sn)}}if($e.length===1)(K=R.errors).push.apply(K,ct.errors);else{for(var br=($e.length?$e:je).map(function(jr){return Ir=jr[0],Array.isArray(Ir)?"("+Ir.map(Jt).join(", ")+")":"("+Jt(Ir.type)+"...)";var Ir}).join(" | "),yr=[],kr=1;kr<M.length;kr++){var Mr=R.parse(M[kr],1+yr.length);if(!Mr)return null;yr.push(Jt(Mr.type))}R.error("Expected arguments of type "+br+", but found ("+yr.join(", ")+") instead.")}return null},mn.register=function(M,R){for(var K in mn.definitions=R,R)M[K]=mn};var It=function(M,R,K){this.type=nn,this.locale=K,this.caseSensitive=M,this.diacriticSensitive=R};It.parse=function(M,R){if(M.length!==2)return R.error("Expected one argument.");var K=M[1];if(typeof K!="object"||Array.isArray(K))return R.error("Collator options argument must be an object.");var ue=R.parse(K["case-sensitive"]!==void 0&&K["case-sensitive"],1,Kt);if(!ue)return null;var Ae=R.parse(K["diacritic-sensitive"]!==void 0&&K["diacritic-sensitive"],1,Kt);if(!Ae)return null;var Pe=null;return K.locale&&!(Pe=R.parse(K.locale,1,Bt))?null:new It(ue,Ae,Pe)},It.prototype.evaluate=function(M){return new On(this.caseSensitive.evaluate(M),this.diacriticSensitive.evaluate(M),this.locale?this.locale.evaluate(M):null)},It.prototype.eachChild=function(M){M(this.caseSensitive),M(this.diacriticSensitive),this.locale&&M(this.locale)},It.prototype.outputDefined=function(){return!1},It.prototype.serialize=function(){var M={};return M["case-sensitive"]=this.caseSensitive.serialize(),M["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(M.locale=this.locale.serialize()),["collator",M]};var Xt=8192;function tn(M,R){M[0]=Math.min(M[0],R[0]),M[1]=Math.min(M[1],R[1]),M[2]=Math.max(M[2],R[0]),M[3]=Math.max(M[3],R[1])}function bn(M,R){return!(M[0]<=R[0]||M[2]>=R[2]||M[1]<=R[1]||M[3]>=R[3])}function yn(M,R){var K,ue=(180+M[0])/360,Ae=(K=M[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+K*Math.PI/360)))/360),Pe=Math.pow(2,R.z);return[Math.round(ue*Pe*Xt),Math.round(Ae*Pe*Xt)]}function Tn(M,R,K){return R[1]>M[1]!=K[1]>M[1]&&M[0]<(K[0]-R[0])*(M[1]-R[1])/(K[1]-R[1])+R[0]}function fn(M,R){for(var K=!1,ue=0,Ae=R.length;ue<Ae;ue++)for(var Pe=R[ue],je=0,$e=Pe.length;je<$e-1;je++){if(ct=M,wt=Pe[je],St=Pe[je+1],Nt=void 0,Gt=void 0,Ut=void 0,sn=void 0,Nt=ct[0]-wt[0],Gt=ct[1]-wt[1],Ut=ct[0]-St[0],sn=ct[1]-St[1],Nt*sn-Ut*Gt==0&&Nt*Ut<=0&&Gt*sn<=0)return!1;Tn(M,Pe[je],Pe[je+1])&&(K=!K)}var ct,wt,St,Nt,Gt,Ut,sn;return K}function Qt(M,R){for(var K=0;K<R.length;K++)if(fn(M,R[K]))return!0;return!1}function en(M,R,K,ue){var Ae=M[0]-K[0],Pe=M[1]-K[1],je=R[0]-K[0],$e=R[1]-K[1],ct=ue[0]-K[0],wt=ue[1]-K[1],St=Ae*wt-ct*Pe,Nt=je*wt-ct*$e;return St>0&&Nt<0||St<0&&Nt>0}function ln(M,R,K){for(var ue=0,Ae=K;ue<Ae.length;ue+=1)for(var Pe=Ae[ue],je=0;je<Pe.length-1;++je)if($e=M,ct=R,wt=Pe[je],St=Pe[je+1],Nt=void 0,Gt=void 0,Ut=void 0,Ut=[ct[0]-$e[0],ct[1]-$e[1]],Nt=[St[0]-wt[0],St[1]-wt[1]],Gt=Ut,Nt[0]*Gt[1]-Nt[1]*Gt[0]!=0&&en($e,ct,wt,St)&&en(wt,St,$e,ct))return!0;var $e,ct,wt,St,Nt,Gt,Ut;return!1}function pn(M,R){for(var K=0;K<M.length;++K)if(!fn(M[K],R))return!1;for(var ue=0;ue<M.length-1;++ue)if(ln(M[ue],M[ue+1],R))return!1;return!0}function Sn(M,R){for(var K=0;K<R.length;K++)if(pn(M,R[K]))return!0;return!1}function In(M,R,K){for(var ue=[],Ae=0;Ae<M.length;Ae++){for(var Pe=[],je=0;je<M[Ae].length;je++){var $e=yn(M[Ae][je],K);tn(R,$e),Pe.push($e)}ue.push(Pe)}return ue}function Vn(M,R,K){for(var ue=[],Ae=0;Ae<M.length;Ae++){var Pe=In(M[Ae],R,K);ue.push(Pe)}return ue}function qn(M,R,K,ue){if(M[0]<K[0]||M[0]>K[2]){var Ae=.5*ue,Pe=M[0]-K[0]>Ae?-ue:K[0]-M[0]>Ae?ue:0;Pe===0&&(Pe=M[0]-K[2]>Ae?-ue:K[2]-M[0]>Ae?ue:0),M[0]+=Pe}tn(R,M)}function $n(M,R,K,ue){for(var Ae=Math.pow(2,ue.z)*Xt,Pe=[ue.x*Xt,ue.y*Xt],je=[],$e=0,ct=M;$e<ct.length;$e+=1)for(var wt=0,St=ct[$e];wt<St.length;wt+=1){var Nt=St[wt],Gt=[Nt.x+Pe[0],Nt.y+Pe[1]];qn(Gt,R,K,Ae),je.push(Gt)}return je}function Zn(M,R,K,ue){for(var Ae=Math.pow(2,ue.z)*Xt,Pe=[ue.x*Xt,ue.y*Xt],je=[],$e=0,ct=M;$e<ct.length;$e+=1){for(var wt=[],St=0,Nt=ct[$e];St<Nt.length;St+=1){var Gt=Nt[St],Ut=[Gt.x+Pe[0],Gt.y+Pe[1]];tn(R,Ut),wt.push(Ut)}je.push(wt)}if(R[2]-R[0]<=Ae/2){(Bn=R)[0]=Bn[1]=1/0,Bn[2]=Bn[3]=-1/0;for(var sn=0,cn=je;sn<cn.length;sn+=1)for(var An=0,wn=cn[sn];An<wn.length;An+=1)qn(wn[An],R,K,Ae)}var Bn;return je}var or=function(M,R){this.type=Kt,this.geojson=M,this.geometries=R};function tr(M){if(M instanceof mn&&(M.name==="get"&&M.args.length===1||M.name==="feature-state"||M.name==="has"&&M.args.length===1||M.name==="properties"||M.name==="geometry-type"||M.name==="id"||/^filter-/.test(M.name))||M instanceof or)return!1;var R=!0;return M.eachChild(function(K){R&&!tr(K)&&(R=!1)}),R}function Qn(M){if(M instanceof mn&&M.name==="feature-state")return!1;var R=!0;return M.eachChild(function(K){R&&!Qn(K)&&(R=!1)}),R}function mr(M,R){if(M instanceof mn&&R.indexOf(M.name)>=0)return!1;var K=!0;return M.eachChild(function(ue){K&&!mr(ue,R)&&(K=!1)}),K}or.parse=function(M,R){if(M.length!==2)return R.error("'within' expression requires exactly one argument, but found "+(M.length-1)+" instead.");if(cr(M[1])){var K=M[1];if(K.type==="FeatureCollection")for(var ue=0;ue<K.features.length;++ue){var Ae=K.features[ue].geometry.type;if(Ae==="Polygon"||Ae==="MultiPolygon")return new or(K,K.features[ue].geometry)}else if(K.type==="Feature"){var Pe=K.geometry.type;if(Pe==="Polygon"||Pe==="MultiPolygon")return new or(K,K.geometry)}else if(K.type==="Polygon"||K.type==="MultiPolygon")return new or(K,K)}return R.error("'within' expression requires valid geojson object that contains polygon geometry type.")},or.prototype.evaluate=function(M){if(M.geometry()!=null&&M.canonicalID()!=null){if(M.geometryType()==="Point")return function(R,K){var ue=[1/0,1/0,-1/0,-1/0],Ae=[1/0,1/0,-1/0,-1/0],Pe=R.canonicalID();if(K.type==="Polygon"){var je=In(K.coordinates,Ae,Pe),$e=$n(R.geometry(),ue,Ae,Pe);if(!bn(ue,Ae))return!1;for(var ct=0,wt=$e;ct<wt.length;ct+=1)if(!fn(wt[ct],je))return!1}if(K.type==="MultiPolygon"){var St=Vn(K.coordinates,Ae,Pe),Nt=$n(R.geometry(),ue,Ae,Pe);if(!bn(ue,Ae))return!1;for(var Gt=0,Ut=Nt;Gt<Ut.length;Gt+=1)if(!Qt(Ut[Gt],St))return!1}return!0}(M,this.geometries);if(M.geometryType()==="LineString")return function(R,K){var ue=[1/0,1/0,-1/0,-1/0],Ae=[1/0,1/0,-1/0,-1/0],Pe=R.canonicalID();if(K.type==="Polygon"){var je=In(K.coordinates,Ae,Pe),$e=Zn(R.geometry(),ue,Ae,Pe);if(!bn(ue,Ae))return!1;for(var ct=0,wt=$e;ct<wt.length;ct+=1)if(!pn(wt[ct],je))return!1}if(K.type==="MultiPolygon"){var St=Vn(K.coordinates,Ae,Pe),Nt=Zn(R.geometry(),ue,Ae,Pe);if(!bn(ue,Ae))return!1;for(var Gt=0,Ut=Nt;Gt<Ut.length;Gt+=1)if(!Sn(Ut[Gt],St))return!1}return!0}(M,this.geometries)}return!1},or.prototype.eachChild=function(){},or.prototype.outputDefined=function(){return!0},or.prototype.serialize=function(){return["within",this.geojson]};var fr=function(M,R){this.type=R.type,this.name=M,this.boundExpression=R};fr.parse=function(M,R){if(M.length!==2||typeof M[1]!="string")return R.error("'var' expression requires exactly one string literal argument.");var K=M[1];return R.scope.has(K)?new fr(K,R.scope.get(K)):R.error('Unknown variable "'+K+'". Make sure "'+K+'" has been bound in an enclosing "let" expression before using it.',1)},fr.prototype.evaluate=function(M){return this.boundExpression.evaluate(M)},fr.prototype.eachChild=function(){},fr.prototype.outputDefined=function(){return!1},fr.prototype.serialize=function(){return["var",this.name]};var dr=function(M,R,K,ue,Ae){R===void 0&&(R=[]),ue===void 0&&(ue=new bt),Ae===void 0&&(Ae=[]),this.registry=M,this.path=R,this.key=R.map(function(Pe){return"["+Pe+"]"}).join(""),this.scope=ue,this.errors=Ae,this.expectedType=K};function sr(M){if(M instanceof fr)return sr(M.boundExpression);if(M instanceof mn&&M.name==="error"||M instanceof It||M instanceof or)return!1;var R=M instanceof Nn||M instanceof vn,K=!0;return M.eachChild(function(ue){K=R?K&&sr(ue):K&&ue instanceof Ht}),!!K&&tr(M)&&mr(M,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function xr(M,R){for(var K,ue,Ae=M.length-1,Pe=0,je=Ae,$e=0;Pe<=je;)if(K=M[$e=Math.floor((Pe+je)/2)],ue=M[$e+1],K<=R){if($e===Ae||R<ue)return $e;Pe=$e+1}else{if(!(K>R))throw new an("Input is not a number.");je=$e-1}return 0}dr.prototype.parse=function(M,R,K,ue,Ae){return Ae===void 0&&(Ae={}),R?this.concat(R,K,ue)._parse(M,Ae):this._parse(M,Ae)},dr.prototype._parse=function(M,R){function K(wt,St,Nt){return Nt==="assert"?new vn(St,[wt]):Nt==="coerce"?new Nn(St,[wt]):wt}if(M!==null&&typeof M!="string"&&typeof M!="boolean"&&typeof M!="number"||(M=["literal",M]),Array.isArray(M)){if(M.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ue=M[0];if(typeof ue!="string")return this.error("Expression name must be a string, but found "+typeof ue+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Ae=this.registry[ue];if(Ae){var Pe=Ae.parse(M,this);if(!Pe)return null;if(this.expectedType){var je=this.expectedType,$e=Pe.type;if(je.kind!=="string"&&je.kind!=="number"&&je.kind!=="boolean"&&je.kind!=="object"&&je.kind!=="array"||$e.kind!=="value")if(je.kind!=="color"&&je.kind!=="formatted"&&je.kind!=="resolvedImage"||$e.kind!=="value"&&$e.kind!=="string"){if(this.checkSubtype(je,$e))return null}else Pe=K(Pe,je,R.typeAnnotation||"coerce");else Pe=K(Pe,je,R.typeAnnotation||"assert")}if(!(Pe instanceof Ht)&&Pe.type.kind!=="resolvedImage"&&sr(Pe)){var ct=new Zt;try{Pe=new Ht(Pe.type,Pe.evaluate(ct))}catch(wt){return this.error(wt.message),null}}return Pe}return this.error('Unknown expression "'+ue+'". If you wanted a literal array, use ["literal", [...]].',0)}return M===void 0?this.error("'undefined' value invalid. Use null instead."):typeof M=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof M+" instead.")},dr.prototype.concat=function(M,R,K){var ue=typeof M=="number"?this.path.concat(M):this.path,Ae=K?this.scope.concat(K):this.scope;return new dr(this.registry,ue,R||null,Ae,this.errors)},dr.prototype.error=function(M){for(var R=[],K=arguments.length-1;K-- >0;)R[K]=arguments[K+1];var ue=""+this.key+R.map(function(Ae){return"["+Ae+"]"}).join("");this.errors.push(new Tt(ue,M))},dr.prototype.checkSubtype=function(M,R){var K=rn(M,R);return K&&this.error(K),K};var Sr=function(M,R,K){this.type=M,this.input=R,this.labels=[],this.outputs=[];for(var ue=0,Ae=K;ue<Ae.length;ue+=1){var Pe=Ae[ue],je=Pe[0],$e=Pe[1];this.labels.push(je),this.outputs.push($e)}};function Br(M,R,K){return M*(1-K)+R*K}Sr.parse=function(M,R){if(M.length-1<4)return R.error("Expected at least 4 arguments, but found only "+(M.length-1)+".");if((M.length-1)%2!=0)return R.error("Expected an even number of arguments.");var K=R.parse(M[1],1,Ot);if(!K)return null;var ue=[],Ae=null;R.expectedType&&R.expectedType.kind!=="value"&&(Ae=R.expectedType);for(var Pe=1;Pe<M.length;Pe+=2){var je=Pe===1?-1/0:M[Pe],$e=M[Pe+1],ct=Pe,wt=Pe+1;if(typeof je!="number")return R.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ct);if(ue.length&&ue[ue.length-1][0]>=je)return R.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ct);var St=R.parse($e,wt,Ae);if(!St)return null;Ae=Ae||St.type,ue.push([je,St])}return new Sr(Ae,K,ue)},Sr.prototype.evaluate=function(M){var R=this.labels,K=this.outputs;if(R.length===1)return K[0].evaluate(M);var ue=this.input.evaluate(M);if(ue<=R[0])return K[0].evaluate(M);var Ae=R.length;return ue>=R[Ae-1]?K[Ae-1].evaluate(M):K[xr(R,ue)].evaluate(M)},Sr.prototype.eachChild=function(M){M(this.input);for(var R=0,K=this.outputs;R<K.length;R+=1)M(K[R])},Sr.prototype.outputDefined=function(){return this.outputs.every(function(M){return M.outputDefined()})},Sr.prototype.serialize=function(){for(var M=["step",this.input.serialize()],R=0;R<this.labels.length;R++)R>0&&M.push(this.labels[R]),M.push(this.outputs[R].serialize());return M};var hi=Object.freeze({__proto__:null,number:Br,color:function(M,R,K){return new zn(Br(M.r,R.r,K),Br(M.g,R.g,K),Br(M.b,R.b,K),Br(M.a,R.a,K))},array:function(M,R,K){return M.map(function(ue,Ae){return Br(ue,R[Ae],K)})}}),di=.95047,Gi=1,ui=1.08883,Ri=4/29,_a=6/29,wa=3*_a*_a,us=_a*_a*_a,bu=Math.PI/180,Gs=180/Math.PI;function Ws(M){return M>us?Math.pow(M,.3333333333333333):M/wa+Ri}function vl(M){return M>_a?M*M*M:wa*(M-Ri)}function Qa(M){return 255*(M<=.0031308?12.92*M:1.055*Math.pow(M,.4166666666666667)-.055)}function ml(M){return(M/=255)<=.04045?M/12.92:Math.pow((M+.055)/1.055,2.4)}function yl(M){var R=ml(M.r),K=ml(M.g),ue=ml(M.b),Ae=Ws((.4124564*R+.3575761*K+.1804375*ue)/di),Pe=Ws((.2126729*R+.7151522*K+.072175*ue)/Gi);return{l:116*Pe-16,a:500*(Ae-Pe),b:200*(Pe-Ws((.0193339*R+.119192*K+.9503041*ue)/ui)),alpha:M.a}}function xl(M){var R=(M.l+16)/116,K=isNaN(M.a)?R:R+M.a/500,ue=isNaN(M.b)?R:R-M.b/200;return R=Gi*vl(R),K=di*vl(K),ue=ui*vl(ue),new zn(Qa(3.2404542*K-1.5371385*R-.4985314*ue),Qa(-.969266*K+1.8760108*R+.041556*ue),Qa(.0556434*K-.2040259*R+1.0572252*ue),M.alpha)}function So(M,R,K){var ue=R-M;return M+K*(ue>180||ue<-180?ue-360*Math.round(ue/360):ue)}var Vo={forward:yl,reverse:xl,interpolate:function(M,R,K){return{l:Br(M.l,R.l,K),a:Br(M.a,R.a,K),b:Br(M.b,R.b,K),alpha:Br(M.alpha,R.alpha,K)}}},cs={forward:function(M){var R=yl(M),K=R.l,ue=R.a,Ae=R.b,Pe=Math.atan2(Ae,ue)*Gs;return{h:Pe<0?Pe+360:Pe,c:Math.sqrt(ue*ue+Ae*Ae),l:K,alpha:M.a}},reverse:function(M){var R=M.h*bu,K=M.c;return xl({l:M.l,a:Math.cos(R)*K,b:Math.sin(R)*K,alpha:M.alpha})},interpolate:function(M,R,K){return{h:So(M.h,R.h,K),c:Br(M.c,R.c,K),l:Br(M.l,R.l,K),alpha:Br(M.alpha,R.alpha,K)}}},_i=Object.freeze({__proto__:null,lab:Vo,hcl:cs}),Ji=function(M,R,K,ue,Ae){this.type=M,this.operator=R,this.interpolation=K,this.input=ue,this.labels=[],this.outputs=[];for(var Pe=0,je=Ae;Pe<je.length;Pe+=1){var $e=je[Pe],ct=$e[0],wt=$e[1];this.labels.push(ct),this.outputs.push(wt)}};function Eo(M,R,K,ue){var Ae=ue-K,Pe=M-K;return Ae===0?0:R===1?Pe/Ae:(Math.pow(R,Pe)-1)/(Math.pow(R,Ae)-1)}Ji.interpolationFactor=function(M,R,K,ue){var Ae=0;if(M.name==="exponential")Ae=Eo(R,M.base,K,ue);else if(M.name==="linear")Ae=Eo(R,1,K,ue);else if(M.name==="cubic-bezier"){var Pe=M.controlPoints;Ae=new h(Pe[0],Pe[1],Pe[2],Pe[3]).solve(Eo(R,1,K,ue))}return Ae},Ji.parse=function(M,R){var K=M[0],ue=M[1],Ae=M[2],Pe=M.slice(3);if(!Array.isArray(ue)||ue.length===0)return R.error("Expected an interpolation type expression.",1);if(ue[0]==="linear")ue={name:"linear"};else if(ue[0]==="exponential"){var je=ue[1];if(typeof je!="number")return R.error("Exponential interpolation requires a numeric base.",1,1);ue={name:"exponential",base:je}}else{if(ue[0]!=="cubic-bezier")return R.error("Unknown interpolation type "+String(ue[0]),1,0);var $e=ue.slice(1);if($e.length!==4||$e.some(function(An){return typeof An!="number"||An<0||An>1}))return R.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ue={name:"cubic-bezier",controlPoints:$e}}if(M.length-1<4)return R.error("Expected at least 4 arguments, but found only "+(M.length-1)+".");if((M.length-1)%2!=0)return R.error("Expected an even number of arguments.");if(!(Ae=R.parse(Ae,2,Ot)))return null;var ct=[],wt=null;K==="interpolate-hcl"||K==="interpolate-lab"?wt=on:R.expectedType&&R.expectedType.kind!=="value"&&(wt=R.expectedType);for(var St=0;St<Pe.length;St+=2){var Nt=Pe[St],Gt=Pe[St+1],Ut=St+3,sn=St+4;if(typeof Nt!="number")return R.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ut);if(ct.length&&ct[ct.length-1][0]>=Nt)return R.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Ut);var cn=R.parse(Gt,sn,wt);if(!cn)return null;wt=wt||cn.type,ct.push([Nt,cn])}return wt.kind==="number"||wt.kind==="color"||wt.kind==="array"&&wt.itemType.kind==="number"&&typeof wt.N=="number"?new Ji(wt,K,ue,Ae,ct):R.error("Type "+Jt(wt)+" is not interpolatable.")},Ji.prototype.evaluate=function(M){var R=this.labels,K=this.outputs;if(R.length===1)return K[0].evaluate(M);var ue=this.input.evaluate(M);if(ue<=R[0])return K[0].evaluate(M);var Ae=R.length;if(ue>=R[Ae-1])return K[Ae-1].evaluate(M);var Pe=xr(R,ue),je=R[Pe],$e=R[Pe+1],ct=Ji.interpolationFactor(this.interpolation,ue,je,$e),wt=K[Pe].evaluate(M),St=K[Pe+1].evaluate(M);return this.operator==="interpolate"?hi[this.type.kind.toLowerCase()](wt,St,ct):this.operator==="interpolate-hcl"?cs.reverse(cs.interpolate(cs.forward(wt),cs.forward(St),ct)):Vo.reverse(Vo.interpolate(Vo.forward(wt),Vo.forward(St),ct))},Ji.prototype.eachChild=function(M){M(this.input);for(var R=0,K=this.outputs;R<K.length;R+=1)M(K[R])},Ji.prototype.outputDefined=function(){return this.outputs.every(function(M){return M.outputDefined()})},Ji.prototype.serialize=function(){var M;M=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var R=[this.operator,M,this.input.serialize()],K=0;K<this.labels.length;K++)R.push(this.labels[K],this.outputs[K].serialize());return R};var po=function(M,R){this.type=M,this.args=R};po.parse=function(M,R){if(M.length<2)return R.error("Expectected at least one argument.");var K=null,ue=R.expectedType;ue&&ue.kind!=="value"&&(K=ue);for(var Ae=[],Pe=0,je=M.slice(1);Pe<je.length;Pe+=1){var $e=je[Pe],ct=R.parse($e,1+Ae.length,K,void 0,{typeAnnotation:"omit"});if(!ct)return null;K=K||ct.type,Ae.push(ct)}var wt=ue&&Ae.some(function(St){return rn(ue,St.type)});return new po(wt?Wt:K,Ae)},po.prototype.evaluate=function(M){for(var R,K=null,ue=0,Ae=0,Pe=this.args;Ae<Pe.length&&(ue++,(K=Pe[Ae].evaluate(M))&&K instanceof ar&&!K.available&&(R||(R=K.name),K=null,ue===this.args.length&&(K=R)),K===null);Ae+=1);return K},po.prototype.eachChild=function(M){this.args.forEach(M)},po.prototype.outputDefined=function(){return this.args.every(function(M){return M.outputDefined()})},po.prototype.serialize=function(){var M=["coalesce"];return this.eachChild(function(R){M.push(R.serialize())}),M};var eo=function(M,R){this.type=R.type,this.bindings=[].concat(M),this.result=R};eo.prototype.evaluate=function(M){return this.result.evaluate(M)},eo.prototype.eachChild=function(M){for(var R=0,K=this.bindings;R<K.length;R+=1)M(K[R][1]);M(this.result)},eo.parse=function(M,R){if(M.length<4)return R.error("Expected at least 3 arguments, but found "+(M.length-1)+" instead.");for(var K=[],ue=1;ue<M.length-1;ue+=2){var Ae=M[ue];if(typeof Ae!="string")return R.error("Expected string, but found "+typeof Ae+" instead.",ue);if(/[^a-zA-Z0-9_]/.test(Ae))return R.error("Variable names must contain only alphanumeric characters or '_'.",ue);var Pe=R.parse(M[ue+1],ue+1);if(!Pe)return null;K.push([Ae,Pe])}var je=R.parse(M[M.length-1],M.length-1,R.expectedType,K);return je?new eo(K,je):null},eo.prototype.outputDefined=function(){return this.result.outputDefined()},eo.prototype.serialize=function(){for(var M=["let"],R=0,K=this.bindings;R<K.length;R+=1){var ue=K[R],Ae=ue[0],Pe=ue[1];M.push(Ae,Pe.serialize())}return M.push(this.result.serialize()),M};var Ho=function(M,R,K){this.type=M,this.index=R,this.input=K};Ho.parse=function(M,R){if(M.length!==3)return R.error("Expected 2 arguments, but found "+(M.length-1)+" instead.");var K=R.parse(M[1],1,Ot),ue=R.parse(M[2],2,dn(R.expectedType||Wt));if(!K||!ue)return null;var Ae=ue.type;return new Ho(Ae.itemType,K,ue)},Ho.prototype.evaluate=function(M){var R=this.index.evaluate(M),K=this.input.evaluate(M);if(R<0)throw new an("Array index out of bounds: "+R+" < 0.");if(R>=K.length)throw new an("Array index out of bounds: "+R+" > "+(K.length-1)+".");if(R!==Math.floor(R))throw new an("Array index must be an integer, but found "+R+" instead.");return K[R]},Ho.prototype.eachChild=function(M){M(this.index),M(this.input)},Ho.prototype.outputDefined=function(){return!1},Ho.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var go=function(M,R){this.type=Kt,this.needle=M,this.haystack=R};go.parse=function(M,R){if(M.length!==3)return R.error("Expected 2 arguments, but found "+(M.length-1)+" instead.");var K=R.parse(M[1],1,Wt),ue=R.parse(M[2],2,Wt);return K&&ue?hn(K.type,[Kt,Bt,Ot,Pt,Wt])?new go(K,ue):R.error("Expected first argument to be of type boolean, string, number or null, but found "+Jt(K.type)+" instead"):null},go.prototype.evaluate=function(M){var R=this.needle.evaluate(M),K=this.haystack.evaluate(M);if(!K)return!1;if(!kn(R,["boolean","string","number","null"]))throw new an("Expected first argument to be of type boolean, string, number or null, but found "+Jt(er(R))+" instead.");if(!kn(K,["string","array"]))throw new an("Expected second argument to be of type array or string, but found "+Jt(er(K))+" instead.");return K.indexOf(R)>=0},go.prototype.eachChild=function(M){M(this.needle),M(this.haystack)},go.prototype.outputDefined=function(){return!0},go.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var qo=function(M,R,K){this.type=Ot,this.needle=M,this.haystack=R,this.fromIndex=K};qo.parse=function(M,R){if(M.length<=2||M.length>=5)return R.error("Expected 3 or 4 arguments, but found "+(M.length-1)+" instead.");var K=R.parse(M[1],1,Wt),ue=R.parse(M[2],2,Wt);if(!K||!ue)return null;if(!hn(K.type,[Kt,Bt,Ot,Pt,Wt]))return R.error("Expected first argument to be of type boolean, string, number or null, but found "+Jt(K.type)+" instead");if(M.length===4){var Ae=R.parse(M[3],3,Ot);return Ae?new qo(K,ue,Ae):null}return new qo(K,ue)},qo.prototype.evaluate=function(M){var R=this.needle.evaluate(M),K=this.haystack.evaluate(M);if(!kn(R,["boolean","string","number","null"]))throw new an("Expected first argument to be of type boolean, string, number or null, but found "+Jt(er(R))+" instead.");if(!kn(K,["string","array"]))throw new an("Expected second argument to be of type array or string, but found "+Jt(er(K))+" instead.");if(this.fromIndex){var ue=this.fromIndex.evaluate(M);return K.indexOf(R,ue)}return K.indexOf(R)},qo.prototype.eachChild=function(M){M(this.needle),M(this.haystack),this.fromIndex&&M(this.fromIndex)},qo.prototype.outputDefined=function(){return!1},qo.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var M=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),M]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Lo=function(M,R,K,ue,Ae,Pe){this.inputType=M,this.type=R,this.input=K,this.cases=ue,this.outputs=Ae,this.otherwise=Pe};Lo.parse=function(M,R){if(M.length<5)return R.error("Expected at least 4 arguments, but found only "+(M.length-1)+".");if(M.length%2!=1)return R.error("Expected an even number of arguments.");var K,ue;R.expectedType&&R.expectedType.kind!=="value"&&(ue=R.expectedType);for(var Ae={},Pe=[],je=2;je<M.length-1;je+=2){var $e=M[je],ct=M[je+1];Array.isArray($e)||($e=[$e]);var wt=R.concat(je);if($e.length===0)return wt.error("Expected at least one branch label.");for(var St=0,Nt=$e;St<Nt.length;St+=1){var Gt=Nt[St];if(typeof Gt!="number"&&typeof Gt!="string")return wt.error("Branch labels must be numbers or strings.");if(typeof Gt=="number"&&Math.abs(Gt)>Number.MAX_SAFE_INTEGER)return wt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof Gt=="number"&&Math.floor(Gt)!==Gt)return wt.error("Numeric branch labels must be integer values.");if(K){if(wt.checkSubtype(K,er(Gt)))return null}else K=er(Gt);if(Ae[String(Gt)]!==void 0)return wt.error("Branch labels must be unique.");Ae[String(Gt)]=Pe.length}var Ut=R.parse(ct,je,ue);if(!Ut)return null;ue=ue||Ut.type,Pe.push(Ut)}var sn=R.parse(M[1],1,Wt);if(!sn)return null;var cn=R.parse(M[M.length-1],M.length-1,ue);return cn?sn.type.kind!=="value"&&R.concat(1).checkSubtype(K,sn.type)?null:new Lo(K,ue,sn,Ae,Pe,cn):null},Lo.prototype.evaluate=function(M){var R=this.input.evaluate(M);return(er(R)===this.inputType&&this.outputs[this.cases[R]]||this.otherwise).evaluate(M)},Lo.prototype.eachChild=function(M){M(this.input),this.outputs.forEach(M),M(this.otherwise)},Lo.prototype.outputDefined=function(){return this.outputs.every(function(M){return M.outputDefined()})&&this.otherwise.outputDefined()},Lo.prototype.serialize=function(){for(var M=this,R=["match",this.input.serialize()],K=[],ue={},Ae=0,Pe=Object.keys(this.cases).sort();Ae<Pe.length;Ae+=1){var je=Pe[Ae];(Nt=ue[this.cases[je]])===void 0?(ue[this.cases[je]]=K.length,K.push([this.cases[je],[je]])):K[Nt][1].push(je)}for(var $e=function(Ut){return M.inputType.kind==="number"?Number(Ut):Ut},ct=0,wt=K;ct<wt.length;ct+=1){var St=wt[ct],Nt=St[0],Gt=St[1];Gt.length===1?R.push($e(Gt[0])):R.push(Gt.map($e)),R.push(this.outputs[outputIndex$1].serialize())}return R.push(this.otherwise.serialize()),R};var Go=function(M,R,K){this.type=M,this.branches=R,this.otherwise=K};Go.parse=function(M,R){if(M.length<4)return R.error("Expected at least 3 arguments, but found only "+(M.length-1)+".");if(M.length%2!=0)return R.error("Expected an odd number of arguments.");var K;R.expectedType&&R.expectedType.kind!=="value"&&(K=R.expectedType);for(var ue=[],Ae=1;Ae<M.length-1;Ae+=2){var Pe=R.parse(M[Ae],Ae,Kt);if(!Pe)return null;var je=R.parse(M[Ae+1],Ae+1,K);if(!je)return null;ue.push([Pe,je]),K=K||je.type}var $e=R.parse(M[M.length-1],M.length-1,K);return $e?new Go(K,ue,$e):null},Go.prototype.evaluate=function(M){for(var R=0,K=this.branches;R<K.length;R+=1){var ue=K[R],Ae=ue[0],Pe=ue[1];if(Ae.evaluate(M))return Pe.evaluate(M)}return this.otherwise.evaluate(M)},Go.prototype.eachChild=function(M){for(var R=0,K=this.branches;R<K.length;R+=1){var ue=K[R],Ae=ue[0],Pe=ue[1];M(Ae),M(Pe)}M(this.otherwise)},Go.prototype.outputDefined=function(){return this.branches.every(function(M){return M[0],M[1].outputDefined()})&&this.otherwise.outputDefined()},Go.prototype.serialize=function(){var M=["case"];return this.eachChild(function(R){M.push(R.serialize())}),M};var vo=function(M,R,K,ue){this.type=M,this.input=R,this.beginIndex=K,this.endIndex=ue};function Bl(M,R){return M==="=="||M==="!="?R.kind==="boolean"||R.kind==="string"||R.kind==="number"||R.kind==="null"||R.kind==="value":R.kind==="string"||R.kind==="number"||R.kind==="value"}function bl(M,R,K,ue){return ue.compare(R,K)===0}function fs(M,R,K){var ue=M!=="=="&&M!=="!=";return function(){function Ae(Pe,je,$e){this.type=Kt,this.lhs=Pe,this.rhs=je,this.collator=$e,this.hasUntypedArgument=Pe.type.kind==="value"||je.type.kind==="value"}return Ae.parse=function(Pe,je){if(Pe.length!==3&&Pe.length!==4)return je.error("Expected two or three arguments.");var $e=Pe[0],ct=je.parse(Pe[1],1,Wt);if(!ct)return null;if(!Bl($e,ct.type))return je.concat(1).error('"'+$e+`" comparisons are not supported for type '`+Jt(ct.type)+"'.");var wt=je.parse(Pe[2],2,Wt);if(!wt)return null;if(!Bl($e,wt.type))return je.concat(2).error('"'+$e+`" comparisons are not supported for type '`+Jt(wt.type)+"'.");if(ct.type.kind!==wt.type.kind&&ct.type.kind!=="value"&&wt.type.kind!=="value")return je.error("Cannot compare types '"+Jt(ct.type)+"' and '"+Jt(wt.type)+"'.");ue&&(ct.type.kind==="value"&&wt.type.kind!=="value"?ct=new vn(wt.type,[ct]):ct.type.kind!=="value"&&wt.type.kind==="value"&&(wt=new vn(ct.type,[wt])));var St=null;if(Pe.length===4){if(ct.type.kind!=="string"&&wt.type.kind!=="string"&&ct.type.kind!=="value"&&wt.type.kind!=="value")return je.error("Cannot use collator to compare non-string types.");if(!(St=je.parse(Pe[3],3,nn)))return null}return new Ae(ct,wt,St)},Ae.prototype.evaluate=function(Pe){var je=this.lhs.evaluate(Pe),$e=this.rhs.evaluate(Pe);if(ue&&this.hasUntypedArgument){var ct=er(je),wt=er($e);if(ct.kind!==wt.kind||ct.kind!=="string"&&ct.kind!=="number")throw new an('Expected arguments for "'+M+'" to be (string, string) or (number, number), but found ('+ct.kind+", "+wt.kind+") instead.")}if(this.collator&&!ue&&this.hasUntypedArgument){var St=er(je),Nt=er($e);if(St.kind!=="string"||Nt.kind!=="string")return R(Pe,je,$e)}return this.collator?K(Pe,je,$e,this.collator.evaluate(Pe)):R(Pe,je,$e)},Ae.prototype.eachChild=function(Pe){Pe(this.lhs),Pe(this.rhs),this.collator&&Pe(this.collator)},Ae.prototype.outputDefined=function(){return!0},Ae.prototype.serialize=function(){var Pe=[M];return this.eachChild(function(je){Pe.push(je.serialize())}),Pe},Ae}()}vo.parse=function(M,R){if(M.length<=2||M.length>=5)return R.error("Expected 3 or 4 arguments, but found "+(M.length-1)+" instead.");var K=R.parse(M[1],1,Wt),ue=R.parse(M[2],2,Ot);if(!K||!ue)return null;if(!hn(K.type,[dn(Wt),Bt,Wt]))return R.error("Expected first argument to be of type array or string, but found "+Jt(K.type)+" instead");if(M.length===4){var Ae=R.parse(M[3],3,Ot);return Ae?new vo(K.type,K,ue,Ae):null}return new vo(K.type,K,ue)},vo.prototype.evaluate=function(M){var R=this.input.evaluate(M),K=this.beginIndex.evaluate(M);if(!kn(R,["string","array"]))throw new an("Expected first argument to be of type array or string, but found "+Jt(er(R))+" instead.");if(this.endIndex){var ue=this.endIndex.evaluate(M);return R.slice(K,ue)}return R.slice(K)},vo.prototype.eachChild=function(M){M(this.input),M(this.beginIndex),this.endIndex&&M(this.endIndex)},vo.prototype.outputDefined=function(){return!1},vo.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var M=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),M]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var $l=fs("==",function(M,R,K){return R===K},bl),Ql=fs("!=",function(M,R,K){return R!==K},function(M,R,K,ue){return!bl(0,R,K,ue)}),hs=fs("<",function(M,R,K){return R<K},function(M,R,K,ue){return ue.compare(R,K)<0}),eu=fs(">",function(M,R,K){return R>K},function(M,R,K,ue){return ue.compare(R,K)>0}),_u=fs("<=",function(M,R,K){return R<=K},function(M,R,K,ue){return ue.compare(R,K)<=0}),wu=fs(">=",function(M,R,K){return R>=K},function(M,R,K,ue){return ue.compare(R,K)>=0}),ps=function(M,R,K,ue,Ae){this.type=Bt,this.number=M,this.locale=R,this.currency=K,this.minFractionDigits=ue,this.maxFractionDigits=Ae};ps.parse=function(M,R){if(M.length!==3)return R.error("Expected two arguments.");var K=R.parse(M[1],1,Ot);if(!K)return null;var ue=M[2];if(typeof ue!="object"||Array.isArray(ue))return R.error("NumberFormat options argument must be an object.");var Ae=null;if(ue.locale&&!(Ae=R.parse(ue.locale,1,Bt)))return null;var Pe=null;if(ue.currency&&!(Pe=R.parse(ue.currency,1,Bt)))return null;var je=null;if(ue["min-fraction-digits"]&&!(je=R.parse(ue["min-fraction-digits"],1,Ot)))return null;var $e=null;return ue["max-fraction-digits"]&&!($e=R.parse(ue["max-fraction-digits"],1,Ot))?null:new ps(K,Ae,Pe,je,$e)},ps.prototype.evaluate=function(M){return new Intl.NumberFormat(this.locale?this.locale.evaluate(M):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(M):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(M):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(M):void 0}).format(this.number.evaluate(M))},ps.prototype.eachChild=function(M){M(this.number),this.locale&&M(this.locale),this.currency&&M(this.currency),this.minFractionDigits&&M(this.minFractionDigits),this.maxFractionDigits&&M(this.maxFractionDigits)},ps.prototype.outputDefined=function(){return!1},ps.prototype.serialize=function(){var M={};return this.locale&&(M.locale=this.locale.serialize()),this.currency&&(M.currency=this.currency.serialize()),this.minFractionDigits&&(M["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(M["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),M]};var mo=function(M){this.type=Ot,this.input=M};mo.parse=function(M,R){if(M.length!==2)return R.error("Expected 1 argument, but found "+(M.length-1)+" instead.");var K=R.parse(M[1],1);return K?K.type.kind!=="array"&&K.type.kind!=="string"&&K.type.kind!=="value"?R.error("Expected argument of type string or array, but found "+Jt(K.type)+" instead."):new mo(K):null},mo.prototype.evaluate=function(M){var R=this.input.evaluate(M);if(typeof R=="string"||Array.isArray(R))return R.length;throw new an("Expected value to be of type string or array, but found "+Jt(er(R))+" instead.")},mo.prototype.eachChild=function(M){M(this.input)},mo.prototype.outputDefined=function(){return!1},mo.prototype.serialize=function(){var M=["length"];return this.eachChild(function(R){M.push(R.serialize())}),M};var Ss={"==":$l,"!=":Ql,">":eu,"<":hs,">=":wu,"<=":_u,array:vn,at:Ho,boolean:vn,case:Go,coalesce:po,collator:It,format:Cn,image:Gn,in:go,"index-of":qo,interpolate:Ji,"interpolate-hcl":Ji,"interpolate-lab":Ji,length:mo,let:eo,literal:Ht,match:Lo,number:vn,"number-format":ps,object:vn,slice:vo,step:Sr,string:vn,"to-boolean":Nn,"to-color":Nn,"to-number":Nn,"to-string":Nn,var:fr,within:or};function ds(M,R){var K=R[0],ue=R[1],Ae=R[2],Pe=R[3];K=K.evaluate(M),ue=ue.evaluate(M),Ae=Ae.evaluate(M);var je=Pe?Pe.evaluate(M):1,$e=ur(K,ue,Ae,je);if($e)throw new an($e);return new zn(K/255*je,ue/255*je,Ae/255*je,je)}function Ys(M,R){return M in R}function gs(M,R){var K=R[M];return K===void 0?null:K}function to(M){return{type:M}}function Nl(M){return{result:"success",value:M}}function Wo(M){return{result:"error",value:M}}function Co(M){return M["property-type"]==="data-driven"||M["property-type"]==="cross-faded-data-driven"}function Po(M){return!!M.expression&&M.expression.parameters.indexOf("zoom")>-1}function Yo(M){return!!M.expression&&M.expression.interpolated}function Wr(M){return M instanceof Number?"number":M instanceof String?"string":M instanceof Boolean?"boolean":Array.isArray(M)?"array":M===null?"null":typeof M}function Es(M){return typeof M=="object"&&M!==null&&!Array.isArray(M)}function Tu(M){return M}function _l(M,R){var K,ue,Ae,Pe=R.type==="color",je=M.stops&&typeof M.stops[0][0]=="object",$e=je||M.property!==void 0,ct=je||!$e,wt=M.type||(Yo(R)?"exponential":"interval");if(Pe&&((M=yt({},M)).stops&&(M.stops=M.stops.map(function(yr){return[yr[0],zn.parse(yr[1])]})),M.default?M.default=zn.parse(M.default):M.default=zn.parse(R.default)),M.colorSpace&&M.colorSpace!=="rgb"&&!_i[M.colorSpace])throw new Error("Unknown color space: "+M.colorSpace);if(wt==="exponential")K=wl;else if(wt==="interval")K=ku;else if(wt==="categorical"){K=tu,ue=Object.create(null);for(var St=0,Nt=M.stops;St<Nt.length;St+=1){var Gt=Nt[St];ue[Gt[0]]=Gt[1]}Ae=typeof M.stops[0][0]}else{if(wt!=="identity")throw new Error('Unknown function type "'+wt+'"');K=Au}if(je){for(var Ut={},sn=[],cn=0;cn<M.stops.length;cn++){var An=M.stops[cn],wn=An[0].zoom;Ut[wn]===void 0&&(Ut[wn]={zoom:wn,type:M.type,property:M.property,default:M.default,stops:[]},sn.push(wn)),Ut[wn].stops.push([An[0].value,An[1]])}for(var Bn=[],Un=0,Yn=sn;Un<Yn.length;Un+=1){var Jn=Yn[Un];Bn.push([Ut[Jn].zoom,_l(Ut[Jn],R)])}var lr={name:"linear"};return{kind:"composite",interpolationType:lr,interpolationFactor:Ji.interpolationFactor.bind(void 0,lr),zoomStops:Bn.map(function(yr){return yr[0]}),evaluate:function(yr,kr){var Mr=yr.zoom;return wl({stops:Bn,base:M.base},R,Mr).evaluate(Mr,kr)}}}if(ct){var br=wt==="exponential"?{name:"exponential",base:M.base!==void 0?M.base:1}:null;return{kind:"camera",interpolationType:br,interpolationFactor:Ji.interpolationFactor.bind(void 0,br),zoomStops:M.stops.map(function(yr){return yr[0]}),evaluate:function(yr){var kr=yr.zoom;return K(M,R,kr,ue,Ae)}}}return{kind:"source",evaluate:function(yr,kr){var Mr=kr&&kr.properties?kr.properties[M.property]:void 0;return Mr===void 0?Ls(M.default,R.default):K(M,R,Mr,ue,Ae)}}}function Ls(M,R,K){return M!==void 0?M:R!==void 0?R:K!==void 0?K:void 0}function tu(M,R,K,ue,Ae){return Ls(typeof K===Ae?ue[K]:void 0,M.default,R.default)}function ku(M,R,K){if(Wr(K)!=="number")return Ls(M.default,R.default);var ue=M.stops.length;if(ue===1||K<=M.stops[0][0])return M.stops[0][1];if(K>=M.stops[ue-1][0])return M.stops[ue-1][1];var Ae=xr(M.stops.map(function(Pe){return Pe[0]}),K);return M.stops[Ae][1]}function wl(M,R,K){var ue=M.base!==void 0?M.base:1;if(Wr(K)!=="number")return Ls(M.default,R.default);var Ae=M.stops.length;if(Ae===1||K<=M.stops[0][0])return M.stops[0][1];if(K>=M.stops[Ae-1][0])return M.stops[Ae-1][1];var Pe=xr(M.stops.map(function(Nt){return Nt[0]}),K),je=function(Nt,Gt,Ut,sn){var cn=sn-Ut,An=Nt-Ut;return cn===0?0:Gt===1?An/cn:(Math.pow(Gt,An)-1)/(Math.pow(Gt,cn)-1)}(K,ue,M.stops[Pe][0],M.stops[Pe+1][0]),$e=M.stops[Pe][1],ct=M.stops[Pe+1][1],wt=hi[R.type]||Tu;if(M.colorSpace&&M.colorSpace!=="rgb"){var St=_i[M.colorSpace];wt=function(Nt,Gt){return St.reverse(St.interpolate(St.forward(Nt),St.forward(Gt),je))}}return typeof $e.evaluate=="function"?{evaluate:function(){for(var Nt=[],Gt=arguments.length;Gt--;)Nt[Gt]=arguments[Gt];var Ut=$e.evaluate.apply(void 0,Nt),sn=ct.evaluate.apply(void 0,Nt);if(Ut!==void 0&&sn!==void 0)return wt(Ut,sn,je)}}:wt($e,ct,je)}function Au(M,R,K){return R.type==="color"?K=zn.parse(K):R.type==="formatted"?K=jn.fromString(K.toString()):R.type==="resolvedImage"?K=ar.fromString(K.toString()):Wr(K)===R.type||R.type==="enum"&&R.values[K]||(K=void 0),Ls(K,M.default,R.default)}mn.register(Ss,{error:[{kind:"error"},[Bt],function(M,R){var K=R[0];throw new an(K.evaluate(M))}],typeof:[Bt,[Wt],function(M,R){return Jt(er(R[0].evaluate(M)))}],"to-rgba":[dn(Ot,4),[on],function(M,R){return R[0].evaluate(M).toArray()}],rgb:[on,[Ot,Ot,Ot],ds],rgba:[on,[Ot,Ot,Ot,Ot],ds],has:{type:Kt,overloads:[[[Bt],function(M,R){return Ys(R[0].evaluate(M),M.properties())}],[[Bt,qt],function(M,R){var K=R[0],ue=R[1];return Ys(K.evaluate(M),ue.evaluate(M))}]]},get:{type:Wt,overloads:[[[Bt],function(M,R){return gs(R[0].evaluate(M),M.properties())}],[[Bt,qt],function(M,R){var K=R[0],ue=R[1];return gs(K.evaluate(M),ue.evaluate(M))}]]},"feature-state":[Wt,[Bt],function(M,R){return gs(R[0].evaluate(M),M.featureState||{})}],properties:[qt,[],function(M){return M.properties()}],"geometry-type":[Bt,[],function(M){return M.geometryType()}],id:[Wt,[],function(M){return M.id()}],zoom:[Ot,[],function(M){return M.globals.zoom}],"heatmap-density":[Ot,[],function(M){return M.globals.heatmapDensity||0}],"line-progress":[Ot,[],function(M){return M.globals.lineProgress||0}],accumulated:[Wt,[],function(M){return M.globals.accumulated===void 0?null:M.globals.accumulated}],"+":[Ot,to(Ot),function(M,R){for(var K=0,ue=0,Ae=R;ue<Ae.length;ue+=1)K+=Ae[ue].evaluate(M);return K}],"*":[Ot,to(Ot),function(M,R){for(var K=1,ue=0,Ae=R;ue<Ae.length;ue+=1)K*=Ae[ue].evaluate(M);return K}],"-":{type:Ot,overloads:[[[Ot,Ot],function(M,R){var K=R[0],ue=R[1];return K.evaluate(M)-ue.evaluate(M)}],[[Ot],function(M,R){return-R[0].evaluate(M)}]]},"/":[Ot,[Ot,Ot],function(M,R){var K=R[0],ue=R[1];return K.evaluate(M)/ue.evaluate(M)}],"%":[Ot,[Ot,Ot],function(M,R){var K=R[0],ue=R[1];return K.evaluate(M)%ue.evaluate(M)}],ln2:[Ot,[],function(){return Math.LN2}],pi:[Ot,[],function(){return Math.PI}],e:[Ot,[],function(){return Math.E}],"^":[Ot,[Ot,Ot],function(M,R){var K=R[0],ue=R[1];return Math.pow(K.evaluate(M),ue.evaluate(M))}],sqrt:[Ot,[Ot],function(M,R){var K=R[0];return Math.sqrt(K.evaluate(M))}],log10:[Ot,[Ot],function(M,R){var K=R[0];return Math.log(K.evaluate(M))/Math.LN10}],ln:[Ot,[Ot],function(M,R){var K=R[0];return Math.log(K.evaluate(M))}],log2:[Ot,[Ot],function(M,R){var K=R[0];return Math.log(K.evaluate(M))/Math.LN2}],sin:[Ot,[Ot],function(M,R){var K=R[0];return Math.sin(K.evaluate(M))}],cos:[Ot,[Ot],function(M,R){var K=R[0];return Math.cos(K.evaluate(M))}],tan:[Ot,[Ot],function(M,R){var K=R[0];return Math.tan(K.evaluate(M))}],asin:[Ot,[Ot],function(M,R){var K=R[0];return Math.asin(K.evaluate(M))}],acos:[Ot,[Ot],function(M,R){var K=R[0];return Math.acos(K.evaluate(M))}],atan:[Ot,[Ot],function(M,R){var K=R[0];return Math.atan(K.evaluate(M))}],min:[Ot,to(Ot),function(M,R){return Math.min.apply(Math,R.map(function(K){return K.evaluate(M)}))}],max:[Ot,to(Ot),function(M,R){return Math.max.apply(Math,R.map(function(K){return K.evaluate(M)}))}],abs:[Ot,[Ot],function(M,R){var K=R[0];return Math.abs(K.evaluate(M))}],round:[Ot,[Ot],function(M,R){var K=R[0].evaluate(M);return K<0?-Math.round(-K):Math.round(K)}],floor:[Ot,[Ot],function(M,R){var K=R[0];return Math.floor(K.evaluate(M))}],ceil:[Ot,[Ot],function(M,R){var K=R[0];return Math.ceil(K.evaluate(M))}],"filter-==":[Kt,[Bt,Wt],function(M,R){var K=R[0],ue=R[1];return M.properties()[K.value]===ue.value}],"filter-id-==":[Kt,[Wt],function(M,R){var K=R[0];return M.id()===K.value}],"filter-type-==":[Kt,[Bt],function(M,R){var K=R[0];return M.geometryType()===K.value}],"filter-<":[Kt,[Bt,Wt],function(M,R){var K=R[0],ue=R[1],Ae=M.properties()[K.value],Pe=ue.value;return typeof Ae==typeof Pe&&Ae<Pe}],"filter-id-<":[Kt,[Wt],function(M,R){var K=R[0],ue=M.id(),Ae=K.value;return typeof ue==typeof Ae&&ue<Ae}],"filter->":[Kt,[Bt,Wt],function(M,R){var K=R[0],ue=R[1],Ae=M.properties()[K.value],Pe=ue.value;return typeof Ae==typeof Pe&&Ae>Pe}],"filter-id->":[Kt,[Wt],function(M,R){var K=R[0],ue=M.id(),Ae=K.value;return typeof ue==typeof Ae&&ue>Ae}],"filter-<=":[Kt,[Bt,Wt],function(M,R){var K=R[0],ue=R[1],Ae=M.properties()[K.value],Pe=ue.value;return typeof Ae==typeof Pe&&Ae<=Pe}],"filter-id-<=":[Kt,[Wt],function(M,R){var K=R[0],ue=M.id(),Ae=K.value;return typeof ue==typeof Ae&&ue<=Ae}],"filter->=":[Kt,[Bt,Wt],function(M,R){var K=R[0],ue=R[1],Ae=M.properties()[K.value],Pe=ue.value;return typeof Ae==typeof Pe&&Ae>=Pe}],"filter-id->=":[Kt,[Wt],function(M,R){var K=R[0],ue=M.id(),Ae=K.value;return typeof ue==typeof Ae&&ue>=Ae}],"filter-has":[Kt,[Wt],function(M,R){return R[0].value in M.properties()}],"filter-has-id":[Kt,[],function(M){return M.id()!==null&&M.id()!==void 0}],"filter-type-in":[Kt,[dn(Bt)],function(M,R){return R[0].value.indexOf(M.geometryType())>=0}],"filter-id-in":[Kt,[dn(Wt)],function(M,R){return R[0].value.indexOf(M.id())>=0}],"filter-in-small":[Kt,[Bt,dn(Wt)],function(M,R){var K=R[0];return R[1].value.indexOf(M.properties()[K.value])>=0}],"filter-in-large":[Kt,[Bt,dn(Wt)],function(M,R){var K=R[0],ue=R[1];return function(Ae,Pe,je,$e){for(;je<=$e;){var ct=je+$e>>1;if(Pe[ct]===Ae)return!0;Pe[ct]>Ae?$e=ct-1:je=ct+1}return!1}(M.properties()[K.value],ue.value,0,ue.value.length-1)}],all:{type:Kt,overloads:[[[Kt,Kt],function(M,R){var K=R[0],ue=R[1];return K.evaluate(M)&&ue.evaluate(M)}],[to(Kt),function(M,R){for(var K=0,ue=R;K<ue.length;K+=1)if(!ue[K].evaluate(M))return!1;return!0}]]},any:{type:Kt,overloads:[[[Kt,Kt],function(M,R){var K=R[0],ue=R[1];return K.evaluate(M)||ue.evaluate(M)}],[to(Kt),function(M,R){for(var K=0,ue=R;K<ue.length;K+=1)if(ue[K].evaluate(M))return!0;return!1}]]},"!":[Kt,[Kt],function(M,R){return!R[0].evaluate(M)}],"is-supported-script":[Kt,[Bt],function(M,R){var K=R[0],ue=M.globals&&M.globals.isSupportedScript;return!ue||ue(K.evaluate(M))}],upcase:[Bt,[Bt],function(M,R){return R[0].evaluate(M).toUpperCase()}],downcase:[Bt,[Bt],function(M,R){return R[0].evaluate(M).toLowerCase()}],concat:[Bt,to(Wt),function(M,R){return R.map(function(K){return Tr(K.evaluate(M))}).join("")}],"resolved-locale":[Bt,[nn],function(M,R){return R[0].evaluate(M).resolvedLocale()}]});var Zo=function(M,R){this.expression=M,this._warningHistory={},this._evaluator=new Zt,this._defaultValue=R?function(K){return K.type==="color"&&Es(K.default)?new zn(0,0,0,0):K.type==="color"?zn.parse(K.default)||null:K.default===void 0?null:K.default}(R):null,this._enumValues=R&&R.type==="enum"?R.values:null};function vs(M){return Array.isArray(M)&&M.length>0&&typeof M[0]=="string"&&M[0]in Ss}function Oo(M,R){var K=new dr(Ss,[],R?function(Ae){var Pe={color:on,string:Bt,number:Ot,enum:Bt,boolean:Kt,formatted:En,resolvedImage:Mn};return Ae.type==="array"?dn(Pe[Ae.value]||Wt,Ae.length):Pe[Ae.type]}(R):void 0),ue=K.parse(M,void 0,void 0,void 0,R&&R.type==="string"?{typeAnnotation:"coerce"}:void 0);return ue?Nl(new Zo(ue,R)):Wo(K.errors)}Zo.prototype.evaluateWithoutErrorHandling=function(M,R,K,ue,Ae,Pe){return this._evaluator.globals=M,this._evaluator.feature=R,this._evaluator.featureState=K,this._evaluator.canonical=ue,this._evaluator.availableImages=Ae||null,this._evaluator.formattedSection=Pe,this.expression.evaluate(this._evaluator)},Zo.prototype.evaluate=function(M,R,K,ue,Ae,Pe){this._evaluator.globals=M,this._evaluator.feature=R||null,this._evaluator.featureState=K||null,this._evaluator.canonical=ue,this._evaluator.availableImages=Ae||null,this._evaluator.formattedSection=Pe||null;try{var je=this.expression.evaluate(this._evaluator);if(je==null||typeof je=="number"&&je!=je)return this._defaultValue;if(this._enumValues&&!(je in this._enumValues))throw new an("Expected value to be one of "+Object.keys(this._enumValues).map(function($e){return JSON.stringify($e)}).join(", ")+", but found "+JSON.stringify(je)+" instead.");return je}catch($e){return this._warningHistory[$e.message]||(this._warningHistory[$e.message]=!0,typeof console<"u"&&console.warn($e.message)),this._defaultValue}};var no=function(M,R){this.kind=M,this._styleExpression=R,this.isStateDependent=M!=="constant"&&!Qn(R.expression)};no.prototype.evaluateWithoutErrorHandling=function(M,R,K,ue,Ae,Pe){return this._styleExpression.evaluateWithoutErrorHandling(M,R,K,ue,Ae,Pe)},no.prototype.evaluate=function(M,R,K,ue,Ae,Pe){return this._styleExpression.evaluate(M,R,K,ue,Ae,Pe)};var Cs=function(M,R,K,ue){this.kind=M,this.zoomStops=K,this._styleExpression=R,this.isStateDependent=M!=="camera"&&!Qn(R.expression),this.interpolationType=ue};function nu(M,R){if((M=Oo(M,R)).result==="error")return M;var K=M.value.expression,ue=tr(K);if(!ue&&!Co(R))return Wo([new Tt("","data expressions not supported")]);var Ae=mr(K,["zoom"]);if(!Ae&&!Po(R))return Wo([new Tt("","zoom expressions not supported")]);var Pe=Tl(K);if(!Pe&&!Ae)return Wo([new Tt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Pe instanceof Tt)return Wo([Pe]);if(Pe instanceof Ji&&!Yo(R))return Wo([new Tt("",'"interpolate" expressions cannot be used with this property')]);if(!Pe)return Nl(new no(ue?"constant":"source",M.value));var je=Pe instanceof Ji?Pe.interpolation:void 0;return Nl(new Cs(ue?"camera":"composite",M.value,Pe.labels,je))}Cs.prototype.evaluateWithoutErrorHandling=function(M,R,K,ue,Ae,Pe){return this._styleExpression.evaluateWithoutErrorHandling(M,R,K,ue,Ae,Pe)},Cs.prototype.evaluate=function(M,R,K,ue,Ae,Pe){return this._styleExpression.evaluate(M,R,K,ue,Ae,Pe)},Cs.prototype.interpolationFactor=function(M,R,K){return this.interpolationType?Ji.interpolationFactor(this.interpolationType,M,R,K):0};var Zs=function(M,R){this._parameters=M,this._specification=R,yt(this,_l(this._parameters,this._specification))};function Tl(M){var R=null;if(M instanceof eo)R=Tl(M.result);else if(M instanceof po)for(var K=0,ue=M.args;K<ue.length;K+=1){var Ae=ue[K];if(R=Tl(Ae))break}else(M instanceof Sr||M instanceof Ji)&&M.input instanceof mn&&M.input.name==="zoom"&&(R=M);return R instanceof Tt||M.eachChild(function(Pe){var je=Tl(Pe);je instanceof Tt?R=je:!R&&je?R=new Tt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):R&&je&&R!==je&&(R=new Tt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),R}function Ba(M){var R=M.key,K=M.value,ue=M.valueSpec||{},Ae=M.objectElementValidators||{},Pe=M.style,je=M.styleSpec,$e=[],ct=Wr(K);if(ct!=="object")return[new pt(R,K,"object expected, "+ct+" found")];for(var wt in K){var St=wt.split(".")[0],Nt=ue[St]||ue["*"],Gt=void 0;if(Ae[St])Gt=Ae[St];else if(ue[St])Gt=Ga;else if(Ae["*"])Gt=Ae["*"];else{if(!ue["*"]){$e.push(new pt(R,K[wt],'unknown property "'+wt+'"'));continue}Gt=Ga}$e=$e.concat(Gt({key:(R&&R+".")+wt,value:K[wt],valueSpec:Nt,style:Pe,styleSpec:je,object:K,objectKey:wt},K))}for(var Ut in ue)Ae[Ut]||ue[Ut].required&&ue[Ut].default===void 0&&K[Ut]===void 0&&$e.push(new pt(R,K,'missing required property "'+Ut+'"'));return $e}function kl(M){var R=M.value,K=M.valueSpec,ue=M.style,Ae=M.styleSpec,Pe=M.key,je=M.arrayElementValidator||Ga;if(Wr(R)!=="array")return[new pt(Pe,R,"array expected, "+Wr(R)+" found")];if(K.length&&R.length!==K.length)return[new pt(Pe,R,"array length "+K.length+" expected, length "+R.length+" found")];if(K["min-length"]&&R.length<K["min-length"])return[new pt(Pe,R,"array length at least "+K["min-length"]+" expected, length "+R.length+" found")];var $e={type:K.value,values:K.values};Ae.$version<7&&($e.function=K.function),Wr(K.value)==="object"&&($e=K.value);for(var ct=[],wt=0;wt<R.length;wt++)ct=ct.concat(je({array:R,arrayIndex:wt,value:R[wt],valueSpec:$e,style:ue,styleSpec:Ae,key:Pe+"["+wt+"]"}));return ct}function ru(M){var R=M.key,K=M.value,ue=M.valueSpec,Ae=Wr(K);return Ae==="number"&&K!=K&&(Ae="NaN"),Ae!=="number"?[new pt(R,K,"number expected, "+Ae+" found")]:"minimum"in ue&&K<ue.minimum?[new pt(R,K,K+" is less than the minimum value "+ue.minimum)]:"maximum"in ue&&K>ue.maximum?[new pt(R,K,K+" is greater than the maximum value "+ue.maximum)]:[]}function Ps(M){var R,K,ue,Ae=M.valueSpec,Pe=ht(M.value.type),je={},$e=Pe!=="categorical"&&M.value.property===void 0,ct=!$e,wt=Wr(M.value.stops)==="array"&&Wr(M.value.stops[0])==="array"&&Wr(M.value.stops[0][0])==="object",St=Ba({key:M.key,value:M.value,valueSpec:M.styleSpec.function,style:M.style,styleSpec:M.styleSpec,objectElementValidators:{stops:function(Ut){if(Pe==="identity")return[new pt(Ut.key,Ut.value,'identity function may not have a "stops" property')];var sn=[],cn=Ut.value;return sn=sn.concat(kl({key:Ut.key,value:cn,valueSpec:Ut.valueSpec,style:Ut.style,styleSpec:Ut.styleSpec,arrayElementValidator:Nt})),Wr(cn)==="array"&&cn.length===0&&sn.push(new pt(Ut.key,cn,"array must have at least one stop")),sn},default:function(Ut){return Ga({key:Ut.key,value:Ut.value,valueSpec:Ae,style:Ut.style,styleSpec:Ut.styleSpec})}}});return Pe==="identity"&&$e&&St.push(new pt(M.key,M.value,'missing required property "property"')),Pe==="identity"||M.value.stops||St.push(new pt(M.key,M.value,'missing required property "stops"')),Pe==="exponential"&&M.valueSpec.expression&&!Yo(M.valueSpec)&&St.push(new pt(M.key,M.value,"exponential functions not supported")),M.styleSpec.$version>=8&&(ct&&!Co(M.valueSpec)?St.push(new pt(M.key,M.value,"property functions not supported")):$e&&!Po(M.valueSpec)&&St.push(new pt(M.key,M.value,"zoom functions not supported"))),Pe!=="categorical"&&!wt||M.value.property!==void 0||St.push(new pt(M.key,M.value,'"property" property is required')),St;function Nt(Ut){var sn=[],cn=Ut.value,An=Ut.key;if(Wr(cn)!=="array")return[new pt(An,cn,"array expected, "+Wr(cn)+" found")];if(cn.length!==2)return[new pt(An,cn,"array length 2 expected, length "+cn.length+" found")];if(wt){if(Wr(cn[0])!=="object")return[new pt(An,cn,"object expected, "+Wr(cn[0])+" found")];if(cn[0].zoom===void 0)return[new pt(An,cn,"object stop key must have zoom")];if(cn[0].value===void 0)return[new pt(An,cn,"object stop key must have value")];if(ue&&ue>ht(cn[0].zoom))return[new pt(An,cn[0].zoom,"stop zoom values must appear in ascending order")];ht(cn[0].zoom)!==ue&&(ue=ht(cn[0].zoom),K=void 0,je={}),sn=sn.concat(Ba({key:An+"[0]",value:cn[0],valueSpec:{zoom:{}},style:Ut.style,styleSpec:Ut.styleSpec,objectElementValidators:{zoom:ru,value:Gt}}))}else sn=sn.concat(Gt({key:An+"[0]",value:cn[0],valueSpec:{},style:Ut.style,styleSpec:Ut.styleSpec},cn));return vs(Lt(cn[1]))?sn.concat([new pt(An+"[1]",cn[1],"expressions are not allowed in function stops.")]):sn.concat(Ga({key:An+"[1]",value:cn[1],valueSpec:Ae,style:Ut.style,styleSpec:Ut.styleSpec}))}function Gt(Ut,sn){var cn=Wr(Ut.value),An=ht(Ut.value),wn=Ut.value!==null?Ut.value:sn;if(R){if(cn!==R)return[new pt(Ut.key,wn,cn+" stop domain type must match previous stop domain type "+R)]}else R=cn;if(cn!=="number"&&cn!=="string"&&cn!=="boolean")return[new pt(Ut.key,wn,"stop domain value must be a number, string, or boolean")];if(cn!=="number"&&Pe!=="categorical"){var Bn="number expected, "+cn+" found";return Co(Ae)&&Pe===void 0&&(Bn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new pt(Ut.key,wn,Bn)]}return Pe!=="categorical"||cn!=="number"||isFinite(An)&&Math.floor(An)===An?Pe!=="categorical"&&cn==="number"&&K!==void 0&&An<K?[new pt(Ut.key,wn,"stop domain values must appear in ascending order")]:(K=An,Pe==="categorical"&&An in je?[new pt(Ut.key,wn,"stop domain values must be unique")]:(je[An]=!0,[])):[new pt(Ut.key,wn,"integer expected, found "+An)]}}function ms(M){var R=(M.expressionContext==="property"?nu:Oo)(Lt(M.value),M.valueSpec);if(R.result==="error")return R.value.map(function(ue){return new pt(""+M.key+ue.key,M.value,ue.message)});var K=R.value.expression||R.value._styleExpression.expression;if(M.expressionContext==="property"&&M.propertyKey==="text-font"&&!K.outputDefined())return[new pt(M.key,M.value,'Invalid data expression for "'+M.propertyKey+'". Output values must be contained as literals within the expression.')];if(M.expressionContext==="property"&&M.propertyType==="layout"&&!Qn(K))return[new pt(M.key,M.value,'"feature-state" data expressions are not supported with layout properties.')];if(M.expressionContext==="filter"&&!Qn(K))return[new pt(M.key,M.value,'"feature-state" data expressions are not supported with filters.')];if(M.expressionContext&&M.expressionContext.indexOf("cluster")===0){if(!mr(K,["zoom","feature-state"]))return[new pt(M.key,M.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(M.expressionContext==="cluster-initial"&&!tr(K))return[new pt(M.key,M.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Os(M){var R=M.key,K=M.value,ue=M.valueSpec,Ae=[];return Array.isArray(ue.values)?ue.values.indexOf(ht(K))===-1&&Ae.push(new pt(R,K,"expected one of ["+ue.values.join(", ")+"], "+JSON.stringify(K)+" found")):Object.keys(ue.values).indexOf(ht(K))===-1&&Ae.push(new pt(R,K,"expected one of ["+Object.keys(ue.values).join(", ")+"], "+JSON.stringify(K)+" found")),Ae}function ys(M){if(M===!0||M===!1)return!0;if(!Array.isArray(M)||M.length===0)return!1;switch(M[0]){case"has":return M.length>=2&&M[1]!=="$id"&&M[1]!=="$type";case"in":return M.length>=3&&(typeof M[1]!="string"||Array.isArray(M[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return M.length!==3||Array.isArray(M[1])||Array.isArray(M[2]);case"any":case"all":for(var R=0,K=M.slice(1);R<K.length;R+=1){var ue=K[R];if(!ys(ue)&&typeof ue!="boolean")return!1}return!0;default:return!0}}Zs.deserialize=function(M){return new Zs(M._parameters,M._specification)},Zs.serialize=function(M){return{_parameters:M._parameters,_specification:M._specification}};var xs={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Xs(M){if(M==null)return{filter:function(){return!0},needGeometry:!1};ys(M)||(M=Xo(M));var R=Oo(M,xs);if(R.result==="error")throw new Error(R.value.map(function(K){return K.key+": "+K.message}).join(", "));return{filter:function(K,ue,Ae){return R.value.evaluate(K,ue,{},Ae)},needGeometry:oi(M)}}function Al(M,R){return M<R?-1:M>R?1:0}function oi(M){if(!Array.isArray(M))return!1;if(M[0]==="within")return!0;for(var R=1;R<M.length;R++)if(oi(M[R]))return!0;return!1}function Xo(M){if(!M)return!0;var R,K=M[0];return M.length<=1?K!=="any":K==="=="?ca(M[1],M[2],"=="):K==="!="?ai(ca(M[1],M[2],"==")):K==="<"||K===">"||K==="<="||K===">="?ca(M[1],M[2],K):K==="any"?(R=M.slice(1),["any"].concat(R.map(Xo))):K==="all"?["all"].concat(M.slice(1).map(Xo)):K==="none"?["all"].concat(M.slice(1).map(Xo).map(ai)):K==="in"?ro(M[1],M.slice(2)):K==="!in"?ai(ro(M[1],M.slice(2))):K==="has"?Qr(M[1]):K==="!has"?ai(Qr(M[1])):K!=="within"||M}function ca(M,R,K){switch(M){case"$type":return["filter-type-"+K,R];case"$id":return["filter-id-"+K,R];default:return["filter-"+K,M,R]}}function ro(M,R){if(R.length===0)return!1;switch(M){case"$type":return["filter-type-in",["literal",R]];case"$id":return["filter-id-in",["literal",R]];default:return R.length>200&&!R.some(function(K){return typeof K!=typeof R[0]})?["filter-in-large",M,["literal",R.sort(Al)]]:["filter-in-small",M,["literal",R]]}}function Qr(M){switch(M){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",M]}}function ai(M){return["!",M]}function Na(M){return ys(Lt(M.value))?ms(yt({},M,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Is(M)}function Is(M){var R=M.value,K=M.key;if(Wr(R)!=="array")return[new pt(K,R,"array expected, "+Wr(R)+" found")];var ue,Ae=M.styleSpec,Pe=[];if(R.length<1)return[new pt(K,R,"filter array must have at least 1 element")];switch(Pe=Pe.concat(Os({key:K+"[0]",value:R[0],valueSpec:Ae.filter_operator,style:M.style,styleSpec:M.styleSpec})),ht(R[0])){case"<":case"<=":case">":case">=":R.length>=2&&ht(R[1])==="$type"&&Pe.push(new pt(K,R,'"$type" cannot be use with operator "'+R[0]+'"'));case"==":case"!=":R.length!==3&&Pe.push(new pt(K,R,'filter array for operator "'+R[0]+'" must have 3 elements'));case"in":case"!in":R.length>=2&&(ue=Wr(R[1]))!=="string"&&Pe.push(new pt(K+"[1]",R[1],"string expected, "+ue+" found"));for(var je=2;je<R.length;je++)ue=Wr(R[je]),ht(R[1])==="$type"?Pe=Pe.concat(Os({key:K+"["+je+"]",value:R[je],valueSpec:Ae.geometry_type,style:M.style,styleSpec:M.styleSpec})):ue!=="string"&&ue!=="number"&&ue!=="boolean"&&Pe.push(new pt(K+"["+je+"]",R[je],"string, number, or boolean expected, "+ue+" found"));break;case"any":case"all":case"none":for(var $e=1;$e<R.length;$e++)Pe=Pe.concat(Is({key:K+"["+$e+"]",value:R[$e],style:M.style,styleSpec:M.styleSpec}));break;case"has":case"!has":ue=Wr(R[1]),R.length!==2?Pe.push(new pt(K,R,'filter array for "'+R[0]+'" operator must have 2 elements')):ue!=="string"&&Pe.push(new pt(K+"[1]",R[1],"string expected, "+ue+" found"));break;case"within":ue=Wr(R[1]),R.length!==2?Pe.push(new pt(K,R,'filter array for "'+R[0]+'" operator must have 2 elements')):ue!=="object"&&Pe.push(new pt(K+"[1]",R[1],"object expected, "+ue+" found"))}return Pe}function Ks(M,R){var K=M.key,ue=M.style,Ae=M.styleSpec,Pe=M.value,je=M.objectKey,$e=Ae[R+"_"+M.layerType];if(!$e)return[];var ct=je.match(/^(.*)-transition$/);if(R==="paint"&&ct&&$e[ct[1]]&&$e[ct[1]].transition)return Ga({key:K,value:Pe,valueSpec:Ae.transition,style:ue,styleSpec:Ae});var wt,St=M.valueSpec||$e[je];if(!St)return[new pt(K,Pe,'unknown property "'+je+'"')];if(Wr(Pe)==="string"&&Co(St)&&!St.tokens&&(wt=/^{([^}]+)}$/.exec(Pe)))return[new pt(K,Pe,'"'+je+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(wt[1])+" }`.")];var Nt=[];return M.layerType==="symbol"&&(je==="text-field"&&ue&&!ue.glyphs&&Nt.push(new pt(K,Pe,'use of "text-field" requires a style "glyphs" property')),je==="text-font"&&Es(Lt(Pe))&&ht(Pe.type)==="identity"&&Nt.push(new pt(K,Pe,'"text-font" does not support identity functions'))),Nt.concat(Ga({key:M.key,value:Pe,valueSpec:St,style:ue,styleSpec:Ae,expressionContext:"property",propertyType:R,propertyKey:je}))}function Ml(M){return Ks(M,"paint")}function Js(M){return Ks(M,"layout")}function $s(M){var R=[],K=M.value,ue=M.key,Ae=M.style,Pe=M.styleSpec;K.type||K.ref||R.push(new pt(ue,K,'either "type" or "ref" is required'));var je,$e=ht(K.type),ct=ht(K.ref);if(K.id)for(var wt=ht(K.id),St=0;St<M.arrayIndex;St++){var Nt=Ae.layers[St];ht(Nt.id)===wt&&R.push(new pt(ue,K.id,'duplicate layer id "'+K.id+'", previously used at line '+Nt.id.__line__))}if("ref"in K)["type","source","source-layer","filter","layout"].forEach(function(sn){sn in K&&R.push(new pt(ue,K[sn],'"'+sn+'" is prohibited for ref layers'))}),Ae.layers.forEach(function(sn){ht(sn.id)===ct&&(je=sn)}),je?je.ref?R.push(new pt(ue,K.ref,"ref cannot reference another ref layer")):$e=ht(je.type):R.push(new pt(ue,K.ref,'ref layer "'+ct+'" not found'));else if($e!=="background")if(K.source){var Gt=Ae.sources&&Ae.sources[K.source],Ut=Gt&&ht(Gt.type);Gt?Ut==="vector"&&$e==="raster"?R.push(new pt(ue,K.source,'layer "'+K.id+'" requires a raster source')):Ut==="raster"&&$e!=="raster"?R.push(new pt(ue,K.source,'layer "'+K.id+'" requires a vector source')):Ut!=="vector"||K["source-layer"]?Ut==="raster-dem"&&$e!=="hillshade"?R.push(new pt(ue,K.source,"raster-dem source can only be used with layer type 'hillshade'.")):$e!=="line"||!K.paint||!K.paint["line-gradient"]||Ut==="geojson"&&Gt.lineMetrics||R.push(new pt(ue,K,'layer "'+K.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):R.push(new pt(ue,K,'layer "'+K.id+'" must specify a "source-layer"')):R.push(new pt(ue,K.source,'source "'+K.source+'" not found'))}else R.push(new pt(ue,K,'missing required property "source"'));return R=R.concat(Ba({key:ue,value:K,valueSpec:Pe.layer,style:M.style,styleSpec:M.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Ga({key:ue+".type",value:K.type,valueSpec:Pe.layer.type,style:M.style,styleSpec:M.styleSpec,object:K,objectKey:"type"})},filter:Na,layout:function(sn){return Ba({layer:K,key:sn.key,value:sn.value,style:sn.style,styleSpec:sn.styleSpec,objectElementValidators:{"*":function(cn){return Js(yt({layerType:$e},cn))}}})},paint:function(sn){return Ba({layer:K,key:sn.key,value:sn.value,style:sn.style,styleSpec:sn.styleSpec,objectElementValidators:{"*":function(cn){return Ml(yt({layerType:$e},cn))}}})}}})),R}function qa(M){var R=M.value,K=M.key,ue=Wr(R);return ue!=="string"?[new pt(K,R,"string expected, "+ue+" found")]:[]}var Ko={promoteId:function(M){var R=M.key,K=M.value;if(Wr(K)==="string")return qa({key:R,value:K});var ue=[];for(var Ae in K)ue.push.apply(ue,qa({key:R+"."+Ae,value:K[Ae]}));return ue}};function Jo(M){var R=M.value,K=M.key,ue=M.styleSpec,Ae=M.style;if(!R.type)return[new pt(K,R,'"type" is required')];var Pe,je=ht(R.type);switch(je){case"vector":case"raster":case"raster-dem":return Ba({key:K,value:R,valueSpec:ue["source_"+je.replace("-","_")],style:M.style,styleSpec:ue,objectElementValidators:Ko});case"geojson":if(Pe=Ba({key:K,value:R,valueSpec:ue.source_geojson,style:Ae,styleSpec:ue,objectElementValidators:Ko}),R.cluster)for(var $e in R.clusterProperties){var ct=R.clusterProperties[$e],wt=ct[0],St=ct[1],Nt=typeof wt=="string"?[wt,["accumulated"],["get",$e]]:wt;Pe.push.apply(Pe,ms({key:K+"."+$e+".map",value:St,expressionContext:"cluster-map"})),Pe.push.apply(Pe,ms({key:K+"."+$e+".reduce",value:Nt,expressionContext:"cluster-reduce"}))}return Pe;case"video":return Ba({key:K,value:R,valueSpec:ue.source_video,style:Ae,styleSpec:ue});case"image":return Ba({key:K,value:R,valueSpec:ue.source_image,style:Ae,styleSpec:ue});case"canvas":return[new pt(K,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Os({key:K+".type",value:R.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:Ae,styleSpec:ue})}}function va(M){var R=M.value,K=M.styleSpec,ue=K.light,Ae=M.style,Pe=[],je=Wr(R);if(R===void 0)return Pe;if(je!=="object")return Pe.concat([new pt("light",R,"object expected, "+je+" found")]);for(var $e in R){var ct=$e.match(/^(.*)-transition$/);Pe=ct&&ue[ct[1]]&&ue[ct[1]].transition?Pe.concat(Ga({key:$e,value:R[$e],valueSpec:K.transition,style:Ae,styleSpec:K})):ue[$e]?Pe.concat(Ga({key:$e,value:R[$e],valueSpec:ue[$e],style:Ae,styleSpec:K})):Pe.concat([new pt($e,R[$e],'unknown property "'+$e+'"')])}return Pe}var Qs={"*":function(){return[]},array:kl,boolean:function(M){var R=M.value,K=M.key,ue=Wr(R);return ue!=="boolean"?[new pt(K,R,"boolean expected, "+ue+" found")]:[]},number:ru,color:function(M){var R=M.key,K=M.value,ue=Wr(K);return ue!=="string"?[new pt(R,K,"color expected, "+ue+" found")]:Dn(K)===null?[new pt(R,K,'color expected, "'+K+'" found')]:[]},constants:mt,enum:Os,filter:Na,function:Ps,layer:$s,object:Ba,source:Jo,light:va,string:qa,formatted:function(M){return qa(M).length===0?[]:ms(M)},resolvedImage:function(M){return qa(M).length===0?[]:ms(M)}};function Ga(M){var R=M.value,K=M.valueSpec,ue=M.styleSpec;return K.expression&&Es(ht(R))?Ps(M):K.expression&&vs(Lt(R))?ms(M):K.type&&Qs[K.type]?Qs[K.type](M):Ba(yt({},M,{valueSpec:K.type?ue[K.type]:K}))}function $i(M){var R=M.value,K=M.key,ue=qa(M);return ue.length||(R.indexOf("{fontstack}")===-1&&ue.push(new pt(K,R,'"glyphs" url must include a "{fontstack}" token')),R.indexOf("{range}")===-1&&ue.push(new pt(K,R,'"glyphs" url must include a "{range}" token'))),ue}function ia(M,R){R===void 0&&(R=Xe);var K=[];return K=K.concat(Ga({key:"",value:M,valueSpec:R.$root,styleSpec:R,style:M,objectElementValidators:{glyphs:$i,"*":function(){return[]}}})),M.constants&&(K=K.concat(mt({key:"constants",value:M.constants,style:M,styleSpec:R}))),pi(K)}function pi(M){return[].concat(M).sort(function(R,K){return R.line-K.line})}function aa(M){return function(){for(var R=[],K=arguments.length;K--;)R[K]=arguments[K];return pi(M.apply(this,R))}}ia.source=aa(Jo),ia.light=aa(va),ia.layer=aa($s),ia.filter=aa(Na),ia.paintProperty=aa(Ml),ia.layoutProperty=aa(Js);var yo=ia,bs=yo.light,io=yo.paintProperty,$o=yo.layoutProperty;function Ta(M,R){var K=!1;if(R&&R.length)for(var ue=0,Ae=R;ue<Ae.length;ue+=1){var Pe=Ae[ue];M.fire(new Be(new Error(Pe.message))),K=!0}return K}var _s=Wa,Io=3;function Wa(M,R,K){var ue=this.cells=[];if(M instanceof ArrayBuffer){this.arrayBuffer=M;var Ae=new Int32Array(this.arrayBuffer);M=Ae[0],R=Ae[1],K=Ae[2],this.d=R+2*K;for(var Pe=0;Pe<this.d*this.d;Pe++){var je=Ae[Io+Pe],$e=Ae[Io+Pe+1];ue.push(je===$e?null:Ae.subarray(je,$e))}var ct=Ae[Io+ue.length],wt=Ae[Io+ue.length+1];this.keys=Ae.subarray(ct,wt),this.bboxes=Ae.subarray(wt),this.insert=this._insertReadonly}else{this.d=R+2*K;for(var St=0;St<this.d*this.d;St++)ue.push([]);this.keys=[],this.bboxes=[]}this.n=R,this.extent=M,this.padding=K,this.scale=R/M,this.uid=0;var Nt=K/R*M;this.min=-Nt,this.max=M+Nt}Wa.prototype.insert=function(M,R,K,ue,Ae){this._forEachCell(R,K,ue,Ae,this._insertCell,this.uid++),this.keys.push(M),this.bboxes.push(R),this.bboxes.push(K),this.bboxes.push(ue),this.bboxes.push(Ae)},Wa.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Wa.prototype._insertCell=function(M,R,K,ue,Ae,Pe){this.cells[Ae].push(Pe)},Wa.prototype.query=function(M,R,K,ue,Ae){var Pe=this.min,je=this.max;if(M<=Pe&&R<=Pe&&je<=K&&je<=ue&&!Ae)return Array.prototype.slice.call(this.keys);var $e=[];return this._forEachCell(M,R,K,ue,this._queryCell,$e,{},Ae),$e},Wa.prototype._queryCell=function(M,R,K,ue,Ae,Pe,je,$e){var ct=this.cells[Ae];if(ct!==null)for(var wt=this.keys,St=this.bboxes,Nt=0;Nt<ct.length;Nt++){var Gt=ct[Nt];if(je[Gt]===void 0){var Ut=4*Gt;($e?$e(St[Ut+0],St[Ut+1],St[Ut+2],St[Ut+3]):M<=St[Ut+2]&&R<=St[Ut+3]&&K>=St[Ut+0]&&ue>=St[Ut+1])?(je[Gt]=!0,Pe.push(wt[Gt])):je[Gt]=!1}}},Wa.prototype._forEachCell=function(M,R,K,ue,Ae,Pe,je,$e){for(var ct=this._convertToCellCoord(M),wt=this._convertToCellCoord(R),St=this._convertToCellCoord(K),Nt=this._convertToCellCoord(ue),Gt=ct;Gt<=St;Gt++)for(var Ut=wt;Ut<=Nt;Ut++){var sn=this.d*Ut+Gt;if((!$e||$e(this._convertFromCellCoord(Gt),this._convertFromCellCoord(Ut),this._convertFromCellCoord(Gt+1),this._convertFromCellCoord(Ut+1)))&&Ae.call(this,M,R,K,ue,sn,Pe,je,$e))return}},Wa.prototype._convertFromCellCoord=function(M){return(M-this.padding)/this.scale},Wa.prototype._convertToCellCoord=function(M){return Math.max(0,Math.min(this.d-1,Math.floor(M*this.scale)+this.padding))},Wa.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var M=this.cells,R=Io+this.cells.length+1+1,K=0,ue=0;ue<this.cells.length;ue++)K+=this.cells[ue].length;var Ae=new Int32Array(R+K+this.keys.length+this.bboxes.length);Ae[0]=this.extent,Ae[1]=this.n,Ae[2]=this.padding;for(var Pe=R,je=0;je<M.length;je++){var $e=M[je];Ae[Io+je]=Pe,Ae.set($e,Pe),Pe+=$e.length}return Ae[Io+M.length]=Pe,Ae.set(this.keys,Pe),Pe+=this.keys.length,Ae[Io+M.length+1]=Pe,Ae.set(this.bboxes,Pe),Pe+=this.bboxes.length,Ae.buffer};var Ya=n.ImageData,gi=n.ImageBitmap,ao={};function Er(M,R,K){K===void 0&&(K={}),Object.defineProperty(R,"_classRegistryKey",{value:M,writeable:!1}),ao[M]={klass:R,omit:K.omit||[],shallow:K.shallow||[]}}for(var el in Er("Object",Object),_s.serialize=function(M,R){var K=M.toArrayBuffer();return R&&R.push(K),{buffer:K}},_s.deserialize=function(M){return new _s(M.buffer)},Er("Grid",_s),Er("Color",zn),Er("Error",Error),Er("ResolvedImage",ar),Er("StylePropertyFunction",Zs),Er("StyleExpression",Zo,{omit:["_evaluator"]}),Er("ZoomDependentExpression",Cs),Er("ZoomConstantExpression",no),Er("CompoundExpression",mn,{omit:["_evaluate"]}),Ss)Ss[el]._classRegistryKey||Er("Expression_"+el,Ss[el]);function jl(M){return M&&typeof ArrayBuffer<"u"&&(M instanceof ArrayBuffer||M.constructor&&M.constructor.name==="ArrayBuffer")}function Qo(M){return gi&&M instanceof gi}function es(M,R){if(M==null||typeof M=="boolean"||typeof M=="number"||typeof M=="string"||M instanceof Boolean||M instanceof Number||M instanceof String||M instanceof Date||M instanceof RegExp)return M;if(jl(M)||Qo(M))return R&&R.push(M),M;if(ArrayBuffer.isView(M)){var K=M;return R&&R.push(K.buffer),K}if(M instanceof Ya)return R&&R.push(M.data.buffer),M;if(Array.isArray(M)){for(var ue=[],Ae=0,Pe=M;Ae<Pe.length;Ae+=1){var je=Pe[Ae];ue.push(es(je,R))}return ue}if(typeof M=="object"){var $e=M.constructor,ct=$e._classRegistryKey;if(!ct)throw new Error("can't serialize object of unregistered class");var wt=$e.serialize?$e.serialize(M,R):{};if(!$e.serialize){for(var St in M)if(M.hasOwnProperty(St)&&!(ao[ct].omit.indexOf(St)>=0)){var Nt=M[St];wt[St]=ao[ct].shallow.indexOf(St)>=0?Nt:es(Nt,R)}M instanceof Error&&(wt.message=M.message)}if(wt.$name)throw new Error("$name property is reserved for worker serialization logic.");return ct!=="Object"&&(wt.$name=ct),wt}throw new Error("can't serialize object of type "+typeof M)}function ws(M){if(M==null||typeof M=="boolean"||typeof M=="number"||typeof M=="string"||M instanceof Boolean||M instanceof Number||M instanceof String||M instanceof Date||M instanceof RegExp||jl(M)||Qo(M)||ArrayBuffer.isView(M)||M instanceof Ya)return M;if(Array.isArray(M))return M.map(ws);if(typeof M=="object"){var R=M.$name||"Object",K=ao[R].klass;if(!K)throw new Error("can't deserialize unregistered class "+R);if(K.deserialize)return K.deserialize(M);for(var ue=Object.create(K.prototype),Ae=0,Pe=Object.keys(M);Ae<Pe.length;Ae+=1){var je=Pe[Ae];if(je!=="$name"){var $e=M[je];ue[je]=ao[R].shallow.indexOf(je)>=0?$e:ws($e)}}return ue}throw new Error("can't deserialize object of type "+typeof M)}var Rs=function(){this.first=!0};Rs.prototype.update=function(M,R){var K=Math.floor(M);return this.first?(this.first=!1,this.lastIntegerZoom=K,this.lastIntegerZoomTime=0,this.lastZoom=M,this.lastFloorZoom=K,!0):(this.lastFloorZoom>K?(this.lastIntegerZoom=K+1,this.lastIntegerZoomTime=R):this.lastFloorZoom<K&&(this.lastIntegerZoom=K,this.lastIntegerZoomTime=R),M!==this.lastZoom&&(this.lastZoom=M,this.lastFloorZoom=K,!0))};var _r={"Latin-1 Supplement":function(M){return M>=128&&M<=255},Arabic:function(M){return M>=1536&&M<=1791},"Arabic Supplement":function(M){return M>=1872&&M<=1919},"Arabic Extended-A":function(M){return M>=2208&&M<=2303},"Hangul Jamo":function(M){return M>=4352&&M<=4607},"Unified Canadian Aboriginal Syllabics":function(M){return M>=5120&&M<=5759},Khmer:function(M){return M>=6016&&M<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(M){return M>=6320&&M<=6399},"General Punctuation":function(M){return M>=8192&&M<=8303},"Letterlike Symbols":function(M){return M>=8448&&M<=8527},"Number Forms":function(M){return M>=8528&&M<=8591},"Miscellaneous Technical":function(M){return M>=8960&&M<=9215},"Control Pictures":function(M){return M>=9216&&M<=9279},"Optical Character Recognition":function(M){return M>=9280&&M<=9311},"Enclosed Alphanumerics":function(M){return M>=9312&&M<=9471},"Geometric Shapes":function(M){return M>=9632&&M<=9727},"Miscellaneous Symbols":function(M){return M>=9728&&M<=9983},"Miscellaneous Symbols and Arrows":function(M){return M>=11008&&M<=11263},"CJK Radicals Supplement":function(M){return M>=11904&&M<=12031},"Kangxi Radicals":function(M){return M>=12032&&M<=12255},"Ideographic Description Characters":function(M){return M>=12272&&M<=12287},"CJK Symbols and Punctuation":function(M){return M>=12288&&M<=12351},Hiragana:function(M){return M>=12352&&M<=12447},Katakana:function(M){return M>=12448&&M<=12543},Bopomofo:function(M){return M>=12544&&M<=12591},"Hangul Compatibility Jamo":function(M){return M>=12592&&M<=12687},Kanbun:function(M){return M>=12688&&M<=12703},"Bopomofo Extended":function(M){return M>=12704&&M<=12735},"CJK Strokes":function(M){return M>=12736&&M<=12783},"Katakana Phonetic Extensions":function(M){return M>=12784&&M<=12799},"Enclosed CJK Letters and Months":function(M){return M>=12800&&M<=13055},"CJK Compatibility":function(M){return M>=13056&&M<=13311},"CJK Unified Ideographs Extension A":function(M){return M>=13312&&M<=19903},"Yijing Hexagram Symbols":function(M){return M>=19904&&M<=19967},"CJK Unified Ideographs":function(M){return M>=19968&&M<=40959},"Yi Syllables":function(M){return M>=40960&&M<=42127},"Yi Radicals":function(M){return M>=42128&&M<=42191},"Hangul Jamo Extended-A":function(M){return M>=43360&&M<=43391},"Hangul Syllables":function(M){return M>=44032&&M<=55215},"Hangul Jamo Extended-B":function(M){return M>=55216&&M<=55295},"Private Use Area":function(M){return M>=57344&&M<=63743},"CJK Compatibility Ideographs":function(M){return M>=63744&&M<=64255},"Arabic Presentation Forms-A":function(M){return M>=64336&&M<=65023},"Vertical Forms":function(M){return M>=65040&&M<=65055},"CJK Compatibility Forms":function(M){return M>=65072&&M<=65103},"Small Form Variants":function(M){return M>=65104&&M<=65135},"Arabic Presentation Forms-B":function(M){return M>=65136&&M<=65279},"Halfwidth and Fullwidth Forms":function(M){return M>=65280&&M<=65519}};function tl(M){for(var R=0,K=M;R<K.length;R+=1)if(Ro(K[R].charCodeAt(0)))return!0;return!1}function Ro(M){return!(M!==746&&M!==747&&(M<4352||!(_r["Bopomofo Extended"](M)||_r.Bopomofo(M)||_r["CJK Compatibility Forms"](M)&&!(M>=65097&&M<=65103)||_r["CJK Compatibility Ideographs"](M)||_r["CJK Compatibility"](M)||_r["CJK Radicals Supplement"](M)||_r["CJK Strokes"](M)||!(!_r["CJK Symbols and Punctuation"](M)||M>=12296&&M<=12305||M>=12308&&M<=12319||M===12336)||_r["CJK Unified Ideographs Extension A"](M)||_r["CJK Unified Ideographs"](M)||_r["Enclosed CJK Letters and Months"](M)||_r["Hangul Compatibility Jamo"](M)||_r["Hangul Jamo Extended-A"](M)||_r["Hangul Jamo Extended-B"](M)||_r["Hangul Jamo"](M)||_r["Hangul Syllables"](M)||_r.Hiragana(M)||_r["Ideographic Description Characters"](M)||_r.Kanbun(M)||_r["Kangxi Radicals"](M)||_r["Katakana Phonetic Extensions"](M)||_r.Katakana(M)&&M!==12540||!(!_r["Halfwidth and Fullwidth Forms"](M)||M===65288||M===65289||M===65293||M>=65306&&M<=65310||M===65339||M===65341||M===65343||M>=65371&&M<=65503||M===65507||M>=65512&&M<=65519)||!(!_r["Small Form Variants"](M)||M>=65112&&M<=65118||M>=65123&&M<=65126)||_r["Unified Canadian Aboriginal Syllabics"](M)||_r["Unified Canadian Aboriginal Syllabics Extended"](M)||_r["Vertical Forms"](M)||_r["Yijing Hexagram Symbols"](M)||_r["Yi Syllables"](M)||_r["Yi Radicals"](M))))}function Qi(M){return!(Ro(M)||function(R){return!!(_r["Latin-1 Supplement"](R)&&(R===167||R===169||R===174||R===177||R===188||R===189||R===190||R===215||R===247)||_r["General Punctuation"](R)&&(R===8214||R===8224||R===8225||R===8240||R===8241||R===8251||R===8252||R===8258||R===8263||R===8264||R===8265||R===8273)||_r["Letterlike Symbols"](R)||_r["Number Forms"](R)||_r["Miscellaneous Technical"](R)&&(R>=8960&&R<=8967||R>=8972&&R<=8991||R>=8996&&R<=9e3||R===9003||R>=9085&&R<=9114||R>=9150&&R<=9165||R===9167||R>=9169&&R<=9179||R>=9186&&R<=9215)||_r["Control Pictures"](R)&&R!==9251||_r["Optical Character Recognition"](R)||_r["Enclosed Alphanumerics"](R)||_r["Geometric Shapes"](R)||_r["Miscellaneous Symbols"](R)&&!(R>=9754&&R<=9759)||_r["Miscellaneous Symbols and Arrows"](R)&&(R>=11026&&R<=11055||R>=11088&&R<=11097||R>=11192&&R<=11243)||_r["CJK Symbols and Punctuation"](R)||_r.Katakana(R)||_r["Private Use Area"](R)||_r["CJK Compatibility Forms"](R)||_r["Small Form Variants"](R)||_r["Halfwidth and Fullwidth Forms"](R)||R===8734||R===8756||R===8757||R>=9984&&R<=10087||R>=10102&&R<=10131||R===65532||R===65533)}(M))}function ts(M){return _r.Arabic(M)||_r["Arabic Supplement"](M)||_r["Arabic Extended-A"](M)||_r["Arabic Presentation Forms-A"](M)||_r["Arabic Presentation Forms-B"](M)}function oo(M){return M>=1424&&M<=2303||_r["Arabic Presentation Forms-A"](M)||_r["Arabic Presentation Forms-B"](M)}function Za(M,R){return!(!R&&oo(M)||M>=2304&&M<=3583||M>=3840&&M<=4255||_r.Khmer(M))}function ma(M){for(var R=0,K=M;R<K.length;R+=1)if(oo(K[R].charCodeAt(0)))return!0;return!1}var xo="deferred",Xa="loading",Do="loaded",nl="error",ns=null,Jr="unavailable",oa=null,ka=function(M){M&&typeof M=="string"&&M.indexOf("NetworkError")>-1&&(Jr=nl),ns&&ns(M)};function bo(){Aa.fire(new Fe("pluginStateChange",{pluginStatus:Jr,pluginURL:oa}))}var Aa=new ot,Ds=function(){return Jr},zs=function(){if(Jr!==xo||!oa)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Jr=Xa,bo(),oa&&Ft({url:oa},function(M){M?ka(M):(Jr=Do,bo())})},Ma={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Jr===Do||Ma.applyArabicShaping!=null},isLoading:function(){return Jr===Xa},setState:function(M){Jr=M.pluginStatus,oa=M.pluginURL},isParsed:function(){return Ma.applyArabicShaping!=null&&Ma.processBidirectionalText!=null&&Ma.processStyledBidirectionalText!=null},getPluginURL:function(){return oa}},Zr=function(M,R){this.zoom=M,R?(this.now=R.now,this.fadeDuration=R.fadeDuration,this.zoomHistory=R.zoomHistory,this.transition=R.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Rs,this.transition={})};Zr.prototype.isSupportedScript=function(M){return function(R,K){for(var ue=0,Ae=R;ue<Ae.length;ue+=1)if(!Za(Ae[ue].charCodeAt(0),K))return!1;return!0}(M,Ma.isLoaded())},Zr.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Zr.prototype.getCrossfadeParameters=function(){var M=this.zoom,R=M-Math.floor(M),K=this.crossFadingFactor();return M>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:R+(1-R)*K}:{fromScale:.5,toScale:1,t:1-(1-K)*R}};var _o=function(M,R){this.property=M,this.value=R,this.expression=function(K,ue){if(Es(K))return new Zs(K,ue);if(vs(K)){var Ae=nu(K,ue);if(Ae.result==="error")throw new Error(Ae.value.map(function(je){return je.key+": "+je.message}).join(", "));return Ae.value}var Pe=K;return typeof K=="string"&&ue.type==="color"&&(Pe=zn.parse(K)),{kind:"constant",evaluate:function(){return Pe}}}(R===void 0?M.specification.default:R,M.specification)};_o.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},_o.prototype.possiblyEvaluate=function(M,R,K){return this.property.possiblyEvaluate(this,M,R,K)};var Ts=function(M){this.property=M,this.value=new _o(M,void 0)};Ts.prototype.transitioned=function(M,R){return new Fs(this.property,this.value,R,c({},M.transition,this.transition),M.now)},Ts.prototype.untransitioned=function(){return new Fs(this.property,this.value,null,{},0)};var so=function(M){this._properties=M,this._values=Object.create(M.defaultTransitionablePropertyValues)};so.prototype.getValue=function(M){return S(this._values[M].value.value)},so.prototype.setValue=function(M,R){this._values.hasOwnProperty(M)||(this._values[M]=new Ts(this._values[M].property)),this._values[M].value=new _o(this._values[M].property,R===null?void 0:S(R))},so.prototype.getTransition=function(M){return S(this._values[M].transition)},so.prototype.setTransition=function(M,R){this._values.hasOwnProperty(M)||(this._values[M]=new Ts(this._values[M].property)),this._values[M].transition=S(R)||void 0},so.prototype.serialize=function(){for(var M={},R=0,K=Object.keys(this._values);R<K.length;R+=1){var ue=K[R],Ae=this.getValue(ue);Ae!==void 0&&(M[ue]=Ae);var Pe=this.getTransition(ue);Pe!==void 0&&(M[ue+"-transition"]=Pe)}return M},so.prototype.transitioned=function(M,R){for(var K=new Bs(this._properties),ue=0,Ae=Object.keys(this._values);ue<Ae.length;ue+=1){var Pe=Ae[ue];K._values[Pe]=this._values[Pe].transitioned(M,R._values[Pe])}return K},so.prototype.untransitioned=function(){for(var M=new Bs(this._properties),R=0,K=Object.keys(this._values);R<K.length;R+=1){var ue=K[R];M._values[ue]=this._values[ue].untransitioned()}return M};var Fs=function(M,R,K,ue,Ae){this.property=M,this.value=R,this.begin=Ae+ue.delay||0,this.end=this.begin+ue.duration||0,M.specification.transition&&(ue.delay||ue.duration)&&(this.prior=K)};Fs.prototype.possiblyEvaluate=function(M,R,K){var ue=M.now||0,Ae=this.value.possiblyEvaluate(M,R,K),Pe=this.prior;if(Pe){if(ue>this.end)return this.prior=null,Ae;if(this.value.isDataDriven())return this.prior=null,Ae;if(ue<this.begin)return Pe.possiblyEvaluate(M,R,K);var je=(ue-this.begin)/(this.end-this.begin);return this.property.interpolate(Pe.possiblyEvaluate(M,R,K),Ae,function($e){if($e<=0)return 0;if($e>=1)return 1;var ct=$e*$e,wt=ct*$e;return 4*($e<.5?wt:3*($e-ct)+wt-.75)}(je))}return Ae};var Bs=function(M){this._properties=M,this._values=Object.create(M.defaultTransitioningPropertyValues)};Bs.prototype.possiblyEvaluate=function(M,R,K){for(var ue=new ks(this._properties),Ae=0,Pe=Object.keys(this._values);Ae<Pe.length;Ae+=1){var je=Pe[Ae];ue._values[je]=this._values[je].possiblyEvaluate(M,R,K)}return ue},Bs.prototype.hasTransition=function(){for(var M=0,R=Object.keys(this._values);M<R.length;M+=1){var K=R[M];if(this._values[K].prior)return!0}return!1};var lo=function(M){this._properties=M,this._values=Object.create(M.defaultPropertyValues)};lo.prototype.getValue=function(M){return S(this._values[M].value)},lo.prototype.setValue=function(M,R){this._values[M]=new _o(this._values[M].property,R===null?void 0:S(R))},lo.prototype.serialize=function(){for(var M={},R=0,K=Object.keys(this._values);R<K.length;R+=1){var ue=K[R],Ae=this.getValue(ue);Ae!==void 0&&(M[ue]=Ae)}return M},lo.prototype.possiblyEvaluate=function(M,R,K){for(var ue=new ks(this._properties),Ae=0,Pe=Object.keys(this._values);Ae<Pe.length;Ae+=1){var je=Pe[Ae];ue._values[je]=this._values[je].possiblyEvaluate(M,R,K)}return ue};var vi=function(M,R,K){this.property=M,this.value=R,this.parameters=K};vi.prototype.isConstant=function(){return this.value.kind==="constant"},vi.prototype.constantOr=function(M){return this.value.kind==="constant"?this.value.value:M},vi.prototype.evaluate=function(M,R,K,ue){return this.property.evaluate(this.value,this.parameters,M,R,K,ue)};var ks=function(M){this._properties=M,this._values=Object.create(M.defaultPossiblyEvaluatedValues)};ks.prototype.get=function(M){return this._values[M]};var Cr=function(M){this.specification=M};Cr.prototype.possiblyEvaluate=function(M,R){return M.expression.evaluate(R)},Cr.prototype.interpolate=function(M,R,K){var ue=hi[this.specification.type];return ue?ue(M,R,K):M};var zr=function(M,R){this.specification=M,this.overrides=R};zr.prototype.possiblyEvaluate=function(M,R,K,ue){return M.expression.kind==="constant"||M.expression.kind==="camera"?new vi(this,{kind:"constant",value:M.expression.evaluate(R,null,{},K,ue)},R):new vi(this,M.expression,R)},zr.prototype.interpolate=function(M,R,K){if(M.value.kind!=="constant"||R.value.kind!=="constant")return M;if(M.value.value===void 0||R.value.value===void 0)return new vi(this,{kind:"constant",value:void 0},M.parameters);var ue=hi[this.specification.type];return ue?new vi(this,{kind:"constant",value:ue(M.value.value,R.value.value,K)},M.parameters):M},zr.prototype.evaluate=function(M,R,K,ue,Ae,Pe){return M.kind==="constant"?M.value:M.evaluate(R,K,ue,Ae,Pe)};var ja=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.possiblyEvaluate=function(K,ue,Ae,Pe){if(K.value===void 0)return new vi(this,{kind:"constant",value:void 0},ue);if(K.expression.kind==="constant"){var je=K.expression.evaluate(ue,null,{},Ae,Pe),$e=K.property.specification.type==="resolvedImage"&&typeof je!="string"?je.name:je,ct=this._calculate($e,$e,$e,ue);return new vi(this,{kind:"constant",value:ct},ue)}if(K.expression.kind==="camera"){var wt=this._calculate(K.expression.evaluate({zoom:ue.zoom-1}),K.expression.evaluate({zoom:ue.zoom}),K.expression.evaluate({zoom:ue.zoom+1}),ue);return new vi(this,{kind:"constant",value:wt},ue)}return new vi(this,K.expression,ue)},R.prototype.evaluate=function(K,ue,Ae,Pe,je,$e){if(K.kind==="source"){var ct=K.evaluate(ue,Ae,Pe,je,$e);return this._calculate(ct,ct,ct,ue)}return K.kind==="composite"?this._calculate(K.evaluate({zoom:Math.floor(ue.zoom)-1},Ae,Pe),K.evaluate({zoom:Math.floor(ue.zoom)},Ae,Pe),K.evaluate({zoom:Math.floor(ue.zoom)+1},Ae,Pe),ue):K.value},R.prototype._calculate=function(K,ue,Ae,Pe){return Pe.zoom>Pe.zoomHistory.lastIntegerZoom?{from:K,to:ue}:{from:Ae,to:ue}},R.prototype.interpolate=function(K){return K},R}(zr),wo=function(M){this.specification=M};wo.prototype.possiblyEvaluate=function(M,R,K,ue){if(M.value!==void 0){if(M.expression.kind==="constant"){var Ae=M.expression.evaluate(R,null,{},K,ue);return this._calculate(Ae,Ae,Ae,R)}return this._calculate(M.expression.evaluate(new Zr(Math.floor(R.zoom-1),R)),M.expression.evaluate(new Zr(Math.floor(R.zoom),R)),M.expression.evaluate(new Zr(Math.floor(R.zoom+1),R)),R)}},wo.prototype._calculate=function(M,R,K,ue){return ue.zoom>ue.zoomHistory.lastIntegerZoom?{from:M,to:R}:{from:K,to:R}},wo.prototype.interpolate=function(M){return M};var zo=function(M){this.specification=M};zo.prototype.possiblyEvaluate=function(M,R,K,ue){return!!M.expression.evaluate(R,null,{},K,ue)},zo.prototype.interpolate=function(){return!1};var Ni=function(M){for(var R in this.properties=M,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],M){var K=M[R];K.specification.overridable&&this.overridableProperties.push(R);var ue=this.defaultPropertyValues[R]=new _o(K,void 0),Ae=this.defaultTransitionablePropertyValues[R]=new Ts(K);this.defaultTransitioningPropertyValues[R]=Ae.untransitioned(),this.defaultPossiblyEvaluatedValues[R]=ue.possiblyEvaluate({})}};Er("DataDrivenProperty",zr),Er("DataConstantProperty",Cr),Er("CrossFadedDataDrivenProperty",ja),Er("CrossFadedProperty",wo),Er("ColorRampProperty",zo);var To="-transition",si=function(M){function R(K,ue){if(M.call(this),this.id=K.id,this.type=K.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},K.type!=="custom"&&(this.metadata=K.metadata,this.minzoom=K.minzoom,this.maxzoom=K.maxzoom,K.type!=="background"&&(this.source=K.source,this.sourceLayer=K["source-layer"],this.filter=K.filter),ue.layout&&(this._unevaluatedLayout=new lo(ue.layout)),ue.paint)){for(var Ae in this._transitionablePaint=new so(ue.paint),K.paint)this.setPaintProperty(Ae,K.paint[Ae],{validate:!1});for(var Pe in K.layout)this.setLayoutProperty(Pe,K.layout[Pe],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ks(ue.paint)}}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},R.prototype.getLayoutProperty=function(K){return K==="visibility"?this.visibility:this._unevaluatedLayout.getValue(K)},R.prototype.setLayoutProperty=function(K,ue,Ae){if(Ae===void 0&&(Ae={}),ue!=null){var Pe="layers."+this.id+".layout."+K;if(this._validate($o,Pe,K,ue,Ae))return}K!=="visibility"?this._unevaluatedLayout.setValue(K,ue):this.visibility=ue},R.prototype.getPaintProperty=function(K){return m(K,To)?this._transitionablePaint.getTransition(K.slice(0,-11)):this._transitionablePaint.getValue(K)},R.prototype.setPaintProperty=function(K,ue,Ae){if(Ae===void 0&&(Ae={}),ue!=null){var Pe="layers."+this.id+".paint."+K;if(this._validate(io,Pe,K,ue,Ae))return!1}if(m(K,To))return this._transitionablePaint.setTransition(K.slice(0,-11),ue||void 0),!1;var je=this._transitionablePaint._values[K],$e=je.property.specification["property-type"]==="cross-faded-data-driven",ct=je.value.isDataDriven(),wt=je.value;this._transitionablePaint.setValue(K,ue),this._handleSpecialPaintPropertyUpdate(K);var St=this._transitionablePaint._values[K].value;return St.isDataDriven()||ct||$e||this._handleOverridablePaintPropertyUpdate(K,wt,St)},R.prototype._handleSpecialPaintPropertyUpdate=function(K){},R.prototype._handleOverridablePaintPropertyUpdate=function(K,ue,Ae){return!1},R.prototype.isHidden=function(K){return!!(this.minzoom&&K<this.minzoom)||!!(this.maxzoom&&K>=this.maxzoom)||this.visibility==="none"},R.prototype.updateTransitions=function(K){this._transitioningPaint=this._transitionablePaint.transitioned(K,this._transitioningPaint)},R.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},R.prototype.recalculate=function(K,ue){K.getCrossfadeParameters&&(this._crossfadeParameters=K.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(K,void 0,ue)),this.paint=this._transitioningPaint.possiblyEvaluate(K,void 0,ue)},R.prototype.serialize=function(){var K={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(K.layout=K.layout||{},K.layout.visibility=this.visibility),f(K,function(ue,Ae){return!(ue===void 0||Ae==="layout"&&!Object.keys(ue).length||Ae==="paint"&&!Object.keys(ue).length)})},R.prototype._validate=function(K,ue,Ae,Pe,je){return je===void 0&&(je={}),(!je||je.validate!==!1)&&Ta(this,K.call(yo,{key:ue,layerType:this.type,objectKey:Ae,value:Pe,styleSpec:Xe,style:{glyphs:!0,sprite:!0}}))},R.prototype.is3D=function(){return!1},R.prototype.isTileClipped=function(){return!1},R.prototype.hasOffscreenPass=function(){return!1},R.prototype.resize=function(){},R.prototype.isStateDependent=function(){for(var K in this.paint._values){var ue=this.paint.get(K);if(ue instanceof vi&&Co(ue.property.specification)&&(ue.value.kind==="source"||ue.value.kind==="composite")&&ue.value.isStateDependent)return!0}return!1},R}(ot),iu={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ua=function(M,R){this._structArray=M,this._pos1=R*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},ci=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function wi(M,R){R===void 0&&(R=1);var K=0,ue=0;return{members:M.map(function(Ae){var Pe,je=(Pe=Ae.type,iu[Pe].BYTES_PER_ELEMENT),$e=K=Ia(K,Math.max(R,je)),ct=Ae.components||1;return ue=Math.max(ue,je),K+=je*ct,{name:Ae.name,type:Ae.type,components:ct,offset:$e}}),size:Ia(K,Math.max(ue,R)),alignment:R}}function Ia(M,R){return Math.ceil(M/R)*R}ci.serialize=function(M,R){return M._trim(),R&&(M.isTransferred=!0,R.push(M.arrayBuffer)),{length:M.length,arrayBuffer:M.arrayBuffer}},ci.deserialize=function(M){var R=Object.create(this.prototype);return R.arrayBuffer=M.arrayBuffer,R.length=M.length,R.capacity=M.arrayBuffer.byteLength/R.bytesPerElement,R._refreshViews(),R},ci.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},ci.prototype.clear=function(){this.length=0},ci.prototype.resize=function(M){this.reserve(M),this.length=M},ci.prototype.reserve=function(M){if(M>this.capacity){this.capacity=Math.max(M,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var R=this.uint8;this._refreshViews(),R&&this.uint8.set(R)}},ci.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var rs=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ue){var Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,K,ue)},R.prototype.emplace=function(K,ue,Ae){var Pe=2*K;return this.int16[Pe+0]=ue,this.int16[Pe+1]=Ae,K},R}(ci);rs.prototype.bytesPerElement=4,Er("StructArrayLayout2i4",rs);var Ul=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ue,Ae,Pe){var je=this.length;return this.resize(je+1),this.emplace(je,K,ue,Ae,Pe)},R.prototype.emplace=function(K,ue,Ae,Pe,je){var $e=4*K;return this.int16[$e+0]=ue,this.int16[$e+1]=Ae,this.int16[$e+2]=Pe,this.int16[$e+3]=je,K},R}(ci);Ul.prototype.bytesPerElement=8,Er("StructArrayLayout4i8",Ul);var Ke=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ue,Ae,Pe,je,$e){var ct=this.length;return this.resize(ct+1),this.emplace(ct,K,ue,Ae,Pe,je,$e)},R.prototype.emplace=function(K,ue,Ae,Pe,je,$e,ct){var wt=6*K;return this.int16[wt+0]=ue,this.int16[wt+1]=Ae,this.int16[wt+2]=Pe,this.int16[wt+3]=je,this.int16[wt+4]=$e,this.int16[wt+5]=ct,K},R}(ci);Ke.prototype.bytesPerElement=12,Er("StructArrayLayout2i4i12",Ke);var Qe=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ue,Ae,Pe,je,$e){var ct=this.length;return this.resize(ct+1),this.emplace(ct,K,ue,Ae,Pe,je,$e)},R.prototype.emplace=function(K,ue,Ae,Pe,je,$e,ct){var wt=4*K,St=8*K;return this.int16[wt+0]=ue,this.int16[wt+1]=Ae,this.uint8[St+4]=Pe,this.uint8[St+5]=je,this.uint8[St+6]=$e,this.uint8[St+7]=ct,K},R}(ci);Qe.prototype.bytesPerElement=8,Er("StructArrayLayout2i4ub8",Qe);var ut=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ue){var Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,K,ue)},R.prototype.emplace=function(K,ue,Ae){var Pe=2*K;return this.float32[Pe+0]=ue,this.float32[Pe+1]=Ae,K},R}(ci);ut.prototype.bytesPerElement=8,Er("StructArrayLayout2f8",ut);var N=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ue,Ae,Pe,je,$e,ct,wt,St,Nt){var Gt=this.length;return this.resize(Gt+1),this.emplace(Gt,K,ue,Ae,Pe,je,$e,ct,wt,St,Nt)},R.prototype.emplace=function(K,ue,Ae,Pe,je,$e,ct,wt,St,Nt,Gt){var Ut=10*K;return this.uint16[Ut+0]=ue,this.uint16[Ut+1]=Ae,this.uint16[Ut+2]=Pe,this.uint16[Ut+3]=je,this.uint16[Ut+4]=$e,this.uint16[Ut+5]=ct,this.uint16[Ut+6]=wt,this.uint16[Ut+7]=St,this.uint16[Ut+8]=Nt,this.uint16[Ut+9]=Gt,K},R}(ci);N.prototype.bytesPerElement=20,Er("StructArrayLayout10ui20",N);var W=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ue,Ae,Pe,je,$e,ct,wt,St,Nt,Gt,Ut){var sn=this.length;return this.resize(sn+1),this.emplace(sn,K,ue,Ae,Pe,je,$e,ct,wt,St,Nt,Gt,Ut)},R.prototype.emplace=function(K,ue,Ae,Pe,je,$e,ct,wt,St,Nt,Gt,Ut,sn){var cn=12*K;return this.int16[cn+0]=ue,this.int16[cn+1]=Ae,this.int16[cn+2]=Pe,this.int16[cn+3]=je,this.uint16[cn+4]=$e,this.uint16[cn+5]=ct,this.uint16[cn+6]=wt,this.uint16[cn+7]=St,this.int16[cn+8]=Nt,this.int16[cn+9]=Gt,this.int16[cn+10]=Ut,this.int16[cn+11]=sn,K},R}(ci);W.prototype.bytesPerElement=24,Er("StructArrayLayout4i4ui4i24",W);var q=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ue,Ae){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,K,ue,Ae)},R.prototype.emplace=function(K,ue,Ae,Pe){var je=3*K;return this.float32[je+0]=ue,this.float32[je+1]=Ae,this.float32[je+2]=Pe,K},R}(ci);q.prototype.bytesPerElement=12,Er("StructArrayLayout3f12",q);var L=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K){var ue=this.length;return this.resize(ue+1),this.emplace(ue,K)},R.prototype.emplace=function(K,ue){var Ae=1*K;return this.uint32[Ae+0]=ue,K},R}(ci);L.prototype.bytesPerElement=4,Er("StructArrayLayout1ul4",L);var H=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ue,Ae,Pe,je,$e,ct,wt,St){var Nt=this.length;return this.resize(Nt+1),this.emplace(Nt,K,ue,Ae,Pe,je,$e,ct,wt,St)},R.prototype.emplace=function(K,ue,Ae,Pe,je,$e,ct,wt,St,Nt){var Gt=10*K,Ut=5*K;return this.int16[Gt+0]=ue,this.int16[Gt+1]=Ae,this.int16[Gt+2]=Pe,this.int16[Gt+3]=je,this.int16[Gt+4]=$e,this.int16[Gt+5]=ct,this.uint32[Ut+3]=wt,this.uint16[Gt+8]=St,this.uint16[Gt+9]=Nt,K},R}(ci);H.prototype.bytesPerElement=20,Er("StructArrayLayout6i1ul2ui20",H);var ee=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ue,Ae,Pe,je,$e){var ct=this.length;return this.resize(ct+1),this.emplace(ct,K,ue,Ae,Pe,je,$e)},R.prototype.emplace=function(K,ue,Ae,Pe,je,$e,ct){var wt=6*K;return this.int16[wt+0]=ue,this.int16[wt+1]=Ae,this.int16[wt+2]=Pe,this.int16[wt+3]=je,this.int16[wt+4]=$e,this.int16[wt+5]=ct,K},R}(ci);ee.prototype.bytesPerElement=12,Er("StructArrayLayout2i2i2i12",ee);var re=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ue,Ae,Pe,je){var $e=this.length;return this.resize($e+1),this.emplace($e,K,ue,Ae,Pe,je)},R.prototype.emplace=function(K,ue,Ae,Pe,je,$e){var ct=4*K,wt=8*K;return this.float32[ct+0]=ue,this.float32[ct+1]=Ae,this.float32[ct+2]=Pe,this.int16[wt+6]=je,this.int16[wt+7]=$e,K},R}(ci);re.prototype.bytesPerElement=16,Er("StructArrayLayout2f1f2i16",re);var fe=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ue,Ae,Pe){var je=this.length;return this.resize(je+1),this.emplace(je,K,ue,Ae,Pe)},R.prototype.emplace=function(K,ue,Ae,Pe,je){var $e=12*K,ct=3*K;return this.uint8[$e+0]=ue,this.uint8[$e+1]=Ae,this.float32[ct+1]=Pe,this.float32[ct+2]=je,K},R}(ci);fe.prototype.bytesPerElement=12,Er("StructArrayLayout2ub2f12",fe);var ye=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ue,Ae){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,K,ue,Ae)},R.prototype.emplace=function(K,ue,Ae,Pe){var je=3*K;return this.uint16[je+0]=ue,this.uint16[je+1]=Ae,this.uint16[je+2]=Pe,K},R}(ci);ye.prototype.bytesPerElement=6,Er("StructArrayLayout3ui6",ye);var Ce=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ue,Ae,Pe,je,$e,ct,wt,St,Nt,Gt,Ut,sn,cn,An,wn,Bn){var Un=this.length;return this.resize(Un+1),this.emplace(Un,K,ue,Ae,Pe,je,$e,ct,wt,St,Nt,Gt,Ut,sn,cn,An,wn,Bn)},R.prototype.emplace=function(K,ue,Ae,Pe,je,$e,ct,wt,St,Nt,Gt,Ut,sn,cn,An,wn,Bn,Un){var Yn=24*K,Jn=12*K,lr=48*K;return this.int16[Yn+0]=ue,this.int16[Yn+1]=Ae,this.uint16[Yn+2]=Pe,this.uint16[Yn+3]=je,this.uint32[Jn+2]=$e,this.uint32[Jn+3]=ct,this.uint32[Jn+4]=wt,this.uint16[Yn+10]=St,this.uint16[Yn+11]=Nt,this.uint16[Yn+12]=Gt,this.float32[Jn+7]=Ut,this.float32[Jn+8]=sn,this.uint8[lr+36]=cn,this.uint8[lr+37]=An,this.uint8[lr+38]=wn,this.uint32[Jn+10]=Bn,this.int16[Yn+22]=Un,K},R}(ci);Ce.prototype.bytesPerElement=48,Er("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ce);var De=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ue,Ae,Pe,je,$e,ct,wt,St,Nt,Gt,Ut,sn,cn,An,wn,Bn,Un,Yn,Jn,lr,br,yr,kr,Mr,jr,Ir,Nr){var Dr=this.length;return this.resize(Dr+1),this.emplace(Dr,K,ue,Ae,Pe,je,$e,ct,wt,St,Nt,Gt,Ut,sn,cn,An,wn,Bn,Un,Yn,Jn,lr,br,yr,kr,Mr,jr,Ir,Nr)},R.prototype.emplace=function(K,ue,Ae,Pe,je,$e,ct,wt,St,Nt,Gt,Ut,sn,cn,An,wn,Bn,Un,Yn,Jn,lr,br,yr,kr,Mr,jr,Ir,Nr,Dr){var Or=34*K,ei=17*K;return this.int16[Or+0]=ue,this.int16[Or+1]=Ae,this.int16[Or+2]=Pe,this.int16[Or+3]=je,this.int16[Or+4]=$e,this.int16[Or+5]=ct,this.int16[Or+6]=wt,this.int16[Or+7]=St,this.uint16[Or+8]=Nt,this.uint16[Or+9]=Gt,this.uint16[Or+10]=Ut,this.uint16[Or+11]=sn,this.uint16[Or+12]=cn,this.uint16[Or+13]=An,this.uint16[Or+14]=wn,this.uint16[Or+15]=Bn,this.uint16[Or+16]=Un,this.uint16[Or+17]=Yn,this.uint16[Or+18]=Jn,this.uint16[Or+19]=lr,this.uint16[Or+20]=br,this.uint16[Or+21]=yr,this.uint16[Or+22]=kr,this.uint32[ei+12]=Mr,this.float32[ei+13]=jr,this.float32[ei+14]=Ir,this.float32[ei+15]=Nr,this.float32[ei+16]=Dr,K},R}(ci);De.prototype.bytesPerElement=68,Er("StructArrayLayout8i15ui1ul4f68",De);var Ue=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K){var ue=this.length;return this.resize(ue+1),this.emplace(ue,K)},R.prototype.emplace=function(K,ue){var Ae=1*K;return this.float32[Ae+0]=ue,K},R}(ci);Ue.prototype.bytesPerElement=4,Er("StructArrayLayout1f4",Ue);var Ge=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ue,Ae){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,K,ue,Ae)},R.prototype.emplace=function(K,ue,Ae,Pe){var je=3*K;return this.int16[je+0]=ue,this.int16[je+1]=Ae,this.int16[je+2]=Pe,K},R}(ci);Ge.prototype.bytesPerElement=6,Er("StructArrayLayout3i6",Ge);var tt=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ue,Ae){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,K,ue,Ae)},R.prototype.emplace=function(K,ue,Ae,Pe){var je=2*K,$e=4*K;return this.uint32[je+0]=ue,this.uint16[$e+2]=Ae,this.uint16[$e+3]=Pe,K},R}(ci);tt.prototype.bytesPerElement=8,Er("StructArrayLayout1ul2ui8",tt);var ft=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ue){var Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,K,ue)},R.prototype.emplace=function(K,ue,Ae){var Pe=2*K;return this.uint16[Pe+0]=ue,this.uint16[Pe+1]=Ae,K},R}(ci);ft.prototype.bytesPerElement=4,Er("StructArrayLayout2ui4",ft);var dt=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K){var ue=this.length;return this.resize(ue+1),this.emplace(ue,K)},R.prototype.emplace=function(K,ue){var Ae=1*K;return this.uint16[Ae+0]=ue,K},R}(ci);dt.prototype.bytesPerElement=2,Er("StructArrayLayout1ui2",dt);var At=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},R.prototype.emplaceBack=function(K,ue,Ae,Pe){var je=this.length;return this.resize(je+1),this.emplace(je,K,ue,Ae,Pe)},R.prototype.emplace=function(K,ue,Ae,Pe,je){var $e=4*K;return this.float32[$e+0]=ue,this.float32[$e+1]=Ae,this.float32[$e+2]=Pe,this.float32[$e+3]=je,K},R}(ci);At.prototype.bytesPerElement=16,Er("StructArrayLayout4f16",At);var Ct=function(M){function R(){M.apply(this,arguments)}M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R;var K={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return K.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},K.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},K.x1.get=function(){return this._structArray.int16[this._pos2+2]},K.y1.get=function(){return this._structArray.int16[this._pos2+3]},K.x2.get=function(){return this._structArray.int16[this._pos2+4]},K.y2.get=function(){return this._structArray.int16[this._pos2+5]},K.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},K.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},K.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},K.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(R.prototype,K),R}(Ua);Ct.prototype.size=20;var Et=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.get=function(K){return new Ct(this,K)},R}(H);Er("CollisionBoxArray",Et);var jt=function(M){function R(){M.apply(this,arguments)}M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R;var K={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return K.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},K.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},K.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},K.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},K.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},K.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},K.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},K.segment.get=function(){return this._structArray.uint16[this._pos2+10]},K.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},K.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},K.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},K.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},K.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},K.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},K.placedOrientation.set=function(ue){this._structArray.uint8[this._pos1+37]=ue},K.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},K.hidden.set=function(ue){this._structArray.uint8[this._pos1+38]=ue},K.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},K.crossTileID.set=function(ue){this._structArray.uint32[this._pos4+10]=ue},K.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(R.prototype,K),R}(Ua);jt.prototype.size=48;var Dt=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.get=function(K){return new jt(this,K)},R}(Ce);Er("PlacedSymbolArray",Dt);var $t=function(M){function R(){M.apply(this,arguments)}M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R;var K={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return K.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},K.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},K.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},K.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},K.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},K.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},K.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},K.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},K.key.get=function(){return this._structArray.uint16[this._pos2+8]},K.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},K.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},K.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},K.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},K.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},K.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},K.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},K.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},K.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},K.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},K.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},K.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},K.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},K.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},K.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},K.crossTileID.set=function(ue){this._structArray.uint32[this._pos4+12]=ue},K.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},K.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},K.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},K.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(R.prototype,K),R}(Ua);$t.prototype.size=68;var Yt=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.get=function(K){return new $t(this,K)},R}(De);Er("SymbolInstanceArray",Yt);var Vt=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.getoffsetX=function(K){return this.float32[1*K+0]},R}(Ue);Er("GlyphOffsetArray",Vt);var gn=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.getx=function(K){return this.int16[3*K+0]},R.prototype.gety=function(K){return this.int16[3*K+1]},R.prototype.gettileUnitDistanceFromAnchor=function(K){return this.int16[3*K+2]},R}(Ge);Er("SymbolLineVertexArray",gn);var xn=function(M){function R(){M.apply(this,arguments)}M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R;var K={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return K.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},K.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},K.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(R.prototype,K),R}(Ua);xn.prototype.size=8;var Pn=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.get=function(K){return new xn(this,K)},R}(tt);Er("FeatureIndexArray",Pn);var Rn=wi([{name:"a_pos",components:2,type:"Int16"}],4).members,Wn=function(M){M===void 0&&(M=[]),this.segments=M};function ir(M,R){return 256*(M=u(Math.floor(M),0,255))+u(Math.floor(R),0,255)}Wn.prototype.prepareSegment=function(M,R,K,ue){var Ae=this.segments[this.segments.length-1];return M>Wn.MAX_VERTEX_ARRAY_LENGTH&&E("Max vertices per segment is "+Wn.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+M),(!Ae||Ae.vertexLength+M>Wn.MAX_VERTEX_ARRAY_LENGTH||Ae.sortKey!==ue)&&(Ae={vertexOffset:R.length,primitiveOffset:K.length,vertexLength:0,primitiveLength:0},ue!==void 0&&(Ae.sortKey=ue),this.segments.push(Ae)),Ae},Wn.prototype.get=function(){return this.segments},Wn.prototype.destroy=function(){for(var M=0,R=this.segments;M<R.length;M+=1){var K=R[M];for(var ue in K.vaos)K.vaos[ue].destroy()}},Wn.simpleSegment=function(M,R,K,ue){return new Wn([{vertexOffset:M,primitiveOffset:R,vertexLength:K,primitiveLength:ue,vaos:{},sortKey:0}])},Wn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Er("SegmentVector",Wn);var gr=wi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),Xn=w(function(M){M.exports=function(R,K){var ue,Ae,Pe,je,$e,ct,wt,St;for(ue=3&R.length,Ae=R.length-ue,Pe=K,$e=3432918353,ct=461845907,St=0;St<Ae;)wt=255&R.charCodeAt(St)|(255&R.charCodeAt(++St))<<8|(255&R.charCodeAt(++St))<<16|(255&R.charCodeAt(++St))<<24,++St,Pe=27492+(65535&(je=5*(65535&(Pe=(Pe^=wt=(65535&(wt=(wt=(65535&wt)*$e+(((wt>>>16)*$e&65535)<<16)&4294967295)<<15|wt>>>17))*ct+(((wt>>>16)*ct&65535)<<16)&4294967295)<<13|Pe>>>19))+((5*(Pe>>>16)&65535)<<16)&4294967295))+((58964+(je>>>16)&65535)<<16);switch(wt=0,ue){case 3:wt^=(255&R.charCodeAt(St+2))<<16;case 2:wt^=(255&R.charCodeAt(St+1))<<8;case 1:Pe^=wt=(65535&(wt=(wt=(65535&(wt^=255&R.charCodeAt(St)))*$e+(((wt>>>16)*$e&65535)<<16)&4294967295)<<15|wt>>>17))*ct+(((wt>>>16)*ct&65535)<<16)&4294967295}return Pe^=R.length,Pe=2246822507*(65535&(Pe^=Pe>>>16))+((2246822507*(Pe>>>16)&65535)<<16)&4294967295,Pe=3266489909*(65535&(Pe^=Pe>>>13))+((3266489909*(Pe>>>16)&65535)<<16)&4294967295,(Pe^=Pe>>>16)>>>0}}),pr=w(function(M){M.exports=function(R,K){for(var ue,Ae=R.length,Pe=K^Ae,je=0;Ae>=4;)ue=1540483477*(65535&(ue=255&R.charCodeAt(je)|(255&R.charCodeAt(++je))<<8|(255&R.charCodeAt(++je))<<16|(255&R.charCodeAt(++je))<<24))+((1540483477*(ue>>>16)&65535)<<16),Pe=1540483477*(65535&Pe)+((1540483477*(Pe>>>16)&65535)<<16)^(ue=1540483477*(65535&(ue^=ue>>>24))+((1540483477*(ue>>>16)&65535)<<16)),Ae-=4,++je;switch(Ae){case 3:Pe^=(255&R.charCodeAt(je+2))<<16;case 2:Pe^=(255&R.charCodeAt(je+1))<<8;case 1:Pe=1540483477*(65535&(Pe^=255&R.charCodeAt(je)))+((1540483477*(Pe>>>16)&65535)<<16)}return Pe=1540483477*(65535&(Pe^=Pe>>>13))+((1540483477*(Pe>>>16)&65535)<<16),(Pe^=Pe>>>15)>>>0}}),wr=Xn,Pr=Xn,nr=pr;wr.murmur3=Pr,wr.murmur2=nr;var hr=function(){this.ids=[],this.positions=[],this.indexed=!1};hr.prototype.add=function(M,R,K,ue){this.ids.push(vr(M)),this.positions.push(R,K,ue)},hr.prototype.getPositions=function(M){for(var R=vr(M),K=0,ue=this.ids.length-1;K<ue;){var Ae=K+ue>>1;this.ids[Ae]>=R?ue=Ae:K=Ae+1}for(var Pe=[];this.ids[K]===R;){var je=this.positions[3*K],$e=this.positions[3*K+1],ct=this.positions[3*K+2];Pe.push({index:je,start:$e,end:ct}),K++}return Pe},hr.serialize=function(M,R){var K=new Float64Array(M.ids),ue=new Uint32Array(M.positions);return Lr(K,ue,0,K.length-1),R&&R.push(K.buffer,ue.buffer),{ids:K,positions:ue}},hr.deserialize=function(M){var R=new hr;return R.ids=M.ids,R.positions=M.positions,R.indexed=!0,R};var Ar=Math.pow(2,53)-1;function vr(M){var R=+M;return!isNaN(R)&&R<=Ar?R:wr(String(M))}function Lr(M,R,K,ue){for(;K<ue;){for(var Ae=M[K+ue>>1],Pe=K-1,je=ue+1;;){do Pe++;while(M[Pe]<Ae);do je--;while(M[je]>Ae);if(Pe>=je)break;Rr(M,Pe,je),Rr(R,3*Pe,3*je),Rr(R,3*Pe+1,3*je+1),Rr(R,3*Pe+2,3*je+2)}je-K<ue-je?(Lr(M,R,K,je),K=je+1):(Lr(M,R,je+1,ue),ue=je)}}function Rr(M,R,K){var ue=M[R];M[R]=M[K],M[K]=ue}Er("FeaturePositionMap",hr);var Ur=function(M,R){this.gl=M.gl,this.location=R},Vr=function(M){function R(K,ue){M.call(this,K,ue),this.current=0}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.set=function(K){this.current!==K&&(this.current=K,this.gl.uniform1i(this.location,K))},R}(Ur),Gr=function(M){function R(K,ue){M.call(this,K,ue),this.current=0}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.set=function(K){this.current!==K&&(this.current=K,this.gl.uniform1f(this.location,K))},R}(Ur),Xr=function(M){function R(K,ue){M.call(this,K,ue),this.current=[0,0]}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.set=function(K){K[0]===this.current[0]&&K[1]===this.current[1]||(this.current=K,this.gl.uniform2f(this.location,K[0],K[1]))},R}(Ur),mi=function(M){function R(K,ue){M.call(this,K,ue),this.current=[0,0,0]}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.set=function(K){K[0]===this.current[0]&&K[1]===this.current[1]&&K[2]===this.current[2]||(this.current=K,this.gl.uniform3f(this.location,K[0],K[1],K[2]))},R}(Ur),Di=function(M){function R(K,ue){M.call(this,K,ue),this.current=[0,0,0,0]}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.set=function(K){K[0]===this.current[0]&&K[1]===this.current[1]&&K[2]===this.current[2]&&K[3]===this.current[3]||(this.current=K,this.gl.uniform4f(this.location,K[0],K[1],K[2],K[3]))},R}(Ur),ya=function(M){function R(K,ue){M.call(this,K,ue),this.current=zn.transparent}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.set=function(K){K.r===this.current.r&&K.g===this.current.g&&K.b===this.current.b&&K.a===this.current.a||(this.current=K,this.gl.uniform4f(this.location,K.r,K.g,K.b,K.a))},R}(Ur),ea=new Float32Array(16),fa=function(M){function R(K,ue){M.call(this,K,ue),this.current=ea}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.set=function(K){if(K[12]!==this.current[12]||K[0]!==this.current[0])return this.current=K,void this.gl.uniformMatrix4fv(this.location,!1,K);for(var ue=1;ue<16;ue++)if(K[ue]!==this.current[ue]){this.current=K,this.gl.uniformMatrix4fv(this.location,!1,K);break}},R}(Ur);function Ti(M){return[ir(255*M.r,255*M.g),ir(255*M.b,255*M.a)]}var $r=function(M,R,K){this.value=M,this.uniformNames=R.map(function(ue){return"u_"+ue}),this.type=K};$r.prototype.setUniform=function(M,R,K){M.set(K.constantOr(this.value))},$r.prototype.getBinding=function(M,R,K){return this.type==="color"?new ya(M,R):new Gr(M,R)};var Li=function(M,R){this.uniformNames=R.map(function(K){return"u_"+K}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Li.prototype.setConstantPatternPositions=function(M,R){this.pixelRatioFrom=R.pixelRatio,this.pixelRatioTo=M.pixelRatio,this.patternFrom=R.tlbr,this.patternTo=M.tlbr},Li.prototype.setUniform=function(M,R,K,ue){var Ae=ue==="u_pattern_to"?this.patternTo:ue==="u_pattern_from"?this.patternFrom:ue==="u_pixel_ratio_to"?this.pixelRatioTo:ue==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Ae&&M.set(Ae)},Li.prototype.getBinding=function(M,R,K){return K.substr(0,9)==="u_pattern"?new Di(M,R):new Gr(M,R)};var fi=function(M,R,K,ue){this.expression=M,this.type=K,this.maxValue=0,this.paintVertexAttributes=R.map(function(Ae){return{name:"a_"+Ae,type:"Float32",components:K==="color"?2:1,offset:0}}),this.paintVertexArray=new ue};fi.prototype.populatePaintArray=function(M,R,K,ue,Ae){var Pe=this.paintVertexArray.length,je=this.expression.evaluate(new Zr(0),R,{},ue,[],Ae);this.paintVertexArray.resize(M),this._setPaintValue(Pe,M,je)},fi.prototype.updatePaintArray=function(M,R,K,ue){var Ae=this.expression.evaluate({zoom:0},K,ue);this._setPaintValue(M,R,Ae)},fi.prototype._setPaintValue=function(M,R,K){if(this.type==="color")for(var ue=Ti(K),Ae=M;Ae<R;Ae++)this.paintVertexArray.emplace(Ae,ue[0],ue[1]);else{for(var Pe=M;Pe<R;Pe++)this.paintVertexArray.emplace(Pe,K);this.maxValue=Math.max(this.maxValue,Math.abs(K))}},fi.prototype.upload=function(M){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=M.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},fi.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var ti=function(M,R,K,ue,Ae,Pe){this.expression=M,this.uniformNames=R.map(function(je){return"u_"+je+"_t"}),this.type=K,this.useIntegerZoom=ue,this.zoom=Ae,this.maxValue=0,this.paintVertexAttributes=R.map(function(je){return{name:"a_"+je,type:"Float32",components:K==="color"?4:2,offset:0}}),this.paintVertexArray=new Pe};ti.prototype.populatePaintArray=function(M,R,K,ue,Ae){var Pe=this.expression.evaluate(new Zr(this.zoom),R,{},ue,[],Ae),je=this.expression.evaluate(new Zr(this.zoom+1),R,{},ue,[],Ae),$e=this.paintVertexArray.length;this.paintVertexArray.resize(M),this._setPaintValue($e,M,Pe,je)},ti.prototype.updatePaintArray=function(M,R,K,ue){var Ae=this.expression.evaluate({zoom:this.zoom},K,ue),Pe=this.expression.evaluate({zoom:this.zoom+1},K,ue);this._setPaintValue(M,R,Ae,Pe)},ti.prototype._setPaintValue=function(M,R,K,ue){if(this.type==="color")for(var Ae=Ti(K),Pe=Ti(ue),je=M;je<R;je++)this.paintVertexArray.emplace(je,Ae[0],Ae[1],Pe[0],Pe[1]);else{for(var $e=M;$e<R;$e++)this.paintVertexArray.emplace($e,K,ue);this.maxValue=Math.max(this.maxValue,Math.abs(K),Math.abs(ue))}},ti.prototype.upload=function(M){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=M.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ti.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ti.prototype.setUniform=function(M,R){var K=this.useIntegerZoom?Math.floor(R.zoom):R.zoom,ue=u(this.expression.interpolationFactor(K,this.zoom,this.zoom+1),0,1);M.set(ue)},ti.prototype.getBinding=function(M,R,K){return new Gr(M,R)};var Ci=function(M,R,K,ue,Ae,Pe){this.expression=M,this.type=R,this.useIntegerZoom=K,this.zoom=ue,this.layerId=Pe,this.zoomInPaintVertexArray=new Ae,this.zoomOutPaintVertexArray=new Ae};Ci.prototype.populatePaintArray=function(M,R,K){var ue=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(M),this.zoomOutPaintVertexArray.resize(M),this._setPaintValues(ue,M,R.patterns&&R.patterns[this.layerId],K)},Ci.prototype.updatePaintArray=function(M,R,K,ue,Ae){this._setPaintValues(M,R,K.patterns&&K.patterns[this.layerId],Ae)},Ci.prototype._setPaintValues=function(M,R,K,ue){if(ue&&K){var Ae=K.min,Pe=K.mid,je=K.max,$e=ue[Ae],ct=ue[Pe],wt=ue[je];if($e&&ct&&wt)for(var St=M;St<R;St++)this.zoomInPaintVertexArray.emplace(St,ct.tl[0],ct.tl[1],ct.br[0],ct.br[1],$e.tl[0],$e.tl[1],$e.br[0],$e.br[1],ct.pixelRatio,$e.pixelRatio),this.zoomOutPaintVertexArray.emplace(St,ct.tl[0],ct.tl[1],ct.br[0],ct.br[1],wt.tl[0],wt.tl[1],wt.br[0],wt.br[1],ct.pixelRatio,wt.pixelRatio)}},Ci.prototype.upload=function(M){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=M.createVertexBuffer(this.zoomInPaintVertexArray,gr.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=M.createVertexBuffer(this.zoomOutPaintVertexArray,gr.members,this.expression.isStateDependent))},Ci.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var zi=function(M,R,K){this.binders={},this._buffers=[];var ue=[];for(var Ae in M.paint._values)if(K(Ae)){var Pe=M.paint.get(Ae);if(Pe instanceof vi&&Co(Pe.property.specification)){var je=Ns(Ae,M.type),$e=Pe.value,ct=Pe.property.specification.type,wt=Pe.property.useIntegerZoom,St=Pe.property.specification["property-type"],Nt=St==="cross-faded"||St==="cross-faded-data-driven";if($e.kind==="constant")this.binders[Ae]=Nt?new Li($e.value,je):new $r($e.value,je,ct),ue.push("/u_"+Ae);else if($e.kind==="source"||Nt){var Gt=js(Ae,ct,"source");this.binders[Ae]=Nt?new Ci($e,ct,wt,R,Gt,M.id):new fi($e,je,ct,Gt),ue.push("/a_"+Ae)}else{var Ut=js(Ae,ct,"composite");this.binders[Ae]=new ti($e,je,ct,wt,R,Ut),ue.push("/z_"+Ae)}}}this.cacheKey=ue.sort().join("")};zi.prototype.getMaxValue=function(M){var R=this.binders[M];return R instanceof fi||R instanceof ti?R.maxValue:0},zi.prototype.populatePaintArrays=function(M,R,K,ue,Ae){for(var Pe in this.binders){var je=this.binders[Pe];(je instanceof fi||je instanceof ti||je instanceof Ci)&&je.populatePaintArray(M,R,K,ue,Ae)}},zi.prototype.setConstantPatternPositions=function(M,R){for(var K in this.binders){var ue=this.binders[K];ue instanceof Li&&ue.setConstantPatternPositions(M,R)}},zi.prototype.updatePaintArrays=function(M,R,K,ue,Ae){var Pe=!1;for(var je in M)for(var $e=0,ct=R.getPositions(je);$e<ct.length;$e+=1){var wt=ct[$e],St=K.feature(wt.index);for(var Nt in this.binders){var Gt=this.binders[Nt];if((Gt instanceof fi||Gt instanceof ti||Gt instanceof Ci)&&Gt.expression.isStateDependent===!0){var Ut=ue.paint.get(Nt);Gt.expression=Ut.value,Gt.updatePaintArray(wt.start,wt.end,St,M[je],Ae),Pe=!0}}}return Pe},zi.prototype.defines=function(){var M=[];for(var R in this.binders){var K=this.binders[R];(K instanceof $r||K instanceof Li)&&M.push.apply(M,K.uniformNames.map(function(ue){return"#define HAS_UNIFORM_"+ue}))}return M},zi.prototype.getBinderAttributes=function(){var M=[];for(var R in this.binders){var K=this.binders[R];if(K instanceof fi||K instanceof ti)for(var ue=0;ue<K.paintVertexAttributes.length;ue++)M.push(K.paintVertexAttributes[ue].name);else if(K instanceof Ci)for(var Ae=0;Ae<gr.members.length;Ae++)M.push(gr.members[Ae].name)}return M},zi.prototype.getBinderUniforms=function(){var M=[];for(var R in this.binders){var K=this.binders[R];if(K instanceof $r||K instanceof Li||K instanceof ti)for(var ue=0,Ae=K.uniformNames;ue<Ae.length;ue+=1){var Pe=Ae[ue];M.push(Pe)}}return M},zi.prototype.getPaintVertexBuffers=function(){return this._buffers},zi.prototype.getUniforms=function(M,R){var K=[];for(var ue in this.binders){var Ae=this.binders[ue];if(Ae instanceof $r||Ae instanceof Li||Ae instanceof ti)for(var Pe=0,je=Ae.uniformNames;Pe<je.length;Pe+=1){var $e=je[Pe];if(R[$e]){var ct=Ae.getBinding(M,R[$e],$e);K.push({name:$e,property:ue,binding:ct})}}}return K},zi.prototype.setUniforms=function(M,R,K,ue){for(var Ae=0,Pe=R;Ae<Pe.length;Ae+=1){var je=Pe[Ae],$e=je.name,ct=je.property,wt=je.binding;this.binders[ct].setUniform(wt,ue,K.get(ct),$e)}},zi.prototype.updatePaintBuffers=function(M){for(var R in this._buffers=[],this.binders){var K=this.binders[R];if(M&&K instanceof Ci){var ue=M.fromScale===2?K.zoomInPaintVertexBuffer:K.zoomOutPaintVertexBuffer;ue&&this._buffers.push(ue)}else(K instanceof fi||K instanceof ti)&&K.paintVertexBuffer&&this._buffers.push(K.paintVertexBuffer)}},zi.prototype.upload=function(M){for(var R in this.binders){var K=this.binders[R];(K instanceof fi||K instanceof ti||K instanceof Ci)&&K.upload(M)}this.updatePaintBuffers()},zi.prototype.destroy=function(){for(var M in this.binders){var R=this.binders[M];(R instanceof fi||R instanceof ti||R instanceof Ci)&&R.destroy()}};var Zi=function(M,R,K){K===void 0&&(K=function(){return!0}),this.programConfigurations={};for(var ue=0,Ae=M;ue<Ae.length;ue+=1){var Pe=Ae[ue];this.programConfigurations[Pe.id]=new zi(Pe,R,K)}this.needsUpload=!1,this._featureMap=new hr,this._bufferOffset=0};function Ns(M,R){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[M]||[M.replace(R+"-","").replace(/-/g,"_")]}function js(M,R,K){var ue={color:{source:ut,composite:At},number:{source:Ue,composite:ut}},Ae=function(Pe){return{"line-pattern":{source:N,composite:N},"fill-pattern":{source:N,composite:N},"fill-extrusion-pattern":{source:N,composite:N}}[Pe]}(M);return Ae&&Ae[K]||ue[R][K]}Zi.prototype.populatePaintArrays=function(M,R,K,ue,Ae,Pe){for(var je in this.programConfigurations)this.programConfigurations[je].populatePaintArrays(M,R,ue,Ae,Pe);R.id!==void 0&&this._featureMap.add(R.id,K,this._bufferOffset,M),this._bufferOffset=M,this.needsUpload=!0},Zi.prototype.updatePaintArrays=function(M,R,K,ue){for(var Ae=0,Pe=K;Ae<Pe.length;Ae+=1){var je=Pe[Ae];this.needsUpload=this.programConfigurations[je.id].updatePaintArrays(M,this._featureMap,R,je,ue)||this.needsUpload}},Zi.prototype.get=function(M){return this.programConfigurations[M]},Zi.prototype.upload=function(M){if(this.needsUpload){for(var R in this.programConfigurations)this.programConfigurations[R].upload(M);this.needsUpload=!1}},Zi.prototype.destroy=function(){for(var M in this.programConfigurations)this.programConfigurations[M].destroy()},Er("ConstantBinder",$r),Er("CrossFadedConstantBinder",Li),Er("SourceExpressionBinder",fi),Er("CrossFadedCompositeBinder",Ci),Er("CompositeExpressionBinder",ti),Er("ProgramConfiguration",zi,{omit:["_buffers"]}),Er("ProgramConfigurationSet",Zi);var ni=8192,Sl=Math.pow(2,14)-1,rl=-Sl-1;function Fo(M){for(var R=ni/M.extent,K=M.loadGeometry(),ue=0;ue<K.length;ue++)for(var Ae=K[ue],Pe=0;Pe<Ae.length;Pe++){var je=Ae[Pe],$e=Math.round(je.x*R),ct=Math.round(je.y*R);je.x=u($e,rl,Sl),je.y=u(ct,rl,Sl),($e<je.x||$e>je.x+1||ct<je.y||ct>je.y+1)&&E("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return K}function Pi(M,R){return{type:M.type,id:M.id,properties:M.properties,geometry:R?Fo(M):[]}}function Va(M,R,K,ue,Ae){M.emplaceBack(2*R+(ue+1)/2,2*K+(Ae+1)/2)}var sa=function(M){this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(R){return R.id}),this.index=M.index,this.hasPattern=!1,this.layoutVertexArray=new rs,this.indexArray=new ye,this.segments=new Wn,this.programConfigurations=new Zi(M.layers,M.zoom),this.stateDependentLayerIds=this.layers.filter(function(R){return R.isStateDependent()}).map(function(R){return R.id})};function Mu(M,R){for(var K=0;K<M.length;K++)if(El(R,M[K]))return!0;for(var ue=0;ue<R.length;ue++)if(El(M,R[ue]))return!0;return!!au(M,R)}function Gh(M,R,K){return!!El(M,R)||!!ou(R,M,K)}function Af(M,R){if(M.length===1)return Sf(R,M[0]);for(var K=0;K<R.length;K++)for(var ue=R[K],Ae=0;Ae<ue.length;Ae++)if(El(M,ue[Ae]))return!0;for(var Pe=0;Pe<M.length;Pe++)if(Sf(R,M[Pe]))return!0;for(var je=0;je<R.length;je++)if(au(M,R[je]))return!0;return!1}function Wh(M,R,K){if(M.length>1){if(au(M,R))return!0;for(var ue=0;ue<R.length;ue++)if(ou(R[ue],M,K))return!0}for(var Ae=0;Ae<M.length;Ae++)if(ou(M[Ae],R,K))return!0;return!1}function au(M,R){if(M.length===0||R.length===0)return!1;for(var K=0;K<M.length-1;K++)for(var ue=M[K],Ae=M[K+1],Pe=0;Pe<R.length-1;Pe++)if(Yh(ue,Ae,R[Pe],R[Pe+1]))return!0;return!1}function Yh(M,R,K,ue){return C(M,K,ue)!==C(R,K,ue)&&C(M,R,K)!==C(M,R,ue)}function ou(M,R,K){var ue=K*K;if(R.length===1)return M.distSqr(R[0])<ue;for(var Ae=1;Ae<R.length;Ae++)if(Mf(M,R[Ae-1],R[Ae])<ue)return!0;return!1}function Mf(M,R,K){var ue=R.distSqr(K);if(ue===0)return M.distSqr(R);var Ae=((M.x-R.x)*(K.x-R.x)+(M.y-R.y)*(K.y-R.y))/ue;return Ae<0?M.distSqr(R):Ae>1?M.distSqr(K):M.distSqr(K.sub(R)._mult(Ae)._add(R))}function Sf(M,R){for(var K,ue,Ae,Pe=!1,je=0;je<M.length;je++)for(var $e=0,ct=(K=M[je]).length-1;$e<K.length;ct=$e++)ue=K[$e],Ae=K[ct],ue.y>R.y!=Ae.y>R.y&&R.x<(Ae.x-ue.x)*(R.y-ue.y)/(Ae.y-ue.y)+ue.x&&(Pe=!Pe);return Pe}function El(M,R){for(var K=!1,ue=0,Ae=M.length-1;ue<M.length;Ae=ue++){var Pe=M[ue],je=M[Ae];Pe.y>R.y!=je.y>R.y&&R.x<(je.x-Pe.x)*(R.y-Pe.y)/(je.y-Pe.y)+Pe.x&&(K=!K)}return K}function Ev(M,R,K){var ue=K[0],Ae=K[2];if(M.x<ue.x&&R.x<ue.x||M.x>Ae.x&&R.x>Ae.x||M.y<ue.y&&R.y<ue.y||M.y>Ae.y&&R.y>Ae.y)return!1;var Pe=C(M,R,K[0]);return Pe!==C(M,R,K[1])||Pe!==C(M,R,K[2])||Pe!==C(M,R,K[3])}function Dc(M,R,K){var ue=R.paint.get(M).value;return ue.kind==="constant"?ue.value:K.programConfigurations.get(R.id).getMaxValue(M)}function Ef(M){return Math.sqrt(M[0]*M[0]+M[1]*M[1])}function Lf(M,R,K,ue,Ae){if(!R[0]&&!R[1])return M;var Pe=t.convert(R)._mult(Ae);K==="viewport"&&Pe._rotate(-ue);for(var je=[],$e=0;$e<M.length;$e++){var ct=M[$e];je.push(ct.sub(Pe))}return je}sa.prototype.populate=function(M,R,K){var ue=this.layers[0],Ae=[],Pe=null;ue.type==="circle"&&(Pe=ue.layout.get("circle-sort-key"));for(var je=0,$e=M;je<$e.length;je+=1){var ct=$e[je],wt=ct.feature,St=ct.id,Nt=ct.index,Gt=ct.sourceLayerIndex,Ut=this.layers[0]._featureFilter.needGeometry,sn=Pi(wt,Ut);if(this.layers[0]._featureFilter.filter(new Zr(this.zoom),sn,K)){var cn=Pe?Pe.evaluate(sn,{},K):void 0,An={id:St,properties:wt.properties,type:wt.type,sourceLayerIndex:Gt,index:Nt,geometry:Ut?sn.geometry:Fo(wt),patterns:{},sortKey:cn};Ae.push(An)}}Pe&&Ae.sort(function(kr,Mr){return kr.sortKey-Mr.sortKey});for(var wn=0,Bn=Ae;wn<Bn.length;wn+=1){var Un=Bn[wn],Yn=Un,Jn=Yn.geometry,lr=Yn.index,br=Yn.sourceLayerIndex,yr=M[lr].feature;this.addFeature(Un,Jn,lr,K),R.featureIndex.insert(yr,Jn,lr,br,this.index)}},sa.prototype.update=function(M,R,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(M,R,this.stateDependentLayers,K)},sa.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},sa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},sa.prototype.upload=function(M){this.uploaded||(this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,Rn),this.indexBuffer=M.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(M),this.uploaded=!0},sa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},sa.prototype.addFeature=function(M,R,K,ue){for(var Ae=0,Pe=R;Ae<Pe.length;Ae+=1)for(var je=0,$e=Pe[Ae];je<$e.length;je+=1){var ct=$e[je],wt=ct.x,St=ct.y;if(!(wt<0||wt>=ni||St<0||St>=ni)){var Nt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,M.sortKey),Gt=Nt.vertexLength;Va(this.layoutVertexArray,wt,St,-1,-1),Va(this.layoutVertexArray,wt,St,1,-1),Va(this.layoutVertexArray,wt,St,1,1),Va(this.layoutVertexArray,wt,St,-1,1),this.indexArray.emplaceBack(Gt,Gt+1,Gt+2),this.indexArray.emplaceBack(Gt,Gt+3,Gt+2),Nt.vertexLength+=4,Nt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,M,K,{},ue)},Er("CircleBucket",sa,{omit:["layers"]});var Lv=new Ni({"circle-sort-key":new zr(Xe.layout_circle["circle-sort-key"])}),Cv={paint:new Ni({"circle-radius":new zr(Xe.paint_circle["circle-radius"]),"circle-color":new zr(Xe.paint_circle["circle-color"]),"circle-blur":new zr(Xe.paint_circle["circle-blur"]),"circle-opacity":new zr(Xe.paint_circle["circle-opacity"]),"circle-translate":new Cr(Xe.paint_circle["circle-translate"]),"circle-translate-anchor":new Cr(Xe.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Cr(Xe.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Cr(Xe.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new zr(Xe.paint_circle["circle-stroke-width"]),"circle-stroke-color":new zr(Xe.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new zr(Xe.paint_circle["circle-stroke-opacity"])}),layout:Lv},is=typeof Float32Array<"u"?Float32Array:Array;function Zh(M){return M[0]=1,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=1,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[10]=1,M[11]=0,M[12]=0,M[13]=0,M[14]=0,M[15]=1,M}function Nd(M,R,K){var ue=R[0],Ae=R[1],Pe=R[2],je=R[3],$e=R[4],ct=R[5],wt=R[6],St=R[7],Nt=R[8],Gt=R[9],Ut=R[10],sn=R[11],cn=R[12],An=R[13],wn=R[14],Bn=R[15],Un=K[0],Yn=K[1],Jn=K[2],lr=K[3];return M[0]=Un*ue+Yn*$e+Jn*Nt+lr*cn,M[1]=Un*Ae+Yn*ct+Jn*Gt+lr*An,M[2]=Un*Pe+Yn*wt+Jn*Ut+lr*wn,M[3]=Un*je+Yn*St+Jn*sn+lr*Bn,Un=K[4],Yn=K[5],Jn=K[6],lr=K[7],M[4]=Un*ue+Yn*$e+Jn*Nt+lr*cn,M[5]=Un*Ae+Yn*ct+Jn*Gt+lr*An,M[6]=Un*Pe+Yn*wt+Jn*Ut+lr*wn,M[7]=Un*je+Yn*St+Jn*sn+lr*Bn,Un=K[8],Yn=K[9],Jn=K[10],lr=K[11],M[8]=Un*ue+Yn*$e+Jn*Nt+lr*cn,M[9]=Un*Ae+Yn*ct+Jn*Gt+lr*An,M[10]=Un*Pe+Yn*wt+Jn*Ut+lr*wn,M[11]=Un*je+Yn*St+Jn*sn+lr*Bn,Un=K[12],Yn=K[13],Jn=K[14],lr=K[15],M[12]=Un*ue+Yn*$e+Jn*Nt+lr*cn,M[13]=Un*Ae+Yn*ct+Jn*Gt+lr*An,M[14]=Un*Pe+Yn*wt+Jn*Ut+lr*wn,M[15]=Un*je+Yn*St+Jn*sn+lr*Bn,M}Math.hypot||(Math.hypot=function(){for(var M=arguments,R=0,K=arguments.length;K--;)R+=M[K]*M[K];return Math.sqrt(R)});var Pv=Nd,Cf,Ov=function(M,R,K){return M[0]=R[0]-K[0],M[1]=R[1]-K[1],M[2]=R[2]-K[2],M};function Pf(M,R,K){var ue=R[0],Ae=R[1],Pe=R[2],je=R[3];return M[0]=K[0]*ue+K[4]*Ae+K[8]*Pe+K[12]*je,M[1]=K[1]*ue+K[5]*Ae+K[9]*Pe+K[13]*je,M[2]=K[2]*ue+K[6]*Ae+K[10]*Pe+K[14]*je,M[3]=K[3]*ue+K[7]*Ae+K[11]*Pe+K[15]*je,M}Cf=new is(3),is!=Float32Array&&(Cf[0]=0,Cf[1]=0,Cf[2]=0),function(){var M=new is(4);is!=Float32Array&&(M[0]=0,M[1]=0,M[2]=0,M[3]=0)}();var Iv=function(M){var R=M[0],K=M[1];return R*R+K*K},Rv=(function(){var M=new is(2);is!=Float32Array&&(M[0]=0,M[1]=0)}(),function(M){function R(K){M.call(this,K,Cv)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(K){return new sa(K)},R.prototype.queryRadius=function(K){var ue=K;return Dc("circle-radius",this,ue)+Dc("circle-stroke-width",this,ue)+Ef(this.paint.get("circle-translate"))},R.prototype.queryIntersectsFeature=function(K,ue,Ae,Pe,je,$e,ct,wt){for(var St=Lf(K,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),$e.angle,ct),Nt=this.paint.get("circle-radius").evaluate(ue,Ae)+this.paint.get("circle-stroke-width").evaluate(ue,Ae),Gt=this.paint.get("circle-pitch-alignment")==="map",Ut=Gt?St:function(br,yr){return br.map(function(kr){return jd(kr,yr)})}(St,wt),sn=Gt?Nt*ct:Nt,cn=0,An=Pe;cn<An.length;cn+=1)for(var wn=0,Bn=An[cn];wn<Bn.length;wn+=1){var Un=Bn[wn],Yn=Gt?Un:jd(Un,wt),Jn=sn,lr=Pf([],[Un.x,Un.y,0,1],wt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Jn*=lr[3]/$e.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Jn*=$e.cameraToCenterDistance/lr[3]),Gh(Ut,Yn,Jn))return!0}return!1},R}(si));function jd(M,R){var K=Pf([],[M.x,M.y,0,1],R);return new t(K[0]/K[3],K[1]/K[3])}var Ud=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R}(sa);function Xh(M,R,K,ue){var Ae=R.width,Pe=R.height;if(ue){if(ue instanceof Uint8ClampedArray)ue=new Uint8Array(ue.buffer);else if(ue.length!==Ae*Pe*K)throw new RangeError("mismatched image size")}else ue=new Uint8Array(Ae*Pe*K);return M.width=Ae,M.height=Pe,M.data=ue,M}function Vd(M,R,K){var ue=R.width,Ae=R.height;if(ue!==M.width||Ae!==M.height){var Pe=Xh({},{width:ue,height:Ae},K);Kh(M,Pe,{x:0,y:0},{x:0,y:0},{width:Math.min(M.width,ue),height:Math.min(M.height,Ae)},K),M.width=ue,M.height=Ae,M.data=Pe.data}}function Kh(M,R,K,ue,Ae,Pe){if(Ae.width===0||Ae.height===0)return R;if(Ae.width>M.width||Ae.height>M.height||K.x>M.width-Ae.width||K.y>M.height-Ae.height)throw new RangeError("out of range source coordinates for image copy");if(Ae.width>R.width||Ae.height>R.height||ue.x>R.width-Ae.width||ue.y>R.height-Ae.height)throw new RangeError("out of range destination coordinates for image copy");for(var je=M.data,$e=R.data,ct=0;ct<Ae.height;ct++)for(var wt=((K.y+ct)*M.width+K.x)*Pe,St=((ue.y+ct)*R.width+ue.x)*Pe,Nt=0;Nt<Ae.width*Pe;Nt++)$e[St+Nt]=je[wt+Nt];return R}Er("HeatmapBucket",Ud,{omit:["layers"]});var Su=function(M,R){Xh(this,M,1,R)};Su.prototype.resize=function(M){Vd(this,M,1)},Su.prototype.clone=function(){return new Su({width:this.width,height:this.height},new Uint8Array(this.data))},Su.copy=function(M,R,K,ue,Ae){Kh(M,R,K,ue,Ae,1)};var ko=function(M,R){Xh(this,M,4,R)};ko.prototype.resize=function(M){Vd(this,M,4)},ko.prototype.replace=function(M,R){R?this.data.set(M):M instanceof Uint8ClampedArray?this.data=new Uint8Array(M.buffer):this.data=M},ko.prototype.clone=function(){return new ko({width:this.width,height:this.height},new Uint8Array(this.data))},ko.copy=function(M,R,K,ue,Ae){Kh(M,R,K,ue,Ae,4)},Er("AlphaImage",Su),Er("RGBAImage",ko);var Dv={paint:new Ni({"heatmap-radius":new zr(Xe.paint_heatmap["heatmap-radius"]),"heatmap-weight":new zr(Xe.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Cr(Xe.paint_heatmap["heatmap-intensity"]),"heatmap-color":new zo(Xe.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Cr(Xe.paint_heatmap["heatmap-opacity"])})};function Hd(M){var R={},K=M.resolution||256,ue=M.clips?M.clips.length:1,Ae=M.image||new ko({width:K,height:ue}),Pe=function(sn,cn,An){R[M.evaluationKey]=An;var wn=M.expression.evaluate(R);Ae.data[sn+cn+0]=Math.floor(255*wn.r/wn.a),Ae.data[sn+cn+1]=Math.floor(255*wn.g/wn.a),Ae.data[sn+cn+2]=Math.floor(255*wn.b/wn.a),Ae.data[sn+cn+3]=Math.floor(255*wn.a)};if(M.clips)for(var je=0,$e=0;je<ue;++je,$e+=4*K)for(var ct=0,wt=0;ct<K;ct++,wt+=4){var St=ct/(K-1),Nt=M.clips[je];Pe($e,wt,Nt.start*(1-St)+Nt.end*St)}else for(var Gt=0,Ut=0;Gt<K;Gt++,Ut+=4)Pe(0,Ut,Gt/(K-1));return Ae}var zv=function(M){function R(K){M.call(this,K,Dv),this._updateColorRamp()}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(K){return new Ud(K)},R.prototype._handleSpecialPaintPropertyUpdate=function(K){K==="heatmap-color"&&this._updateColorRamp()},R.prototype._updateColorRamp=function(){var K=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Hd({expression:K,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},R.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},R.prototype.queryRadius=function(){return 0},R.prototype.queryIntersectsFeature=function(){return!1},R.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},R}(si),Fv={paint:new Ni({"hillshade-illumination-direction":new Cr(Xe.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Cr(Xe.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Cr(Xe.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Cr(Xe.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Cr(Xe.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Cr(Xe.paint_hillshade["hillshade-accent-color"])})},Bv=function(M){function R(K){M.call(this,K,Fv)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},R}(si),Nv=wi([{name:"a_pos",components:2,type:"Int16"}],4).members,Jh=Of,jv=Of;function Of(M,R,K){K=K||2;var ue,Ae,Pe,je,$e,ct,wt,St=R&&R.length,Nt=St?R[0]*K:M.length,Gt=qd(M,0,Nt,K,!0),Ut=[];if(!Gt||Gt.next===Gt.prev)return Ut;if(St&&(Gt=function(cn,An,wn,Bn){var Un,Yn,Jn,lr=[];for(Un=0,Yn=An.length;Un<Yn;Un++)(Jn=qd(cn,An[Un]*Bn,Un<Yn-1?An[Un+1]*Bn:cn.length,Bn,!1))===Jn.next&&(Jn.steiner=!0),lr.push(Zv(Jn));for(lr.sort(Gv),Un=0;Un<lr.length;Un++)Wv(lr[Un],wn),wn=su(wn,wn.next);return wn}(M,R,Gt,K)),M.length>80*K){ue=Pe=M[0],Ae=je=M[1];for(var sn=K;sn<Nt;sn+=K)($e=M[sn])<ue&&(ue=$e),(ct=M[sn+1])<Ae&&(Ae=ct),$e>Pe&&(Pe=$e),ct>je&&(je=ct);wt=(wt=Math.max(Pe-ue,je-Ae))!==0?1/wt:0}return zc(Gt,Ut,K,ue,Ae,wt),Ut}function qd(M,R,K,ue,Ae){var Pe,je;if(Ae===ep(M,R,K,ue)>0)for(Pe=R;Pe<K;Pe+=ue)je=Yd(Pe,M[Pe],M[Pe+1],je);else for(Pe=K-ue;Pe>=R;Pe-=ue)je=Yd(Pe,M[Pe],M[Pe+1],je);return je&&If(je,je.next)&&(Bc(je),je=je.next),je}function su(M,R){if(!M)return M;R||(R=M);var K,ue=M;do if(K=!1,ue.steiner||!If(ue,ue.next)&&ha(ue.prev,ue,ue.next)!==0)ue=ue.next;else{if(Bc(ue),(ue=R=ue.prev)===ue.next)break;K=!0}while(K||ue!==R);return R}function zc(M,R,K,ue,Ae,Pe,je){if(M){!je&&Pe&&function(St,Nt,Gt,Ut){var sn=St;do sn.z===null&&(sn.z=$h(sn.x,sn.y,Nt,Gt,Ut)),sn.prevZ=sn.prev,sn.nextZ=sn.next,sn=sn.next;while(sn!==St);sn.prevZ.nextZ=null,sn.prevZ=null,function(cn){var An,wn,Bn,Un,Yn,Jn,lr,br,yr=1;do{for(wn=cn,cn=null,Yn=null,Jn=0;wn;){for(Jn++,Bn=wn,lr=0,An=0;An<yr&&(lr++,Bn=Bn.nextZ);An++);for(br=yr;lr>0||br>0&&Bn;)lr!==0&&(br===0||!Bn||wn.z<=Bn.z)?(Un=wn,wn=wn.nextZ,lr--):(Un=Bn,Bn=Bn.nextZ,br--),Yn?Yn.nextZ=Un:cn=Un,Un.prevZ=Yn,Yn=Un;wn=Bn}Yn.nextZ=null,yr*=2}while(Jn>1)}(sn)}(M,ue,Ae,Pe);for(var $e,ct,wt=M;M.prev!==M.next;)if($e=M.prev,ct=M.next,Pe?Vv(M,ue,Ae,Pe):Uv(M))R.push($e.i/K),R.push(M.i/K),R.push(ct.i/K),Bc(M),M=ct.next,wt=ct.next;else if((M=ct)===wt){je?je===1?zc(M=Hv(su(M),R,K),R,K,ue,Ae,Pe,2):je===2&&qv(M,R,K,ue,Ae,Pe):zc(su(M),R,K,ue,Ae,Pe,1);break}}}function Uv(M){var R=M.prev,K=M,ue=M.next;if(ha(R,K,ue)>=0)return!1;for(var Ae=M.next.next;Ae!==M.prev;){if(Zu(R.x,R.y,K.x,K.y,ue.x,ue.y,Ae.x,Ae.y)&&ha(Ae.prev,Ae,Ae.next)>=0)return!1;Ae=Ae.next}return!0}function Vv(M,R,K,ue){var Ae=M.prev,Pe=M,je=M.next;if(ha(Ae,Pe,je)>=0)return!1;for(var $e=Ae.x<Pe.x?Ae.x<je.x?Ae.x:je.x:Pe.x<je.x?Pe.x:je.x,ct=Ae.y<Pe.y?Ae.y<je.y?Ae.y:je.y:Pe.y<je.y?Pe.y:je.y,wt=Ae.x>Pe.x?Ae.x>je.x?Ae.x:je.x:Pe.x>je.x?Pe.x:je.x,St=Ae.y>Pe.y?Ae.y>je.y?Ae.y:je.y:Pe.y>je.y?Pe.y:je.y,Nt=$h($e,ct,R,K,ue),Gt=$h(wt,St,R,K,ue),Ut=M.prevZ,sn=M.nextZ;Ut&&Ut.z>=Nt&&sn&&sn.z<=Gt;){if(Ut!==M.prev&&Ut!==M.next&&Zu(Ae.x,Ae.y,Pe.x,Pe.y,je.x,je.y,Ut.x,Ut.y)&&ha(Ut.prev,Ut,Ut.next)>=0||(Ut=Ut.prevZ,sn!==M.prev&&sn!==M.next&&Zu(Ae.x,Ae.y,Pe.x,Pe.y,je.x,je.y,sn.x,sn.y)&&ha(sn.prev,sn,sn.next)>=0))return!1;sn=sn.nextZ}for(;Ut&&Ut.z>=Nt;){if(Ut!==M.prev&&Ut!==M.next&&Zu(Ae.x,Ae.y,Pe.x,Pe.y,je.x,je.y,Ut.x,Ut.y)&&ha(Ut.prev,Ut,Ut.next)>=0)return!1;Ut=Ut.prevZ}for(;sn&&sn.z<=Gt;){if(sn!==M.prev&&sn!==M.next&&Zu(Ae.x,Ae.y,Pe.x,Pe.y,je.x,je.y,sn.x,sn.y)&&ha(sn.prev,sn,sn.next)>=0)return!1;sn=sn.nextZ}return!0}function Hv(M,R,K){var ue=M;do{var Ae=ue.prev,Pe=ue.next.next;!If(Ae,Pe)&&Gd(Ae,ue,ue.next,Pe)&&Fc(Ae,Pe)&&Fc(Pe,Ae)&&(R.push(Ae.i/K),R.push(ue.i/K),R.push(Pe.i/K),Bc(ue),Bc(ue.next),ue=M=Pe),ue=ue.next}while(ue!==M);return su(ue)}function qv(M,R,K,ue,Ae,Pe){var je=M;do{for(var $e=je.next.next;$e!==je.prev;){if(je.i!==$e.i&&Xv(je,$e)){var ct=Wd(je,$e);return je=su(je,je.next),ct=su(ct,ct.next),zc(je,R,K,ue,Ae,Pe),void zc(ct,R,K,ue,Ae,Pe)}$e=$e.next}je=je.next}while(je!==M)}function Gv(M,R){return M.x-R.x}function Wv(M,R){if(R=function(ue,Ae){var Pe,je=Ae,$e=ue.x,ct=ue.y,wt=-1/0;do{if(ct<=je.y&&ct>=je.next.y&&je.next.y!==je.y){var St=je.x+(ct-je.y)*(je.next.x-je.x)/(je.next.y-je.y);if(St<=$e&&St>wt){if(wt=St,St===$e){if(ct===je.y)return je;if(ct===je.next.y)return je.next}Pe=je.x<je.next.x?je:je.next}}je=je.next}while(je!==Ae);if(!Pe)return null;if($e===wt)return Pe;var Nt,Gt=Pe,Ut=Pe.x,sn=Pe.y,cn=1/0;je=Pe;do $e>=je.x&&je.x>=Ut&&$e!==je.x&&Zu(ct<sn?$e:wt,ct,Ut,sn,ct<sn?wt:$e,ct,je.x,je.y)&&(Nt=Math.abs(ct-je.y)/($e-je.x),Fc(je,ue)&&(Nt<cn||Nt===cn&&(je.x>Pe.x||je.x===Pe.x&&Yv(Pe,je)))&&(Pe=je,cn=Nt)),je=je.next;while(je!==Gt);return Pe}(M,R)){var K=Wd(R,M);su(R,R.next),su(K,K.next)}}function Yv(M,R){return ha(M.prev,M,R.prev)<0&&ha(R.next,M,M.next)<0}function $h(M,R,K,ue,Ae){return(M=1431655765&((M=858993459&((M=252645135&((M=16711935&((M=32767*(M-K)*Ae)|M<<8))|M<<4))|M<<2))|M<<1))|(R=1431655765&((R=858993459&((R=252645135&((R=16711935&((R=32767*(R-ue)*Ae)|R<<8))|R<<4))|R<<2))|R<<1))<<1}function Zv(M){var R=M,K=M;do(R.x<K.x||R.x===K.x&&R.y<K.y)&&(K=R),R=R.next;while(R!==M);return K}function Zu(M,R,K,ue,Ae,Pe,je,$e){return(Ae-je)*(R-$e)-(M-je)*(Pe-$e)>=0&&(M-je)*(ue-$e)-(K-je)*(R-$e)>=0&&(K-je)*(Pe-$e)-(Ae-je)*(ue-$e)>=0}function Xv(M,R){return M.next.i!==R.i&&M.prev.i!==R.i&&!function(K,ue){var Ae=K;do{if(Ae.i!==K.i&&Ae.next.i!==K.i&&Ae.i!==ue.i&&Ae.next.i!==ue.i&&Gd(Ae,Ae.next,K,ue))return!0;Ae=Ae.next}while(Ae!==K);return!1}(M,R)&&(Fc(M,R)&&Fc(R,M)&&function(K,ue){var Ae=K,Pe=!1,je=(K.x+ue.x)/2,$e=(K.y+ue.y)/2;do Ae.y>$e!=Ae.next.y>$e&&Ae.next.y!==Ae.y&&je<(Ae.next.x-Ae.x)*($e-Ae.y)/(Ae.next.y-Ae.y)+Ae.x&&(Pe=!Pe),Ae=Ae.next;while(Ae!==K);return Pe}(M,R)&&(ha(M.prev,M,R.prev)||ha(M,R.prev,R))||If(M,R)&&ha(M.prev,M,M.next)>0&&ha(R.prev,R,R.next)>0)}function ha(M,R,K){return(R.y-M.y)*(K.x-R.x)-(R.x-M.x)*(K.y-R.y)}function If(M,R){return M.x===R.x&&M.y===R.y}function Gd(M,R,K,ue){var Ae=Df(ha(M,R,K)),Pe=Df(ha(M,R,ue)),je=Df(ha(K,ue,M)),$e=Df(ha(K,ue,R));return Ae!==Pe&&je!==$e||!(Ae!==0||!Rf(M,K,R))||!(Pe!==0||!Rf(M,ue,R))||!(je!==0||!Rf(K,M,ue))||!($e!==0||!Rf(K,R,ue))}function Rf(M,R,K){return R.x<=Math.max(M.x,K.x)&&R.x>=Math.min(M.x,K.x)&&R.y<=Math.max(M.y,K.y)&&R.y>=Math.min(M.y,K.y)}function Df(M){return M>0?1:M<0?-1:0}function Fc(M,R){return ha(M.prev,M,M.next)<0?ha(M,R,M.next)>=0&&ha(M,M.prev,R)>=0:ha(M,R,M.prev)<0||ha(M,M.next,R)<0}function Wd(M,R){var K=new Qh(M.i,M.x,M.y),ue=new Qh(R.i,R.x,R.y),Ae=M.next,Pe=R.prev;return M.next=R,R.prev=M,K.next=Ae,Ae.prev=K,ue.next=K,K.prev=ue,Pe.next=ue,ue.prev=Pe,ue}function Yd(M,R,K,ue){var Ae=new Qh(M,R,K);return ue?(Ae.next=ue.next,Ae.prev=ue,ue.next.prev=Ae,ue.next=Ae):(Ae.prev=Ae,Ae.next=Ae),Ae}function Bc(M){M.next.prev=M.prev,M.prev.next=M.next,M.prevZ&&(M.prevZ.nextZ=M.nextZ),M.nextZ&&(M.nextZ.prevZ=M.prevZ)}function Qh(M,R,K){this.i=M,this.x=R,this.y=K,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ep(M,R,K,ue){for(var Ae=0,Pe=R,je=K-ue;Pe<K;Pe+=ue)Ae+=(M[je]-M[Pe])*(M[Pe+1]+M[je+1]),je=Pe;return Ae}function Kv(M,R,K,ue,Ae){Zd(M,R,K||0,ue||M.length-1,Ae||Jv)}function Zd(M,R,K,ue,Ae){for(;ue>K;){if(ue-K>600){var Pe=ue-K+1,je=R-K+1,$e=Math.log(Pe),ct=.5*Math.exp(2*$e/3),wt=.5*Math.sqrt($e*ct*(Pe-ct)/Pe)*(je-Pe/2<0?-1:1);Zd(M,R,Math.max(K,Math.floor(R-je*ct/Pe+wt)),Math.min(ue,Math.floor(R+(Pe-je)*ct/Pe+wt)),Ae)}var St=M[R],Nt=K,Gt=ue;for(Nc(M,K,R),Ae(M[ue],St)>0&&Nc(M,K,ue);Nt<Gt;){for(Nc(M,Nt,Gt),Nt++,Gt--;Ae(M[Nt],St)<0;)Nt++;for(;Ae(M[Gt],St)>0;)Gt--}Ae(M[K],St)===0?Nc(M,K,Gt):Nc(M,++Gt,ue),Gt<=R&&(K=Gt+1),R<=Gt&&(ue=Gt-1)}}function Nc(M,R,K){var ue=M[R];M[R]=M[K],M[K]=ue}function Jv(M,R){return M<R?-1:M>R?1:0}function tp(M,R){var K=M.length;if(K<=1)return[M];for(var ue,Ae,Pe=[],je=0;je<K;je++){var $e=O(M[je]);$e!==0&&(M[je].area=Math.abs($e),Ae===void 0&&(Ae=$e<0),Ae===$e<0?(ue&&Pe.push(ue),ue=[M[je]]):ue.push(M[je]))}if(ue&&Pe.push(ue),R>1)for(var ct=0;ct<Pe.length;ct++)Pe[ct].length<=R||(Kv(Pe[ct],R,1,Pe[ct].length-1,$v),Pe[ct]=Pe[ct].slice(0,R));return Pe}function $v(M,R){return R.area-M.area}function np(M,R,K){for(var ue=K.patternDependencies,Ae=!1,Pe=0,je=R;Pe<je.length;Pe+=1){var $e=je[Pe].paint.get(M+"-pattern");$e.isConstant()||(Ae=!0);var ct=$e.constantOr(null);ct&&(Ae=!0,ue[ct.to]=!0,ue[ct.from]=!0)}return Ae}function rp(M,R,K,ue,Ae){for(var Pe=Ae.patternDependencies,je=0,$e=R;je<$e.length;je+=1){var ct=$e[je],wt=ct.paint.get(M+"-pattern").value;if(wt.kind!=="constant"){var St=wt.evaluate({zoom:ue-1},K,{},Ae.availableImages),Nt=wt.evaluate({zoom:ue},K,{},Ae.availableImages),Gt=wt.evaluate({zoom:ue+1},K,{},Ae.availableImages);St=St&&St.name?St.name:St,Nt=Nt&&Nt.name?Nt.name:Nt,Gt=Gt&&Gt.name?Gt.name:Gt,Pe[St]=!0,Pe[Nt]=!0,Pe[Gt]=!0,K.patterns[ct.id]={min:St,mid:Nt,max:Gt}}}return K}Of.deviation=function(M,R,K,ue){var Ae=R&&R.length,Pe=Ae?R[0]*K:M.length,je=Math.abs(ep(M,0,Pe,K));if(Ae)for(var $e=0,ct=R.length;$e<ct;$e++){var wt=R[$e]*K,St=$e<ct-1?R[$e+1]*K:M.length;je-=Math.abs(ep(M,wt,St,K))}var Nt=0;for($e=0;$e<ue.length;$e+=3){var Gt=ue[$e]*K,Ut=ue[$e+1]*K,sn=ue[$e+2]*K;Nt+=Math.abs((M[Gt]-M[sn])*(M[Ut+1]-M[Gt+1])-(M[Gt]-M[Ut])*(M[sn+1]-M[Gt+1]))}return je===0&&Nt===0?0:Math.abs((Nt-je)/je)},Of.flatten=function(M){for(var R=M[0][0].length,K={vertices:[],holes:[],dimensions:R},ue=0,Ae=0;Ae<M.length;Ae++){for(var Pe=0;Pe<M[Ae].length;Pe++)for(var je=0;je<R;je++)K.vertices.push(M[Ae][Pe][je]);Ae>0&&(ue+=M[Ae-1].length,K.holes.push(ue))}return K},Jh.default=jv;var il=function(M){this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(R){return R.id}),this.index=M.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new rs,this.indexArray=new ye,this.indexArray2=new ft,this.programConfigurations=new Zi(M.layers,M.zoom),this.segments=new Wn,this.segments2=new Wn,this.stateDependentLayerIds=this.layers.filter(function(R){return R.isStateDependent()}).map(function(R){return R.id})};il.prototype.populate=function(M,R,K){this.hasPattern=np("fill",this.layers,R);for(var ue=this.layers[0].layout.get("fill-sort-key"),Ae=[],Pe=0,je=M;Pe<je.length;Pe+=1){var $e=je[Pe],ct=$e.feature,wt=$e.id,St=$e.index,Nt=$e.sourceLayerIndex,Gt=this.layers[0]._featureFilter.needGeometry,Ut=Pi(ct,Gt);if(this.layers[0]._featureFilter.filter(new Zr(this.zoom),Ut,K)){var sn=ue?ue.evaluate(Ut,{},K,R.availableImages):void 0,cn={id:wt,properties:ct.properties,type:ct.type,sourceLayerIndex:Nt,index:St,geometry:Gt?Ut.geometry:Fo(ct),patterns:{},sortKey:sn};Ae.push(cn)}}ue&&Ae.sort(function(kr,Mr){return kr.sortKey-Mr.sortKey});for(var An=0,wn=Ae;An<wn.length;An+=1){var Bn=wn[An],Un=Bn,Yn=Un.geometry,Jn=Un.index,lr=Un.sourceLayerIndex;if(this.hasPattern){var br=rp("fill",this.layers,Bn,this.zoom,R);this.patternFeatures.push(br)}else this.addFeature(Bn,Yn,Jn,K,{});var yr=M[Jn].feature;R.featureIndex.insert(yr,Yn,Jn,lr,this.index)}},il.prototype.update=function(M,R,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(M,R,this.stateDependentLayers,K)},il.prototype.addFeatures=function(M,R,K){for(var ue=0,Ae=this.patternFeatures;ue<Ae.length;ue+=1){var Pe=Ae[ue];this.addFeature(Pe,Pe.geometry,Pe.index,R,K)}},il.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},il.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},il.prototype.upload=function(M){this.uploaded||(this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,Nv),this.indexBuffer=M.createIndexBuffer(this.indexArray),this.indexBuffer2=M.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(M),this.uploaded=!0},il.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},il.prototype.addFeature=function(M,R,K,ue,Ae){for(var Pe=0,je=tp(R,500);Pe<je.length;Pe+=1){for(var $e=je[Pe],ct=0,wt=0,St=$e;wt<St.length;wt+=1)ct+=St[wt].length;for(var Nt=this.segments.prepareSegment(ct,this.layoutVertexArray,this.indexArray),Gt=Nt.vertexLength,Ut=[],sn=[],cn=0,An=$e;cn<An.length;cn+=1){var wn=An[cn];if(wn.length!==0){wn!==$e[0]&&sn.push(Ut.length/2);var Bn=this.segments2.prepareSegment(wn.length,this.layoutVertexArray,this.indexArray2),Un=Bn.vertexLength;this.layoutVertexArray.emplaceBack(wn[0].x,wn[0].y),this.indexArray2.emplaceBack(Un+wn.length-1,Un),Ut.push(wn[0].x),Ut.push(wn[0].y);for(var Yn=1;Yn<wn.length;Yn++)this.layoutVertexArray.emplaceBack(wn[Yn].x,wn[Yn].y),this.indexArray2.emplaceBack(Un+Yn-1,Un+Yn),Ut.push(wn[Yn].x),Ut.push(wn[Yn].y);Bn.vertexLength+=wn.length,Bn.primitiveLength+=wn.length}}for(var Jn=Jh(Ut,sn),lr=0;lr<Jn.length;lr+=3)this.indexArray.emplaceBack(Gt+Jn[lr],Gt+Jn[lr+1],Gt+Jn[lr+2]);Nt.vertexLength+=ct,Nt.primitiveLength+=Jn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,M,K,Ae,ue)},Er("FillBucket",il,{omit:["layers","patternFeatures"]});var Qv=new Ni({"fill-sort-key":new zr(Xe.layout_fill["fill-sort-key"])}),em={paint:new Ni({"fill-antialias":new Cr(Xe.paint_fill["fill-antialias"]),"fill-opacity":new zr(Xe.paint_fill["fill-opacity"]),"fill-color":new zr(Xe.paint_fill["fill-color"]),"fill-outline-color":new zr(Xe.paint_fill["fill-outline-color"]),"fill-translate":new Cr(Xe.paint_fill["fill-translate"]),"fill-translate-anchor":new Cr(Xe.paint_fill["fill-translate-anchor"]),"fill-pattern":new ja(Xe.paint_fill["fill-pattern"])}),layout:Qv},tm=function(M){function R(K){M.call(this,K,em)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.recalculate=function(K,ue){M.prototype.recalculate.call(this,K,ue);var Ae=this.paint._values["fill-outline-color"];Ae.value.kind==="constant"&&Ae.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},R.prototype.createBucket=function(K){return new il(K)},R.prototype.queryRadius=function(){return Ef(this.paint.get("fill-translate"))},R.prototype.queryIntersectsFeature=function(K,ue,Ae,Pe,je,$e,ct){return Af(Lf(K,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),$e.angle,ct),Pe)},R.prototype.isTileClipped=function(){return!0},R}(si),nm=wi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Xd=Xu;function Xu(M,R,K,ue,Ae){this.properties={},this.extent=K,this.type=0,this._pbf=M,this._geometry=-1,this._keys=ue,this._values=Ae,M.readFields(rm,this,R)}function rm(M,R,K){M==1?R.id=K.readVarint():M==2?function(ue,Ae){for(var Pe=ue.readVarint()+ue.pos;ue.pos<Pe;){var je=Ae._keys[ue.readVarint()],$e=Ae._values[ue.readVarint()];Ae.properties[je]=$e}}(K,R):M==3?R.type=K.readVarint():M==4&&(R._geometry=K.pos)}function im(M){for(var R,K,ue=0,Ae=0,Pe=M.length,je=Pe-1;Ae<Pe;je=Ae++)R=M[Ae],ue+=((K=M[je]).x-R.x)*(R.y+K.y);return ue}Xu.types=["Unknown","Point","LineString","Polygon"],Xu.prototype.loadGeometry=function(){var M=this._pbf;M.pos=this._geometry;for(var R,K=M.readVarint()+M.pos,ue=1,Ae=0,Pe=0,je=0,$e=[];M.pos<K;){if(Ae<=0){var ct=M.readVarint();ue=7&ct,Ae=ct>>3}if(Ae--,ue===1||ue===2)Pe+=M.readSVarint(),je+=M.readSVarint(),ue===1&&(R&&$e.push(R),R=[]),R.push(new t(Pe,je));else{if(ue!==7)throw new Error("unknown command "+ue);R&&R.push(R[0].clone())}}return R&&$e.push(R),$e},Xu.prototype.bbox=function(){var M=this._pbf;M.pos=this._geometry;for(var R=M.readVarint()+M.pos,K=1,ue=0,Ae=0,Pe=0,je=1/0,$e=-1/0,ct=1/0,wt=-1/0;M.pos<R;){if(ue<=0){var St=M.readVarint();K=7&St,ue=St>>3}if(ue--,K===1||K===2)(Ae+=M.readSVarint())<je&&(je=Ae),Ae>$e&&($e=Ae),(Pe+=M.readSVarint())<ct&&(ct=Pe),Pe>wt&&(wt=Pe);else if(K!==7)throw new Error("unknown command "+K)}return[je,ct,$e,wt]},Xu.prototype.toGeoJSON=function(M,R,K){var ue,Ae,Pe=this.extent*Math.pow(2,K),je=this.extent*M,$e=this.extent*R,ct=this.loadGeometry(),wt=Xu.types[this.type];function St(Ut){for(var sn=0;sn<Ut.length;sn++){var cn=Ut[sn],An=180-360*(cn.y+$e)/Pe;Ut[sn]=[360*(cn.x+je)/Pe-180,360/Math.PI*Math.atan(Math.exp(An*Math.PI/180))-90]}}switch(this.type){case 1:var Nt=[];for(ue=0;ue<ct.length;ue++)Nt[ue]=ct[ue][0];St(ct=Nt);break;case 2:for(ue=0;ue<ct.length;ue++)St(ct[ue]);break;case 3:for(ct=function(Ut){var sn=Ut.length;if(sn<=1)return[Ut];for(var cn,An,wn=[],Bn=0;Bn<sn;Bn++){var Un=im(Ut[Bn]);Un!==0&&(An===void 0&&(An=Un<0),An===Un<0?(cn&&wn.push(cn),cn=[Ut[Bn]]):cn.push(Ut[Bn]))}return cn&&wn.push(cn),wn}(ct),ue=0;ue<ct.length;ue++)for(Ae=0;Ae<ct[ue].length;Ae++)St(ct[ue][Ae])}ct.length===1?ct=ct[0]:wt="Multi"+wt;var Gt={type:"Feature",geometry:{type:wt,coordinates:ct},properties:this.properties};return"id"in this&&(Gt.id=this.id),Gt};var Kd=Jd;function Jd(M,R){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=M,this._keys=[],this._values=[],this._features=[],M.readFields(am,this,R),this.length=this._features.length}function am(M,R,K){M===15?R.version=K.readVarint():M===1?R.name=K.readString():M===5?R.extent=K.readVarint():M===2?R._features.push(K.pos):M===3?R._keys.push(K.readString()):M===4&&R._values.push(function(ue){for(var Ae=null,Pe=ue.readVarint()+ue.pos;ue.pos<Pe;){var je=ue.readVarint()>>3;Ae=je===1?ue.readString():je===2?ue.readFloat():je===3?ue.readDouble():je===4?ue.readVarint64():je===5?ue.readVarint():je===6?ue.readSVarint():je===7?ue.readBoolean():null}return Ae}(K))}function om(M,R,K){if(M===3){var ue=new Kd(K,K.readVarint()+K.pos);ue.length&&(R[ue.name]=ue)}}Jd.prototype.feature=function(M){if(M<0||M>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[M];var R=this._pbf.readVarint()+this._pbf.pos;return new Xd(this._pbf,R,this.extent,this._keys,this._values)};var Ku={VectorTile:function(M,R){this.layers=M.readFields(om,{},R)},VectorTileFeature:Xd,VectorTileLayer:Kd},sm=Ku.VectorTileFeature.types,ip=Math.pow(2,13);function jc(M,R,K,ue,Ae,Pe,je,$e){M.emplaceBack(R,K,2*Math.floor(ue*ip)+je,Ae*ip*2,Pe*ip*2,Math.round($e))}var al=function(M){this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(R){return R.id}),this.index=M.index,this.hasPattern=!1,this.layoutVertexArray=new Ke,this.indexArray=new ye,this.programConfigurations=new Zi(M.layers,M.zoom),this.segments=new Wn,this.stateDependentLayerIds=this.layers.filter(function(R){return R.isStateDependent()}).map(function(R){return R.id})};function lm(M,R){return M.x===R.x&&(M.x<0||M.x>ni)||M.y===R.y&&(M.y<0||M.y>ni)}al.prototype.populate=function(M,R,K){this.features=[],this.hasPattern=np("fill-extrusion",this.layers,R);for(var ue=0,Ae=M;ue<Ae.length;ue+=1){var Pe=Ae[ue],je=Pe.feature,$e=Pe.id,ct=Pe.index,wt=Pe.sourceLayerIndex,St=this.layers[0]._featureFilter.needGeometry,Nt=Pi(je,St);if(this.layers[0]._featureFilter.filter(new Zr(this.zoom),Nt,K)){var Gt={id:$e,sourceLayerIndex:wt,index:ct,geometry:St?Nt.geometry:Fo(je),properties:je.properties,type:je.type,patterns:{}};this.hasPattern?this.features.push(rp("fill-extrusion",this.layers,Gt,this.zoom,R)):this.addFeature(Gt,Gt.geometry,ct,K,{}),R.featureIndex.insert(je,Gt.geometry,ct,wt,this.index,!0)}}},al.prototype.addFeatures=function(M,R,K){for(var ue=0,Ae=this.features;ue<Ae.length;ue+=1){var Pe=Ae[ue],je=Pe.geometry;this.addFeature(Pe,je,Pe.index,R,K)}},al.prototype.update=function(M,R,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(M,R,this.stateDependentLayers,K)},al.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},al.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},al.prototype.upload=function(M){this.uploaded||(this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,nm),this.indexBuffer=M.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(M),this.uploaded=!0},al.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},al.prototype.addFeature=function(M,R,K,ue,Ae){for(var Pe=0,je=tp(R,500);Pe<je.length;Pe+=1){for(var $e=je[Pe],ct=0,wt=0,St=$e;wt<St.length;wt+=1)ct+=St[wt].length;for(var Nt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Gt=0,Ut=$e;Gt<Ut.length;Gt+=1){var sn=Ut[Gt];if(sn.length!==0&&!((ei=sn).every(function(Hr){return Hr.x<0})||ei.every(function(Hr){return Hr.x>ni})||ei.every(function(Hr){return Hr.y<0})||ei.every(function(Hr){return Hr.y>ni})))for(var cn=0,An=0;An<sn.length;An++){var wn=sn[An];if(An>=1){var Bn=sn[An-1];if(!lm(wn,Bn)){Nt.vertexLength+4>Wn.MAX_VERTEX_ARRAY_LENGTH&&(Nt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Un=wn.sub(Bn)._perp()._unit(),Yn=Bn.dist(wn);cn+Yn>32768&&(cn=0),jc(this.layoutVertexArray,wn.x,wn.y,Un.x,Un.y,0,0,cn),jc(this.layoutVertexArray,wn.x,wn.y,Un.x,Un.y,0,1,cn),cn+=Yn,jc(this.layoutVertexArray,Bn.x,Bn.y,Un.x,Un.y,0,0,cn),jc(this.layoutVertexArray,Bn.x,Bn.y,Un.x,Un.y,0,1,cn);var Jn=Nt.vertexLength;this.indexArray.emplaceBack(Jn,Jn+2,Jn+1),this.indexArray.emplaceBack(Jn+1,Jn+2,Jn+3),Nt.vertexLength+=4,Nt.primitiveLength+=2}}}}if(Nt.vertexLength+ct>Wn.MAX_VERTEX_ARRAY_LENGTH&&(Nt=this.segments.prepareSegment(ct,this.layoutVertexArray,this.indexArray)),sm[M.type]==="Polygon"){for(var lr=[],br=[],yr=Nt.vertexLength,kr=0,Mr=$e;kr<Mr.length;kr+=1){var jr=Mr[kr];if(jr.length!==0){jr!==$e[0]&&br.push(lr.length/2);for(var Ir=0;Ir<jr.length;Ir++){var Nr=jr[Ir];jc(this.layoutVertexArray,Nr.x,Nr.y,0,0,1,1,0),lr.push(Nr.x),lr.push(Nr.y)}}}for(var Dr=Jh(lr,br),Or=0;Or<Dr.length;Or+=3)this.indexArray.emplaceBack(yr+Dr[Or],yr+Dr[Or+2],yr+Dr[Or+1]);Nt.primitiveLength+=Dr.length/3,Nt.vertexLength+=ct}}var ei;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,M,K,Ae,ue)},Er("FillExtrusionBucket",al,{omit:["layers","features"]});var um={paint:new Ni({"fill-extrusion-opacity":new Cr(Xe["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new zr(Xe["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Cr(Xe["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Cr(Xe["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ja(Xe["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new zr(Xe["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new zr(Xe["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Cr(Xe["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},cm=function(M){function R(K){M.call(this,K,um)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.createBucket=function(K){return new al(K)},R.prototype.queryRadius=function(){return Ef(this.paint.get("fill-extrusion-translate"))},R.prototype.is3D=function(){return!0},R.prototype.queryIntersectsFeature=function(K,ue,Ae,Pe,je,$e,ct,wt){var St=Lf(K,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),$e.angle,ct),Nt=this.paint.get("fill-extrusion-height").evaluate(ue,Ae),Gt=this.paint.get("fill-extrusion-base").evaluate(ue,Ae),Ut=function(cn,An,wn,Bn){for(var Un=[],Yn=0,Jn=cn;Yn<Jn.length;Yn+=1){var lr=Jn[Yn],br=[lr.x,lr.y,Bn,1];Pf(br,br,An),Un.push(new t(br[0]/br[3],br[1]/br[3]))}return Un}(St,wt,0,0),sn=function(cn,An,wn,Bn){for(var Un=[],Yn=[],Jn=Bn[8]*An,lr=Bn[9]*An,br=Bn[10]*An,yr=Bn[11]*An,kr=Bn[8]*wn,Mr=Bn[9]*wn,jr=Bn[10]*wn,Ir=Bn[11]*wn,Nr=0,Dr=cn;Nr<Dr.length;Nr+=1){for(var Or=[],ei=[],Hr=0,Ai=Dr[Nr];Hr<Ai.length;Hr+=1){var Fr=Ai[Hr],xi=Fr.x,Ii=Fr.y,Fi=Bn[0]*xi+Bn[4]*Ii+Bn[12],Bi=Bn[1]*xi+Bn[5]*Ii+Bn[13],Mi=Bn[2]*xi+Bn[6]*Ii+Bn[14],ga=Bn[3]*xi+Bn[7]*Ii+Bn[15],Wi=Mi+br,Ea=ga+yr,Ha=Fi+kr,Da=Bi+Mr,co=Mi+jr,za=ga+Ir,xa=new t((Fi+Jn)/Ea,(Bi+lr)/Ea);xa.z=Wi/Ea,Or.push(xa);var Fa=new t(Ha/za,Da/za);Fa.z=co/za,ei.push(Fa)}Un.push(Or),Yn.push(ei)}return[Un,Yn]}(Pe,Gt,Nt,wt);return function(cn,An,wn){var Bn=1/0;Af(wn,An)&&(Bn=$d(wn,An[0]));for(var Un=0;Un<An.length;Un++)for(var Yn=An[Un],Jn=cn[Un],lr=0;lr<Yn.length-1;lr++){var br=Yn[lr],yr=Yn[lr+1],kr=Jn[lr],Mr=[br,yr,Jn[lr+1],kr,br];Mu(wn,Mr)&&(Bn=Math.min(Bn,$d(wn,Mr)))}return Bn!==1/0&&Bn}(sn[0],sn[1],Ut)},R}(si);function Uc(M,R){return M.x*R.x+M.y*R.y}function $d(M,R){if(M.length===1){for(var K,ue=0,Ae=R[ue++];!K||Ae.equals(K);)if(!(K=R[ue++]))return 1/0;for(;ue<R.length;ue++){var Pe=R[ue],je=M[0],$e=K.sub(Ae),ct=Pe.sub(Ae),wt=je.sub(Ae),St=Uc($e,$e),Nt=Uc($e,ct),Gt=Uc(ct,ct),Ut=Uc(wt,$e),sn=Uc(wt,ct),cn=St*Gt-Nt*Nt,An=(Gt*Ut-Nt*sn)/cn,wn=(St*sn-Nt*Ut)/cn,Bn=1-An-wn,Un=Ae.z*Bn+K.z*An+Pe.z*wn;if(isFinite(Un))return Un}return 1/0}for(var Yn=1/0,Jn=0,lr=R;Jn<lr.length;Jn+=1){var br=lr[Jn];Yn=Math.min(Yn,br.z)}return Yn}var fm=wi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,hm=wi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,pm=Ku.VectorTileFeature.types,dm=Math.cos(Math.PI/180*37.5),Qd=Math.pow(2,14)/.5,uo=function(M){var R=this;this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(K){return K.id}),this.index=M.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(K){R.gradients[K.id]={}}),this.layoutVertexArray=new Qe,this.layoutVertexArray2=new ut,this.indexArray=new ye,this.programConfigurations=new Zi(M.layers,M.zoom),this.segments=new Wn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(K){return K.isStateDependent()}).map(function(K){return K.id})};uo.prototype.populate=function(M,R,K){this.hasPattern=np("line",this.layers,R);for(var ue=this.layers[0].layout.get("line-sort-key"),Ae=[],Pe=0,je=M;Pe<je.length;Pe+=1){var $e=je[Pe],ct=$e.feature,wt=$e.id,St=$e.index,Nt=$e.sourceLayerIndex,Gt=this.layers[0]._featureFilter.needGeometry,Ut=Pi(ct,Gt);if(this.layers[0]._featureFilter.filter(new Zr(this.zoom),Ut,K)){var sn=ue?ue.evaluate(Ut,{},K):void 0,cn={id:wt,properties:ct.properties,type:ct.type,sourceLayerIndex:Nt,index:St,geometry:Gt?Ut.geometry:Fo(ct),patterns:{},sortKey:sn};Ae.push(cn)}}ue&&Ae.sort(function(kr,Mr){return kr.sortKey-Mr.sortKey});for(var An=0,wn=Ae;An<wn.length;An+=1){var Bn=wn[An],Un=Bn,Yn=Un.geometry,Jn=Un.index,lr=Un.sourceLayerIndex;if(this.hasPattern){var br=rp("line",this.layers,Bn,this.zoom,R);this.patternFeatures.push(br)}else this.addFeature(Bn,Yn,Jn,K,{});var yr=M[Jn].feature;R.featureIndex.insert(yr,Yn,Jn,lr,this.index)}},uo.prototype.update=function(M,R,K){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(M,R,this.stateDependentLayers,K)},uo.prototype.addFeatures=function(M,R,K){for(var ue=0,Ae=this.patternFeatures;ue<Ae.length;ue+=1){var Pe=Ae[ue];this.addFeature(Pe,Pe.geometry,Pe.index,R,K)}},uo.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},uo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},uo.prototype.upload=function(M){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=M.createVertexBuffer(this.layoutVertexArray2,hm)),this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,fm),this.indexBuffer=M.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(M),this.uploaded=!0},uo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},uo.prototype.lineFeatureClips=function(M){if(M.properties&&M.properties.hasOwnProperty("mapbox_clip_start")&&M.properties.hasOwnProperty("mapbox_clip_end"))return{start:+M.properties.mapbox_clip_start,end:+M.properties.mapbox_clip_end}},uo.prototype.addFeature=function(M,R,K,ue,Ae){var Pe=this.layers[0].layout,je=Pe.get("line-join").evaluate(M,{}),$e=Pe.get("line-cap"),ct=Pe.get("line-miter-limit"),wt=Pe.get("line-round-limit");this.lineClips=this.lineFeatureClips(M);for(var St=0,Nt=R;St<Nt.length;St+=1){var Gt=Nt[St];this.addLine(Gt,M,je,$e,ct,wt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,M,K,Ae,ue)},uo.prototype.addLine=function(M,R,K,ue,Ae,Pe){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var je=0;je<M.length-1;je++)this.totalDistance+=M[je].dist(M[je+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var $e=pm[R.type]==="Polygon",ct=M.length;ct>=2&&M[ct-1].equals(M[ct-2]);)ct--;for(var wt=0;wt<ct-1&&M[wt].equals(M[wt+1]);)wt++;if(!(ct<($e?3:2))){K==="bevel"&&(Ae=1.05);var St,Nt=this.overscaling<=16?15*ni/(512*this.overscaling):0,Gt=this.segments.prepareSegment(10*ct,this.layoutVertexArray,this.indexArray),Ut=void 0,sn=void 0,cn=void 0,An=void 0;this.e1=this.e2=-1,$e&&(St=M[ct-2],An=M[wt].sub(St)._unit()._perp());for(var wn=wt;wn<ct;wn++)if(!(sn=wn===ct-1?$e?M[wt+1]:void 0:M[wn+1])||!M[wn].equals(sn)){An&&(cn=An),St&&(Ut=St),St=M[wn],An=sn?sn.sub(St)._unit()._perp():cn;var Bn=(cn=cn||An).add(An);Bn.x===0&&Bn.y===0||Bn._unit();var Un=cn.x*An.x+cn.y*An.y,Yn=Bn.x*An.x+Bn.y*An.y,Jn=Yn!==0?1/Yn:1/0,lr=2*Math.sqrt(2-2*Yn),br=Yn<dm&&Ut&&sn,yr=cn.x*An.y-cn.y*An.x>0;if(br&&wn>wt){var kr=St.dist(Ut);if(kr>2*Nt){var Mr=St.sub(St.sub(Ut)._mult(Nt/kr)._round());this.updateDistance(Ut,Mr),this.addCurrentVertex(Mr,cn,0,0,Gt),Ut=Mr}}var jr=Ut&&sn,Ir=jr?K:$e?"butt":ue;if(jr&&Ir==="round"&&(Jn<Pe?Ir="miter":Jn<=2&&(Ir="fakeround")),Ir==="miter"&&Jn>Ae&&(Ir="bevel"),Ir==="bevel"&&(Jn>2&&(Ir="flipbevel"),Jn<Ae&&(Ir="miter")),Ut&&this.updateDistance(Ut,St),Ir==="miter")Bn._mult(Jn),this.addCurrentVertex(St,Bn,0,0,Gt);else if(Ir==="flipbevel"){if(Jn>100)Bn=An.mult(-1);else{var Nr=Jn*cn.add(An).mag()/cn.sub(An).mag();Bn._perp()._mult(Nr*(yr?-1:1))}this.addCurrentVertex(St,Bn,0,0,Gt),this.addCurrentVertex(St,Bn.mult(-1),0,0,Gt)}else if(Ir==="bevel"||Ir==="fakeround"){var Dr=-Math.sqrt(Jn*Jn-1),Or=yr?Dr:0,ei=yr?0:Dr;if(Ut&&this.addCurrentVertex(St,cn,Or,ei,Gt),Ir==="fakeround")for(var Hr=Math.round(180*lr/Math.PI/20),Ai=1;Ai<Hr;Ai++){var Fr=Ai/Hr;if(Fr!==.5){var xi=Fr-.5;Fr+=Fr*xi*(Fr-1)*((1.0904+Un*(Un*(3.55645-1.43519*Un)-3.2452))*xi*xi+(.848013+Un*(.215638*Un-1.06021)))}var Ii=An.sub(cn)._mult(Fr)._add(cn)._unit()._mult(yr?-1:1);this.addHalfVertex(St,Ii.x,Ii.y,!1,yr,0,Gt)}sn&&this.addCurrentVertex(St,An,-Or,-ei,Gt)}else if(Ir==="butt")this.addCurrentVertex(St,Bn,0,0,Gt);else if(Ir==="square"){var Fi=Ut?1:-1;this.addCurrentVertex(St,Bn,Fi,Fi,Gt)}else Ir==="round"&&(Ut&&(this.addCurrentVertex(St,cn,0,0,Gt),this.addCurrentVertex(St,cn,1,1,Gt,!0)),sn&&(this.addCurrentVertex(St,An,-1,-1,Gt,!0),this.addCurrentVertex(St,An,0,0,Gt)));if(br&&wn<ct-1){var Bi=St.dist(sn);if(Bi>2*Nt){var Mi=St.add(sn.sub(St)._mult(Nt/Bi)._round());this.updateDistance(St,Mi),this.addCurrentVertex(Mi,An,0,0,Gt),St=Mi}}}}},uo.prototype.addCurrentVertex=function(M,R,K,ue,Ae,Pe){Pe===void 0&&(Pe=!1);var je=R.x+R.y*K,$e=R.y-R.x*K,ct=-R.x+R.y*ue,wt=-R.y-R.x*ue;this.addHalfVertex(M,je,$e,Pe,!1,K,Ae),this.addHalfVertex(M,ct,wt,Pe,!0,-ue,Ae),this.distance>Qd/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(M,R,K,ue,Ae,Pe))},uo.prototype.addHalfVertex=function(M,R,K,ue,Ae,Pe,je){var $e=M.x,ct=M.y,wt=.5*(this.lineClips?this.scaledDistance*(Qd-1):this.scaledDistance);if(this.layoutVertexArray.emplaceBack(($e<<1)+(ue?1:0),(ct<<1)+(Ae?1:0),Math.round(63*R)+128,Math.round(63*K)+128,1+(Pe===0?0:Pe<0?-1:1)|(63&wt)<<2,wt>>6),this.lineClips){var St=(this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start);this.layoutVertexArray2.emplaceBack(St,this.lineClipsArray.length)}var Nt=je.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Nt),je.primitiveLength++),Ae?this.e2=Nt:this.e1=Nt},uo.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},uo.prototype.updateDistance=function(M,R){this.distance+=M.dist(R),this.updateScaledDistance()},Er("LineBucket",uo,{omit:["layers","patternFeatures"]});var gm=new Ni({"line-cap":new Cr(Xe.layout_line["line-cap"]),"line-join":new zr(Xe.layout_line["line-join"]),"line-miter-limit":new Cr(Xe.layout_line["line-miter-limit"]),"line-round-limit":new Cr(Xe.layout_line["line-round-limit"]),"line-sort-key":new zr(Xe.layout_line["line-sort-key"])}),e0={paint:new Ni({"line-opacity":new zr(Xe.paint_line["line-opacity"]),"line-color":new zr(Xe.paint_line["line-color"]),"line-translate":new Cr(Xe.paint_line["line-translate"]),"line-translate-anchor":new Cr(Xe.paint_line["line-translate-anchor"]),"line-width":new zr(Xe.paint_line["line-width"]),"line-gap-width":new zr(Xe.paint_line["line-gap-width"]),"line-offset":new zr(Xe.paint_line["line-offset"]),"line-blur":new zr(Xe.paint_line["line-blur"]),"line-dasharray":new wo(Xe.paint_line["line-dasharray"]),"line-pattern":new ja(Xe.paint_line["line-pattern"]),"line-gradient":new zo(Xe.paint_line["line-gradient"])}),layout:gm},vm=function(M){function R(){M.apply(this,arguments)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.possiblyEvaluate=function(K,ue){return ue=new Zr(Math.floor(ue.zoom),{now:ue.now,fadeDuration:ue.fadeDuration,zoomHistory:ue.zoomHistory,transition:ue.transition}),M.prototype.possiblyEvaluate.call(this,K,ue)},R.prototype.evaluate=function(K,ue,Ae,Pe){return ue=c({},ue,{zoom:Math.floor(ue.zoom)}),M.prototype.evaluate.call(this,K,ue,Ae,Pe)},R}(zr),t0=new vm(e0.paint.properties["line-width"].specification);t0.useIntegerZoom=!0;var mm=function(M){function R(K){M.call(this,K,e0),this.gradientVersion=0}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype._handleSpecialPaintPropertyUpdate=function(K){if(K==="line-gradient"){var ue=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=ue._styleExpression.expression instanceof Sr,this.gradientVersion=(this.gradientVersion+1)%r}},R.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},R.prototype.recalculate=function(K,ue){M.prototype.recalculate.call(this,K,ue),this.paint._values["line-floorwidth"]=t0.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,K)},R.prototype.createBucket=function(K){return new uo(K)},R.prototype.queryRadius=function(K){var ue=K,Ae=n0(Dc("line-width",this,ue),Dc("line-gap-width",this,ue)),Pe=Dc("line-offset",this,ue);return Ae/2+Math.abs(Pe)+Ef(this.paint.get("line-translate"))},R.prototype.queryIntersectsFeature=function(K,ue,Ae,Pe,je,$e,ct){var wt=Lf(K,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),$e.angle,ct),St=ct/2*n0(this.paint.get("line-width").evaluate(ue,Ae),this.paint.get("line-gap-width").evaluate(ue,Ae)),Nt=this.paint.get("line-offset").evaluate(ue,Ae);return Nt&&(Pe=function(Gt,Ut){for(var sn=[],cn=new t(0,0),An=0;An<Gt.length;An++){for(var wn=Gt[An],Bn=[],Un=0;Un<wn.length;Un++){var Yn=wn[Un-1],Jn=wn[Un],lr=wn[Un+1],br=Un===0?cn:Jn.sub(Yn)._unit()._perp(),yr=Un===wn.length-1?cn:lr.sub(Jn)._unit()._perp(),kr=br._add(yr)._unit(),Mr=kr.x*yr.x+kr.y*yr.y;kr._mult(1/Mr),Bn.push(kr._mult(Ut)._add(Jn))}sn.push(Bn)}return sn}(Pe,Nt*ct)),function(Gt,Ut,sn){for(var cn=0;cn<Ut.length;cn++){var An=Ut[cn];if(Gt.length>=3){for(var wn=0;wn<An.length;wn++)if(El(Gt,An[wn]))return!0}if(Wh(Gt,An,sn))return!0}return!1}(wt,Pe,St)},R.prototype.isTileClipped=function(){return!0},R}(si);function n0(M,R){return R>0?R+2*M:M}var ym=wi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),xm=wi([{name:"a_projected_pos",components:3,type:"Float32"}],4),bm=(wi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),wi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),r0=(wi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),wi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),_m=wi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function wm(M,R,K){return M.sections.forEach(function(ue){ue.text=function(Ae,Pe,je){var $e=Pe.layout.get("text-transform").evaluate(je,{});return $e==="uppercase"?Ae=Ae.toLocaleUpperCase():$e==="lowercase"&&(Ae=Ae.toLocaleLowerCase()),Ma.applyArabicShaping&&(Ae=Ma.applyArabicShaping(Ae)),Ae}(ue.text,R,K)}),M}wi([{name:"triangle",components:3,type:"Uint16"}]),wi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),wi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),wi([{type:"Float32",name:"offsetX"}]),wi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Vc={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"},Ra=24,i0=function(M,R,K,ue,Ae){var Pe,je,$e=8*Ae-ue-1,ct=(1<<$e)-1,wt=ct>>1,St=-7,Nt=K?Ae-1:0,Gt=K?-1:1,Ut=M[R+Nt];for(Nt+=Gt,Pe=Ut&(1<<-St)-1,Ut>>=-St,St+=$e;St>0;Pe=256*Pe+M[R+Nt],Nt+=Gt,St-=8);for(je=Pe&(1<<-St)-1,Pe>>=-St,St+=ue;St>0;je=256*je+M[R+Nt],Nt+=Gt,St-=8);if(Pe===0)Pe=1-wt;else{if(Pe===ct)return je?NaN:1/0*(Ut?-1:1);je+=Math.pow(2,ue),Pe-=wt}return(Ut?-1:1)*je*Math.pow(2,Pe-ue)},a0=function(M,R,K,ue,Ae,Pe){var je,$e,ct,wt=8*Pe-Ae-1,St=(1<<wt)-1,Nt=St>>1,Gt=Ae===23?Math.pow(2,-24)-Math.pow(2,-77):0,Ut=ue?0:Pe-1,sn=ue?1:-1,cn=R<0||R===0&&1/R<0?1:0;for(R=Math.abs(R),isNaN(R)||R===1/0?($e=isNaN(R)?1:0,je=St):(je=Math.floor(Math.log(R)/Math.LN2),R*(ct=Math.pow(2,-je))<1&&(je--,ct*=2),(R+=je+Nt>=1?Gt/ct:Gt*Math.pow(2,1-Nt))*ct>=2&&(je++,ct/=2),je+Nt>=St?($e=0,je=St):je+Nt>=1?($e=(R*ct-1)*Math.pow(2,Ae),je+=Nt):($e=R*Math.pow(2,Nt-1)*Math.pow(2,Ae),je=0));Ae>=8;M[K+Ut]=255&$e,Ut+=sn,$e/=256,Ae-=8);for(je=je<<Ae|$e,wt+=Ae;wt>0;M[K+Ut]=255&je,Ut+=sn,je/=256,wt-=8);M[K+Ut-sn]|=128*cn},zf=Oi;function Oi(M){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(M)?M:new Uint8Array(M||0),this.pos=0,this.type=0,this.length=this.buf.length}Oi.Varint=0,Oi.Fixed64=1,Oi.Bytes=2,Oi.Fixed32=5;var ap=4294967296,o0=1/ap,s0=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Vl(M){return M.type===Oi.Bytes?M.readVarint()+M.pos:M.pos+1}function Ju(M,R,K){return K?4294967296*R+(M>>>0):4294967296*(R>>>0)+(M>>>0)}function l0(M,R,K){var ue=R<=16383?1:R<=2097151?2:R<=268435455?3:Math.floor(Math.log(R)/(7*Math.LN2));K.realloc(ue);for(var Ae=K.pos-1;Ae>=M;Ae--)K.buf[Ae+ue]=K.buf[Ae]}function Tm(M,R){for(var K=0;K<M.length;K++)R.writeVarint(M[K])}function km(M,R){for(var K=0;K<M.length;K++)R.writeSVarint(M[K])}function Am(M,R){for(var K=0;K<M.length;K++)R.writeFloat(M[K])}function Mm(M,R){for(var K=0;K<M.length;K++)R.writeDouble(M[K])}function Sm(M,R){for(var K=0;K<M.length;K++)R.writeBoolean(M[K])}function Em(M,R){for(var K=0;K<M.length;K++)R.writeFixed32(M[K])}function Lm(M,R){for(var K=0;K<M.length;K++)R.writeSFixed32(M[K])}function Cm(M,R){for(var K=0;K<M.length;K++)R.writeFixed64(M[K])}function Pm(M,R){for(var K=0;K<M.length;K++)R.writeSFixed64(M[K])}function Ff(M,R){return(M[R]|M[R+1]<<8|M[R+2]<<16)+16777216*M[R+3]}function $u(M,R,K){M[K]=R,M[K+1]=R>>>8,M[K+2]=R>>>16,M[K+3]=R>>>24}function u0(M,R){return(M[R]|M[R+1]<<8|M[R+2]<<16)+(M[R+3]<<24)}Oi.prototype={destroy:function(){this.buf=null},readFields:function(M,R,K){for(K=K||this.length;this.pos<K;){var ue=this.readVarint(),Ae=ue>>3,Pe=this.pos;this.type=7&ue,M(Ae,R,this),this.pos===Pe&&this.skip(ue)}return R},readMessage:function(M,R){return this.readFields(M,R,this.readVarint()+this.pos)},readFixed32:function(){var M=Ff(this.buf,this.pos);return this.pos+=4,M},readSFixed32:function(){var M=u0(this.buf,this.pos);return this.pos+=4,M},readFixed64:function(){var M=Ff(this.buf,this.pos)+Ff(this.buf,this.pos+4)*ap;return this.pos+=8,M},readSFixed64:function(){var M=Ff(this.buf,this.pos)+u0(this.buf,this.pos+4)*ap;return this.pos+=8,M},readFloat:function(){var M=i0(this.buf,this.pos,!0,23,4);return this.pos+=4,M},readDouble:function(){var M=i0(this.buf,this.pos,!0,52,8);return this.pos+=8,M},readVarint:function(M){var R,K,ue=this.buf;return R=127&(K=ue[this.pos++]),K<128?R:(R|=(127&(K=ue[this.pos++]))<<7,K<128?R:(R|=(127&(K=ue[this.pos++]))<<14,K<128?R:(R|=(127&(K=ue[this.pos++]))<<21,K<128?R:function(Ae,Pe,je){var $e,ct,wt=je.buf;if($e=(112&(ct=wt[je.pos++]))>>4,ct<128||($e|=(127&(ct=wt[je.pos++]))<<3,ct<128)||($e|=(127&(ct=wt[je.pos++]))<<10,ct<128)||($e|=(127&(ct=wt[je.pos++]))<<17,ct<128)||($e|=(127&(ct=wt[je.pos++]))<<24,ct<128)||($e|=(1&(ct=wt[je.pos++]))<<31,ct<128))return Ju(Ae,$e,Pe);throw new Error("Expected varint not more than 10 bytes")}(R|=(15&(K=ue[this.pos]))<<28,M,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var M=this.readVarint();return M%2==1?(M+1)/-2:M/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var M=this.readVarint()+this.pos,R=this.pos;return this.pos=M,M-R>=12&&s0?function(K,ue,Ae){return s0.decode(K.subarray(ue,Ae))}(this.buf,R,M):function(K,ue,Ae){for(var Pe="",je=ue;je<Ae;){var $e,ct,wt,St=K[je],Nt=null,Gt=St>239?4:St>223?3:St>191?2:1;if(je+Gt>Ae)break;Gt===1?St<128&&(Nt=St):Gt===2?(192&($e=K[je+1]))==128&&(Nt=(31&St)<<6|63&$e)<=127&&(Nt=null):Gt===3?($e=K[je+1],ct=K[je+2],(192&$e)==128&&(192&ct)==128&&((Nt=(15&St)<<12|(63&$e)<<6|63&ct)<=2047||Nt>=55296&&Nt<=57343)&&(Nt=null)):Gt===4&&($e=K[je+1],ct=K[je+2],wt=K[je+3],(192&$e)==128&&(192&ct)==128&&(192&wt)==128&&((Nt=(15&St)<<18|(63&$e)<<12|(63&ct)<<6|63&wt)<=65535||Nt>=1114112)&&(Nt=null)),Nt===null?(Nt=65533,Gt=1):Nt>65535&&(Nt-=65536,Pe+=String.fromCharCode(Nt>>>10&1023|55296),Nt=56320|1023&Nt),Pe+=String.fromCharCode(Nt),je+=Gt}return Pe}(this.buf,R,M)},readBytes:function(){var M=this.readVarint()+this.pos,R=this.buf.subarray(this.pos,M);return this.pos=M,R},readPackedVarint:function(M,R){if(this.type!==Oi.Bytes)return M.push(this.readVarint(R));var K=Vl(this);for(M=M||[];this.pos<K;)M.push(this.readVarint(R));return M},readPackedSVarint:function(M){if(this.type!==Oi.Bytes)return M.push(this.readSVarint());var R=Vl(this);for(M=M||[];this.pos<R;)M.push(this.readSVarint());return M},readPackedBoolean:function(M){if(this.type!==Oi.Bytes)return M.push(this.readBoolean());var R=Vl(this);for(M=M||[];this.pos<R;)M.push(this.readBoolean());return M},readPackedFloat:function(M){if(this.type!==Oi.Bytes)return M.push(this.readFloat());var R=Vl(this);for(M=M||[];this.pos<R;)M.push(this.readFloat());return M},readPackedDouble:function(M){if(this.type!==Oi.Bytes)return M.push(this.readDouble());var R=Vl(this);for(M=M||[];this.pos<R;)M.push(this.readDouble());return M},readPackedFixed32:function(M){if(this.type!==Oi.Bytes)return M.push(this.readFixed32());var R=Vl(this);for(M=M||[];this.pos<R;)M.push(this.readFixed32());return M},readPackedSFixed32:function(M){if(this.type!==Oi.Bytes)return M.push(this.readSFixed32());var R=Vl(this);for(M=M||[];this.pos<R;)M.push(this.readSFixed32());return M},readPackedFixed64:function(M){if(this.type!==Oi.Bytes)return M.push(this.readFixed64());var R=Vl(this);for(M=M||[];this.pos<R;)M.push(this.readFixed64());return M},readPackedSFixed64:function(M){if(this.type!==Oi.Bytes)return M.push(this.readSFixed64());var R=Vl(this);for(M=M||[];this.pos<R;)M.push(this.readSFixed64());return M},skip:function(M){var R=7&M;if(R===Oi.Varint)for(;this.buf[this.pos++]>127;);else if(R===Oi.Bytes)this.pos=this.readVarint()+this.pos;else if(R===Oi.Fixed32)this.pos+=4;else{if(R!==Oi.Fixed64)throw new Error("Unimplemented type: "+R);this.pos+=8}},writeTag:function(M,R){this.writeVarint(M<<3|R)},realloc:function(M){for(var R=this.length||16;R<this.pos+M;)R*=2;if(R!==this.length){var K=new Uint8Array(R);K.set(this.buf),this.buf=K,this.length=R}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(M){this.realloc(4),$u(this.buf,M,this.pos),this.pos+=4},writeSFixed32:function(M){this.realloc(4),$u(this.buf,M,this.pos),this.pos+=4},writeFixed64:function(M){this.realloc(8),$u(this.buf,-1&M,this.pos),$u(this.buf,Math.floor(M*o0),this.pos+4),this.pos+=8},writeSFixed64:function(M){this.realloc(8),$u(this.buf,-1&M,this.pos),$u(this.buf,Math.floor(M*o0),this.pos+4),this.pos+=8},writeVarint:function(M){(M=+M||0)>268435455||M<0?function(R,K){var ue,Ae;if(R>=0?(ue=R%4294967296|0,Ae=R/4294967296|0):(Ae=~(-R/4294967296),4294967295^(ue=~(-R%4294967296))?ue=ue+1|0:(ue=0,Ae=Ae+1|0)),R>=18446744073709552e3||R<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");K.realloc(10),function(Pe,je,$e){$e.buf[$e.pos++]=127&Pe|128,Pe>>>=7,$e.buf[$e.pos++]=127&Pe|128,Pe>>>=7,$e.buf[$e.pos++]=127&Pe|128,Pe>>>=7,$e.buf[$e.pos++]=127&Pe|128,Pe>>>=7,$e.buf[$e.pos]=127&Pe}(ue,0,K),function(Pe,je){var $e=(7&Pe)<<4;je.buf[je.pos++]|=$e|((Pe>>>=3)?128:0),Pe&&(je.buf[je.pos++]=127&Pe|((Pe>>>=7)?128:0),Pe&&(je.buf[je.pos++]=127&Pe|((Pe>>>=7)?128:0),Pe&&(je.buf[je.pos++]=127&Pe|((Pe>>>=7)?128:0),Pe&&(je.buf[je.pos++]=127&Pe|((Pe>>>=7)?128:0),Pe&&(je.buf[je.pos++]=127&Pe)))))}(Ae,K)}(M,this):(this.realloc(4),this.buf[this.pos++]=127&M|(M>127?128:0),M<=127||(this.buf[this.pos++]=127&(M>>>=7)|(M>127?128:0),M<=127||(this.buf[this.pos++]=127&(M>>>=7)|(M>127?128:0),M<=127||(this.buf[this.pos++]=M>>>7&127))))},writeSVarint:function(M){this.writeVarint(M<0?2*-M-1:2*M)},writeBoolean:function(M){this.writeVarint(Boolean(M))},writeString:function(M){M=String(M),this.realloc(4*M.length),this.pos++;var R=this.pos;this.pos=function(ue,Ae,Pe){for(var je,$e,ct=0;ct<Ae.length;ct++){if((je=Ae.charCodeAt(ct))>55295&&je<57344){if(!$e){je>56319||ct+1===Ae.length?(ue[Pe++]=239,ue[Pe++]=191,ue[Pe++]=189):$e=je;continue}if(je<56320){ue[Pe++]=239,ue[Pe++]=191,ue[Pe++]=189,$e=je;continue}je=$e-55296<<10|je-56320|65536,$e=null}else $e&&(ue[Pe++]=239,ue[Pe++]=191,ue[Pe++]=189,$e=null);je<128?ue[Pe++]=je:(je<2048?ue[Pe++]=je>>6|192:(je<65536?ue[Pe++]=je>>12|224:(ue[Pe++]=je>>18|240,ue[Pe++]=je>>12&63|128),ue[Pe++]=je>>6&63|128),ue[Pe++]=63&je|128)}return Pe}(this.buf,M,this.pos);var K=this.pos-R;K>=128&&l0(R,K,this),this.pos=R-1,this.writeVarint(K),this.pos+=K},writeFloat:function(M){this.realloc(4),a0(this.buf,M,this.pos,!0,23,4),this.pos+=4},writeDouble:function(M){this.realloc(8),a0(this.buf,M,this.pos,!0,52,8),this.pos+=8},writeBytes:function(M){var R=M.length;this.writeVarint(R),this.realloc(R);for(var K=0;K<R;K++)this.buf[this.pos++]=M[K]},writeRawMessage:function(M,R){this.pos++;var K=this.pos;M(R,this);var ue=this.pos-K;ue>=128&&l0(K,ue,this),this.pos=K-1,this.writeVarint(ue),this.pos+=ue},writeMessage:function(M,R,K){this.writeTag(M,Oi.Bytes),this.writeRawMessage(R,K)},writePackedVarint:function(M,R){R.length&&this.writeMessage(M,Tm,R)},writePackedSVarint:function(M,R){R.length&&this.writeMessage(M,km,R)},writePackedBoolean:function(M,R){R.length&&this.writeMessage(M,Sm,R)},writePackedFloat:function(M,R){R.length&&this.writeMessage(M,Am,R)},writePackedDouble:function(M,R){R.length&&this.writeMessage(M,Mm,R)},writePackedFixed32:function(M,R){R.length&&this.writeMessage(M,Em,R)},writePackedSFixed32:function(M,R){R.length&&this.writeMessage(M,Lm,R)},writePackedFixed64:function(M,R){R.length&&this.writeMessage(M,Cm,R)},writePackedSFixed64:function(M,R){R.length&&this.writeMessage(M,Pm,R)},writeBytesField:function(M,R){this.writeTag(M,Oi.Bytes),this.writeBytes(R)},writeFixed32Field:function(M,R){this.writeTag(M,Oi.Fixed32),this.writeFixed32(R)},writeSFixed32Field:function(M,R){this.writeTag(M,Oi.Fixed32),this.writeSFixed32(R)},writeFixed64Field:function(M,R){this.writeTag(M,Oi.Fixed64),this.writeFixed64(R)},writeSFixed64Field:function(M,R){this.writeTag(M,Oi.Fixed64),this.writeSFixed64(R)},writeVarintField:function(M,R){this.writeTag(M,Oi.Varint),this.writeVarint(R)},writeSVarintField:function(M,R){this.writeTag(M,Oi.Varint),this.writeSVarint(R)},writeStringField:function(M,R){this.writeTag(M,Oi.Bytes),this.writeString(R)},writeFloatField:function(M,R){this.writeTag(M,Oi.Fixed32),this.writeFloat(R)},writeDoubleField:function(M,R){this.writeTag(M,Oi.Fixed64),this.writeDouble(R)},writeBooleanField:function(M,R){this.writeVarintField(M,Boolean(R))}};var op=3;function Om(M,R,K){M===1&&K.readMessage(Im,R)}function Im(M,R,K){if(M===3){var ue=K.readMessage(Rm,{}),Ae=ue.id,Pe=ue.bitmap,je=ue.width,$e=ue.height,ct=ue.left,wt=ue.top,St=ue.advance;R.push({id:Ae,bitmap:new Su({width:je+2*op,height:$e+2*op},Pe),metrics:{width:je,height:$e,left:ct,top:wt,advance:St}})}}function Rm(M,R,K){M===1?R.id=K.readVarint():M===2?R.bitmap=K.readBytes():M===3?R.width=K.readVarint():M===4?R.height=K.readVarint():M===5?R.left=K.readSVarint():M===6?R.top=K.readSVarint():M===7&&(R.advance=K.readVarint())}var c0=op;function f0(M){for(var R=0,K=0,ue=0,Ae=M;ue<Ae.length;ue+=1){var Pe=Ae[ue];R+=Pe.w*Pe.h,K=Math.max(K,Pe.w)}M.sort(function(cn,An){return An.h-cn.h});for(var je=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(R/.95)),K),h:1/0}],$e=0,ct=0,wt=0,St=M;wt<St.length;wt+=1)for(var Nt=St[wt],Gt=je.length-1;Gt>=0;Gt--){var Ut=je[Gt];if(!(Nt.w>Ut.w||Nt.h>Ut.h)){if(Nt.x=Ut.x,Nt.y=Ut.y,ct=Math.max(ct,Nt.y+Nt.h),$e=Math.max($e,Nt.x+Nt.w),Nt.w===Ut.w&&Nt.h===Ut.h){var sn=je.pop();Gt<je.length&&(je[Gt]=sn)}else Nt.h===Ut.h?(Ut.x+=Nt.w,Ut.w-=Nt.w):Nt.w===Ut.w?(Ut.y+=Nt.h,Ut.h-=Nt.h):(je.push({x:Ut.x+Nt.w,y:Ut.y,w:Ut.w-Nt.w,h:Nt.h}),Ut.y+=Nt.h,Ut.h-=Nt.h);break}}return{w:$e,h:ct,fill:R/($e*ct)||0}}var Bo=1,Bf=function(M,R){var K=R.pixelRatio,ue=R.version,Ae=R.stretchX,Pe=R.stretchY,je=R.content;this.paddedRect=M,this.pixelRatio=K,this.stretchX=Ae,this.stretchY=Pe,this.content=je,this.version=ue},Hc={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Hc.tl.get=function(){return[this.paddedRect.x+Bo,this.paddedRect.y+Bo]},Hc.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Bo,this.paddedRect.y+this.paddedRect.h-Bo]},Hc.tlbr.get=function(){return this.tl.concat(this.br)},Hc.displaySize.get=function(){return[(this.paddedRect.w-2*Bo)/this.pixelRatio,(this.paddedRect.h-2*Bo)/this.pixelRatio]},Object.defineProperties(Bf.prototype,Hc);var qc=function(M,R){var K={},ue={};this.haveRenderCallbacks=[];var Ae=[];this.addImages(M,K,Ae),this.addImages(R,ue,Ae);var Pe=f0(Ae),je=Pe.w,$e=Pe.h,ct=new ko({width:je||1,height:$e||1});for(var wt in M){var St=M[wt],Nt=K[wt].paddedRect;ko.copy(St.data,ct,{x:0,y:0},{x:Nt.x+Bo,y:Nt.y+Bo},St.data)}for(var Gt in R){var Ut=R[Gt],sn=ue[Gt].paddedRect,cn=sn.x+Bo,An=sn.y+Bo,wn=Ut.data.width,Bn=Ut.data.height;ko.copy(Ut.data,ct,{x:0,y:0},{x:cn,y:An},Ut.data),ko.copy(Ut.data,ct,{x:0,y:Bn-1},{x:cn,y:An-1},{width:wn,height:1}),ko.copy(Ut.data,ct,{x:0,y:0},{x:cn,y:An+Bn},{width:wn,height:1}),ko.copy(Ut.data,ct,{x:wn-1,y:0},{x:cn-1,y:An},{width:1,height:Bn}),ko.copy(Ut.data,ct,{x:0,y:0},{x:cn+wn,y:An},{width:1,height:Bn})}this.image=ct,this.iconPositions=K,this.patternPositions=ue};qc.prototype.addImages=function(M,R,K){for(var ue in M){var Ae=M[ue],Pe={x:0,y:0,w:Ae.data.width+2*Bo,h:Ae.data.height+2*Bo};K.push(Pe),R[ue]=new Bf(Pe,Ae),Ae.hasRenderCallback&&this.haveRenderCallbacks.push(ue)}},qc.prototype.patchUpdatedImages=function(M,R){for(var K in M.dispatchRenderCallbacks(this.haveRenderCallbacks),M.updatedImages)this.patchUpdatedImage(this.iconPositions[K],M.getImage(K),R),this.patchUpdatedImage(this.patternPositions[K],M.getImage(K),R)},qc.prototype.patchUpdatedImage=function(M,R,K){if(M&&R&&M.version!==R.version){M.version=R.version;var ue=M.tl,Ae=ue[0],Pe=ue[1];K.update(R.data,void 0,{x:Ae,y:Pe})}},Er("ImagePosition",Bf),Er("ImageAtlas",qc);var as={horizontal:1,vertical:2,horizontalOnly:3},Gc=-17,Qu=function(){this.scale=1,this.fontStack="",this.imageName=null};Qu.forText=function(M,R){var K=new Qu;return K.scale=M||1,K.fontStack=R,K},Qu.forImage=function(M){var R=new Qu;return R.imageName=M,R};var Ka=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Nf(M,R,K,ue,Ae,Pe,je,$e,ct,wt,St,Nt,Gt,Ut,sn,cn){var An,wn=Ka.fromFeature(M,Ae);Nt===as.vertical&&wn.verticalizePunctuation();var Bn=Ma.processBidirectionalText,Un=Ma.processStyledBidirectionalText;if(Bn&&wn.sections.length===1){An=[];for(var Yn=0,Jn=Bn(wn.toString(),sp(wn,wt,Pe,R,ue,Ut,sn));Yn<Jn.length;Yn+=1){var lr=Jn[Yn],br=new Ka;br.text=lr,br.sections=wn.sections;for(var yr=0;yr<lr.length;yr++)br.sectionIndex.push(0);An.push(br)}}else if(Un){An=[];for(var kr=0,Mr=Un(wn.text,wn.sectionIndex,sp(wn,wt,Pe,R,ue,Ut,sn));kr<Mr.length;kr+=1){var jr=Mr[kr],Ir=new Ka;Ir.text=jr[0],Ir.sectionIndex=jr[1],Ir.sections=wn.sections,An.push(Ir)}}else An=function(Or,ei){for(var Hr=[],Ai=Or.text,Fr=0,xi=0,Ii=ei;xi<Ii.length;xi+=1){var Fi=Ii[xi];Hr.push(Or.substring(Fr,Fi)),Fr=Fi}return Fr<Ai.length&&Hr.push(Or.substring(Fr,Ai.length)),Hr}(wn,sp(wn,wt,Pe,R,ue,Ut,sn));var Nr=[],Dr={positionedLines:Nr,text:wn.toString(),top:St[1],bottom:St[1],left:St[0],right:St[0],writingMode:Nt,iconsInText:!1,verticalizable:!1};return function(Or,ei,Hr,Ai,Fr,xi,Ii,Fi,Bi,Mi,ga,Wi){for(var Ea=0,Ha=Gc,Da=0,co=0,za=Fi==="right"?1:Fi==="left"?0:.5,xa=0,Fa=0,La=Fr;Fa<La.length;Fa+=1){var ba=La[Fa];ba.trim();var qr=ba.getMaxScale(),ri=(qr-1)*Ra,ta={positionedGlyphs:[],lineOffset:0};Or.positionedLines[xa]=ta;var ki=ta.positionedGlyphs,Xi=0;if(ba.length()){for(var Ui=0;Ui<ba.length();Ui++){var li=ba.getSection(Ui),na=ba.getSectionIndex(Ui),fo=ba.getCharCode(Ui),jo=0,Ja=null,sl=null,Gl=null,Ca=Ra,ll=!(Bi===as.horizontal||!ga&&!Ro(fo)||ga&&(jf[fo]||ts(fo)));if(li.imageName){var Us=Ai[li.imageName];if(!Us)continue;Gl=li.imageName,Or.iconsInText=Or.iconsInText||!0,sl=Us.paddedRect;var Vs=Us.displaySize;li.scale=li.scale*Ra/Wi,Ja={width:Vs[0],height:Vs[1],left:Bo,top:-c0,advance:ll?Vs[1]:Vs[0]},jo=ri+(Ra-Vs[1]*li.scale),Ca=Ja.advance;var Pu=ll?Vs[0]*li.scale-Ra*qr:Vs[1]*li.scale-Ra*qr;Pu>0&&Pu>Xi&&(Xi=Pu)}else{var Xf=Hr[li.fontStack],Ou=Xf&&Xf[fo];if(Ou&&Ou.rect)sl=Ou.rect,Ja=Ou.metrics;else{var Kf=ei[li.fontStack],Xc=Kf&&Kf[fo];if(!Xc)continue;Ja=Xc.metrics}jo=(qr-li.scale)*Ra}ll?(Or.verticalizable=!0,ki.push({glyph:fo,imageName:Gl,x:Ea,y:Ha+jo,vertical:ll,scale:li.scale,fontStack:li.fontStack,sectionIndex:na,metrics:Ja,rect:sl}),Ea+=Ca*li.scale+Mi):(ki.push({glyph:fo,imageName:Gl,x:Ea,y:Ha+jo,vertical:ll,scale:li.scale,fontStack:li.fontStack,sectionIndex:na,metrics:Ja,rect:sl}),Ea+=Ja.advance*li.scale+Mi)}if(ki.length!==0){var mp=Ea-Mi;Da=Math.max(mp,Da),zm(ki,0,ki.length-1,za,Xi)}Ea=0;var Jf=xi*qr+Xi;ta.lineOffset=Math.max(Xi,ri),Ha+=Jf,co=Math.max(Jf,co),++xa}else Ha+=xi,++xa}var uc=Ha-Gc,$f=lp(Ii),Qf=$f.horizontalAlign,Kc=$f.verticalAlign;(function(yp,Jc,Iu,cc,eh,th,fc,nh,rh){var $c=(Jc-Iu)*eh,Qc=0;Qc=th!==fc?-nh*cc-Gc:(-cc*rh+.5)*fc;for(var Ru=0,ef=yp;Ru<ef.length;Ru+=1)for(var Du=0,tf=ef[Ru].positionedGlyphs;Du<tf.length;Du+=1){var nf=tf[Du];nf.x+=$c,nf.y+=Qc}})(Or.positionedLines,za,Qf,Kc,Da,co,xi,uc,Fr.length),Or.top+=-Kc*uc,Or.bottom=Or.top+uc,Or.left+=-Qf*Da,Or.right=Or.left+Da}(Dr,R,K,ue,An,je,$e,ct,Nt,wt,Gt,cn),!function(Or){for(var ei=0,Hr=Or;ei<Hr.length;ei+=1)if(Hr[ei].positionedGlyphs.length!==0)return!1;return!0}(Nr)&&Dr}Ka.fromFeature=function(M,R){for(var K=new Ka,ue=0;ue<M.sections.length;ue++){var Ae=M.sections[ue];Ae.image?K.addImageSection(Ae):K.addTextSection(Ae,R)}return K},Ka.prototype.length=function(){return this.text.length},Ka.prototype.getSection=function(M){return this.sections[this.sectionIndex[M]]},Ka.prototype.getSectionIndex=function(M){return this.sectionIndex[M]},Ka.prototype.getCharCode=function(M){return this.text.charCodeAt(M)},Ka.prototype.verticalizePunctuation=function(){this.text=function(M){for(var R="",K=0;K<M.length;K++){var ue=M.charCodeAt(K+1)||null,Ae=M.charCodeAt(K-1)||null;ue&&Qi(ue)&&!Vc[M[K+1]]||Ae&&Qi(Ae)&&!Vc[M[K-1]]||!Vc[M[K]]?R+=M[K]:R+=Vc[M[K]]}return R}(this.text)},Ka.prototype.trim=function(){for(var M=0,R=0;R<this.text.length&&jf[this.text.charCodeAt(R)];R++)M++;for(var K=this.text.length,ue=this.text.length-1;ue>=0&&ue>=M&&jf[this.text.charCodeAt(ue)];ue--)K--;this.text=this.text.substring(M,K),this.sectionIndex=this.sectionIndex.slice(M,K)},Ka.prototype.substring=function(M,R){var K=new Ka;return K.text=this.text.substring(M,R),K.sectionIndex=this.sectionIndex.slice(M,R),K.sections=this.sections,K},Ka.prototype.toString=function(){return this.text},Ka.prototype.getMaxScale=function(){var M=this;return this.sectionIndex.reduce(function(R,K){return Math.max(R,M.sections[K].scale)},0)},Ka.prototype.addTextSection=function(M,R){this.text+=M.text,this.sections.push(Qu.forText(M.scale,M.fontStack||R));for(var K=this.sections.length-1,ue=0;ue<M.text.length;++ue)this.sectionIndex.push(K)},Ka.prototype.addImageSection=function(M){var R=M.image?M.image.name:"";if(R.length!==0){var K=this.getNextImageSectionCharCode();K?(this.text+=String.fromCharCode(K),this.sections.push(Qu.forImage(R)),this.sectionIndex.push(this.sections.length-1)):E("Reached maximum number of images 6401")}else E("Can't add FormattedSection with an empty image.")},Ka.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var jf={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},No={};function h0(M,R,K,ue,Ae,Pe){if(R.imageName){var je=ue[R.imageName];return je?je.displaySize[0]*R.scale*Ra/Pe+Ae:0}var $e=K[R.fontStack],ct=$e&&$e[M];return ct?ct.metrics.advance*R.scale+Ae:0}function p0(M,R,K,ue){var Ae=Math.pow(M-R,2);return ue?M<R?Ae/2:2*Ae:Ae+Math.abs(K)*K}function Dm(M,R,K){var ue=0;return M===10&&(ue-=1e4),K&&(ue+=150),M!==40&&M!==65288||(ue+=50),R!==41&&R!==65289||(ue+=50),ue}function d0(M,R,K,ue,Ae,Pe){for(var je=null,$e=p0(R,K,Ae,Pe),ct=0,wt=ue;ct<wt.length;ct+=1){var St=wt[ct],Nt=p0(R-St.x,K,Ae,Pe)+St.badness;Nt<=$e&&(je=St,$e=Nt)}return{index:M,x:R,priorBreak:je,badness:$e}}function g0(M){return M?g0(M.priorBreak).concat(M.index):[]}function sp(M,R,K,ue,Ae,Pe,je){if(Pe!=="point")return[];if(!M)return[];for(var $e=[],ct=function(An,wn,Bn,Un,Yn,Jn){for(var lr=0,br=0;br<An.length();br++){var yr=An.getSection(br);lr+=h0(An.getCharCode(br),yr,Un,Yn,wn,Jn)}return lr/Math.max(1,Math.ceil(lr/Bn))}(M,R,K,ue,Ae,je),wt=M.text.indexOf("\u200B")>=0,St=0,Nt=0;Nt<M.length();Nt++){var Gt=M.getSection(Nt),Ut=M.getCharCode(Nt);if(jf[Ut]||(St+=h0(Ut,Gt,ue,Ae,R,je)),Nt<M.length()-1){var sn=!((cn=Ut)<11904||!(_r["Bopomofo Extended"](cn)||_r.Bopomofo(cn)||_r["CJK Compatibility Forms"](cn)||_r["CJK Compatibility Ideographs"](cn)||_r["CJK Compatibility"](cn)||_r["CJK Radicals Supplement"](cn)||_r["CJK Strokes"](cn)||_r["CJK Symbols and Punctuation"](cn)||_r["CJK Unified Ideographs Extension A"](cn)||_r["CJK Unified Ideographs"](cn)||_r["Enclosed CJK Letters and Months"](cn)||_r["Halfwidth and Fullwidth Forms"](cn)||_r.Hiragana(cn)||_r["Ideographic Description Characters"](cn)||_r["Kangxi Radicals"](cn)||_r["Katakana Phonetic Extensions"](cn)||_r.Katakana(cn)||_r["Vertical Forms"](cn)||_r["Yi Radicals"](cn)||_r["Yi Syllables"](cn)));(No[Ut]||sn||Gt.imageName)&&$e.push(d0(Nt+1,St,ct,$e,Dm(Ut,M.getCharCode(Nt+1),sn&&wt),!1))}}var cn;return g0(d0(M.length(),St,ct,$e,0,!0))}function lp(M){var R=.5,K=.5;switch(M){case"right":case"top-right":case"bottom-right":R=1;break;case"left":case"top-left":case"bottom-left":R=0}switch(M){case"bottom":case"bottom-right":case"bottom-left":K=1;break;case"top":case"top-right":case"top-left":K=0}return{horizontalAlign:R,verticalAlign:K}}function zm(M,R,K,ue,Ae){if(ue||Ae)for(var Pe=M[K],je=Pe.metrics.advance*Pe.scale,$e=(M[K].x+je)*ue,ct=R;ct<=K;ct++)M[ct].x-=$e,M[ct].y+=Ae}function v0(M,R,K,ue,Ae,Pe){var je,$e=M.image;if($e.content){var ct=$e.content,wt=$e.pixelRatio||1;je=[ct[0]/wt,ct[1]/wt,$e.displaySize[0]-ct[2]/wt,$e.displaySize[1]-ct[3]/wt]}var St,Nt,Gt,Ut,sn=R.left*Pe,cn=R.right*Pe;K==="width"||K==="both"?(Ut=Ae[0]+sn-ue[3],Nt=Ae[0]+cn+ue[1]):Nt=(Ut=Ae[0]+(sn+cn-$e.displaySize[0])/2)+$e.displaySize[0];var An=R.top*Pe,wn=R.bottom*Pe;return K==="height"||K==="both"?(St=Ae[1]+An-ue[0],Gt=Ae[1]+wn+ue[2]):Gt=(St=Ae[1]+(An+wn-$e.displaySize[1])/2)+$e.displaySize[1],{image:$e,top:St,right:Nt,bottom:Gt,left:Ut,collisionPadding:je}}No[10]=!0,No[32]=!0,No[38]=!0,No[40]=!0,No[41]=!0,No[43]=!0,No[45]=!0,No[47]=!0,No[173]=!0,No[183]=!0,No[8203]=!0,No[8208]=!0,No[8211]=!0,No[8231]=!0;var ec=function(M){function R(K,ue,Ae,Pe){M.call(this,K,ue),this.angle=Ae,Pe!==void 0&&(this.segment=Pe)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.clone=function(){return new R(this.x,this.y,this.angle,this.segment)},R}(t);Er("Anchor",ec);var ol=128;function up(M,R){var K=R.expression;if(K.kind==="constant")return{kind:"constant",layoutSize:K.evaluate(new Zr(M+1))};if(K.kind==="source")return{kind:"source"};for(var ue=K.zoomStops,Ae=K.interpolationType,Pe=0;Pe<ue.length&&ue[Pe]<=M;)Pe++;for(var je=Pe=Math.max(0,Pe-1);je<ue.length&&ue[je]<M+1;)je++;je=Math.min(ue.length-1,je);var $e=ue[Pe],ct=ue[je];return K.kind==="composite"?{kind:"composite",minZoom:$e,maxZoom:ct,interpolationType:Ae}:{kind:"camera",minZoom:$e,maxZoom:ct,minSize:K.evaluate(new Zr($e)),maxSize:K.evaluate(new Zr(ct)),interpolationType:Ae}}function m0(M,R,K){var ue=R.uSize,Ae=R.uSizeT,Pe=K.lowerSize,je=K.upperSize;return M.kind==="source"?Pe/ol:M.kind==="composite"?Br(Pe/ol,je/ol,Ae):ue}function y0(M,R){var K=0,ue=0;if(M.kind==="constant")ue=M.layoutSize;else if(M.kind!=="source"){var Ae=M.interpolationType,Pe=M.minZoom,je=M.maxZoom,$e=Ae?u(Ji.interpolationFactor(Ae,R,Pe,je),0,1):0;M.kind==="camera"?ue=Br(M.minSize,M.maxSize,$e):K=$e}return{uSizeT:K,uSize:ue}}var Fm=Object.freeze({__proto__:null,getSizeData:up,evaluateSizeForFeature:m0,evaluateSizeForZoom:y0,SIZE_PACK_FACTOR:ol});function x0(M,R,K,ue,Ae){if(R.segment===void 0)return!0;for(var Pe=R,je=R.segment+1,$e=0;$e>-K/2;){if(--je<0)return!1;$e-=M[je].dist(Pe),Pe=M[je]}$e+=M[je].dist(M[je+1]),je++;for(var ct=[],wt=0;$e<K/2;){var St=M[je-1],Nt=M[je],Gt=M[je+1];if(!Gt)return!1;var Ut=St.angleTo(Nt)-Nt.angleTo(Gt);for(Ut=Math.abs((Ut+3*Math.PI)%(2*Math.PI)-Math.PI),ct.push({distance:$e,angleDelta:Ut}),wt+=Ut;$e-ct[0].distance>ue;)wt-=ct.shift().angleDelta;if(wt>Ae)return!1;je++,$e+=Nt.dist(Gt)}return!0}function b0(M){for(var R=0,K=0;K<M.length-1;K++)R+=M[K].dist(M[K+1]);return R}function _0(M,R,K){return M?.6*R*K:0}function w0(M,R){return Math.max(M?M.right-M.left:0,R?R.right-R.left:0)}function Bm(M,R,K,ue,Ae,Pe){for(var je=_0(K,Ae,Pe),$e=w0(K,ue)*Pe,ct=0,wt=b0(M)/2,St=0;St<M.length-1;St++){var Nt=M[St],Gt=M[St+1],Ut=Nt.dist(Gt);if(ct+Ut>wt){var sn=(wt-ct)/Ut,cn=Br(Nt.x,Gt.x,sn),An=Br(Nt.y,Gt.y,sn),wn=new ec(cn,An,Gt.angleTo(Nt),St);return wn._round(),!je||x0(M,wn,$e,je,R)?wn:void 0}ct+=Ut}}function Nm(M,R,K,ue,Ae,Pe,je,$e,ct){var wt=_0(ue,Pe,je),St=w0(ue,Ae),Nt=St*je,Gt=M[0].x===0||M[0].x===ct||M[0].y===0||M[0].y===ct;return R-Nt<R/4&&(R=Nt+R/4),T0(M,Gt?R/2*$e%R:(St/2+2*Pe)*je*$e%R,R,wt,K,Nt,Gt,!1,ct)}function T0(M,R,K,ue,Ae,Pe,je,$e,ct){for(var wt=Pe/2,St=b0(M),Nt=0,Gt=R-K,Ut=[],sn=0;sn<M.length-1;sn++){for(var cn=M[sn],An=M[sn+1],wn=cn.dist(An),Bn=An.angleTo(cn);Gt+K<Nt+wn;){var Un=((Gt+=K)-Nt)/wn,Yn=Br(cn.x,An.x,Un),Jn=Br(cn.y,An.y,Un);if(Yn>=0&&Yn<ct&&Jn>=0&&Jn<ct&&Gt-wt>=0&&Gt+wt<=St){var lr=new ec(Yn,Jn,Bn,sn);lr._round(),ue&&!x0(M,lr,Pe,ue,Ae)||Ut.push(lr)}}Nt+=wn}return $e||Ut.length||je||(Ut=T0(M,Nt/2,K,ue,Ae,Pe,je,!0,ct)),Ut}function k0(M,R,K,ue,Ae){for(var Pe=[],je=0;je<M.length;je++)for(var $e=M[je],ct=void 0,wt=0;wt<$e.length-1;wt++){var St=$e[wt],Nt=$e[wt+1];St.x<R&&Nt.x<R||(St.x<R?St=new t(R,St.y+(Nt.y-St.y)*((R-St.x)/(Nt.x-St.x)))._round():Nt.x<R&&(Nt=new t(R,St.y+(Nt.y-St.y)*((R-St.x)/(Nt.x-St.x)))._round()),St.y<K&&Nt.y<K||(St.y<K?St=new t(St.x+(Nt.x-St.x)*((K-St.y)/(Nt.y-St.y)),K)._round():Nt.y<K&&(Nt=new t(St.x+(Nt.x-St.x)*((K-St.y)/(Nt.y-St.y)),K)._round()),St.x>=ue&&Nt.x>=ue||(St.x>=ue?St=new t(ue,St.y+(Nt.y-St.y)*((ue-St.x)/(Nt.x-St.x)))._round():Nt.x>=ue&&(Nt=new t(ue,St.y+(Nt.y-St.y)*((ue-St.x)/(Nt.x-St.x)))._round()),St.y>=Ae&&Nt.y>=Ae||(St.y>=Ae?St=new t(St.x+(Nt.x-St.x)*((Ae-St.y)/(Nt.y-St.y)),Ae)._round():Nt.y>=Ae&&(Nt=new t(St.x+(Nt.x-St.x)*((Ae-St.y)/(Nt.y-St.y)),Ae)._round()),ct&&St.equals(ct[ct.length-1])||(ct=[St],Pe.push(ct)),ct.push(Nt)))))}return Pe}var tc=Bo;function A0(M,R,K,ue){var Ae=[],Pe=M.image,je=Pe.pixelRatio,$e=Pe.paddedRect.w-2*tc,ct=Pe.paddedRect.h-2*tc,wt=M.right-M.left,St=M.bottom-M.top,Nt=Pe.stretchX||[[0,$e]],Gt=Pe.stretchY||[[0,ct]],Ut=function(xi,Ii){return xi+Ii[1]-Ii[0]},sn=Nt.reduce(Ut,0),cn=Gt.reduce(Ut,0),An=$e-sn,wn=ct-cn,Bn=0,Un=sn,Yn=0,Jn=cn,lr=0,br=An,yr=0,kr=wn;if(Pe.content&&ue){var Mr=Pe.content;Bn=Uf(Nt,0,Mr[0]),Yn=Uf(Gt,0,Mr[1]),Un=Uf(Nt,Mr[0],Mr[2]),Jn=Uf(Gt,Mr[1],Mr[3]),lr=Mr[0]-Bn,yr=Mr[1]-Yn,br=Mr[2]-Mr[0]-Un,kr=Mr[3]-Mr[1]-Jn}var jr=function(xi,Ii,Fi,Bi){var Mi=Vf(xi.stretch-Bn,Un,wt,M.left),ga=Hf(xi.fixed-lr,br,xi.stretch,sn),Wi=Vf(Ii.stretch-Yn,Jn,St,M.top),Ea=Hf(Ii.fixed-yr,kr,Ii.stretch,cn),Ha=Vf(Fi.stretch-Bn,Un,wt,M.left),Da=Hf(Fi.fixed-lr,br,Fi.stretch,sn),co=Vf(Bi.stretch-Yn,Jn,St,M.top),za=Hf(Bi.fixed-yr,kr,Bi.stretch,cn),xa=new t(Mi,Wi),Fa=new t(Ha,Wi),La=new t(Ha,co),ba=new t(Mi,co),qr=new t(ga/je,Ea/je),ri=new t(Da/je,za/je),ta=R*Math.PI/180;if(ta){var ki=Math.sin(ta),Xi=Math.cos(ta),Ui=[Xi,-ki,ki,Xi];xa._matMult(Ui),Fa._matMult(Ui),ba._matMult(Ui),La._matMult(Ui)}var li=xi.stretch+xi.fixed,na=Fi.stretch+Fi.fixed,fo=Ii.stretch+Ii.fixed,jo=Bi.stretch+Bi.fixed;return{tl:xa,tr:Fa,bl:ba,br:La,tex:{x:Pe.paddedRect.x+tc+li,y:Pe.paddedRect.y+tc+fo,w:na-li,h:jo-fo},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:qr,pixelOffsetBR:ri,minFontScaleX:br/je/wt,minFontScaleY:kr/je/St,isSDF:K}};if(ue&&(Pe.stretchX||Pe.stretchY))for(var Ir=M0(Nt,An,sn),Nr=M0(Gt,wn,cn),Dr=0;Dr<Ir.length-1;Dr++)for(var Or=Ir[Dr],ei=Ir[Dr+1],Hr=0;Hr<Nr.length-1;Hr++){var Ai=Nr[Hr],Fr=Nr[Hr+1];Ae.push(jr(Or,Ai,ei,Fr))}else Ae.push(jr({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:$e+1},{fixed:0,stretch:ct+1}));return Ae}function Uf(M,R,K){for(var ue=0,Ae=0,Pe=M;Ae<Pe.length;Ae+=1){var je=Pe[Ae];ue+=Math.max(R,Math.min(K,je[1]))-Math.max(R,Math.min(K,je[0]))}return ue}function M0(M,R,K){for(var ue=[{fixed:-tc,stretch:0}],Ae=0,Pe=M;Ae<Pe.length;Ae+=1){var je=Pe[Ae],$e=je[0],ct=je[1],wt=ue[ue.length-1];ue.push({fixed:$e-wt.stretch,stretch:wt.stretch}),ue.push({fixed:$e-wt.stretch,stretch:wt.stretch+(ct-$e)})}return ue.push({fixed:R+tc,stretch:K}),ue}function Vf(M,R,K,ue){return M/R*K+ue}function Hf(M,R,K,ue){return M-R*K/ue}var qf=function(M,R,K,ue,Ae,Pe,je,$e,ct,wt){if(this.boxStartIndex=M.length,ct){var St=Pe.top,Nt=Pe.bottom,Gt=Pe.collisionPadding;Gt&&(St-=Gt[1],Nt+=Gt[3]);var Ut=Nt-St;Ut>0&&(Ut=Math.max(10,Ut),this.circleDiameter=Ut)}else{var sn=Pe.top*je-$e,cn=Pe.bottom*je+$e,An=Pe.left*je-$e,wn=Pe.right*je+$e,Bn=Pe.collisionPadding;if(Bn&&(An-=Bn[0]*je,sn-=Bn[1]*je,wn+=Bn[2]*je,cn+=Bn[3]*je),wt){var Un=new t(An,sn),Yn=new t(wn,sn),Jn=new t(An,cn),lr=new t(wn,cn),br=wt*Math.PI/180;Un._rotate(br),Yn._rotate(br),Jn._rotate(br),lr._rotate(br),An=Math.min(Un.x,Yn.x,Jn.x,lr.x),wn=Math.max(Un.x,Yn.x,Jn.x,lr.x),sn=Math.min(Un.y,Yn.y,Jn.y,lr.y),cn=Math.max(Un.y,Yn.y,Jn.y,lr.y)}M.emplaceBack(R.x,R.y,An,sn,wn,cn,K,ue,Ae)}this.boxEndIndex=M.length},nc=function(M,R){if(M===void 0&&(M=[]),R===void 0&&(R=jm),this.data=M,this.length=this.data.length,this.compare=R,this.length>0)for(var K=(this.length>>1)-1;K>=0;K--)this._down(K)};function jm(M,R){return M<R?-1:M>R?1:0}function Um(M,R,K){R===void 0&&(R=1),K===void 0&&(K=!1);for(var ue=1/0,Ae=1/0,Pe=-1/0,je=-1/0,$e=M[0],ct=0;ct<$e.length;ct++){var wt=$e[ct];(!ct||wt.x<ue)&&(ue=wt.x),(!ct||wt.y<Ae)&&(Ae=wt.y),(!ct||wt.x>Pe)&&(Pe=wt.x),(!ct||wt.y>je)&&(je=wt.y)}var St=Pe-ue,Nt=je-Ae,Gt=Math.min(St,Nt),Ut=Gt/2,sn=new nc([],Vm);if(Gt===0)return new t(ue,Ae);for(var cn=ue;cn<Pe;cn+=Gt)for(var An=Ae;An<je;An+=Gt)sn.push(new rc(cn+Ut,An+Ut,Ut,M));for(var wn=function(Yn){for(var Jn=0,lr=0,br=0,yr=Yn[0],kr=0,Mr=yr.length,jr=Mr-1;kr<Mr;jr=kr++){var Ir=yr[kr],Nr=yr[jr],Dr=Ir.x*Nr.y-Nr.x*Ir.y;lr+=(Ir.x+Nr.x)*Dr,br+=(Ir.y+Nr.y)*Dr,Jn+=3*Dr}return new rc(lr/Jn,br/Jn,0,Yn)}(M),Bn=sn.length;sn.length;){var Un=sn.pop();(Un.d>wn.d||!wn.d)&&(wn=Un,K&&console.log("found best %d after %d probes",Math.round(1e4*Un.d)/1e4,Bn)),Un.max-wn.d<=R||(Ut=Un.h/2,sn.push(new rc(Un.p.x-Ut,Un.p.y-Ut,Ut,M)),sn.push(new rc(Un.p.x+Ut,Un.p.y-Ut,Ut,M)),sn.push(new rc(Un.p.x-Ut,Un.p.y+Ut,Ut,M)),sn.push(new rc(Un.p.x+Ut,Un.p.y+Ut,Ut,M)),Bn+=4)}return K&&(console.log("num probes: "+Bn),console.log("best distance: "+wn.d)),wn.p}function Vm(M,R){return R.max-M.max}function rc(M,R,K,ue){this.p=new t(M,R),this.h=K,this.d=function(Ae,Pe){for(var je=!1,$e=1/0,ct=0;ct<Pe.length;ct++)for(var wt=Pe[ct],St=0,Nt=wt.length,Gt=Nt-1;St<Nt;Gt=St++){var Ut=wt[St],sn=wt[Gt];Ut.y>Ae.y!=sn.y>Ae.y&&Ae.x<(sn.x-Ut.x)*(Ae.y-Ut.y)/(sn.y-Ut.y)+Ut.x&&(je=!je),$e=Math.min($e,Mf(Ae,Ut,sn))}return(je?1:-1)*Math.sqrt($e)}(this.p,ue),this.max=this.d+this.h*Math.SQRT2}nc.prototype.push=function(M){this.data.push(M),this.length++,this._up(this.length-1)},nc.prototype.pop=function(){if(this.length!==0){var M=this.data[0],R=this.data.pop();return this.length--,this.length>0&&(this.data[0]=R,this._down(0)),M}},nc.prototype.peek=function(){return this.data[0]},nc.prototype._up=function(M){for(var R=this.data,K=this.compare,ue=R[M];M>0;){var Ae=M-1>>1,Pe=R[Ae];if(K(ue,Pe)>=0)break;R[M]=Pe,M=Ae}R[M]=ue},nc.prototype._down=function(M){for(var R=this.data,K=this.compare,ue=this.length>>1,Ae=R[M];M<ue;){var Pe=1+(M<<1),je=R[Pe],$e=Pe+1;if($e<this.length&&K(R[$e],je)<0&&(Pe=$e,je=R[$e]),K(je,Ae)>=0)break;R[M]=je,M=Pe}R[M]=Ae};var ic=7,cp=Number.POSITIVE_INFINITY;function S0(M,R){return R[1]!==cp?function(K,ue,Ae){var Pe=0,je=0;switch(ue=Math.abs(ue),Ae=Math.abs(Ae),K){case"top-right":case"top-left":case"top":je=Ae-ic;break;case"bottom-right":case"bottom-left":case"bottom":je=-Ae+ic}switch(K){case"top-right":case"bottom-right":case"right":Pe=-ue;break;case"top-left":case"bottom-left":case"left":Pe=ue}return[Pe,je]}(M,R[0],R[1]):function(K,ue){var Ae=0,Pe=0;ue<0&&(ue=0);var je=ue/Math.sqrt(2);switch(K){case"top-right":case"top-left":Pe=je-ic;break;case"bottom-right":case"bottom-left":Pe=-je+ic;break;case"bottom":Pe=-ue+ic;break;case"top":Pe=ue-ic}switch(K){case"top-right":case"bottom-right":Ae=-je;break;case"top-left":case"bottom-left":Ae=je;break;case"left":Ae=ue;break;case"right":Ae=-ue}return[Ae,Pe]}(M,R[0])}function fp(M){switch(M){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var Wc=255,lu=Wc*ol;function E0(M,R,K,ue,Ae,Pe,je,$e,ct,wt,St,Nt,Gt,Ut,sn){var cn=function(Yn,Jn,lr,br,yr,kr,Mr,jr){for(var Ir=br.layout.get("text-rotate").evaluate(kr,{})*Math.PI/180,Nr=[],Dr=0,Or=Jn.positionedLines;Dr<Or.length;Dr+=1)for(var ei=Or[Dr],Hr=0,Ai=ei.positionedGlyphs;Hr<Ai.length;Hr+=1){var Fr=Ai[Hr];if(Fr.rect){var xi=Fr.rect||{},Ii=c0+1,Fi=!0,Bi=1,Mi=0,ga=(yr||jr)&&Fr.vertical,Wi=Fr.metrics.advance*Fr.scale/2;if(jr&&Jn.verticalizable){var Ea=(Fr.scale-1)*Ra,Ha=(Ra-Fr.metrics.width*Fr.scale)/2;Mi=ei.lineOffset/2-(Fr.imageName?-Ha:Ea)}if(Fr.imageName){var Da=Mr[Fr.imageName];Fi=Da.sdf,Bi=Da.pixelRatio,Ii=Bo/Bi}var co=yr?[Fr.x+Wi,Fr.y]:[0,0],za=yr?[0,0]:[Fr.x+Wi+lr[0],Fr.y+lr[1]-Mi],xa=[0,0];ga&&(xa=za,za=[0,0]);var Fa=(Fr.metrics.left-Ii)*Fr.scale-Wi+za[0],La=(-Fr.metrics.top-Ii)*Fr.scale+za[1],ba=Fa+xi.w*Fr.scale/Bi,qr=La+xi.h*Fr.scale/Bi,ri=new t(Fa,La),ta=new t(ba,La),ki=new t(Fa,qr),Xi=new t(ba,qr);if(ga){var Ui=new t(-Wi,Wi-Gc),li=-Math.PI/2,na=Ra/2-Wi,fo=Fr.imageName?na:0,jo=new t(5-Gc-na,-fo),Ja=new(Function.prototype.bind.apply(t,[null].concat(xa)));ri._rotateAround(li,Ui)._add(jo)._add(Ja),ta._rotateAround(li,Ui)._add(jo)._add(Ja),ki._rotateAround(li,Ui)._add(jo)._add(Ja),Xi._rotateAround(li,Ui)._add(jo)._add(Ja)}if(Ir){var sl=Math.sin(Ir),Gl=Math.cos(Ir),Ca=[Gl,-sl,sl,Gl];ri._matMult(Ca),ta._matMult(Ca),ki._matMult(Ca),Xi._matMult(Ca)}var ll=new t(0,0),Us=new t(0,0);Nr.push({tl:ri,tr:ta,bl:ki,br:Xi,tex:xi,writingMode:Jn.writingMode,glyphOffset:co,sectionIndex:Fr.sectionIndex,isSDF:Fi,pixelOffsetTL:ll,pixelOffsetBR:Us,minFontScaleX:0,minFontScaleY:0})}}return Nr}(0,K,$e,Ae,Pe,je,ue,M.allowVerticalPlacement),An=M.textSizeData,wn=null;An.kind==="source"?(wn=[ol*Ae.layout.get("text-size").evaluate(je,{})])[0]>lu&&E(M.layerIds[0]+': Value for "text-size" is >= '+Wc+'. Reduce your "text-size".'):An.kind==="composite"&&((wn=[ol*Ut.compositeTextSizes[0].evaluate(je,{},sn),ol*Ut.compositeTextSizes[1].evaluate(je,{},sn)])[0]>lu||wn[1]>lu)&&E(M.layerIds[0]+': Value for "text-size" is >= '+Wc+'. Reduce your "text-size".'),M.addSymbols(M.text,cn,wn,$e,Pe,je,wt,R,ct.lineStartIndex,ct.lineLength,Gt,sn);for(var Bn=0,Un=St;Bn<Un.length;Bn+=1)Nt[Un[Bn]]=M.text.placedSymbolArray.length-1;return 4*cn.length}function L0(M){for(var R in M)return M[R];return null}function Hm(M,R,K,ue){var Ae=M.compareText;if(R in Ae){for(var Pe=Ae[R],je=Pe.length-1;je>=0;je--)if(ue.dist(Pe[je])<K)return!0}else Ae[R]=[];return Ae[R].push(ue),!1}var qm=Ku.VectorTileFeature.types,Gm=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Gf(M,R,K,ue,Ae,Pe,je,$e,ct,wt,St,Nt,Gt){var Ut=$e?Math.min(lu,Math.round($e[0])):0,sn=$e?Math.min(lu,Math.round($e[1])):0;M.emplaceBack(R,K,Math.round(32*ue),Math.round(32*Ae),Pe,je,(Ut<<1)+(ct?1:0),sn,16*wt,16*St,256*Nt,256*Gt)}function hp(M,R,K){M.emplaceBack(R.x,R.y,K),M.emplaceBack(R.x,R.y,K),M.emplaceBack(R.x,R.y,K),M.emplaceBack(R.x,R.y,K)}function Wm(M){for(var R=0,K=M.sections;R<K.length;R+=1)if(ma(K[R].text))return!0;return!1}var ac=function(M){this.layoutVertexArray=new W,this.indexArray=new ye,this.programConfigurations=M,this.segments=new Wn,this.dynamicLayoutVertexArray=new q,this.opacityVertexArray=new L,this.placedSymbolArray=new Dt};ac.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},ac.prototype.upload=function(M,R,K,ue){this.isEmpty()||(K&&(this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,ym.members),this.indexBuffer=M.createIndexBuffer(this.indexArray,R),this.dynamicLayoutVertexBuffer=M.createVertexBuffer(this.dynamicLayoutVertexArray,xm.members,!0),this.opacityVertexBuffer=M.createVertexBuffer(this.opacityVertexArray,Gm,!0),this.opacityVertexBuffer.itemSize=1),(K||ue)&&this.programConfigurations.upload(M))},ac.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Er("SymbolBuffers",ac);var Yc=function(M,R,K){this.layoutVertexArray=new M,this.layoutAttributes=R,this.indexArray=new K,this.segments=new Wn,this.collisionVertexArray=new fe};Yc.prototype.upload=function(M){this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=M.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=M.createVertexBuffer(this.collisionVertexArray,bm.members,!0)},Yc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Er("CollisionBuffers",Yc);var yi=function(M){this.collisionBoxArray=M.collisionBoxArray,this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(je){return je.id}),this.index=M.index,this.pixelRatio=M.pixelRatio,this.sourceLayerIndex=M.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Zh([]),this.placementViewportMatrix=Zh([]);var R=this.layers[0]._unevaluatedLayout._values;this.textSizeData=up(this.zoom,R["text-size"]),this.iconSizeData=up(this.zoom,R["icon-size"]);var K=this.layers[0].layout,ue=K.get("symbol-sort-key"),Ae=K.get("symbol-z-order");this.canOverlap=K.get("text-allow-overlap")||K.get("icon-allow-overlap")||K.get("text-ignore-placement")||K.get("icon-ignore-placement"),this.sortFeaturesByKey=Ae!=="viewport-y"&&ue.constantOr(1)!==void 0;var Pe=Ae==="viewport-y"||Ae==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Pe&&this.canOverlap,K.get("symbol-placement")==="point"&&(this.writingModes=K.get("text-writing-mode").map(function(je){return as[je]})),this.stateDependentLayerIds=this.layers.filter(function(je){return je.isStateDependent()}).map(function(je){return je.id}),this.sourceID=M.sourceID};yi.prototype.createArrays=function(){this.text=new ac(new Zi(this.layers,this.zoom,function(M){return/^text/.test(M)})),this.icon=new ac(new Zi(this.layers,this.zoom,function(M){return/^icon/.test(M)})),this.glyphOffsetArray=new Vt,this.lineVertexArray=new gn,this.symbolInstances=new Yt},yi.prototype.calculateGlyphDependencies=function(M,R,K,ue,Ae){for(var Pe=0;Pe<M.length;Pe++)if(R[M.charCodeAt(Pe)]=!0,(K||ue)&&Ae){var je=Vc[M.charAt(Pe)];je&&(R[je.charCodeAt(0)]=!0)}},yi.prototype.populate=function(M,R,K){var ue=this.layers[0],Ae=ue.layout,Pe=Ae.get("text-font"),je=Ae.get("text-field"),$e=Ae.get("icon-image"),ct=(je.value.kind!=="constant"||je.value.value instanceof jn&&!je.value.value.isEmpty()||je.value.value.toString().length>0)&&(Pe.value.kind!=="constant"||Pe.value.value.length>0),wt=$e.value.kind!=="constant"||!!$e.value.value||Object.keys($e.parameters).length>0,St=Ae.get("symbol-sort-key");if(this.features=[],ct||wt){for(var Nt=R.iconDependencies,Gt=R.glyphDependencies,Ut=R.availableImages,sn=new Zr(this.zoom),cn=0,An=M;cn<An.length;cn+=1){var wn=An[cn],Bn=wn.feature,Un=wn.id,Yn=wn.index,Jn=wn.sourceLayerIndex,lr=ue._featureFilter.needGeometry,br=Pi(Bn,lr);if(ue._featureFilter.filter(sn,br,K)){lr||(br.geometry=Fo(Bn));var yr=void 0;if(ct){var kr=ue.getValueAndResolveTokens("text-field",br,K,Ut),Mr=jn.factory(kr);Wm(Mr)&&(this.hasRTLText=!0),(!this.hasRTLText||Ds()==="unavailable"||this.hasRTLText&&Ma.isParsed())&&(yr=wm(Mr,ue,br))}var jr=void 0;if(wt){var Ir=ue.getValueAndResolveTokens("icon-image",br,K,Ut);jr=Ir instanceof ar?Ir:ar.fromString(Ir)}if(yr||jr){var Nr=this.sortFeaturesByKey?St.evaluate(br,{},K):void 0,Dr={id:Un,text:yr,icon:jr,index:Yn,sourceLayerIndex:Jn,geometry:br.geometry,properties:Bn.properties,type:qm[Bn.type],sortKey:Nr};if(this.features.push(Dr),jr&&(Nt[jr.name]=!0),yr){var Or=Pe.evaluate(br,{},K).join(","),ei=Ae.get("text-rotation-alignment")==="map"&&Ae.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(as.vertical)>=0;for(var Hr=0,Ai=yr.sections;Hr<Ai.length;Hr+=1){var Fr=Ai[Hr];if(Fr.image)Nt[Fr.image.name]=!0;else{var xi=tl(yr.toString()),Ii=Fr.fontStack||Or,Fi=Gt[Ii]=Gt[Ii]||{};this.calculateGlyphDependencies(Fr.text,Fi,ei,this.allowVerticalPlacement,xi)}}}}}}Ae.get("symbol-placement")==="line"&&(this.features=function(Bi){var Mi={},ga={},Wi=[],Ea=0;function Ha(Xi){Wi.push(Bi[Xi]),Ea++}function Da(Xi,Ui,li){var na=ga[Xi];return delete ga[Xi],ga[Ui]=na,Wi[na].geometry[0].pop(),Wi[na].geometry[0]=Wi[na].geometry[0].concat(li[0]),na}function co(Xi,Ui,li){var na=Mi[Ui];return delete Mi[Ui],Mi[Xi]=na,Wi[na].geometry[0].shift(),Wi[na].geometry[0]=li[0].concat(Wi[na].geometry[0]),na}function za(Xi,Ui,li){var na=li?Ui[0][Ui[0].length-1]:Ui[0][0];return Xi+":"+na.x+":"+na.y}for(var xa=0;xa<Bi.length;xa++){var Fa=Bi[xa],La=Fa.geometry,ba=Fa.text?Fa.text.toString():null;if(ba){var qr=za(ba,La),ri=za(ba,La,!0);if(qr in ga&&ri in Mi&&ga[qr]!==Mi[ri]){var ta=co(qr,ri,La),ki=Da(qr,ri,Wi[ta].geometry);delete Mi[qr],delete ga[ri],ga[za(ba,Wi[ki].geometry,!0)]=ki,Wi[ta].geometry=null}else qr in ga?Da(qr,ri,La):ri in Mi?co(qr,ri,La):(Ha(xa),Mi[qr]=Ea-1,ga[ri]=Ea-1)}else Ha(xa)}return Wi.filter(function(Xi){return Xi.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Bi,Mi){return Bi.sortKey-Mi.sortKey})}},yi.prototype.update=function(M,R,K){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(M,R,this.layers,K),this.icon.programConfigurations.updatePaintArrays(M,R,this.layers,K))},yi.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},yi.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},yi.prototype.upload=function(M){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(M),this.iconCollisionBox.upload(M)),this.text.upload(M,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(M,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},yi.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},yi.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},yi.prototype.addToLineVertexArray=function(M,R){var K=this.lineVertexArray.length;if(M.segment!==void 0){for(var ue=M.dist(R[M.segment+1]),Ae=M.dist(R[M.segment]),Pe={},je=M.segment+1;je<R.length;je++)Pe[je]={x:R[je].x,y:R[je].y,tileUnitDistanceFromAnchor:ue},je<R.length-1&&(ue+=R[je+1].dist(R[je]));for(var $e=M.segment||0;$e>=0;$e--)Pe[$e]={x:R[$e].x,y:R[$e].y,tileUnitDistanceFromAnchor:Ae},$e>0&&(Ae+=R[$e-1].dist(R[$e]));for(var ct=0;ct<R.length;ct++){var wt=Pe[ct];this.lineVertexArray.emplaceBack(wt.x,wt.y,wt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:K,lineLength:this.lineVertexArray.length-K}},yi.prototype.addSymbols=function(M,R,K,ue,Ae,Pe,je,$e,ct,wt,St,Nt){for(var Gt=M.indexArray,Ut=M.layoutVertexArray,sn=M.segments.prepareSegment(4*R.length,Ut,Gt,this.canOverlap?Pe.sortKey:void 0),cn=this.glyphOffsetArray.length,An=sn.vertexLength,wn=this.allowVerticalPlacement&&je===as.vertical?Math.PI/2:0,Bn=Pe.text&&Pe.text.sections,Un=0;Un<R.length;Un++){var Yn=R[Un],Jn=Yn.tl,lr=Yn.tr,br=Yn.bl,yr=Yn.br,kr=Yn.tex,Mr=Yn.pixelOffsetTL,jr=Yn.pixelOffsetBR,Ir=Yn.minFontScaleX,Nr=Yn.minFontScaleY,Dr=Yn.glyphOffset,Or=Yn.isSDF,ei=Yn.sectionIndex,Hr=sn.vertexLength,Ai=Dr[1];Gf(Ut,$e.x,$e.y,Jn.x,Ai+Jn.y,kr.x,kr.y,K,Or,Mr.x,Mr.y,Ir,Nr),Gf(Ut,$e.x,$e.y,lr.x,Ai+lr.y,kr.x+kr.w,kr.y,K,Or,jr.x,Mr.y,Ir,Nr),Gf(Ut,$e.x,$e.y,br.x,Ai+br.y,kr.x,kr.y+kr.h,K,Or,Mr.x,jr.y,Ir,Nr),Gf(Ut,$e.x,$e.y,yr.x,Ai+yr.y,kr.x+kr.w,kr.y+kr.h,K,Or,jr.x,jr.y,Ir,Nr),hp(M.dynamicLayoutVertexArray,$e,wn),Gt.emplaceBack(Hr,Hr+1,Hr+2),Gt.emplaceBack(Hr+1,Hr+2,Hr+3),sn.vertexLength+=4,sn.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Dr[0]),Un!==R.length-1&&ei===R[Un+1].sectionIndex||M.programConfigurations.populatePaintArrays(Ut.length,Pe,Pe.index,{},Nt,Bn&&Bn[ei])}M.placedSymbolArray.emplaceBack($e.x,$e.y,cn,this.glyphOffsetArray.length-cn,An,ct,wt,$e.segment,K?K[0]:0,K?K[1]:0,ue[0],ue[1],je,0,!1,0,St)},yi.prototype._addCollisionDebugVertex=function(M,R,K,ue,Ae,Pe){return R.emplaceBack(0,0),M.emplaceBack(K.x,K.y,ue,Ae,Math.round(Pe.x),Math.round(Pe.y))},yi.prototype.addCollisionDebugVertices=function(M,R,K,ue,Ae,Pe,je){var $e=Ae.segments.prepareSegment(4,Ae.layoutVertexArray,Ae.indexArray),ct=$e.vertexLength,wt=Ae.layoutVertexArray,St=Ae.collisionVertexArray,Nt=je.anchorX,Gt=je.anchorY;this._addCollisionDebugVertex(wt,St,Pe,Nt,Gt,new t(M,R)),this._addCollisionDebugVertex(wt,St,Pe,Nt,Gt,new t(K,R)),this._addCollisionDebugVertex(wt,St,Pe,Nt,Gt,new t(K,ue)),this._addCollisionDebugVertex(wt,St,Pe,Nt,Gt,new t(M,ue)),$e.vertexLength+=4;var Ut=Ae.indexArray;Ut.emplaceBack(ct,ct+1),Ut.emplaceBack(ct+1,ct+2),Ut.emplaceBack(ct+2,ct+3),Ut.emplaceBack(ct+3,ct),$e.primitiveLength+=4},yi.prototype.addDebugCollisionBoxes=function(M,R,K,ue){for(var Ae=M;Ae<R;Ae++){var Pe=this.collisionBoxArray.get(Ae),je=Pe.x1,$e=Pe.y1,ct=Pe.x2,wt=Pe.y2;this.addCollisionDebugVertices(je,$e,ct,wt,ue?this.textCollisionBox:this.iconCollisionBox,Pe.anchorPoint,K)}},yi.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Yc(ee,r0.members,ft),this.iconCollisionBox=new Yc(ee,r0.members,ft);for(var M=0;M<this.symbolInstances.length;M++){var R=this.symbolInstances.get(M);this.addDebugCollisionBoxes(R.textBoxStartIndex,R.textBoxEndIndex,R,!0),this.addDebugCollisionBoxes(R.verticalTextBoxStartIndex,R.verticalTextBoxEndIndex,R,!0),this.addDebugCollisionBoxes(R.iconBoxStartIndex,R.iconBoxEndIndex,R,!1),this.addDebugCollisionBoxes(R.verticalIconBoxStartIndex,R.verticalIconBoxEndIndex,R,!1)}},yi.prototype._deserializeCollisionBoxesForSymbol=function(M,R,K,ue,Ae,Pe,je,$e,ct){for(var wt={},St=R;St<K;St++){var Nt=M.get(St);wt.textBox={x1:Nt.x1,y1:Nt.y1,x2:Nt.x2,y2:Nt.y2,anchorPointX:Nt.anchorPointX,anchorPointY:Nt.anchorPointY},wt.textFeatureIndex=Nt.featureIndex;break}for(var Gt=ue;Gt<Ae;Gt++){var Ut=M.get(Gt);wt.verticalTextBox={x1:Ut.x1,y1:Ut.y1,x2:Ut.x2,y2:Ut.y2,anchorPointX:Ut.anchorPointX,anchorPointY:Ut.anchorPointY},wt.verticalTextFeatureIndex=Ut.featureIndex;break}for(var sn=Pe;sn<je;sn++){var cn=M.get(sn);wt.iconBox={x1:cn.x1,y1:cn.y1,x2:cn.x2,y2:cn.y2,anchorPointX:cn.anchorPointX,anchorPointY:cn.anchorPointY},wt.iconFeatureIndex=cn.featureIndex;break}for(var An=$e;An<ct;An++){var wn=M.get(An);wt.verticalIconBox={x1:wn.x1,y1:wn.y1,x2:wn.x2,y2:wn.y2,anchorPointX:wn.anchorPointX,anchorPointY:wn.anchorPointY},wt.verticalIconFeatureIndex=wn.featureIndex;break}return wt},yi.prototype.deserializeCollisionBoxes=function(M){this.collisionArrays=[];for(var R=0;R<this.symbolInstances.length;R++){var K=this.symbolInstances.get(R);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(M,K.textBoxStartIndex,K.textBoxEndIndex,K.verticalTextBoxStartIndex,K.verticalTextBoxEndIndex,K.iconBoxStartIndex,K.iconBoxEndIndex,K.verticalIconBoxStartIndex,K.verticalIconBoxEndIndex))}},yi.prototype.hasTextData=function(){return this.text.segments.get().length>0},yi.prototype.hasIconData=function(){return this.icon.segments.get().length>0},yi.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},yi.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},yi.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},yi.prototype.addIndicesForPlacedSymbol=function(M,R){for(var K=M.placedSymbolArray.get(R),ue=K.vertexStartIndex+4*K.numGlyphs,Ae=K.vertexStartIndex;Ae<ue;Ae+=4)M.indexArray.emplaceBack(Ae,Ae+1,Ae+2),M.indexArray.emplaceBack(Ae+1,Ae+2,Ae+3)},yi.prototype.getSortedSymbolIndexes=function(M){if(this.sortedAngle===M&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var R=Math.sin(M),K=Math.cos(M),ue=[],Ae=[],Pe=[],je=0;je<this.symbolInstances.length;++je){Pe.push(je);var $e=this.symbolInstances.get(je);ue.push(0|Math.round(R*$e.anchorX+K*$e.anchorY)),Ae.push($e.featureIndex)}return Pe.sort(function(ct,wt){return ue[ct]-ue[wt]||Ae[wt]-Ae[ct]}),Pe},yi.prototype.addToSortKeyRanges=function(M,R){var K=this.sortKeyRanges[this.sortKeyRanges.length-1];K&&K.sortKey===R?K.symbolInstanceEnd=M+1:this.sortKeyRanges.push({sortKey:R,symbolInstanceStart:M,symbolInstanceEnd:M+1})},yi.prototype.sortFeatures=function(M){var R=this;if(this.sortFeaturesByY&&this.sortedAngle!==M&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(M),this.sortedAngle=M,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var K=0,ue=this.symbolInstanceIndexes;K<ue.length;K+=1){var Ae=ue[K],Pe=this.symbolInstances.get(Ae);this.featureSortOrder.push(Pe.featureIndex),[Pe.rightJustifiedTextSymbolIndex,Pe.centerJustifiedTextSymbolIndex,Pe.leftJustifiedTextSymbolIndex].forEach(function(je,$e,ct){je>=0&&ct.indexOf(je)===$e&&R.addIndicesForPlacedSymbol(R.text,je)}),Pe.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Pe.verticalPlacedTextSymbolIndex),Pe.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Pe.placedIconSymbolIndex),Pe.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Pe.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Er("SymbolBucket",yi,{omit:["layers","collisionBoxArray","features","compareText"]}),yi.MAX_GLYPHS=65535,yi.addDynamicAttributes=hp;var Ym=new Ni({"symbol-placement":new Cr(Xe.layout_symbol["symbol-placement"]),"symbol-spacing":new Cr(Xe.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Cr(Xe.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new zr(Xe.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Cr(Xe.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Cr(Xe.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Cr(Xe.layout_symbol["icon-ignore-placement"]),"icon-optional":new Cr(Xe.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Cr(Xe.layout_symbol["icon-rotation-alignment"]),"icon-size":new zr(Xe.layout_symbol["icon-size"]),"icon-text-fit":new Cr(Xe.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Cr(Xe.layout_symbol["icon-text-fit-padding"]),"icon-image":new zr(Xe.layout_symbol["icon-image"]),"icon-rotate":new zr(Xe.layout_symbol["icon-rotate"]),"icon-padding":new Cr(Xe.layout_symbol["icon-padding"]),"icon-keep-upright":new Cr(Xe.layout_symbol["icon-keep-upright"]),"icon-offset":new zr(Xe.layout_symbol["icon-offset"]),"icon-anchor":new zr(Xe.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Cr(Xe.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Cr(Xe.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Cr(Xe.layout_symbol["text-rotation-alignment"]),"text-field":new zr(Xe.layout_symbol["text-field"]),"text-font":new zr(Xe.layout_symbol["text-font"]),"text-size":new zr(Xe.layout_symbol["text-size"]),"text-max-width":new zr(Xe.layout_symbol["text-max-width"]),"text-line-height":new Cr(Xe.layout_symbol["text-line-height"]),"text-letter-spacing":new zr(Xe.layout_symbol["text-letter-spacing"]),"text-justify":new zr(Xe.layout_symbol["text-justify"]),"text-radial-offset":new zr(Xe.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Cr(Xe.layout_symbol["text-variable-anchor"]),"text-anchor":new zr(Xe.layout_symbol["text-anchor"]),"text-max-angle":new Cr(Xe.layout_symbol["text-max-angle"]),"text-writing-mode":new Cr(Xe.layout_symbol["text-writing-mode"]),"text-rotate":new zr(Xe.layout_symbol["text-rotate"]),"text-padding":new Cr(Xe.layout_symbol["text-padding"]),"text-keep-upright":new Cr(Xe.layout_symbol["text-keep-upright"]),"text-transform":new zr(Xe.layout_symbol["text-transform"]),"text-offset":new zr(Xe.layout_symbol["text-offset"]),"text-allow-overlap":new Cr(Xe.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Cr(Xe.layout_symbol["text-ignore-placement"]),"text-optional":new Cr(Xe.layout_symbol["text-optional"])}),pp={paint:new Ni({"icon-opacity":new zr(Xe.paint_symbol["icon-opacity"]),"icon-color":new zr(Xe.paint_symbol["icon-color"]),"icon-halo-color":new zr(Xe.paint_symbol["icon-halo-color"]),"icon-halo-width":new zr(Xe.paint_symbol["icon-halo-width"]),"icon-halo-blur":new zr(Xe.paint_symbol["icon-halo-blur"]),"icon-translate":new Cr(Xe.paint_symbol["icon-translate"]),"icon-translate-anchor":new Cr(Xe.paint_symbol["icon-translate-anchor"]),"text-opacity":new zr(Xe.paint_symbol["text-opacity"]),"text-color":new zr(Xe.paint_symbol["text-color"],{runtimeType:on,getOverride:function(M){return M.textColor},hasOverride:function(M){return!!M.textColor}}),"text-halo-color":new zr(Xe.paint_symbol["text-halo-color"]),"text-halo-width":new zr(Xe.paint_symbol["text-halo-width"]),"text-halo-blur":new zr(Xe.paint_symbol["text-halo-blur"]),"text-translate":new Cr(Xe.paint_symbol["text-translate"]),"text-translate-anchor":new Cr(Xe.paint_symbol["text-translate-anchor"])}),layout:Ym},oc=function(M){this.type=M.property.overrides?M.property.overrides.runtimeType:Pt,this.defaultValue=M};oc.prototype.evaluate=function(M){if(M.formattedSection){var R=this.defaultValue.property.overrides;if(R&&R.hasOverride(M.formattedSection))return R.getOverride(M.formattedSection)}return M.feature&&M.featureState?this.defaultValue.evaluate(M.feature,M.featureState):this.defaultValue.property.specification.default},oc.prototype.eachChild=function(M){this.defaultValue.isConstant()||M(this.defaultValue.value._styleExpression.expression)},oc.prototype.outputDefined=function(){return!1},oc.prototype.serialize=function(){return null},Er("FormatSectionOverride",oc,{omit:["defaultValue"]});var Zm=function(M){function R(K){M.call(this,K,pp)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.recalculate=function(K,ue){if(M.prototype.recalculate.call(this,K,ue),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Ae=this.layout.get("text-writing-mode");if(Ae){for(var Pe=[],je=0,$e=Ae;je<$e.length;je+=1){var ct=$e[je];Pe.indexOf(ct)<0&&Pe.push(ct)}this.layout._values["text-writing-mode"]=Pe}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},R.prototype.getValueAndResolveTokens=function(K,ue,Ae,Pe){var je=this.layout.get(K).evaluate(ue,{},Ae,Pe),$e=this._unevaluatedLayout._values[K];return $e.isDataDriven()||vs($e.value)||!je?je:function(ct,wt){return wt.replace(/{([^{}]+)}/g,function(St,Nt){return Nt in ct?String(ct[Nt]):""})}(ue.properties,je)},R.prototype.createBucket=function(K){return new yi(K)},R.prototype.queryRadius=function(){return 0},R.prototype.queryIntersectsFeature=function(){return!1},R.prototype._setPaintOverrides=function(){for(var K=0,ue=pp.paint.overridableProperties;K<ue.length;K+=1){var Ae=ue[K];if(R.hasPaintOverride(this.layout,Ae)){var Pe,je=this.paint.get(Ae),$e=new oc(je),ct=new Zo($e,je.property.specification);Pe=je.value.kind==="constant"||je.value.kind==="source"?new no("source",ct):new Cs("composite",ct,je.value.zoomStops,je.value._interpolationType),this.paint._values[Ae]=new vi(je.property,Pe,je.parameters)}}},R.prototype._handleOverridablePaintPropertyUpdate=function(K,ue,Ae){return!(!this.layout||ue.isDataDriven()||Ae.isDataDriven())&&R.hasPaintOverride(this.layout,K)},R.hasPaintOverride=function(K,ue){var Ae=K.get("text-field"),Pe=pp.paint.properties[ue],je=!1,$e=function(St){for(var Nt=0,Gt=St;Nt<Gt.length;Nt+=1){var Ut=Gt[Nt];if(Pe.overrides&&Pe.overrides.hasOverride(Ut))return void(je=!0)}};if(Ae.value.kind==="constant"&&Ae.value.value instanceof jn)$e(Ae.value.value.sections);else if(Ae.value.kind==="source"){var ct=function(St){if(!je)if(St instanceof Ht&&er(St.value)===En){var Nt=St.value;$e(Nt.sections)}else St instanceof Cn?$e(St.sections):St.eachChild(ct)},wt=Ae.value;wt._styleExpression&&ct(wt._styleExpression.expression)}return je},R}(si),Xm={paint:new Ni({"background-color":new Cr(Xe.paint_background["background-color"]),"background-pattern":new wo(Xe.paint_background["background-pattern"]),"background-opacity":new Cr(Xe.paint_background["background-opacity"])})},Km=function(M){function R(K){M.call(this,K,Xm)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R}(si),Jm={paint:new Ni({"raster-opacity":new Cr(Xe.paint_raster["raster-opacity"]),"raster-hue-rotate":new Cr(Xe.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Cr(Xe.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Cr(Xe.paint_raster["raster-brightness-max"]),"raster-saturation":new Cr(Xe.paint_raster["raster-saturation"]),"raster-contrast":new Cr(Xe.paint_raster["raster-contrast"]),"raster-resampling":new Cr(Xe.paint_raster["raster-resampling"]),"raster-fade-duration":new Cr(Xe.paint_raster["raster-fade-duration"])})},$m=function(M){function R(K){M.call(this,K,Jm)}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R}(si),Qm=function(M){function R(K){M.call(this,K,{}),this.implementation=K}return M&&(R.__proto__=M),R.prototype=Object.create(M&&M.prototype),R.prototype.constructor=R,R.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},R.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},R.prototype.recalculate=function(){},R.prototype.updateTransitions=function(){},R.prototype.hasTransition=function(){},R.prototype.serialize=function(){},R.prototype.onAdd=function(K){this.implementation.onAdd&&this.implementation.onAdd(K,K.painter.context.gl)},R.prototype.onRemove=function(K){this.implementation.onRemove&&this.implementation.onRemove(K,K.painter.context.gl)},R}(si),ey={circle:Rv,heatmap:zv,hillshade:Bv,fill:tm,"fill-extrusion":cm,line:mm,symbol:Zm,background:Km,raster:$m},C0=n.HTMLImageElement,P0=n.HTMLCanvasElement,O0=n.HTMLVideoElement,I0=n.ImageData,Wf=n.ImageBitmap,Eu=function(M,R,K,ue){this.context=M,this.format=K,this.texture=M.gl.createTexture(),this.update(R,ue)};Eu.prototype.update=function(M,R,K){var ue=M.width,Ae=M.height,Pe=!(this.size&&this.size[0]===ue&&this.size[1]===Ae||K),je=this.context,$e=je.gl;if(this.useMipmap=Boolean(R&&R.useMipmap),$e.bindTexture($e.TEXTURE_2D,this.texture),je.pixelStoreUnpackFlipY.set(!1),je.pixelStoreUnpack.set(1),je.pixelStoreUnpackPremultiplyAlpha.set(this.format===$e.RGBA&&(!R||R.premultiply!==!1)),Pe)this.size=[ue,Ae],M instanceof C0||M instanceof P0||M instanceof O0||M instanceof I0||Wf&&M instanceof Wf?$e.texImage2D($e.TEXTURE_2D,0,this.format,this.format,$e.UNSIGNED_BYTE,M):$e.texImage2D($e.TEXTURE_2D,0,this.format,ue,Ae,0,this.format,$e.UNSIGNED_BYTE,M.data);else{var ct=K||{x:0,y:0},wt=ct.x,St=ct.y;M instanceof C0||M instanceof P0||M instanceof O0||M instanceof I0||Wf&&M instanceof Wf?$e.texSubImage2D($e.TEXTURE_2D,0,wt,St,$e.RGBA,$e.UNSIGNED_BYTE,M):$e.texSubImage2D($e.TEXTURE_2D,0,wt,St,ue,Ae,$e.RGBA,$e.UNSIGNED_BYTE,M.data)}this.useMipmap&&this.isSizePowerOfTwo()&&$e.generateMipmap($e.TEXTURE_2D)},Eu.prototype.bind=function(M,R,K){var ue=this.context.gl;ue.bindTexture(ue.TEXTURE_2D,this.texture),K!==ue.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(K=ue.LINEAR),M!==this.filter&&(ue.texParameteri(ue.TEXTURE_2D,ue.TEXTURE_MAG_FILTER,M),ue.texParameteri(ue.TEXTURE_2D,ue.TEXTURE_MIN_FILTER,K||M),this.filter=M),R!==this.wrap&&(ue.texParameteri(ue.TEXTURE_2D,ue.TEXTURE_WRAP_S,R),ue.texParameteri(ue.TEXTURE_2D,ue.TEXTURE_WRAP_T,R),this.wrap=R)},Eu.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Eu.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var dp=function(M){var R=this;this._callback=M,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){R._triggered=!1,R._callback()})};dp.prototype.trigger=function(){var M=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){M._triggered=!1,M._callback()},0))},dp.prototype.remove=function(){delete this._channel,this._callback=function(){}};var sc=function(M,R,K){this.target=M,this.parent=R,this.mapId=K,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},y(["receive","process"],this),this.invoker=new dp(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=I()?M:n};function R0(M,R,K){var ue=2*Math.PI*6378137/256/Math.pow(2,K);return[M*ue-2*Math.PI*6378137/2,R*ue-2*Math.PI*6378137/2]}sc.prototype.send=function(M,R,K,ue,Ae){var Pe=this;Ae===void 0&&(Ae=!1);var je=Math.round(1e18*Math.random()).toString(36).substring(0,10);K&&(this.callbacks[je]=K);var $e=D(this.globalScope)?void 0:[];return this.target.postMessage({id:je,type:M,hasCallback:!!K,targetMapId:ue,mustQueue:Ae,sourceMapId:this.mapId,data:es(R,$e)},$e),{cancel:function(){K&&delete Pe.callbacks[je],Pe.target.postMessage({id:je,type:"<cancel>",targetMapId:ue,sourceMapId:Pe.mapId})}}},sc.prototype.receive=function(M){var R=M.data,K=R.id;if(K&&(!R.targetMapId||this.mapId===R.targetMapId))if(R.type==="<cancel>"){delete this.tasks[K];var ue=this.cancelCallbacks[K];delete this.cancelCallbacks[K],ue&&ue()}else I()||R.mustQueue?(this.tasks[K]=R,this.taskQueue.push(K),this.invoker.trigger()):this.processTask(K,R)},sc.prototype.process=function(){if(this.taskQueue.length){var M=this.taskQueue.shift(),R=this.tasks[M];delete this.tasks[M],this.taskQueue.length&&this.invoker.trigger(),R&&this.processTask(M,R)}},sc.prototype.processTask=function(M,R){var K=this;if(R.type==="<response>"){var ue=this.callbacks[M];delete this.callbacks[M],ue&&(R.error?ue(ws(R.error)):ue(null,ws(R.data)))}else{var Ae=!1,Pe=D(this.globalScope)?void 0:[],je=R.hasCallback?function(St,Nt){Ae=!0,delete K.cancelCallbacks[M],K.target.postMessage({id:M,type:"<response>",sourceMapId:K.mapId,error:St?es(St):null,data:es(Nt,Pe)},Pe)}:function(St){Ae=!0},$e=null,ct=ws(R.data);if(this.parent[R.type])$e=this.parent[R.type](R.sourceMapId,ct,je);else if(this.parent.getWorkerSource){var wt=R.type.split(".");$e=this.parent.getWorkerSource(R.sourceMapId,wt[0],ct.source)[wt[1]](ct,je)}else je(new Error("Could not find function "+R.type));!Ae&&$e&&$e.cancel&&(this.cancelCallbacks[M]=$e.cancel)}},sc.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var pa=function(M,R){M&&(R?this.setSouthWest(M).setNorthEast(R):M.length===4?this.setSouthWest([M[0],M[1]]).setNorthEast([M[2],M[3]]):this.setSouthWest(M[0]).setNorthEast(M[1]))};pa.prototype.setNorthEast=function(M){return this._ne=M instanceof ji?new ji(M.lng,M.lat):ji.convert(M),this},pa.prototype.setSouthWest=function(M){return this._sw=M instanceof ji?new ji(M.lng,M.lat):ji.convert(M),this},pa.prototype.extend=function(M){var R,K,ue=this._sw,Ae=this._ne;if(M instanceof ji)R=M,K=M;else{if(!(M instanceof pa)){if(Array.isArray(M)){if(M.length===4||M.every(Array.isArray)){var Pe=M;return this.extend(pa.convert(Pe))}var je=M;return this.extend(ji.convert(je))}return this}if(R=M._sw,K=M._ne,!R||!K)return this}return ue||Ae?(ue.lng=Math.min(R.lng,ue.lng),ue.lat=Math.min(R.lat,ue.lat),Ae.lng=Math.max(K.lng,Ae.lng),Ae.lat=Math.max(K.lat,Ae.lat)):(this._sw=new ji(R.lng,R.lat),this._ne=new ji(K.lng,K.lat)),this},pa.prototype.getCenter=function(){return new ji((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},pa.prototype.getSouthWest=function(){return this._sw},pa.prototype.getNorthEast=function(){return this._ne},pa.prototype.getNorthWest=function(){return new ji(this.getWest(),this.getNorth())},pa.prototype.getSouthEast=function(){return new ji(this.getEast(),this.getSouth())},pa.prototype.getWest=function(){return this._sw.lng},pa.prototype.getSouth=function(){return this._sw.lat},pa.prototype.getEast=function(){return this._ne.lng},pa.prototype.getNorth=function(){return this._ne.lat},pa.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},pa.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},pa.prototype.isEmpty=function(){return!(this._sw&&this._ne)},pa.prototype.contains=function(M){var R=ji.convert(M),K=R.lng,ue=R.lat,Ae=this._sw.lat<=ue&&ue<=this._ne.lat,Pe=this._sw.lng<=K&&K<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Pe=this._sw.lng>=K&&K>=this._ne.lng),Ae&&Pe},pa.convert=function(M){return!M||M instanceof pa?M:new pa(M)};var D0=63710088e-1,ji=function(M,R){if(isNaN(M)||isNaN(R))throw new Error("Invalid LngLat object: ("+M+", "+R+")");if(this.lng=+M,this.lat=+R,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};ji.prototype.wrap=function(){return new ji(d(this.lng,-180,180),this.lat)},ji.prototype.toArray=function(){return[this.lng,this.lat]},ji.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},ji.prototype.distanceTo=function(M){var R=Math.PI/180,K=this.lat*R,ue=M.lat*R,Ae=Math.sin(K)*Math.sin(ue)+Math.cos(K)*Math.cos(ue)*Math.cos((M.lng-this.lng)*R);return D0*Math.acos(Math.min(Ae,1))},ji.prototype.toBounds=function(M){M===void 0&&(M=0);var R=360*M/40075017,K=R/Math.cos(Math.PI/180*this.lat);return new pa(new ji(this.lng-K,this.lat-R),new ji(this.lng+K,this.lat+R))},ji.convert=function(M){if(M instanceof ji)return M;if(Array.isArray(M)&&(M.length===2||M.length===3))return new ji(Number(M[0]),Number(M[1]));if(!Array.isArray(M)&&typeof M=="object"&&M!==null)return new ji(Number("lng"in M?M.lng:M.lon),Number(M.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var z0=2*Math.PI*D0;function F0(M){return z0*Math.cos(M*Math.PI/180)}function B0(M){return(180+M)/360}function N0(M){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+M*Math.PI/360)))/360}function j0(M,R){return M/F0(R)}function gp(M){var R=180-360*M;return 360/Math.PI*Math.atan(Math.exp(R*Math.PI/180))-90}var Lu=function(M,R,K){K===void 0&&(K=0),this.x=+M,this.y=+R,this.z=+K};Lu.fromLngLat=function(M,R){R===void 0&&(R=0);var K=ji.convert(M);return new Lu(B0(K.lng),N0(K.lat),j0(R,K.lat))},Lu.prototype.toLngLat=function(){return new ji(360*this.x-180,gp(this.y))},Lu.prototype.toAltitude=function(){return M=this.z,R=this.y,M*F0(gp(R));var M,R},Lu.prototype.meterInMercatorCoordinateUnits=function(){return 1/z0*(M=gp(this.y),1/Math.cos(M*Math.PI/180));var M};var Cu=function(M,R,K){this.z=M,this.x=R,this.y=K,this.key=Zc(0,M,M,R,K)};Cu.prototype.equals=function(M){return this.z===M.z&&this.x===M.x&&this.y===M.y},Cu.prototype.url=function(M,R){var K,ue,Ae,Pe,je,$e=(K=this.x,ue=this.y,Ae=this.z,Pe=R0(256*K,256*(ue=Math.pow(2,Ae)-ue-1),Ae),je=R0(256*(K+1),256*(ue+1),Ae),Pe[0]+","+Pe[1]+","+je[0]+","+je[1]),ct=function(wt,St,Nt){for(var Gt,Ut="",sn=wt;sn>0;sn--)Ut+=(St&(Gt=1<<sn-1)?1:0)+(Nt&Gt?2:0);return Ut}(this.z,this.x,this.y);return M[(this.x+this.y)%M.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(R==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ct).replace("{bbox-epsg-3857}",$e)},Cu.prototype.getTilePoint=function(M){var R=Math.pow(2,this.z);return new t((M.x*R-this.x)*ni,(M.y*R-this.y)*ni)},Cu.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var U0=function(M,R){this.wrap=M,this.canonical=R,this.key=Zc(M,R.z,R.z,R.x,R.y)},da=function(M,R,K,ue,Ae){this.overscaledZ=M,this.wrap=R,this.canonical=new Cu(K,+ue,+Ae),this.key=Zc(R,M,K,ue,Ae)};function Zc(M,R,K,ue,Ae){(M*=2)<0&&(M=-1*M-1);var Pe=1<<K;return(Pe*Pe*M+Pe*Ae+ue).toString(36)+K.toString(36)+R.toString(36)}da.prototype.equals=function(M){return this.overscaledZ===M.overscaledZ&&this.wrap===M.wrap&&this.canonical.equals(M.canonical)},da.prototype.scaledTo=function(M){var R=this.canonical.z-M;return M>this.canonical.z?new da(M,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new da(M,this.wrap,M,this.canonical.x>>R,this.canonical.y>>R)},da.prototype.calculateScaledKey=function(M,R){var K=this.canonical.z-M;return M>this.canonical.z?Zc(this.wrap*+R,M,this.canonical.z,this.canonical.x,this.canonical.y):Zc(this.wrap*+R,M,M,this.canonical.x>>K,this.canonical.y>>K)},da.prototype.isChildOf=function(M){if(M.wrap!==this.wrap)return!1;var R=this.canonical.z-M.canonical.z;return M.overscaledZ===0||M.overscaledZ<this.overscaledZ&&M.canonical.x===this.canonical.x>>R&&M.canonical.y===this.canonical.y>>R},da.prototype.children=function(M){if(this.overscaledZ>=M)return[new da(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var R=this.canonical.z+1,K=2*this.canonical.x,ue=2*this.canonical.y;return[new da(R,this.wrap,R,K,ue),new da(R,this.wrap,R,K+1,ue),new da(R,this.wrap,R,K,ue+1),new da(R,this.wrap,R,K+1,ue+1)]},da.prototype.isLessThan=function(M){return this.wrap<M.wrap||!(this.wrap>M.wrap)&&(this.overscaledZ<M.overscaledZ||!(this.overscaledZ>M.overscaledZ)&&(this.canonical.x<M.canonical.x||!(this.canonical.x>M.canonical.x)&&this.canonical.y<M.canonical.y))},da.prototype.wrapped=function(){return new da(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},da.prototype.unwrapTo=function(M){return new da(this.overscaledZ,M,this.canonical.z,this.canonical.x,this.canonical.y)},da.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},da.prototype.toUnwrapped=function(){return new U0(this.wrap,this.canonical)},da.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},da.prototype.getTilePoint=function(M){return this.canonical.getTilePoint(new Lu(M.x-this.wrap,M.y))},Er("CanonicalTileID",Cu),Er("OverscaledTileID",da,{omit:["posMatrix"]});var Hl=function(M,R,K){if(this.uid=M,R.height!==R.width)throw new RangeError("DEM tiles must be square");if(K&&K!=="mapbox"&&K!=="terrarium")return E('"'+K+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=R.height;var ue=this.dim=R.height-2;this.data=new Uint32Array(R.data.buffer),this.encoding=K||"mapbox";for(var Ae=0;Ae<ue;Ae++)this.data[this._idx(-1,Ae)]=this.data[this._idx(0,Ae)],this.data[this._idx(ue,Ae)]=this.data[this._idx(ue-1,Ae)],this.data[this._idx(Ae,-1)]=this.data[this._idx(Ae,0)],this.data[this._idx(Ae,ue)]=this.data[this._idx(Ae,ue-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(ue,-1)]=this.data[this._idx(ue-1,0)],this.data[this._idx(-1,ue)]=this.data[this._idx(0,ue-1)],this.data[this._idx(ue,ue)]=this.data[this._idx(ue-1,ue-1)]};Hl.prototype.get=function(M,R){var K=new Uint8Array(this.data.buffer),ue=4*this._idx(M,R);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(K[ue],K[ue+1],K[ue+2])},Hl.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Hl.prototype._idx=function(M,R){if(M<-1||M>=this.dim+1||R<-1||R>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(R+1)*this.stride+(M+1)},Hl.prototype._unpackMapbox=function(M,R,K){return(256*M*256+256*R+K)/10-1e4},Hl.prototype._unpackTerrarium=function(M,R,K){return 256*M+R+K/256-32768},Hl.prototype.getPixels=function(){return new ko({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Hl.prototype.backfillBorder=function(M,R,K){if(this.dim!==M.dim)throw new Error("dem dimension mismatch");var ue=R*this.dim,Ae=R*this.dim+this.dim,Pe=K*this.dim,je=K*this.dim+this.dim;switch(R){case-1:ue=Ae-1;break;case 1:Ae=ue+1}switch(K){case-1:Pe=je-1;break;case 1:je=Pe+1}for(var $e=-R*this.dim,ct=-K*this.dim,wt=Pe;wt<je;wt++)for(var St=ue;St<Ae;St++)this.data[this._idx(St,wt)]=M.data[this._idx(St+$e,wt+ct)]},Er("DEMData",Hl);var Yf=function(M){this._stringToNumber={},this._numberToString=[];for(var R=0;R<M.length;R++){var K=M[R];this._stringToNumber[K]=R,this._numberToString[R]=K}};Yf.prototype.encode=function(M){return this._stringToNumber[M]},Yf.prototype.decode=function(M){return this._numberToString[M]};var Zf=function(M,R,K,ue,Ae){this.type="Feature",this._vectorTileFeature=M,M._z=R,M._x=K,M._y=ue,this.properties=M.properties,this.id=Ae},vp={geometry:{configurable:!0}};vp.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},vp.geometry.set=function(M){this._geometry=M},Zf.prototype.toJSON=function(){var M={geometry:this.geometry};for(var R in this)R!=="_geometry"&&R!=="_vectorTileFeature"&&(M[R]=this[R]);return M},Object.defineProperties(Zf.prototype,vp);var lc=function(){this.state={},this.stateChanges={},this.deletedStates={}};lc.prototype.updateState=function(M,R,K){var ue=String(R);if(this.stateChanges[M]=this.stateChanges[M]||{},this.stateChanges[M][ue]=this.stateChanges[M][ue]||{},c(this.stateChanges[M][ue],K),this.deletedStates[M]===null)for(var Ae in this.deletedStates[M]={},this.state[M])Ae!==ue&&(this.deletedStates[M][Ae]=null);else if(this.deletedStates[M]&&this.deletedStates[M][ue]===null)for(var Pe in this.deletedStates[M][ue]={},this.state[M][ue])K[Pe]||(this.deletedStates[M][ue][Pe]=null);else for(var je in K)this.deletedStates[M]&&this.deletedStates[M][ue]&&this.deletedStates[M][ue][je]===null&&delete this.deletedStates[M][ue][je]},lc.prototype.removeFeatureState=function(M,R,K){if(this.deletedStates[M]!==null){var ue=String(R);if(this.deletedStates[M]=this.deletedStates[M]||{},K&&R!==void 0)this.deletedStates[M][ue]!==null&&(this.deletedStates[M][ue]=this.deletedStates[M][ue]||{},this.deletedStates[M][ue][K]=null);else if(R!==void 0)if(this.stateChanges[M]&&this.stateChanges[M][ue])for(K in this.deletedStates[M][ue]={},this.stateChanges[M][ue])this.deletedStates[M][ue][K]=null;else this.deletedStates[M][ue]=null;else this.deletedStates[M]=null}},lc.prototype.getState=function(M,R){var K=String(R),ue=this.state[M]||{},Ae=this.stateChanges[M]||{},Pe=c({},ue[K],Ae[K]);if(this.deletedStates[M]===null)return{};if(this.deletedStates[M]){var je=this.deletedStates[M][R];if(je===null)return{};for(var $e in je)delete Pe[$e]}return Pe},lc.prototype.initializeTileState=function(M,R){M.setFeatureState(this.state,R)},lc.prototype.coalesceChanges=function(M,R){var K={};for(var ue in this.stateChanges){this.state[ue]=this.state[ue]||{};var Ae={};for(var Pe in this.stateChanges[ue])this.state[ue][Pe]||(this.state[ue][Pe]={}),c(this.state[ue][Pe],this.stateChanges[ue][Pe]),Ae[Pe]=this.state[ue][Pe];K[ue]=Ae}for(var je in this.deletedStates){this.state[je]=this.state[je]||{};var $e={};if(this.deletedStates[je]===null)for(var ct in this.state[je])$e[ct]={},this.state[je][ct]={};else for(var wt in this.deletedStates[je]){if(this.deletedStates[je][wt]===null)this.state[je][wt]={};else for(var St=0,Nt=Object.keys(this.deletedStates[je][wt]);St<Nt.length;St+=1){var Gt=Nt[St];delete this.state[je][wt][Gt]}$e[wt]=this.state[je][wt]}K[je]=K[je]||{},c(K[je],$e)}if(this.stateChanges={},this.deletedStates={},Object.keys(K).length!==0)for(var Ut in M)M[Ut].setFeatureState(K,R)};var ql=function(M,R){this.tileID=M,this.x=M.canonical.x,this.y=M.canonical.y,this.z=M.canonical.z,this.grid=new _s(ni,16,0),this.grid3D=new _s(ni,16,0),this.featureIndexArray=new Pn,this.promoteId=R};function V0(M,R,K,ue,Ae){return _(M,function(Pe,je){var $e=R instanceof ks?R.get(je):null;return $e&&$e.evaluate?$e.evaluate(K,ue,Ae):$e})}function H0(M){for(var R=1/0,K=1/0,ue=-1/0,Ae=-1/0,Pe=0,je=M;Pe<je.length;Pe+=1){var $e=je[Pe];R=Math.min(R,$e.x),K=Math.min(K,$e.y),ue=Math.max(ue,$e.x),Ae=Math.max(Ae,$e.y)}return{minX:R,minY:K,maxX:ue,maxY:Ae}}function ty(M,R){return R-M}ql.prototype.insert=function(M,R,K,ue,Ae,Pe){var je=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(K,ue,Ae);for(var $e=Pe?this.grid3D:this.grid,ct=0;ct<R.length;ct++){for(var wt=R[ct],St=[1/0,1/0,-1/0,-1/0],Nt=0;Nt<wt.length;Nt++){var Gt=wt[Nt];St[0]=Math.min(St[0],Gt.x),St[1]=Math.min(St[1],Gt.y),St[2]=Math.max(St[2],Gt.x),St[3]=Math.max(St[3],Gt.y)}St[0]<ni&&St[1]<ni&&St[2]>=0&&St[3]>=0&&$e.insert(je,St[0],St[1],St[2],St[3])}},ql.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Ku.VectorTile(new zf(this.rawTileData)).layers,this.sourceLayerCoder=new Yf(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},ql.prototype.query=function(M,R,K,ue){var Ae=this;this.loadVTLayers();for(var Pe=M.params||{},je=ni/M.tileSize/M.scale,$e=Xs(Pe.filter),ct=M.queryGeometry,wt=M.queryPadding*je,St=H0(ct),Nt=this.grid.query(St.minX-wt,St.minY-wt,St.maxX+wt,St.maxY+wt),Gt=H0(M.cameraQueryGeometry),Ut=0,sn=this.grid3D.query(Gt.minX-wt,Gt.minY-wt,Gt.maxX+wt,Gt.maxY+wt,function(Yn,Jn,lr,br){return function(yr,kr,Mr,jr,Ir){for(var Nr=0,Dr=yr;Nr<Dr.length;Nr+=1){var Or=Dr[Nr];if(kr<=Or.x&&Mr<=Or.y&&jr>=Or.x&&Ir>=Or.y)return!0}var ei=[new t(kr,Mr),new t(kr,Ir),new t(jr,Ir),new t(jr,Mr)];if(yr.length>2){for(var Hr=0,Ai=ei;Hr<Ai.length;Hr+=1)if(El(yr,Ai[Hr]))return!0}for(var Fr=0;Fr<yr.length-1;Fr++)if(Ev(yr[Fr],yr[Fr+1],ei))return!0;return!1}(M.cameraQueryGeometry,Yn-wt,Jn-wt,lr+wt,br+wt)});Ut<sn.length;Ut+=1){var cn=sn[Ut];Nt.push(cn)}Nt.sort(ty);for(var An,wn={},Bn=function(Yn){var Jn=Nt[Yn];if(Jn!==An){An=Jn;var lr=Ae.featureIndexArray.get(Jn),br=null;Ae.loadMatchingFeature(wn,lr.bucketIndex,lr.sourceLayerIndex,lr.featureIndex,$e,Pe.layers,Pe.availableImages,R,K,ue,function(yr,kr,Mr){return br||(br=Fo(yr)),kr.queryIntersectsFeature(ct,yr,Mr,br,Ae.z,M.transform,je,M.pixelPosMatrix)})}},Un=0;Un<Nt.length;Un++)Bn(Un);return wn},ql.prototype.loadMatchingFeature=function(M,R,K,ue,Ae,Pe,je,$e,ct,wt,St){var Nt=this.bucketLayerIDs[R];if(!Pe||function(yr,kr){for(var Mr=0;Mr<yr.length;Mr++)if(kr.indexOf(yr[Mr])>=0)return!0;return!1}(Pe,Nt)){var Gt=this.sourceLayerCoder.decode(K),Ut=this.vtLayers[Gt].feature(ue);if(Ae.needGeometry){var sn=Pi(Ut,!0);if(!Ae.filter(new Zr(this.tileID.overscaledZ),sn,this.tileID.canonical))return}else if(!Ae.filter(new Zr(this.tileID.overscaledZ),Ut))return;for(var cn=this.getId(Ut,Gt),An=0;An<Nt.length;An++){var wn=Nt[An];if(!(Pe&&Pe.indexOf(wn)<0)){var Bn=$e[wn];if(Bn){var Un={};cn!==void 0&&wt&&(Un=wt.getState(Bn.sourceLayer||"_geojsonTileLayer",cn));var Yn=c({},ct[wn]);Yn.paint=V0(Yn.paint,Bn.paint,Ut,Un,je),Yn.layout=V0(Yn.layout,Bn.layout,Ut,Un,je);var Jn=!St||St(Ut,Bn,Un);if(Jn){var lr=new Zf(Ut,this.z,this.x,this.y,cn);lr.layer=Yn;var br=M[wn];br===void 0&&(br=M[wn]=[]),br.push({featureIndex:ue,feature:lr,intersectionZ:Jn})}}}}}},ql.prototype.lookupSymbolFeatures=function(M,R,K,ue,Ae,Pe,je,$e){var ct={};this.loadVTLayers();for(var wt=Xs(Ae),St=0,Nt=M;St<Nt.length;St+=1){var Gt=Nt[St];this.loadMatchingFeature(ct,K,ue,Gt,wt,Pe,je,$e,R)}return ct},ql.prototype.hasLayer=function(M){for(var R=0,K=this.bucketLayerIDs;R<K.length;R+=1)for(var ue=0,Ae=K[R];ue<Ae.length;ue+=1)if(M===Ae[ue])return!0;return!1},ql.prototype.getId=function(M,R){var K=M.id;if(this.promoteId){var ue=typeof this.promoteId=="string"?this.promoteId:this.promoteId[R];typeof(K=M.properties[ue])=="boolean"&&(K=Number(K))}return K},Er("FeatureIndex",ql,{omit:["rawTileData","sourceLayerCoder"]});var Sa=function(M,R){this.tileID=M,this.uid=g(),this.uses=0,this.tileSize=R,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Sa.prototype.registerFadeDuration=function(M){var R=M+this.timeAdded;R<G.now()||this.fadeEndTime&&R<this.fadeEndTime||(this.fadeEndTime=R)},Sa.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Sa.prototype.loadVectorData=function(M,R,K){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",M){for(var ue in M.featureIndex&&(this.latestFeatureIndex=M.featureIndex,M.rawTileData?(this.latestRawTileData=M.rawTileData,this.latestFeatureIndex.rawTileData=M.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=M.collisionBoxArray,this.buckets=function(wt,St){var Nt={};if(!St)return Nt;for(var Gt=function(){var cn=sn[Ut],An=cn.layerIds.map(function(Yn){return St.getLayer(Yn)}).filter(Boolean);if(An.length!==0){cn.layers=An,cn.stateDependentLayerIds&&(cn.stateDependentLayers=cn.stateDependentLayerIds.map(function(Yn){return An.filter(function(Jn){return Jn.id===Yn})[0]}));for(var wn=0,Bn=An;wn<Bn.length;wn+=1){var Un=Bn[wn];Nt[Un.id]=cn}}},Ut=0,sn=wt;Ut<sn.length;Ut+=1)Gt();return Nt}(M.buckets,R.style),this.hasSymbolBuckets=!1,this.buckets){var Ae=this.buckets[ue];if(Ae instanceof yi){if(this.hasSymbolBuckets=!0,!K)break;Ae.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Pe in this.buckets){var je=this.buckets[Pe];if(je instanceof yi&&je.hasRTLText){this.hasRTLText=!0,Ma.isLoading()||Ma.isLoaded()||Ds()!=="deferred"||zs();break}}for(var $e in this.queryPadding=0,this.buckets){var ct=this.buckets[$e];this.queryPadding=Math.max(this.queryPadding,R.style.getLayer($e).queryRadius(ct))}M.imageAtlas&&(this.imageAtlas=M.imageAtlas),M.glyphAtlasImage&&(this.glyphAtlasImage=M.glyphAtlasImage)}else this.collisionBoxArray=new Et},Sa.prototype.unloadVectorData=function(){for(var M in this.buckets)this.buckets[M].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Sa.prototype.getBucket=function(M){return this.buckets[M.id]},Sa.prototype.upload=function(M){for(var R in this.buckets){var K=this.buckets[R];K.uploadPending()&&K.upload(M)}var ue=M.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Eu(M,this.imageAtlas.image,ue.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Eu(M,this.glyphAtlasImage,ue.ALPHA),this.glyphAtlasImage=null)},Sa.prototype.prepare=function(M){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(M,this.imageAtlasTexture)},Sa.prototype.queryRenderedFeatures=function(M,R,K,ue,Ae,Pe,je,$e,ct,wt){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:ue,cameraQueryGeometry:Ae,scale:Pe,tileSize:this.tileSize,pixelPosMatrix:wt,transform:$e,params:je,queryPadding:this.queryPadding*ct},M,R,K):{}},Sa.prototype.querySourceFeatures=function(M,R){var K=this.latestFeatureIndex;if(K&&K.rawTileData){var ue=K.loadVTLayers(),Ae=R?R.sourceLayer:"",Pe=ue._geojsonTileLayer||ue[Ae];if(Pe)for(var je=Xs(R&&R.filter),$e=this.tileID.canonical,ct=$e.z,wt=$e.x,St=$e.y,Nt={z:ct,x:wt,y:St},Gt=0;Gt<Pe.length;Gt++){var Ut=Pe.feature(Gt);if(je.needGeometry){var sn=Pi(Ut,!0);if(!je.filter(new Zr(this.tileID.overscaledZ),sn,this.tileID.canonical))continue}else if(!je.filter(new Zr(this.tileID.overscaledZ),Ut))continue;var cn=K.getId(Ut,Ae),An=new Zf(Ut,ct,wt,St,cn);An.tile=Nt,M.push(An)}}},Sa.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Sa.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Sa.prototype.setExpiryData=function(M){var R=this.expirationTime;if(M.cacheControl){var K=z(M.cacheControl);K["max-age"]&&(this.expirationTime=Date.now()+1e3*K["max-age"])}else M.expires&&(this.expirationTime=new Date(M.expires).getTime());if(this.expirationTime){var ue=Date.now(),Ae=!1;if(this.expirationTime>ue)Ae=!1;else if(R)if(this.expirationTime<R)Ae=!0;else{var Pe=this.expirationTime-R;Pe?this.expirationTime=ue+Math.max(Pe,3e4):Ae=!0}else Ae=!0;Ae?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Sa.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Sa.prototype.setFeatureState=function(M,R){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(M).length!==0){var K=this.latestFeatureIndex.loadVTLayers();for(var ue in this.buckets)if(R.style.hasLayer(ue)){var Ae=this.buckets[ue],Pe=Ae.layers[0].sourceLayer||"_geojsonTileLayer",je=K[Pe],$e=M[Pe];if(je&&$e&&Object.keys($e).length!==0){Ae.update($e,je,this.imageAtlas&&this.imageAtlas.patternPositions||{});var ct=R&&R.style&&R.style.getLayer(ue);ct&&(this.queryPadding=Math.max(this.queryPadding,ct.queryRadius(Ae)))}}}},Sa.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Sa.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<G.now()},Sa.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Sa.prototype.setHoldDuration=function(M){this.symbolFadeHoldUntil=G.now()+M},Sa.prototype.setDependencies=function(M,R){for(var K={},ue=0,Ae=R;ue<Ae.length;ue+=1)K[Ae[ue]]=!0;this.dependencies[M]=K},Sa.prototype.hasDependency=function(M,R){for(var K=0,ue=M;K<ue.length;K+=1){var Ae=ue[K],Pe=this.dependencies[Ae];if(Pe){for(var je=0,$e=R;je<$e.length;je+=1)if(Pe[$e[je]])return!0}}return!1};var uu=n.performance,q0=function(M){this._marks={start:[M.url,"start"].join("#"),end:[M.url,"end"].join("#"),measure:M.url.toString()},uu.mark(this._marks.start)};q0.prototype.finish=function(){uu.mark(this._marks.end);var M=uu.getEntriesByName(this._marks.measure);return M.length===0&&(uu.measure(this._marks.measure,this._marks.start,this._marks.end),M=uu.getEntriesByName(this._marks.measure),uu.clearMarks(this._marks.start),uu.clearMarks(this._marks.end),uu.clearMeasures(this._marks.measure)),M},a.Actor=sc,a.AlphaImage=Su,a.CanonicalTileID=Cu,a.CollisionBoxArray=Et,a.Color=zn,a.DEMData=Hl,a.DataConstantProperty=Cr,a.DictionaryCoder=Yf,a.EXTENT=ni,a.ErrorEvent=Be,a.EvaluationParameters=Zr,a.Event=Fe,a.Evented=ot,a.FeatureIndex=ql,a.FillBucket=il,a.FillExtrusionBucket=al,a.ImageAtlas=qc,a.ImagePosition=Bf,a.LineBucket=uo,a.LngLat=ji,a.LngLatBounds=pa,a.MercatorCoordinate=Lu,a.ONE_EM=Ra,a.OverscaledTileID=da,a.Point=t,a.Point$1=t,a.Properties=Ni,a.Protobuf=zf,a.RGBAImage=ko,a.RequestManager=ce,a.RequestPerformance=q0,a.ResourceType=xt,a.SegmentVector=Wn,a.SourceFeatureState=lc,a.StructArrayLayout1ui2=dt,a.StructArrayLayout2f1f2i16=re,a.StructArrayLayout2i4=rs,a.StructArrayLayout3ui6=ye,a.StructArrayLayout4i8=Ul,a.SymbolBucket=yi,a.Texture=Eu,a.Tile=Sa,a.Transitionable=so,a.Uniform1f=Gr,a.Uniform1i=Vr,a.Uniform2f=Xr,a.Uniform3f=mi,a.Uniform4f=Di,a.UniformColor=ya,a.UniformMatrix4f=fa,a.UnwrappedTileID=U0,a.ValidationError=pt,a.WritingMode=as,a.ZoomHistory=Rs,a.add=function(M,R,K){return M[0]=R[0]+K[0],M[1]=R[1]+K[1],M[2]=R[2]+K[2],M},a.addDynamicAttributes=hp,a.asyncAll=function(M,R,K){if(!M.length)return K(null,[]);var ue=M.length,Ae=new Array(M.length),Pe=null;M.forEach(function(je,$e){R(je,function(ct,wt){ct&&(Pe=ct),Ae[$e]=wt,--ue==0&&K(Pe,Ae)})})},a.bezier=s,a.bindAll=y,a.browser=G,a.cacheEntryPossiblyAdded=function(M){++vt>ze&&(M.getActor().send("enforceCacheSizeLimit",Re),vt=0)},a.clamp=u,a.clearTileCache=function(M){var R=n.caches.delete(ke);M&&R.catch(M).then(function(){return M()})},a.clipLine=k0,a.clone=function(M){var R=new is(16);return R[0]=M[0],R[1]=M[1],R[2]=M[2],R[3]=M[3],R[4]=M[4],R[5]=M[5],R[6]=M[6],R[7]=M[7],R[8]=M[8],R[9]=M[9],R[10]=M[10],R[11]=M[11],R[12]=M[12],R[13]=M[13],R[14]=M[14],R[15]=M[15],R},a.clone$1=S,a.clone$2=function(M){var R=new is(3);return R[0]=M[0],R[1]=M[1],R[2]=M[2],R},a.collisionCircleLayout=_m,a.config=X,a.create=function(){var M=new is(16);return is!=Float32Array&&(M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[11]=0,M[12]=0,M[13]=0,M[14]=0),M[0]=1,M[5]=1,M[10]=1,M[15]=1,M},a.create$1=function(){var M=new is(9);return is!=Float32Array&&(M[1]=0,M[2]=0,M[3]=0,M[5]=0,M[6]=0,M[7]=0),M[0]=1,M[4]=1,M[8]=1,M},a.create$2=function(){var M=new is(4);return is!=Float32Array&&(M[1]=0,M[2]=0),M[0]=1,M[3]=1,M},a.createCommonjsModule=w,a.createExpression=Oo,a.createLayout=wi,a.createStyleLayer=function(M){return M.type==="custom"?new Qm(M):new ey[M.type](M)},a.cross=function(M,R,K){var ue=R[0],Ae=R[1],Pe=R[2],je=K[0],$e=K[1],ct=K[2];return M[0]=Ae*ct-Pe*$e,M[1]=Pe*je-ue*ct,M[2]=ue*$e-Ae*je,M},a.deepEqual=function M(R,K){if(Array.isArray(R)){if(!Array.isArray(K)||R.length!==K.length)return!1;for(var ue=0;ue<R.length;ue++)if(!M(R[ue],K[ue]))return!1;return!0}if(typeof R=="object"&&R!==null&&K!==null){if(typeof K!="object"||Object.keys(R).length!==Object.keys(K).length)return!1;for(var Ae in R)if(!M(R[Ae],K[Ae]))return!1;return!0}return R===K},a.dot=function(M,R){return M[0]*R[0]+M[1]*R[1]+M[2]*R[2]},a.dot$1=function(M,R){return M[0]*R[0]+M[1]*R[1]+M[2]*R[2]+M[3]*R[3]},a.ease=l,a.emitValidationErrors=Ta,a.endsWith=m,a.enforceCacheSizeLimit=function(M){He(),de&&de.then(function(R){R.keys().then(function(K){for(var ue=0;ue<K.length-M;ue++)R.delete(K[ue])})})},a.evaluateSizeForFeature=m0,a.evaluateSizeForZoom=y0,a.evaluateVariableOffset=S0,a.evented=Aa,a.extend=c,a.featureFilter=Xs,a.filterObject=f,a.fromRotation=function(M,R){var K=Math.sin(R),ue=Math.cos(R);return M[0]=ue,M[1]=K,M[2]=0,M[3]=-K,M[4]=ue,M[5]=0,M[6]=0,M[7]=0,M[8]=1,M},a.getAnchorAlignment=lp,a.getAnchorJustification=fp,a.getArrayBuffer=Ft,a.getImage=Ye,a.getJSON=function(M,R){return zt(c(M,{type:"json"}),R)},a.getRTLTextPluginStatus=Ds,a.getReferrer=nt,a.getVideo=function(M,R){var K,ue,Ae=n.document.createElement("video");Ae.muted=!0,Ae.onloadstart=function(){R(null,Ae)};for(var Pe=0;Pe<M.length;Pe++){var je=n.document.createElement("source");K=M[Pe],ue=void 0,(ue=n.document.createElement("a")).href=K,ue.protocol===n.document.location.protocol&&ue.host===n.document.location.host||(Ae.crossOrigin="Anonymous"),je.src=M[Pe],Ae.appendChild(je)}return{cancel:function(){}}},a.identity=Zh,a.invert=function(M,R){var K=R[0],ue=R[1],Ae=R[2],Pe=R[3],je=R[4],$e=R[5],ct=R[6],wt=R[7],St=R[8],Nt=R[9],Gt=R[10],Ut=R[11],sn=R[12],cn=R[13],An=R[14],wn=R[15],Bn=K*$e-ue*je,Un=K*ct-Ae*je,Yn=K*wt-Pe*je,Jn=ue*ct-Ae*$e,lr=ue*wt-Pe*$e,br=Ae*wt-Pe*ct,yr=St*cn-Nt*sn,kr=St*An-Gt*sn,Mr=St*wn-Ut*sn,jr=Nt*An-Gt*cn,Ir=Nt*wn-Ut*cn,Nr=Gt*wn-Ut*An,Dr=Bn*Nr-Un*Ir+Yn*jr+Jn*Mr-lr*kr+br*yr;return Dr?(Dr=1/Dr,M[0]=($e*Nr-ct*Ir+wt*jr)*Dr,M[1]=(Ae*Ir-ue*Nr-Pe*jr)*Dr,M[2]=(cn*br-An*lr+wn*Jn)*Dr,M[3]=(Gt*lr-Nt*br-Ut*Jn)*Dr,M[4]=(ct*Mr-je*Nr-wt*kr)*Dr,M[5]=(K*Nr-Ae*Mr+Pe*kr)*Dr,M[6]=(An*Yn-sn*br-wn*Un)*Dr,M[7]=(St*br-Gt*Yn+Ut*Un)*Dr,M[8]=(je*Ir-$e*Mr+wt*yr)*Dr,M[9]=(ue*Mr-K*Ir-Pe*yr)*Dr,M[10]=(sn*lr-cn*Yn+wn*Bn)*Dr,M[11]=(Nt*Yn-St*lr-Ut*Bn)*Dr,M[12]=($e*kr-je*jr-ct*yr)*Dr,M[13]=(K*jr-ue*kr+Ae*yr)*Dr,M[14]=(cn*Un-sn*Jn-An*Bn)*Dr,M[15]=(St*Jn-Nt*Un+Gt*Bn)*Dr,M):null},a.isChar=_r,a.isMapboxURL=pe,a.keysDifference=function(M,R){var K=[];for(var ue in M)ue in R||K.push(ue);return K},a.makeRequest=zt,a.mapObject=_,a.mercatorXfromLng=B0,a.mercatorYfromLat=N0,a.mercatorZfromAltitude=j0,a.mul=Pv,a.multiply=Nd,a.mvt=Ku,a.nextPowerOfTwo=function(M){return M<=1?1:Math.pow(2,Math.ceil(Math.log(M)/Math.LN2))},a.normalize=function(M,R){var K=R[0],ue=R[1],Ae=R[2],Pe=K*K+ue*ue+Ae*Ae;return Pe>0&&(Pe=1/Math.sqrt(Pe)),M[0]=R[0]*Pe,M[1]=R[1]*Pe,M[2]=R[2]*Pe,M},a.number=Br,a.offscreenCanvasSupported=_t,a.ortho=function(M,R,K,ue,Ae,Pe,je){var $e=1/(R-K),ct=1/(ue-Ae),wt=1/(Pe-je);return M[0]=-2*$e,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=-2*ct,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[10]=2*wt,M[11]=0,M[12]=(R+K)*$e,M[13]=(Ae+ue)*ct,M[14]=(je+Pe)*wt,M[15]=1,M},a.parseGlyphPBF=function(M){return new zf(M).readFields(Om,[])},a.pbf=zf,a.performSymbolLayout=function(M,R,K,ue,Ae,Pe,je){M.createArrays();var $e=512*M.overscaling;M.tilePixelRatio=ni/$e,M.compareText={},M.iconsNeedLinear=!1;var ct=M.layers[0].layout,wt=M.layers[0]._unevaluatedLayout._values,St={};if(M.textSizeData.kind==="composite"){var Nt=M.textSizeData,Gt=Nt.minZoom,Ut=Nt.maxZoom;St.compositeTextSizes=[wt["text-size"].possiblyEvaluate(new Zr(Gt),je),wt["text-size"].possiblyEvaluate(new Zr(Ut),je)]}if(M.iconSizeData.kind==="composite"){var sn=M.iconSizeData,cn=sn.minZoom,An=sn.maxZoom;St.compositeIconSizes=[wt["icon-size"].possiblyEvaluate(new Zr(cn),je),wt["icon-size"].possiblyEvaluate(new Zr(An),je)]}St.layoutTextSize=wt["text-size"].possiblyEvaluate(new Zr(M.zoom+1),je),St.layoutIconSize=wt["icon-size"].possiblyEvaluate(new Zr(M.zoom+1),je),St.textMaxSize=wt["text-size"].possiblyEvaluate(new Zr(18));for(var wn=ct.get("text-line-height")*Ra,Bn=ct.get("text-rotation-alignment")==="map"&&ct.get("symbol-placement")!=="point",Un=ct.get("text-keep-upright"),Yn=ct.get("text-size"),Jn=function(){var yr=br[lr],kr=ct.get("text-font").evaluate(yr,{},je).join(","),Mr=Yn.evaluate(yr,{},je),jr=St.layoutTextSize.evaluate(yr,{},je),Ir=St.layoutIconSize.evaluate(yr,{},je),Nr={horizontal:{},vertical:void 0},Dr=yr.text,Or=[0,0];if(Dr){var ei=Dr.toString(),Hr=ct.get("text-letter-spacing").evaluate(yr,{},je)*Ra,Ai=function(qr){for(var ri=0,ta=qr;ri<ta.length;ri+=1)if(ki=ta[ri].charCodeAt(0),_r.Arabic(ki)||_r["Arabic Supplement"](ki)||_r["Arabic Extended-A"](ki)||_r["Arabic Presentation Forms-A"](ki)||_r["Arabic Presentation Forms-B"](ki))return!1;var ki;return!0}(ei)?Hr:0,Fr=ct.get("text-anchor").evaluate(yr,{},je),xi=ct.get("text-variable-anchor");if(!xi){var Ii=ct.get("text-radial-offset").evaluate(yr,{},je);Or=Ii?S0(Fr,[Ii*Ra,cp]):ct.get("text-offset").evaluate(yr,{},je).map(function(qr){return qr*Ra})}var Fi=Bn?"center":ct.get("text-justify").evaluate(yr,{},je),Bi=ct.get("symbol-placement"),Mi=Bi==="point"?ct.get("text-max-width").evaluate(yr,{},je)*Ra:0,ga=function(){M.allowVerticalPlacement&&tl(ei)&&(Nr.vertical=Nf(Dr,R,K,Ae,kr,Mi,wn,Fr,"left",Ai,Or,as.vertical,!0,Bi,jr,Mr))};if(!Bn&&xi){for(var Wi=Fi==="auto"?xi.map(function(qr){return fp(qr)}):[Fi],Ea=!1,Ha=0;Ha<Wi.length;Ha++){var Da=Wi[Ha];if(!Nr.horizontal[Da])if(Ea)Nr.horizontal[Da]=Nr.horizontal[0];else{var co=Nf(Dr,R,K,Ae,kr,Mi,wn,"center",Da,Ai,Or,as.horizontal,!1,Bi,jr,Mr);co&&(Nr.horizontal[Da]=co,Ea=co.positionedLines.length===1)}}ga()}else{Fi==="auto"&&(Fi=fp(Fr));var za=Nf(Dr,R,K,Ae,kr,Mi,wn,Fr,Fi,Ai,Or,as.horizontal,!1,Bi,jr,Mr);za&&(Nr.horizontal[Fi]=za),ga(),tl(ei)&&Bn&&Un&&(Nr.vertical=Nf(Dr,R,K,Ae,kr,Mi,wn,Fr,Fi,Ai,Or,as.vertical,!1,Bi,jr,Mr))}}var xa=void 0,Fa=!1;if(yr.icon&&yr.icon.name){var La=ue[yr.icon.name];La&&(xa=function(qr,ri,ta){var ki=lp(ta),Xi=ki.horizontalAlign,Ui=ki.verticalAlign,li=ri[0],na=ri[1],fo=li-qr.displaySize[0]*Xi,jo=fo+qr.displaySize[0],Ja=na-qr.displaySize[1]*Ui;return{image:qr,top:Ja,bottom:Ja+qr.displaySize[1],left:fo,right:jo}}(Ae[yr.icon.name],ct.get("icon-offset").evaluate(yr,{},je),ct.get("icon-anchor").evaluate(yr,{},je)),Fa=La.sdf,M.sdfIcons===void 0?M.sdfIcons=La.sdf:M.sdfIcons!==La.sdf&&E("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(La.pixelRatio!==M.pixelRatio||ct.get("icon-rotate").constantOr(1)!==0)&&(M.iconsNeedLinear=!0))}var ba=L0(Nr.horizontal)||Nr.vertical;M.iconsInText=!!ba&&ba.iconsInText,(ba||xa)&&function(qr,ri,ta,ki,Xi,Ui,li,na,fo,jo,Ja){var sl=Ui.textMaxSize.evaluate(ri,{});sl===void 0&&(sl=li);var Gl,Ca=qr.layers[0].layout,ll=Ca.get("icon-offset").evaluate(ri,{},Ja),Us=L0(ta.horizontal),Vs=24,Pu=li/Vs,Xf=qr.tilePixelRatio*Pu,Ou=qr.tilePixelRatio*sl/Vs,Kf=qr.tilePixelRatio*na,Xc=qr.tilePixelRatio*Ca.get("symbol-spacing"),mp=Ca.get("text-padding")*qr.tilePixelRatio,Jf=Ca.get("icon-padding")*qr.tilePixelRatio,uc=Ca.get("text-max-angle")/180*Math.PI,$f=Ca.get("text-rotation-alignment")==="map"&&Ca.get("symbol-placement")!=="point",Qf=Ca.get("icon-rotation-alignment")==="map"&&Ca.get("symbol-placement")!=="point",Kc=Ca.get("symbol-placement"),yp=Xc/2,Jc=Ca.get("icon-text-fit");ki&&Jc!=="none"&&(qr.allowVerticalPlacement&&ta.vertical&&(Gl=v0(ki,ta.vertical,Jc,Ca.get("icon-text-fit-padding"),ll,Pu)),Us&&(ki=v0(ki,Us,Jc,Ca.get("icon-text-fit-padding"),ll,Pu)));var Iu=function(ny,rf){rf.x<0||rf.x>=ni||rf.y<0||rf.y>=ni||function(la,ul,ry,cu,kp,X0,ih,Ll,ah,af,oh,sh,Ap,K0,of,J0,$0,Q0,e1,t1,os,lh,n1,Cl,iy){var r1,zu,hc,pc,dc,gc=la.addToLineVertexArray(ul,ry),i1=0,a1=0,o1=0,s1=0,Mp=-1,Sp=-1,Wl={},l1=wr(""),Ep=0,Lp=0;if(Ll._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Ep=(r1=Ll.layout.get("text-offset").evaluate(os,{},Cl).map(function(lf){return lf*Ra}))[0],Lp=r1[1]):(Ep=Ll.layout.get("text-radial-offset").evaluate(os,{},Cl)*Ra,Lp=cp),la.allowVerticalPlacement&&cu.vertical){var u1=Ll.layout.get("text-rotate").evaluate(os,{},Cl)+90,ay=cu.vertical;pc=new qf(ah,ul,af,oh,sh,ay,Ap,K0,of,u1),ih&&(dc=new qf(ah,ul,af,oh,sh,ih,$0,Q0,of,u1))}if(kp){var Cp=Ll.layout.get("icon-rotate").evaluate(os,{}),c1=Ll.layout.get("icon-text-fit")!=="none",f1=A0(kp,Cp,n1,c1),Pp=ih?A0(ih,Cp,n1,c1):void 0;hc=new qf(ah,ul,af,oh,sh,kp,$0,Q0,!1,Cp),i1=4*f1.length;var h1=la.iconSizeData,sf=null;h1.kind==="source"?(sf=[ol*Ll.layout.get("icon-size").evaluate(os,{})])[0]>lu&&E(la.layerIds[0]+': Value for "icon-size" is >= '+Wc+'. Reduce your "icon-size".'):h1.kind==="composite"&&((sf=[ol*lh.compositeIconSizes[0].evaluate(os,{},Cl),ol*lh.compositeIconSizes[1].evaluate(os,{},Cl)])[0]>lu||sf[1]>lu)&&E(la.layerIds[0]+': Value for "icon-size" is >= '+Wc+'. Reduce your "icon-size".'),la.addSymbols(la.icon,f1,sf,t1,e1,os,!1,ul,gc.lineStartIndex,gc.lineLength,-1,Cl),Mp=la.icon.placedSymbolArray.length-1,Pp&&(a1=4*Pp.length,la.addSymbols(la.icon,Pp,sf,t1,e1,os,as.vertical,ul,gc.lineStartIndex,gc.lineLength,-1,Cl),Sp=la.icon.placedSymbolArray.length-1)}for(var p1 in cu.horizontal){var uh=cu.horizontal[p1];if(!zu){l1=wr(uh.text);var oy=Ll.layout.get("text-rotate").evaluate(os,{},Cl);zu=new qf(ah,ul,af,oh,sh,uh,Ap,K0,of,oy)}var d1=uh.positionedLines.length===1;if(o1+=E0(la,ul,uh,X0,Ll,of,os,J0,gc,cu.vertical?as.horizontal:as.horizontalOnly,d1?Object.keys(cu.horizontal):[p1],Wl,Mp,lh,Cl),d1)break}cu.vertical&&(s1+=E0(la,ul,cu.vertical,X0,Ll,of,os,J0,gc,as.vertical,["vertical"],Wl,Sp,lh,Cl));var sy=zu?zu.boxStartIndex:la.collisionBoxArray.length,ly=zu?zu.boxEndIndex:la.collisionBoxArray.length,uy=pc?pc.boxStartIndex:la.collisionBoxArray.length,cy=pc?pc.boxEndIndex:la.collisionBoxArray.length,fy=hc?hc.boxStartIndex:la.collisionBoxArray.length,hy=hc?hc.boxEndIndex:la.collisionBoxArray.length,py=dc?dc.boxStartIndex:la.collisionBoxArray.length,dy=dc?dc.boxEndIndex:la.collisionBoxArray.length,Pl=-1,ch=function(lf,v1){return lf&&lf.circleDiameter?Math.max(lf.circleDiameter,v1):v1};Pl=ch(zu,Pl),Pl=ch(pc,Pl),Pl=ch(hc,Pl);var g1=(Pl=ch(dc,Pl))>-1?1:0;g1&&(Pl*=iy/Ra),la.glyphOffsetArray.length>=yi.MAX_GLYPHS&&E("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),os.sortKey!==void 0&&la.addToSortKeyRanges(la.symbolInstances.length,os.sortKey),la.symbolInstances.emplaceBack(ul.x,ul.y,Wl.right>=0?Wl.right:-1,Wl.center>=0?Wl.center:-1,Wl.left>=0?Wl.left:-1,Wl.vertical||-1,Mp,Sp,l1,sy,ly,uy,cy,fy,hy,py,dy,af,o1,s1,i1,a1,g1,0,Ap,Ep,Lp,Pl)}(qr,rf,ny,ta,ki,Xi,Gl,qr.layers[0],qr.collisionBoxArray,ri.index,ri.sourceLayerIndex,qr.index,Xf,mp,$f,fo,Kf,Jf,Qf,ll,ri,Ui,jo,Ja,li)};if(Kc==="line")for(var cc=0,eh=k0(ri.geometry,0,0,ni,ni);cc<eh.length;cc+=1)for(var th=eh[cc],fc=0,nh=Nm(th,Xc,uc,ta.vertical||Us,ki,Vs,Ou,qr.overscaling,ni);fc<nh.length;fc+=1){var rh=nh[fc];Us&&Hm(qr,Us.text,yp,rh)||Iu(th,rh)}else if(Kc==="line-center")for(var $c=0,Qc=ri.geometry;$c<Qc.length;$c+=1){var Ru=Qc[$c];if(Ru.length>1){var ef=Bm(Ru,uc,ta.vertical||Us,ki,Vs,Ou);ef&&Iu(Ru,ef)}}else if(ri.type==="Polygon")for(var Du=0,tf=tp(ri.geometry,0);Du<tf.length;Du+=1){var nf=tf[Du],G0=Um(nf,16);Iu(nf[0],new ec(G0.x,G0.y,0))}else if(ri.type==="LineString")for(var xp=0,W0=ri.geometry;xp<W0.length;xp+=1){var bp=W0[xp];Iu(bp,new ec(bp[0].x,bp[0].y,0))}else if(ri.type==="Point")for(var _p=0,Y0=ri.geometry;_p<Y0.length;_p+=1)for(var wp=0,Z0=Y0[_p];wp<Z0.length;wp+=1){var Tp=Z0[wp];Iu([Tp],new ec(Tp.x,Tp.y,0))}}(M,yr,Nr,xa,ue,St,jr,Ir,Or,Fa,je)},lr=0,br=M.features;lr<br.length;lr+=1)Jn();Pe&&M.generateCollisionDebugBuffers()},a.perspective=function(M,R,K,ue,Ae){var Pe,je=1/Math.tan(R/2);return M[0]=je/K,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=je,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[11]=-1,M[12]=0,M[13]=0,M[15]=0,Ae!=null&&Ae!==1/0?(Pe=1/(ue-Ae),M[10]=(Ae+ue)*Pe,M[14]=2*Ae*ue*Pe):(M[10]=-1,M[14]=-2*ue),M},a.pick=function(M,R){for(var K={},ue=0;ue<R.length;ue++){var Ae=R[ue];Ae in M&&(K[Ae]=M[Ae])}return K},a.plugin=Ma,a.polygonIntersectsPolygon=Mu,a.postMapLoadEvent=xe,a.postTurnstileEvent=Oe,a.potpack=f0,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.register=Er,a.registerForPluginStateChange=function(M){return M({pluginStatus:Jr,pluginURL:oa}),Aa.on("pluginStateChange",M),M},a.renderColorRamp=Hd,a.rotate=function(M,R,K){var ue=R[0],Ae=R[1],Pe=R[2],je=R[3],$e=Math.sin(K),ct=Math.cos(K);return M[0]=ue*ct+Pe*$e,M[1]=Ae*ct+je*$e,M[2]=ue*-$e+Pe*ct,M[3]=Ae*-$e+je*ct,M},a.rotateX=function(M,R,K){var ue=Math.sin(K),Ae=Math.cos(K),Pe=R[4],je=R[5],$e=R[6],ct=R[7],wt=R[8],St=R[9],Nt=R[10],Gt=R[11];return R!==M&&(M[0]=R[0],M[1]=R[1],M[2]=R[2],M[3]=R[3],M[12]=R[12],M[13]=R[13],M[14]=R[14],M[15]=R[15]),M[4]=Pe*Ae+wt*ue,M[5]=je*Ae+St*ue,M[6]=$e*Ae+Nt*ue,M[7]=ct*Ae+Gt*ue,M[8]=wt*Ae-Pe*ue,M[9]=St*Ae-je*ue,M[10]=Nt*Ae-$e*ue,M[11]=Gt*Ae-ct*ue,M},a.rotateZ=function(M,R,K){var ue=Math.sin(K),Ae=Math.cos(K),Pe=R[0],je=R[1],$e=R[2],ct=R[3],wt=R[4],St=R[5],Nt=R[6],Gt=R[7];return R!==M&&(M[8]=R[8],M[9]=R[9],M[10]=R[10],M[11]=R[11],M[12]=R[12],M[13]=R[13],M[14]=R[14],M[15]=R[15]),M[0]=Pe*Ae+wt*ue,M[1]=je*Ae+St*ue,M[2]=$e*Ae+Nt*ue,M[3]=ct*Ae+Gt*ue,M[4]=wt*Ae-Pe*ue,M[5]=St*Ae-je*ue,M[6]=Nt*Ae-$e*ue,M[7]=Gt*Ae-ct*ue,M},a.scale=function(M,R,K){var ue=K[0],Ae=K[1],Pe=K[2];return M[0]=R[0]*ue,M[1]=R[1]*ue,M[2]=R[2]*ue,M[3]=R[3]*ue,M[4]=R[4]*Ae,M[5]=R[5]*Ae,M[6]=R[6]*Ae,M[7]=R[7]*Ae,M[8]=R[8]*Pe,M[9]=R[9]*Pe,M[10]=R[10]*Pe,M[11]=R[11]*Pe,M[12]=R[12],M[13]=R[13],M[14]=R[14],M[15]=R[15],M},a.scale$1=function(M,R,K){return M[0]=R[0]*K,M[1]=R[1]*K,M[2]=R[2]*K,M[3]=R[3]*K,M},a.scale$2=function(M,R,K){return M[0]=R[0]*K,M[1]=R[1]*K,M[2]=R[2]*K,M},a.setCacheLimits=function(M,R){Re=M,ze=R},a.setRTLTextPlugin=function(M,R,K){if(K===void 0&&(K=!1),Jr===xo||Jr===Xa||Jr===Do)throw new Error("setRTLTextPlugin cannot be called multiple times.");oa=G.resolveURL(M),Jr=xo,ns=R,bo(),K||zs()},a.sphericalToCartesian=function(M){var R=M[0],K=M[1],ue=M[2];return K+=90,K*=Math.PI/180,ue*=Math.PI/180,{x:R*Math.cos(K)*Math.sin(ue),y:R*Math.sin(K)*Math.sin(ue),z:R*Math.cos(ue)}},a.sqrLen=Iv,a.styleSpec=Xe,a.sub=Ov,a.symbolSize=Fm,a.transformMat3=function(M,R,K){var ue=R[0],Ae=R[1],Pe=R[2];return M[0]=ue*K[0]+Ae*K[3]+Pe*K[6],M[1]=ue*K[1]+Ae*K[4]+Pe*K[7],M[2]=ue*K[2]+Ae*K[5]+Pe*K[8],M},a.transformMat4=Pf,a.translate=function(M,R,K){var ue,Ae,Pe,je,$e,ct,wt,St,Nt,Gt,Ut,sn,cn=K[0],An=K[1],wn=K[2];return R===M?(M[12]=R[0]*cn+R[4]*An+R[8]*wn+R[12],M[13]=R[1]*cn+R[5]*An+R[9]*wn+R[13],M[14]=R[2]*cn+R[6]*An+R[10]*wn+R[14],M[15]=R[3]*cn+R[7]*An+R[11]*wn+R[15]):(ue=R[0],Ae=R[1],Pe=R[2],je=R[3],$e=R[4],ct=R[5],wt=R[6],St=R[7],Nt=R[8],Gt=R[9],Ut=R[10],sn=R[11],M[0]=ue,M[1]=Ae,M[2]=Pe,M[3]=je,M[4]=$e,M[5]=ct,M[6]=wt,M[7]=St,M[8]=Nt,M[9]=Gt,M[10]=Ut,M[11]=sn,M[12]=ue*cn+$e*An+Nt*wn+R[12],M[13]=Ae*cn+ct*An+Gt*wn+R[13],M[14]=Pe*cn+wt*An+Ut*wn+R[14],M[15]=je*cn+St*An+sn*wn+R[15]),M},a.triggerPluginCompletionEvent=ka,a.uniqueId=g,a.validateCustomStyleLayer=function(M){var R=[],K=M.id;return K===void 0&&R.push({message:"layers."+K+': missing required property "id"'}),M.render===void 0&&R.push({message:"layers."+K+': missing required method "render"'}),M.renderingMode&&M.renderingMode!=="2d"&&M.renderingMode!=="3d"&&R.push({message:"layers."+K+': property "renderingMode" must be either "2d" or "3d"'}),R},a.validateLight=bs,a.validateStyle=yo,a.values=function(M){var R=[];for(var K in M)R.push(M[K]);return R},a.vectorTile=Ku,a.version=b,a.warnOnce=E,a.webpSupported=J,a.window=n,a.wrap=d}),k(0,function(a){function w(We){var Ze=typeof We;if(Ze==="number"||Ze==="boolean"||Ze==="string"||We==null)return JSON.stringify(We);if(Array.isArray(We)){for(var Ne="[",Ye=0,lt=We;Ye<lt.length;Ye+=1)Ne+=w(lt[Ye])+",";return Ne+"]"}for(var at=Object.keys(We).sort(),Fe="{",Be=0;Be<at.length;Be++)Fe+=JSON.stringify(at[Be])+":"+w(We[at[Be]])+",";return Fe+"}"}function b(We){for(var Ze="",Ne=0,Ye=a.refProperties;Ne<Ye.length;Ne+=1)Ze+="/"+w(We[Ye[Ne]]);return Ze}var h=function(We){this.keyCache={},We&&this.replace(We)};h.prototype.replace=function(We){this._layerConfigs={},this._layers={},this.update(We,[])},h.prototype.update=function(We,Ze){for(var Ne=this,Ye=0,lt=We;Ye<lt.length;Ye+=1){var at=lt[Ye];this._layerConfigs[at.id]=at;var Fe=this._layers[at.id]=a.createStyleLayer(at);Fe._featureFilter=a.featureFilter(Fe.filter),this.keyCache[at.id]&&delete this.keyCache[at.id]}for(var Be=0,ot=Ze;Be<ot.length;Be+=1){var Xe=ot[Be];delete this.keyCache[Xe],delete this._layerConfigs[Xe],delete this._layers[Xe]}this.familiesBySource={};for(var pt=0,mt=function(Ot,Bt){for(var Kt={},on=0;on<Ot.length;on++){var qt=Bt&&Bt[Ot[on].id]||b(Ot[on]);Bt&&(Bt[Ot[on].id]=qt);var Wt=Kt[qt];Wt||(Wt=Kt[qt]=[]),Wt.push(Ot[on])}var nn=[];for(var En in Kt)nn.push(Kt[En]);return nn}(a.values(this._layerConfigs),this.keyCache);pt<mt.length;pt+=1){var yt=mt[pt].map(function(Ot){return Ne._layers[Ot.id]}),ht=yt[0];if(ht.visibility!=="none"){var Lt=ht.source||"",Tt=this.familiesBySource[Lt];Tt||(Tt=this.familiesBySource[Lt]={});var bt=ht.sourceLayer||"_geojsonTileLayer",Pt=Tt[bt];Pt||(Pt=Tt[bt]=[]),Pt.push(yt)}}};var o=function(We){var Ze={},Ne=[];for(var Ye in We){var lt=We[Ye],at=Ze[Ye]={};for(var Fe in lt){var Be=lt[+Fe];if(Be&&Be.bitmap.width!==0&&Be.bitmap.height!==0){var ot={x:0,y:0,w:Be.bitmap.width+2,h:Be.bitmap.height+2};Ne.push(ot),at[Fe]={rect:ot,metrics:Be.metrics}}}}var Xe=a.potpack(Ne),pt=Xe.w,mt=Xe.h,yt=new a.AlphaImage({width:pt||1,height:mt||1});for(var ht in We){var Lt=We[ht];for(var Tt in Lt){var bt=Lt[+Tt];if(bt&&bt.bitmap.width!==0&&bt.bitmap.height!==0){var Pt=Ze[ht][Tt].rect;a.AlphaImage.copy(bt.bitmap,yt,{x:0,y:0},{x:Pt.x+1,y:Pt.y+1},bt.bitmap)}}}this.image=yt,this.positions=Ze};a.register("GlyphAtlas",o);var t=function(We){this.tileID=new a.OverscaledTileID(We.tileID.overscaledZ,We.tileID.wrap,We.tileID.canonical.z,We.tileID.canonical.x,We.tileID.canonical.y),this.uid=We.uid,this.zoom=We.zoom,this.pixelRatio=We.pixelRatio,this.tileSize=We.tileSize,this.source=We.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=We.showCollisionBoxes,this.collectResourceTiming=!!We.collectResourceTiming,this.returnDependencies=!!We.returnDependencies,this.promoteId=We.promoteId};function i(We,Ze,Ne){for(var Ye=new a.EvaluationParameters(Ze),lt=0,at=We;lt<at.length;lt+=1)at[lt].recalculate(Ye,Ne)}function n(We,Ze){var Ne=a.getArrayBuffer(We.request,function(Ye,lt,at,Fe){Ye?Ze(Ye):lt&&Ze(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(lt)),rawData:lt,cacheControl:at,expires:Fe})});return function(){Ne.cancel(),Ze()}}t.prototype.parse=function(We,Ze,Ne,Ye,lt){var at=this;this.status="parsing",this.data=We,this.collisionBoxArray=new a.CollisionBoxArray;var Fe=new a.DictionaryCoder(Object.keys(We.layers).sort()),Be=new a.FeatureIndex(this.tileID,this.promoteId);Be.bucketLayerIDs=[];var ot,Xe,pt,mt,yt={},ht={featureIndex:Be,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Ne},Lt=Ze.familiesBySource[this.source];for(var Tt in Lt){var bt=We.layers[Tt];if(bt){bt.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+Tt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Pt=Fe.encode(Tt),Ot=[],Bt=0;Bt<bt.length;Bt++){var Kt=bt.feature(Bt),on=Be.getId(Kt,Tt);Ot.push({feature:Kt,id:on,index:Bt,sourceLayerIndex:Pt})}for(var qt=0,Wt=Lt[Tt];qt<Wt.length;qt+=1){var nn=Wt[qt],En=nn[0];En.minzoom&&this.zoom<Math.floor(En.minzoom)||En.maxzoom&&this.zoom>=En.maxzoom||En.visibility!=="none"&&(i(nn,this.zoom,Ne),(yt[En.id]=En.createBucket({index:Be.bucketLayerIDs.length,layers:nn,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Pt,sourceID:this.source})).populate(Ot,ht,this.tileID.canonical),Be.bucketLayerIDs.push(nn.map(function(rn){return rn.id})))}}}var Mn=a.mapObject(ht.glyphDependencies,function(rn){return Object.keys(rn).map(Number)});Object.keys(Mn).length?Ye.send("getGlyphs",{uid:this.uid,stacks:Mn},function(rn,hn){ot||(ot=rn,Xe=hn,un.call(at))}):Xe={};var dn=Object.keys(ht.iconDependencies);dn.length?Ye.send("getImages",{icons:dn,source:this.source,tileID:this.tileID,type:"icons"},function(rn,hn){ot||(ot=rn,pt=hn,un.call(at))}):pt={};var Jt=Object.keys(ht.patternDependencies);function un(){if(ot)return lt(ot);if(Xe&&pt&&mt){var rn=new o(Xe),hn=new a.ImageAtlas(pt,mt);for(var kn in yt){var Ln=yt[kn];Ln instanceof a.SymbolBucket?(i(Ln.layers,this.zoom,Ne),a.performSymbolLayout(Ln,Xe,rn.positions,pt,hn.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Ln.hasPattern&&(Ln instanceof a.LineBucket||Ln instanceof a.FillBucket||Ln instanceof a.FillExtrusionBucket)&&(i(Ln.layers,this.zoom,Ne),Ln.addFeatures(ht,this.tileID.canonical,hn.patternPositions))}this.status="done",lt(null,{buckets:a.values(yt).filter(function(Dn){return!Dn.isEmpty()}),featureIndex:Be,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:rn.image,imageAtlas:hn,glyphMap:this.returnDependencies?Xe:null,iconMap:this.returnDependencies?pt:null,glyphPositions:this.returnDependencies?rn.positions:null})}}Jt.length?Ye.send("getImages",{icons:Jt,source:this.source,tileID:this.tileID,type:"patterns"},function(rn,hn){ot||(ot=rn,mt=hn,un.call(at))}):mt={},un.call(this)};var r=function(We,Ze,Ne,Ye){this.actor=We,this.layerIndex=Ze,this.availableImages=Ne,this.loadVectorData=Ye||n,this.loading={},this.loaded={}};r.prototype.loadTile=function(We,Ze){var Ne=this,Ye=We.uid;this.loading||(this.loading={});var lt=!!(We&&We.request&&We.request.collectResourceTiming)&&new a.RequestPerformance(We.request),at=this.loading[Ye]=new t(We);at.abort=this.loadVectorData(We,function(Fe,Be){if(delete Ne.loading[Ye],Fe||!Be)return at.status="done",Ne.loaded[Ye]=at,Ze(Fe);var ot=Be.rawData,Xe={};Be.expires&&(Xe.expires=Be.expires),Be.cacheControl&&(Xe.cacheControl=Be.cacheControl);var pt={};if(lt){var mt=lt.finish();mt&&(pt.resourceTiming=JSON.parse(JSON.stringify(mt)))}at.vectorTile=Be.vectorTile,at.parse(Be.vectorTile,Ne.layerIndex,Ne.availableImages,Ne.actor,function(yt,ht){if(yt||!ht)return Ze(yt);Ze(null,a.extend({rawTileData:ot.slice(0)},ht,Xe,pt))}),Ne.loaded=Ne.loaded||{},Ne.loaded[Ye]=at})},r.prototype.reloadTile=function(We,Ze){var Ne=this,Ye=this.loaded,lt=We.uid,at=this;if(Ye&&Ye[lt]){var Fe=Ye[lt];Fe.showCollisionBoxes=We.showCollisionBoxes;var Be=function(ot,Xe){var pt=Fe.reloadCallback;pt&&(delete Fe.reloadCallback,Fe.parse(Fe.vectorTile,at.layerIndex,Ne.availableImages,at.actor,pt)),Ze(ot,Xe)};Fe.status==="parsing"?Fe.reloadCallback=Be:Fe.status==="done"&&(Fe.vectorTile?Fe.parse(Fe.vectorTile,this.layerIndex,this.availableImages,this.actor,Be):Be())}},r.prototype.abortTile=function(We,Ze){var Ne=this.loading,Ye=We.uid;Ne&&Ne[Ye]&&Ne[Ye].abort&&(Ne[Ye].abort(),delete Ne[Ye]),Ze()},r.prototype.removeTile=function(We,Ze){var Ne=this.loaded,Ye=We.uid;Ne&&Ne[Ye]&&delete Ne[Ye],Ze()};var s=a.window.ImageBitmap,l=function(){this.loaded={}};l.prototype.loadTile=function(We,Ze){var Ne=We.uid,Ye=We.encoding,lt=We.rawImageData,at=s&&lt instanceof s?this.getImageData(lt):lt,Fe=new a.DEMData(Ne,at,Ye);this.loaded=this.loaded||{},this.loaded[Ne]=Fe,Ze(null,Fe)},l.prototype.getImageData=function(We){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(We.width,We.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=We.width,this.offscreenCanvas.height=We.height,this.offscreenCanvasContext.drawImage(We,0,0,We.width,We.height);var Ze=this.offscreenCanvasContext.getImageData(-1,-1,We.width+2,We.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:Ze.width,height:Ze.height},Ze.data)},l.prototype.removeTile=function(We){var Ze=this.loaded,Ne=We.uid;Ze&&Ze[Ne]&&delete Ze[Ne]};var u=function We(Ze,Ne){var Ye,lt=Ze&&Ze.type;if(lt==="FeatureCollection")for(Ye=0;Ye<Ze.features.length;Ye++)We(Ze.features[Ye],Ne);else if(lt==="GeometryCollection")for(Ye=0;Ye<Ze.geometries.length;Ye++)We(Ze.geometries[Ye],Ne);else if(lt==="Feature")We(Ze.geometry,Ne);else if(lt==="Polygon")d(Ze.coordinates,Ne);else if(lt==="MultiPolygon")for(Ye=0;Ye<Ze.coordinates.length;Ye++)d(Ze.coordinates[Ye],Ne);return Ze};function d(We,Ze){if(We.length!==0){c(We[0],Ze);for(var Ne=1;Ne<We.length;Ne++)c(We[Ne],!Ze)}}function c(We,Ze){for(var Ne=0,Ye=0,lt=We.length,at=lt-1;Ye<lt;at=Ye++)Ne+=(We[Ye][0]-We[at][0])*(We[at][1]+We[Ye][1]);Ne>=0!=!!Ze&&We.reverse()}var x=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,g=function(We){this._feature=We,this.extent=a.EXTENT,this.type=We.type,this.properties=We.tags,"id"in We&&!isNaN(We.id)&&(this.id=parseInt(We.id,10))};g.prototype.loadGeometry=function(){if(this._feature.type===1){for(var We=[],Ze=0,Ne=this._feature.geometry;Ze<Ne.length;Ze+=1){var Ye=Ne[Ze];We.push([new a.Point$1(Ye[0],Ye[1])])}return We}for(var lt=[],at=0,Fe=this._feature.geometry;at<Fe.length;at+=1){for(var Be=[],ot=0,Xe=Fe[at];ot<Xe.length;ot+=1){var pt=Xe[ot];Be.push(new a.Point$1(pt[0],pt[1]))}lt.push(Be)}return lt},g.prototype.toGeoJSON=function(We,Ze,Ne){return x.call(this,We,Ze,Ne)};var p=function(We){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=We.length,this._features=We};p.prototype.feature=function(We){return new g(this._features[We])};var v=a.vectorTile.VectorTileFeature,y=m;function m(We,Ze){this.options=Ze||{},this.features=We,this.length=We.length}function _(We,Ze){this.id=typeof We.id=="number"?We.id:void 0,this.type=We.type,this.rawGeometry=We.type===1?[We.geometry]:We.geometry,this.properties=We.tags,this.extent=Ze||4096}m.prototype.feature=function(We){return new _(this.features[We],this.options.extent)},_.prototype.loadGeometry=function(){var We=this.rawGeometry;this.geometry=[];for(var Ze=0;Ze<We.length;Ze++){for(var Ne=We[Ze],Ye=[],lt=0;lt<Ne.length;lt++)Ye.push(new a.Point$1(Ne[lt][0],Ne[lt][1]));this.geometry.push(Ye)}return this.geometry},_.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var We=this.geometry,Ze=1/0,Ne=-1/0,Ye=1/0,lt=-1/0,at=0;at<We.length;at++)for(var Fe=We[at],Be=0;Be<Fe.length;Be++){var ot=Fe[Be];Ze=Math.min(Ze,ot.x),Ne=Math.max(Ne,ot.x),Ye=Math.min(Ye,ot.y),lt=Math.max(lt,ot.y)}return[Ze,Ye,Ne,lt]},_.prototype.toGeoJSON=v.prototype.toGeoJSON;var f=C,S=C,T=function(We,Ze){Ze=Ze||{};var Ne={};for(var Ye in We)Ne[Ye]=new y(We[Ye].features,Ze),Ne[Ye].name=Ye,Ne[Ye].version=Ze.version,Ne[Ye].extent=Ze.extent;return C({layers:Ne})},E=y;function C(We){var Ze=new a.pbf;return function(Ne,Ye){for(var lt in Ne.layers)Ye.writeMessage(3,O,Ne.layers[lt])}(We,Ze),Ze.finish()}function O(We,Ze){var Ne;Ze.writeVarintField(15,We.version||1),Ze.writeStringField(1,We.name||""),Ze.writeVarintField(5,We.extent||4096);var Ye={keys:[],values:[],keycache:{},valuecache:{}};for(Ne=0;Ne<We.length;Ne++)Ye.feature=We.feature(Ne),Ze.writeMessage(2,I,Ye);var lt=Ye.keys;for(Ne=0;Ne<lt.length;Ne++)Ze.writeStringField(3,lt[Ne]);var at=Ye.values;for(Ne=0;Ne<at.length;Ne++)Ze.writeMessage(4,Z,at[Ne])}function I(We,Ze){var Ne=We.feature;Ne.id!==void 0&&Ze.writeVarintField(1,Ne.id),Ze.writeMessage(2,z,We),Ze.writeVarintField(3,Ne.type),Ze.writeMessage(4,B,Ne)}function z(We,Ze){var Ne=We.feature,Ye=We.keys,lt=We.values,at=We.keycache,Fe=We.valuecache;for(var Be in Ne.properties){var ot=at[Be];ot===void 0&&(Ye.push(Be),ot=Ye.length-1,at[Be]=ot),Ze.writeVarint(ot);var Xe=Ne.properties[Be],pt=typeof Xe;pt!=="string"&&pt!=="boolean"&&pt!=="number"&&(Xe=JSON.stringify(Xe));var mt=pt+":"+Xe,yt=Fe[mt];yt===void 0&&(lt.push(Xe),yt=lt.length-1,Fe[mt]=yt),Ze.writeVarint(yt)}}function U(We,Ze){return(Ze<<3)+(7&We)}function D(We){return We<<1^We>>31}function B(We,Ze){for(var Ne=We.loadGeometry(),Ye=We.type,lt=0,at=0,Fe=Ne.length,Be=0;Be<Fe;Be++){var ot=Ne[Be],Xe=1;Ye===1&&(Xe=ot.length),Ze.writeVarint(U(1,Xe));for(var pt=Ye===3?ot.length-1:ot.length,mt=0;mt<pt;mt++){mt===1&&Ye!==1&&Ze.writeVarint(U(2,pt-1));var yt=ot[mt].x-lt,ht=ot[mt].y-at;Ze.writeVarint(D(yt)),Ze.writeVarint(D(ht)),lt+=yt,at+=ht}Ye===3&&Ze.writeVarint(U(7,1))}}function Z(We,Ze){var Ne=typeof We;Ne==="string"?Ze.writeStringField(1,We):Ne==="boolean"?Ze.writeBooleanField(7,We):Ne==="number"&&(We%1!=0?Ze.writeDoubleField(3,We):We<0?Ze.writeSVarintField(6,We):Ze.writeVarintField(5,We))}function F(We,Ze,Ne,Ye,lt,at){if(!(lt-Ye<=Ne)){var Fe=Ye+lt>>1;j(We,Ze,Fe,Ye,lt,at%2),F(We,Ze,Ne,Ye,Fe-1,at+1),F(We,Ze,Ne,Fe+1,lt,at+1)}}function j(We,Ze,Ne,Ye,lt,at){for(;lt>Ye;){if(lt-Ye>600){var Fe=lt-Ye+1,Be=Ne-Ye+1,ot=Math.log(Fe),Xe=.5*Math.exp(2*ot/3),pt=.5*Math.sqrt(ot*Xe*(Fe-Xe)/Fe)*(Be-Fe/2<0?-1:1);j(We,Ze,Ne,Math.max(Ye,Math.floor(Ne-Be*Xe/Fe+pt)),Math.min(lt,Math.floor(Ne+(Fe-Be)*Xe/Fe+pt)),at)}var mt=Ze[2*Ne+at],yt=Ye,ht=lt;for(V(We,Ze,Ye,Ne),Ze[2*lt+at]>mt&&V(We,Ze,Ye,lt);yt<ht;){for(V(We,Ze,yt,ht),yt++,ht--;Ze[2*yt+at]<mt;)yt++;for(;Ze[2*ht+at]>mt;)ht--}Ze[2*Ye+at]===mt?V(We,Ze,Ye,ht):V(We,Ze,++ht,lt),ht<=Ne&&(Ye=ht+1),Ne<=ht&&(lt=ht-1)}}function V(We,Ze,Ne,Ye){te(We,Ne,Ye),te(Ze,2*Ne,2*Ye),te(Ze,2*Ne+1,2*Ye+1)}function te(We,Ze,Ne){var Ye=We[Ze];We[Ze]=We[Ne],We[Ne]=Ye}function Q(We,Ze,Ne,Ye){var lt=We-Ne,at=Ze-Ye;return lt*lt+at*at}f.fromVectorTileJs=S,f.fromGeojsonVt=T,f.GeoJSONWrapper=E;var $=function(We){return We[0]},G=function(We){return We[1]},X=function(We,Ze,Ne,Ye,lt){Ze===void 0&&(Ze=$),Ne===void 0&&(Ne=G),Ye===void 0&&(Ye=64),lt===void 0&&(lt=Float64Array),this.nodeSize=Ye,this.points=We;for(var at=We.length<65536?Uint16Array:Uint32Array,Fe=this.ids=new at(We.length),Be=this.coords=new lt(2*We.length),ot=0;ot<We.length;ot++)Fe[ot]=ot,Be[2*ot]=Ze(We[ot]),Be[2*ot+1]=Ne(We[ot]);F(Fe,Be,Ye,0,Fe.length-1,0)};X.prototype.range=function(We,Ze,Ne,Ye){return function(lt,at,Fe,Be,ot,Xe,pt){for(var mt,yt,ht=[0,lt.length-1,0],Lt=[];ht.length;){var Tt=ht.pop(),bt=ht.pop(),Pt=ht.pop();if(bt-Pt<=pt)for(var Ot=Pt;Ot<=bt;Ot++)mt=at[2*Ot],yt=at[2*Ot+1],mt>=Fe&&mt<=ot&&yt>=Be&&yt<=Xe&&Lt.push(lt[Ot]);else{var Bt=Math.floor((Pt+bt)/2);mt=at[2*Bt],yt=at[2*Bt+1],mt>=Fe&&mt<=ot&&yt>=Be&&yt<=Xe&&Lt.push(lt[Bt]);var Kt=(Tt+1)%2;(Tt===0?Fe<=mt:Be<=yt)&&(ht.push(Pt),ht.push(Bt-1),ht.push(Kt)),(Tt===0?ot>=mt:Xe>=yt)&&(ht.push(Bt+1),ht.push(bt),ht.push(Kt))}}return Lt}(this.ids,this.coords,We,Ze,Ne,Ye,this.nodeSize)},X.prototype.within=function(We,Ze,Ne){return function(Ye,lt,at,Fe,Be,ot){for(var Xe=[0,Ye.length-1,0],pt=[],mt=Be*Be;Xe.length;){var yt=Xe.pop(),ht=Xe.pop(),Lt=Xe.pop();if(ht-Lt<=ot)for(var Tt=Lt;Tt<=ht;Tt++)Q(lt[2*Tt],lt[2*Tt+1],at,Fe)<=mt&&pt.push(Ye[Tt]);else{var bt=Math.floor((Lt+ht)/2),Pt=lt[2*bt],Ot=lt[2*bt+1];Q(Pt,Ot,at,Fe)<=mt&&pt.push(Ye[bt]);var Bt=(yt+1)%2;(yt===0?at-Be<=Pt:Fe-Be<=Ot)&&(Xe.push(Lt),Xe.push(bt-1),Xe.push(Bt)),(yt===0?at+Be>=Pt:Fe+Be>=Ot)&&(Xe.push(bt+1),Xe.push(ht),Xe.push(Bt))}}return pt}(this.ids,this.coords,We,Ze,Ne,this.nodeSize)};var J={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(We){return We}},ne=function(We){this.options=me(Object.create(J),We),this.trees=new Array(this.options.maxZoom+1)};function ie(We,Ze,Ne,Ye,lt){return{x:We,y:Ze,zoom:1/0,id:Ne,parentId:-1,numPoints:Ye,properties:lt}}function ae(We,Ze){var Ne=We.geometry.coordinates,Ye=Ne[0],lt=Ne[1];return{x:pe(Ye),y:ge(lt),zoom:1/0,index:Ze,parentId:-1}}function le(We){return{type:"Feature",id:We.id,properties:ce(We),geometry:{type:"Point",coordinates:[(Ye=We.x,360*(Ye-.5)),(Ze=We.y,Ne=(180-360*Ze)*Math.PI/180,360*Math.atan(Math.exp(Ne))/Math.PI-90)]}};var Ze,Ne,Ye}function ce(We){var Ze=We.numPoints,Ne=Ze>=1e4?Math.round(Ze/1e3)+"k":Ze>=1e3?Math.round(Ze/100)/10+"k":Ze;return me(me({},We.properties),{cluster:!0,cluster_id:We.id,point_count:Ze,point_count_abbreviated:Ne})}function pe(We){return We/360+.5}function ge(We){var Ze=Math.sin(We*Math.PI/180),Ne=.5-.25*Math.log((1+Ze)/(1-Ze))/Math.PI;return Ne<0?0:Ne>1?1:Ne}function me(We,Ze){for(var Ne in Ze)We[Ne]=Ze[Ne];return We}function ve(We){return We.x}function Me(We){return We.y}function _e(We,Ze,Ne,Ye){for(var lt,at=Ye,Fe=Ne-Ze>>1,Be=Ne-Ze,ot=We[Ze],Xe=We[Ze+1],pt=We[Ne],mt=We[Ne+1],yt=Ze+3;yt<Ne;yt+=3){var ht=we(We[yt],We[yt+1],ot,Xe,pt,mt);if(ht>at)lt=yt,at=ht;else if(ht===at){var Lt=Math.abs(yt-Fe);Lt<Be&&(lt=yt,Be=Lt)}}at>Ye&&(lt-Ze>3&&_e(We,Ze,lt,Ye),We[lt+2]=at,Ne-lt>3&&_e(We,lt,Ne,Ye))}function we(We,Ze,Ne,Ye,lt,at){var Fe=lt-Ne,Be=at-Ye;if(Fe!==0||Be!==0){var ot=((We-Ne)*Fe+(Ze-Ye)*Be)/(Fe*Fe+Be*Be);ot>1?(Ne=lt,Ye=at):ot>0&&(Ne+=Fe*ot,Ye+=Be*ot)}return(Fe=We-Ne)*Fe+(Be=Ze-Ye)*Be}function oe(We,Ze,Ne,Ye){var lt={id:We===void 0?null:We,type:Ze,geometry:Ne,tags:Ye,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(at){var Fe=at.geometry,Be=at.type;if(Be==="Point"||Be==="MultiPoint"||Be==="LineString")se(at,Fe);else if(Be==="Polygon"||Be==="MultiLineString")for(var ot=0;ot<Fe.length;ot++)se(at,Fe[ot]);else if(Be==="MultiPolygon")for(ot=0;ot<Fe.length;ot++)for(var Xe=0;Xe<Fe[ot].length;Xe++)se(at,Fe[ot][Xe])}(lt),lt}function se(We,Ze){for(var Ne=0;Ne<Ze.length;Ne+=3)We.minX=Math.min(We.minX,Ze[Ne]),We.minY=Math.min(We.minY,Ze[Ne+1]),We.maxX=Math.max(We.maxX,Ze[Ne]),We.maxY=Math.max(We.maxY,Ze[Ne+1])}function de(We,Ze,Ne,Ye){if(Ze.geometry){var lt=Ze.geometry.coordinates,at=Ze.geometry.type,Fe=Math.pow(Ne.tolerance/((1<<Ne.maxZoom)*Ne.extent),2),Be=[],ot=Ze.id;if(Ne.promoteId?ot=Ze.properties[Ne.promoteId]:Ne.generateId&&(ot=Ye||0),at==="Point")Ee(lt,Be);else if(at==="MultiPoint")for(var Xe=0;Xe<lt.length;Xe++)Ee(lt[Xe],Be);else if(at==="LineString")Te(lt,Be,Fe,!1);else if(at==="MultiLineString"){if(Ne.lineMetrics){for(Xe=0;Xe<lt.length;Xe++)Be=[],Te(lt[Xe],Be,Fe,!1),We.push(oe(ot,"LineString",Be,Ze.properties));return}Se(lt,Be,Fe,!1)}else if(at==="Polygon")Se(lt,Be,Fe,!0);else{if(at!=="MultiPolygon"){if(at==="GeometryCollection"){for(Xe=0;Xe<Ze.geometry.geometries.length;Xe++)de(We,{id:ot,geometry:Ze.geometry.geometries[Xe],properties:Ze.properties},Ne,Ye);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Xe=0;Xe<lt.length;Xe++){var pt=[];Se(lt[Xe],pt,Fe,!0),Be.push(pt)}}We.push(oe(ot,at,Be,Ze.properties))}}function Ee(We,Ze){Ze.push(Le(We[0])),Ze.push(Oe(We[1])),Ze.push(0)}function Te(We,Ze,Ne,Ye){for(var lt,at,Fe=0,Be=0;Be<We.length;Be++){var ot=Le(We[Be][0]),Xe=Oe(We[Be][1]);Ze.push(ot),Ze.push(Xe),Ze.push(0),Be>0&&(Fe+=Ye?(lt*Xe-ot*at)/2:Math.sqrt(Math.pow(ot-lt,2)+Math.pow(Xe-at,2))),lt=ot,at=Xe}var pt=Ze.length-3;Ze[2]=1,_e(Ze,0,pt,Ne),Ze[pt+2]=1,Ze.size=Math.abs(Fe),Ze.start=0,Ze.end=Ze.size}function Se(We,Ze,Ne,Ye){for(var lt=0;lt<We.length;lt++){var at=[];Te(We[lt],at,Ne,Ye),Ze.push(at)}}function Le(We){return We/360+.5}function Oe(We){var Ze=Math.sin(We*Math.PI/180),Ne=.5-.25*Math.log((1+Ze)/(1-Ze))/Math.PI;return Ne<0?0:Ne>1?1:Ne}function he(We,Ze,Ne,Ye,lt,at,Fe,Be){if(Ye/=Ze,at>=(Ne/=Ze)&&Fe<Ye)return We;if(Fe<Ne||at>=Ye)return null;for(var ot=[],Xe=0;Xe<We.length;Xe++){var pt=We[Xe],mt=pt.geometry,yt=pt.type,ht=lt===0?pt.minX:pt.minY,Lt=lt===0?pt.maxX:pt.maxY;if(ht>=Ne&&Lt<Ye)ot.push(pt);else if(!(Lt<Ne||ht>=Ye)){var Tt=[];if(yt==="Point"||yt==="MultiPoint")xe(mt,Tt,Ne,Ye,lt);else if(yt==="LineString")ke(mt,Tt,Ne,Ye,lt,!1,Be.lineMetrics);else if(yt==="MultiLineString")ze(mt,Tt,Ne,Ye,lt,!1);else if(yt==="Polygon")ze(mt,Tt,Ne,Ye,lt,!0);else if(yt==="MultiPolygon")for(var bt=0;bt<mt.length;bt++){var Pt=[];ze(mt[bt],Pt,Ne,Ye,lt,!0),Pt.length&&Tt.push(Pt)}if(Tt.length){if(Be.lineMetrics&&yt==="LineString"){for(bt=0;bt<Tt.length;bt++)ot.push(oe(pt.id,yt,Tt[bt],pt.tags));continue}yt!=="LineString"&&yt!=="MultiLineString"||(Tt.length===1?(yt="LineString",Tt=Tt[0]):yt="MultiLineString"),yt!=="Point"&&yt!=="MultiPoint"||(yt=Tt.length===3?"Point":"MultiPoint"),ot.push(oe(pt.id,yt,Tt,pt.tags))}}}return ot.length?ot:null}function xe(We,Ze,Ne,Ye,lt){for(var at=0;at<We.length;at+=3){var Fe=We[at+lt];Fe>=Ne&&Fe<=Ye&&(Ze.push(We[at]),Ze.push(We[at+1]),Ze.push(We[at+2]))}}function ke(We,Ze,Ne,Ye,lt,at,Fe){for(var Be,ot,Xe=Re(We),pt=lt===0?He:qe,mt=We.start,yt=0;yt<We.length-3;yt+=3){var ht=We[yt],Lt=We[yt+1],Tt=We[yt+2],bt=We[yt+3],Pt=We[yt+4],Ot=lt===0?ht:Lt,Bt=lt===0?bt:Pt,Kt=!1;Fe&&(Be=Math.sqrt(Math.pow(ht-bt,2)+Math.pow(Lt-Pt,2))),Ot<Ne?Bt>Ne&&(ot=pt(Xe,ht,Lt,bt,Pt,Ne),Fe&&(Xe.start=mt+Be*ot)):Ot>Ye?Bt<Ye&&(ot=pt(Xe,ht,Lt,bt,Pt,Ye),Fe&&(Xe.start=mt+Be*ot)):Ie(Xe,ht,Lt,Tt),Bt<Ne&&Ot>=Ne&&(ot=pt(Xe,ht,Lt,bt,Pt,Ne),Kt=!0),Bt>Ye&&Ot<=Ye&&(ot=pt(Xe,ht,Lt,bt,Pt,Ye),Kt=!0),!at&&Kt&&(Fe&&(Xe.end=mt+Be*ot),Ze.push(Xe),Xe=Re(We)),Fe&&(mt+=Be)}var on=We.length-3;ht=We[on],Lt=We[on+1],Tt=We[on+2],(Ot=lt===0?ht:Lt)>=Ne&&Ot<=Ye&&Ie(Xe,ht,Lt,Tt),on=Xe.length-3,at&&on>=3&&(Xe[on]!==Xe[0]||Xe[on+1]!==Xe[1])&&Ie(Xe,Xe[0],Xe[1],Xe[2]),Xe.length&&Ze.push(Xe)}function Re(We){var Ze=[];return Ze.size=We.size,Ze.start=We.start,Ze.end=We.end,Ze}function ze(We,Ze,Ne,Ye,lt,at){for(var Fe=0;Fe<We.length;Fe++)ke(We[Fe],Ze,Ne,Ye,lt,at,!1)}function Ie(We,Ze,Ne,Ye){We.push(Ze),We.push(Ne),We.push(Ye)}function He(We,Ze,Ne,Ye,lt,at){var Fe=(at-Ze)/(Ye-Ze);return We.push(at),We.push(Ne+(lt-Ne)*Fe),We.push(1),Fe}function qe(We,Ze,Ne,Ye,lt,at){var Fe=(at-Ne)/(lt-Ne);return We.push(Ze+(Ye-Ze)*Fe),We.push(at),We.push(1),Fe}function Je(We,Ze){for(var Ne=[],Ye=0;Ye<We.length;Ye++){var lt,at=We[Ye],Fe=at.type;if(Fe==="Point"||Fe==="MultiPoint"||Fe==="LineString")lt=st(at.geometry,Ze);else if(Fe==="MultiLineString"||Fe==="Polygon"){lt=[];for(var Be=0;Be<at.geometry.length;Be++)lt.push(st(at.geometry[Be],Ze))}else if(Fe==="MultiPolygon")for(lt=[],Be=0;Be<at.geometry.length;Be++){for(var ot=[],Xe=0;Xe<at.geometry[Be].length;Xe++)ot.push(st(at.geometry[Be][Xe],Ze));lt.push(ot)}Ne.push(oe(at.id,Fe,lt,at.tags))}return Ne}function st(We,Ze){var Ne=[];Ne.size=We.size,We.start!==void 0&&(Ne.start=We.start,Ne.end=We.end);for(var Ye=0;Ye<We.length;Ye+=3)Ne.push(We[Ye]+Ze,We[Ye+1],We[Ye+2]);return Ne}function it(We,Ze){if(We.transformed)return We;var Ne,Ye,lt,at=1<<We.z,Fe=We.x,Be=We.y;for(Ne=0;Ne<We.features.length;Ne++){var ot=We.features[Ne],Xe=ot.geometry,pt=ot.type;if(ot.geometry=[],pt===1)for(Ye=0;Ye<Xe.length;Ye+=2)ot.geometry.push(vt(Xe[Ye],Xe[Ye+1],Ze,at,Fe,Be));else for(Ye=0;Ye<Xe.length;Ye++){var mt=[];for(lt=0;lt<Xe[Ye].length;lt+=2)mt.push(vt(Xe[Ye][lt],Xe[Ye][lt+1],Ze,at,Fe,Be));ot.geometry.push(mt)}}return We.transformed=!0,We}function vt(We,Ze,Ne,Ye,lt,at){return[Math.round(Ne*(We*Ye-lt)),Math.round(Ne*(Ze*Ye-at))]}function _t(We,Ze,Ne,Ye,lt){for(var at=Ze===lt.maxZoom?0:lt.tolerance/((1<<Ze)*lt.extent),Fe={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ne,y:Ye,z:Ze,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Be=0;Be<We.length;Be++){Fe.numFeatures++,xt(Fe,We[Be],at,lt);var ot=We[Be].minX,Xe=We[Be].minY,pt=We[Be].maxX,mt=We[Be].maxY;ot<Fe.minX&&(Fe.minX=ot),Xe<Fe.minY&&(Fe.minY=Xe),pt>Fe.maxX&&(Fe.maxX=pt),mt>Fe.maxY&&(Fe.maxY=mt)}return Fe}function xt(We,Ze,Ne,Ye){var lt=Ze.geometry,at=Ze.type,Fe=[];if(at==="Point"||at==="MultiPoint")for(var Be=0;Be<lt.length;Be+=3)Fe.push(lt[Be]),Fe.push(lt[Be+1]),We.numPoints++,We.numSimplified++;else if(at==="LineString")et(Fe,lt,We,Ne,!1,!1);else if(at==="MultiLineString"||at==="Polygon")for(Be=0;Be<lt.length;Be++)et(Fe,lt[Be],We,Ne,at==="Polygon",Be===0);else if(at==="MultiPolygon")for(var ot=0;ot<lt.length;ot++){var Xe=lt[ot];for(Be=0;Be<Xe.length;Be++)et(Fe,Xe[Be],We,Ne,!0,Be===0)}if(Fe.length){var pt=Ze.tags||null;if(at==="LineString"&&Ye.lineMetrics){for(var mt in pt={},Ze.tags)pt[mt]=Ze.tags[mt];pt.mapbox_clip_start=lt.start/lt.size,pt.mapbox_clip_end=lt.end/lt.size}var yt={geometry:Fe,type:at==="Polygon"||at==="MultiPolygon"?3:at==="LineString"||at==="MultiLineString"?2:1,tags:pt};Ze.id!==null&&(yt.id=Ze.id),We.features.push(yt)}}function et(We,Ze,Ne,Ye,lt,at){var Fe=Ye*Ye;if(Ye>0&&Ze.size<(lt?Fe:Ye))Ne.numPoints+=Ze.length/3;else{for(var Be=[],ot=0;ot<Ze.length;ot+=3)(Ye===0||Ze[ot+2]>Fe)&&(Ne.numSimplified++,Be.push(Ze[ot]),Be.push(Ze[ot+1])),Ne.numPoints++;lt&&function(Xe,pt){for(var mt=0,yt=0,ht=Xe.length,Lt=ht-2;yt<ht;Lt=yt,yt+=2)mt+=(Xe[yt]-Xe[Lt])*(Xe[yt+1]+Xe[Lt+1]);if(mt>0===pt)for(yt=0,ht=Xe.length;yt<ht/2;yt+=2){var Tt=Xe[yt],bt=Xe[yt+1];Xe[yt]=Xe[ht-2-yt],Xe[yt+1]=Xe[ht-1-yt],Xe[ht-2-yt]=Tt,Xe[ht-1-yt]=bt}}(Be,at),We.push(Be)}}function nt(We,Ze){var Ne=(Ze=this.options=function(lt,at){for(var Fe in at)lt[Fe]=at[Fe];return lt}(Object.create(this.options),Ze)).debug;if(Ne&&console.time("preprocess data"),Ze.maxZoom<0||Ze.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Ze.promoteId&&Ze.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ye=function(lt,at){var Fe=[];if(lt.type==="FeatureCollection")for(var Be=0;Be<lt.features.length;Be++)de(Fe,lt.features[Be],at,Be);else lt.type==="Feature"?de(Fe,lt,at):de(Fe,{geometry:lt},at);return Fe}(We,Ze);this.tiles={},this.tileCoords=[],Ne&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Ze.indexMaxZoom,Ze.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Ye=function(lt,at){var Fe=at.buffer/at.extent,Be=lt,ot=he(lt,1,-1-Fe,Fe,0,-1,2,at),Xe=he(lt,1,1-Fe,2+Fe,0,-1,2,at);return(ot||Xe)&&(Be=he(lt,1,-Fe,1+Fe,0,-1,2,at)||[],ot&&(Be=Je(ot,1).concat(Be)),Xe&&(Be=Be.concat(Je(Xe,-1)))),Be}(Ye,Ze)).length&&this.splitTile(Ye,0,0,0),Ne&&(Ye.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Mt(We,Ze,Ne){return 32*((1<<We)*Ne+Ze)+We}function zt(We,Ze){var Ne=We.tileID.canonical;if(!this._geoJSONIndex)return Ze(null,null);var Ye=this._geoJSONIndex.getTile(Ne.z,Ne.x,Ne.y);if(!Ye)return Ze(null,null);var lt=new p(Ye.features),at=f(lt);at.byteOffset===0&&at.byteLength===at.buffer.byteLength||(at=new Uint8Array(at)),Ze(null,{vectorTile:lt,rawData:at.buffer})}ne.prototype.load=function(We){var Ze=this.options,Ne=Ze.log,Ye=Ze.minZoom,lt=Ze.maxZoom,at=Ze.nodeSize;Ne&&console.time("total time");var Fe="prepare "+We.length+" points";Ne&&console.time(Fe),this.points=We;for(var Be=[],ot=0;ot<We.length;ot++)We[ot].geometry&&Be.push(ae(We[ot],ot));this.trees[lt+1]=new X(Be,ve,Me,at,Float32Array),Ne&&console.timeEnd(Fe);for(var Xe=lt;Xe>=Ye;Xe--){var pt=+Date.now();Be=this._cluster(Be,Xe),this.trees[Xe]=new X(Be,ve,Me,at,Float32Array),Ne&&console.log("z%d: %d clusters in %dms",Xe,Be.length,+Date.now()-pt)}return Ne&&console.timeEnd("total time"),this},ne.prototype.getClusters=function(We,Ze){var Ne=((We[0]+180)%360+360)%360-180,Ye=Math.max(-90,Math.min(90,We[1])),lt=We[2]===180?180:((We[2]+180)%360+360)%360-180,at=Math.max(-90,Math.min(90,We[3]));if(We[2]-We[0]>=360)Ne=-180,lt=180;else if(Ne>lt){var Fe=this.getClusters([Ne,Ye,180,at],Ze),Be=this.getClusters([-180,Ye,lt,at],Ze);return Fe.concat(Be)}for(var ot=this.trees[this._limitZoom(Ze)],Xe=[],pt=0,mt=ot.range(pe(Ne),ge(at),pe(lt),ge(Ye));pt<mt.length;pt+=1){var yt=mt[pt],ht=ot.points[yt];Xe.push(ht.numPoints?le(ht):this.points[ht.index])}return Xe},ne.prototype.getChildren=function(We){var Ze=this._getOriginId(We),Ne=this._getOriginZoom(We),Ye="No cluster with the specified id.",lt=this.trees[Ne];if(!lt)throw new Error(Ye);var at=lt.points[Ze];if(!at)throw new Error(Ye);for(var Fe=this.options.radius/(this.options.extent*Math.pow(2,Ne-1)),Be=[],ot=0,Xe=lt.within(at.x,at.y,Fe);ot<Xe.length;ot+=1){var pt=Xe[ot],mt=lt.points[pt];mt.parentId===We&&Be.push(mt.numPoints?le(mt):this.points[mt.index])}if(Be.length===0)throw new Error(Ye);return Be},ne.prototype.getLeaves=function(We,Ze,Ne){Ze=Ze||10,Ne=Ne||0;var Ye=[];return this._appendLeaves(Ye,We,Ze,Ne,0),Ye},ne.prototype.getTile=function(We,Ze,Ne){var Ye=this.trees[this._limitZoom(We)],lt=Math.pow(2,We),at=this.options,Fe=at.extent,Be=at.radius/Fe,ot=(Ne-Be)/lt,Xe=(Ne+1+Be)/lt,pt={features:[]};return this._addTileFeatures(Ye.range((Ze-Be)/lt,ot,(Ze+1+Be)/lt,Xe),Ye.points,Ze,Ne,lt,pt),Ze===0&&this._addTileFeatures(Ye.range(1-Be/lt,ot,1,Xe),Ye.points,lt,Ne,lt,pt),Ze===lt-1&&this._addTileFeatures(Ye.range(0,ot,Be/lt,Xe),Ye.points,-1,Ne,lt,pt),pt.features.length?pt:null},ne.prototype.getClusterExpansionZoom=function(We){for(var Ze=this._getOriginZoom(We)-1;Ze<=this.options.maxZoom;){var Ne=this.getChildren(We);if(Ze++,Ne.length!==1)break;We=Ne[0].properties.cluster_id}return Ze},ne.prototype._appendLeaves=function(We,Ze,Ne,Ye,lt){for(var at=0,Fe=this.getChildren(Ze);at<Fe.length;at+=1){var Be=Fe[at],ot=Be.properties;if(ot&&ot.cluster?lt+ot.point_count<=Ye?lt+=ot.point_count:lt=this._appendLeaves(We,ot.cluster_id,Ne,Ye,lt):lt<Ye?lt++:We.push(Be),We.length===Ne)break}return lt},ne.prototype._addTileFeatures=function(We,Ze,Ne,Ye,lt,at){for(var Fe=0,Be=We;Fe<Be.length;Fe+=1){var ot=Ze[Be[Fe]],Xe=ot.numPoints,pt={type:1,geometry:[[Math.round(this.options.extent*(ot.x*lt-Ne)),Math.round(this.options.extent*(ot.y*lt-Ye))]],tags:Xe?ce(ot):this.points[ot.index].properties},mt=void 0;Xe?mt=ot.id:this.options.generateId?mt=ot.index:this.points[ot.index].id&&(mt=this.points[ot.index].id),mt!==void 0&&(pt.id=mt),at.features.push(pt)}},ne.prototype._limitZoom=function(We){return Math.max(this.options.minZoom,Math.min(+We,this.options.maxZoom+1))},ne.prototype._cluster=function(We,Ze){for(var Ne=[],Ye=this.options,lt=Ye.radius,at=Ye.extent,Fe=Ye.reduce,Be=Ye.minPoints,ot=lt/(at*Math.pow(2,Ze)),Xe=0;Xe<We.length;Xe++){var pt=We[Xe];if(!(pt.zoom<=Ze)){pt.zoom=Ze;for(var mt=this.trees[Ze+1],yt=mt.within(pt.x,pt.y,ot),ht=pt.numPoints||1,Lt=ht,Tt=0,bt=yt;Tt<bt.length;Tt+=1){var Pt=bt[Tt],Ot=mt.points[Pt];Ot.zoom>Ze&&(Lt+=Ot.numPoints||1)}if(Lt>=Be){for(var Bt=pt.x*ht,Kt=pt.y*ht,on=Fe&&ht>1?this._map(pt,!0):null,qt=(Xe<<5)+(Ze+1)+this.points.length,Wt=0,nn=yt;Wt<nn.length;Wt+=1){var En=nn[Wt],Mn=mt.points[En];if(!(Mn.zoom<=Ze)){Mn.zoom=Ze;var dn=Mn.numPoints||1;Bt+=Mn.x*dn,Kt+=Mn.y*dn,Mn.parentId=qt,Fe&&(on||(on=this._map(pt,!0)),Fe(on,this._map(Mn)))}}pt.parentId=qt,Ne.push(ie(Bt/Lt,Kt/Lt,qt,Lt,on))}else if(Ne.push(pt),Lt>1)for(var Jt=0,un=yt;Jt<un.length;Jt+=1){var rn=un[Jt],hn=mt.points[rn];hn.zoom<=Ze||(hn.zoom=Ze,Ne.push(hn))}}}return Ne},ne.prototype._getOriginId=function(We){return We-this.points.length>>5},ne.prototype._getOriginZoom=function(We){return(We-this.points.length)%32},ne.prototype._map=function(We,Ze){if(We.numPoints)return Ze?me({},We.properties):We.properties;var Ne=this.points[We.index].properties,Ye=this.options.map(Ne);return Ze&&Ye===Ne?me({},Ye):Ye},nt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},nt.prototype.splitTile=function(We,Ze,Ne,Ye,lt,at,Fe){for(var Be=[We,Ze,Ne,Ye],ot=this.options,Xe=ot.debug;Be.length;){Ye=Be.pop(),Ne=Be.pop(),Ze=Be.pop(),We=Be.pop();var pt=1<<Ze,mt=Mt(Ze,Ne,Ye),yt=this.tiles[mt];if(!yt&&(Xe>1&&console.time("creation"),yt=this.tiles[mt]=_t(We,Ze,Ne,Ye,ot),this.tileCoords.push({z:Ze,x:Ne,y:Ye}),Xe)){Xe>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Ze,Ne,Ye,yt.numFeatures,yt.numPoints,yt.numSimplified),console.timeEnd("creation"));var ht="z"+Ze;this.stats[ht]=(this.stats[ht]||0)+1,this.total++}if(yt.source=We,lt){if(Ze===ot.maxZoom||Ze===lt)continue;var Lt=1<<lt-Ze;if(Ne!==Math.floor(at/Lt)||Ye!==Math.floor(Fe/Lt))continue}else if(Ze===ot.indexMaxZoom||yt.numPoints<=ot.indexMaxPoints)continue;if(yt.source=null,We.length!==0){Xe>1&&console.time("clipping");var Tt,bt,Pt,Ot,Bt,Kt,on=.5*ot.buffer/ot.extent,qt=.5-on,Wt=.5+on,nn=1+on;Tt=bt=Pt=Ot=null,Bt=he(We,pt,Ne-on,Ne+Wt,0,yt.minX,yt.maxX,ot),Kt=he(We,pt,Ne+qt,Ne+nn,0,yt.minX,yt.maxX,ot),We=null,Bt&&(Tt=he(Bt,pt,Ye-on,Ye+Wt,1,yt.minY,yt.maxY,ot),bt=he(Bt,pt,Ye+qt,Ye+nn,1,yt.minY,yt.maxY,ot),Bt=null),Kt&&(Pt=he(Kt,pt,Ye-on,Ye+Wt,1,yt.minY,yt.maxY,ot),Ot=he(Kt,pt,Ye+qt,Ye+nn,1,yt.minY,yt.maxY,ot),Kt=null),Xe>1&&console.timeEnd("clipping"),Be.push(Tt||[],Ze+1,2*Ne,2*Ye),Be.push(bt||[],Ze+1,2*Ne,2*Ye+1),Be.push(Pt||[],Ze+1,2*Ne+1,2*Ye),Be.push(Ot||[],Ze+1,2*Ne+1,2*Ye+1)}}},nt.prototype.getTile=function(We,Ze,Ne){var Ye=this.options,lt=Ye.extent,at=Ye.debug;if(We<0||We>24)return null;var Fe=1<<We,Be=Mt(We,Ze=(Ze%Fe+Fe)%Fe,Ne);if(this.tiles[Be])return it(this.tiles[Be],lt);at>1&&console.log("drilling down to z%d-%d-%d",We,Ze,Ne);for(var ot,Xe=We,pt=Ze,mt=Ne;!ot&&Xe>0;)Xe--,pt=Math.floor(pt/2),mt=Math.floor(mt/2),ot=this.tiles[Mt(Xe,pt,mt)];return ot&&ot.source?(at>1&&console.log("found parent tile z%d-%d-%d",Xe,pt,mt),at>1&&console.time("drilling down"),this.splitTile(ot.source,Xe,pt,mt,We,Ze,Ne),at>1&&console.timeEnd("drilling down"),this.tiles[Be]?it(this.tiles[Be],lt):null):null};var Ft=function(We){function Ze(Ne,Ye,lt,at){We.call(this,Ne,Ye,lt,zt),at&&(this.loadGeoJSON=at)}return We&&(Ze.__proto__=We),Ze.prototype=Object.create(We&&We.prototype),Ze.prototype.constructor=Ze,Ze.prototype.loadData=function(Ne,Ye){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Ye,this._pendingLoadDataParams=Ne,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},Ze.prototype._loadData=function(){var Ne=this;if(this._pendingCallback&&this._pendingLoadDataParams){var Ye=this._pendingCallback,lt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var at=!!(lt&&lt.request&&lt.request.collectResourceTiming)&&new a.RequestPerformance(lt.request);this.loadGeoJSON(lt,function(Fe,Be){if(Fe||!Be)return Ye(Fe);if(typeof Be!="object")return Ye(new Error("Input data given to '"+lt.source+"' is not a valid GeoJSON object."));u(Be,!0);try{if(lt.filter){var ot=a.createExpression(lt.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ot.result==="error")throw new Error(ot.value.map(function(yt){return yt.key+": "+yt.message}).join(", "));var Xe=Be.features.filter(function(yt){return ot.value.evaluate({zoom:0},yt)});Be={type:"FeatureCollection",features:Xe}}Ne._geoJSONIndex=lt.cluster?new ne(function(yt){var ht=yt.superclusterOptions,Lt=yt.clusterProperties;if(!Lt||!ht)return ht;for(var Tt={},bt={},Pt={accumulated:null,zoom:0},Ot={properties:null},Bt=Object.keys(Lt),Kt=0,on=Bt;Kt<on.length;Kt+=1){var qt=on[Kt],Wt=Lt[qt],nn=Wt[0],En=Wt[1],Mn=a.createExpression(En),dn=a.createExpression(typeof nn=="string"?[nn,["accumulated"],["get",qt]]:nn);Tt[qt]=Mn.value,bt[qt]=dn.value}return ht.map=function(Jt){Ot.properties=Jt;for(var un={},rn=0,hn=Bt;rn<hn.length;rn+=1){var kn=hn[rn];un[kn]=Tt[kn].evaluate(Pt,Ot)}return un},ht.reduce=function(Jt,un){Ot.properties=un;for(var rn=0,hn=Bt;rn<hn.length;rn+=1){var kn=hn[rn];Pt.accumulated=Jt[kn],Jt[kn]=bt[kn].evaluate(Pt,Ot)}},ht}(lt)).load(Be.features):function(yt,ht){return new nt(yt,ht)}(Be,lt.geojsonVtOptions)}catch(yt){return Ye(yt)}Ne.loaded={};var pt={};if(at){var mt=at.finish();mt&&(pt.resourceTiming={},pt.resourceTiming[lt.source]=JSON.parse(JSON.stringify(mt)))}Ye(null,pt)})}},Ze.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},Ze.prototype.reloadTile=function(Ne,Ye){var lt=this.loaded,at=Ne.uid;return lt&&lt[at]?We.prototype.reloadTile.call(this,Ne,Ye):this.loadTile(Ne,Ye)},Ze.prototype.loadGeoJSON=function(Ne,Ye){if(Ne.request)a.getJSON(Ne.request,Ye);else{if(typeof Ne.data!="string")return Ye(new Error("Input data given to '"+Ne.source+"' is not a valid GeoJSON object."));try{return Ye(null,JSON.parse(Ne.data))}catch{return Ye(new Error("Input data given to '"+Ne.source+"' is not a valid GeoJSON object."))}}},Ze.prototype.removeSource=function(Ne,Ye){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Ye()},Ze.prototype.getClusterExpansionZoom=function(Ne,Ye){try{Ye(null,this._geoJSONIndex.getClusterExpansionZoom(Ne.clusterId))}catch(lt){Ye(lt)}},Ze.prototype.getClusterChildren=function(Ne,Ye){try{Ye(null,this._geoJSONIndex.getChildren(Ne.clusterId))}catch(lt){Ye(lt)}},Ze.prototype.getClusterLeaves=function(Ne,Ye){try{Ye(null,this._geoJSONIndex.getLeaves(Ne.clusterId,Ne.limit,Ne.offset))}catch(lt){Ye(lt)}},Ze}(r),Rt=function(We){var Ze=this;this.self=We,this.actor=new a.Actor(We,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:r,geojson:Ft},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Ne,Ye){if(Ze.workerSourceTypes[Ne])throw new Error('Worker source with name "'+Ne+'" already registered.');Ze.workerSourceTypes[Ne]=Ye},this.self.registerRTLTextPlugin=function(Ne){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=Ne.applyArabicShaping,a.plugin.processBidirectionalText=Ne.processBidirectionalText,a.plugin.processStyledBidirectionalText=Ne.processStyledBidirectionalText}};return Rt.prototype.setReferrer=function(We,Ze){this.referrer=Ze},Rt.prototype.setImages=function(We,Ze,Ne){for(var Ye in this.availableImages[We]=Ze,this.workerSources[We]){var lt=this.workerSources[We][Ye];for(var at in lt)lt[at].availableImages=Ze}Ne()},Rt.prototype.setLayers=function(We,Ze,Ne){this.getLayerIndex(We).replace(Ze),Ne()},Rt.prototype.updateLayers=function(We,Ze,Ne){this.getLayerIndex(We).update(Ze.layers,Ze.removedIds),Ne()},Rt.prototype.loadTile=function(We,Ze,Ne){this.getWorkerSource(We,Ze.type,Ze.source).loadTile(Ze,Ne)},Rt.prototype.loadDEMTile=function(We,Ze,Ne){this.getDEMWorkerSource(We,Ze.source).loadTile(Ze,Ne)},Rt.prototype.reloadTile=function(We,Ze,Ne){this.getWorkerSource(We,Ze.type,Ze.source).reloadTile(Ze,Ne)},Rt.prototype.abortTile=function(We,Ze,Ne){this.getWorkerSource(We,Ze.type,Ze.source).abortTile(Ze,Ne)},Rt.prototype.removeTile=function(We,Ze,Ne){this.getWorkerSource(We,Ze.type,Ze.source).removeTile(Ze,Ne)},Rt.prototype.removeDEMTile=function(We,Ze){this.getDEMWorkerSource(We,Ze.source).removeTile(Ze)},Rt.prototype.removeSource=function(We,Ze,Ne){if(this.workerSources[We]&&this.workerSources[We][Ze.type]&&this.workerSources[We][Ze.type][Ze.source]){var Ye=this.workerSources[We][Ze.type][Ze.source];delete this.workerSources[We][Ze.type][Ze.source],Ye.removeSource!==void 0?Ye.removeSource(Ze,Ne):Ne()}},Rt.prototype.loadWorkerSource=function(We,Ze,Ne){try{this.self.importScripts(Ze.url),Ne()}catch(Ye){Ne(Ye.toString())}},Rt.prototype.syncRTLPluginState=function(We,Ze,Ne){try{a.plugin.setState(Ze);var Ye=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&Ye!=null){this.self.importScripts(Ye);var lt=a.plugin.isParsed();Ne(lt?void 0:new Error("RTL Text Plugin failed to import scripts from "+Ye),lt)}}catch(at){Ne(at.toString())}},Rt.prototype.getAvailableImages=function(We){var Ze=this.availableImages[We];return Ze||(Ze=[]),Ze},Rt.prototype.getLayerIndex=function(We){var Ze=this.layerIndexes[We];return Ze||(Ze=this.layerIndexes[We]=new h),Ze},Rt.prototype.getWorkerSource=function(We,Ze,Ne){var Ye=this;if(this.workerSources[We]||(this.workerSources[We]={}),this.workerSources[We][Ze]||(this.workerSources[We][Ze]={}),!this.workerSources[We][Ze][Ne]){var lt={send:function(at,Fe,Be){Ye.actor.send(at,Fe,Be,We)}};this.workerSources[We][Ze][Ne]=new this.workerSourceTypes[Ze](lt,this.getLayerIndex(We),this.getAvailableImages(We))}return this.workerSources[We][Ze][Ne]},Rt.prototype.getDEMWorkerSource=function(We,Ze){return this.demWorkerSources[We]||(this.demWorkerSources[We]={}),this.demWorkerSources[We][Ze]||(this.demWorkerSources[We][Ze]=new l),this.demWorkerSources[We][Ze]},Rt.prototype.enforceCacheSizeLimit=function(We,Ze){a.enforceCacheSizeLimit(Ze)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Rt(self)),Rt}),k(0,function(a){var w=a.createCommonjsModule(function(N){function W(H){return!q(H)}function q(H){return typeof window<"u"&&typeof document<"u"?Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var re,fe,ye=new Blob([""],{type:"text/javascript"}),Ce=URL.createObjectURL(ye);try{fe=new Worker(Ce),re=!0}catch{re=!1}return fe&&fe.terminate(),URL.revokeObjectURL(Ce),re}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var re=document.createElement("canvas");re.width=re.height=1;var fe=re.getContext("2d");if(!fe)return!1;var ye=fe.getImageData(0,0,1,1);return ye&&ye.width===re.width}()?(ee=H&&H.failIfMajorPerformanceCaveat,L[ee]===void 0&&(L[ee]=function(re){var fe=function(Ce){var De=document.createElement("canvas"),Ue=Object.create(W.webGLContextAttributes);return Ue.failIfMajorPerformanceCaveat=Ce,De.probablySupportsContext?De.probablySupportsContext("webgl",Ue)||De.probablySupportsContext("experimental-webgl",Ue):De.supportsContext?De.supportsContext("webgl",Ue)||De.supportsContext("experimental-webgl",Ue):De.getContext("webgl",Ue)||De.getContext("experimental-webgl",Ue)}(re);if(!fe)return!1;var ye=fe.createShader(fe.VERTEX_SHADER);return!(!ye||fe.isContextLost())&&(fe.shaderSource(ye,"void main() {}"),fe.compileShader(ye),fe.getShaderParameter(ye,fe.COMPILE_STATUS)===!0)}(ee)),L[ee]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser";var ee}N.exports?N.exports=W:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=W,window.mapboxgl.notSupportedReason=q);var L={};W.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),b={create:function(N,W,q){var L=a.window.document.createElement(N);return W!==void 0&&(L.className=W),q&&q.appendChild(L),L},createNS:function(N,W){return a.window.document.createElementNS(N,W)}},h=a.window.document&&a.window.document.documentElement.style;function o(N){if(!h)return N[0];for(var W=0;W<N.length;W++)if(N[W]in h)return N[W];return N[0]}var t,i=o(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);b.disableDrag=function(){h&&i&&(t=h[i],h[i]="none")},b.enableDrag=function(){h&&i&&(h[i]=t)};var n=o(["transform","WebkitTransform"]);b.setTransform=function(N,W){N.style[n]=W};var r=!1;try{var s=Object.defineProperty({},"passive",{get:function(){r=!0}});a.window.addEventListener("test",s,s),a.window.removeEventListener("test",s,s)}catch{r=!1}b.addEventListener=function(N,W,q,L){L===void 0&&(L={}),"passive"in L&&r?N.addEventListener(W,q,L):N.addEventListener(W,q,L.capture)},b.removeEventListener=function(N,W,q,L){L===void 0&&(L={}),"passive"in L&&r?N.removeEventListener(W,q,L):N.removeEventListener(W,q,L.capture)};var l=function(N){N.preventDefault(),N.stopPropagation(),a.window.removeEventListener("click",l,!0)};function u(N){var W=N.userImage;return!!(W&&W.render&&W.render())&&(N.data.replace(new Uint8Array(W.data.buffer)),!0)}b.suppressClick=function(){a.window.addEventListener("click",l,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",l,!0)},0)},b.mousePos=function(N,W){var q=N.getBoundingClientRect();return new a.Point(W.clientX-q.left-N.clientLeft,W.clientY-q.top-N.clientTop)},b.touchPos=function(N,W){for(var q=N.getBoundingClientRect(),L=[],H=0;H<W.length;H++)L.push(new a.Point(W[H].clientX-q.left-N.clientLeft,W[H].clientY-q.top-N.clientTop));return L},b.mouseButton=function(N){return a.window.InstallTrigger!==void 0&&N.button===2&&N.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:N.button},b.remove=function(N){N.parentNode&&N.parentNode.removeChild(N)};var d=function(N){function W(){N.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.isLoaded=function(){return this.loaded},W.prototype.setLoaded=function(q){if(this.loaded!==q&&(this.loaded=q,q)){for(var L=0,H=this.requestors;L<H.length;L+=1){var ee=H[L],re=ee.ids,fe=ee.callback;this._notify(re,fe)}this.requestors=[]}},W.prototype.getImage=function(q){return this.images[q]},W.prototype.addImage=function(q,L){this._validate(q,L)&&(this.images[q]=L)},W.prototype._validate=function(q,L){var H=!0;return this._validateStretch(L.stretchX,L.data&&L.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+q+'" has invalid "stretchX" value'))),H=!1),this._validateStretch(L.stretchY,L.data&&L.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+q+'" has invalid "stretchY" value'))),H=!1),this._validateContent(L.content,L)||(this.fire(new a.ErrorEvent(new Error('Image "'+q+'" has invalid "content" value'))),H=!1),H},W.prototype._validateStretch=function(q,L){if(!q)return!0;for(var H=0,ee=0,re=q;ee<re.length;ee+=1){var fe=re[ee];if(fe[0]<H||fe[1]<fe[0]||L<fe[1])return!1;H=fe[1]}return!0},W.prototype._validateContent=function(q,L){return!(q&&(q.length!==4||q[0]<0||L.data.width<q[0]||q[1]<0||L.data.height<q[1]||q[2]<0||L.data.width<q[2]||q[3]<0||L.data.height<q[3]||q[2]<q[0]||q[3]<q[1]))},W.prototype.updateImage=function(q,L){var H=this.images[q];L.version=H.version+1,this.images[q]=L,this.updatedImages[q]=!0},W.prototype.removeImage=function(q){var L=this.images[q];delete this.images[q],delete this.patterns[q],L.userImage&&L.userImage.onRemove&&L.userImage.onRemove()},W.prototype.listImages=function(){return Object.keys(this.images)},W.prototype.getImages=function(q,L){var H=!0;if(!this.isLoaded())for(var ee=0,re=q;ee<re.length;ee+=1){var fe=re[ee];this.images[fe]||(H=!1)}this.isLoaded()||H?this._notify(q,L):this.requestors.push({ids:q,callback:L})},W.prototype._notify=function(q,L){for(var H={},ee=0,re=q;ee<re.length;ee+=1){var fe=re[ee];this.images[fe]||this.fire(new a.Event("styleimagemissing",{id:fe}));var ye=this.images[fe];ye?H[fe]={data:ye.data.clone(),pixelRatio:ye.pixelRatio,sdf:ye.sdf,version:ye.version,stretchX:ye.stretchX,stretchY:ye.stretchY,content:ye.content,hasRenderCallback:Boolean(ye.userImage&&ye.userImage.render)}:a.warnOnce('Image "'+fe+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}L(null,H)},W.prototype.getPixelSize=function(){var q=this.atlasImage;return{width:q.width,height:q.height}},W.prototype.getPattern=function(q){var L=this.patterns[q],H=this.getImage(q);if(!H)return null;if(L&&L.position.version===H.version)return L.position;if(L)L.position.version=H.version;else{var ee={w:H.data.width+2,h:H.data.height+2,x:0,y:0},re=new a.ImagePosition(ee,H);this.patterns[q]={bin:ee,position:re}}return this._updatePatternAtlas(),this.patterns[q].position},W.prototype.bind=function(q){var L=q.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(q,this.atlasImage,L.RGBA),this.atlasTexture.bind(L.LINEAR,L.CLAMP_TO_EDGE)},W.prototype._updatePatternAtlas=function(){var q=[];for(var L in this.patterns)q.push(this.patterns[L].bin);var H=a.potpack(q),ee=H.w,re=H.h,fe=this.atlasImage;for(var ye in fe.resize({width:ee||1,height:re||1}),this.patterns){var Ce=this.patterns[ye].bin,De=Ce.x+1,Ue=Ce.y+1,Ge=this.images[ye].data,tt=Ge.width,ft=Ge.height;a.RGBAImage.copy(Ge,fe,{x:0,y:0},{x:De,y:Ue},{width:tt,height:ft}),a.RGBAImage.copy(Ge,fe,{x:0,y:ft-1},{x:De,y:Ue-1},{width:tt,height:1}),a.RGBAImage.copy(Ge,fe,{x:0,y:0},{x:De,y:Ue+ft},{width:tt,height:1}),a.RGBAImage.copy(Ge,fe,{x:tt-1,y:0},{x:De-1,y:Ue},{width:1,height:ft}),a.RGBAImage.copy(Ge,fe,{x:0,y:0},{x:De+tt,y:Ue},{width:1,height:ft})}this.dirty=!0},W.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},W.prototype.dispatchRenderCallbacks=function(q){for(var L=0,H=q;L<H.length;L+=1){var ee=H[L];if(!this.callbackDispatchedThisFrame[ee]){this.callbackDispatchedThisFrame[ee]=!0;var re=this.images[ee];u(re)&&this.updateImage(ee,re)}}},W}(a.Evented),c=p,x=p,g=1e20;function p(N,W,q,L,H,ee){this.fontSize=N||24,this.buffer=W===void 0?3:W,this.cutoff=L||.25,this.fontFamily=H||"sans-serif",this.fontWeight=ee||"normal",this.radius=q||8;var re=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=re,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(re*re),this.gridInner=new Float64Array(re*re),this.f=new Float64Array(re),this.d=new Float64Array(re),this.z=new Float64Array(re+1),this.v=new Int16Array(re),this.middle=Math.round(re/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function v(N,W,q,L,H,ee,re){for(var fe=0;fe<W;fe++){for(var ye=0;ye<q;ye++)L[ye]=N[ye*W+fe];for(y(L,H,ee,re,q),ye=0;ye<q;ye++)N[ye*W+fe]=H[ye]}for(ye=0;ye<q;ye++){for(fe=0;fe<W;fe++)L[fe]=N[ye*W+fe];for(y(L,H,ee,re,W),fe=0;fe<W;fe++)N[ye*W+fe]=Math.sqrt(H[fe])}}function y(N,W,q,L,H){q[0]=0,L[0]=-g,L[1]=+g;for(var ee=1,re=0;ee<H;ee++){for(var fe=(N[ee]+ee*ee-(N[q[re]]+q[re]*q[re]))/(2*ee-2*q[re]);fe<=L[re];)re--,fe=(N[ee]+ee*ee-(N[q[re]]+q[re]*q[re]))/(2*ee-2*q[re]);q[++re]=ee,L[re]=fe,L[re+1]=+g}for(ee=0,re=0;ee<H;ee++){for(;L[re+1]<ee;)re++;W[ee]=(ee-q[re])*(ee-q[re])+N[q[re]]}}p.prototype.draw=function(N){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(N,this.buffer,this.middle);for(var W=this.ctx.getImageData(0,0,this.size,this.size),q=new Uint8ClampedArray(this.size*this.size),L=0;L<this.size*this.size;L++){var H=W.data[4*L+3]/255;this.gridOuter[L]=H===1?0:H===0?g:Math.pow(Math.max(0,.5-H),2),this.gridInner[L]=H===1?g:H===0?0:Math.pow(Math.max(0,H-.5),2)}for(v(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),v(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),L=0;L<this.size*this.size;L++){var ee=this.gridOuter[L]-this.gridInner[L];q[L]=Math.max(0,Math.min(255,Math.round(255-255*(ee/this.radius+this.cutoff))))}return q},c.default=x;var m=function(N,W){this.requestManager=N,this.localIdeographFontFamily=W,this.entries={}};m.prototype.setURL=function(N){this.url=N},m.prototype.getGlyphs=function(N,W){var q=this,L=[];for(var H in N)for(var ee=0,re=N[H];ee<re.length;ee+=1){var fe=re[ee];L.push({stack:H,id:fe})}a.asyncAll(L,function(ye,Ce){var De=ye.stack,Ue=ye.id,Ge=q.entries[De];Ge||(Ge=q.entries[De]={glyphs:{},requests:{},ranges:{}});var tt=Ge.glyphs[Ue];if(tt===void 0){if(tt=q._tinySDF(Ge,De,Ue))return Ge.glyphs[Ue]=tt,void Ce(null,{stack:De,id:Ue,glyph:tt});var ft=Math.floor(Ue/256);if(256*ft>65535)Ce(new Error("glyphs > 65535 not supported"));else if(Ge.ranges[ft])Ce(null,{stack:De,id:Ue,glyph:tt});else{var dt=Ge.requests[ft];dt||(dt=Ge.requests[ft]=[],m.loadGlyphRange(De,ft,q.url,q.requestManager,function(At,Ct){if(Ct){for(var Et in Ct)q._doesCharSupportLocalGlyph(+Et)||(Ge.glyphs[+Et]=Ct[+Et]);Ge.ranges[ft]=!0}for(var jt=0,Dt=dt;jt<Dt.length;jt+=1)(0,Dt[jt])(At,Ct);delete Ge.requests[ft]})),dt.push(function(At,Ct){At?Ce(At):Ct&&Ce(null,{stack:De,id:Ue,glyph:Ct[Ue]||null})})}}else Ce(null,{stack:De,id:Ue,glyph:tt})},function(ye,Ce){if(ye)W(ye);else if(Ce){for(var De={},Ue=0,Ge=Ce;Ue<Ge.length;Ue+=1){var tt=Ge[Ue],ft=tt.stack,dt=tt.id,At=tt.glyph;(De[ft]||(De[ft]={}))[dt]=At&&{id:At.id,bitmap:At.bitmap.clone(),metrics:At.metrics}}W(null,De)}})},m.prototype._doesCharSupportLocalGlyph=function(N){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](N)||a.isChar["Hangul Syllables"](N)||a.isChar.Hiragana(N)||a.isChar.Katakana(N))},m.prototype._tinySDF=function(N,W,q){var L=this.localIdeographFontFamily;if(L&&this._doesCharSupportLocalGlyph(q)){var H=N.tinySDF;if(!H){var ee="400";/bold/i.test(W)?ee="900":/medium/i.test(W)?ee="500":/light/i.test(W)&&(ee="200"),H=N.tinySDF=new m.TinySDF(24,3,8,.25,L,ee)}return{id:q,bitmap:new a.AlphaImage({width:30,height:30},H.draw(String.fromCharCode(q))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},m.loadGlyphRange=function(N,W,q,L,H){var ee=256*W,re=ee+255,fe=L.transformRequest(L.normalizeGlyphsURL(q).replace("{fontstack}",N).replace("{range}",ee+"-"+re),a.ResourceType.Glyphs);a.getArrayBuffer(fe,function(ye,Ce){if(ye)H(ye);else if(Ce){for(var De={},Ue=0,Ge=a.parseGlyphPBF(Ce);Ue<Ge.length;Ue+=1){var tt=Ge[Ue];De[tt.id]=tt}H(null,De)}})},m.TinySDF=c;var _=function(){this.specification=a.styleSpec.light.position};_.prototype.possiblyEvaluate=function(N,W){return a.sphericalToCartesian(N.expression.evaluate(W))},_.prototype.interpolate=function(N,W,q){return{x:a.number(N.x,W.x,q),y:a.number(N.y,W.y,q),z:a.number(N.z,W.z,q)}};var f=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new _,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),S="-transition",T=function(N){function W(q){N.call(this),this._transitionable=new a.Transitionable(f),this.setLight(q),this._transitioning=this._transitionable.untransitioned()}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getLight=function(){return this._transitionable.serialize()},W.prototype.setLight=function(q,L){if(L===void 0&&(L={}),!this._validate(a.validateLight,q,L))for(var H in q){var ee=q[H];a.endsWith(H,S)?this._transitionable.setTransition(H.slice(0,-11),ee):this._transitionable.setValue(H,ee)}},W.prototype.updateTransitions=function(q){this._transitioning=this._transitionable.transitioned(q,this._transitioning)},W.prototype.hasTransition=function(){return this._transitioning.hasTransition()},W.prototype.recalculate=function(q){this.properties=this._transitioning.possiblyEvaluate(q)},W.prototype._validate=function(q,L,H){return(!H||H.validate!==!1)&&a.emitValidationErrors(this,q.call(a.validateStyle,a.extend({value:L,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},W}(a.Evented),E=function(N,W){this.width=N,this.height=W,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};E.prototype.getDash=function(N,W){var q=N.join(",")+String(W);return this.dashEntry[q]||(this.dashEntry[q]=this.addDash(N,W)),this.dashEntry[q]},E.prototype.getDashRanges=function(N,W,q){var L=[],H=N.length%2==1?-N[N.length-1]*q:0,ee=N[0]*q,re=!0;L.push({left:H,right:ee,isDash:re,zeroLength:N[0]===0});for(var fe=N[0],ye=1;ye<N.length;ye++){re=!re;var Ce=N[ye];H=fe*q,ee=(fe+=Ce)*q,L.push({left:H,right:ee,isDash:re,zeroLength:Ce===0})}return L},E.prototype.addRoundDash=function(N,W,q){for(var L=W/2,H=-q;H<=q;H++)for(var ee=this.nextRow+q+H,re=this.width*ee,fe=0,ye=N[fe],Ce=0;Ce<this.width;Ce++){Ce/ye.right>1&&(ye=N[++fe]);var De=Math.abs(Ce-ye.left),Ue=Math.abs(Ce-ye.right),Ge=Math.min(De,Ue),tt=void 0,ft=H/q*(L+1);if(ye.isDash){var dt=L-Math.abs(ft);tt=Math.sqrt(Ge*Ge+dt*dt)}else tt=L-Math.sqrt(Ge*Ge+ft*ft);this.data[re+Ce]=Math.max(0,Math.min(255,tt+128))}},E.prototype.addRegularDash=function(N){for(var W=N.length-1;W>=0;--W){var q=N[W],L=N[W+1];q.zeroLength?N.splice(W,1):L&&L.isDash===q.isDash&&(L.left=q.left,N.splice(W,1))}var H=N[0],ee=N[N.length-1];H.isDash===ee.isDash&&(H.left=ee.left-this.width,ee.right=H.right+this.width);for(var re=this.width*this.nextRow,fe=0,ye=N[fe],Ce=0;Ce<this.width;Ce++){Ce/ye.right>1&&(ye=N[++fe]);var De=Math.abs(Ce-ye.left),Ue=Math.abs(Ce-ye.right),Ge=Math.min(De,Ue),tt=ye.isDash?Ge:-Ge;this.data[re+Ce]=Math.max(0,Math.min(255,tt+128))}},E.prototype.addDash=function(N,W){var q=W?7:0,L=2*q+1;if(this.nextRow+L>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var H=0,ee=0;ee<N.length;ee++)H+=N[ee];if(H!==0){var re=this.width/H,fe=this.getDashRanges(N,this.width,re);W?this.addRoundDash(fe,re,q):this.addRegularDash(fe)}var ye={y:(this.nextRow+q+.5)/this.height,height:2*q/this.height,width:H};return this.nextRow+=L,this.dirty=!0,ye},E.prototype.bind=function(N){var W=N.gl;this.texture?(W.bindTexture(W.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,W.texSubImage2D(W.TEXTURE_2D,0,0,0,this.width,this.height,W.ALPHA,W.UNSIGNED_BYTE,this.data))):(this.texture=W.createTexture(),W.bindTexture(W.TEXTURE_2D,this.texture),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_S,W.REPEAT),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_T,W.REPEAT),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,W.LINEAR),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,W.LINEAR),W.texImage2D(W.TEXTURE_2D,0,W.ALPHA,this.width,this.height,0,W.ALPHA,W.UNSIGNED_BYTE,this.data))};var C=function N(W,q){this.workerPool=W,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var L=this.workerPool.acquire(this.id),H=0;H<L.length;H++){var ee=L[H],re=new N.Actor(ee,q,this.id);re.name="Worker "+H,this.actors.push(re)}};function O(N,W,q){var L=function(H,ee){if(H)return q(H);if(ee){var re=a.pick(a.extend(ee,N),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);ee.vector_layers&&(re.vectorLayers=ee.vector_layers,re.vectorLayerIds=re.vectorLayers.map(function(fe){return fe.id})),re.tiles=W.canonicalizeTileset(re,N.url),q(null,re)}};return N.url?a.getJSON(W.transformRequest(W.normalizeSourceURL(N.url),a.ResourceType.Source),L):a.browser.frame(function(){return L(null,N)})}C.prototype.broadcast=function(N,W,q){q=q||function(){},a.asyncAll(this.actors,function(L,H){L.send(N,W,H)},q)},C.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},C.prototype.remove=function(){this.actors.forEach(function(N){N.remove()}),this.actors=[],this.workerPool.release(this.id)},C.Actor=a.Actor;var I=function(N,W,q){this.bounds=a.LngLatBounds.convert(this.validateBounds(N)),this.minzoom=W||0,this.maxzoom=q||24};I.prototype.validateBounds=function(N){return Array.isArray(N)&&N.length===4?[Math.max(-180,N[0]),Math.max(-90,N[1]),Math.min(180,N[2]),Math.min(90,N[3])]:[-180,-90,180,90]},I.prototype.contains=function(N){var W=Math.pow(2,N.z),q=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*W),L=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*W),H=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*W),ee=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*W);return N.x>=q&&N.x<H&&N.y>=L&&N.y<ee};var z=function(N){function W(q,L,H,ee){if(N.call(this),this.id=q,this.dispatcher=H,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(L,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},L),this._collectResourceTiming=L.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(ee)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.load=function(){var q=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=O(this._options,this.map._requestManager,function(L,H){q._tileJSONRequest=null,q._loaded=!0,L?q.fire(new a.ErrorEvent(L)):H&&(a.extend(q,H),H.bounds&&(q.tileBounds=new I(H.bounds,q.minzoom,q.maxzoom)),a.postTurnstileEvent(H.tiles,q.map._requestManager._customAccessToken),a.postMapLoadEvent(H.tiles,q.map._getMapId(),q.map._requestManager._skuToken,q.map._requestManager._customAccessToken),q.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),q.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},W.prototype.loaded=function(){return this._loaded},W.prototype.hasTile=function(q){return!this.tileBounds||this.tileBounds.contains(q.canonical)},W.prototype.onAdd=function(q){this.map=q,this.load()},W.prototype.setSourceProperty=function(q){this._tileJSONRequest&&this._tileJSONRequest.cancel(),q(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},W.prototype.setTiles=function(q){var L=this;return this.setSourceProperty(function(){L._options.tiles=q}),this},W.prototype.setUrl=function(q){var L=this;return this.setSourceProperty(function(){L.url=q,L._options.url=q}),this},W.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},W.prototype.serialize=function(){return a.extend({},this._options)},W.prototype.loadTile=function(q,L){var H=this.map._requestManager.normalizeTileURL(q.tileID.canonical.url(this.tiles,this.scheme)),ee={request:this.map._requestManager.transformRequest(H,a.ResourceType.Tile),uid:q.uid,tileID:q.tileID,zoom:q.tileID.overscaledZ,tileSize:this.tileSize*q.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function re(fe,ye){return delete q.request,q.aborted?L(null):fe&&fe.status!==404?L(fe):(ye&&ye.resourceTiming&&(q.resourceTiming=ye.resourceTiming),this.map._refreshExpiredTiles&&ye&&q.setExpiryData(ye),q.loadVectorData(ye,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),L(null),void(q.reloadCallback&&(this.loadTile(q,q.reloadCallback),q.reloadCallback=null)))}ee.request.collectResourceTiming=this._collectResourceTiming,q.actor&&q.state!=="expired"?q.state==="loading"?q.reloadCallback=L:q.request=q.actor.send("reloadTile",ee,re.bind(this)):(q.actor=this.dispatcher.getActor(),q.request=q.actor.send("loadTile",ee,re.bind(this)))},W.prototype.abortTile=function(q){q.request&&(q.request.cancel(),delete q.request),q.actor&&q.actor.send("abortTile",{uid:q.uid,type:this.type,source:this.id},void 0)},W.prototype.unloadTile=function(q){q.unloadVectorData(),q.actor&&q.actor.send("removeTile",{uid:q.uid,type:this.type,source:this.id},void 0)},W.prototype.hasTransition=function(){return!1},W}(a.Evented),U=function(N){function W(q,L,H,ee){N.call(this),this.id=q,this.dispatcher=H,this.setEventedParent(ee),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},L),a.extend(this,a.pick(L,["url","scheme","tileSize"]))}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.load=function(){var q=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=O(this._options,this.map._requestManager,function(L,H){q._tileJSONRequest=null,q._loaded=!0,L?q.fire(new a.ErrorEvent(L)):H&&(a.extend(q,H),H.bounds&&(q.tileBounds=new I(H.bounds,q.minzoom,q.maxzoom)),a.postTurnstileEvent(H.tiles),a.postMapLoadEvent(H.tiles,q.map._getMapId(),q.map._requestManager._skuToken),q.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),q.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},W.prototype.loaded=function(){return this._loaded},W.prototype.onAdd=function(q){this.map=q,this.load()},W.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},W.prototype.serialize=function(){return a.extend({},this._options)},W.prototype.hasTile=function(q){return!this.tileBounds||this.tileBounds.contains(q.canonical)},W.prototype.loadTile=function(q,L){var H=this,ee=this.map._requestManager.normalizeTileURL(q.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);q.request=a.getImage(this.map._requestManager.transformRequest(ee,a.ResourceType.Tile),function(re,fe){if(delete q.request,q.aborted)q.state="unloaded",L(null);else if(re)q.state="errored",L(re);else if(fe){H.map._refreshExpiredTiles&&q.setExpiryData(fe),delete fe.cacheControl,delete fe.expires;var ye=H.map.painter.context,Ce=ye.gl;q.texture=H.map.painter.getTileTexture(fe.width),q.texture?q.texture.update(fe,{useMipmap:!0}):(q.texture=new a.Texture(ye,fe,Ce.RGBA,{useMipmap:!0}),q.texture.bind(Ce.LINEAR,Ce.CLAMP_TO_EDGE,Ce.LINEAR_MIPMAP_NEAREST),ye.extTextureFilterAnisotropic&&Ce.texParameterf(Ce.TEXTURE_2D,ye.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ye.extTextureFilterAnisotropicMax)),q.state="loaded",a.cacheEntryPossiblyAdded(H.dispatcher),L(null)}})},W.prototype.abortTile=function(q,L){q.request&&(q.request.cancel(),delete q.request),L()},W.prototype.unloadTile=function(q,L){q.texture&&this.map.painter.saveTileTexture(q.texture),L()},W.prototype.hasTransition=function(){return!1},W}(a.Evented),D=function(N){function W(q,L,H,ee){N.call(this,q,L,H,ee),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},L),this.encoding=L.encoding||"mapbox"}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},W.prototype.loadTile=function(q,L){var H=this.map._requestManager.normalizeTileURL(q.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function ee(re,fe){re&&(q.state="errored",L(re)),fe&&(q.dem=fe,q.needsHillshadePrepare=!0,q.state="loaded",L(null))}q.request=a.getImage(this.map._requestManager.transformRequest(H,a.ResourceType.Tile),function(re,fe){if(delete q.request,q.aborted)q.state="unloaded",L(null);else if(re)q.state="errored",L(re);else if(fe){this.map._refreshExpiredTiles&&q.setExpiryData(fe),delete fe.cacheControl,delete fe.expires;var ye=a.window.ImageBitmap&&fe instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported()?fe:a.browser.getImageData(fe,1),Ce={uid:q.uid,coord:q.tileID,source:this.id,rawImageData:ye,encoding:this.encoding};q.actor&&q.state!=="expired"||(q.actor=this.dispatcher.getActor(),q.actor.send("loadDEMTile",Ce,ee.bind(this)))}}.bind(this)),q.neighboringTiles=this._getNeighboringTiles(q.tileID)},W.prototype._getNeighboringTiles=function(q){var L=q.canonical,H=Math.pow(2,L.z),ee=(L.x-1+H)%H,re=L.x===0?q.wrap-1:q.wrap,fe=(L.x+1+H)%H,ye=L.x+1===H?q.wrap+1:q.wrap,Ce={};return Ce[new a.OverscaledTileID(q.overscaledZ,re,L.z,ee,L.y).key]={backfilled:!1},Ce[new a.OverscaledTileID(q.overscaledZ,ye,L.z,fe,L.y).key]={backfilled:!1},L.y>0&&(Ce[new a.OverscaledTileID(q.overscaledZ,re,L.z,ee,L.y-1).key]={backfilled:!1},Ce[new a.OverscaledTileID(q.overscaledZ,q.wrap,L.z,L.x,L.y-1).key]={backfilled:!1},Ce[new a.OverscaledTileID(q.overscaledZ,ye,L.z,fe,L.y-1).key]={backfilled:!1}),L.y+1<H&&(Ce[new a.OverscaledTileID(q.overscaledZ,re,L.z,ee,L.y+1).key]={backfilled:!1},Ce[new a.OverscaledTileID(q.overscaledZ,q.wrap,L.z,L.x,L.y+1).key]={backfilled:!1},Ce[new a.OverscaledTileID(q.overscaledZ,ye,L.z,fe,L.y+1).key]={backfilled:!1}),Ce},W.prototype.unloadTile=function(q){q.demTexture&&this.map.painter.saveTileTexture(q.demTexture),q.fbo&&(q.fbo.destroy(),delete q.fbo),q.dem&&delete q.dem,delete q.neighboringTiles,q.state="unloaded",q.actor&&q.actor.send("removeDEMTile",{uid:q.uid,source:this.id})},W}(U),B=function(N){function W(q,L,H,ee){N.call(this),this.id=q,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=H.getActor(),this.setEventedParent(ee),this._data=L.data,this._options=a.extend({},L),this._collectResourceTiming=L.collectResourceTiming,this._resourceTiming=[],L.maxzoom!==void 0&&(this.maxzoom=L.maxzoom),L.type&&(this.type=L.type),L.attribution&&(this.attribution=L.attribution),this.promoteId=L.promoteId;var re=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:L.cluster||!1,geojsonVtOptions:{buffer:(L.buffer!==void 0?L.buffer:128)*re,tolerance:(L.tolerance!==void 0?L.tolerance:.375)*re,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:L.lineMetrics||!1,generateId:L.generateId||!1},superclusterOptions:{maxZoom:L.clusterMaxZoom!==void 0?Math.min(L.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,L.clusterMinPoints||2),extent:a.EXTENT,radius:(L.clusterRadius||50)*re,log:!1,generateId:L.generateId||!1},clusterProperties:L.clusterProperties,filter:L.filter},L.workerOptions)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.load=function(){var q=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(L){if(L)q.fire(new a.ErrorEvent(L));else{var H={dataType:"source",sourceDataType:"metadata"};q._collectResourceTiming&&q._resourceTiming&&q._resourceTiming.length>0&&(H.resourceTiming=q._resourceTiming,q._resourceTiming=[]),q.fire(new a.Event("data",H))}})},W.prototype.onAdd=function(q){this.map=q,this.load()},W.prototype.setData=function(q){var L=this;return this._data=q,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(H){if(H)L.fire(new a.ErrorEvent(H));else{var ee={dataType:"source",sourceDataType:"content"};L._collectResourceTiming&&L._resourceTiming&&L._resourceTiming.length>0&&(ee.resourceTiming=L._resourceTiming,L._resourceTiming=[]),L.fire(new a.Event("data",ee))}}),this},W.prototype.getClusterExpansionZoom=function(q,L){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:q,source:this.id},L),this},W.prototype.getClusterChildren=function(q,L){return this.actor.send("geojson.getClusterChildren",{clusterId:q,source:this.id},L),this},W.prototype.getClusterLeaves=function(q,L,H,ee){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:q,limit:L,offset:H},ee),this},W.prototype._updateWorkerData=function(q){var L=this;this._loaded=!1;var H=a.extend({},this.workerOptions),ee=this._data;typeof ee=="string"?(H.request=this.map._requestManager.transformRequest(a.browser.resolveURL(ee),a.ResourceType.Source),H.request.collectResourceTiming=this._collectResourceTiming):H.data=JSON.stringify(ee),this.actor.send(this.type+".loadData",H,function(re,fe){L._removed||fe&&fe.abandoned||(L._loaded=!0,fe&&fe.resourceTiming&&fe.resourceTiming[L.id]&&(L._resourceTiming=fe.resourceTiming[L.id].slice(0)),L.actor.send(L.type+".coalesce",{source:H.source},null),q(re))})},W.prototype.loaded=function(){return this._loaded},W.prototype.loadTile=function(q,L){var H=this,ee=q.actor?"reloadTile":"loadTile";q.actor=this.actor;var re={type:this.type,uid:q.uid,tileID:q.tileID,zoom:q.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};q.request=this.actor.send(ee,re,function(fe,ye){return delete q.request,q.unloadVectorData(),q.aborted?L(null):fe?L(fe):(q.loadVectorData(ye,H.map.painter,ee==="reloadTile"),L(null))})},W.prototype.abortTile=function(q){q.request&&(q.request.cancel(),delete q.request),q.aborted=!0},W.prototype.unloadTile=function(q){q.unloadVectorData(),this.actor.send("removeTile",{uid:q.uid,type:this.type,source:this.id})},W.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},W.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},W.prototype.hasTransition=function(){return!1},W}(a.Evented),Z=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),F=function(N){function W(q,L,H,ee){N.call(this),this.id=q,this.dispatcher=H,this.coordinates=L.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(ee),this.options=L}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.load=function(q,L){var H=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(ee,re){H._loaded=!0,ee?H.fire(new a.ErrorEvent(ee)):re&&(H.image=re,q&&(H.coordinates=q),L&&L(),H._finishLoading())})},W.prototype.loaded=function(){return this._loaded},W.prototype.updateImage=function(q){var L=this;return this.image&&q.url?(this.options.url=q.url,this.load(q.coordinates,function(){L.texture=null}),this):this},W.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},W.prototype.onAdd=function(q){this.map=q,this.load()},W.prototype.setCoordinates=function(q){var L=this;this.coordinates=q;var H=q.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(re){for(var fe=1/0,ye=1/0,Ce=-1/0,De=-1/0,Ue=0,Ge=re;Ue<Ge.length;Ue+=1){var tt=Ge[Ue];fe=Math.min(fe,tt.x),ye=Math.min(ye,tt.y),Ce=Math.max(Ce,tt.x),De=Math.max(De,tt.y)}var ft=Ce-fe,dt=De-ye,At=Math.max(ft,dt),Ct=Math.max(0,Math.floor(-Math.log(At)/Math.LN2)),Et=Math.pow(2,Ct);return new a.CanonicalTileID(Ct,Math.floor((fe+Ce)/2*Et),Math.floor((ye+De)/2*Et))}(H),this.minzoom=this.maxzoom=this.tileID.z;var ee=H.map(function(re){return L.tileID.getTilePoint(re)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(ee[0].x,ee[0].y,0,0),this._boundsArray.emplaceBack(ee[1].x,ee[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(ee[3].x,ee[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(ee[2].x,ee[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},W.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var q=this.map.painter.context,L=q.gl;for(var H in this.boundsBuffer||(this.boundsBuffer=q.createVertexBuffer(this._boundsArray,Z.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(q,this.image,L.RGBA),this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE)),this.tiles){var ee=this.tiles[H];ee.state!=="loaded"&&(ee.state="loaded",ee.texture=this.texture)}}},W.prototype.loadTile=function(q,L){this.tileID&&this.tileID.equals(q.tileID.canonical)?(this.tiles[String(q.tileID.wrap)]=q,q.buckets={},L(null)):(q.state="errored",L(null))},W.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},W.prototype.hasTransition=function(){return!1},W}(a.Evented),j=function(N){function W(q,L,H,ee){N.call(this,q,L,H,ee),this.roundZoom=!0,this.type="video",this.options=L}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.load=function(){var q=this;this._loaded=!1;var L=this.options;this.urls=[];for(var H=0,ee=L.urls;H<ee.length;H+=1){var re=ee[H];this.urls.push(this.map._requestManager.transformRequest(re,a.ResourceType.Source).url)}a.getVideo(this.urls,function(fe,ye){q._loaded=!0,fe?q.fire(new a.ErrorEvent(fe)):ye&&(q.video=ye,q.video.loop=!0,q.video.addEventListener("playing",function(){q.map.triggerRepaint()}),q.map&&q.video.play(),q._finishLoading())})},W.prototype.pause=function(){this.video&&this.video.pause()},W.prototype.play=function(){this.video&&this.video.play()},W.prototype.seek=function(q){if(this.video){var L=this.video.seekable;q<L.start(0)||q>L.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+L.start(0)+" and "+L.end(0)+"-second mark."))):this.video.currentTime=q}},W.prototype.getVideo=function(){return this.video},W.prototype.onAdd=function(q){this.map||(this.map=q,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},W.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var q=this.map.painter.context,L=q.gl;for(var H in this.boundsBuffer||(this.boundsBuffer=q.createVertexBuffer(this._boundsArray,Z.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE),L.texSubImage2D(L.TEXTURE_2D,0,0,0,L.RGBA,L.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(q,this.video,L.RGBA),this.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE)),this.tiles){var ee=this.tiles[H];ee.state!=="loaded"&&(ee.state="loaded",ee.texture=this.texture)}}},W.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},W.prototype.hasTransition=function(){return this.video&&!this.video.paused},W}(F),V=function(N){function W(q,L,H,ee){N.call(this,q,L,H,ee),L.coordinates?Array.isArray(L.coordinates)&&L.coordinates.length===4&&!L.coordinates.some(function(re){return!Array.isArray(re)||re.length!==2||re.some(function(fe){return typeof fe!="number"})})||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+q,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+q,null,'missing required property "coordinates"'))),L.animate&&typeof L.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+q,null,'optional "animate" property must be a boolean value'))),L.canvas?typeof L.canvas=="string"||L.canvas instanceof a.window.HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+q,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+q,null,'missing required property "canvas"'))),this.options=L,this.animate=L.animate===void 0||L.animate}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},W.prototype.getCanvas=function(){return this.canvas},W.prototype.onAdd=function(q){this.map=q,this.load(),this.canvas&&this.animate&&this.play()},W.prototype.onRemove=function(){this.pause()},W.prototype.prepare=function(){var q=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,q=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,q=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var L=this.map.painter.context,H=L.gl;for(var ee in this.boundsBuffer||(this.boundsBuffer=L.createVertexBuffer(this._boundsArray,Z.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(q||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(L,this.canvas,H.RGBA,{premultiply:!0}),this.tiles){var re=this.tiles[ee];re.state!=="loaded"&&(re.state="loaded",re.texture=this.texture)}}},W.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},W.prototype.hasTransition=function(){return this._playing},W.prototype._hasInvalidDimensions=function(){for(var q=0,L=[this.canvas.width,this.canvas.height];q<L.length;q+=1){var H=L[q];if(isNaN(H)||H<=0)return!0}return!1},W}(F),te={vector:z,raster:U,"raster-dem":D,geojson:B,video:j,image:F,canvas:V};function Q(N,W){var q=a.identity([]);return a.translate(q,q,[1,1,0]),a.scale(q,q,[.5*N.width,.5*N.height,1]),a.multiply(q,q,N.calculatePosMatrix(W.toUnwrapped()))}function $(N,W,q,L,H,ee){var re=function(dt,At,Ct){if(dt)for(var Et=0,jt=dt;Et<jt.length;Et+=1){var Dt=At[jt[Et]];if(Dt&&Dt.source===Ct&&Dt.type==="fill-extrusion")return!0}else for(var $t in At){var Yt=At[$t];if(Yt.source===Ct&&Yt.type==="fill-extrusion")return!0}return!1}(H&&H.layers,W,N.id),fe=ee.maxPitchScaleFactor(),ye=N.tilesIn(L,fe,re);ye.sort(G);for(var Ce=[],De=0,Ue=ye;De<Ue.length;De+=1){var Ge=Ue[De];Ce.push({wrappedTileID:Ge.tileID.wrapped().key,queryResults:Ge.tile.queryRenderedFeatures(W,q,N._state,Ge.queryGeometry,Ge.cameraQueryGeometry,Ge.scale,H,ee,fe,Q(N.transform,Ge.tileID))})}var tt=function(dt){for(var At={},Ct={},Et=0,jt=dt;Et<jt.length;Et+=1){var Dt=jt[Et],$t=Dt.queryResults,Yt=Dt.wrappedTileID,Vt=Ct[Yt]=Ct[Yt]||{};for(var gn in $t)for(var xn=$t[gn],Pn=Vt[gn]=Vt[gn]||{},Rn=At[gn]=At[gn]||[],Wn=0,ir=xn;Wn<ir.length;Wn+=1){var gr=ir[Wn];Pn[gr.featureIndex]||(Pn[gr.featureIndex]=!0,Rn.push(gr))}}return At}(Ce);for(var ft in tt)tt[ft].forEach(function(dt){var At=dt.feature,Ct=N.getFeatureState(At.layer["source-layer"],At.id);At.source=At.layer.source,At.layer["source-layer"]&&(At.sourceLayer=At.layer["source-layer"]),At.state=Ct});return tt}function G(N,W){var q=N.tileID,L=W.tileID;return q.overscaledZ-L.overscaledZ||q.canonical.y-L.canonical.y||q.wrap-L.wrap||q.canonical.x-L.canonical.x}var X=function(N,W){this.max=N,this.onRemove=W,this.reset()};X.prototype.reset=function(){for(var N in this.data)for(var W=0,q=this.data[N];W<q.length;W+=1){var L=q[W];L.timeout&&clearTimeout(L.timeout),this.onRemove(L.value)}return this.data={},this.order=[],this},X.prototype.add=function(N,W,q){var L=this,H=N.wrapped().key;this.data[H]===void 0&&(this.data[H]=[]);var ee={value:W,timeout:void 0};if(q!==void 0&&(ee.timeout=setTimeout(function(){L.remove(N,ee)},q)),this.data[H].push(ee),this.order.push(H),this.order.length>this.max){var re=this._getAndRemoveByKey(this.order[0]);re&&this.onRemove(re)}return this},X.prototype.has=function(N){return N.wrapped().key in this.data},X.prototype.getAndRemove=function(N){return this.has(N)?this._getAndRemoveByKey(N.wrapped().key):null},X.prototype._getAndRemoveByKey=function(N){var W=this.data[N].shift();return W.timeout&&clearTimeout(W.timeout),this.data[N].length===0&&delete this.data[N],this.order.splice(this.order.indexOf(N),1),W.value},X.prototype.getByKey=function(N){var W=this.data[N];return W?W[0].value:null},X.prototype.get=function(N){return this.has(N)?this.data[N.wrapped().key][0].value:null},X.prototype.remove=function(N,W){if(!this.has(N))return this;var q=N.wrapped().key,L=W===void 0?0:this.data[q].indexOf(W),H=this.data[q][L];return this.data[q].splice(L,1),H.timeout&&clearTimeout(H.timeout),this.data[q].length===0&&delete this.data[q],this.onRemove(H.value),this.order.splice(this.order.indexOf(q),1),this},X.prototype.setMaxSize=function(N){for(this.max=N;this.order.length>this.max;){var W=this._getAndRemoveByKey(this.order[0]);W&&this.onRemove(W)}return this},X.prototype.filter=function(N){var W=[];for(var q in this.data)for(var L=0,H=this.data[q];L<H.length;L+=1){var ee=H[L];N(ee.value)||W.push(ee)}for(var re=0,fe=W;re<fe.length;re+=1){var ye=fe[re];this.remove(ye.value.tileID,ye)}};var J=function(N,W,q){this.context=N;var L=N.gl;this.buffer=L.createBuffer(),this.dynamicDraw=Boolean(q),this.context.unbindVAO(),N.bindElementBuffer.set(this.buffer),L.bufferData(L.ELEMENT_ARRAY_BUFFER,W.arrayBuffer,this.dynamicDraw?L.DYNAMIC_DRAW:L.STATIC_DRAW),this.dynamicDraw||delete W.arrayBuffer};J.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},J.prototype.updateData=function(N){var W=this.context.gl;this.context.unbindVAO(),this.bind(),W.bufferSubData(W.ELEMENT_ARRAY_BUFFER,0,N.arrayBuffer)},J.prototype.destroy=function(){var N=this.context.gl;this.buffer&&(N.deleteBuffer(this.buffer),delete this.buffer)};var ne={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},ie=function(N,W,q,L){this.length=W.length,this.attributes=q,this.itemSize=W.bytesPerElement,this.dynamicDraw=L,this.context=N;var H=N.gl;this.buffer=H.createBuffer(),N.bindVertexBuffer.set(this.buffer),H.bufferData(H.ARRAY_BUFFER,W.arrayBuffer,this.dynamicDraw?H.DYNAMIC_DRAW:H.STATIC_DRAW),this.dynamicDraw||delete W.arrayBuffer};ie.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},ie.prototype.updateData=function(N){var W=this.context.gl;this.bind(),W.bufferSubData(W.ARRAY_BUFFER,0,N.arrayBuffer)},ie.prototype.enableAttributes=function(N,W){for(var q=0;q<this.attributes.length;q++){var L=this.attributes[q],H=W.attributes[L.name];H!==void 0&&N.enableVertexAttribArray(H)}},ie.prototype.setVertexAttribPointers=function(N,W,q){for(var L=0;L<this.attributes.length;L++){var H=this.attributes[L],ee=W.attributes[H.name];ee!==void 0&&N.vertexAttribPointer(ee,H.components,N[ne[H.type]],!1,this.itemSize,H.offset+this.itemSize*(q||0))}},ie.prototype.destroy=function(){var N=this.context.gl;this.buffer&&(N.deleteBuffer(this.buffer),delete this.buffer)};var ae=function(N){this.gl=N.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};ae.prototype.get=function(){return this.current},ae.prototype.set=function(N){},ae.prototype.getDefault=function(){return this.default},ae.prototype.setDefault=function(){this.set(this.default)};var le=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return a.Color.transparent},W.prototype.set=function(q){var L=this.current;(q.r!==L.r||q.g!==L.g||q.b!==L.b||q.a!==L.a||this.dirty)&&(this.gl.clearColor(q.r,q.g,q.b,q.a),this.current=q,this.dirty=!1)},W}(ae),ce=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return 1},W.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.clearDepth(q),this.current=q,this.dirty=!1)},W}(ae),pe=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return 0},W.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.clearStencil(q),this.current=q,this.dirty=!1)},W}(ae),ge=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return[!0,!0,!0,!0]},W.prototype.set=function(q){var L=this.current;(q[0]!==L[0]||q[1]!==L[1]||q[2]!==L[2]||q[3]!==L[3]||this.dirty)&&(this.gl.colorMask(q[0],q[1],q[2],q[3]),this.current=q,this.dirty=!1)},W}(ae),me=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return!0},W.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.depthMask(q),this.current=q,this.dirty=!1)},W}(ae),ve=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return 255},W.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.stencilMask(q),this.current=q,this.dirty=!1)},W}(ae),Me=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},W.prototype.set=function(q){var L=this.current;(q.func!==L.func||q.ref!==L.ref||q.mask!==L.mask||this.dirty)&&(this.gl.stencilFunc(q.func,q.ref,q.mask),this.current=q,this.dirty=!1)},W}(ae),_e=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){var q=this.gl;return[q.KEEP,q.KEEP,q.KEEP]},W.prototype.set=function(q){var L=this.current;(q[0]!==L[0]||q[1]!==L[1]||q[2]!==L[2]||this.dirty)&&(this.gl.stencilOp(q[0],q[1],q[2]),this.current=q,this.dirty=!1)},W}(ae),we=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return!1},W.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;q?L.enable(L.STENCIL_TEST):L.disable(L.STENCIL_TEST),this.current=q,this.dirty=!1}},W}(ae),oe=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return[0,1]},W.prototype.set=function(q){var L=this.current;(q[0]!==L[0]||q[1]!==L[1]||this.dirty)&&(this.gl.depthRange(q[0],q[1]),this.current=q,this.dirty=!1)},W}(ae),se=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return!1},W.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;q?L.enable(L.DEPTH_TEST):L.disable(L.DEPTH_TEST),this.current=q,this.dirty=!1}},W}(ae),de=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return this.gl.LESS},W.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.depthFunc(q),this.current=q,this.dirty=!1)},W}(ae),Ee=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return!1},W.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;q?L.enable(L.BLEND):L.disable(L.BLEND),this.current=q,this.dirty=!1}},W}(ae),Te=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){var q=this.gl;return[q.ONE,q.ZERO]},W.prototype.set=function(q){var L=this.current;(q[0]!==L[0]||q[1]!==L[1]||this.dirty)&&(this.gl.blendFunc(q[0],q[1]),this.current=q,this.dirty=!1)},W}(ae),Se=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return a.Color.transparent},W.prototype.set=function(q){var L=this.current;(q.r!==L.r||q.g!==L.g||q.b!==L.b||q.a!==L.a||this.dirty)&&(this.gl.blendColor(q.r,q.g,q.b,q.a),this.current=q,this.dirty=!1)},W}(ae),Le=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return this.gl.FUNC_ADD},W.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.blendEquation(q),this.current=q,this.dirty=!1)},W}(ae),Oe=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return!1},W.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;q?L.enable(L.CULL_FACE):L.disable(L.CULL_FACE),this.current=q,this.dirty=!1}},W}(ae),he=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return this.gl.BACK},W.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.cullFace(q),this.current=q,this.dirty=!1)},W}(ae),xe=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return this.gl.CCW},W.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.frontFace(q),this.current=q,this.dirty=!1)},W}(ae),ke=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return null},W.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.useProgram(q),this.current=q,this.dirty=!1)},W}(ae),Re=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return this.gl.TEXTURE0},W.prototype.set=function(q){(q!==this.current||this.dirty)&&(this.gl.activeTexture(q),this.current=q,this.dirty=!1)},W}(ae),ze=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){var q=this.gl;return[0,0,q.drawingBufferWidth,q.drawingBufferHeight]},W.prototype.set=function(q){var L=this.current;(q[0]!==L[0]||q[1]!==L[1]||q[2]!==L[2]||q[3]!==L[3]||this.dirty)&&(this.gl.viewport(q[0],q[1],q[2],q[3]),this.current=q,this.dirty=!1)},W}(ae),Ie=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return null},W.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;L.bindFramebuffer(L.FRAMEBUFFER,q),this.current=q,this.dirty=!1}},W}(ae),He=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return null},W.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;L.bindRenderbuffer(L.RENDERBUFFER,q),this.current=q,this.dirty=!1}},W}(ae),qe=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return null},W.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;L.bindTexture(L.TEXTURE_2D,q),this.current=q,this.dirty=!1}},W}(ae),Je=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return null},W.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;L.bindBuffer(L.ARRAY_BUFFER,q),this.current=q,this.dirty=!1}},W}(ae),st=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return null},W.prototype.set=function(q){var L=this.gl;L.bindBuffer(L.ELEMENT_ARRAY_BUFFER,q),this.current=q,this.dirty=!1},W}(ae),it=function(N){function W(q){N.call(this,q),this.vao=q.extVertexArrayObject}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return null},W.prototype.set=function(q){this.vao&&(q!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(q),this.current=q,this.dirty=!1)},W}(ae),vt=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return 4},W.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;L.pixelStorei(L.UNPACK_ALIGNMENT,q),this.current=q,this.dirty=!1}},W}(ae),_t=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return!1},W.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;L.pixelStorei(L.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q),this.current=q,this.dirty=!1}},W}(ae),xt=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return!1},W.prototype.set=function(q){if(q!==this.current||this.dirty){var L=this.gl;L.pixelStorei(L.UNPACK_FLIP_Y_WEBGL,q),this.current=q,this.dirty=!1}},W}(ae),et=function(N){function W(q,L){N.call(this,q),this.context=q,this.parent=L}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getDefault=function(){return null},W}(ae),nt=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.setDirty=function(){this.dirty=!0},W.prototype.set=function(q){if(q!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var L=this.gl;L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,q,0),this.current=q,this.dirty=!1}},W}(et),Mt=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.set=function(q){if(q!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var L=this.gl;L.framebufferRenderbuffer(L.FRAMEBUFFER,L.DEPTH_ATTACHMENT,L.RENDERBUFFER,q),this.current=q,this.dirty=!1}},W}(et),zt=function(N,W,q,L){this.context=N,this.width=W,this.height=q;var H=N.gl,ee=this.framebuffer=H.createFramebuffer();this.colorAttachment=new nt(N,ee),L&&(this.depthAttachment=new Mt(N,ee))};zt.prototype.destroy=function(){var N=this.context.gl,W=this.colorAttachment.get();if(W&&N.deleteTexture(W),this.depthAttachment){var q=this.depthAttachment.get();q&&N.deleteRenderbuffer(q)}N.deleteFramebuffer(this.framebuffer)};var Ft=function(N,W,q){this.func=N,this.mask=W,this.range=q};Ft.ReadOnly=!1,Ft.ReadWrite=!0,Ft.disabled=new Ft(519,Ft.ReadOnly,[0,1]);var Rt=7680,We=function(N,W,q,L,H,ee){this.test=N,this.ref=W,this.mask=q,this.fail=L,this.depthFail=H,this.pass=ee};We.disabled=new We({func:519,mask:0},0,0,Rt,Rt,Rt);var Ze=function(N,W,q){this.blendFunction=N,this.blendColor=W,this.mask=q};Ze.Replace=[1,0],Ze.disabled=new Ze(Ze.Replace,a.Color.transparent,[!1,!1,!1,!1]),Ze.unblended=new Ze(Ze.Replace,a.Color.transparent,[!0,!0,!0,!0]),Ze.alphaBlended=new Ze([1,771],a.Color.transparent,[!0,!0,!0,!0]);var Ne=function(N,W,q){this.enable=N,this.mode=W,this.frontFace=q};Ne.disabled=new Ne(!1,1029,2305),Ne.backCCW=new Ne(!0,1029,2305);var Ye=function(N){this.gl=N,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new le(this),this.clearDepth=new ce(this),this.clearStencil=new pe(this),this.colorMask=new ge(this),this.depthMask=new me(this),this.stencilMask=new ve(this),this.stencilFunc=new Me(this),this.stencilOp=new _e(this),this.stencilTest=new we(this),this.depthRange=new oe(this),this.depthTest=new se(this),this.depthFunc=new de(this),this.blend=new Ee(this),this.blendFunc=new Te(this),this.blendColor=new Se(this),this.blendEquation=new Le(this),this.cullFace=new Oe(this),this.cullFaceSide=new he(this),this.frontFace=new xe(this),this.program=new ke(this),this.activeTexture=new Re(this),this.viewport=new ze(this),this.bindFramebuffer=new Ie(this),this.bindRenderbuffer=new He(this),this.bindTexture=new qe(this),this.bindVertexBuffer=new Je(this),this.bindElementBuffer=new st(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new it(this),this.pixelStoreUnpack=new vt(this),this.pixelStoreUnpackPremultiplyAlpha=new _t(this),this.pixelStoreUnpackFlipY=new xt(this),this.extTextureFilterAnisotropic=N.getExtension("EXT_texture_filter_anisotropic")||N.getExtension("MOZ_EXT_texture_filter_anisotropic")||N.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=N.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=N.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(N.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=N.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=N.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=N.getParameter(N.MAX_TEXTURE_SIZE)};Ye.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ye.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ye.prototype.createIndexBuffer=function(N,W){return new J(this,N,W)},Ye.prototype.createVertexBuffer=function(N,W,q){return new ie(this,N,W,q)},Ye.prototype.createRenderbuffer=function(N,W,q){var L=this.gl,H=L.createRenderbuffer();return this.bindRenderbuffer.set(H),L.renderbufferStorage(L.RENDERBUFFER,N,W,q),this.bindRenderbuffer.set(null),H},Ye.prototype.createFramebuffer=function(N,W,q){return new zt(this,N,W,q)},Ye.prototype.clear=function(N){var W=N.color,q=N.depth,L=this.gl,H=0;W&&(H|=L.COLOR_BUFFER_BIT,this.clearColor.set(W),this.colorMask.set([!0,!0,!0,!0])),q!==void 0&&(H|=L.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(q),this.depthMask.set(!0)),L.clear(H)},Ye.prototype.setCullFace=function(N){N.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(N.mode),this.frontFace.set(N.frontFace))},Ye.prototype.setDepthMode=function(N){N.func!==this.gl.ALWAYS||N.mask?(this.depthTest.set(!0),this.depthFunc.set(N.func),this.depthMask.set(N.mask),this.depthRange.set(N.range)):this.depthTest.set(!1)},Ye.prototype.setStencilMode=function(N){N.test.func!==this.gl.ALWAYS||N.mask?(this.stencilTest.set(!0),this.stencilMask.set(N.mask),this.stencilOp.set([N.fail,N.depthFail,N.pass]),this.stencilFunc.set({func:N.test.func,ref:N.ref,mask:N.test.mask})):this.stencilTest.set(!1)},Ye.prototype.setColorMode=function(N){a.deepEqual(N.blendFunction,Ze.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(N.blendFunction),this.blendColor.set(N.blendColor)),this.colorMask.set(N.mask)},Ye.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var lt=function(N){function W(q,L,H){var ee=this;N.call(this),this.id=q,this.dispatcher=H,this.on("data",function(re){re.dataType==="source"&&re.sourceDataType==="metadata"&&(ee._sourceLoaded=!0),ee._sourceLoaded&&!ee._paused&&re.dataType==="source"&&re.sourceDataType==="content"&&(ee.reload(),ee.transform&&ee.update(ee.transform))}),this.on("error",function(){ee._sourceErrored=!0}),this._source=function(re,fe,ye,Ce){var De=new te[fe.type](re,fe,ye,Ce);if(De.id!==re)throw new Error("Expected Source id to be "+re+" instead of "+De.id);return a.bindAll(["load","abort","unload","serialize","prepare"],De),De}(q,L,H,this),this._tiles={},this._cache=new X(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.onAdd=function(q){this.map=q,this._maxTileCacheSize=q?q._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(q)},W.prototype.onRemove=function(q){this._source&&this._source.onRemove&&this._source.onRemove(q)},W.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var q in this._tiles){var L=this._tiles[q];if(L.state!=="loaded"&&L.state!=="errored")return!1}return!0},W.prototype.getSource=function(){return this._source},W.prototype.pause=function(){this._paused=!0},W.prototype.resume=function(){if(this._paused){var q=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,q&&this.reload(),this.transform&&this.update(this.transform)}},W.prototype._loadTile=function(q,L){return this._source.loadTile(q,L)},W.prototype._unloadTile=function(q){if(this._source.unloadTile)return this._source.unloadTile(q,function(){})},W.prototype._abortTile=function(q){if(this._source.abortTile)return this._source.abortTile(q,function(){})},W.prototype.serialize=function(){return this._source.serialize()},W.prototype.prepare=function(q){for(var L in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var H=this._tiles[L];H.upload(q),H.prepare(this.map.style.imageManager)}},W.prototype.getIds=function(){return a.values(this._tiles).map(function(q){return q.tileID}).sort(at).map(function(q){return q.key})},W.prototype.getRenderableIds=function(q){var L=this,H=[];for(var ee in this._tiles)this._isIdRenderable(ee,q)&&H.push(this._tiles[ee]);return q?H.sort(function(re,fe){var ye=re.tileID,Ce=fe.tileID,De=new a.Point(ye.canonical.x,ye.canonical.y)._rotate(L.transform.angle),Ue=new a.Point(Ce.canonical.x,Ce.canonical.y)._rotate(L.transform.angle);return ye.overscaledZ-Ce.overscaledZ||Ue.y-De.y||Ue.x-De.x}).map(function(re){return re.tileID.key}):H.map(function(re){return re.tileID}).sort(at).map(function(re){return re.key})},W.prototype.hasRenderableParent=function(q){var L=this.findLoadedParent(q,0);return!!L&&this._isIdRenderable(L.tileID.key)},W.prototype._isIdRenderable=function(q,L){return this._tiles[q]&&this._tiles[q].hasData()&&!this._coveredTiles[q]&&(L||!this._tiles[q].holdingForFade())},W.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var q in this._cache.reset(),this._tiles)this._tiles[q].state!=="errored"&&this._reloadTile(q,"reloading")},W.prototype._reloadTile=function(q,L){var H=this._tiles[q];H&&(H.state!=="loading"&&(H.state=L),this._loadTile(H,this._tileLoaded.bind(this,H,q,L)))},W.prototype._tileLoaded=function(q,L,H,ee){if(ee)return q.state="errored",void(ee.status!==404?this._source.fire(new a.ErrorEvent(ee,{tile:q})):this.update(this.transform));q.timeAdded=a.browser.now(),H==="expired"&&(q.refreshedUponExpiration=!0),this._setTileReloadTimer(L,q),this.getSource().type==="raster-dem"&&q.dem&&this._backfillDEM(q),this._state.initializeTileState(q,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:q,coord:q.tileID}))},W.prototype._backfillDEM=function(q){for(var L=this.getRenderableIds(),H=0;H<L.length;H++){var ee=L[H];if(q.neighboringTiles&&q.neighboringTiles[ee]){var re=this.getTileByID(ee);fe(q,re),fe(re,q)}}function fe(ye,Ce){ye.needsHillshadePrepare=!0;var De=Ce.tileID.canonical.x-ye.tileID.canonical.x,Ue=Ce.tileID.canonical.y-ye.tileID.canonical.y,Ge=Math.pow(2,ye.tileID.canonical.z),tt=Ce.tileID.key;De===0&&Ue===0||Math.abs(Ue)>1||(Math.abs(De)>1&&(Math.abs(De+Ge)===1?De+=Ge:Math.abs(De-Ge)===1&&(De-=Ge)),Ce.dem&&ye.dem&&(ye.dem.backfillBorder(Ce.dem,De,Ue),ye.neighboringTiles&&ye.neighboringTiles[tt]&&(ye.neighboringTiles[tt].backfilled=!0)))}},W.prototype.getTile=function(q){return this.getTileByID(q.key)},W.prototype.getTileByID=function(q){return this._tiles[q]},W.prototype._retainLoadedChildren=function(q,L,H,ee){for(var re in this._tiles){var fe=this._tiles[re];if(!(ee[re]||!fe.hasData()||fe.tileID.overscaledZ<=L||fe.tileID.overscaledZ>H)){for(var ye=fe.tileID;fe&&fe.tileID.overscaledZ>L+1;){var Ce=fe.tileID.scaledTo(fe.tileID.overscaledZ-1);(fe=this._tiles[Ce.key])&&fe.hasData()&&(ye=Ce)}for(var De=ye;De.overscaledZ>L;)if(q[(De=De.scaledTo(De.overscaledZ-1)).key]){ee[ye.key]=ye;break}}}},W.prototype.findLoadedParent=function(q,L){if(q.key in this._loadedParentTiles){var H=this._loadedParentTiles[q.key];return H&&H.tileID.overscaledZ>=L?H:null}for(var ee=q.overscaledZ-1;ee>=L;ee--){var re=q.scaledTo(ee),fe=this._getLoadedTile(re);if(fe)return fe}},W.prototype._getLoadedTile=function(q){var L=this._tiles[q.key];return L&&L.hasData()?L:this._cache.getByKey(q.wrapped().key)},W.prototype.updateCacheSize=function(q){var L=(Math.ceil(q.width/this._source.tileSize)+1)*(Math.ceil(q.height/this._source.tileSize)+1),H=Math.floor(5*L),ee=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,H):H;this._cache.setMaxSize(ee)},W.prototype.handleWrapJump=function(q){var L=(q-(this._prevLng===void 0?q:this._prevLng))/360,H=Math.round(L);if(this._prevLng=q,H){var ee={};for(var re in this._tiles){var fe=this._tiles[re];fe.tileID=fe.tileID.unwrapTo(fe.tileID.wrap+H),ee[fe.tileID.key]=fe}for(var ye in this._tiles=ee,this._timers)clearTimeout(this._timers[ye]),delete this._timers[ye];for(var Ce in this._tiles){var De=this._tiles[Ce];this._setTileReloadTimer(Ce,De)}}},W.prototype.update=function(q){var L=this;if(this.transform=q,this._sourceLoaded&&!this._paused){var H;this.updateCacheSize(q),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?H=q.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Vt){return new a.OverscaledTileID(Vt.canonical.z,Vt.wrap,Vt.canonical.z,Vt.canonical.x,Vt.canonical.y)}):(H=q.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(H=H.filter(function(Vt){return L._source.hasTile(Vt)}))):H=[];var ee=q.coveringZoomLevel(this._source),re=Math.max(ee-W.maxOverzooming,this._source.minzoom),fe=Math.max(ee+W.maxUnderzooming,this._source.minzoom),ye=this._updateRetainedTiles(H,ee);if(Fe(this._source.type)){for(var Ce={},De={},Ue=0,Ge=Object.keys(ye);Ue<Ge.length;Ue+=1){var tt=Ge[Ue],ft=ye[tt],dt=this._tiles[tt];if(dt&&!(dt.fadeEndTime&&dt.fadeEndTime<=a.browser.now())){var At=this.findLoadedParent(ft,re);At&&(this._addTile(At.tileID),Ce[At.tileID.key]=At.tileID),De[tt]=ft}}for(var Ct in this._retainLoadedChildren(De,ee,fe,ye),Ce)ye[Ct]||(this._coveredTiles[Ct]=!0,ye[Ct]=Ce[Ct])}for(var Et in ye)this._tiles[Et].clearFadeHold();for(var jt=0,Dt=a.keysDifference(this._tiles,ye);jt<Dt.length;jt+=1){var $t=Dt[jt],Yt=this._tiles[$t];Yt.hasSymbolBuckets&&!Yt.holdingForFade()?Yt.setHoldDuration(this.map._fadeDuration):Yt.hasSymbolBuckets&&!Yt.symbolFadeFinished()||this._removeTile($t)}this._updateLoadedParentTileCache()}},W.prototype.releaseSymbolFadeTiles=function(){for(var q in this._tiles)this._tiles[q].holdingForFade()&&this._removeTile(q)},W.prototype._updateRetainedTiles=function(q,L){for(var H={},ee={},re=Math.max(L-W.maxOverzooming,this._source.minzoom),fe=Math.max(L+W.maxUnderzooming,this._source.minzoom),ye={},Ce=0,De=q;Ce<De.length;Ce+=1){var Ue=De[Ce],Ge=this._addTile(Ue);H[Ue.key]=Ue,Ge.hasData()||L<this._source.maxzoom&&(ye[Ue.key]=Ue)}this._retainLoadedChildren(ye,L,fe,H);for(var tt=0,ft=q;tt<ft.length;tt+=1){var dt=ft[tt],At=this._tiles[dt.key];if(!At.hasData()){if(L+1>this._source.maxzoom){var Ct=dt.children(this._source.maxzoom)[0],Et=this.getTile(Ct);if(Et&&Et.hasData()){H[Ct.key]=Ct;continue}}else{var jt=dt.children(this._source.maxzoom);if(H[jt[0].key]&&H[jt[1].key]&&H[jt[2].key]&&H[jt[3].key])continue}for(var Dt=At.wasRequested(),$t=dt.overscaledZ-1;$t>=re;--$t){var Yt=dt.scaledTo($t);if(ee[Yt.key]||(ee[Yt.key]=!0,!(At=this.getTile(Yt))&&Dt&&(At=this._addTile(Yt)),At&&(H[Yt.key]=Yt,Dt=At.wasRequested(),At.hasData())))break}}}return H},W.prototype._updateLoadedParentTileCache=function(){for(var q in this._loadedParentTiles={},this._tiles){for(var L=[],H=void 0,ee=this._tiles[q].tileID;ee.overscaledZ>0;){if(ee.key in this._loadedParentTiles){H=this._loadedParentTiles[ee.key];break}L.push(ee.key);var re=ee.scaledTo(ee.overscaledZ-1);if(H=this._getLoadedTile(re))break;ee=re}for(var fe=0,ye=L;fe<ye.length;fe+=1){var Ce=ye[fe];this._loadedParentTiles[Ce]=H}}},W.prototype._addTile=function(q){var L=this._tiles[q.key];if(L)return L;(L=this._cache.getAndRemove(q))&&(this._setTileReloadTimer(q.key,L),L.tileID=q,this._state.initializeTileState(L,this.map?this.map.painter:null),this._cacheTimers[q.key]&&(clearTimeout(this._cacheTimers[q.key]),delete this._cacheTimers[q.key],this._setTileReloadTimer(q.key,L)));var H=Boolean(L);return H||(L=new a.Tile(q,this._source.tileSize*q.overscaleFactor()),this._loadTile(L,this._tileLoaded.bind(this,L,q.key,L.state))),L?(L.uses++,this._tiles[q.key]=L,H||this._source.fire(new a.Event("dataloading",{tile:L,coord:L.tileID,dataType:"source"})),L):null},W.prototype._setTileReloadTimer=function(q,L){var H=this;q in this._timers&&(clearTimeout(this._timers[q]),delete this._timers[q]);var ee=L.getExpiryTimeout();ee&&(this._timers[q]=setTimeout(function(){H._reloadTile(q,"expired"),delete H._timers[q]},ee))},W.prototype._removeTile=function(q){var L=this._tiles[q];L&&(L.uses--,delete this._tiles[q],this._timers[q]&&(clearTimeout(this._timers[q]),delete this._timers[q]),L.uses>0||(L.hasData()&&L.state!=="reloading"?this._cache.add(L.tileID,L,L.getExpiryTimeout()):(L.aborted=!0,this._abortTile(L),this._unloadTile(L))))},W.prototype.clearTiles=function(){for(var q in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(q);this._cache.reset()},W.prototype.tilesIn=function(q,L,H){var ee=this,re=[],fe=this.transform;if(!fe)return re;for(var ye=H?fe.getCameraQueryGeometry(q):q,Ce=q.map(function($t){return fe.pointCoordinate($t)}),De=ye.map(function($t){return fe.pointCoordinate($t)}),Ue=this.getIds(),Ge=1/0,tt=1/0,ft=-1/0,dt=-1/0,At=0,Ct=De;At<Ct.length;At+=1){var Et=Ct[At];Ge=Math.min(Ge,Et.x),tt=Math.min(tt,Et.y),ft=Math.max(ft,Et.x),dt=Math.max(dt,Et.y)}for(var jt=function($t){var Yt=ee._tiles[Ue[$t]];if(!Yt.holdingForFade()){var Vt=Yt.tileID,gn=Math.pow(2,fe.zoom-Yt.tileID.overscaledZ),xn=L*Yt.queryPadding*a.EXTENT/Yt.tileSize/gn,Pn=[Vt.getTilePoint(new a.MercatorCoordinate(Ge,tt)),Vt.getTilePoint(new a.MercatorCoordinate(ft,dt))];if(Pn[0].x-xn<a.EXTENT&&Pn[0].y-xn<a.EXTENT&&Pn[1].x+xn>=0&&Pn[1].y+xn>=0){var Rn=Ce.map(function(ir){return Vt.getTilePoint(ir)}),Wn=De.map(function(ir){return Vt.getTilePoint(ir)});re.push({tile:Yt,tileID:Vt,queryGeometry:Rn,cameraQueryGeometry:Wn,scale:gn})}}},Dt=0;Dt<Ue.length;Dt++)jt(Dt);return re},W.prototype.getVisibleCoordinates=function(q){for(var L=this,H=this.getRenderableIds(q).map(function(ye){return L._tiles[ye].tileID}),ee=0,re=H;ee<re.length;ee+=1){var fe=re[ee];fe.posMatrix=this.transform.calculatePosMatrix(fe.toUnwrapped())}return H},W.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Fe(this._source.type))for(var q in this._tiles){var L=this._tiles[q];if(L.fadeEndTime!==void 0&&L.fadeEndTime>=a.browser.now())return!0}return!1},W.prototype.setFeatureState=function(q,L,H){q=q||"_geojsonTileLayer",this._state.updateState(q,L,H)},W.prototype.removeFeatureState=function(q,L,H){q=q||"_geojsonTileLayer",this._state.removeFeatureState(q,L,H)},W.prototype.getFeatureState=function(q,L){return q=q||"_geojsonTileLayer",this._state.getState(q,L)},W.prototype.setDependencies=function(q,L,H){var ee=this._tiles[q];ee&&ee.setDependencies(L,H)},W.prototype.reloadTilesForDependencies=function(q,L){for(var H in this._tiles)this._tiles[H].hasDependency(q,L)&&this._reloadTile(H,"reloading");this._cache.filter(function(ee){return!ee.hasDependency(q,L)})},W}(a.Evented);function at(N,W){var q=Math.abs(2*N.wrap)-+(N.wrap<0),L=Math.abs(2*W.wrap)-+(W.wrap<0);return N.overscaledZ-W.overscaledZ||L-q||W.canonical.y-N.canonical.y||W.canonical.x-N.canonical.x}function Fe(N){return N==="raster"||N==="image"||N==="video"}function Be(){return new a.window.Worker(ut.workerUrl)}lt.maxOverzooming=10,lt.maxUnderzooming=3;var ot="mapboxgl_preloaded_worker_pool",Xe=function(){this.active={}};Xe.prototype.acquire=function(N){if(!this.workers)for(this.workers=[];this.workers.length<Xe.workerCount;)this.workers.push(new Be);return this.active[N]=!0,this.workers.slice()},Xe.prototype.release=function(N){delete this.active[N],this.numActive()===0&&(this.workers.forEach(function(W){W.terminate()}),this.workers=null)},Xe.prototype.isPreloaded=function(){return!!this.active[ot]},Xe.prototype.numActive=function(){return Object.keys(this.active).length};var pt,mt=Math.floor(a.browser.hardwareConcurrency/2);function yt(){return pt||(pt=new Xe),pt}function ht(N,W){var q={};for(var L in N)L!=="ref"&&(q[L]=N[L]);return a.refProperties.forEach(function(H){H in W&&(q[H]=W[H])}),q}function Lt(N){N=N.slice();for(var W=Object.create(null),q=0;q<N.length;q++)W[N[q].id]=N[q];for(var L=0;L<N.length;L++)"ref"in N[L]&&(N[L]=ht(N[L],W[N[L].ref]));return N}Xe.workerCount=Math.max(Math.min(mt,6),1);var Tt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function bt(N,W,q){q.push({command:Tt.addSource,args:[N,W[N]]})}function Pt(N,W,q){W.push({command:Tt.removeSource,args:[N]}),q[N]=!0}function Ot(N,W,q,L){Pt(N,q,L),bt(N,W,q)}function Bt(N,W,q){var L;for(L in N[q])if(N[q].hasOwnProperty(L)&&L!=="data"&&!a.deepEqual(N[q][L],W[q][L]))return!1;for(L in W[q])if(W[q].hasOwnProperty(L)&&L!=="data"&&!a.deepEqual(N[q][L],W[q][L]))return!1;return!0}function Kt(N,W,q,L,H,ee){var re;for(re in W=W||{},N=N||{})N.hasOwnProperty(re)&&(a.deepEqual(N[re],W[re])||q.push({command:ee,args:[L,re,W[re],H]}));for(re in W)W.hasOwnProperty(re)&&!N.hasOwnProperty(re)&&(a.deepEqual(N[re],W[re])||q.push({command:ee,args:[L,re,W[re],H]}))}function on(N){return N.id}function qt(N,W){return N[W.id]=W,N}function Wt(N,W){if(!N)return[{command:Tt.setStyle,args:[W]}];var q=[];try{if(!a.deepEqual(N.version,W.version))return[{command:Tt.setStyle,args:[W]}];a.deepEqual(N.center,W.center)||q.push({command:Tt.setCenter,args:[W.center]}),a.deepEqual(N.zoom,W.zoom)||q.push({command:Tt.setZoom,args:[W.zoom]}),a.deepEqual(N.bearing,W.bearing)||q.push({command:Tt.setBearing,args:[W.bearing]}),a.deepEqual(N.pitch,W.pitch)||q.push({command:Tt.setPitch,args:[W.pitch]}),a.deepEqual(N.sprite,W.sprite)||q.push({command:Tt.setSprite,args:[W.sprite]}),a.deepEqual(N.glyphs,W.glyphs)||q.push({command:Tt.setGlyphs,args:[W.glyphs]}),a.deepEqual(N.transition,W.transition)||q.push({command:Tt.setTransition,args:[W.transition]}),a.deepEqual(N.light,W.light)||q.push({command:Tt.setLight,args:[W.light]});var L={},H=[];(function(re,fe,ye,Ce){var De;for(De in fe=fe||{},re=re||{})re.hasOwnProperty(De)&&(fe.hasOwnProperty(De)||Pt(De,ye,Ce));for(De in fe)fe.hasOwnProperty(De)&&(re.hasOwnProperty(De)?a.deepEqual(re[De],fe[De])||(re[De].type==="geojson"&&fe[De].type==="geojson"&&Bt(re,fe,De)?ye.push({command:Tt.setGeoJSONSourceData,args:[De,fe[De].data]}):Ot(De,fe,ye,Ce)):bt(De,fe,ye))})(N.sources,W.sources,H,L);var ee=[];N.layers&&N.layers.forEach(function(re){L[re.source]?q.push({command:Tt.removeLayer,args:[re.id]}):ee.push(re)}),q=q.concat(H),function(re,fe,ye){fe=fe||[];var Ce,De,Ue,Ge,tt,ft,dt,At=(re=re||[]).map(on),Ct=fe.map(on),Et=re.reduce(qt,{}),jt=fe.reduce(qt,{}),Dt=At.slice(),$t=Object.create(null);for(Ce=0,De=0;Ce<At.length;Ce++)Ue=At[Ce],jt.hasOwnProperty(Ue)?De++:(ye.push({command:Tt.removeLayer,args:[Ue]}),Dt.splice(Dt.indexOf(Ue,De),1));for(Ce=0,De=0;Ce<Ct.length;Ce++)Ue=Ct[Ct.length-1-Ce],Dt[Dt.length-1-Ce]!==Ue&&(Et.hasOwnProperty(Ue)?(ye.push({command:Tt.removeLayer,args:[Ue]}),Dt.splice(Dt.lastIndexOf(Ue,Dt.length-De),1)):De++,ft=Dt[Dt.length-Ce],ye.push({command:Tt.addLayer,args:[jt[Ue],ft]}),Dt.splice(Dt.length-Ce,0,Ue),$t[Ue]=!0);for(Ce=0;Ce<Ct.length;Ce++)if(Ge=Et[Ue=Ct[Ce]],tt=jt[Ue],!$t[Ue]&&!a.deepEqual(Ge,tt))if(a.deepEqual(Ge.source,tt.source)&&a.deepEqual(Ge["source-layer"],tt["source-layer"])&&a.deepEqual(Ge.type,tt.type)){for(dt in Kt(Ge.layout,tt.layout,ye,Ue,null,Tt.setLayoutProperty),Kt(Ge.paint,tt.paint,ye,Ue,null,Tt.setPaintProperty),a.deepEqual(Ge.filter,tt.filter)||ye.push({command:Tt.setFilter,args:[Ue,tt.filter]}),a.deepEqual(Ge.minzoom,tt.minzoom)&&a.deepEqual(Ge.maxzoom,tt.maxzoom)||ye.push({command:Tt.setLayerZoomRange,args:[Ue,tt.minzoom,tt.maxzoom]}),Ge)Ge.hasOwnProperty(dt)&&dt!=="layout"&&dt!=="paint"&&dt!=="filter"&&dt!=="metadata"&&dt!=="minzoom"&&dt!=="maxzoom"&&(dt.indexOf("paint.")===0?Kt(Ge[dt],tt[dt],ye,Ue,dt.slice(6),Tt.setPaintProperty):a.deepEqual(Ge[dt],tt[dt])||ye.push({command:Tt.setLayerProperty,args:[Ue,dt,tt[dt]]}));for(dt in tt)tt.hasOwnProperty(dt)&&!Ge.hasOwnProperty(dt)&&dt!=="layout"&&dt!=="paint"&&dt!=="filter"&&dt!=="metadata"&&dt!=="minzoom"&&dt!=="maxzoom"&&(dt.indexOf("paint.")===0?Kt(Ge[dt],tt[dt],ye,Ue,dt.slice(6),Tt.setPaintProperty):a.deepEqual(Ge[dt],tt[dt])||ye.push({command:Tt.setLayerProperty,args:[Ue,dt,tt[dt]]}))}else ye.push({command:Tt.removeLayer,args:[Ue]}),ft=Dt[Dt.lastIndexOf(Ue)+1],ye.push({command:Tt.addLayer,args:[tt,ft]})}(ee,W.layers,q)}catch(re){console.warn("Unable to compute style diff:",re),q=[{command:Tt.setStyle,args:[W]}]}return q}var nn=function(N,W){this.reset(N,W)};nn.prototype.reset=function(N,W){this.points=N||[],this._distances=[0];for(var q=1;q<this.points.length;q++)this._distances[q]=this._distances[q-1]+this.points[q].dist(this.points[q-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(W||0,.5*this.length),this.paddedLength=this.length-2*this.padding},nn.prototype.lerp=function(N){if(this.points.length===1)return this.points[0];N=a.clamp(N,0,1);for(var W=1,q=this._distances[W],L=N*this.paddedLength+this.padding;q<L&&W<this._distances.length;)q=this._distances[++W];var H=W-1,ee=this._distances[H],re=q-ee,fe=re>0?(L-ee)/re:0;return this.points[H].mult(1-fe).add(this.points[W].mult(fe))};var En=function(N,W,q){var L=this.boxCells=[],H=this.circleCells=[];this.xCellCount=Math.ceil(N/q),this.yCellCount=Math.ceil(W/q);for(var ee=0;ee<this.xCellCount*this.yCellCount;ee++)L.push([]),H.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=N,this.height=W,this.xScale=this.xCellCount/N,this.yScale=this.yCellCount/W,this.boxUid=0,this.circleUid=0};function Mn(N,W,q,L,H){var ee=a.create();return W?(a.scale(ee,ee,[1/H,1/H,1]),q||a.rotateZ(ee,ee,L.angle)):a.multiply(ee,L.labelPlaneMatrix,N),ee}function dn(N,W,q,L,H){if(W){var ee=a.clone(N);return a.scale(ee,ee,[H,H,1]),q||a.rotateZ(ee,ee,-L.angle),ee}return L.glCoordMatrix}function Jt(N,W){var q=[N.x,N.y,0,1];ar(q,q,W);var L=q[3];return{point:new a.Point(q[0]/L,q[1]/L),signedDistanceFromCamera:L}}function un(N,W){return .5+N/W*.5}function rn(N,W){var q=N[0]/N[3],L=N[1]/N[3];return q>=-W[0]&&q<=W[0]&&L>=-W[1]&&L<=W[1]}function hn(N,W,q,L,H,ee,re,fe){var ye=L?N.textSizeData:N.iconSizeData,Ce=a.evaluateSizeForZoom(ye,q.transform.zoom),De=[256/q.width*2+1,256/q.height*2+1],Ue=L?N.text.dynamicLayoutVertexArray:N.icon.dynamicLayoutVertexArray;Ue.clear();for(var Ge=N.lineVertexArray,tt=L?N.text.placedSymbolArray:N.icon.placedSymbolArray,ft=q.transform.width/q.transform.height,dt=!1,At=0;At<tt.length;At++){var Ct=tt.get(At);if(Ct.hidden||Ct.writingMode===a.WritingMode.vertical&&!dt)jn(Ct.numGlyphs,Ue);else{dt=!1;var Et=[Ct.anchorX,Ct.anchorY,0,1];if(a.transformMat4(Et,Et,W),rn(Et,De)){var jt=Et[3],Dt=un(q.transform.cameraToCenterDistance,jt),$t=a.evaluateSizeForFeature(ye,Ce,Ct),Yt=re?$t/Dt:$t*Dt,Vt=new a.Point(Ct.anchorX,Ct.anchorY),gn=Jt(Vt,H).point,xn={},Pn=Dn(Ct,Yt,!1,fe,W,H,ee,N.glyphOffsetArray,Ge,Ue,gn,Vt,xn,ft);dt=Pn.useVertical,(Pn.notEnoughRoom||dt||Pn.needsFlipping&&Dn(Ct,Yt,!0,fe,W,H,ee,N.glyphOffsetArray,Ge,Ue,gn,Vt,xn,ft).notEnoughRoom)&&jn(Ct.numGlyphs,Ue)}else jn(Ct.numGlyphs,Ue)}}L?N.text.dynamicLayoutVertexBuffer.updateData(Ue):N.icon.dynamicLayoutVertexBuffer.updateData(Ue)}function kn(N,W,q,L,H,ee,re,fe,ye,Ce,De){var Ue=fe.glyphStartIndex+fe.numGlyphs,Ge=fe.lineStartIndex,tt=fe.lineStartIndex+fe.lineLength,ft=W.getoffsetX(fe.glyphStartIndex),dt=W.getoffsetX(Ue-1),At=On(N*ft,q,L,H,ee,re,fe.segment,Ge,tt,ye,Ce,De);if(!At)return null;var Ct=On(N*dt,q,L,H,ee,re,fe.segment,Ge,tt,ye,Ce,De);return Ct?{first:At,last:Ct}:null}function Ln(N,W,q,L){return N===a.WritingMode.horizontal&&Math.abs(q.y-W.y)>Math.abs(q.x-W.x)*L?{useVertical:!0}:(N===a.WritingMode.vertical?W.y<q.y:W.x>q.x)?{needsFlipping:!0}:null}function Dn(N,W,q,L,H,ee,re,fe,ye,Ce,De,Ue,Ge,tt){var ft,dt=W/24,At=N.lineOffsetX*dt,Ct=N.lineOffsetY*dt;if(N.numGlyphs>1){var Et=N.glyphStartIndex+N.numGlyphs,jt=N.lineStartIndex,Dt=N.lineStartIndex+N.lineLength,$t=kn(dt,fe,At,Ct,q,De,Ue,N,ye,ee,Ge);if(!$t)return{notEnoughRoom:!0};var Yt=Jt($t.first.point,re).point,Vt=Jt($t.last.point,re).point;if(L&&!q){var gn=Ln(N.writingMode,Yt,Vt,tt);if(gn)return gn}ft=[$t.first];for(var xn=N.glyphStartIndex+1;xn<Et-1;xn++)ft.push(On(dt*fe.getoffsetX(xn),At,Ct,q,De,Ue,N.segment,jt,Dt,ye,ee,Ge));ft.push($t.last)}else{if(L&&!q){var Pn=Jt(Ue,H).point,Rn=N.lineStartIndex+N.segment+1,Wn=new a.Point(ye.getx(Rn),ye.gety(Rn)),ir=Jt(Wn,H),gr=ir.signedDistanceFromCamera>0?ir.point:zn(Ue,Wn,Pn,1,H),Xn=Ln(N.writingMode,Pn,gr,tt);if(Xn)return Xn}var pr=On(dt*fe.getoffsetX(N.glyphStartIndex),At,Ct,q,De,Ue,N.segment,N.lineStartIndex,N.lineStartIndex+N.lineLength,ye,ee,Ge);if(!pr)return{notEnoughRoom:!0};ft=[pr]}for(var wr=0,Pr=ft;wr<Pr.length;wr+=1){var nr=Pr[wr];a.addDynamicAttributes(Ce,nr.point,nr.angle)}return{}}function zn(N,W,q,L,H){var ee=Jt(N.add(N.sub(W)._unit()),H).point,re=q.sub(ee);return q.add(re._mult(L/re.mag()))}function On(N,W,q,L,H,ee,re,fe,ye,Ce,De,Ue){var Ge=L?N-W:N+W,tt=Ge>0?1:-1,ft=0;L&&(tt*=-1,ft=Math.PI),tt<0&&(ft+=Math.PI);for(var dt=tt>0?fe+re:fe+re+1,At=H,Ct=H,Et=0,jt=0,Dt=Math.abs(Ge),$t=[];Et+jt<=Dt;){if((dt+=tt)<fe||dt>=ye)return null;if(Ct=At,$t.push(At),(At=Ue[dt])===void 0){var Yt=new a.Point(Ce.getx(dt),Ce.gety(dt)),Vt=Jt(Yt,De);if(Vt.signedDistanceFromCamera>0)At=Ue[dt]=Vt.point;else{var gn=dt-tt;At=zn(Et===0?ee:new a.Point(Ce.getx(gn),Ce.gety(gn)),Yt,Ct,Dt-Et+1,De)}}Et+=jt,jt=Ct.dist(At)}var xn=(Dt-Et)/jt,Pn=At.sub(Ct),Rn=Pn.mult(xn)._add(Ct);Rn._add(Pn._unit()._perp()._mult(q*tt));var Wn=ft+Math.atan2(At.y-Ct.y,At.x-Ct.x);return $t.push(Rn),{point:Rn,angle:Wn,path:$t}}En.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},En.prototype.insert=function(N,W,q,L,H){this._forEachCell(W,q,L,H,this._insertBoxCell,this.boxUid++),this.boxKeys.push(N),this.bboxes.push(W),this.bboxes.push(q),this.bboxes.push(L),this.bboxes.push(H)},En.prototype.insertCircle=function(N,W,q,L){this._forEachCell(W-L,q-L,W+L,q+L,this._insertCircleCell,this.circleUid++),this.circleKeys.push(N),this.circles.push(W),this.circles.push(q),this.circles.push(L)},En.prototype._insertBoxCell=function(N,W,q,L,H,ee){this.boxCells[H].push(ee)},En.prototype._insertCircleCell=function(N,W,q,L,H,ee){this.circleCells[H].push(ee)},En.prototype._query=function(N,W,q,L,H,ee){if(q<0||N>this.width||L<0||W>this.height)return!H&&[];var re=[];if(N<=0&&W<=0&&this.width<=q&&this.height<=L){if(H)return!0;for(var fe=0;fe<this.boxKeys.length;fe++)re.push({key:this.boxKeys[fe],x1:this.bboxes[4*fe],y1:this.bboxes[4*fe+1],x2:this.bboxes[4*fe+2],y2:this.bboxes[4*fe+3]});for(var ye=0;ye<this.circleKeys.length;ye++){var Ce=this.circles[3*ye],De=this.circles[3*ye+1],Ue=this.circles[3*ye+2];re.push({key:this.circleKeys[ye],x1:Ce-Ue,y1:De-Ue,x2:Ce+Ue,y2:De+Ue})}return ee?re.filter(ee):re}var Ge={hitTest:H,seenUids:{box:{},circle:{}}};return this._forEachCell(N,W,q,L,this._queryCell,re,Ge,ee),H?re.length>0:re},En.prototype._queryCircle=function(N,W,q,L,H){var ee=N-q,re=N+q,fe=W-q,ye=W+q;if(re<0||ee>this.width||ye<0||fe>this.height)return!L&&[];var Ce=[],De={hitTest:L,circle:{x:N,y:W,radius:q},seenUids:{box:{},circle:{}}};return this._forEachCell(ee,fe,re,ye,this._queryCellCircle,Ce,De,H),L?Ce.length>0:Ce},En.prototype.query=function(N,W,q,L,H){return this._query(N,W,q,L,!1,H)},En.prototype.hitTest=function(N,W,q,L,H){return this._query(N,W,q,L,!0,H)},En.prototype.hitTestCircle=function(N,W,q,L){return this._queryCircle(N,W,q,!0,L)},En.prototype._queryCell=function(N,W,q,L,H,ee,re,fe){var ye=re.seenUids,Ce=this.boxCells[H];if(Ce!==null)for(var De=this.bboxes,Ue=0,Ge=Ce;Ue<Ge.length;Ue+=1){var tt=Ge[Ue];if(!ye.box[tt]){ye.box[tt]=!0;var ft=4*tt;if(N<=De[ft+2]&&W<=De[ft+3]&&q>=De[ft+0]&&L>=De[ft+1]&&(!fe||fe(this.boxKeys[tt]))){if(re.hitTest)return ee.push(!0),!0;ee.push({key:this.boxKeys[tt],x1:De[ft],y1:De[ft+1],x2:De[ft+2],y2:De[ft+3]})}}}var dt=this.circleCells[H];if(dt!==null)for(var At=this.circles,Ct=0,Et=dt;Ct<Et.length;Ct+=1){var jt=Et[Ct];if(!ye.circle[jt]){ye.circle[jt]=!0;var Dt=3*jt;if(this._circleAndRectCollide(At[Dt],At[Dt+1],At[Dt+2],N,W,q,L)&&(!fe||fe(this.circleKeys[jt]))){if(re.hitTest)return ee.push(!0),!0;var $t=At[Dt],Yt=At[Dt+1],Vt=At[Dt+2];ee.push({key:this.circleKeys[jt],x1:$t-Vt,y1:Yt-Vt,x2:$t+Vt,y2:Yt+Vt})}}}},En.prototype._queryCellCircle=function(N,W,q,L,H,ee,re,fe){var ye=re.circle,Ce=re.seenUids,De=this.boxCells[H];if(De!==null)for(var Ue=this.bboxes,Ge=0,tt=De;Ge<tt.length;Ge+=1){var ft=tt[Ge];if(!Ce.box[ft]){Ce.box[ft]=!0;var dt=4*ft;if(this._circleAndRectCollide(ye.x,ye.y,ye.radius,Ue[dt+0],Ue[dt+1],Ue[dt+2],Ue[dt+3])&&(!fe||fe(this.boxKeys[ft])))return ee.push(!0),!0}}var At=this.circleCells[H];if(At!==null)for(var Ct=this.circles,Et=0,jt=At;Et<jt.length;Et+=1){var Dt=jt[Et];if(!Ce.circle[Dt]){Ce.circle[Dt]=!0;var $t=3*Dt;if(this._circlesCollide(Ct[$t],Ct[$t+1],Ct[$t+2],ye.x,ye.y,ye.radius)&&(!fe||fe(this.circleKeys[Dt])))return ee.push(!0),!0}}},En.prototype._forEachCell=function(N,W,q,L,H,ee,re,fe){for(var ye=this._convertToXCellCoord(N),Ce=this._convertToYCellCoord(W),De=this._convertToXCellCoord(q),Ue=this._convertToYCellCoord(L),Ge=ye;Ge<=De;Ge++)for(var tt=Ce;tt<=Ue;tt++){var ft=this.xCellCount*tt+Ge;if(H.call(this,N,W,q,L,ft,ee,re,fe))return}},En.prototype._convertToXCellCoord=function(N){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(N*this.xScale)))},En.prototype._convertToYCellCoord=function(N){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(N*this.yScale)))},En.prototype._circlesCollide=function(N,W,q,L,H,ee){var re=L-N,fe=H-W,ye=q+ee;return ye*ye>re*re+fe*fe},En.prototype._circleAndRectCollide=function(N,W,q,L,H,ee,re){var fe=(ee-L)/2,ye=Math.abs(N-(L+fe));if(ye>fe+q)return!1;var Ce=(re-H)/2,De=Math.abs(W-(H+Ce));if(De>Ce+q)return!1;if(ye<=fe||De<=Ce)return!0;var Ue=ye-fe,Ge=De-Ce;return Ue*Ue+Ge*Ge<=q*q};var Hn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function jn(N,W){for(var q=0;q<N;q++){var L=W.length;W.resize(L+4),W.float32.set(Hn,3*L)}}function ar(N,W,q){var L=W[0],H=W[1];return N[0]=q[0]*L+q[4]*H+q[12],N[1]=q[1]*L+q[5]*H+q[13],N[3]=q[3]*L+q[7]*H+q[15],N}var ur=100,cr=function(N,W,q){W===void 0&&(W=new En(N.width+200,N.height+200,25)),q===void 0&&(q=new En(N.width+200,N.height+200,25)),this.transform=N,this.grid=W,this.ignoredGrid=q,this.pitchfactor=Math.cos(N._pitch)*N.cameraToCenterDistance,this.screenRightBoundary=N.width+ur,this.screenBottomBoundary=N.height+ur,this.gridRightBoundary=N.width+200,this.gridBottomBoundary=N.height+200};function er(N,W,q){return W*(a.EXTENT/(N.tileSize*Math.pow(2,q-N.tileID.overscaledZ)))}cr.prototype.placeCollisionBox=function(N,W,q,L,H){var ee=this.projectAndGetPerspectiveRatio(L,N.anchorPointX,N.anchorPointY),re=q*ee.perspectiveRatio,fe=N.x1*re+ee.point.x,ye=N.y1*re+ee.point.y,Ce=N.x2*re+ee.point.x,De=N.y2*re+ee.point.y;return!this.isInsideGrid(fe,ye,Ce,De)||!W&&this.grid.hitTest(fe,ye,Ce,De,H)?{box:[],offscreen:!1}:{box:[fe,ye,Ce,De],offscreen:this.isOffscreen(fe,ye,Ce,De)}},cr.prototype.placeCollisionCircles=function(N,W,q,L,H,ee,re,fe,ye,Ce,De,Ue,Ge){var tt=[],ft=new a.Point(W.anchorX,W.anchorY),dt=Jt(ft,ee),At=un(this.transform.cameraToCenterDistance,dt.signedDistanceFromCamera),Ct=(Ce?H/At:H*At)/a.ONE_EM,Et=Jt(ft,re).point,jt=kn(Ct,L,W.lineOffsetX*Ct,W.lineOffsetY*Ct,!1,Et,ft,W,q,re,{}),Dt=!1,$t=!1,Yt=!0;if(jt){for(var Vt=.5*Ue*At+Ge,gn=new a.Point(-100,-100),xn=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),Pn=new nn,Rn=jt.first,Wn=jt.last,ir=[],gr=Rn.path.length-1;gr>=1;gr--)ir.push(Rn.path[gr]);for(var Xn=1;Xn<Wn.path.length;Xn++)ir.push(Wn.path[Xn]);var pr=2.5*Vt;if(fe){var wr=ir.map(function($r){return Jt($r,fe)});ir=wr.some(function($r){return $r.signedDistanceFromCamera<=0})?[]:wr.map(function($r){return $r.point})}var Pr=[];if(ir.length>0){for(var nr=ir[0].clone(),hr=ir[0].clone(),Ar=1;Ar<ir.length;Ar++)nr.x=Math.min(nr.x,ir[Ar].x),nr.y=Math.min(nr.y,ir[Ar].y),hr.x=Math.max(hr.x,ir[Ar].x),hr.y=Math.max(hr.y,ir[Ar].y);Pr=nr.x>=gn.x&&hr.x<=xn.x&&nr.y>=gn.y&&hr.y<=xn.y?[ir]:hr.x<gn.x||nr.x>xn.x||hr.y<gn.y||nr.y>xn.y?[]:a.clipLine([ir],gn.x,gn.y,xn.x,xn.y)}for(var vr=0,Lr=Pr;vr<Lr.length;vr+=1){var Rr=Lr[vr];Pn.reset(Rr,.25*Vt);var Ur;Ur=Pn.length<=.5*Vt?1:Math.ceil(Pn.paddedLength/pr)+1;for(var Vr=0;Vr<Ur;Vr++){var Gr=Vr/Math.max(Ur-1,1),Xr=Pn.lerp(Gr),mi=Xr.x+ur,Di=Xr.y+ur;tt.push(mi,Di,Vt,0);var ya=mi-Vt,ea=Di-Vt,fa=mi+Vt,Ti=Di+Vt;if(Yt=Yt&&this.isOffscreen(ya,ea,fa,Ti),$t=$t||this.isInsideGrid(ya,ea,fa,Ti),!N&&this.grid.hitTestCircle(mi,Di,Vt,De)&&(Dt=!0,!ye))return{circles:[],offscreen:!1,collisionDetected:Dt}}}}return{circles:!ye&&Dt||!$t?[]:tt,offscreen:Yt,collisionDetected:Dt}},cr.prototype.queryRenderedSymbols=function(N){if(N.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var W=[],q=1/0,L=1/0,H=-1/0,ee=-1/0,re=0,fe=N;re<fe.length;re+=1){var ye=fe[re],Ce=new a.Point(ye.x+ur,ye.y+ur);q=Math.min(q,Ce.x),L=Math.min(L,Ce.y),H=Math.max(H,Ce.x),ee=Math.max(ee,Ce.y),W.push(Ce)}for(var De={},Ue={},Ge=0,tt=this.grid.query(q,L,H,ee).concat(this.ignoredGrid.query(q,L,H,ee));Ge<tt.length;Ge+=1){var ft=tt[Ge],dt=ft.key;if(De[dt.bucketInstanceId]===void 0&&(De[dt.bucketInstanceId]={}),!De[dt.bucketInstanceId][dt.featureIndex]){var At=[new a.Point(ft.x1,ft.y1),new a.Point(ft.x2,ft.y1),new a.Point(ft.x2,ft.y2),new a.Point(ft.x1,ft.y2)];a.polygonIntersectsPolygon(W,At)&&(De[dt.bucketInstanceId][dt.featureIndex]=!0,Ue[dt.bucketInstanceId]===void 0&&(Ue[dt.bucketInstanceId]=[]),Ue[dt.bucketInstanceId].push(dt.featureIndex))}}return Ue},cr.prototype.insertCollisionBox=function(N,W,q,L,H){var ee={bucketInstanceId:q,featureIndex:L,collisionGroupID:H};(W?this.ignoredGrid:this.grid).insert(ee,N[0],N[1],N[2],N[3])},cr.prototype.insertCollisionCircles=function(N,W,q,L,H){for(var ee=W?this.ignoredGrid:this.grid,re={bucketInstanceId:q,featureIndex:L,collisionGroupID:H},fe=0;fe<N.length;fe+=4)ee.insertCircle(re,N[fe],N[fe+1],N[fe+2])},cr.prototype.projectAndGetPerspectiveRatio=function(N,W,q){var L=[W,q,0,1];return ar(L,L,N),{point:new a.Point((L[0]/L[3]+1)/2*this.transform.width+ur,(-L[1]/L[3]+1)/2*this.transform.height+ur),perspectiveRatio:.5+this.transform.cameraToCenterDistance/L[3]*.5}},cr.prototype.isOffscreen=function(N,W,q,L){return q<ur||N>=this.screenRightBoundary||L<ur||W>this.screenBottomBoundary},cr.prototype.isInsideGrid=function(N,W,q,L){return q>=0&&N<this.gridRightBoundary&&L>=0&&W<this.gridBottomBoundary},cr.prototype.getViewportMatrix=function(){var N=a.identity([]);return a.translate(N,N,[-100,-100,0]),N};var Tr=function(N,W,q,L){this.opacity=N?Math.max(0,Math.min(1,N.opacity+(N.placed?W:-W))):L&&q?1:0,this.placed=q};Tr.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Ht=function(N,W,q,L,H){this.text=new Tr(N?N.text:null,W,q,H),this.icon=new Tr(N?N.icon:null,W,L,H)};Ht.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var an=function(N,W,q){this.text=N,this.icon=W,this.skipFade=q},_n=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},vn=function(N,W,q,L,H){this.bucketInstanceId=N,this.featureIndex=W,this.sourceLayerIndex=q,this.bucketIndex=L,this.tileID=H},Cn=function(N){this.crossSourceCollisions=N,this.maxGroupID=0,this.collisionGroups={}};function Gn(N,W,q,L,H){var ee=a.getAnchorAlignment(N),re=-(ee.horizontalAlign-.5)*W,fe=-(ee.verticalAlign-.5)*q,ye=a.evaluateVariableOffset(N,L);return new a.Point(re+ye[0]*H,fe+ye[1]*H)}function Fn(N,W,q,L,H,ee){var re=N.x1,fe=N.x2,ye=N.y1,Ce=N.y2,De=N.anchorPointX,Ue=N.anchorPointY,Ge=new a.Point(W,q);return L&&Ge._rotate(H?ee:-ee),{x1:re+Ge.x,y1:ye+Ge.y,x2:fe+Ge.x,y2:Ce+Ge.y,anchorPointX:De,anchorPointY:Ue}}Cn.prototype.get=function(N){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[N]){var W=++this.maxGroupID;this.collisionGroups[N]={ID:W,predicate:function(q){return q.collisionGroupID===W}}}return this.collisionGroups[N]};var Nn=function(N,W,q,L){this.transform=N.clone(),this.collisionIndex=new cr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=W,this.retainedQueryData={},this.collisionGroups=new Cn(q),this.collisionCircleArrays={},this.prevPlacement=L,L&&(L.prevPlacement=void 0),this.placedOrientations={}};function rr(N,W,q,L,H){N.emplaceBack(W?1:0,q?1:0,L||0,H||0),N.emplaceBack(W?1:0,q?1:0,L||0,H||0),N.emplaceBack(W?1:0,q?1:0,L||0,H||0),N.emplaceBack(W?1:0,q?1:0,L||0,H||0)}Nn.prototype.getBucketParts=function(N,W,q,L){var H=q.getBucket(W),ee=q.latestFeatureIndex;if(H&&ee&&W.id===H.layerIds[0]){var re=q.collisionBoxArray,fe=H.layers[0].layout,ye=Math.pow(2,this.transform.zoom-q.tileID.overscaledZ),Ce=q.tileSize/a.EXTENT,De=this.transform.calculatePosMatrix(q.tileID.toUnwrapped()),Ue=fe.get("text-pitch-alignment")==="map",Ge=fe.get("text-rotation-alignment")==="map",tt=er(q,1,this.transform.zoom),ft=Mn(De,Ue,Ge,this.transform,tt),dt=null;if(Ue){var At=dn(De,Ue,Ge,this.transform,tt);dt=a.multiply([],this.transform.labelPlaneMatrix,At)}this.retainedQueryData[H.bucketInstanceId]=new vn(H.bucketInstanceId,ee,H.sourceLayerIndex,H.index,q.tileID);var Ct={bucket:H,layout:fe,posMatrix:De,textLabelPlaneMatrix:ft,labelToScreenMatrix:dt,scale:ye,textPixelRatio:Ce,holdingForFade:q.holdingForFade(),collisionBoxArray:re,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(H.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(H.sourceID)};if(L)for(var Et=0,jt=H.sortKeyRanges;Et<jt.length;Et+=1){var Dt=jt[Et],$t=Dt.sortKey,Yt=Dt.symbolInstanceStart,Vt=Dt.symbolInstanceEnd;N.push({sortKey:$t,symbolInstanceStart:Yt,symbolInstanceEnd:Vt,parameters:Ct})}else N.push({symbolInstanceStart:0,symbolInstanceEnd:H.symbolInstances.length,parameters:Ct})}},Nn.prototype.attemptAnchorPlacement=function(N,W,q,L,H,ee,re,fe,ye,Ce,De,Ue,Ge,tt,ft){var dt,At=[Ue.textOffset0,Ue.textOffset1],Ct=Gn(N,q,L,At,H),Et=this.collisionIndex.placeCollisionBox(Fn(W,Ct.x,Ct.y,ee,re,this.transform.angle),De,fe,ye,Ce.predicate);if(!ft||this.collisionIndex.placeCollisionBox(Fn(ft,Ct.x,Ct.y,ee,re,this.transform.angle),De,fe,ye,Ce.predicate).box.length!==0)return Et.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[Ue.crossTileID]&&this.prevPlacement.placements[Ue.crossTileID]&&this.prevPlacement.placements[Ue.crossTileID].text&&(dt=this.prevPlacement.variableOffsets[Ue.crossTileID].anchor),this.variableOffsets[Ue.crossTileID]={textOffset:At,width:q,height:L,anchor:N,textBoxScale:H,prevAnchor:dt},this.markUsedJustification(Ge,N,Ue,tt),Ge.allowVerticalPlacement&&(this.markUsedOrientation(Ge,tt,Ue),this.placedOrientations[Ue.crossTileID]=tt),{shift:Ct,placedGlyphBoxes:Et}):void 0},Nn.prototype.placeLayerBucketPart=function(N,W,q){var L=this,H=N.parameters,ee=H.bucket,re=H.layout,fe=H.posMatrix,ye=H.textLabelPlaneMatrix,Ce=H.labelToScreenMatrix,De=H.textPixelRatio,Ue=H.holdingForFade,Ge=H.collisionBoxArray,tt=H.partiallyEvaluatedTextSize,ft=H.collisionGroup,dt=re.get("text-optional"),At=re.get("icon-optional"),Ct=re.get("text-allow-overlap"),Et=re.get("icon-allow-overlap"),jt=re.get("text-rotation-alignment")==="map",Dt=re.get("text-pitch-alignment")==="map",$t=re.get("icon-text-fit")!=="none",Yt=re.get("symbol-z-order")==="viewport-y",Vt=Ct&&(Et||!ee.hasIconData()||At),gn=Et&&(Ct||!ee.hasTextData()||dt);!ee.collisionArrays&&Ge&&ee.deserializeCollisionBoxes(Ge);var xn=function(Xn,pr){if(!W[Xn.crossTileID])if(Ue)L.placements[Xn.crossTileID]=new an(!1,!1,!1);else{var wr,Pr=!1,nr=!1,hr=!0,Ar=null,vr={box:null,offscreen:null},Lr={box:null,offscreen:null},Rr=null,Ur=null,Vr=0,Gr=0,Xr=0;pr.textFeatureIndex?Vr=pr.textFeatureIndex:Xn.useRuntimeCollisionCircles&&(Vr=Xn.featureIndex),pr.verticalTextFeatureIndex&&(Gr=pr.verticalTextFeatureIndex);var mi=pr.textBox;if(mi){var Di=function(Pi){var Va=a.WritingMode.horizontal;if(ee.allowVerticalPlacement&&!Pi&&L.prevPlacement){var sa=L.prevPlacement.placedOrientations[Xn.crossTileID];sa&&(L.placedOrientations[Xn.crossTileID]=sa,Va=sa,L.markUsedOrientation(ee,Va,Xn))}return Va},ya=function(Pi,Va){if(ee.allowVerticalPlacement&&Xn.numVerticalGlyphVertices>0&&pr.verticalTextBox)for(var sa=0,Mu=ee.writingModes;sa<Mu.length&&(Mu[sa]===a.WritingMode.vertical?(vr=Va(),Lr=vr):vr=Pi(),!(vr&&vr.box&&vr.box.length));sa+=1);else vr=Pi()};if(re.get("text-variable-anchor")){var ea=re.get("text-variable-anchor");if(L.prevPlacement&&L.prevPlacement.variableOffsets[Xn.crossTileID]){var fa=L.prevPlacement.variableOffsets[Xn.crossTileID];ea.indexOf(fa.anchor)>0&&(ea=ea.filter(function(Pi){return Pi!==fa.anchor})).unshift(fa.anchor)}var Ti=function(Pi,Va,sa){for(var Mu=Pi.x2-Pi.x1,Gh=Pi.y2-Pi.y1,Af=Xn.textBoxScale,Wh=$t&&!Et?Va:null,au={box:[],offscreen:!1},Yh=Ct?2*ea.length:ea.length,ou=0;ou<Yh;++ou){var Mf=ea[ou%ea.length],Sf=ou>=ea.length,El=L.attemptAnchorPlacement(Mf,Pi,Mu,Gh,Af,jt,Dt,De,fe,ft,Sf,Xn,ee,sa,Wh);if(El&&(au=El.placedGlyphBoxes)&&au.box&&au.box.length){Pr=!0,Ar=El.shift;break}}return au};ya(function(){return Ti(mi,pr.iconBox,a.WritingMode.horizontal)},function(){var Pi=pr.verticalTextBox,Va=vr&&vr.box&&vr.box.length;return ee.allowVerticalPlacement&&!Va&&Xn.numVerticalGlyphVertices>0&&Pi?Ti(Pi,pr.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),vr&&(Pr=vr.box,hr=vr.offscreen);var $r=Di(vr&&vr.box);if(!Pr&&L.prevPlacement){var Li=L.prevPlacement.variableOffsets[Xn.crossTileID];Li&&(L.variableOffsets[Xn.crossTileID]=Li,L.markUsedJustification(ee,Li.anchor,Xn,$r))}}else{var fi=function(Pi,Va){var sa=L.collisionIndex.placeCollisionBox(Pi,Ct,De,fe,ft.predicate);return sa&&sa.box&&sa.box.length&&(L.markUsedOrientation(ee,Va,Xn),L.placedOrientations[Xn.crossTileID]=Va),sa};ya(function(){return fi(mi,a.WritingMode.horizontal)},function(){var Pi=pr.verticalTextBox;return ee.allowVerticalPlacement&&Xn.numVerticalGlyphVertices>0&&Pi?fi(Pi,a.WritingMode.vertical):{box:null,offscreen:null}}),Di(vr&&vr.box&&vr.box.length)}}if(Pr=(wr=vr)&&wr.box&&wr.box.length>0,hr=wr&&wr.offscreen,Xn.useRuntimeCollisionCircles){var ti=ee.text.placedSymbolArray.get(Xn.centerJustifiedTextSymbolIndex),Ci=a.evaluateSizeForFeature(ee.textSizeData,tt,ti),zi=re.get("text-padding"),Zi=Xn.collisionCircleDiameter;Rr=L.collisionIndex.placeCollisionCircles(Ct,ti,ee.lineVertexArray,ee.glyphOffsetArray,Ci,fe,ye,Ce,q,Dt,ft.predicate,Zi,zi),Pr=Ct||Rr.circles.length>0&&!Rr.collisionDetected,hr=hr&&Rr.offscreen}if(pr.iconFeatureIndex&&(Xr=pr.iconFeatureIndex),pr.iconBox){var Ns=function(Pi){var Va=$t&&Ar?Fn(Pi,Ar.x,Ar.y,jt,Dt,L.transform.angle):Pi;return L.collisionIndex.placeCollisionBox(Va,Et,De,fe,ft.predicate)};nr=Lr&&Lr.box&&Lr.box.length&&pr.verticalIconBox?(Ur=Ns(pr.verticalIconBox)).box.length>0:(Ur=Ns(pr.iconBox)).box.length>0,hr=hr&&Ur.offscreen}var js=dt||Xn.numHorizontalGlyphVertices===0&&Xn.numVerticalGlyphVertices===0,ni=At||Xn.numIconVertices===0;if(js||ni?ni?js||(nr=nr&&Pr):Pr=nr&&Pr:nr=Pr=nr&&Pr,Pr&&wr&&wr.box&&(Lr&&Lr.box&&Gr?L.collisionIndex.insertCollisionBox(wr.box,re.get("text-ignore-placement"),ee.bucketInstanceId,Gr,ft.ID):L.collisionIndex.insertCollisionBox(wr.box,re.get("text-ignore-placement"),ee.bucketInstanceId,Vr,ft.ID)),nr&&Ur&&L.collisionIndex.insertCollisionBox(Ur.box,re.get("icon-ignore-placement"),ee.bucketInstanceId,Xr,ft.ID),Rr&&(Pr&&L.collisionIndex.insertCollisionCircles(Rr.circles,re.get("text-ignore-placement"),ee.bucketInstanceId,Vr,ft.ID),q)){var Sl=ee.bucketInstanceId,rl=L.collisionCircleArrays[Sl];rl===void 0&&(rl=L.collisionCircleArrays[Sl]=new _n);for(var Fo=0;Fo<Rr.circles.length;Fo+=4)rl.circles.push(Rr.circles[Fo+0]),rl.circles.push(Rr.circles[Fo+1]),rl.circles.push(Rr.circles[Fo+2]),rl.circles.push(Rr.collisionDetected?1:0)}L.placements[Xn.crossTileID]=new an(Pr||Vt,nr||gn,hr||ee.justReloaded),W[Xn.crossTileID]=!0}};if(Yt)for(var Pn=ee.getSortedSymbolIndexes(this.transform.angle),Rn=Pn.length-1;Rn>=0;--Rn){var Wn=Pn[Rn];xn(ee.symbolInstances.get(Wn),ee.collisionArrays[Wn])}else for(var ir=N.symbolInstanceStart;ir<N.symbolInstanceEnd;ir++)xn(ee.symbolInstances.get(ir),ee.collisionArrays[ir]);if(q&&ee.bucketInstanceId in this.collisionCircleArrays){var gr=this.collisionCircleArrays[ee.bucketInstanceId];a.invert(gr.invProjMatrix,fe),gr.viewportMatrix=this.collisionIndex.getViewportMatrix()}ee.justReloaded=!1},Nn.prototype.markUsedJustification=function(N,W,q,L){var H,ee={left:q.leftJustifiedTextSymbolIndex,center:q.centerJustifiedTextSymbolIndex,right:q.rightJustifiedTextSymbolIndex};H=L===a.WritingMode.vertical?q.verticalPlacedTextSymbolIndex:ee[a.getAnchorJustification(W)];for(var re=0,fe=[q.leftJustifiedTextSymbolIndex,q.centerJustifiedTextSymbolIndex,q.rightJustifiedTextSymbolIndex,q.verticalPlacedTextSymbolIndex];re<fe.length;re+=1){var ye=fe[re];ye>=0&&(N.text.placedSymbolArray.get(ye).crossTileID=H>=0&&ye!==H?0:q.crossTileID)}},Nn.prototype.markUsedOrientation=function(N,W,q){for(var L=W===a.WritingMode.horizontal||W===a.WritingMode.horizontalOnly?W:0,H=W===a.WritingMode.vertical?W:0,ee=0,re=[q.leftJustifiedTextSymbolIndex,q.centerJustifiedTextSymbolIndex,q.rightJustifiedTextSymbolIndex];ee<re.length;ee+=1){var fe=re[ee];N.text.placedSymbolArray.get(fe).placedOrientation=L}q.verticalPlacedTextSymbolIndex&&(N.text.placedSymbolArray.get(q.verticalPlacedTextSymbolIndex).placedOrientation=H)},Nn.prototype.commit=function(N){this.commitTime=N,this.zoomAtLastRecencyCheck=this.transform.zoom;var W=this.prevPlacement,q=!1;this.prevZoomAdjustment=W?W.zoomAdjustment(this.transform.zoom):0;var L=W?W.symbolFadeChange(N):1,H=W?W.opacities:{},ee=W?W.variableOffsets:{},re=W?W.placedOrientations:{};for(var fe in this.placements){var ye=this.placements[fe],Ce=H[fe];Ce?(this.opacities[fe]=new Ht(Ce,L,ye.text,ye.icon),q=q||ye.text!==Ce.text.placed||ye.icon!==Ce.icon.placed):(this.opacities[fe]=new Ht(null,L,ye.text,ye.icon,ye.skipFade),q=q||ye.text||ye.icon)}for(var De in H){var Ue=H[De];if(!this.opacities[De]){var Ge=new Ht(Ue,L,!1,!1);Ge.isHidden()||(this.opacities[De]=Ge,q=q||Ue.text.placed||Ue.icon.placed)}}for(var tt in ee)this.variableOffsets[tt]||!this.opacities[tt]||this.opacities[tt].isHidden()||(this.variableOffsets[tt]=ee[tt]);for(var ft in re)this.placedOrientations[ft]||!this.opacities[ft]||this.opacities[ft].isHidden()||(this.placedOrientations[ft]=re[ft]);q?this.lastPlacementChangeTime=N:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=W?W.lastPlacementChangeTime:N)},Nn.prototype.updateLayerOpacities=function(N,W){for(var q={},L=0,H=W;L<H.length;L+=1){var ee=H[L],re=ee.getBucket(N);re&&ee.latestFeatureIndex&&N.id===re.layerIds[0]&&this.updateBucketOpacities(re,q,ee.collisionBoxArray)}},Nn.prototype.updateBucketOpacities=function(N,W,q){var L=this;N.hasTextData()&&N.text.opacityVertexArray.clear(),N.hasIconData()&&N.icon.opacityVertexArray.clear(),N.hasIconCollisionBoxData()&&N.iconCollisionBox.collisionVertexArray.clear(),N.hasTextCollisionBoxData()&&N.textCollisionBox.collisionVertexArray.clear();var H=N.layers[0].layout,ee=new Ht(null,0,!1,!1,!0),re=H.get("text-allow-overlap"),fe=H.get("icon-allow-overlap"),ye=H.get("text-variable-anchor"),Ce=H.get("text-rotation-alignment")==="map",De=H.get("text-pitch-alignment")==="map",Ue=H.get("icon-text-fit")!=="none",Ge=new Ht(null,0,re&&(fe||!N.hasIconData()||H.get("icon-optional")),fe&&(re||!N.hasTextData()||H.get("text-optional")),!0);!N.collisionArrays&&q&&(N.hasIconCollisionBoxData()||N.hasTextCollisionBoxData())&&N.deserializeCollisionBoxes(q);for(var tt=function(Ct,Et,jt){for(var Dt=0;Dt<Et/4;Dt++)Ct.opacityVertexArray.emplaceBack(jt)},ft=function(Ct){var Et=N.symbolInstances.get(Ct),jt=Et.numHorizontalGlyphVertices,Dt=Et.numVerticalGlyphVertices,$t=Et.crossTileID,Yt=W[$t],Vt=L.opacities[$t];Yt?Vt=ee:Vt||(Vt=Ge,L.opacities[$t]=Vt),W[$t]=!0;var gn=jt>0||Dt>0,xn=Et.numIconVertices>0,Pn=L.placedOrientations[Et.crossTileID],Rn=Pn===a.WritingMode.vertical,Wn=Pn===a.WritingMode.horizontal||Pn===a.WritingMode.horizontalOnly;if(gn){var ir=Tn(Vt.text),gr=Rn?fn:ir;tt(N.text,jt,gr);var Xn=Wn?fn:ir;tt(N.text,Dt,Xn);var pr=Vt.text.isHidden();[Et.rightJustifiedTextSymbolIndex,Et.centerJustifiedTextSymbolIndex,Et.leftJustifiedTextSymbolIndex].forEach(function(Xr){Xr>=0&&(N.text.placedSymbolArray.get(Xr).hidden=pr||Rn?1:0)}),Et.verticalPlacedTextSymbolIndex>=0&&(N.text.placedSymbolArray.get(Et.verticalPlacedTextSymbolIndex).hidden=pr||Wn?1:0);var wr=L.variableOffsets[Et.crossTileID];wr&&L.markUsedJustification(N,wr.anchor,Et,Pn);var Pr=L.placedOrientations[Et.crossTileID];Pr&&(L.markUsedJustification(N,"left",Et,Pr),L.markUsedOrientation(N,Pr,Et))}if(xn){var nr=Tn(Vt.icon),hr=!(Ue&&Et.verticalPlacedIconSymbolIndex&&Rn);if(Et.placedIconSymbolIndex>=0){var Ar=hr?nr:fn;tt(N.icon,Et.numIconVertices,Ar),N.icon.placedSymbolArray.get(Et.placedIconSymbolIndex).hidden=Vt.icon.isHidden()}if(Et.verticalPlacedIconSymbolIndex>=0){var vr=hr?fn:nr;tt(N.icon,Et.numVerticalIconVertices,vr),N.icon.placedSymbolArray.get(Et.verticalPlacedIconSymbolIndex).hidden=Vt.icon.isHidden()}}if(N.hasIconCollisionBoxData()||N.hasTextCollisionBoxData()){var Lr=N.collisionArrays[Ct];if(Lr){var Rr=new a.Point(0,0);if(Lr.textBox||Lr.verticalTextBox){var Ur=!0;if(ye){var Vr=L.variableOffsets[$t];Vr?(Rr=Gn(Vr.anchor,Vr.width,Vr.height,Vr.textOffset,Vr.textBoxScale),Ce&&Rr._rotate(De?L.transform.angle:-L.transform.angle)):Ur=!1}Lr.textBox&&rr(N.textCollisionBox.collisionVertexArray,Vt.text.placed,!Ur||Rn,Rr.x,Rr.y),Lr.verticalTextBox&&rr(N.textCollisionBox.collisionVertexArray,Vt.text.placed,!Ur||Wn,Rr.x,Rr.y)}var Gr=Boolean(!Wn&&Lr.verticalIconBox);Lr.iconBox&&rr(N.iconCollisionBox.collisionVertexArray,Vt.icon.placed,Gr,Ue?Rr.x:0,Ue?Rr.y:0),Lr.verticalIconBox&&rr(N.iconCollisionBox.collisionVertexArray,Vt.icon.placed,!Gr,Ue?Rr.x:0,Ue?Rr.y:0)}}},dt=0;dt<N.symbolInstances.length;dt++)ft(dt);if(N.sortFeatures(this.transform.angle),this.retainedQueryData[N.bucketInstanceId]&&(this.retainedQueryData[N.bucketInstanceId].featureSortOrder=N.featureSortOrder),N.hasTextData()&&N.text.opacityVertexBuffer&&N.text.opacityVertexBuffer.updateData(N.text.opacityVertexArray),N.hasIconData()&&N.icon.opacityVertexBuffer&&N.icon.opacityVertexBuffer.updateData(N.icon.opacityVertexArray),N.hasIconCollisionBoxData()&&N.iconCollisionBox.collisionVertexBuffer&&N.iconCollisionBox.collisionVertexBuffer.updateData(N.iconCollisionBox.collisionVertexArray),N.hasTextCollisionBoxData()&&N.textCollisionBox.collisionVertexBuffer&&N.textCollisionBox.collisionVertexBuffer.updateData(N.textCollisionBox.collisionVertexArray),N.bucketInstanceId in this.collisionCircleArrays){var At=this.collisionCircleArrays[N.bucketInstanceId];N.placementInvProjMatrix=At.invProjMatrix,N.placementViewportMatrix=At.viewportMatrix,N.collisionCircleArray=At.circles,delete this.collisionCircleArrays[N.bucketInstanceId]}},Nn.prototype.symbolFadeChange=function(N){return this.fadeDuration===0?1:(N-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Nn.prototype.zoomAdjustment=function(N){return Math.max(0,(this.transform.zoom-N)/1.5)},Nn.prototype.hasTransitions=function(N){return this.stale||N-this.lastPlacementChangeTime<this.fadeDuration},Nn.prototype.stillRecent=function(N,W){var q=this.zoomAtLastRecencyCheck===W?1-this.zoomAdjustment(W):1;return this.zoomAtLastRecencyCheck=W,this.commitTime+this.fadeDuration*q>N},Nn.prototype.setStale=function(){this.stale=!0};var Zt=Math.pow(2,25),mn=Math.pow(2,24),It=Math.pow(2,17),Xt=Math.pow(2,16),tn=Math.pow(2,9),bn=Math.pow(2,8),yn=Math.pow(2,1);function Tn(N){if(N.opacity===0&&!N.placed)return 0;if(N.opacity===1&&N.placed)return 4294967295;var W=N.placed?1:0,q=Math.floor(127*N.opacity);return q*Zt+W*mn+q*It+W*Xt+q*tn+W*bn+q*yn+W}var fn=0,Qt=function(N){this._sortAcrossTiles=N.layout.get("symbol-z-order")!=="viewport-y"&&N.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Qt.prototype.continuePlacement=function(N,W,q,L,H){for(var ee=this._bucketParts;this._currentTileIndex<N.length;){var re=N[this._currentTileIndex];if(W.getBucketParts(ee,L,re,this._sortAcrossTiles),this._currentTileIndex++,H())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,ee.sort(function(ye,Ce){return ye.sortKey-Ce.sortKey}));this._currentPartIndex<ee.length;){var fe=ee[this._currentPartIndex];if(W.placeLayerBucketPart(fe,this._seenCrossTileIDs,q),this._currentPartIndex++,H())return!0}return!1};var en=function(N,W,q,L,H,ee,re){this.placement=new Nn(N,H,ee,re),this._currentPlacementIndex=W.length-1,this._forceFullPlacement=q,this._showCollisionBoxes=L,this._done=!1};en.prototype.isDone=function(){return this._done},en.prototype.continuePlacement=function(N,W,q){for(var L=this,H=a.browser.now(),ee=function(){var ye=a.browser.now()-H;return!L._forceFullPlacement&&ye>2};this._currentPlacementIndex>=0;){var re=W[N[this._currentPlacementIndex]],fe=this.placement.collisionIndex.transform.zoom;if(re.type==="symbol"&&(!re.minzoom||re.minzoom<=fe)&&(!re.maxzoom||re.maxzoom>fe)){if(this._inProgressLayer||(this._inProgressLayer=new Qt(re)),this._inProgressLayer.continuePlacement(q[re.source],this.placement,this._showCollisionBoxes,re,ee))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},en.prototype.commit=function(N){return this.placement.commit(N),this.placement};var ln=512/a.EXTENT/2,pn=function(N,W,q){this.tileID=N,this.indexedSymbolInstances={},this.bucketInstanceId=q;for(var L=0;L<W.length;L++){var H=W.get(L),ee=H.key;this.indexedSymbolInstances[ee]||(this.indexedSymbolInstances[ee]=[]),this.indexedSymbolInstances[ee].push({crossTileID:H.crossTileID,coord:this.getScaledCoordinates(H,N)})}};pn.prototype.getScaledCoordinates=function(N,W){var q=W.canonical.z-this.tileID.canonical.z,L=ln/Math.pow(2,q);return{x:Math.floor((W.canonical.x*a.EXTENT+N.anchorX)*L),y:Math.floor((W.canonical.y*a.EXTENT+N.anchorY)*L)}},pn.prototype.findMatches=function(N,W,q){for(var L=this.tileID.canonical.z<W.canonical.z?1:Math.pow(2,this.tileID.canonical.z-W.canonical.z),H=0;H<N.length;H++){var ee=N.get(H);if(!ee.crossTileID){var re=this.indexedSymbolInstances[ee.key];if(re)for(var fe=this.getScaledCoordinates(ee,W),ye=0,Ce=re;ye<Ce.length;ye+=1){var De=Ce[ye];if(Math.abs(De.coord.x-fe.x)<=L&&Math.abs(De.coord.y-fe.y)<=L&&!q[De.crossTileID]){q[De.crossTileID]=!0,ee.crossTileID=De.crossTileID;break}}}}};var Sn=function(){this.maxCrossTileID=0};Sn.prototype.generate=function(){return++this.maxCrossTileID};var In=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};In.prototype.handleWrapJump=function(N){var W=Math.round((N-this.lng)/360);if(W!==0)for(var q in this.indexes){var L=this.indexes[q],H={};for(var ee in L){var re=L[ee];re.tileID=re.tileID.unwrapTo(re.tileID.wrap+W),H[re.tileID.key]=re}this.indexes[q]=H}this.lng=N},In.prototype.addBucket=function(N,W,q){if(this.indexes[N.overscaledZ]&&this.indexes[N.overscaledZ][N.key]){if(this.indexes[N.overscaledZ][N.key].bucketInstanceId===W.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(N.overscaledZ,this.indexes[N.overscaledZ][N.key])}for(var L=0;L<W.symbolInstances.length;L++)W.symbolInstances.get(L).crossTileID=0;this.usedCrossTileIDs[N.overscaledZ]||(this.usedCrossTileIDs[N.overscaledZ]={});var H=this.usedCrossTileIDs[N.overscaledZ];for(var ee in this.indexes){var re=this.indexes[ee];if(Number(ee)>N.overscaledZ)for(var fe in re){var ye=re[fe];ye.tileID.isChildOf(N)&&ye.findMatches(W.symbolInstances,N,H)}else{var Ce=re[N.scaledTo(Number(ee)).key];Ce&&Ce.findMatches(W.symbolInstances,N,H)}}for(var De=0;De<W.symbolInstances.length;De++){var Ue=W.symbolInstances.get(De);Ue.crossTileID||(Ue.crossTileID=q.generate(),H[Ue.crossTileID]=!0)}return this.indexes[N.overscaledZ]===void 0&&(this.indexes[N.overscaledZ]={}),this.indexes[N.overscaledZ][N.key]=new pn(N,W.symbolInstances,W.bucketInstanceId),!0},In.prototype.removeBucketCrossTileIDs=function(N,W){for(var q in W.indexedSymbolInstances)for(var L=0,H=W.indexedSymbolInstances[q];L<H.length;L+=1){var ee=H[L];delete this.usedCrossTileIDs[N][ee.crossTileID]}},In.prototype.removeStaleBuckets=function(N){var W=!1;for(var q in this.indexes){var L=this.indexes[q];for(var H in L)N[L[H].bucketInstanceId]||(this.removeBucketCrossTileIDs(q,L[H]),delete L[H],W=!0)}return W};var Vn=function(){this.layerIndexes={},this.crossTileIDs=new Sn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Vn.prototype.addLayer=function(N,W,q){var L=this.layerIndexes[N.id];L===void 0&&(L=this.layerIndexes[N.id]=new In);var H=!1,ee={};L.handleWrapJump(q);for(var re=0,fe=W;re<fe.length;re+=1){var ye=fe[re],Ce=ye.getBucket(N);Ce&&N.id===Ce.layerIds[0]&&(Ce.bucketInstanceId||(Ce.bucketInstanceId=++this.maxBucketInstanceId),L.addBucket(ye.tileID,Ce,this.crossTileIDs)&&(H=!0),ee[Ce.bucketInstanceId]=!0)}return L.removeStaleBuckets(ee)&&(H=!0),H},Vn.prototype.pruneUnusedLayers=function(N){var W={};for(var q in N.forEach(function(L){W[L]=!0}),this.layerIndexes)W[q]||delete this.layerIndexes[q]};var qn=function(N,W){return a.emitValidationErrors(N,W&&W.filter(function(q){return q.identifier!=="source.canvas"}))},$n=a.pick(Tt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Zn=a.pick(Tt,["setCenter","setZoom","setBearing","setPitch"]),or=function(){var N={},W=a.styleSpec.$version;for(var q in a.styleSpec.$root){var L=a.styleSpec.$root[q];if(L.required){var H;(H=q==="version"?W:L.type==="array"?[]:{})!=null&&(N[q]=H)}}return N}(),tr=function(N){function W(q,L){var H=this;L===void 0&&(L={}),N.call(this),this.map=q,this.dispatcher=new C(yt(),this),this.imageManager=new d,this.imageManager.setEventedParent(this),this.glyphManager=new m(q._requestManager,L.localIdeographFontFamily),this.lineAtlas=new E(256,512),this.crossTileSymbolIndex=new Vn,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var ee=this;this._rtlTextPluginCallback=W.registerForPluginStateChange(function(re){var fe={pluginStatus:re.pluginStatus,pluginURL:re.pluginURL};ee.dispatcher.broadcast("syncRTLPluginState",fe,function(ye,Ce){if(a.triggerPluginCompletionEvent(ye),Ce&&Ce.every(function(Ue){return Ue}))for(var De in ee.sourceCaches)ee.sourceCaches[De].reload()})}),this.on("data",function(re){if(re.dataType==="source"&&re.sourceDataType==="metadata"){var fe=H.sourceCaches[re.sourceId];if(fe){var ye=fe.getSource();if(ye&&ye.vectorLayerIds)for(var Ce in H._layers){var De=H._layers[Ce];De.source===ye.id&&H._validateLayer(De)}}}})}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.loadURL=function(q,L){var H=this;L===void 0&&(L={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var ee=typeof L.validate=="boolean"?L.validate:!a.isMapboxURL(q);q=this.map._requestManager.normalizeStyleURL(q,L.accessToken);var re=this.map._requestManager.transformRequest(q,a.ResourceType.Style);this._request=a.getJSON(re,function(fe,ye){H._request=null,fe?H.fire(new a.ErrorEvent(fe)):ye&&H._load(ye,ee)})},W.prototype.loadJSON=function(q,L){var H=this;L===void 0&&(L={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){H._request=null,H._load(q,L.validate!==!1)})},W.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(or,!1)},W.prototype._load=function(q,L){if(!L||!qn(this,a.validateStyle(q))){for(var H in this._loaded=!0,this.stylesheet=q,q.sources)this.addSource(H,q.sources[H],{validate:!1});q.sprite?this._loadSprite(q.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(q.glyphs);var ee=Lt(this.stylesheet.layers);this._order=ee.map(function(Ce){return Ce.id}),this._layers={},this._serializedLayers={};for(var re=0,fe=ee;re<fe.length;re+=1){var ye=fe[re];(ye=a.createStyleLayer(ye)).setEventedParent(this,{layer:{id:ye.id}}),this._layers[ye.id]=ye,this._serializedLayers[ye.id]=ye.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new T(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},W.prototype._loadSprite=function(q){var L=this;this._spriteRequest=function(H,ee,re){var fe,ye,Ce,De=a.browser.devicePixelRatio>1?"@2x":"",Ue=a.getJSON(ee.transformRequest(ee.normalizeSpriteURL(H,De,".json"),a.ResourceType.SpriteJSON),function(ft,dt){Ue=null,Ce||(Ce=ft,fe=dt,tt())}),Ge=a.getImage(ee.transformRequest(ee.normalizeSpriteURL(H,De,".png"),a.ResourceType.SpriteImage),function(ft,dt){Ge=null,Ce||(Ce=ft,ye=dt,tt())});function tt(){if(Ce)re(Ce);else if(fe&&ye){var ft=a.browser.getImageData(ye),dt={};for(var At in fe){var Ct=fe[At],Et=Ct.width,jt=Ct.height,Dt=Ct.x,$t=Ct.y,Yt=Ct.sdf,Vt=Ct.pixelRatio,gn=Ct.stretchX,xn=Ct.stretchY,Pn=Ct.content,Rn=new a.RGBAImage({width:Et,height:jt});a.RGBAImage.copy(ft,Rn,{x:Dt,y:$t},{x:0,y:0},{width:Et,height:jt}),dt[At]={data:Rn,pixelRatio:Vt,sdf:Yt,stretchX:gn,stretchY:xn,content:Pn}}re(null,dt)}}return{cancel:function(){Ue&&(Ue.cancel(),Ue=null),Ge&&(Ge.cancel(),Ge=null)}}}(q,this.map._requestManager,function(H,ee){if(L._spriteRequest=null,H)L.fire(new a.ErrorEvent(H));else if(ee)for(var re in ee)L.imageManager.addImage(re,ee[re]);L.imageManager.setLoaded(!0),L._availableImages=L.imageManager.listImages(),L.dispatcher.broadcast("setImages",L._availableImages),L.fire(new a.Event("data",{dataType:"style"}))})},W.prototype._validateLayer=function(q){var L=this.sourceCaches[q.source];if(L){var H=q.sourceLayer;if(H){var ee=L.getSource();(ee.type==="geojson"||ee.vectorLayerIds&&ee.vectorLayerIds.indexOf(H)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+H+'" does not exist on source "'+ee.id+'" as specified by style layer "'+q.id+'"')))}}},W.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var q in this.sourceCaches)if(!this.sourceCaches[q].loaded())return!1;return!!this.imageManager.isLoaded()},W.prototype._serializeLayers=function(q){for(var L=[],H=0,ee=q;H<ee.length;H+=1){var re=ee[H],fe=this._layers[re];fe.type!=="custom"&&L.push(fe.serialize())}return L},W.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var q in this.sourceCaches)if(this.sourceCaches[q].hasTransition())return!0;for(var L in this._layers)if(this._layers[L].hasTransition())return!0;return!1},W.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},W.prototype.update=function(q){if(this._loaded){var L=this._changed;if(this._changed){var H=Object.keys(this._updatedLayers),ee=Object.keys(this._removedLayers);for(var re in(H.length||ee.length)&&this._updateWorkerLayers(H,ee),this._updatedSources){var fe=this._updatedSources[re];fe==="reload"?this._reloadSource(re):fe==="clear"&&this._clearSource(re)}for(var ye in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[ye].updateTransitions(q);this.light.updateTransitions(q),this._resetUpdates()}var Ce={};for(var De in this.sourceCaches){var Ue=this.sourceCaches[De];Ce[De]=Ue.used,Ue.used=!1}for(var Ge=0,tt=this._order;Ge<tt.length;Ge+=1){var ft=tt[Ge],dt=this._layers[ft];dt.recalculate(q,this._availableImages),!dt.isHidden(q.zoom)&&dt.source&&(this.sourceCaches[dt.source].used=!0)}for(var At in Ce){var Ct=this.sourceCaches[At];Ce[At]!==Ct.used&&Ct.fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:At}))}this.light.recalculate(q),this.z=q.zoom,L&&this.fire(new a.Event("data",{dataType:"style"}))}},W.prototype._updateTilesForChangedImages=function(){var q=Object.keys(this._changedImages);if(q.length){for(var L in this.sourceCaches)this.sourceCaches[L].reloadTilesForDependencies(["icons","patterns"],q);this._changedImages={}}},W.prototype._updateWorkerLayers=function(q,L){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(q),removedIds:L})},W.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},W.prototype.setState=function(q){var L=this;if(this._checkLoaded(),qn(this,a.validateStyle(q)))return!1;(q=a.clone$1(q)).layers=Lt(q.layers);var H=Wt(this.serialize(),q).filter(function(re){return!(re.command in Zn)});if(H.length===0)return!1;var ee=H.filter(function(re){return!(re.command in $n)});if(ee.length>0)throw new Error("Unimplemented: "+ee.map(function(re){return re.command}).join(", ")+".");return H.forEach(function(re){re.command!=="setTransition"&&L[re.command].apply(L,re.args)}),this.stylesheet=q,!0},W.prototype.addImage=function(q,L){if(this.getImage(q))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(q,L),this._afterImageUpdated(q)},W.prototype.updateImage=function(q,L){this.imageManager.updateImage(q,L)},W.prototype.getImage=function(q){return this.imageManager.getImage(q)},W.prototype.removeImage=function(q){if(!this.getImage(q))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(q),this._afterImageUpdated(q)},W.prototype._afterImageUpdated=function(q){this._availableImages=this.imageManager.listImages(),this._changedImages[q]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))},W.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},W.prototype.addSource=function(q,L,H){var ee=this;if(H===void 0&&(H={}),this._checkLoaded(),this.sourceCaches[q]!==void 0)throw new Error("There is already a source with this ID");if(!L.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(L).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(L.type)>=0&&this._validate(a.validateStyle.source,"sources."+q,L,null,H))){this.map&&this.map._collectResourceTiming&&(L.collectResourceTiming=!0);var re=this.sourceCaches[q]=new lt(q,L,this.dispatcher);re.style=this,re.setEventedParent(this,function(){return{isSourceLoaded:ee.loaded(),source:re.serialize(),sourceId:q}}),re.onAdd(this.map),this._changed=!0}},W.prototype.removeSource=function(q){if(this._checkLoaded(),this.sourceCaches[q]===void 0)throw new Error("There is no source with this ID");for(var L in this._layers)if(this._layers[L].source===q)return this.fire(new a.ErrorEvent(new Error('Source "'+q+'" cannot be removed while layer "'+L+'" is using it.')));var H=this.sourceCaches[q];delete this.sourceCaches[q],delete this._updatedSources[q],H.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:q})),H.setEventedParent(null),H.clearTiles(),H.onRemove&&H.onRemove(this.map),this._changed=!0},W.prototype.setGeoJSONSourceData=function(q,L){this._checkLoaded(),this.sourceCaches[q].getSource().setData(L),this._changed=!0},W.prototype.getSource=function(q){return this.sourceCaches[q]&&this.sourceCaches[q].getSource()},W.prototype.addLayer=function(q,L,H){H===void 0&&(H={}),this._checkLoaded();var ee=q.id;if(this.getLayer(ee))this.fire(new a.ErrorEvent(new Error('Layer with id "'+ee+'" already exists on this map')));else{var re;if(q.type==="custom"){if(qn(this,a.validateCustomStyleLayer(q)))return;re=a.createStyleLayer(q)}else{if(typeof q.source=="object"&&(this.addSource(ee,q.source),q=a.clone$1(q),q=a.extend(q,{source:ee})),this._validate(a.validateStyle.layer,"layers."+ee,q,{arrayIndex:-1},H))return;re=a.createStyleLayer(q),this._validateLayer(re),re.setEventedParent(this,{layer:{id:ee}}),this._serializedLayers[re.id]=re.serialize()}var fe=L?this._order.indexOf(L):this._order.length;if(L&&fe===-1)this.fire(new a.ErrorEvent(new Error('Layer with id "'+L+'" does not exist on this map.')));else{if(this._order.splice(fe,0,ee),this._layerOrderChanged=!0,this._layers[ee]=re,this._removedLayers[ee]&&re.source&&re.type!=="custom"){var ye=this._removedLayers[ee];delete this._removedLayers[ee],ye.type!==re.type?this._updatedSources[re.source]="clear":(this._updatedSources[re.source]="reload",this.sourceCaches[re.source].pause())}this._updateLayer(re),re.onAdd&&re.onAdd(this.map)}}},W.prototype.moveLayer=function(q,L){if(this._checkLoaded(),this._changed=!0,this._layers[q]){if(q!==L){var H=this._order.indexOf(q);this._order.splice(H,1);var ee=L?this._order.indexOf(L):this._order.length;L&&ee===-1?this.fire(new a.ErrorEvent(new Error('Layer with id "'+L+'" does not exist on this map.'))):(this._order.splice(ee,0,q),this._layerOrderChanged=!0)}}else this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be moved.")))},W.prototype.removeLayer=function(q){this._checkLoaded();var L=this._layers[q];if(L){L.setEventedParent(null);var H=this._order.indexOf(q);this._order.splice(H,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[q]=L,delete this._layers[q],delete this._serializedLayers[q],delete this._updatedLayers[q],delete this._updatedPaintProps[q],L.onRemove&&L.onRemove(this.map)}else this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be removed.")))},W.prototype.getLayer=function(q){return this._layers[q]},W.prototype.hasLayer=function(q){return q in this._layers},W.prototype.setLayerZoomRange=function(q,L,H){this._checkLoaded();var ee=this.getLayer(q);ee?ee.minzoom===L&&ee.maxzoom===H||(L!=null&&(ee.minzoom=L),H!=null&&(ee.maxzoom=H),this._updateLayer(ee)):this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot have zoom extent.")))},W.prototype.setFilter=function(q,L,H){H===void 0&&(H={}),this._checkLoaded();var ee=this.getLayer(q);if(ee){if(!a.deepEqual(ee.filter,L))return L==null?(ee.filter=void 0,void this._updateLayer(ee)):void(this._validate(a.validateStyle.filter,"layers."+ee.id+".filter",L,null,H)||(ee.filter=a.clone$1(L),this._updateLayer(ee)))}else this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be filtered.")))},W.prototype.getFilter=function(q){return a.clone$1(this.getLayer(q).filter)},W.prototype.setLayoutProperty=function(q,L,H,ee){ee===void 0&&(ee={}),this._checkLoaded();var re=this.getLayer(q);re?a.deepEqual(re.getLayoutProperty(L),H)||(re.setLayoutProperty(L,H,ee),this._updateLayer(re)):this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be styled.")))},W.prototype.getLayoutProperty=function(q,L){var H=this.getLayer(q);if(H)return H.getLayoutProperty(L);this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style.")))},W.prototype.setPaintProperty=function(q,L,H,ee){ee===void 0&&(ee={}),this._checkLoaded();var re=this.getLayer(q);re?a.deepEqual(re.getPaintProperty(L),H)||(re.setPaintProperty(L,H,ee)&&this._updateLayer(re),this._changed=!0,this._updatedPaintProps[q]=!0):this.fire(new a.ErrorEvent(new Error("The layer '"+q+"' does not exist in the map's style and cannot be styled.")))},W.prototype.getPaintProperty=function(q,L){return this.getLayer(q).getPaintProperty(L)},W.prototype.setFeatureState=function(q,L){this._checkLoaded();var H=q.source,ee=q.sourceLayer,re=this.sourceCaches[H];if(re!==void 0){var fe=re.getSource().type;fe==="geojson"&&ee?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):fe!=="vector"||ee?(q.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),re.setFeatureState(ee,q.id,L)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+H+"' does not exist in the map's style.")))},W.prototype.removeFeatureState=function(q,L){this._checkLoaded();var H=q.source,ee=this.sourceCaches[H];if(ee!==void 0){var re=ee.getSource().type,fe=re==="vector"?q.sourceLayer:void 0;re!=="vector"||fe?L&&typeof q.id!="string"&&typeof q.id!="number"?this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):ee.removeFeatureState(fe,q.id,L):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+H+"' does not exist in the map's style.")))},W.prototype.getFeatureState=function(q){this._checkLoaded();var L=q.source,H=q.sourceLayer,ee=this.sourceCaches[L];if(ee!==void 0){if(ee.getSource().type!=="vector"||H)return q.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),ee.getFeatureState(H,q.id);this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+L+"' does not exist in the map's style.")))},W.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},W.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(q){return q.serialize()}),layers:this._serializeLayers(this._order)},function(q){return q!==void 0})},W.prototype._updateLayer=function(q){this._updatedLayers[q.id]=!0,q.source&&!this._updatedSources[q.source]&&this.sourceCaches[q.source].getSource().type!=="raster"&&(this._updatedSources[q.source]="reload",this.sourceCaches[q.source].pause()),this._changed=!0},W.prototype._flattenAndSortRenderedFeatures=function(q){for(var L=this,H=function(Pn){return L._layers[Pn].type==="fill-extrusion"},ee={},re=[],fe=this._order.length-1;fe>=0;fe--){var ye=this._order[fe];if(H(ye)){ee[ye]=fe;for(var Ce=0,De=q;Ce<De.length;Ce+=1){var Ue=De[Ce][ye];if(Ue)for(var Ge=0,tt=Ue;Ge<tt.length;Ge+=1){var ft=tt[Ge];re.push(ft)}}}}re.sort(function(Pn,Rn){return Rn.intersectionZ-Pn.intersectionZ});for(var dt=[],At=this._order.length-1;At>=0;At--){var Ct=this._order[At];if(H(Ct))for(var Et=re.length-1;Et>=0;Et--){var jt=re[Et].feature;if(ee[jt.layer.id]<At)break;dt.push(jt),re.pop()}else for(var Dt=0,$t=q;Dt<$t.length;Dt+=1){var Yt=$t[Dt][Ct];if(Yt)for(var Vt=0,gn=Yt;Vt<gn.length;Vt+=1){var xn=gn[Vt];dt.push(xn.feature)}}}return dt},W.prototype.queryRenderedFeatures=function(q,L,H){L&&L.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",L.filter,null,L);var ee={};if(L&&L.layers){if(!Array.isArray(L.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var re=0,fe=L.layers;re<fe.length;re+=1){var ye=fe[re],Ce=this._layers[ye];if(!Ce)return this.fire(new a.ErrorEvent(new Error("The layer '"+ye+"' does not exist in the map's style and cannot be queried for features."))),[];ee[Ce.source]=!0}}var De=[];for(var Ue in L.availableImages=this._availableImages,this.sourceCaches)L.layers&&!ee[Ue]||De.push($(this.sourceCaches[Ue],this._layers,this._serializedLayers,q,L,H));return this.placement&&De.push(function(Ge,tt,ft,dt,At,Ct,Et){for(var jt={},Dt=Ct.queryRenderedSymbols(dt),$t=[],Yt=0,Vt=Object.keys(Dt).map(Number);Yt<Vt.length;Yt+=1){var gn=Vt[Yt];$t.push(Et[gn])}$t.sort(G);for(var xn=function(){var gr=Rn[Pn],Xn=gr.featureIndex.lookupSymbolFeatures(Dt[gr.bucketInstanceId],tt,gr.bucketIndex,gr.sourceLayerIndex,At.filter,At.layers,At.availableImages,Ge);for(var pr in Xn){var wr=jt[pr]=jt[pr]||[],Pr=Xn[pr];Pr.sort(function(vr,Lr){var Rr=gr.featureSortOrder;if(Rr){var Ur=Rr.indexOf(vr.featureIndex);return Rr.indexOf(Lr.featureIndex)-Ur}return Lr.featureIndex-vr.featureIndex});for(var nr=0,hr=Pr;nr<hr.length;nr+=1){var Ar=hr[nr];wr.push(Ar)}}},Pn=0,Rn=$t;Pn<Rn.length;Pn+=1)xn();var Wn=function(gr){jt[gr].forEach(function(Xn){var pr=Xn.feature,wr=Ge[gr],Pr=ft[wr.source].getFeatureState(pr.layer["source-layer"],pr.id);pr.source=pr.layer.source,pr.layer["source-layer"]&&(pr.sourceLayer=pr.layer["source-layer"]),pr.state=Pr})};for(var ir in jt)Wn(ir);return jt}(this._layers,this._serializedLayers,this.sourceCaches,q,L,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(De)},W.prototype.querySourceFeatures=function(q,L){L&&L.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",L.filter,null,L);var H=this.sourceCaches[q];return H?function(ee,re){for(var fe=ee.getRenderableIds().map(function(tt){return ee.getTileByID(tt)}),ye=[],Ce={},De=0;De<fe.length;De++){var Ue=fe[De],Ge=Ue.tileID.canonical.key;Ce[Ge]||(Ce[Ge]=!0,Ue.querySourceFeatures(ye,re))}return ye}(H,L):[]},W.prototype.addSourceType=function(q,L,H){return W.getSourceType(q)?H(new Error('A source type called "'+q+'" already exists.')):(W.setSourceType(q,L),L.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:q,url:L.workerSourceURL},H):H(null,null))},W.prototype.getLight=function(){return this.light.getLight()},W.prototype.setLight=function(q,L){L===void 0&&(L={}),this._checkLoaded();var H=this.light.getLight(),ee=!1;for(var re in q)if(!a.deepEqual(q[re],H[re])){ee=!0;break}if(ee){var fe={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(q,L),this.light.updateTransitions(fe)}},W.prototype._validate=function(q,L,H,ee,re){return re===void 0&&(re={}),(!re||re.validate!==!1)&&qn(this,q.call(a.validateStyle,a.extend({key:L,style:this.serialize(),value:H,styleSpec:a.styleSpec},ee)))},W.prototype._remove=function(){for(var q in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[q].setEventedParent(null);for(var L in this.sourceCaches)this.sourceCaches[L].clearTiles(),this.sourceCaches[L].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},W.prototype._clearSource=function(q){this.sourceCaches[q].clearTiles()},W.prototype._reloadSource=function(q){this.sourceCaches[q].resume(),this.sourceCaches[q].reload()},W.prototype._updateSources=function(q){for(var L in this.sourceCaches)this.sourceCaches[L].update(q)},W.prototype._generateCollisionBoxes=function(){for(var q in this.sourceCaches)this._reloadSource(q)},W.prototype._updatePlacement=function(q,L,H,ee,re){re===void 0&&(re=!1);for(var fe=!1,ye=!1,Ce={},De=0,Ue=this._order;De<Ue.length;De+=1){var Ge=Ue[De],tt=this._layers[Ge];if(tt.type==="symbol"){if(!Ce[tt.source]){var ft=this.sourceCaches[tt.source];Ce[tt.source]=ft.getRenderableIds(!0).map(function(Dt){return ft.getTileByID(Dt)}).sort(function(Dt,$t){return $t.tileID.overscaledZ-Dt.tileID.overscaledZ||(Dt.tileID.isLessThan($t.tileID)?-1:1)})}var dt=this.crossTileSymbolIndex.addLayer(tt,Ce[tt.source],q.center.lng);fe=fe||dt}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((re=re||this._layerOrderChanged||H===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),q.zoom))&&(this.pauseablePlacement=new en(q,this._order,re,L,H,ee,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Ce),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),ye=!0),fe&&this.pauseablePlacement.placement.setStale()),ye||fe)for(var At=0,Ct=this._order;At<Ct.length;At+=1){var Et=Ct[At],jt=this._layers[Et];jt.type==="symbol"&&this.placement.updateLayerOpacities(jt,Ce[jt.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now())},W.prototype._releaseSymbolFadeTiles=function(){for(var q in this.sourceCaches)this.sourceCaches[q].releaseSymbolFadeTiles()},W.prototype.getImages=function(q,L,H){this.imageManager.getImages(L.icons,H),this._updateTilesForChangedImages();var ee=this.sourceCaches[L.source];ee&&ee.setDependencies(L.tileID.key,L.type,L.icons)},W.prototype.getGlyphs=function(q,L,H){this.glyphManager.getGlyphs(L.stacks,H)},W.prototype.getResource=function(q,L,H){return a.makeRequest(L,H)},W}(a.Evented);tr.getSourceType=function(N){return te[N]},tr.setSourceType=function(N,W){te[N]=W},tr.registerForPluginStateChange=a.registerForPluginStateChange;var Qn=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),mr=_i(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),fr=_i(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),dr=_i(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),sr=_i(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),xr=_i("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Sr=_i(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),Br=_i(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),hi=_i("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),di=_i("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),Gi=_i("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),ui=_i(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),Ri=_i(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),_a=_i(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),wa=_i(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),us=_i(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),bu=_i(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),Gs=_i(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Ws=_i(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),vl=_i(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Qa=_i(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),ml=_i(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),yl=_i(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),xl=_i(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),So=_i(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),Vo=_i(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),cs=_i(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function _i(N,W){var q=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,L=W.match(/attribute ([\w]+) ([\w]+)/g),H=N.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),ee=W.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),re=ee?ee.concat(H):H,fe={};return{fragmentSource:N=N.replace(q,function(ye,Ce,De,Ue,Ge){return fe[Ge]=!0,Ce==="define"?`
#ifndef HAS_UNIFORM_u_`+Ge+`
varying `+De+" "+Ue+" "+Ge+`;
#else
uniform `+De+" "+Ue+" u_"+Ge+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+Ge+`
    `+De+" "+Ue+" "+Ge+" = u_"+Ge+`;
#endif
`}),vertexSource:W=W.replace(q,function(ye,Ce,De,Ue,Ge){var tt=Ue==="float"?"vec2":"vec4",ft=Ge.match(/color/)?"color":tt;return fe[Ge]?Ce==="define"?`
#ifndef HAS_UNIFORM_u_`+Ge+`
uniform lowp float u_`+Ge+`_t;
attribute `+De+" "+tt+" a_"+Ge+`;
varying `+De+" "+Ue+" "+Ge+`;
#else
uniform `+De+" "+Ue+" u_"+Ge+`;
#endif
`:ft==="vec4"?`
#ifndef HAS_UNIFORM_u_`+Ge+`
    `+Ge+" = a_"+Ge+`;
#else
    `+De+" "+Ue+" "+Ge+" = u_"+Ge+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+Ge+`
    `+Ge+" = unpack_mix_"+ft+"(a_"+Ge+", u_"+Ge+`_t);
#else
    `+De+" "+Ue+" "+Ge+" = u_"+Ge+`;
#endif
`:Ce==="define"?`
#ifndef HAS_UNIFORM_u_`+Ge+`
uniform lowp float u_`+Ge+`_t;
attribute `+De+" "+tt+" a_"+Ge+`;
#else
uniform `+De+" "+Ue+" u_"+Ge+`;
#endif
`:ft==="vec4"?`
#ifndef HAS_UNIFORM_u_`+Ge+`
    `+De+" "+Ue+" "+Ge+" = a_"+Ge+`;
#else
    `+De+" "+Ue+" "+Ge+" = u_"+Ge+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+Ge+`
    `+De+" "+Ue+" "+Ge+" = unpack_mix_"+ft+"(a_"+Ge+", u_"+Ge+`_t);
#else
    `+De+" "+Ue+" "+Ge+" = u_"+Ge+`;
#endif
`}),staticAttributes:L,staticUniforms:re}}var Ji=Object.freeze({__proto__:null,prelude:mr,background:fr,backgroundPattern:dr,circle:sr,clippingMask:xr,heatmap:Sr,heatmapTexture:Br,collisionBox:hi,collisionCircle:di,debug:Gi,fill:ui,fillOutline:Ri,fillOutlinePattern:_a,fillPattern:wa,fillExtrusion:us,fillExtrusionPattern:bu,hillshadePrepare:Gs,hillshade:Ws,line:vl,lineGradient:Qa,linePattern:ml,lineSDF:yl,raster:xl,symbolIcon:So,symbolSDF:Vo,symbolTextAndIcon:cs}),Eo=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function po(N){for(var W=[],q=0;q<N.length;q++)if(N[q]!==null){var L=N[q].split(" ");W.push(L.pop())}return W}Eo.prototype.bind=function(N,W,q,L,H,ee,re,fe){this.context=N;for(var ye=this.boundPaintVertexBuffers.length!==L.length,Ce=0;!ye&&Ce<L.length;Ce++)this.boundPaintVertexBuffers[Ce]!==L[Ce]&&(ye=!0);var De=!this.vao||this.boundProgram!==W||this.boundLayoutVertexBuffer!==q||ye||this.boundIndexBuffer!==H||this.boundVertexOffset!==ee||this.boundDynamicVertexBuffer!==re||this.boundDynamicVertexBuffer2!==fe;!N.extVertexArrayObject||De?this.freshBind(W,q,L,H,ee,re,fe):(N.bindVertexArrayOES.set(this.vao),re&&re.bind(),H&&H.dynamicDraw&&H.bind(),fe&&fe.bind())},Eo.prototype.freshBind=function(N,W,q,L,H,ee,re){var fe,ye=N.numAttributes,Ce=this.context,De=Ce.gl;if(Ce.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Ce.extVertexArrayObject.createVertexArrayOES(),Ce.bindVertexArrayOES.set(this.vao),fe=0,this.boundProgram=N,this.boundLayoutVertexBuffer=W,this.boundPaintVertexBuffers=q,this.boundIndexBuffer=L,this.boundVertexOffset=H,this.boundDynamicVertexBuffer=ee,this.boundDynamicVertexBuffer2=re;else{fe=Ce.currentNumAttributes||0;for(var Ue=ye;Ue<fe;Ue++)De.disableVertexAttribArray(Ue)}W.enableAttributes(De,N);for(var Ge=0,tt=q;Ge<tt.length;Ge+=1)tt[Ge].enableAttributes(De,N);ee&&ee.enableAttributes(De,N),re&&re.enableAttributes(De,N),W.bind(),W.setVertexAttribPointers(De,N,H);for(var ft=0,dt=q;ft<dt.length;ft+=1){var At=dt[ft];At.bind(),At.setVertexAttribPointers(De,N,H)}ee&&(ee.bind(),ee.setVertexAttribPointers(De,N,H)),L&&L.bind(),re&&(re.bind(),re.setVertexAttribPointers(De,N,H)),Ce.currentNumAttributes=ye},Eo.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var eo=function(N,W,q,L,H,ee){var re=N.gl;this.program=re.createProgram();for(var fe=po(q.staticAttributes),ye=L?L.getBinderAttributes():[],Ce=fe.concat(ye),De=q.staticUniforms?po(q.staticUniforms):[],Ue=L?L.getBinderUniforms():[],Ge=[],tt=0,ft=De.concat(Ue);tt<ft.length;tt+=1){var dt=ft[tt];Ge.indexOf(dt)<0&&Ge.push(dt)}var At=L?L.defines():[];ee&&At.push("#define OVERDRAW_INSPECTOR;");var Ct=At.concat(mr.fragmentSource,q.fragmentSource).join(`
`),Et=At.concat(mr.vertexSource,q.vertexSource).join(`
`),jt=re.createShader(re.FRAGMENT_SHADER);if(re.isContextLost())this.failedToCreate=!0;else{re.shaderSource(jt,Ct),re.compileShader(jt),re.attachShader(this.program,jt);var Dt=re.createShader(re.VERTEX_SHADER);if(re.isContextLost())this.failedToCreate=!0;else{re.shaderSource(Dt,Et),re.compileShader(Dt),re.attachShader(this.program,Dt),this.attributes={};var $t={};this.numAttributes=Ce.length;for(var Yt=0;Yt<this.numAttributes;Yt++)Ce[Yt]&&(re.bindAttribLocation(this.program,Yt,Ce[Yt]),this.attributes[Ce[Yt]]=Yt);re.linkProgram(this.program),re.deleteShader(Dt),re.deleteShader(jt);for(var Vt=0;Vt<Ge.length;Vt++){var gn=Ge[Vt];if(gn&&!$t[gn]){var xn=re.getUniformLocation(this.program,gn);xn&&($t[gn]=xn)}}this.fixedUniforms=H(N,$t),this.binderUniforms=L?L.getUniforms(N,$t):[]}}};function Ho(N,W,q){var L=1/er(q,1,W.transform.tileZoom),H=Math.pow(2,q.tileID.overscaledZ),ee=q.tileSize*Math.pow(2,W.transform.tileZoom)/H,re=ee*(q.tileID.canonical.x+q.tileID.wrap*H),fe=ee*q.tileID.canonical.y;return{u_image:0,u_texsize:q.imageAtlasTexture.size,u_scale:[L,N.fromScale,N.toScale],u_fade:N.t,u_pixel_coord_upper:[re>>16,fe>>16],u_pixel_coord_lower:[65535&re,65535&fe]}}eo.prototype.draw=function(N,W,q,L,H,ee,re,fe,ye,Ce,De,Ue,Ge,tt,ft,dt){var At,Ct=N.gl;if(!this.failedToCreate){for(var Et in N.program.set(this.program),N.setDepthMode(q),N.setStencilMode(L),N.setColorMode(H),N.setCullFace(ee),this.fixedUniforms)this.fixedUniforms[Et].set(re[Et]);tt&&tt.setUniforms(N,this.binderUniforms,Ue,{zoom:Ge});for(var jt=(At={},At[Ct.LINES]=2,At[Ct.TRIANGLES]=3,At[Ct.LINE_STRIP]=1,At)[W],Dt=0,$t=De.get();Dt<$t.length;Dt+=1){var Yt=$t[Dt],Vt=Yt.vaos||(Yt.vaos={});(Vt[fe]||(Vt[fe]=new Eo)).bind(N,this,ye,tt?tt.getPaintVertexBuffers():[],Ce,Yt.vertexOffset,ft,dt),Ct.drawElements(W,Yt.primitiveLength*jt,Ct.UNSIGNED_SHORT,Yt.primitiveOffset*jt*2)}}};var go=function(N,W,q,L){var H=W.style.light,ee=H.properties.get("position"),re=[ee.x,ee.y,ee.z],fe=a.create$1();H.properties.get("anchor")==="viewport"&&a.fromRotation(fe,-W.transform.angle),a.transformMat3(re,re,fe);var ye=H.properties.get("color");return{u_matrix:N,u_lightpos:re,u_lightintensity:H.properties.get("intensity"),u_lightcolor:[ye.r,ye.g,ye.b],u_vertical_gradient:+q,u_opacity:L}},qo=function(N,W,q,L,H,ee,re){return a.extend(go(N,W,q,L),Ho(ee,W,re),{u_height_factor:-Math.pow(2,H.overscaledZ)/re.tileSize/8})},Lo=function(N){return{u_matrix:N}},Go=function(N,W,q,L){return a.extend(Lo(N),Ho(q,W,L))},vo=function(N,W){return{u_matrix:N,u_world:W}},Bl=function(N,W,q,L,H){return a.extend(Go(N,W,q,L),{u_world:H})},bl=function(N,W,q,L){var H,ee,re=N.transform;if(L.paint.get("circle-pitch-alignment")==="map"){var fe=er(q,1,re.zoom);H=!0,ee=[fe,fe]}else H=!1,ee=re.pixelsToGLUnits;return{u_camera_to_center_distance:re.cameraToCenterDistance,u_scale_with_map:+(L.paint.get("circle-pitch-scale")==="map"),u_matrix:N.translatePosMatrix(W.posMatrix,q,L.paint.get("circle-translate"),L.paint.get("circle-translate-anchor")),u_pitch_with_map:+H,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:ee}},fs=function(N,W,q){var L=er(q,1,W.zoom),H=Math.pow(2,W.zoom-q.tileID.overscaledZ),ee=q.tileID.overscaleFactor();return{u_matrix:N,u_camera_to_center_distance:W.cameraToCenterDistance,u_pixels_to_tile_units:L,u_extrude_scale:[W.pixelsToGLUnits[0]/(L*H),W.pixelsToGLUnits[1]/(L*H)],u_overscale_factor:ee}},$l=function(N,W,q){return{u_matrix:N,u_inv_matrix:W,u_camera_to_center_distance:q.cameraToCenterDistance,u_viewport_size:[q.width,q.height]}},Ql=function(N,W,q){return q===void 0&&(q=1),{u_matrix:N,u_color:W,u_overlay:0,u_overlay_scale:q}},hs=function(N){return{u_matrix:N}},eu=function(N,W,q,L){return{u_matrix:N,u_extrude_scale:er(W,1,q),u_intensity:L}},_u=function(N,W,q,L){var H=a.create();a.ortho(H,0,N.width,N.height,0,0,1);var ee=N.context.gl;return{u_matrix:H,u_world:[ee.drawingBufferWidth,ee.drawingBufferHeight],u_image:q,u_color_ramp:L,u_opacity:W.paint.get("heatmap-opacity")}},wu=function(N,W,q){var L=q.paint.get("hillshade-shadow-color"),H=q.paint.get("hillshade-highlight-color"),ee=q.paint.get("hillshade-accent-color"),re=q.paint.get("hillshade-illumination-direction")*(Math.PI/180);q.paint.get("hillshade-illumination-anchor")==="viewport"&&(re-=N.transform.angle);var fe,ye,Ce,De=!N.options.moving;return{u_matrix:N.transform.calculatePosMatrix(W.tileID.toUnwrapped(),De),u_image:0,u_latrange:(fe=W.tileID,ye=Math.pow(2,fe.canonical.z),Ce=fe.canonical.y,[new a.MercatorCoordinate(0,Ce/ye).toLngLat().lat,new a.MercatorCoordinate(0,(Ce+1)/ye).toLngLat().lat]),u_light:[q.paint.get("hillshade-exaggeration"),re],u_shadow:L,u_highlight:H,u_accent:ee}},ps=function(N,W){var q=W.stride,L=a.create();return a.ortho(L,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(L,L,[0,-a.EXTENT,0]),{u_matrix:L,u_image:1,u_dimension:[q,q],u_zoom:N.overscaledZ,u_unpack:W.getUnpackVector()}},mo=function(N,W,q){var L=N.transform;return{u_matrix:to(N,W,q),u_ratio:1/er(W,1,L.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/L.pixelsToGLUnits[0],1/L.pixelsToGLUnits[1]]}},Ss=function(N,W,q,L){return a.extend(mo(N,W,q),{u_image:0,u_image_height:L})},ds=function(N,W,q,L){var H=N.transform,ee=gs(W,H);return{u_matrix:to(N,W,q),u_texsize:W.imageAtlasTexture.size,u_ratio:1/er(W,1,H.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[ee,L.fromScale,L.toScale],u_fade:L.t,u_units_to_pixels:[1/H.pixelsToGLUnits[0],1/H.pixelsToGLUnits[1]]}},Ys=function(N,W,q,L,H){var ee=N.transform,re=N.lineAtlas,fe=gs(W,ee),ye=q.layout.get("line-cap")==="round",Ce=re.getDash(L.from,ye),De=re.getDash(L.to,ye),Ue=Ce.width*H.fromScale,Ge=De.width*H.toScale;return a.extend(mo(N,W,q),{u_patternscale_a:[fe/Ue,-Ce.height/2],u_patternscale_b:[fe/Ge,-De.height/2],u_sdfgamma:re.width/(256*Math.min(Ue,Ge)*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Ce.y,u_tex_y_b:De.y,u_mix:H.t})};function gs(N,W){return 1/er(N,1,W.tileZoom)}function to(N,W,q){return N.translatePosMatrix(W.tileID.posMatrix,W,q.paint.get("line-translate"),q.paint.get("line-translate-anchor"))}var Nl=function(N,W,q,L,H){return{u_matrix:N,u_tl_parent:W,u_scale_parent:q,u_buffer_scale:1,u_fade_t:L.mix,u_opacity:L.opacity*H.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:H.paint.get("raster-brightness-min"),u_brightness_high:H.paint.get("raster-brightness-max"),u_saturation_factor:(re=H.paint.get("raster-saturation"),re>0?1-1/(1.001-re):-re),u_contrast_factor:(ee=H.paint.get("raster-contrast"),ee>0?1/(1-ee):1+ee),u_spin_weights:Wo(H.paint.get("raster-hue-rotate"))};var ee,re};function Wo(N){N*=Math.PI/180;var W=Math.sin(N),q=Math.cos(N);return[(2*q+1)/3,(-Math.sqrt(3)*W-q+1)/3,(Math.sqrt(3)*W-q+1)/3]}var Co,Po=function(N,W,q,L,H,ee,re,fe,ye,Ce){var De=H.transform;return{u_is_size_zoom_constant:+(N==="constant"||N==="source"),u_is_size_feature_constant:+(N==="constant"||N==="camera"),u_size_t:W?W.uSizeT:0,u_size:W?W.uSize:0,u_camera_to_center_distance:De.cameraToCenterDistance,u_pitch:De.pitch/360*2*Math.PI,u_rotate_symbol:+q,u_aspect_ratio:De.width/De.height,u_fade_change:H.options.fadeDuration?H.symbolFadeChange:1,u_matrix:ee,u_label_plane_matrix:re,u_coord_matrix:fe,u_is_text:+ye,u_pitch_with_map:+L,u_texsize:Ce,u_texture:0}},Yo=function(N,W,q,L,H,ee,re,fe,ye,Ce,De){var Ue=H.transform;return a.extend(Po(N,W,q,L,H,ee,re,fe,ye,Ce),{u_gamma_scale:L?Math.cos(Ue._pitch)*Ue.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+De})},Wr=function(N,W,q,L,H,ee,re,fe,ye,Ce){return a.extend(Yo(N,W,q,L,H,ee,re,fe,!0,ye,!0),{u_texsize_icon:Ce,u_texture_icon:1})},Es=function(N,W,q){return{u_matrix:N,u_opacity:W,u_color:q}},Tu=function(N,W,q,L,H,ee){return a.extend(function(re,fe,ye,Ce){var De=ye.imageManager.getPattern(re.from.toString()),Ue=ye.imageManager.getPattern(re.to.toString()),Ge=ye.imageManager.getPixelSize(),tt=Ge.width,ft=Ge.height,dt=Math.pow(2,Ce.tileID.overscaledZ),At=Ce.tileSize*Math.pow(2,ye.transform.tileZoom)/dt,Ct=At*(Ce.tileID.canonical.x+Ce.tileID.wrap*dt),Et=At*Ce.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:De.tl,u_pattern_br_a:De.br,u_pattern_tl_b:Ue.tl,u_pattern_br_b:Ue.br,u_texsize:[tt,ft],u_mix:fe.t,u_pattern_size_a:De.displaySize,u_pattern_size_b:Ue.displaySize,u_scale_a:fe.fromScale,u_scale_b:fe.toScale,u_tile_units_to_pixels:1/er(Ce,1,ye.transform.tileZoom),u_pixel_coord_upper:[Ct>>16,Et>>16],u_pixel_coord_lower:[65535&Ct,65535&Et]}}(L,ee,q,H),{u_matrix:N,u_opacity:W})},_l={fillExtrusion:function(N,W){return{u_matrix:new a.UniformMatrix4f(N,W.u_matrix),u_lightpos:new a.Uniform3f(N,W.u_lightpos),u_lightintensity:new a.Uniform1f(N,W.u_lightintensity),u_lightcolor:new a.Uniform3f(N,W.u_lightcolor),u_vertical_gradient:new a.Uniform1f(N,W.u_vertical_gradient),u_opacity:new a.Uniform1f(N,W.u_opacity)}},fillExtrusionPattern:function(N,W){return{u_matrix:new a.UniformMatrix4f(N,W.u_matrix),u_lightpos:new a.Uniform3f(N,W.u_lightpos),u_lightintensity:new a.Uniform1f(N,W.u_lightintensity),u_lightcolor:new a.Uniform3f(N,W.u_lightcolor),u_vertical_gradient:new a.Uniform1f(N,W.u_vertical_gradient),u_height_factor:new a.Uniform1f(N,W.u_height_factor),u_image:new a.Uniform1i(N,W.u_image),u_texsize:new a.Uniform2f(N,W.u_texsize),u_pixel_coord_upper:new a.Uniform2f(N,W.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(N,W.u_pixel_coord_lower),u_scale:new a.Uniform3f(N,W.u_scale),u_fade:new a.Uniform1f(N,W.u_fade),u_opacity:new a.Uniform1f(N,W.u_opacity)}},fill:function(N,W){return{u_matrix:new a.UniformMatrix4f(N,W.u_matrix)}},fillPattern:function(N,W){return{u_matrix:new a.UniformMatrix4f(N,W.u_matrix),u_image:new a.Uniform1i(N,W.u_image),u_texsize:new a.Uniform2f(N,W.u_texsize),u_pixel_coord_upper:new a.Uniform2f(N,W.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(N,W.u_pixel_coord_lower),u_scale:new a.Uniform3f(N,W.u_scale),u_fade:new a.Uniform1f(N,W.u_fade)}},fillOutline:function(N,W){return{u_matrix:new a.UniformMatrix4f(N,W.u_matrix),u_world:new a.Uniform2f(N,W.u_world)}},fillOutlinePattern:function(N,W){return{u_matrix:new a.UniformMatrix4f(N,W.u_matrix),u_world:new a.Uniform2f(N,W.u_world),u_image:new a.Uniform1i(N,W.u_image),u_texsize:new a.Uniform2f(N,W.u_texsize),u_pixel_coord_upper:new a.Uniform2f(N,W.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(N,W.u_pixel_coord_lower),u_scale:new a.Uniform3f(N,W.u_scale),u_fade:new a.Uniform1f(N,W.u_fade)}},circle:function(N,W){return{u_camera_to_center_distance:new a.Uniform1f(N,W.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(N,W.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(N,W.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(N,W.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(N,W.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(N,W.u_matrix)}},collisionBox:function(N,W){return{u_matrix:new a.UniformMatrix4f(N,W.u_matrix),u_camera_to_center_distance:new a.Uniform1f(N,W.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(N,W.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(N,W.u_extrude_scale),u_overscale_factor:new a.Uniform1f(N,W.u_overscale_factor)}},collisionCircle:function(N,W){return{u_matrix:new a.UniformMatrix4f(N,W.u_matrix),u_inv_matrix:new a.UniformMatrix4f(N,W.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(N,W.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(N,W.u_viewport_size)}},debug:function(N,W){return{u_color:new a.UniformColor(N,W.u_color),u_matrix:new a.UniformMatrix4f(N,W.u_matrix),u_overlay:new a.Uniform1i(N,W.u_overlay),u_overlay_scale:new a.Uniform1f(N,W.u_overlay_scale)}},clippingMask:function(N,W){return{u_matrix:new a.UniformMatrix4f(N,W.u_matrix)}},heatmap:function(N,W){return{u_extrude_scale:new a.Uniform1f(N,W.u_extrude_scale),u_intensity:new a.Uniform1f(N,W.u_intensity),u_matrix:new a.UniformMatrix4f(N,W.u_matrix)}},heatmapTexture:function(N,W){return{u_matrix:new a.UniformMatrix4f(N,W.u_matrix),u_world:new a.Uniform2f(N,W.u_world),u_image:new a.Uniform1i(N,W.u_image),u_color_ramp:new a.Uniform1i(N,W.u_color_ramp),u_opacity:new a.Uniform1f(N,W.u_opacity)}},hillshade:function(N,W){return{u_matrix:new a.UniformMatrix4f(N,W.u_matrix),u_image:new a.Uniform1i(N,W.u_image),u_latrange:new a.Uniform2f(N,W.u_latrange),u_light:new a.Uniform2f(N,W.u_light),u_shadow:new a.UniformColor(N,W.u_shadow),u_highlight:new a.UniformColor(N,W.u_highlight),u_accent:new a.UniformColor(N,W.u_accent)}},hillshadePrepare:function(N,W){return{u_matrix:new a.UniformMatrix4f(N,W.u_matrix),u_image:new a.Uniform1i(N,W.u_image),u_dimension:new a.Uniform2f(N,W.u_dimension),u_zoom:new a.Uniform1f(N,W.u_zoom),u_unpack:new a.Uniform4f(N,W.u_unpack)}},line:function(N,W){return{u_matrix:new a.UniformMatrix4f(N,W.u_matrix),u_ratio:new a.Uniform1f(N,W.u_ratio),u_device_pixel_ratio:new a.Uniform1f(N,W.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(N,W.u_units_to_pixels)}},lineGradient:function(N,W){return{u_matrix:new a.UniformMatrix4f(N,W.u_matrix),u_ratio:new a.Uniform1f(N,W.u_ratio),u_device_pixel_ratio:new a.Uniform1f(N,W.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(N,W.u_units_to_pixels),u_image:new a.Uniform1i(N,W.u_image),u_image_height:new a.Uniform1f(N,W.u_image_height)}},linePattern:function(N,W){return{u_matrix:new a.UniformMatrix4f(N,W.u_matrix),u_texsize:new a.Uniform2f(N,W.u_texsize),u_ratio:new a.Uniform1f(N,W.u_ratio),u_device_pixel_ratio:new a.Uniform1f(N,W.u_device_pixel_ratio),u_image:new a.Uniform1i(N,W.u_image),u_units_to_pixels:new a.Uniform2f(N,W.u_units_to_pixels),u_scale:new a.Uniform3f(N,W.u_scale),u_fade:new a.Uniform1f(N,W.u_fade)}},lineSDF:function(N,W){return{u_matrix:new a.UniformMatrix4f(N,W.u_matrix),u_ratio:new a.Uniform1f(N,W.u_ratio),u_device_pixel_ratio:new a.Uniform1f(N,W.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(N,W.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(N,W.u_patternscale_a),u_patternscale_b:new a.Uniform2f(N,W.u_patternscale_b),u_sdfgamma:new a.Uniform1f(N,W.u_sdfgamma),u_image:new a.Uniform1i(N,W.u_image),u_tex_y_a:new a.Uniform1f(N,W.u_tex_y_a),u_tex_y_b:new a.Uniform1f(N,W.u_tex_y_b),u_mix:new a.Uniform1f(N,W.u_mix)}},raster:function(N,W){return{u_matrix:new a.UniformMatrix4f(N,W.u_matrix),u_tl_parent:new a.Uniform2f(N,W.u_tl_parent),u_scale_parent:new a.Uniform1f(N,W.u_scale_parent),u_buffer_scale:new a.Uniform1f(N,W.u_buffer_scale),u_fade_t:new a.Uniform1f(N,W.u_fade_t),u_opacity:new a.Uniform1f(N,W.u_opacity),u_image0:new a.Uniform1i(N,W.u_image0),u_image1:new a.Uniform1i(N,W.u_image1),u_brightness_low:new a.Uniform1f(N,W.u_brightness_low),u_brightness_high:new a.Uniform1f(N,W.u_brightness_high),u_saturation_factor:new a.Uniform1f(N,W.u_saturation_factor),u_contrast_factor:new a.Uniform1f(N,W.u_contrast_factor),u_spin_weights:new a.Uniform3f(N,W.u_spin_weights)}},symbolIcon:function(N,W){return{u_is_size_zoom_constant:new a.Uniform1i(N,W.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(N,W.u_is_size_feature_constant),u_size_t:new a.Uniform1f(N,W.u_size_t),u_size:new a.Uniform1f(N,W.u_size),u_camera_to_center_distance:new a.Uniform1f(N,W.u_camera_to_center_distance),u_pitch:new a.Uniform1f(N,W.u_pitch),u_rotate_symbol:new a.Uniform1i(N,W.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(N,W.u_aspect_ratio),u_fade_change:new a.Uniform1f(N,W.u_fade_change),u_matrix:new a.UniformMatrix4f(N,W.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(N,W.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(N,W.u_coord_matrix),u_is_text:new a.Uniform1i(N,W.u_is_text),u_pitch_with_map:new a.Uniform1i(N,W.u_pitch_with_map),u_texsize:new a.Uniform2f(N,W.u_texsize),u_texture:new a.Uniform1i(N,W.u_texture)}},symbolSDF:function(N,W){return{u_is_size_zoom_constant:new a.Uniform1i(N,W.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(N,W.u_is_size_feature_constant),u_size_t:new a.Uniform1f(N,W.u_size_t),u_size:new a.Uniform1f(N,W.u_size),u_camera_to_center_distance:new a.Uniform1f(N,W.u_camera_to_center_distance),u_pitch:new a.Uniform1f(N,W.u_pitch),u_rotate_symbol:new a.Uniform1i(N,W.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(N,W.u_aspect_ratio),u_fade_change:new a.Uniform1f(N,W.u_fade_change),u_matrix:new a.UniformMatrix4f(N,W.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(N,W.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(N,W.u_coord_matrix),u_is_text:new a.Uniform1i(N,W.u_is_text),u_pitch_with_map:new a.Uniform1i(N,W.u_pitch_with_map),u_texsize:new a.Uniform2f(N,W.u_texsize),u_texture:new a.Uniform1i(N,W.u_texture),u_gamma_scale:new a.Uniform1f(N,W.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(N,W.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(N,W.u_is_halo)}},symbolTextAndIcon:function(N,W){return{u_is_size_zoom_constant:new a.Uniform1i(N,W.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(N,W.u_is_size_feature_constant),u_size_t:new a.Uniform1f(N,W.u_size_t),u_size:new a.Uniform1f(N,W.u_size),u_camera_to_center_distance:new a.Uniform1f(N,W.u_camera_to_center_distance),u_pitch:new a.Uniform1f(N,W.u_pitch),u_rotate_symbol:new a.Uniform1i(N,W.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(N,W.u_aspect_ratio),u_fade_change:new a.Uniform1f(N,W.u_fade_change),u_matrix:new a.UniformMatrix4f(N,W.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(N,W.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(N,W.u_coord_matrix),u_is_text:new a.Uniform1i(N,W.u_is_text),u_pitch_with_map:new a.Uniform1i(N,W.u_pitch_with_map),u_texsize:new a.Uniform2f(N,W.u_texsize),u_texsize_icon:new a.Uniform2f(N,W.u_texsize_icon),u_texture:new a.Uniform1i(N,W.u_texture),u_texture_icon:new a.Uniform1i(N,W.u_texture_icon),u_gamma_scale:new a.Uniform1f(N,W.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(N,W.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(N,W.u_is_halo)}},background:function(N,W){return{u_matrix:new a.UniformMatrix4f(N,W.u_matrix),u_opacity:new a.Uniform1f(N,W.u_opacity),u_color:new a.UniformColor(N,W.u_color)}},backgroundPattern:function(N,W){return{u_matrix:new a.UniformMatrix4f(N,W.u_matrix),u_opacity:new a.Uniform1f(N,W.u_opacity),u_image:new a.Uniform1i(N,W.u_image),u_pattern_tl_a:new a.Uniform2f(N,W.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(N,W.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(N,W.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(N,W.u_pattern_br_b),u_texsize:new a.Uniform2f(N,W.u_texsize),u_mix:new a.Uniform1f(N,W.u_mix),u_pattern_size_a:new a.Uniform2f(N,W.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(N,W.u_pattern_size_b),u_scale_a:new a.Uniform1f(N,W.u_scale_a),u_scale_b:new a.Uniform1f(N,W.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(N,W.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(N,W.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(N,W.u_tile_units_to_pixels)}}};function Ls(N,W,q,L,H,ee,re){for(var fe=N.context,ye=fe.gl,Ce=N.useProgram("collisionBox"),De=[],Ue=0,Ge=0,tt=0;tt<L.length;tt++){var ft=L[tt],dt=W.getTile(ft),At=dt.getBucket(q);if(At){var Ct=ft.posMatrix;H[0]===0&&H[1]===0||(Ct=N.translatePosMatrix(ft.posMatrix,dt,H,ee));var Et=re?At.textCollisionBox:At.iconCollisionBox,jt=At.collisionCircleArray;if(jt.length>0){var Dt=a.create(),$t=Ct;a.mul(Dt,At.placementInvProjMatrix,N.transform.glCoordMatrix),a.mul(Dt,Dt,At.placementViewportMatrix),De.push({circleArray:jt,circleOffset:Ge,transform:$t,invTransform:Dt}),Ge=Ue+=jt.length/4}Et&&Ce.draw(fe,ye.LINES,Ft.disabled,We.disabled,N.colorModeForRenderPass(),Ne.disabled,fs(Ct,N.transform,dt),q.id,Et.layoutVertexBuffer,Et.indexBuffer,Et.segments,null,N.transform.zoom,null,null,Et.collisionVertexBuffer)}}if(re&&De.length){var Yt=N.useProgram("collisionCircle"),Vt=new a.StructArrayLayout2f1f2i16;Vt.resize(4*Ue),Vt._trim();for(var gn=0,xn=0,Pn=De;xn<Pn.length;xn+=1)for(var Rn=Pn[xn],Wn=0;Wn<Rn.circleArray.length/4;Wn++){var ir=4*Wn,gr=Rn.circleArray[ir+0],Xn=Rn.circleArray[ir+1],pr=Rn.circleArray[ir+2],wr=Rn.circleArray[ir+3];Vt.emplace(gn++,gr,Xn,pr,wr,0),Vt.emplace(gn++,gr,Xn,pr,wr,1),Vt.emplace(gn++,gr,Xn,pr,wr,2),Vt.emplace(gn++,gr,Xn,pr,wr,3)}(!Co||Co.length<2*Ue)&&(Co=function(Rr){var Ur=2*Rr,Vr=new a.StructArrayLayout3ui6;Vr.resize(Ur),Vr._trim();for(var Gr=0;Gr<Ur;Gr++){var Xr=6*Gr;Vr.uint16[Xr+0]=4*Gr+0,Vr.uint16[Xr+1]=4*Gr+1,Vr.uint16[Xr+2]=4*Gr+2,Vr.uint16[Xr+3]=4*Gr+2,Vr.uint16[Xr+4]=4*Gr+3,Vr.uint16[Xr+5]=4*Gr+0}return Vr}(Ue));for(var Pr=fe.createIndexBuffer(Co,!0),nr=fe.createVertexBuffer(Vt,a.collisionCircleLayout.members,!0),hr=0,Ar=De;hr<Ar.length;hr+=1){var vr=Ar[hr],Lr=$l(vr.transform,vr.invTransform,N.transform);Yt.draw(fe,ye.TRIANGLES,Ft.disabled,We.disabled,N.colorModeForRenderPass(),Ne.disabled,Lr,q.id,nr,Pr,a.SegmentVector.simpleSegment(0,2*vr.circleOffset,vr.circleArray.length,vr.circleArray.length/2),null,N.transform.zoom,null,null,null)}nr.destroy(),Pr.destroy()}}var tu=a.identity(new Float32Array(16));function ku(N,W,q,L,H,ee){var re=a.getAnchorAlignment(N),fe=-(re.horizontalAlign-.5)*W,ye=-(re.verticalAlign-.5)*q,Ce=a.evaluateVariableOffset(N,L);return new a.Point((fe/H+Ce[0])*ee,(ye/H+Ce[1])*ee)}function wl(N,W,q,L,H,ee,re,fe,ye,Ce,De){var Ue=N.text.placedSymbolArray,Ge=N.text.dynamicLayoutVertexArray,tt=N.icon.dynamicLayoutVertexArray,ft={};Ge.clear();for(var dt=0;dt<Ue.length;dt++){var At=Ue.get(dt),Ct=N.allowVerticalPlacement&&!At.placedOrientation,Et=At.hidden||!At.crossTileID||Ct?null:L[At.crossTileID];if(Et){var jt=new a.Point(At.anchorX,At.anchorY),Dt=Jt(jt,q?fe:re),$t=un(ee.cameraToCenterDistance,Dt.signedDistanceFromCamera),Yt=H.evaluateSizeForFeature(N.textSizeData,Ce,At)*$t/a.ONE_EM;q&&(Yt*=N.tilePixelRatio/ye);for(var Vt=Et.width,gn=Et.height,xn=ku(Et.anchor,Vt,gn,Et.textOffset,Et.textBoxScale,Yt),Pn=q?Jt(jt.add(xn),re).point:Dt.point.add(W?xn.rotate(-ee.angle):xn),Rn=N.allowVerticalPlacement&&At.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,Wn=0;Wn<At.numGlyphs;Wn++)a.addDynamicAttributes(Ge,Pn,Rn);De&&At.associatedIconIndex>=0&&(ft[At.associatedIconIndex]={shiftedAnchor:Pn,angle:Rn})}else jn(At.numGlyphs,Ge)}if(De){tt.clear();for(var ir=N.icon.placedSymbolArray,gr=0;gr<ir.length;gr++){var Xn=ir.get(gr);if(Xn.hidden)jn(Xn.numGlyphs,tt);else{var pr=ft[gr];if(pr)for(var wr=0;wr<Xn.numGlyphs;wr++)a.addDynamicAttributes(tt,pr.shiftedAnchor,pr.angle);else jn(Xn.numGlyphs,tt)}}N.icon.dynamicLayoutVertexBuffer.updateData(tt)}N.text.dynamicLayoutVertexBuffer.updateData(Ge)}function Au(N,W,q){return q.iconsInText&&W?"symbolTextAndIcon":N?"symbolSDF":"symbolIcon"}function Zo(N,W,q,L,H,ee,re,fe,ye,Ce,De,Ue){for(var Ge=N.context,tt=Ge.gl,ft=N.transform,dt=fe==="map",At=ye==="map",Ct=dt&&q.layout.get("symbol-placement")!=="point",Et=dt&&!At&&!Ct,jt=q.layout.get("symbol-sort-key").constantOr(1)!==void 0,Dt=!1,$t=N.depthModeForSublayer(0,Ft.ReadOnly),Yt=q.layout.get("text-variable-anchor"),Vt=[],gn=0,xn=L;gn<xn.length;gn+=1){var Pn=xn[gn],Rn=W.getTile(Pn),Wn=Rn.getBucket(q);if(Wn){var ir=H?Wn.text:Wn.icon;if(ir&&ir.segments.get().length){var gr=ir.programConfigurations.get(q.id),Xn=H||Wn.sdfIcons,pr=H?Wn.textSizeData:Wn.iconSizeData,wr=At||ft.pitch!==0,Pr=N.useProgram(Au(Xn,H,Wn),gr),nr=a.evaluateSizeForZoom(pr,ft.zoom),hr=void 0,Ar=[0,0],vr=void 0,Lr=void 0,Rr=null,Ur=void 0;if(H){if(vr=Rn.glyphAtlasTexture,Lr=tt.LINEAR,hr=Rn.glyphAtlasTexture.size,Wn.iconsInText){Ar=Rn.imageAtlasTexture.size,Rr=Rn.imageAtlasTexture;var Vr=pr.kind==="composite"||pr.kind==="camera";Ur=wr||N.options.rotating||N.options.zooming||Vr?tt.LINEAR:tt.NEAREST}}else{var Gr=q.layout.get("icon-size").constantOr(0)!==1||Wn.iconsNeedLinear;vr=Rn.imageAtlasTexture,Lr=Xn||N.options.rotating||N.options.zooming||Gr||wr?tt.LINEAR:tt.NEAREST,hr=Rn.imageAtlasTexture.size}var Xr=er(Rn,1,N.transform.zoom),mi=Mn(Pn.posMatrix,At,dt,N.transform,Xr),Di=dn(Pn.posMatrix,At,dt,N.transform,Xr),ya=Yt&&Wn.hasTextData(),ea=q.layout.get("icon-text-fit")!=="none"&&ya&&Wn.hasIconData();Ct&&hn(Wn,Pn.posMatrix,N,H,mi,Di,At,Ce);var fa=N.translatePosMatrix(Pn.posMatrix,Rn,ee,re),Ti=Ct||H&&Yt||ea?tu:mi,$r=N.translatePosMatrix(Di,Rn,ee,re,!0),Li=Xn&&q.paint.get(H?"text-halo-width":"icon-halo-width").constantOr(1)!==0,fi={program:Pr,buffers:ir,uniformValues:Xn?Wn.iconsInText?Wr(pr.kind,nr,Et,At,N,fa,Ti,$r,hr,Ar):Yo(pr.kind,nr,Et,At,N,fa,Ti,$r,H,hr,!0):Po(pr.kind,nr,Et,At,N,fa,Ti,$r,H,hr),atlasTexture:vr,atlasTextureIcon:Rr,atlasInterpolation:Lr,atlasInterpolationIcon:Ur,isSDF:Xn,hasHalo:Li};if(jt&&Wn.canOverlap){Dt=!0;for(var ti=0,Ci=ir.segments.get();ti<Ci.length;ti+=1){var zi=Ci[ti];Vt.push({segments:new a.SegmentVector([zi]),sortKey:zi.sortKey,state:fi})}}else Vt.push({segments:ir.segments,sortKey:0,state:fi})}}}Dt&&Vt.sort(function(rl,Fo){return rl.sortKey-Fo.sortKey});for(var Zi=0,Ns=Vt;Zi<Ns.length;Zi+=1){var js=Ns[Zi],ni=js.state;if(Ge.activeTexture.set(tt.TEXTURE0),ni.atlasTexture.bind(ni.atlasInterpolation,tt.CLAMP_TO_EDGE),ni.atlasTextureIcon&&(Ge.activeTexture.set(tt.TEXTURE1),ni.atlasTextureIcon&&ni.atlasTextureIcon.bind(ni.atlasInterpolationIcon,tt.CLAMP_TO_EDGE)),ni.isSDF){var Sl=ni.uniformValues;ni.hasHalo&&(Sl.u_is_halo=1,vs(ni.buffers,js.segments,q,N,ni.program,$t,De,Ue,Sl)),Sl.u_is_halo=0}vs(ni.buffers,js.segments,q,N,ni.program,$t,De,Ue,ni.uniformValues)}}function vs(N,W,q,L,H,ee,re,fe,ye){var Ce=L.context,De=Ce.gl;H.draw(Ce,De.TRIANGLES,ee,re,fe,Ne.disabled,ye,q.id,N.layoutVertexBuffer,N.indexBuffer,W,q.paint,L.transform.zoom,N.programConfigurations.get(q.id),N.dynamicLayoutVertexBuffer,N.opacityVertexBuffer)}function Oo(N,W,q,L,H,ee,re){var fe,ye,Ce,De,Ue,Ge=N.context.gl,tt=q.paint.get("fill-pattern"),ft=tt&&tt.constantOr(1),dt=q.getCrossfadeParameters();re?(ye=ft&&!q.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",fe=Ge.LINES):(ye=ft?"fillPattern":"fill",fe=Ge.TRIANGLES);for(var At=0,Ct=L;At<Ct.length;At+=1){var Et=Ct[At],jt=W.getTile(Et);if(!ft||jt.patternsLoaded()){var Dt=jt.getBucket(q);if(Dt){var $t=Dt.programConfigurations.get(q.id),Yt=N.useProgram(ye,$t);ft&&(N.context.activeTexture.set(Ge.TEXTURE0),jt.imageAtlasTexture.bind(Ge.LINEAR,Ge.CLAMP_TO_EDGE),$t.updatePaintBuffers(dt));var Vt=tt.constantOr(null);if(Vt&&jt.imageAtlas){var gn=jt.imageAtlas,xn=gn.patternPositions[Vt.to.toString()],Pn=gn.patternPositions[Vt.from.toString()];xn&&Pn&&$t.setConstantPatternPositions(xn,Pn)}var Rn=N.translatePosMatrix(Et.posMatrix,jt,q.paint.get("fill-translate"),q.paint.get("fill-translate-anchor"));if(re){De=Dt.indexBuffer2,Ue=Dt.segments2;var Wn=[Ge.drawingBufferWidth,Ge.drawingBufferHeight];Ce=ye==="fillOutlinePattern"&&ft?Bl(Rn,N,dt,jt,Wn):vo(Rn,Wn)}else De=Dt.indexBuffer,Ue=Dt.segments,Ce=ft?Go(Rn,N,dt,jt):Lo(Rn);Yt.draw(N.context,fe,H,N.stencilModeForClipping(Et),ee,Ne.disabled,Ce,q.id,Dt.layoutVertexBuffer,De,Ue,q.paint,N.transform.zoom,$t)}}}}function no(N,W,q,L,H,ee,re){for(var fe=N.context,ye=fe.gl,Ce=q.paint.get("fill-extrusion-pattern"),De=Ce.constantOr(1),Ue=q.getCrossfadeParameters(),Ge=q.paint.get("fill-extrusion-opacity"),tt=0,ft=L;tt<ft.length;tt+=1){var dt=ft[tt],At=W.getTile(dt),Ct=At.getBucket(q);if(Ct){var Et=Ct.programConfigurations.get(q.id),jt=N.useProgram(De?"fillExtrusionPattern":"fillExtrusion",Et);De&&(N.context.activeTexture.set(ye.TEXTURE0),At.imageAtlasTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),Et.updatePaintBuffers(Ue));var Dt=Ce.constantOr(null);if(Dt&&At.imageAtlas){var $t=At.imageAtlas,Yt=$t.patternPositions[Dt.to.toString()],Vt=$t.patternPositions[Dt.from.toString()];Yt&&Vt&&Et.setConstantPatternPositions(Yt,Vt)}var gn=N.translatePosMatrix(dt.posMatrix,At,q.paint.get("fill-extrusion-translate"),q.paint.get("fill-extrusion-translate-anchor")),xn=q.paint.get("fill-extrusion-vertical-gradient"),Pn=De?qo(gn,N,xn,Ge,dt,Ue,At):go(gn,N,xn,Ge);jt.draw(fe,fe.gl.TRIANGLES,H,ee,re,Ne.backCCW,Pn,q.id,Ct.layoutVertexBuffer,Ct.indexBuffer,Ct.segments,q.paint,N.transform.zoom,Et)}}}function Cs(N,W,q,L,H,ee){var re=N.context,fe=re.gl,ye=W.fbo;if(ye){var Ce=N.useProgram("hillshade");re.activeTexture.set(fe.TEXTURE0),fe.bindTexture(fe.TEXTURE_2D,ye.colorAttachment.get());var De=wu(N,W,q);Ce.draw(re,fe.TRIANGLES,L,H,ee,Ne.disabled,De,q.id,N.rasterBoundsBuffer,N.quadTriangleIndexBuffer,N.rasterBoundsSegments)}}function nu(N,W,q,L,H,ee){var re=N.context,fe=re.gl,ye=W.dem;if(ye&&ye.data){var Ce=ye.dim,De=ye.stride,Ue=ye.getPixels();if(re.activeTexture.set(fe.TEXTURE1),re.pixelStoreUnpackPremultiplyAlpha.set(!1),W.demTexture=W.demTexture||N.getTileTexture(De),W.demTexture){var Ge=W.demTexture;Ge.update(Ue,{premultiply:!1}),Ge.bind(fe.NEAREST,fe.CLAMP_TO_EDGE)}else W.demTexture=new a.Texture(re,Ue,fe.RGBA,{premultiply:!1}),W.demTexture.bind(fe.NEAREST,fe.CLAMP_TO_EDGE);re.activeTexture.set(fe.TEXTURE0);var tt=W.fbo;if(!tt){var ft=new a.Texture(re,{width:Ce,height:Ce,data:null},fe.RGBA);ft.bind(fe.LINEAR,fe.CLAMP_TO_EDGE),(tt=W.fbo=re.createFramebuffer(Ce,Ce,!0)).colorAttachment.set(ft.texture)}re.bindFramebuffer.set(tt.framebuffer),re.viewport.set([0,0,Ce,Ce]),N.useProgram("hillshadePrepare").draw(re,fe.TRIANGLES,L,H,ee,Ne.disabled,ps(W.tileID,ye),q.id,N.rasterBoundsBuffer,N.quadTriangleIndexBuffer,N.rasterBoundsSegments),W.needsHillshadePrepare=!1}}function Zs(N,W,q,L,H){var ee=L.paint.get("raster-fade-duration");if(ee>0){var re=a.browser.now(),fe=(re-N.timeAdded)/ee,ye=W?(re-W.timeAdded)/ee:-1,Ce=q.getSource(),De=H.coveringZoomLevel({tileSize:Ce.tileSize,roundZoom:Ce.roundZoom}),Ue=!W||Math.abs(W.tileID.overscaledZ-De)>Math.abs(N.tileID.overscaledZ-De),Ge=Ue&&N.refreshedUponExpiration?1:a.clamp(Ue?fe:1-ye,0,1);return N.refreshedUponExpiration&&fe>=1&&(N.refreshedUponExpiration=!1),W?{opacity:1,mix:1-Ge}:{opacity:Ge,mix:0}}return{opacity:1,mix:0}}var Tl=new a.Color(1,0,0,1),Ba=new a.Color(0,1,0,1),kl=new a.Color(0,0,1,1),ru=new a.Color(1,0,1,1),Ps=new a.Color(0,1,1,1);function ms(N){var W=N.transform.padding;Os(N,N.transform.height-(W.top||0),3,Tl),Os(N,W.bottom||0,3,Ba),ys(N,W.left||0,3,kl),ys(N,N.transform.width-(W.right||0),3,ru);var q=N.transform.centerPoint;(function(L,H,ee,re){var fe=20,ye=2;xs(L,H-ye/2,ee-fe/2,ye,fe,re),xs(L,H-fe/2,ee-ye/2,fe,ye,re)})(N,q.x,N.transform.height-q.y,Ps)}function Os(N,W,q,L){xs(N,0,W+q/2,N.transform.width,q,L)}function ys(N,W,q,L){xs(N,W-q/2,0,q,N.transform.height,L)}function xs(N,W,q,L,H,ee){var re=N.context,fe=re.gl;fe.enable(fe.SCISSOR_TEST),fe.scissor(W*a.browser.devicePixelRatio,q*a.browser.devicePixelRatio,L*a.browser.devicePixelRatio,H*a.browser.devicePixelRatio),re.clear({color:ee}),fe.disable(fe.SCISSOR_TEST)}function Xs(N,W,q){var L=N.context,H=L.gl,ee=q.posMatrix,re=N.useProgram("debug"),fe=Ft.disabled,ye=We.disabled,Ce=N.colorModeForRenderPass(),De="$debug";L.activeTexture.set(H.TEXTURE0),N.emptyTexture.bind(H.LINEAR,H.CLAMP_TO_EDGE),re.draw(L,H.LINE_STRIP,fe,ye,Ce,Ne.disabled,Ql(ee,a.Color.red),De,N.debugBuffer,N.tileBorderIndexBuffer,N.debugSegments);var Ue=W.getTileByID(q.key).latestRawTileData,Ge=Ue&&Ue.byteLength||0,tt=Math.floor(Ge/1024),ft=W.getTile(q).tileSize,dt=512/Math.min(ft,512)*(q.overscaledZ/N.transform.zoom)*.5,At=q.canonical.toString();q.overscaledZ!==q.canonical.z&&(At+=" => "+q.overscaledZ),function(Ct,Et){Ct.initDebugOverlayCanvas();var jt=Ct.debugOverlayCanvas,Dt=Ct.context.gl,$t=Ct.debugOverlayCanvas.getContext("2d");$t.clearRect(0,0,jt.width,jt.height),$t.shadowColor="white",$t.shadowBlur=2,$t.lineWidth=1.5,$t.strokeStyle="white",$t.textBaseline="top",$t.font="bold 36px Open Sans, sans-serif",$t.fillText(Et,5,5),$t.strokeText(Et,5,5),Ct.debugOverlayTexture.update(jt),Ct.debugOverlayTexture.bind(Dt.LINEAR,Dt.CLAMP_TO_EDGE)}(N,At+" "+tt+"kb"),re.draw(L,H.TRIANGLES,fe,ye,Ze.alphaBlended,Ne.disabled,Ql(ee,a.Color.transparent,dt),De,N.debugBuffer,N.quadTriangleIndexBuffer,N.debugSegments)}var Al={symbol:function(N,W,q,L,H){if(N.renderPass==="translucent"){var ee=We.disabled,re=N.colorModeForRenderPass();q.layout.get("text-variable-anchor")&&function(fe,ye,Ce,De,Ue,Ge,tt){for(var ft=ye.transform,dt=Ue==="map",At=Ge==="map",Ct=0,Et=fe;Ct<Et.length;Ct+=1){var jt=Et[Ct],Dt=De.getTile(jt),$t=Dt.getBucket(Ce);if($t&&$t.text&&$t.text.segments.get().length){var Yt=$t.textSizeData,Vt=a.evaluateSizeForZoom(Yt,ft.zoom),gn=er(Dt,1,ye.transform.zoom),xn=Mn(jt.posMatrix,At,dt,ye.transform,gn),Pn=Ce.layout.get("icon-text-fit")!=="none"&&$t.hasIconData();if(Vt){var Rn=Math.pow(2,ft.zoom-Dt.tileID.overscaledZ);wl($t,dt,At,tt,a.symbolSize,ft,xn,jt.posMatrix,Rn,Vt,Pn)}}}}(L,N,q,W,q.layout.get("text-rotation-alignment"),q.layout.get("text-pitch-alignment"),H),q.paint.get("icon-opacity").constantOr(1)!==0&&Zo(N,W,q,L,!1,q.paint.get("icon-translate"),q.paint.get("icon-translate-anchor"),q.layout.get("icon-rotation-alignment"),q.layout.get("icon-pitch-alignment"),q.layout.get("icon-keep-upright"),ee,re),q.paint.get("text-opacity").constantOr(1)!==0&&Zo(N,W,q,L,!0,q.paint.get("text-translate"),q.paint.get("text-translate-anchor"),q.layout.get("text-rotation-alignment"),q.layout.get("text-pitch-alignment"),q.layout.get("text-keep-upright"),ee,re),W.map.showCollisionBoxes&&(Ls(N,W,q,L,q.paint.get("text-translate"),q.paint.get("text-translate-anchor"),!0),Ls(N,W,q,L,q.paint.get("icon-translate"),q.paint.get("icon-translate-anchor"),!1))}},circle:function(N,W,q,L){if(N.renderPass==="translucent"){var H=q.paint.get("circle-opacity"),ee=q.paint.get("circle-stroke-width"),re=q.paint.get("circle-stroke-opacity"),fe=q.layout.get("circle-sort-key").constantOr(1)!==void 0;if(H.constantOr(1)!==0||ee.constantOr(1)!==0&&re.constantOr(1)!==0){for(var ye=N.context,Ce=ye.gl,De=N.depthModeForSublayer(0,Ft.ReadOnly),Ue=We.disabled,Ge=N.colorModeForRenderPass(),tt=[],ft=0;ft<L.length;ft++){var dt=L[ft],At=W.getTile(dt),Ct=At.getBucket(q);if(Ct){var Et=Ct.programConfigurations.get(q.id),jt={programConfiguration:Et,program:N.useProgram("circle",Et),layoutVertexBuffer:Ct.layoutVertexBuffer,indexBuffer:Ct.indexBuffer,uniformValues:bl(N,dt,At,q)};if(fe)for(var Dt=0,$t=Ct.segments.get();Dt<$t.length;Dt+=1){var Yt=$t[Dt];tt.push({segments:new a.SegmentVector([Yt]),sortKey:Yt.sortKey,state:jt})}else tt.push({segments:Ct.segments,sortKey:0,state:jt})}}fe&&tt.sort(function(wr,Pr){return wr.sortKey-Pr.sortKey});for(var Vt=0,gn=tt;Vt<gn.length;Vt+=1){var xn=gn[Vt],Pn=xn.state,Rn=Pn.programConfiguration,Wn=Pn.program,ir=Pn.layoutVertexBuffer,gr=Pn.indexBuffer,Xn=Pn.uniformValues,pr=xn.segments;Wn.draw(ye,Ce.TRIANGLES,De,Ue,Ge,Ne.disabled,Xn,q.id,ir,gr,pr,q.paint,N.transform.zoom,Rn)}}}},heatmap:function(N,W,q,L){if(q.paint.get("heatmap-opacity")!==0)if(N.renderPass==="offscreen"){var H=N.context,ee=H.gl,re=We.disabled,fe=new Ze([ee.ONE,ee.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(dt,At,Ct){var Et=dt.gl;dt.activeTexture.set(Et.TEXTURE1),dt.viewport.set([0,0,At.width/4,At.height/4]);var jt=Ct.heatmapFbo;if(jt)Et.bindTexture(Et.TEXTURE_2D,jt.colorAttachment.get()),dt.bindFramebuffer.set(jt.framebuffer);else{var Dt=Et.createTexture();Et.bindTexture(Et.TEXTURE_2D,Dt),Et.texParameteri(Et.TEXTURE_2D,Et.TEXTURE_WRAP_S,Et.CLAMP_TO_EDGE),Et.texParameteri(Et.TEXTURE_2D,Et.TEXTURE_WRAP_T,Et.CLAMP_TO_EDGE),Et.texParameteri(Et.TEXTURE_2D,Et.TEXTURE_MIN_FILTER,Et.LINEAR),Et.texParameteri(Et.TEXTURE_2D,Et.TEXTURE_MAG_FILTER,Et.LINEAR),jt=Ct.heatmapFbo=dt.createFramebuffer(At.width/4,At.height/4,!1),function($t,Yt,Vt,gn){var xn=$t.gl,Pn=$t.extRenderToTextureHalfFloat?$t.extTextureHalfFloat.HALF_FLOAT_OES:xn.UNSIGNED_BYTE;xn.texImage2D(xn.TEXTURE_2D,0,xn.RGBA,Yt.width/4,Yt.height/4,0,xn.RGBA,Pn,null),gn.colorAttachment.set(Vt)}(dt,At,Dt,jt)}})(H,N,q),H.clear({color:a.Color.transparent});for(var ye=0;ye<L.length;ye++){var Ce=L[ye];if(!W.hasRenderableParent(Ce)){var De=W.getTile(Ce),Ue=De.getBucket(q);if(Ue){var Ge=Ue.programConfigurations.get(q.id),tt=N.useProgram("heatmap",Ge),ft=N.transform.zoom;tt.draw(H,ee.TRIANGLES,Ft.disabled,re,fe,Ne.disabled,eu(Ce.posMatrix,De,ft,q.paint.get("heatmap-intensity")),q.id,Ue.layoutVertexBuffer,Ue.indexBuffer,Ue.segments,q.paint,N.transform.zoom,Ge)}}}H.viewport.set([0,0,N.width,N.height])}else N.renderPass==="translucent"&&(N.context.setColorMode(N.colorModeForRenderPass()),function(dt,At){var Ct=dt.context,Et=Ct.gl,jt=At.heatmapFbo;if(jt){Ct.activeTexture.set(Et.TEXTURE0),Et.bindTexture(Et.TEXTURE_2D,jt.colorAttachment.get()),Ct.activeTexture.set(Et.TEXTURE1);var Dt=At.colorRampTexture;Dt||(Dt=At.colorRampTexture=new a.Texture(Ct,At.colorRamp,Et.RGBA)),Dt.bind(Et.LINEAR,Et.CLAMP_TO_EDGE),dt.useProgram("heatmapTexture").draw(Ct,Et.TRIANGLES,Ft.disabled,We.disabled,dt.colorModeForRenderPass(),Ne.disabled,_u(dt,At,0,1),At.id,dt.viewportBuffer,dt.quadTriangleIndexBuffer,dt.viewportSegments,At.paint,dt.transform.zoom)}}(N,q))},line:function(N,W,q,L){if(N.renderPass==="translucent"){var H=q.paint.get("line-opacity"),ee=q.paint.get("line-width");if(H.constantOr(1)!==0&&ee.constantOr(1)!==0)for(var re=N.depthModeForSublayer(0,Ft.ReadOnly),fe=N.colorModeForRenderPass(),ye=q.paint.get("line-dasharray"),Ce=q.paint.get("line-pattern"),De=Ce.constantOr(1),Ue=q.paint.get("line-gradient"),Ge=q.getCrossfadeParameters(),tt=De?"linePattern":ye?"lineSDF":Ue?"lineGradient":"line",ft=N.context,dt=ft.gl,At=!0,Ct=0,Et=L;Ct<Et.length;Ct+=1){var jt=Et[Ct],Dt=W.getTile(jt);if(!De||Dt.patternsLoaded()){var $t=Dt.getBucket(q);if($t){var Yt=$t.programConfigurations.get(q.id),Vt=N.context.program.get(),gn=N.useProgram(tt,Yt),xn=At||gn.program!==Vt,Pn=Ce.constantOr(null);if(Pn&&Dt.imageAtlas){var Rn=Dt.imageAtlas,Wn=Rn.patternPositions[Pn.to.toString()],ir=Rn.patternPositions[Pn.from.toString()];Wn&&ir&&Yt.setConstantPatternPositions(Wn,ir)}var gr=De?ds(N,Dt,q,Ge):ye?Ys(N,Dt,q,ye,Ge):Ue?Ss(N,Dt,q,$t.lineClipsArray.length):mo(N,Dt,q);if(De)ft.activeTexture.set(dt.TEXTURE0),Dt.imageAtlasTexture.bind(dt.LINEAR,dt.CLAMP_TO_EDGE),Yt.updatePaintBuffers(Ge);else if(ye&&(xn||N.lineAtlas.dirty))ft.activeTexture.set(dt.TEXTURE0),N.lineAtlas.bind(ft);else if(Ue){var Xn=$t.gradients[q.id],pr=Xn.texture;if(q.gradientVersion!==Xn.version){var wr=256;if(q.stepInterpolant){var Pr=W.getSource().maxzoom,nr=jt.canonical.z===Pr?Math.ceil(1<<N.transform.maxZoom-jt.canonical.z):1,hr=$t.maxLineLength/a.EXTENT*1024*nr;wr=a.clamp(a.nextPowerOfTwo(hr),256,ft.maxTextureSize)}Xn.gradient=a.renderColorRamp({expression:q.gradientExpression(),evaluationKey:"lineProgress",resolution:wr,image:Xn.gradient||void 0,clips:$t.lineClipsArray}),Xn.texture?Xn.texture.update(Xn.gradient):Xn.texture=new a.Texture(ft,Xn.gradient,dt.RGBA),Xn.version=q.gradientVersion,pr=Xn.texture}ft.activeTexture.set(dt.TEXTURE0),pr.bind(q.stepInterpolant?dt.NEAREST:dt.LINEAR,dt.CLAMP_TO_EDGE)}gn.draw(ft,dt.TRIANGLES,re,N.stencilModeForClipping(jt),fe,Ne.disabled,gr,q.id,$t.layoutVertexBuffer,$t.indexBuffer,$t.segments,q.paint,N.transform.zoom,Yt,$t.layoutVertexBuffer2),At=!1}}}}},fill:function(N,W,q,L){var H=q.paint.get("fill-color"),ee=q.paint.get("fill-opacity");if(ee.constantOr(1)!==0){var re=N.colorModeForRenderPass(),fe=q.paint.get("fill-pattern"),ye=N.opaquePassEnabledForLayer()&&!fe.constantOr(1)&&H.constantOr(a.Color.transparent).a===1&&ee.constantOr(0)===1?"opaque":"translucent";if(N.renderPass===ye){var Ce=N.depthModeForSublayer(1,N.renderPass==="opaque"?Ft.ReadWrite:Ft.ReadOnly);Oo(N,W,q,L,Ce,re,!1)}if(N.renderPass==="translucent"&&q.paint.get("fill-antialias")){var De=N.depthModeForSublayer(q.getPaintProperty("fill-outline-color")?2:0,Ft.ReadOnly);Oo(N,W,q,L,De,re,!0)}}},"fill-extrusion":function(N,W,q,L){var H=q.paint.get("fill-extrusion-opacity");if(H!==0&&N.renderPass==="translucent"){var ee=new Ft(N.context.gl.LEQUAL,Ft.ReadWrite,N.depthRangeFor3D);if(H!==1||q.paint.get("fill-extrusion-pattern").constantOr(1))no(N,W,q,L,ee,We.disabled,Ze.disabled),no(N,W,q,L,ee,N.stencilModeFor3D(),N.colorModeForRenderPass());else{var re=N.colorModeForRenderPass();no(N,W,q,L,ee,We.disabled,re)}}},hillshade:function(N,W,q,L){if(N.renderPass==="offscreen"||N.renderPass==="translucent"){for(var H=N.context,ee=N.depthModeForSublayer(0,Ft.ReadOnly),re=N.colorModeForRenderPass(),fe=N.renderPass==="translucent"?N.stencilConfigForOverlap(L):[{},L],ye=fe[0],Ce=0,De=fe[1];Ce<De.length;Ce+=1){var Ue=De[Ce],Ge=W.getTile(Ue);Ge.needsHillshadePrepare&&N.renderPass==="offscreen"?nu(N,Ge,q,ee,We.disabled,re):N.renderPass==="translucent"&&Cs(N,Ge,q,ee,ye[Ue.overscaledZ],re)}H.viewport.set([0,0,N.width,N.height])}},raster:function(N,W,q,L){if(N.renderPass==="translucent"&&q.paint.get("raster-opacity")!==0&&L.length)for(var H=N.context,ee=H.gl,re=W.getSource(),fe=N.useProgram("raster"),ye=N.colorModeForRenderPass(),Ce=re instanceof F?[{},L]:N.stencilConfigForOverlap(L),De=Ce[0],Ue=Ce[1],Ge=Ue[Ue.length-1].overscaledZ,tt=!N.options.moving,ft=0,dt=Ue;ft<dt.length;ft+=1){var At=dt[ft],Ct=N.depthModeForSublayer(At.overscaledZ-Ge,q.paint.get("raster-opacity")===1?Ft.ReadWrite:Ft.ReadOnly,ee.LESS),Et=W.getTile(At),jt=N.transform.calculatePosMatrix(At.toUnwrapped(),tt);Et.registerFadeDuration(q.paint.get("raster-fade-duration"));var Dt=W.findLoadedParent(At,0),$t=Zs(Et,Dt,W,q,N.transform),Yt=void 0,Vt=void 0,gn=q.paint.get("raster-resampling")==="nearest"?ee.NEAREST:ee.LINEAR;H.activeTexture.set(ee.TEXTURE0),Et.texture.bind(gn,ee.CLAMP_TO_EDGE,ee.LINEAR_MIPMAP_NEAREST),H.activeTexture.set(ee.TEXTURE1),Dt?(Dt.texture.bind(gn,ee.CLAMP_TO_EDGE,ee.LINEAR_MIPMAP_NEAREST),Yt=Math.pow(2,Dt.tileID.overscaledZ-Et.tileID.overscaledZ),Vt=[Et.tileID.canonical.x*Yt%1,Et.tileID.canonical.y*Yt%1]):Et.texture.bind(gn,ee.CLAMP_TO_EDGE,ee.LINEAR_MIPMAP_NEAREST);var xn=Nl(jt,Vt||[0,0],Yt||1,$t,q);re instanceof F?fe.draw(H,ee.TRIANGLES,Ct,We.disabled,ye,Ne.disabled,xn,q.id,re.boundsBuffer,N.quadTriangleIndexBuffer,re.boundsSegments):fe.draw(H,ee.TRIANGLES,Ct,De[At.overscaledZ],ye,Ne.disabled,xn,q.id,N.rasterBoundsBuffer,N.quadTriangleIndexBuffer,N.rasterBoundsSegments)}},background:function(N,W,q){var L=q.paint.get("background-color"),H=q.paint.get("background-opacity");if(H!==0){var ee=N.context,re=ee.gl,fe=N.transform,ye=fe.tileSize,Ce=q.paint.get("background-pattern");if(!N.isPatternMissing(Ce)){var De=!Ce&&L.a===1&&H===1&&N.opaquePassEnabledForLayer()?"opaque":"translucent";if(N.renderPass===De){var Ue=We.disabled,Ge=N.depthModeForSublayer(0,De==="opaque"?Ft.ReadWrite:Ft.ReadOnly),tt=N.colorModeForRenderPass(),ft=N.useProgram(Ce?"backgroundPattern":"background"),dt=fe.coveringTiles({tileSize:ye});Ce&&(ee.activeTexture.set(re.TEXTURE0),N.imageManager.bind(N.context));for(var At=q.getCrossfadeParameters(),Ct=0,Et=dt;Ct<Et.length;Ct+=1){var jt=Et[Ct],Dt=N.transform.calculatePosMatrix(jt.toUnwrapped()),$t=Ce?Tu(Dt,H,N,Ce,{tileID:jt,tileSize:ye},At):Es(Dt,H,L);ft.draw(ee,re.TRIANGLES,Ge,Ue,tt,Ne.disabled,$t,q.id,N.tileExtentBuffer,N.quadTriangleIndexBuffer,N.tileExtentSegments)}}}}},debug:function(N,W,q){for(var L=0;L<q.length;L++)Xs(N,W,q[L])},custom:function(N,W,q){var L=N.context,H=q.implementation;if(N.renderPass==="offscreen"){var ee=H.prerender;ee&&(N.setCustomLayerDefaults(),L.setColorMode(N.colorModeForRenderPass()),ee.call(H,L.gl,N.transform.customLayerMatrix()),L.setDirty(),N.setBaseState())}else if(N.renderPass==="translucent"){N.setCustomLayerDefaults(),L.setColorMode(N.colorModeForRenderPass()),L.setStencilMode(We.disabled);var re=H.renderingMode==="3d"?new Ft(N.context.gl.LEQUAL,Ft.ReadWrite,N.depthRangeFor3D):N.depthModeForSublayer(0,Ft.ReadOnly);L.setDepthMode(re),H.render(L.gl,N.transform.customLayerMatrix()),L.setDirty(),N.setBaseState(),L.bindFramebuffer.set(null)}}},oi=function(N,W){this.context=new Ye(N),this.transform=W,this._tileTextures={},this.setup(),this.numSublayers=lt.maxUnderzooming+lt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Vn,this.gpuTimers={}};oi.prototype.resize=function(N,W){if(this.width=N*a.browser.devicePixelRatio,this.height=W*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var q=0,L=this.style._order;q<L.length;q+=1){var H=L[q];this.style._layers[H].resize()}},oi.prototype.setup=function(){var N=this.context,W=new a.StructArrayLayout2i4;W.emplaceBack(0,0),W.emplaceBack(a.EXTENT,0),W.emplaceBack(0,a.EXTENT),W.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=N.createVertexBuffer(W,Qn.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var q=new a.StructArrayLayout2i4;q.emplaceBack(0,0),q.emplaceBack(a.EXTENT,0),q.emplaceBack(0,a.EXTENT),q.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=N.createVertexBuffer(q,Qn.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var L=new a.StructArrayLayout4i8;L.emplaceBack(0,0,0,0),L.emplaceBack(a.EXTENT,0,a.EXTENT,0),L.emplaceBack(0,a.EXTENT,0,a.EXTENT),L.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=N.createVertexBuffer(L,Z.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var H=new a.StructArrayLayout2i4;H.emplaceBack(0,0),H.emplaceBack(1,0),H.emplaceBack(0,1),H.emplaceBack(1,1),this.viewportBuffer=N.createVertexBuffer(H,Qn.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var ee=new a.StructArrayLayout1ui2;ee.emplaceBack(0),ee.emplaceBack(1),ee.emplaceBack(3),ee.emplaceBack(2),ee.emplaceBack(0),this.tileBorderIndexBuffer=N.createIndexBuffer(ee);var re=new a.StructArrayLayout3ui6;re.emplaceBack(0,1,2),re.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=N.createIndexBuffer(re),this.emptyTexture=new a.Texture(N,{width:1,height:1,data:new Uint8Array([0,0,0,0])},N.gl.RGBA);var fe=this.context.gl;this.stencilClearMode=new We({func:fe.ALWAYS,mask:0},0,255,fe.ZERO,fe.ZERO,fe.ZERO)},oi.prototype.clearStencil=function(){var N=this.context,W=N.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var q=a.create();a.ortho(q,0,this.width,this.height,0,0,1),a.scale(q,q,[W.drawingBufferWidth,W.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(N,W.TRIANGLES,Ft.disabled,this.stencilClearMode,Ze.disabled,Ne.disabled,hs(q),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},oi.prototype._renderTileClippingMasks=function(N,W){if(this.currentStencilSource!==N.source&&N.isTileClipped()&&W&&W.length){this.currentStencilSource=N.source;var q=this.context,L=q.gl;this.nextStencilID+W.length>256&&this.clearStencil(),q.setColorMode(Ze.disabled),q.setDepthMode(Ft.disabled);var H=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var ee=0,re=W;ee<re.length;ee+=1){var fe=re[ee],ye=this._tileClippingMaskIDs[fe.key]=this.nextStencilID++;H.draw(q,L.TRIANGLES,Ft.disabled,new We({func:L.ALWAYS,mask:0},ye,255,L.KEEP,L.KEEP,L.REPLACE),Ze.disabled,Ne.disabled,hs(fe.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},oi.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var N=this.nextStencilID++,W=this.context.gl;return new We({func:W.NOTEQUAL,mask:255},N,255,W.KEEP,W.KEEP,W.REPLACE)},oi.prototype.stencilModeForClipping=function(N){var W=this.context.gl;return new We({func:W.EQUAL,mask:255},this._tileClippingMaskIDs[N.key],0,W.KEEP,W.KEEP,W.REPLACE)},oi.prototype.stencilConfigForOverlap=function(N){var W,q=this.context.gl,L=N.sort(function(ye,Ce){return Ce.overscaledZ-ye.overscaledZ}),H=L[L.length-1].overscaledZ,ee=L[0].overscaledZ-H+1;if(ee>1){this.currentStencilSource=void 0,this.nextStencilID+ee>256&&this.clearStencil();for(var re={},fe=0;fe<ee;fe++)re[fe+H]=new We({func:q.GEQUAL,mask:255},fe+this.nextStencilID,255,q.KEEP,q.KEEP,q.REPLACE);return this.nextStencilID+=ee,[re,L]}return[(W={},W[H]=We.disabled,W),L]},oi.prototype.colorModeForRenderPass=function(){var N=this.context.gl;if(this._showOverdrawInspector){var W=.125;return new Ze([N.CONSTANT_COLOR,N.ONE],new a.Color(W,W,W,0),[!0,!0,!0,!0])}return this.renderPass==="opaque"?Ze.unblended:Ze.alphaBlended},oi.prototype.depthModeForSublayer=function(N,W,q){if(!this.opaquePassEnabledForLayer())return Ft.disabled;var L=1-((1+this.currentLayer)*this.numSublayers+N)*this.depthEpsilon;return new Ft(q||this.context.gl.LEQUAL,W,[L,L])},oi.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},oi.prototype.render=function(N,W){var q=this;this.style=N,this.options=W,this.lineAtlas=N.lineAtlas,this.imageManager=N.imageManager,this.glyphManager=N.glyphManager,this.symbolFadeChange=N.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var L=this.style._order,H=this.style.sourceCaches;for(var ee in H){var re=H[ee];re.used&&re.prepare(this.context)}var fe,ye,Ce={},De={},Ue={};for(var Ge in H){var tt=H[Ge];Ce[Ge]=tt.getVisibleCoordinates(),De[Ge]=Ce[Ge].slice().reverse(),Ue[Ge]=tt.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var ft=0;ft<L.length;ft++){var dt=L[ft];if(this.style._layers[dt].is3D()){this.opaquePassCutoff=ft;break}}this.renderPass="offscreen";for(var At=0,Ct=L;At<Ct.length;At+=1){var Et=Ct[At],jt=this.style._layers[Et];if(jt.hasOffscreenPass()&&!jt.isHidden(this.transform.zoom)){var Dt=De[jt.source];(jt.type==="custom"||Dt.length)&&this.renderLayer(this,H[jt.source],jt,Dt)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:W.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=W.showOverdrawInspector,this.depthRangeFor3D=[0,1-(N._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=L.length-1;this.currentLayer>=0;this.currentLayer--){var $t=this.style._layers[L[this.currentLayer]],Yt=H[$t.source],Vt=Ce[$t.source];this._renderTileClippingMasks($t,Vt),this.renderLayer(this,Yt,$t,Vt)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<L.length;this.currentLayer++){var gn=this.style._layers[L[this.currentLayer]],xn=H[gn.source],Pn=(gn.type==="symbol"?Ue:De)[gn.source];this._renderTileClippingMasks(gn,Ce[gn.source]),this.renderLayer(this,xn,gn,Pn)}this.options.showTileBoundaries&&(a.values(this.style._layers).forEach(function(Rn){Rn.source&&!Rn.isHidden(q.transform.zoom)&&(Rn.source!==(ye&&ye.id)&&(ye=q.style.sourceCaches[Rn.source]),(!fe||fe.getSource().maxzoom<ye.getSource().maxzoom)&&(fe=ye))}),fe&&Al.debug(this,fe,fe.getVisibleCoordinates())),this.options.showPadding&&ms(this),this.context.setDefault()},oi.prototype.renderLayer=function(N,W,q,L){q.isHidden(this.transform.zoom)||(q.type==="background"||q.type==="custom"||L.length)&&(this.id=q.id,this.gpuTimingStart(q),Al[q.type](N,W,q,L,this.style.placement.variableOffsets),this.gpuTimingEnd())},oi.prototype.gpuTimingStart=function(N){if(this.options.gpuTiming){var W=this.context.extTimerQuery,q=this.gpuTimers[N.id];q||(q=this.gpuTimers[N.id]={calls:0,cpuTime:0,query:W.createQueryEXT()}),q.calls++,W.beginQueryEXT(W.TIME_ELAPSED_EXT,q.query)}},oi.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var N=this.context.extTimerQuery;N.endQueryEXT(N.TIME_ELAPSED_EXT)}},oi.prototype.collectGpuTimers=function(){var N=this.gpuTimers;return this.gpuTimers={},N},oi.prototype.queryGpuTimers=function(N){var W={};for(var q in N){var L=N[q],H=this.context.extTimerQuery,ee=H.getQueryObjectEXT(L.query,H.QUERY_RESULT_EXT)/1e6;H.deleteQueryEXT(L.query),W[q]=ee}return W},oi.prototype.translatePosMatrix=function(N,W,q,L,H){if(!q[0]&&!q[1])return N;var ee=H?L==="map"?this.transform.angle:0:L==="viewport"?-this.transform.angle:0;if(ee){var re=Math.sin(ee),fe=Math.cos(ee);q=[q[0]*fe-q[1]*re,q[0]*re+q[1]*fe]}var ye=[H?q[0]:er(W,q[0],this.transform.zoom),H?q[1]:er(W,q[1],this.transform.zoom),0],Ce=new Float32Array(16);return a.translate(Ce,N,ye),Ce},oi.prototype.saveTileTexture=function(N){var W=this._tileTextures[N.size[0]];W?W.push(N):this._tileTextures[N.size[0]]=[N]},oi.prototype.getTileTexture=function(N){var W=this._tileTextures[N];return W&&W.length>0?W.pop():null},oi.prototype.isPatternMissing=function(N){if(!N)return!1;if(!N.from||!N.to)return!0;var W=this.imageManager.getPattern(N.from.toString()),q=this.imageManager.getPattern(N.to.toString());return!W||!q},oi.prototype.useProgram=function(N,W){this.cache=this.cache||{};var q=""+N+(W?W.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[q]||(this.cache[q]=new eo(this.context,N,Ji[N],W,_l[N],this._showOverdrawInspector)),this.cache[q]},oi.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},oi.prototype.setBaseState=function(){var N=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(N.FUNC_ADD)},oi.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var N=this.context.gl;this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,N.RGBA)}},oi.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Xo=function(N,W){this.points=N,this.planes=W};Xo.fromInvProjectionMatrix=function(N,W,q){var L=Math.pow(2,q),H=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(re){return a.transformMat4([],re,N)}).map(function(re){return a.scale$1([],re,1/re[3]/W*L)}),ee=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(re){var fe=a.sub([],H[re[0]],H[re[1]]),ye=a.sub([],H[re[2]],H[re[1]]),Ce=a.normalize([],a.cross([],fe,ye)),De=-a.dot(Ce,H[re[1]]);return Ce.concat(De)});return new Xo(H,ee)};var ca=function(N,W){this.min=N,this.max=W,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};ca.prototype.quadrant=function(N){for(var W=[N%2==0,N<2],q=a.clone$2(this.min),L=a.clone$2(this.max),H=0;H<W.length;H++)q[H]=W[H]?this.min[H]:this.center[H],L[H]=W[H]?this.center[H]:this.max[H];return L[2]=this.max[2],new ca(q,L)},ca.prototype.distanceX=function(N){return Math.max(Math.min(this.max[0],N[0]),this.min[0])-N[0]},ca.prototype.distanceY=function(N){return Math.max(Math.min(this.max[1],N[1]),this.min[1])-N[1]},ca.prototype.intersects=function(N){for(var W=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],q=!0,L=0;L<N.planes.length;L++){for(var H=N.planes[L],ee=0,re=0;re<W.length;re++)ee+=a.dot$1(H,W[re])>=0;if(ee===0)return 0;ee!==W.length&&(q=!1)}if(q)return 2;for(var fe=0;fe<3;fe++){for(var ye=Number.MAX_VALUE,Ce=-Number.MAX_VALUE,De=0;De<N.points.length;De++){var Ue=N.points[De][fe]-this.min[fe];ye=Math.min(ye,Ue),Ce=Math.max(Ce,Ue)}if(Ce<0||ye>this.max[fe]-this.min[fe])return 0}return 1};var ro=function(N,W,q,L){if(N===void 0&&(N=0),W===void 0&&(W=0),q===void 0&&(q=0),L===void 0&&(L=0),isNaN(N)||N<0||isNaN(W)||W<0||isNaN(q)||q<0||isNaN(L)||L<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=N,this.bottom=W,this.left=q,this.right=L};ro.prototype.interpolate=function(N,W,q){return W.top!=null&&N.top!=null&&(this.top=a.number(N.top,W.top,q)),W.bottom!=null&&N.bottom!=null&&(this.bottom=a.number(N.bottom,W.bottom,q)),W.left!=null&&N.left!=null&&(this.left=a.number(N.left,W.left,q)),W.right!=null&&N.right!=null&&(this.right=a.number(N.right,W.right,q)),this},ro.prototype.getCenter=function(N,W){var q=a.clamp((this.left+N-this.right)/2,0,N),L=a.clamp((this.top+W-this.bottom)/2,0,W);return new a.Point(q,L)},ro.prototype.equals=function(N){return this.top===N.top&&this.bottom===N.bottom&&this.left===N.left&&this.right===N.right},ro.prototype.clone=function(){return new ro(this.top,this.bottom,this.left,this.right)},ro.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Qr=function(N,W,q,L,H){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=H===void 0||H,this._minZoom=N||0,this._maxZoom=W||22,this._minPitch=q==null?0:q,this._maxPitch=L==null?60:L,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new ro,this._posMatrixCache={},this._alignedPosMatrixCache={}},ai={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Qr.prototype.clone=function(){var N=new Qr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return N.tileSize=this.tileSize,N.latRange=this.latRange,N.width=this.width,N.height=this.height,N._center=this._center,N.zoom=this.zoom,N.angle=this.angle,N._fov=this._fov,N._pitch=this._pitch,N._unmodified=this._unmodified,N._edgeInsets=this._edgeInsets.clone(),N._calcMatrices(),N},ai.minZoom.get=function(){return this._minZoom},ai.minZoom.set=function(N){this._minZoom!==N&&(this._minZoom=N,this.zoom=Math.max(this.zoom,N))},ai.maxZoom.get=function(){return this._maxZoom},ai.maxZoom.set=function(N){this._maxZoom!==N&&(this._maxZoom=N,this.zoom=Math.min(this.zoom,N))},ai.minPitch.get=function(){return this._minPitch},ai.minPitch.set=function(N){this._minPitch!==N&&(this._minPitch=N,this.pitch=Math.max(this.pitch,N))},ai.maxPitch.get=function(){return this._maxPitch},ai.maxPitch.set=function(N){this._maxPitch!==N&&(this._maxPitch=N,this.pitch=Math.min(this.pitch,N))},ai.renderWorldCopies.get=function(){return this._renderWorldCopies},ai.renderWorldCopies.set=function(N){N===void 0?N=!0:N===null&&(N=!1),this._renderWorldCopies=N},ai.worldSize.get=function(){return this.tileSize*this.scale},ai.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},ai.size.get=function(){return new a.Point(this.width,this.height)},ai.bearing.get=function(){return-this.angle/Math.PI*180},ai.bearing.set=function(N){var W=-a.wrap(N,-180,180)*Math.PI/180;this.angle!==W&&(this._unmodified=!1,this.angle=W,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},ai.pitch.get=function(){return this._pitch/Math.PI*180},ai.pitch.set=function(N){var W=a.clamp(N,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==W&&(this._unmodified=!1,this._pitch=W,this._calcMatrices())},ai.fov.get=function(){return this._fov/Math.PI*180},ai.fov.set=function(N){N=Math.max(.01,Math.min(60,N)),this._fov!==N&&(this._unmodified=!1,this._fov=N/180*Math.PI,this._calcMatrices())},ai.zoom.get=function(){return this._zoom},ai.zoom.set=function(N){var W=Math.min(Math.max(N,this.minZoom),this.maxZoom);this._zoom!==W&&(this._unmodified=!1,this._zoom=W,this.scale=this.zoomScale(W),this.tileZoom=Math.floor(W),this.zoomFraction=W-this.tileZoom,this._constrain(),this._calcMatrices())},ai.center.get=function(){return this._center},ai.center.set=function(N){N.lat===this._center.lat&&N.lng===this._center.lng||(this._unmodified=!1,this._center=N,this._constrain(),this._calcMatrices())},ai.padding.get=function(){return this._edgeInsets.toJSON()},ai.padding.set=function(N){this._edgeInsets.equals(N)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,N,1),this._calcMatrices())},ai.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Qr.prototype.isPaddingEqual=function(N){return this._edgeInsets.equals(N)},Qr.prototype.interpolatePadding=function(N,W,q){this._unmodified=!1,this._edgeInsets.interpolate(N,W,q),this._constrain(),this._calcMatrices()},Qr.prototype.coveringZoomLevel=function(N){var W=(N.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/N.tileSize));return Math.max(0,W)},Qr.prototype.getVisibleUnwrappedCoordinates=function(N){var W=[new a.UnwrappedTileID(0,N)];if(this._renderWorldCopies)for(var q=this.pointCoordinate(new a.Point(0,0)),L=this.pointCoordinate(new a.Point(this.width,0)),H=this.pointCoordinate(new a.Point(this.width,this.height)),ee=this.pointCoordinate(new a.Point(0,this.height)),re=Math.floor(Math.min(q.x,L.x,H.x,ee.x)),fe=Math.floor(Math.max(q.x,L.x,H.x,ee.x)),ye=re-1;ye<=fe+1;ye++)ye!==0&&W.push(new a.UnwrappedTileID(ye,N));return W},Qr.prototype.coveringTiles=function(N){var W=this.coveringZoomLevel(N),q=W;if(N.minzoom!==void 0&&W<N.minzoom)return[];N.maxzoom!==void 0&&W>N.maxzoom&&(W=N.maxzoom);var L=a.MercatorCoordinate.fromLngLat(this.center),H=Math.pow(2,W),ee=[H*L.x,H*L.y,0],re=Xo.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,W),fe=N.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(fe=W);var ye=function(Pn){return{aabb:new ca([Pn*H,0,0],[(Pn+1)*H,H,0]),zoom:0,x:0,y:0,wrap:Pn,fullyVisible:!1}},Ce=[],De=[],Ue=W,Ge=N.reparseOverscaled?q:W;if(this._renderWorldCopies)for(var tt=1;tt<=3;tt++)Ce.push(ye(-tt)),Ce.push(ye(tt));for(Ce.push(ye(0));Ce.length>0;){var ft=Ce.pop(),dt=ft.x,At=ft.y,Ct=ft.fullyVisible;if(!Ct){var Et=ft.aabb.intersects(re);if(Et===0)continue;Ct=Et===2}var jt=ft.aabb.distanceX(ee),Dt=ft.aabb.distanceY(ee),$t=Math.max(Math.abs(jt),Math.abs(Dt)),Yt=3+(1<<Ue-ft.zoom)-2;if(ft.zoom===Ue||$t>Yt&&ft.zoom>=fe)De.push({tileID:new a.OverscaledTileID(ft.zoom===Ue?Ge:ft.zoom,ft.wrap,ft.zoom,dt,At),distanceSq:a.sqrLen([ee[0]-.5-dt,ee[1]-.5-At])});else for(var Vt=0;Vt<4;Vt++){var gn=(dt<<1)+Vt%2,xn=(At<<1)+(Vt>>1);Ce.push({aabb:ft.aabb.quadrant(Vt),zoom:ft.zoom+1,x:gn,y:xn,wrap:ft.wrap,fullyVisible:Ct})}}return De.sort(function(Pn,Rn){return Pn.distanceSq-Rn.distanceSq}).map(function(Pn){return Pn.tileID})},Qr.prototype.resize=function(N,W){this.width=N,this.height=W,this.pixelsToGLUnits=[2/N,-2/W],this._constrain(),this._calcMatrices()},ai.unmodified.get=function(){return this._unmodified},Qr.prototype.zoomScale=function(N){return Math.pow(2,N)},Qr.prototype.scaleZoom=function(N){return Math.log(N)/Math.LN2},Qr.prototype.project=function(N){var W=a.clamp(N.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(N.lng)*this.worldSize,a.mercatorYfromLat(W)*this.worldSize)},Qr.prototype.unproject=function(N){return new a.MercatorCoordinate(N.x/this.worldSize,N.y/this.worldSize).toLngLat()},ai.point.get=function(){return this.project(this.center)},Qr.prototype.setLocationAtPoint=function(N,W){var q=this.pointCoordinate(W),L=this.pointCoordinate(this.centerPoint),H=this.locationCoordinate(N),ee=new a.MercatorCoordinate(H.x-(q.x-L.x),H.y-(q.y-L.y));this.center=this.coordinateLocation(ee),this._renderWorldCopies&&(this.center=this.center.wrap())},Qr.prototype.locationPoint=function(N){return this.coordinatePoint(this.locationCoordinate(N))},Qr.prototype.pointLocation=function(N){return this.coordinateLocation(this.pointCoordinate(N))},Qr.prototype.locationCoordinate=function(N){return a.MercatorCoordinate.fromLngLat(N)},Qr.prototype.coordinateLocation=function(N){return N.toLngLat()},Qr.prototype.pointCoordinate=function(N){var W=[N.x,N.y,0,1],q=[N.x,N.y,1,1];a.transformMat4(W,W,this.pixelMatrixInverse),a.transformMat4(q,q,this.pixelMatrixInverse);var L=W[3],H=q[3],ee=W[0]/L,re=q[0]/H,fe=W[1]/L,ye=q[1]/H,Ce=W[2]/L,De=q[2]/H,Ue=Ce===De?0:(0-Ce)/(De-Ce);return new a.MercatorCoordinate(a.number(ee,re,Ue)/this.worldSize,a.number(fe,ye,Ue)/this.worldSize)},Qr.prototype.coordinatePoint=function(N){var W=[N.x*this.worldSize,N.y*this.worldSize,0,1];return a.transformMat4(W,W,this.pixelMatrix),new a.Point(W[0]/W[3],W[1]/W[3])},Qr.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},Qr.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Qr.prototype.setMaxBounds=function(N){N?(this.lngRange=[N.getWest(),N.getEast()],this.latRange=[N.getSouth(),N.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Qr.prototype.calculatePosMatrix=function(N,W){W===void 0&&(W=!1);var q=N.key,L=W?this._alignedPosMatrixCache:this._posMatrixCache;if(L[q])return L[q];var H=N.canonical,ee=this.worldSize/this.zoomScale(H.z),re=H.x+Math.pow(2,H.z)*N.wrap,fe=a.identity(new Float64Array(16));return a.translate(fe,fe,[re*ee,H.y*ee,0]),a.scale(fe,fe,[ee/a.EXTENT,ee/a.EXTENT,1]),a.multiply(fe,W?this.alignedProjMatrix:this.projMatrix,fe),L[q]=new Float32Array(fe),L[q]},Qr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Qr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var N,W,q,L,H=-90,ee=90,re=-180,fe=180,ye=this.size,Ce=this._unmodified;if(this.latRange){var De=this.latRange;H=a.mercatorYfromLat(De[1])*this.worldSize,N=(ee=a.mercatorYfromLat(De[0])*this.worldSize)-H<ye.y?ye.y/(ee-H):0}if(this.lngRange){var Ue=this.lngRange;re=a.mercatorXfromLng(Ue[0])*this.worldSize,W=(fe=a.mercatorXfromLng(Ue[1])*this.worldSize)-re<ye.x?ye.x/(fe-re):0}var Ge=this.point,tt=Math.max(W||0,N||0);if(tt)return this.center=this.unproject(new a.Point(W?(fe+re)/2:Ge.x,N?(ee+H)/2:Ge.y)),this.zoom+=this.scaleZoom(tt),this._unmodified=Ce,void(this._constraining=!1);if(this.latRange){var ft=Ge.y,dt=ye.y/2;ft-dt<H&&(L=H+dt),ft+dt>ee&&(L=ee-dt)}if(this.lngRange){var At=Ge.x,Ct=ye.x/2;At-Ct<re&&(q=re+Ct),At+Ct>fe&&(q=fe-Ct)}q===void 0&&L===void 0||(this.center=this.unproject(new a.Point(q!==void 0?q:Ge.x,L!==void 0?L:Ge.y))),this._unmodified=Ce,this._constraining=!1}},Qr.prototype._calcMatrices=function(){if(this.height){var N=this._fov/2,W=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(N)*this.height;var q=Math.PI/2+this._pitch,L=this._fov*(.5+W.y/this.height),H=Math.sin(L)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-q-L,.01,Math.PI-.01)),ee=this.point,re=ee.x,fe=ee.y,ye=1.01*(Math.cos(Math.PI/2-this._pitch)*H+this.cameraToCenterDistance),Ce=this.height/50,De=new Float64Array(16);a.perspective(De,this._fov,this.width/this.height,Ce,ye),De[8]=2*-W.x/this.width,De[9]=2*W.y/this.height,a.scale(De,De,[1,-1,1]),a.translate(De,De,[0,0,-this.cameraToCenterDistance]),a.rotateX(De,De,this._pitch),a.rotateZ(De,De,this.angle),a.translate(De,De,[-re,-fe,0]),this.mercatorMatrix=a.scale([],De,[this.worldSize,this.worldSize,this.worldSize]),a.scale(De,De,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=De,this.invProjMatrix=a.invert([],this.projMatrix);var Ue=this.width%2/2,Ge=this.height%2/2,tt=Math.cos(this.angle),ft=Math.sin(this.angle),dt=re-Math.round(re)+tt*Ue+ft*Ge,At=fe-Math.round(fe)+tt*Ge+ft*Ue,Ct=new Float64Array(De);if(a.translate(Ct,Ct,[dt>.5?dt-1:dt,At>.5?At-1:At,0]),this.alignedProjMatrix=Ct,De=a.create(),a.scale(De,De,[this.width/2,-this.height/2,1]),a.translate(De,De,[1,-1,0]),this.labelPlaneMatrix=De,De=a.create(),a.scale(De,De,[1,-1,1]),a.translate(De,De,[-1,-1,0]),a.scale(De,De,[2/this.width,2/this.height,1]),this.glCoordMatrix=De,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(De=a.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=De,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Qr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var N=this.pointCoordinate(new a.Point(0,0)),W=[N.x*this.worldSize,N.y*this.worldSize,0,1];return a.transformMat4(W,W,this.pixelMatrix)[3]/this.cameraToCenterDistance},Qr.prototype.getCameraPoint=function(){var N=this._pitch,W=Math.tan(N)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,W))},Qr.prototype.getCameraQueryGeometry=function(N){var W=this.getCameraPoint();if(N.length===1)return[N[0],W];for(var q=W.x,L=W.y,H=W.x,ee=W.y,re=0,fe=N;re<fe.length;re+=1){var ye=fe[re];q=Math.min(q,ye.x),L=Math.min(L,ye.y),H=Math.max(H,ye.x),ee=Math.max(ee,ye.y)}return[new a.Point(q,L),new a.Point(H,L),new a.Point(H,ee),new a.Point(q,ee),new a.Point(q,L)]},Object.defineProperties(Qr.prototype,ai);var Na=function(N){var W,q,L,H,ee;this._hashName=N&&encodeURIComponent(N),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(W=this._updateHashUnthrottled.bind(this),q=300,L=!1,H=null,ee=function(){H=null,L&&(W(),H=setTimeout(ee,q),L=!1)},function(){return L=!0,H||ee(),H})};Na.prototype.addTo=function(N){return this._map=N,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Na.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Na.prototype.getHashString=function(N){var W=this._map.getCenter(),q=Math.round(100*this._map.getZoom())/100,L=Math.ceil((q*Math.LN2+Math.log(512/360/.5))/Math.LN10),H=Math.pow(10,L),ee=Math.round(W.lng*H)/H,re=Math.round(W.lat*H)/H,fe=this._map.getBearing(),ye=this._map.getPitch(),Ce="";if(Ce+=N?"/"+ee+"/"+re+"/"+q:q+"/"+re+"/"+ee,(fe||ye)&&(Ce+="/"+Math.round(10*fe)/10),ye&&(Ce+="/"+Math.round(ye)),this._hashName){var De=this._hashName,Ue=!1,Ge=a.window.location.hash.slice(1).split("&").map(function(tt){var ft=tt.split("=")[0];return ft===De?(Ue=!0,ft+"="+Ce):tt}).filter(function(tt){return tt});return Ue||Ge.push(De+"="+Ce),"#"+Ge.join("&")}return"#"+Ce},Na.prototype._getCurrentHash=function(){var N,W=this,q=a.window.location.hash.replace("#","");return this._hashName?(q.split("&").map(function(L){return L.split("=")}).forEach(function(L){L[0]===W._hashName&&(N=L)}),(N&&N[1]||"").split("/")):q.split("/")},Na.prototype._onHashChange=function(){var N=this._getCurrentHash();if(N.length>=3&&!N.some(function(q){return isNaN(q)})){var W=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(N[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+N[2],+N[1]],zoom:+N[0],bearing:W,pitch:+(N[4]||0)}),!0}return!1},Na.prototype._updateHashUnthrottled=function(){var N=a.window.location.href.replace(/(#.+)?$/,this.getHashString());try{a.window.history.replaceState(a.window.history.state,null,N)}catch{}};var Is={linearity:.3,easing:a.bezier(0,0,.3,1)},Ks=a.extend({deceleration:2500,maxSpeed:1400},Is),Ml=a.extend({deceleration:20,maxSpeed:1400},Is),Js=a.extend({deceleration:1e3,maxSpeed:360},Is),$s=a.extend({deceleration:1e3,maxSpeed:90},Is),qa=function(N){this._map=N,this.clear()};function Ko(N,W){(!N.duration||N.duration<W.duration)&&(N.duration=W.duration,N.easing=W.easing)}function Jo(N,W,q){var L=q.maxSpeed,H=q.linearity,ee=q.deceleration,re=a.clamp(N*H/(W/1e3),-L,L),fe=Math.abs(re)/(ee*H);return{easing:q.easing,duration:1e3*fe,amount:re*(fe/2)}}qa.prototype.clear=function(){this._inertiaBuffer=[]},qa.prototype.record=function(N){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:N})},qa.prototype._drainInertiaBuffer=function(){for(var N=this._inertiaBuffer,W=a.browser.now();N.length>0&&W-N[0].time>160;)N.shift()},qa.prototype._onMoveEnd=function(N){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var W={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},q=0,L=this._inertiaBuffer;q<L.length;q+=1){var H=L[q].settings;W.zoom+=H.zoomDelta||0,W.bearing+=H.bearingDelta||0,W.pitch+=H.pitchDelta||0,H.panDelta&&W.pan._add(H.panDelta),H.around&&(W.around=H.around),H.pinchAround&&(W.pinchAround=H.pinchAround)}var ee=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,re={};if(W.pan.mag()){var fe=Jo(W.pan.mag(),ee,a.extend({},Ks,N||{}));re.offset=W.pan.mult(fe.amount/W.pan.mag()),re.center=this._map.transform.center,Ko(re,fe)}if(W.zoom){var ye=Jo(W.zoom,ee,Ml);re.zoom=this._map.transform.zoom+ye.amount,Ko(re,ye)}if(W.bearing){var Ce=Jo(W.bearing,ee,Js);re.bearing=this._map.transform.bearing+a.clamp(Ce.amount,-179,179),Ko(re,Ce)}if(W.pitch){var De=Jo(W.pitch,ee,$s);re.pitch=this._map.transform.pitch+De.amount,Ko(re,De)}if(re.zoom||re.bearing){var Ue=W.pinchAround===void 0?W.around:W.pinchAround;re.around=Ue?this._map.unproject(Ue):this._map.getCenter()}return this.clear(),a.extend(re,{noMoveStart:!0})}};var va=function(N){function W(L,H,ee,re){re===void 0&&(re={});var fe=b.mousePos(H.getCanvasContainer(),ee),ye=H.unproject(fe);N.call(this,L,a.extend({point:fe,lngLat:ye,originalEvent:ee},re)),this._defaultPrevented=!1,this.target=H}N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W;var q={defaultPrevented:{configurable:!0}};return W.prototype.preventDefault=function(){this._defaultPrevented=!0},q.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(W.prototype,q),W}(a.Event),Qs=function(N){function W(L,H,ee){var re=L==="touchend"?ee.changedTouches:ee.touches,fe=b.touchPos(H.getCanvasContainer(),re),ye=fe.map(function(Ue){return H.unproject(Ue)}),Ce=fe.reduce(function(Ue,Ge,tt,ft){return Ue.add(Ge.div(ft.length))},new a.Point(0,0)),De=H.unproject(Ce);N.call(this,L,{points:fe,point:Ce,lngLats:ye,lngLat:De,originalEvent:ee}),this._defaultPrevented=!1}N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W;var q={defaultPrevented:{configurable:!0}};return W.prototype.preventDefault=function(){this._defaultPrevented=!0},q.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(W.prototype,q),W}(a.Event),Ga=function(N){function W(L,H,ee){N.call(this,L,{originalEvent:ee}),this._defaultPrevented=!1}N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W;var q={defaultPrevented:{configurable:!0}};return W.prototype.preventDefault=function(){this._defaultPrevented=!0},q.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(W.prototype,q),W}(a.Event),$i=function(N,W){this._map=N,this._clickTolerance=W.clickTolerance};$i.prototype.reset=function(){delete this._mousedownPos},$i.prototype.wheel=function(N){return this._firePreventable(new Ga(N.type,this._map,N))},$i.prototype.mousedown=function(N,W){return this._mousedownPos=W,this._firePreventable(new va(N.type,this._map,N))},$i.prototype.mouseup=function(N){this._map.fire(new va(N.type,this._map,N))},$i.prototype.click=function(N,W){this._mousedownPos&&this._mousedownPos.dist(W)>=this._clickTolerance||this._map.fire(new va(N.type,this._map,N))},$i.prototype.dblclick=function(N){return this._firePreventable(new va(N.type,this._map,N))},$i.prototype.mouseover=function(N){this._map.fire(new va(N.type,this._map,N))},$i.prototype.mouseout=function(N){this._map.fire(new va(N.type,this._map,N))},$i.prototype.touchstart=function(N){return this._firePreventable(new Qs(N.type,this._map,N))},$i.prototype.touchmove=function(N){this._map.fire(new Qs(N.type,this._map,N))},$i.prototype.touchend=function(N){this._map.fire(new Qs(N.type,this._map,N))},$i.prototype.touchcancel=function(N){this._map.fire(new Qs(N.type,this._map,N))},$i.prototype._firePreventable=function(N){if(this._map.fire(N),N.defaultPrevented)return{}},$i.prototype.isEnabled=function(){return!0},$i.prototype.isActive=function(){return!1},$i.prototype.enable=function(){},$i.prototype.disable=function(){};var ia=function(N){this._map=N};ia.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},ia.prototype.mousemove=function(N){this._map.fire(new va(N.type,this._map,N))},ia.prototype.mousedown=function(){this._delayContextMenu=!0},ia.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new va("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},ia.prototype.contextmenu=function(N){this._delayContextMenu?this._contextMenuEvent=N:this._map.fire(new va(N.type,this._map,N)),this._map.listens("contextmenu")&&N.preventDefault()},ia.prototype.isEnabled=function(){return!0},ia.prototype.isActive=function(){return!1},ia.prototype.enable=function(){},ia.prototype.disable=function(){};var pi=function(N,W){this._map=N,this._el=N.getCanvasContainer(),this._container=N.getContainer(),this._clickTolerance=W.clickTolerance||1};function aa(N,W){for(var q={},L=0;L<N.length;L++)q[N[L].identifier]=W[L];return q}pi.prototype.isEnabled=function(){return!!this._enabled},pi.prototype.isActive=function(){return!!this._active},pi.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},pi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},pi.prototype.mousedown=function(N,W){this.isEnabled()&&N.shiftKey&&N.button===0&&(b.disableDrag(),this._startPos=this._lastPos=W,this._active=!0)},pi.prototype.mousemoveWindow=function(N,W){if(this._active){var q=W;if(!(this._lastPos.equals(q)||!this._box&&q.dist(this._startPos)<this._clickTolerance)){var L=this._startPos;this._lastPos=q,this._box||(this._box=b.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",N));var H=Math.min(L.x,q.x),ee=Math.max(L.x,q.x),re=Math.min(L.y,q.y),fe=Math.max(L.y,q.y);b.setTransform(this._box,"translate("+H+"px,"+re+"px)"),this._box.style.width=ee-H+"px",this._box.style.height=fe-re+"px"}}},pi.prototype.mouseupWindow=function(N,W){var q=this;if(this._active&&N.button===0){var L=this._startPos,H=W;if(this.reset(),b.suppressClick(),L.x!==H.x||L.y!==H.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:N})),{cameraAnimation:function(ee){return ee.fitScreenCoordinates(L,H,q._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",N)}},pi.prototype.keydown=function(N){this._active&&N.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",N))},pi.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(b.remove(this._box),this._box=null),b.enableDrag(),delete this._startPos,delete this._lastPos},pi.prototype._fireEvent=function(N,W){return this._map.fire(new a.Event(N,{originalEvent:W}))};var yo=function(N){this.reset(),this.numTouches=N.numTouches};yo.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},yo.prototype.touchstart=function(N,W,q){(this.centroid||q.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=N.timeStamp),q.length===this.numTouches&&(this.centroid=function(L){for(var H=new a.Point(0,0),ee=0,re=L;ee<re.length;ee+=1){var fe=re[ee];H._add(fe)}return H.div(L.length)}(W),this.touches=aa(q,W)))},yo.prototype.touchmove=function(N,W,q){if(!this.aborted&&this.centroid){var L=aa(q,W);for(var H in this.touches){var ee=this.touches[H],re=L[H];(!re||re.dist(ee)>30)&&(this.aborted=!0)}}},yo.prototype.touchend=function(N,W,q){if((!this.centroid||N.timeStamp-this.startTime>500)&&(this.aborted=!0),q.length===0){var L=!this.aborted&&this.centroid;if(this.reset(),L)return L}};var bs=function(N){this.singleTap=new yo(N),this.numTaps=N.numTaps,this.reset()};bs.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},bs.prototype.touchstart=function(N,W,q){this.singleTap.touchstart(N,W,q)},bs.prototype.touchmove=function(N,W,q){this.singleTap.touchmove(N,W,q)},bs.prototype.touchend=function(N,W,q){var L=this.singleTap.touchend(N,W,q);if(L){var H=N.timeStamp-this.lastTime<500,ee=!this.lastTap||this.lastTap.dist(L)<30;if(H&&ee||this.reset(),this.count++,this.lastTime=N.timeStamp,this.lastTap=L,this.count===this.numTaps)return this.reset(),L}};var io=function(){this._zoomIn=new bs({numTouches:1,numTaps:2}),this._zoomOut=new bs({numTouches:2,numTaps:1}),this.reset()};io.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},io.prototype.touchstart=function(N,W,q){this._zoomIn.touchstart(N,W,q),this._zoomOut.touchstart(N,W,q)},io.prototype.touchmove=function(N,W,q){this._zoomIn.touchmove(N,W,q),this._zoomOut.touchmove(N,W,q)},io.prototype.touchend=function(N,W,q){var L=this,H=this._zoomIn.touchend(N,W,q),ee=this._zoomOut.touchend(N,W,q);return H?(this._active=!0,N.preventDefault(),setTimeout(function(){return L.reset()},0),{cameraAnimation:function(re){return re.easeTo({duration:300,zoom:re.getZoom()+1,around:re.unproject(H)},{originalEvent:N})}}):ee?(this._active=!0,N.preventDefault(),setTimeout(function(){return L.reset()},0),{cameraAnimation:function(re){return re.easeTo({duration:300,zoom:re.getZoom()-1,around:re.unproject(ee)},{originalEvent:N})}}):void 0},io.prototype.touchcancel=function(){this.reset()},io.prototype.enable=function(){this._enabled=!0},io.prototype.disable=function(){this._enabled=!1,this.reset()},io.prototype.isEnabled=function(){return this._enabled},io.prototype.isActive=function(){return this._active};var $o={};$o[0]=1,$o[2]=2;var Ta=function(N){this.reset(),this._clickTolerance=N.clickTolerance||1};Ta.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Ta.prototype._correctButton=function(N,W){return!1},Ta.prototype._move=function(N,W){return{}},Ta.prototype.mousedown=function(N,W){if(!this._lastPoint){var q=b.mouseButton(N);this._correctButton(N,q)&&(this._lastPoint=W,this._eventButton=q)}},Ta.prototype.mousemoveWindow=function(N,W){var q=this._lastPoint;if(q){if(N.preventDefault(),function(L,H){var ee=$o[H];return L.buttons===void 0||(L.buttons&ee)!==ee}(N,this._eventButton))this.reset();else if(this._moved||!(W.dist(q)<this._clickTolerance))return this._moved=!0,this._lastPoint=W,this._move(q,W)}},Ta.prototype.mouseupWindow=function(N){this._lastPoint&&b.mouseButton(N)===this._eventButton&&(this._moved&&b.suppressClick(),this.reset())},Ta.prototype.enable=function(){this._enabled=!0},Ta.prototype.disable=function(){this._enabled=!1,this.reset()},Ta.prototype.isEnabled=function(){return this._enabled},Ta.prototype.isActive=function(){return this._active};var _s=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.mousedown=function(q,L){N.prototype.mousedown.call(this,q,L),this._lastPoint&&(this._active=!0)},W.prototype._correctButton=function(q,L){return L===0&&!q.ctrlKey},W.prototype._move=function(q,L){return{around:L,panDelta:L.sub(q)}},W}(Ta),Io=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype._correctButton=function(q,L){return L===0&&q.ctrlKey||L===2},W.prototype._move=function(q,L){var H=.8*(L.x-q.x);if(H)return this._active=!0,{bearingDelta:H}},W.prototype.contextmenu=function(q){q.preventDefault()},W}(Ta),Wa=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype._correctButton=function(q,L){return L===0&&q.ctrlKey||L===2},W.prototype._move=function(q,L){var H=-.5*(L.y-q.y);if(H)return this._active=!0,{pitchDelta:H}},W.prototype.contextmenu=function(q){q.preventDefault()},W}(Ta),Ya=function(N){this._minTouches=1,this._clickTolerance=N.clickTolerance||1,this.reset()};Ya.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},Ya.prototype.touchstart=function(N,W,q){return this._calculateTransform(N,W,q)},Ya.prototype.touchmove=function(N,W,q){if(this._active&&!(q.length<this._minTouches))return N.preventDefault(),this._calculateTransform(N,W,q)},Ya.prototype.touchend=function(N,W,q){this._calculateTransform(N,W,q),this._active&&q.length<this._minTouches&&this.reset()},Ya.prototype.touchcancel=function(){this.reset()},Ya.prototype._calculateTransform=function(N,W,q){q.length>0&&(this._active=!0);var L=aa(q,W),H=new a.Point(0,0),ee=new a.Point(0,0),re=0;for(var fe in L){var ye=L[fe],Ce=this._touches[fe];Ce&&(H._add(ye),ee._add(ye.sub(Ce)),re++,L[fe]=ye)}if(this._touches=L,!(re<this._minTouches)&&ee.mag()){var De=ee.div(re);if(this._sum._add(De),!(this._sum.mag()<this._clickTolerance))return{around:H.div(re),panDelta:De}}},Ya.prototype.enable=function(){this._enabled=!0},Ya.prototype.disable=function(){this._enabled=!1,this.reset()},Ya.prototype.isEnabled=function(){return this._enabled},Ya.prototype.isActive=function(){return this._active};var gi=function(){this.reset()};function ao(N,W,q){for(var L=0;L<N.length;L++)if(N[L].identifier===q)return W[L]}gi.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},gi.prototype._start=function(N){},gi.prototype._move=function(N,W,q){return{}},gi.prototype.touchstart=function(N,W,q){this._firstTwoTouches||q.length<2||(this._firstTwoTouches=[q[0].identifier,q[1].identifier],this._start([W[0],W[1]]))},gi.prototype.touchmove=function(N,W,q){if(this._firstTwoTouches){N.preventDefault();var L=this._firstTwoTouches,H=L[0],ee=L[1],re=ao(q,W,H),fe=ao(q,W,ee);if(re&&fe){var ye=this._aroundCenter?null:re.add(fe).div(2);return this._move([re,fe],ye,N)}}},gi.prototype.touchend=function(N,W,q){if(this._firstTwoTouches){var L=this._firstTwoTouches,H=L[0],ee=L[1],re=ao(q,W,H),fe=ao(q,W,ee);re&&fe||(this._active&&b.suppressClick(),this.reset())}},gi.prototype.touchcancel=function(){this.reset()},gi.prototype.enable=function(N){this._enabled=!0,this._aroundCenter=!!N&&N.around==="center"},gi.prototype.disable=function(){this._enabled=!1,this.reset()},gi.prototype.isEnabled=function(){return this._enabled},gi.prototype.isActive=function(){return this._active};function Er(N,W){return Math.log(N/W)/Math.LN2}var el=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.reset=function(){N.prototype.reset.call(this),delete this._distance,delete this._startDistance},W.prototype._start=function(q){this._startDistance=this._distance=q[0].dist(q[1])},W.prototype._move=function(q,L){var H=this._distance;if(this._distance=q[0].dist(q[1]),this._active||!(Math.abs(Er(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Er(this._distance,H),pinchAround:L}},W}(gi);function jl(N,W){return 180*N.angleWith(W)/Math.PI}var Qo=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.reset=function(){N.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},W.prototype._start=function(q){this._startVector=this._vector=q[0].sub(q[1]),this._minDiameter=q[0].dist(q[1])},W.prototype._move=function(q,L){var H=this._vector;if(this._vector=q[0].sub(q[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:jl(this._vector,H),pinchAround:L}},W.prototype._isBelowThreshold=function(q){this._minDiameter=Math.min(this._minDiameter,q.mag());var L=25/(Math.PI*this._minDiameter)*360,H=jl(q,this._startVector);return Math.abs(H)<L},W}(gi);function es(N){return Math.abs(N.y)>Math.abs(N.x)}var ws=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.reset=function(){N.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},W.prototype._start=function(q){this._lastPoints=q,es(q[0].sub(q[1]))&&(this._valid=!1)},W.prototype._move=function(q,L,H){var ee=q[0].sub(this._lastPoints[0]),re=q[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(ee,re,H.timeStamp),this._valid)return this._lastPoints=q,this._active=!0,{pitchDelta:(ee.y+re.y)/2*-.5}},W.prototype.gestureBeginsVertically=function(q,L,H){if(this._valid!==void 0)return this._valid;var ee=q.mag()>=2,re=L.mag()>=2;if(ee||re){if(!ee||!re)return this._firstMove===void 0&&(this._firstMove=H),H-this._firstMove<100&&void 0;var fe=q.y>0==L.y>0;return es(q)&&es(L)&&fe}},W}(gi),Rs={panStep:100,bearingStep:15,pitchStep:10},_r=function(){var N=Rs;this._panStep=N.panStep,this._bearingStep=N.bearingStep,this._pitchStep=N.pitchStep,this._rotationDisabled=!1};function tl(N){return N*(2-N)}_r.prototype.reset=function(){this._active=!1},_r.prototype.keydown=function(N){var W=this;if(!(N.altKey||N.ctrlKey||N.metaKey)){var q=0,L=0,H=0,ee=0,re=0;switch(N.keyCode){case 61:case 107:case 171:case 187:q=1;break;case 189:case 109:case 173:q=-1;break;case 37:N.shiftKey?L=-1:(N.preventDefault(),ee=-1);break;case 39:N.shiftKey?L=1:(N.preventDefault(),ee=1);break;case 38:N.shiftKey?H=1:(N.preventDefault(),re=-1);break;case 40:N.shiftKey?H=-1:(N.preventDefault(),re=1);break;default:return}return this._rotationDisabled&&(L=0,H=0),{cameraAnimation:function(fe){var ye=fe.getZoom();fe.easeTo({duration:300,easeId:"keyboardHandler",easing:tl,zoom:q?Math.round(ye)+q*(N.shiftKey?2:1):ye,bearing:fe.getBearing()+L*W._bearingStep,pitch:fe.getPitch()+H*W._pitchStep,offset:[-ee*W._panStep,-re*W._panStep],center:fe.getCenter()},{originalEvent:N})}}}},_r.prototype.enable=function(){this._enabled=!0},_r.prototype.disable=function(){this._enabled=!1,this.reset()},_r.prototype.isEnabled=function(){return this._enabled},_r.prototype.isActive=function(){return this._active},_r.prototype.disableRotation=function(){this._rotationDisabled=!0},_r.prototype.enableRotation=function(){this._rotationDisabled=!1};var Ro=4.000244140625,Qi=function(N,W){this._map=N,this._el=N.getCanvasContainer(),this._handler=W,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,a.bindAll(["_onTimeout"],this)};Qi.prototype.setZoomRate=function(N){this._defaultZoomRate=N},Qi.prototype.setWheelZoomRate=function(N){this._wheelZoomRate=N},Qi.prototype.isEnabled=function(){return!!this._enabled},Qi.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},Qi.prototype.isZooming=function(){return!!this._zooming},Qi.prototype.enable=function(N){this.isEnabled()||(this._enabled=!0,this._aroundCenter=N&&N.around==="center")},Qi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Qi.prototype.wheel=function(N){if(this.isEnabled()){var W=N.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?40*N.deltaY:N.deltaY,q=a.browser.now(),L=q-(this._lastWheelEventTime||0);this._lastWheelEventTime=q,W!==0&&W%Ro==0?this._type="wheel":W!==0&&Math.abs(W)<4?this._type="trackpad":L>400?(this._type=null,this._lastValue=W,this._timeout=setTimeout(this._onTimeout,40,N)):this._type||(this._type=Math.abs(L*W)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,W+=this._lastValue)),N.shiftKey&&W&&(W/=4),this._type&&(this._lastWheelEvent=N,this._delta-=W,this._active||this._start(N)),N.preventDefault()}},Qi.prototype._onTimeout=function(N){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(N)},Qi.prototype._start=function(N){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var W=b.mousePos(this._el,N);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(W)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Qi.prototype.renderFrame=function(){var N=this;if(this._frameId&&(this._frameId=null,this.isActive())){var W=this._map.transform;if(this._delta!==0){var q=this._type==="wheel"&&Math.abs(this._delta)>Ro?this._wheelZoomRate:this._defaultZoomRate,L=2/(1+Math.exp(-Math.abs(this._delta*q)));this._delta<0&&L!==0&&(L=1/L);var H=typeof this._targetZoom=="number"?W.zoomScale(this._targetZoom):W.scale;this._targetZoom=Math.min(W.maxZoom,Math.max(W.minZoom,W.scaleZoom(H*L))),this._type==="wheel"&&(this._startZoom=W.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var ee,re=typeof this._targetZoom=="number"?this._targetZoom:W.zoom,fe=this._startZoom,ye=this._easing,Ce=!1;if(this._type==="wheel"&&fe&&ye){var De=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),Ue=ye(De);ee=a.number(fe,re,Ue),De<1?this._frameId||(this._frameId=!0):Ce=!0}else ee=re,Ce=!0;return this._active=!0,Ce&&(this._active=!1,this._finishTimeout=setTimeout(function(){N._zooming=!1,N._handler._triggerRenderFrame(),delete N._targetZoom,delete N._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Ce,zoomDelta:ee-W.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Qi.prototype._smoothOutEasing=function(N){var W=a.ease;if(this._prevEase){var q=this._prevEase,L=(a.browser.now()-q.start)/q.duration,H=q.easing(L+.01)-q.easing(L),ee=.27/Math.sqrt(H*H+1e-4)*.01,re=Math.sqrt(.0729-ee*ee);W=a.bezier(ee,re,.25,1)}return this._prevEase={start:a.browser.now(),duration:N,easing:W},W},Qi.prototype.reset=function(){this._active=!1};var ts=function(N,W){this._clickZoom=N,this._tapZoom=W};ts.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ts.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ts.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ts.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var oo=function(){this.reset()};oo.prototype.reset=function(){this._active=!1},oo.prototype.dblclick=function(N,W){return N.preventDefault(),{cameraAnimation:function(q){q.easeTo({duration:300,zoom:q.getZoom()+(N.shiftKey?-1:1),around:q.unproject(W)},{originalEvent:N})}}},oo.prototype.enable=function(){this._enabled=!0},oo.prototype.disable=function(){this._enabled=!1,this.reset()},oo.prototype.isEnabled=function(){return this._enabled},oo.prototype.isActive=function(){return this._active};var Za=function(){this._tap=new bs({numTouches:1,numTaps:1}),this.reset()};Za.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Za.prototype.touchstart=function(N,W,q){this._swipePoint||(this._tapTime&&N.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?q.length>0&&(this._swipePoint=W[0],this._swipeTouch=q[0].identifier):this._tap.touchstart(N,W,q))},Za.prototype.touchmove=function(N,W,q){if(this._tapTime){if(this._swipePoint){if(q[0].identifier!==this._swipeTouch)return;var L=W[0],H=L.y-this._swipePoint.y;return this._swipePoint=L,N.preventDefault(),this._active=!0,{zoomDelta:H/128}}}else this._tap.touchmove(N,W,q)},Za.prototype.touchend=function(N,W,q){this._tapTime?this._swipePoint&&q.length===0&&this.reset():this._tap.touchend(N,W,q)&&(this._tapTime=N.timeStamp)},Za.prototype.touchcancel=function(){this.reset()},Za.prototype.enable=function(){this._enabled=!0},Za.prototype.disable=function(){this._enabled=!1,this.reset()},Za.prototype.isEnabled=function(){return this._enabled},Za.prototype.isActive=function(){return this._active};var ma=function(N,W,q){this._el=N,this._mousePan=W,this._touchPan=q};ma.prototype.enable=function(N){this._inertiaOptions=N||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},ma.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},ma.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},ma.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var xo=function(N,W,q){this._pitchWithRotate=N.pitchWithRotate,this._mouseRotate=W,this._mousePitch=q};xo.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},xo.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},xo.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},xo.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Xa=function(N,W,q,L){this._el=N,this._touchZoom=W,this._touchRotate=q,this._tapDragZoom=L,this._rotationDisabled=!1,this._enabled=!0};Xa.prototype.enable=function(N){this._touchZoom.enable(N),this._rotationDisabled||this._touchRotate.enable(N),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},Xa.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},Xa.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Xa.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Xa.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Xa.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Do=function(N){return N.zoom||N.drag||N.pitch||N.rotate},nl=function(N){function W(){N.apply(this,arguments)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W}(a.Event);function ns(N){return N.panDelta&&N.panDelta.mag()||N.zoomDelta||N.bearingDelta||N.pitchDelta}var Jr=function(N,W){this._map=N,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new qa(N),this._bearingSnap=W.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(W),a.bindAll(["handleEvent","handleWindowEvent"],this);var q=this._el;this._listeners=[[q,"touchstart",{passive:!0}],[q,"touchmove",{passive:!1}],[q,"touchend",void 0],[q,"touchcancel",void 0],[q,"mousedown",void 0],[q,"mousemove",void 0],[q,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[q,"mouseover",void 0],[q,"mouseout",void 0],[q,"dblclick",void 0],[q,"click",void 0],[q,"keydown",{capture:!1}],[q,"keyup",void 0],[q,"wheel",{passive:!1}],[q,"contextmenu",void 0],[a.window,"blur",void 0]];for(var L=0,H=this._listeners;L<H.length;L+=1){var ee=H[L],re=ee[0],fe=ee[1],ye=ee[2];b.addEventListener(re,fe,re===a.window.document?this.handleWindowEvent:this.handleEvent,ye)}};Jr.prototype.destroy=function(){for(var N=0,W=this._listeners;N<W.length;N+=1){var q=W[N],L=q[0],H=q[1],ee=q[2];b.removeEventListener(L,H,L===a.window.document?this.handleWindowEvent:this.handleEvent,ee)}},Jr.prototype._addDefaultHandlers=function(N){var W=this._map,q=W.getCanvasContainer();this._add("mapEvent",new $i(W,N));var L=W.boxZoom=new pi(W,N);this._add("boxZoom",L);var H=new io,ee=new oo;W.doubleClickZoom=new ts(ee,H),this._add("tapZoom",H),this._add("clickZoom",ee);var re=new Za;this._add("tapDragZoom",re);var fe=W.touchPitch=new ws;this._add("touchPitch",fe);var ye=new Io(N),Ce=new Wa(N);W.dragRotate=new xo(N,ye,Ce),this._add("mouseRotate",ye,["mousePitch"]),this._add("mousePitch",Ce,["mouseRotate"]);var De=new _s(N),Ue=new Ya(N);W.dragPan=new ma(q,De,Ue),this._add("mousePan",De),this._add("touchPan",Ue,["touchZoom","touchRotate"]);var Ge=new Qo,tt=new el;W.touchZoomRotate=new Xa(q,tt,Ge,re),this._add("touchRotate",Ge,["touchPan","touchZoom"]),this._add("touchZoom",tt,["touchPan","touchRotate"]);var ft=W.scrollZoom=new Qi(W,this);this._add("scrollZoom",ft,["mousePan"]);var dt=W.keyboard=new _r;this._add("keyboard",dt),this._add("blockableMapEvent",new ia(W));for(var At=0,Ct=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];At<Ct.length;At+=1){var Et=Ct[At];N.interactive&&N[Et]&&W[Et].enable(N[Et])}},Jr.prototype._add=function(N,W,q){this._handlers.push({handlerName:N,handler:W,allowed:q}),this._handlersById[N]=W},Jr.prototype.stop=function(N){if(!this._updatingCamera){for(var W=0,q=this._handlers;W<q.length;W+=1)q[W].handler.reset();this._inertia.clear(),this._fireEvents({},{},N),this._changes=[]}},Jr.prototype.isActive=function(){for(var N=0,W=this._handlers;N<W.length;N+=1)if(W[N].handler.isActive())return!0;return!1},Jr.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Jr.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Jr.prototype.isMoving=function(){return Boolean(Do(this._eventsInProgress))||this.isZooming()},Jr.prototype._blockedByActive=function(N,W,q){for(var L in N)if(L!==q&&(!W||W.indexOf(L)<0))return!0;return!1},Jr.prototype.handleWindowEvent=function(N){this.handleEvent(N,N.type+"Window")},Jr.prototype._getMapTouches=function(N){for(var W=[],q=0,L=N;q<L.length;q+=1){var H=L[q],ee=H.target;this._el.contains(ee)&&W.push(H)}return W},Jr.prototype.handleEvent=function(N,W){if(N.type!=="blur"){this._updatingCamera=!0;for(var q=N.type==="renderFrame"?void 0:N,L={needsRenderFrame:!1},H={},ee={},re=N.touches?this._getMapTouches(N.touches):void 0,fe=re?b.touchPos(this._el,re):b.mousePos(this._el,N),ye=0,Ce=this._handlers;ye<Ce.length;ye+=1){var De=Ce[ye],Ue=De.handlerName,Ge=De.handler,tt=De.allowed;if(Ge.isEnabled()){var ft=void 0;this._blockedByActive(ee,tt,Ue)?Ge.reset():Ge[W||N.type]&&(ft=Ge[W||N.type](N,fe,re),this.mergeHandlerResult(L,H,ft,Ue,q),ft&&ft.needsRenderFrame&&this._triggerRenderFrame()),(ft||Ge.isActive())&&(ee[Ue]=Ge)}}var dt={};for(var At in this._previousActiveHandlers)ee[At]||(dt[At]=q);this._previousActiveHandlers=ee,(Object.keys(dt).length||ns(L))&&(this._changes.push([L,H,dt]),this._triggerRenderFrame()),(Object.keys(ee).length||ns(L))&&this._map._stop(!0),this._updatingCamera=!1;var Ct=L.cameraAnimation;Ct&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Ct(this._map))}else this.stop(!0)},Jr.prototype.mergeHandlerResult=function(N,W,q,L,H){if(q){a.extend(N,q);var ee={handlerName:L,originalEvent:q.originalEvent||H};q.zoomDelta!==void 0&&(W.zoom=ee),q.panDelta!==void 0&&(W.drag=ee),q.pitchDelta!==void 0&&(W.pitch=ee),q.bearingDelta!==void 0&&(W.rotate=ee)}},Jr.prototype._applyChanges=function(){for(var N={},W={},q={},L=0,H=this._changes;L<H.length;L+=1){var ee=H[L],re=ee[0],fe=ee[1],ye=ee[2];re.panDelta&&(N.panDelta=(N.panDelta||new a.Point(0,0))._add(re.panDelta)),re.zoomDelta&&(N.zoomDelta=(N.zoomDelta||0)+re.zoomDelta),re.bearingDelta&&(N.bearingDelta=(N.bearingDelta||0)+re.bearingDelta),re.pitchDelta&&(N.pitchDelta=(N.pitchDelta||0)+re.pitchDelta),re.around!==void 0&&(N.around=re.around),re.pinchAround!==void 0&&(N.pinchAround=re.pinchAround),re.noInertia&&(N.noInertia=re.noInertia),a.extend(W,fe),a.extend(q,ye)}this._updateMapTransform(N,W,q),this._changes=[]},Jr.prototype._updateMapTransform=function(N,W,q){var L=this._map,H=L.transform;if(!ns(N))return this._fireEvents(W,q,!0);var ee=N.panDelta,re=N.zoomDelta,fe=N.bearingDelta,ye=N.pitchDelta,Ce=N.around,De=N.pinchAround;De!==void 0&&(Ce=De),L._stop(!0),Ce=Ce||L.transform.centerPoint;var Ue=H.pointLocation(ee?Ce.sub(ee):Ce);fe&&(H.bearing+=fe),ye&&(H.pitch+=ye),re&&(H.zoom+=re),H.setLocationAtPoint(Ue,Ce),this._map._update(),N.noInertia||this._inertia.record(N),this._fireEvents(W,q,!0)},Jr.prototype._fireEvents=function(N,W,q){var L=this,H=Do(this._eventsInProgress),ee=Do(N),re={};for(var fe in N){var ye=N[fe].originalEvent;this._eventsInProgress[fe]||(re[fe+"start"]=ye),this._eventsInProgress[fe]=N[fe]}for(var Ce in!H&&ee&&this._fireEvent("movestart",ee.originalEvent),re)this._fireEvent(Ce,re[Ce]);for(var De in ee&&this._fireEvent("move",ee.originalEvent),N){var Ue=N[De].originalEvent;this._fireEvent(De,Ue)}var Ge,tt={};for(var ft in this._eventsInProgress){var dt=this._eventsInProgress[ft],At=dt.handlerName,Ct=dt.originalEvent;this._handlersById[At].isActive()||(delete this._eventsInProgress[ft],Ge=W[At]||Ct,tt[ft+"end"]=Ge)}for(var Et in tt)this._fireEvent(Et,tt[Et]);var jt=Do(this._eventsInProgress);if(q&&(H||ee)&&!jt){this._updatingCamera=!0;var Dt=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),$t=function(Yt){return Yt!==0&&-L._bearingSnap<Yt&&Yt<L._bearingSnap};Dt?($t(Dt.bearing||this._map.getBearing())&&(Dt.bearing=0),this._map.easeTo(Dt,{originalEvent:Ge})):(this._map.fire(new a.Event("moveend",{originalEvent:Ge})),$t(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Jr.prototype._fireEvent=function(N,W){this._map.fire(new a.Event(N,W?{originalEvent:W}:{}))},Jr.prototype._requestFrame=function(){var N=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(W){delete N._frameId,N.handleEvent(new nl("renderFrame",{timeStamp:W})),N._applyChanges()})},Jr.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var oa=function(N){function W(q,L){N.call(this),this._moving=!1,this._zooming=!1,this.transform=q,this._bearingSnap=L.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},W.prototype.setCenter=function(q,L){return this.jumpTo({center:q},L)},W.prototype.panBy=function(q,L,H){return q=a.Point.convert(q).mult(-1),this.panTo(this.transform.center,a.extend({offset:q},L),H)},W.prototype.panTo=function(q,L,H){return this.easeTo(a.extend({center:q},L),H)},W.prototype.getZoom=function(){return this.transform.zoom},W.prototype.setZoom=function(q,L){return this.jumpTo({zoom:q},L),this},W.prototype.zoomTo=function(q,L,H){return this.easeTo(a.extend({zoom:q},L),H)},W.prototype.zoomIn=function(q,L){return this.zoomTo(this.getZoom()+1,q,L),this},W.prototype.zoomOut=function(q,L){return this.zoomTo(this.getZoom()-1,q,L),this},W.prototype.getBearing=function(){return this.transform.bearing},W.prototype.setBearing=function(q,L){return this.jumpTo({bearing:q},L),this},W.prototype.getPadding=function(){return this.transform.padding},W.prototype.setPadding=function(q,L){return this.jumpTo({padding:q},L),this},W.prototype.rotateTo=function(q,L,H){return this.easeTo(a.extend({bearing:q},L),H)},W.prototype.resetNorth=function(q,L){return this.rotateTo(0,a.extend({duration:1e3},q),L),this},W.prototype.resetNorthPitch=function(q,L){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},q),L),this},W.prototype.snapToNorth=function(q,L){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(q,L):this},W.prototype.getPitch=function(){return this.transform.pitch},W.prototype.setPitch=function(q,L){return this.jumpTo({pitch:q},L),this},W.prototype.cameraForBounds=function(q,L){q=a.LngLatBounds.convert(q);var H=L&&L.bearing||0;return this._cameraForBoxAndBearing(q.getNorthWest(),q.getSouthEast(),H,L)},W.prototype._cameraForBoxAndBearing=function(q,L,H,ee){var re={top:0,bottom:0,right:0,left:0};if(typeof(ee=a.extend({padding:re,offset:[0,0],maxZoom:this.transform.maxZoom},ee)).padding=="number"){var fe=ee.padding;ee.padding={top:fe,bottom:fe,right:fe,left:fe}}ee.padding=a.extend(re,ee.padding);var ye=this.transform,Ce=ye.padding,De=ye.project(a.LngLat.convert(q)),Ue=ye.project(a.LngLat.convert(L)),Ge=De.rotate(-H*Math.PI/180),tt=Ue.rotate(-H*Math.PI/180),ft=new a.Point(Math.max(Ge.x,tt.x),Math.max(Ge.y,tt.y)),dt=new a.Point(Math.min(Ge.x,tt.x),Math.min(Ge.y,tt.y)),At=ft.sub(dt),Ct=(ye.width-(Ce.left+Ce.right+ee.padding.left+ee.padding.right))/At.x,Et=(ye.height-(Ce.top+Ce.bottom+ee.padding.top+ee.padding.bottom))/At.y;if(!(Et<0||Ct<0)){var jt=Math.min(ye.scaleZoom(ye.scale*Math.min(Ct,Et)),ee.maxZoom),Dt=typeof ee.offset.x=="number"?new a.Point(ee.offset.x,ee.offset.y):a.Point.convert(ee.offset),$t=(ee.padding.left-ee.padding.right)/2,Yt=(ee.padding.top-ee.padding.bottom)/2,Vt=new a.Point($t,Yt).rotate(H*Math.PI/180),gn=Dt.add(Vt).mult(ye.scale/ye.zoomScale(jt));return{center:ye.unproject(De.add(Ue).div(2).sub(gn)),zoom:jt,bearing:H}}a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},W.prototype.fitBounds=function(q,L,H){return this._fitInternal(this.cameraForBounds(q,L),L,H)},W.prototype.fitScreenCoordinates=function(q,L,H,ee,re){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(q)),this.transform.pointLocation(a.Point.convert(L)),H,ee),ee,re)},W.prototype._fitInternal=function(q,L,H){return q?(delete(L=a.extend(q,L)).padding,L.linear?this.easeTo(L,H):this.flyTo(L,H)):this},W.prototype.jumpTo=function(q,L){this.stop();var H=this.transform,ee=!1,re=!1,fe=!1;return"zoom"in q&&H.zoom!==+q.zoom&&(ee=!0,H.zoom=+q.zoom),q.center!==void 0&&(H.center=a.LngLat.convert(q.center)),"bearing"in q&&H.bearing!==+q.bearing&&(re=!0,H.bearing=+q.bearing),"pitch"in q&&H.pitch!==+q.pitch&&(fe=!0,H.pitch=+q.pitch),q.padding==null||H.isPaddingEqual(q.padding)||(H.padding=q.padding),this.fire(new a.Event("movestart",L)).fire(new a.Event("move",L)),ee&&this.fire(new a.Event("zoomstart",L)).fire(new a.Event("zoom",L)).fire(new a.Event("zoomend",L)),re&&this.fire(new a.Event("rotatestart",L)).fire(new a.Event("rotate",L)).fire(new a.Event("rotateend",L)),fe&&this.fire(new a.Event("pitchstart",L)).fire(new a.Event("pitch",L)).fire(new a.Event("pitchend",L)),this.fire(new a.Event("moveend",L))},W.prototype.easeTo=function(q,L){var H=this;this._stop(!1,q.easeId),((q=a.extend({offset:[0,0],duration:500,easing:a.ease},q)).animate===!1||!q.essential&&a.browser.prefersReducedMotion)&&(q.duration=0);var ee=this.transform,re=this.getZoom(),fe=this.getBearing(),ye=this.getPitch(),Ce=this.getPadding(),De="zoom"in q?+q.zoom:re,Ue="bearing"in q?this._normalizeBearing(q.bearing,fe):fe,Ge="pitch"in q?+q.pitch:ye,tt="padding"in q?q.padding:ee.padding,ft=a.Point.convert(q.offset),dt=ee.centerPoint.add(ft),At=ee.pointLocation(dt),Ct=a.LngLat.convert(q.center||At);this._normalizeCenter(Ct);var Et,jt,Dt=ee.project(At),$t=ee.project(Ct).sub(Dt),Yt=ee.zoomScale(De-re);q.around&&(Et=a.LngLat.convert(q.around),jt=ee.locationPoint(Et));var Vt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||De!==re,this._rotating=this._rotating||fe!==Ue,this._pitching=this._pitching||Ge!==ye,this._padding=!ee.isPaddingEqual(tt),this._easeId=q.easeId,this._prepareEase(L,q.noMoveStart,Vt),this._ease(function(gn){if(H._zooming&&(ee.zoom=a.number(re,De,gn)),H._rotating&&(ee.bearing=a.number(fe,Ue,gn)),H._pitching&&(ee.pitch=a.number(ye,Ge,gn)),H._padding&&(ee.interpolatePadding(Ce,tt,gn),dt=ee.centerPoint.add(ft)),Et)ee.setLocationAtPoint(Et,jt);else{var xn=ee.zoomScale(ee.zoom-re),Pn=De>re?Math.min(2,Yt):Math.max(.5,Yt),Rn=Math.pow(Pn,1-gn),Wn=ee.unproject(Dt.add($t.mult(gn*Rn)).mult(xn));ee.setLocationAtPoint(ee.renderWorldCopies?Wn.wrap():Wn,dt)}H._fireMoveEvents(L)},function(gn){H._afterEase(L,gn)},q),this},W.prototype._prepareEase=function(q,L,H){H===void 0&&(H={}),this._moving=!0,L||H.moving||this.fire(new a.Event("movestart",q)),this._zooming&&!H.zooming&&this.fire(new a.Event("zoomstart",q)),this._rotating&&!H.rotating&&this.fire(new a.Event("rotatestart",q)),this._pitching&&!H.pitching&&this.fire(new a.Event("pitchstart",q))},W.prototype._fireMoveEvents=function(q){this.fire(new a.Event("move",q)),this._zooming&&this.fire(new a.Event("zoom",q)),this._rotating&&this.fire(new a.Event("rotate",q)),this._pitching&&this.fire(new a.Event("pitch",q))},W.prototype._afterEase=function(q,L){if(!this._easeId||!L||this._easeId!==L){delete this._easeId;var H=this._zooming,ee=this._rotating,re=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,H&&this.fire(new a.Event("zoomend",q)),ee&&this.fire(new a.Event("rotateend",q)),re&&this.fire(new a.Event("pitchend",q)),this.fire(new a.Event("moveend",q))}},W.prototype.flyTo=function(q,L){var H=this;if(!q.essential&&a.browser.prefersReducedMotion){var ee=a.pick(q,["center","zoom","bearing","pitch","around"]);return this.jumpTo(ee,L)}this.stop(),q=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},q);var re=this.transform,fe=this.getZoom(),ye=this.getBearing(),Ce=this.getPitch(),De=this.getPadding(),Ue="zoom"in q?a.clamp(+q.zoom,re.minZoom,re.maxZoom):fe,Ge="bearing"in q?this._normalizeBearing(q.bearing,ye):ye,tt="pitch"in q?+q.pitch:Ce,ft="padding"in q?q.padding:re.padding,dt=re.zoomScale(Ue-fe),At=a.Point.convert(q.offset),Ct=re.centerPoint.add(At),Et=re.pointLocation(Ct),jt=a.LngLat.convert(q.center||Et);this._normalizeCenter(jt);var Dt=re.project(Et),$t=re.project(jt).sub(Dt),Yt=q.curve,Vt=Math.max(re.width,re.height),gn=Vt/dt,xn=$t.mag();if("minZoom"in q){var Pn=a.clamp(Math.min(q.minZoom,fe,Ue),re.minZoom,re.maxZoom),Rn=Vt/re.zoomScale(Pn-fe);Yt=Math.sqrt(Rn/xn*2)}var Wn=Yt*Yt;function ir(vr){var Lr=(gn*gn-Vt*Vt+(vr?-1:1)*Wn*Wn*xn*xn)/(2*(vr?gn:Vt)*Wn*xn);return Math.log(Math.sqrt(Lr*Lr+1)-Lr)}function gr(vr){return(Math.exp(vr)-Math.exp(-vr))/2}function Xn(vr){return(Math.exp(vr)+Math.exp(-vr))/2}var pr=ir(0),wr=function(vr){return Xn(pr)/Xn(pr+Yt*vr)},Pr=function(vr){return Vt*((Xn(pr)*(gr(Lr=pr+Yt*vr)/Xn(Lr))-gr(pr))/Wn)/xn;var Lr},nr=(ir(1)-pr)/Yt;if(Math.abs(xn)<1e-6||!isFinite(nr)){if(Math.abs(Vt-gn)<1e-6)return this.easeTo(q,L);var hr=gn<Vt?-1:1;nr=Math.abs(Math.log(gn/Vt))/Yt,Pr=function(){return 0},wr=function(vr){return Math.exp(hr*Yt*vr)}}if("duration"in q)q.duration=+q.duration;else{var Ar="screenSpeed"in q?+q.screenSpeed/Yt:+q.speed;q.duration=1e3*nr/Ar}return q.maxDuration&&q.duration>q.maxDuration&&(q.duration=0),this._zooming=!0,this._rotating=ye!==Ge,this._pitching=tt!==Ce,this._padding=!re.isPaddingEqual(ft),this._prepareEase(L,!1),this._ease(function(vr){var Lr=vr*nr,Rr=1/wr(Lr);re.zoom=vr===1?Ue:fe+re.scaleZoom(Rr),H._rotating&&(re.bearing=a.number(ye,Ge,vr)),H._pitching&&(re.pitch=a.number(Ce,tt,vr)),H._padding&&(re.interpolatePadding(De,ft,vr),Ct=re.centerPoint.add(At));var Ur=vr===1?jt:re.unproject(Dt.add($t.mult(Pr(Lr))).mult(Rr));re.setLocationAtPoint(re.renderWorldCopies?Ur.wrap():Ur,Ct),H._fireMoveEvents(L)},function(){return H._afterEase(L)},q),this},W.prototype.isEasing=function(){return!!this._easeFrameId},W.prototype.stop=function(){return this._stop()},W.prototype._stop=function(q,L){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var H=this._onEaseEnd;delete this._onEaseEnd,H.call(this,L)}if(!q){var ee=this.handlers;ee&&ee.stop(!1)}return this},W.prototype._ease=function(q,L,H){H.animate===!1||H.duration===0?(q(1),L()):(this._easeStart=a.browser.now(),this._easeOptions=H,this._onEaseFrame=q,this._onEaseEnd=L,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},W.prototype._renderFrameCallback=function(){var q=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(q)),q<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},W.prototype._normalizeBearing=function(q,L){q=a.wrap(q,-180,180);var H=Math.abs(q-L);return Math.abs(q-360-L)<H&&(q-=360),Math.abs(q+360-L)<H&&(q+=360),q},W.prototype._normalizeCenter=function(q){var L=this.transform;if(L.renderWorldCopies&&!L.lngRange){var H=q.lng-L.center.lng;q.lng+=H>180?-360:H<-180?360:0}},W}(a.Evented),ka=function(N){N===void 0&&(N={}),this.options=N,a.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};ka.prototype.getDefaultPosition=function(){return"bottom-right"},ka.prototype.onAdd=function(N){var W=this.options&&this.options.compact;return this._map=N,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=b.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=b.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),W&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),W===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},ka.prototype.onRemove=function(){b.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},ka.prototype._setElementTitle=function(N,W){var q=this._map._getUIString("AttributionControl."+W);N.title=q,N.setAttribute("aria-label",q)},ka.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},ka.prototype._updateEditLink=function(){var N=this._editLink;N||(N=this._editLink=this._container.querySelector(".mapbox-improve-map"));var W=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(N){var q=W.reduce(function(L,H,ee){return H.value&&(L+=H.key+"="+H.value+(ee<W.length-1?"&":"")),L},"?");N.href=a.config.FEEDBACK_URL+"/"+q+(this._map._hash?this._map._hash.getHashString(!0):""),N.rel="noopener nofollow",this._setElementTitle(N,"MapFeedback")}},ka.prototype._updateData=function(N){!N||N.sourceDataType!=="metadata"&&N.sourceDataType!=="visibility"&&N.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},ka.prototype._updateAttributions=function(){if(this._map.style){var N=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?N=N.concat(this.options.customAttribution.map(function(fe){return typeof fe!="string"?"":fe})):typeof this.options.customAttribution=="string"&&N.push(this.options.customAttribution)),this._map.style.stylesheet){var W=this._map.style.stylesheet;this.styleOwner=W.owner,this.styleId=W.id}var q=this._map.style.sourceCaches;for(var L in q){var H=q[L];if(H.used){var ee=H.getSource();ee.attribution&&N.indexOf(ee.attribution)<0&&N.push(ee.attribution)}}N.sort(function(fe,ye){return fe.length-ye.length});var re=(N=N.filter(function(fe,ye){for(var Ce=ye+1;Ce<N.length;Ce++)if(N[Ce].indexOf(fe)>=0)return!1;return!0})).join(" | ");re!==this._attribHTML&&(this._attribHTML=re,N.length?(this._innerContainer.innerHTML=re,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},ka.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var bo=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};bo.prototype.onAdd=function(N){this._map=N,this._container=b.create("div","mapboxgl-ctrl");var W=b.create("a","mapboxgl-ctrl-logo");return W.target="_blank",W.rel="noopener nofollow",W.href="https://www.mapbox.com/",W.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),W.setAttribute("rel","noopener nofollow"),this._container.appendChild(W),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},bo.prototype.onRemove=function(){b.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},bo.prototype.getDefaultPosition=function(){return"bottom-left"},bo.prototype._updateLogo=function(N){N&&N.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},bo.prototype._logoRequired=function(){if(this._map.style){var N=this._map.style.sourceCaches;for(var W in N)if(N[W].getSource().mapbox_logo)return!0;return!1}},bo.prototype._updateCompact=function(){var N=this._container.children;if(N.length){var W=N[0];this._map.getCanvasContainer().offsetWidth<250?W.classList.add("mapboxgl-compact"):W.classList.remove("mapboxgl-compact")}};var Aa=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Aa.prototype.add=function(N){var W=++this._id;return this._queue.push({callback:N,id:W,cancelled:!1}),W},Aa.prototype.remove=function(N){for(var W=this._currentlyRunning,q=0,L=W?this._queue.concat(W):this._queue;q<L.length;q+=1){var H=L[q];if(H.id===N)return void(H.cancelled=!0)}},Aa.prototype.run=function(N){N===void 0&&(N=0);var W=this._currentlyRunning=this._queue;this._queue=[];for(var q=0,L=W;q<L.length;q+=1){var H=L[q];if(!H.cancelled&&(H.callback(N),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Aa.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Ds={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},zs=a.window.HTMLImageElement,Ma=a.window.HTMLElement,Zr=a.window.ImageBitmap,_o=60,Ts={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:_o,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},so=function(N){function W(L){var H=this;if((L=a.extend({},Ts,L)).minZoom!=null&&L.maxZoom!=null&&L.minZoom>L.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(L.minPitch!=null&&L.maxPitch!=null&&L.minPitch>L.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(L.minPitch!=null&&L.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(L.maxPitch!=null&&L.maxPitch>_o)throw new Error("maxPitch must be less than or equal to 60");var ee=new Qr(L.minZoom,L.maxZoom,L.minPitch,L.maxPitch,L.renderWorldCopies);if(N.call(this,ee,L),this._interactive=L.interactive,this._maxTileCacheSize=L.maxTileCacheSize,this._failIfMajorPerformanceCaveat=L.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=L.preserveDrawingBuffer,this._antialias=L.antialias,this._trackResize=L.trackResize,this._bearingSnap=L.bearingSnap,this._refreshExpiredTiles=L.refreshExpiredTiles,this._fadeDuration=L.fadeDuration,this._crossSourceCollisions=L.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=L.collectResourceTiming,this._renderTaskQueue=new Aa,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},Ds,L.locale),this._clickTolerance=L.clickTolerance,this._requestManager=new a.RequestManager(L.transformRequest,L.accessToken),typeof L.container=="string"){if(this._container=a.window.document.getElementById(L.container),!this._container)throw new Error("Container '"+L.container+"' not found.")}else{if(!(L.container instanceof Ma))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=L.container}if(L.maxBounds&&this.setMaxBounds(L.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return H._update(!1)}),this.on("moveend",function(){return H._update(!1)}),this.on("zoom",function(){return H._update(!0)}),a.window!==void 0&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1),a.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Jr(this,L);var re=typeof L.hash=="string"&&L.hash||void 0;this._hash=L.hash&&new Na(re).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:L.center,zoom:L.zoom,bearing:L.bearing,pitch:L.pitch}),L.bounds&&(this.resize(),this.fitBounds(L.bounds,a.extend({},L.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=L.localIdeographFontFamily,L.style&&this.setStyle(L.style,{localIdeographFontFamily:L.localIdeographFontFamily}),L.attributionControl&&this.addControl(new ka({customAttribution:L.customAttribution})),this.addControl(new bo,L.logoPosition),this.on("style.load",function(){H.transform.unmodified&&H.jumpTo(H.style.stylesheet)}),this.on("data",function(fe){H._update(fe.dataType==="style"),H.fire(new a.Event(fe.dataType+"data",fe))}),this.on("dataloading",function(fe){H.fire(new a.Event(fe.dataType+"dataloading",fe))})}N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W;var q={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return W.prototype._getMapId=function(){return this._mapId},W.prototype.addControl=function(L,H){if(H===void 0&&(H=L.getDefaultPosition?L.getDefaultPosition():"top-right"),!L||!L.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var ee=L.onAdd(this);this._controls.push(L);var re=this._controlPositions[H];return H.indexOf("bottom")!==-1?re.insertBefore(ee,re.firstChild):re.appendChild(ee),this},W.prototype.removeControl=function(L){if(!L||!L.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var H=this._controls.indexOf(L);return H>-1&&this._controls.splice(H,1),L.onRemove(this),this},W.prototype.hasControl=function(L){return this._controls.indexOf(L)>-1},W.prototype.resize=function(L){var H=this._containerDimensions(),ee=H[0],re=H[1];this._resizeCanvas(ee,re),this.transform.resize(ee,re),this.painter.resize(ee,re);var fe=!this._moving;return fe&&(this.stop(),this.fire(new a.Event("movestart",L)).fire(new a.Event("move",L))),this.fire(new a.Event("resize",L)),fe&&this.fire(new a.Event("moveend",L)),this},W.prototype.getBounds=function(){return this.transform.getBounds()},W.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},W.prototype.setMaxBounds=function(L){return this.transform.setMaxBounds(a.LngLatBounds.convert(L)),this._update()},W.prototype.setMinZoom=function(L){if((L=L==null?-2:L)>=-2&&L<=this.transform.maxZoom)return this.transform.minZoom=L,this._update(),this.getZoom()<L&&this.setZoom(L),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},W.prototype.getMinZoom=function(){return this.transform.minZoom},W.prototype.setMaxZoom=function(L){if((L=L==null?22:L)>=this.transform.minZoom)return this.transform.maxZoom=L,this._update(),this.getZoom()>L&&this.setZoom(L),this;throw new Error("maxZoom must be greater than the current minZoom")},W.prototype.getMaxZoom=function(){return this.transform.maxZoom},W.prototype.setMinPitch=function(L){if((L=L==null?0:L)<0)throw new Error("minPitch must be greater than or equal to 0");if(L>=0&&L<=this.transform.maxPitch)return this.transform.minPitch=L,this._update(),this.getPitch()<L&&this.setPitch(L),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},W.prototype.getMinPitch=function(){return this.transform.minPitch},W.prototype.setMaxPitch=function(L){if((L=L==null?_o:L)>_o)throw new Error("maxPitch must be less than or equal to 60");if(L>=this.transform.minPitch)return this.transform.maxPitch=L,this._update(),this.getPitch()>L&&this.setPitch(L),this;throw new Error("maxPitch must be greater than the current minPitch")},W.prototype.getMaxPitch=function(){return this.transform.maxPitch},W.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},W.prototype.setRenderWorldCopies=function(L){return this.transform.renderWorldCopies=L,this._update()},W.prototype.project=function(L){return this.transform.locationPoint(a.LngLat.convert(L))},W.prototype.unproject=function(L){return this.transform.pointLocation(a.Point.convert(L))},W.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},W.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},W.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},W.prototype._createDelegatedListener=function(L,H,ee){var re,fe=this;if(L==="mouseenter"||L==="mouseover"){var ye=!1;return{layer:H,listener:ee,delegates:{mousemove:function(De){var Ue=fe.getLayer(H)?fe.queryRenderedFeatures(De.point,{layers:[H]}):[];Ue.length?ye||(ye=!0,ee.call(fe,new va(L,fe,De.originalEvent,{features:Ue}))):ye=!1},mouseout:function(){ye=!1}}}}if(L==="mouseleave"||L==="mouseout"){var Ce=!1;return{layer:H,listener:ee,delegates:{mousemove:function(De){(fe.getLayer(H)?fe.queryRenderedFeatures(De.point,{layers:[H]}):[]).length?Ce=!0:Ce&&(Ce=!1,ee.call(fe,new va(L,fe,De.originalEvent)))},mouseout:function(De){Ce&&(Ce=!1,ee.call(fe,new va(L,fe,De.originalEvent)))}}}}return{layer:H,listener:ee,delegates:(re={},re[L]=function(De){var Ue=fe.getLayer(H)?fe.queryRenderedFeatures(De.point,{layers:[H]}):[];Ue.length&&(De.features=Ue,ee.call(fe,De),delete De.features)},re)}},W.prototype.on=function(L,H,ee){if(ee===void 0)return N.prototype.on.call(this,L,H);var re=this._createDelegatedListener(L,H,ee);for(var fe in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[L]=this._delegatedListeners[L]||[],this._delegatedListeners[L].push(re),re.delegates)this.on(fe,re.delegates[fe]);return this},W.prototype.once=function(L,H,ee){if(ee===void 0)return N.prototype.once.call(this,L,H);var re=this._createDelegatedListener(L,H,ee);for(var fe in re.delegates)this.once(fe,re.delegates[fe]);return this},W.prototype.off=function(L,H,ee){var re=this;return ee===void 0?N.prototype.off.call(this,L,H):(this._delegatedListeners&&this._delegatedListeners[L]&&function(fe){for(var ye=fe[L],Ce=0;Ce<ye.length;Ce++){var De=ye[Ce];if(De.layer===H&&De.listener===ee){for(var Ue in De.delegates)re.off(Ue,De.delegates[Ue]);return ye.splice(Ce,1),re}}}(this._delegatedListeners),this)},W.prototype.queryRenderedFeatures=function(L,H){if(!this.style)return[];var ee;if(H!==void 0||L===void 0||L instanceof a.Point||Array.isArray(L)||(H=L,L=void 0),H=H||{},(L=L||[[0,0],[this.transform.width,this.transform.height]])instanceof a.Point||typeof L[0]=="number")ee=[a.Point.convert(L)];else{var re=a.Point.convert(L[0]),fe=a.Point.convert(L[1]);ee=[re,new a.Point(fe.x,re.y),fe,new a.Point(re.x,fe.y),re]}return this.style.queryRenderedFeatures(ee,H,this.transform)},W.prototype.querySourceFeatures=function(L,H){return this.style.querySourceFeatures(L,H)},W.prototype.setStyle=function(L,H){return(H=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},H)).diff!==!1&&H.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&L?(this._diffStyle(L,H),this):(this._localIdeographFontFamily=H.localIdeographFontFamily,this._updateStyle(L,H))},W.prototype._getUIString=function(L){var H=this._locale[L];if(H==null)throw new Error("Missing UI string '"+L+"'");return H},W.prototype._updateStyle=function(L,H){return this.style&&(this.style.setEventedParent(null),this.style._remove()),L?(this.style=new tr(this,H||{}),this.style.setEventedParent(this,{style:this.style}),typeof L=="string"?this.style.loadURL(L):this.style.loadJSON(L),this):(delete this.style,this)},W.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new tr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},W.prototype._diffStyle=function(L,H){var ee=this;if(typeof L=="string"){var re=this._requestManager.normalizeStyleURL(L),fe=this._requestManager.transformRequest(re,a.ResourceType.Style);a.getJSON(fe,function(ye,Ce){ye?ee.fire(new a.ErrorEvent(ye)):Ce&&ee._updateDiff(Ce,H)})}else typeof L=="object"&&this._updateDiff(L,H)},W.prototype._updateDiff=function(L,H){try{this.style.setState(L)&&this._update(!0)}catch(ee){a.warnOnce("Unable to perform style diff: "+(ee.message||ee.error||ee)+".  Rebuilding the style from scratch."),this._updateStyle(L,H)}},W.prototype.getStyle=function(){if(this.style)return this.style.serialize()},W.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},W.prototype.addSource=function(L,H){return this._lazyInitEmptyStyle(),this.style.addSource(L,H),this._update(!0)},W.prototype.isSourceLoaded=function(L){var H=this.style&&this.style.sourceCaches[L];if(H!==void 0)return H.loaded();this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+L+"'")))},W.prototype.areTilesLoaded=function(){var L=this.style&&this.style.sourceCaches;for(var H in L){var ee=L[H]._tiles;for(var re in ee){var fe=ee[re];if(fe.state!=="loaded"&&fe.state!=="errored")return!1}}return!0},W.prototype.addSourceType=function(L,H,ee){return this._lazyInitEmptyStyle(),this.style.addSourceType(L,H,ee)},W.prototype.removeSource=function(L){return this.style.removeSource(L),this._update(!0)},W.prototype.getSource=function(L){return this.style.getSource(L)},W.prototype.addImage=function(L,H,ee){ee===void 0&&(ee={});var re=ee.pixelRatio;re===void 0&&(re=1);var fe=ee.sdf;fe===void 0&&(fe=!1);var ye=ee.stretchX,Ce=ee.stretchY,De=ee.content;if(this._lazyInitEmptyStyle(),H instanceof zs||Zr&&H instanceof Zr){var Ue=a.browser.getImageData(H),Ge=Ue.width,tt=Ue.height,ft=Ue.data;this.style.addImage(L,{data:new a.RGBAImage({width:Ge,height:tt},ft),pixelRatio:re,stretchX:ye,stretchY:Ce,content:De,sdf:fe,version:0})}else{if(H.width===void 0||H.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var dt=H.width,At=H.height,Ct=H.data,Et=H;this.style.addImage(L,{data:new a.RGBAImage({width:dt,height:At},new Uint8Array(Ct)),pixelRatio:re,stretchX:ye,stretchY:Ce,content:De,sdf:fe,version:0,userImage:Et}),Et.onAdd&&Et.onAdd(this,L)}},W.prototype.updateImage=function(L,H){var ee=this.style.getImage(L);if(!ee)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var re=H instanceof zs||Zr&&H instanceof Zr?a.browser.getImageData(H):H,fe=re.width,ye=re.height,Ce=re.data;if(fe===void 0||ye===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(fe!==ee.data.width||ye!==ee.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var De=!(H instanceof zs||Zr&&H instanceof Zr);ee.data.replace(Ce,De),this.style.updateImage(L,ee)},W.prototype.hasImage=function(L){return L?!!this.style.getImage(L):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},W.prototype.removeImage=function(L){this.style.removeImage(L)},W.prototype.loadImage=function(L,H){a.getImage(this._requestManager.transformRequest(L,a.ResourceType.Image),H)},W.prototype.listImages=function(){return this.style.listImages()},W.prototype.addLayer=function(L,H){return this._lazyInitEmptyStyle(),this.style.addLayer(L,H),this._update(!0)},W.prototype.moveLayer=function(L,H){return this.style.moveLayer(L,H),this._update(!0)},W.prototype.removeLayer=function(L){return this.style.removeLayer(L),this._update(!0)},W.prototype.getLayer=function(L){return this.style.getLayer(L)},W.prototype.setLayerZoomRange=function(L,H,ee){return this.style.setLayerZoomRange(L,H,ee),this._update(!0)},W.prototype.setFilter=function(L,H,ee){return ee===void 0&&(ee={}),this.style.setFilter(L,H,ee),this._update(!0)},W.prototype.getFilter=function(L){return this.style.getFilter(L)},W.prototype.setPaintProperty=function(L,H,ee,re){return re===void 0&&(re={}),this.style.setPaintProperty(L,H,ee,re),this._update(!0)},W.prototype.getPaintProperty=function(L,H){return this.style.getPaintProperty(L,H)},W.prototype.setLayoutProperty=function(L,H,ee,re){return re===void 0&&(re={}),this.style.setLayoutProperty(L,H,ee,re),this._update(!0)},W.prototype.getLayoutProperty=function(L,H){return this.style.getLayoutProperty(L,H)},W.prototype.setLight=function(L,H){return H===void 0&&(H={}),this._lazyInitEmptyStyle(),this.style.setLight(L,H),this._update(!0)},W.prototype.getLight=function(){return this.style.getLight()},W.prototype.setFeatureState=function(L,H){return this.style.setFeatureState(L,H),this._update()},W.prototype.removeFeatureState=function(L,H){return this.style.removeFeatureState(L,H),this._update()},W.prototype.getFeatureState=function(L){return this.style.getFeatureState(L)},W.prototype.getContainer=function(){return this._container},W.prototype.getCanvasContainer=function(){return this._canvasContainer},W.prototype.getCanvas=function(){return this._canvas},W.prototype._containerDimensions=function(){var L=0,H=0;return this._container&&(L=this._container.clientWidth||400,H=this._container.clientHeight||300),[L,H]},W.prototype._detectMissingCSS=function(){a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},W.prototype._setupContainer=function(){var L=this._container;L.classList.add("mapboxgl-map"),(this._missingCSSCanary=b.create("div","mapboxgl-canary",L)).style.visibility="hidden",this._detectMissingCSS();var H=this._canvasContainer=b.create("div","mapboxgl-canvas-container",L);this._interactive&&H.classList.add("mapboxgl-interactive"),this._canvas=b.create("canvas","mapboxgl-canvas",H),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ee=this._containerDimensions();this._resizeCanvas(ee[0],ee[1]);var re=this._controlContainer=b.create("div","mapboxgl-control-container",L),fe=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(ye){fe[ye]=b.create("div","mapboxgl-ctrl-"+ye,re)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},W.prototype._resizeCanvas=function(L,H){var ee=a.browser.devicePixelRatio||1;this._canvas.width=ee*L,this._canvas.height=ee*H,this._canvas.style.width=L+"px",this._canvas.style.height=H+"px"},W.prototype._setupPainter=function(){var L=a.extend({},w.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),H=this._canvas.getContext("webgl",L)||this._canvas.getContext("experimental-webgl",L);H?(this.painter=new oi(H,this.transform),a.webpSupported.testSupport(H)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))},W.prototype._contextLost=function(L){L.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:L}))},W.prototype._contextRestored=function(L){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:L}))},W.prototype._onMapScroll=function(L){if(L.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},W.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},W.prototype._update=function(L){return this.style?(this._styleDirty=this._styleDirty||L,this._sourcesDirty=!0,this.triggerRepaint(),this):this},W.prototype._requestRenderFrame=function(L){return this._update(),this._renderTaskQueue.add(L)},W.prototype._cancelRenderFrame=function(L){this._renderTaskQueue.remove(L)},W.prototype._render=function(L){var H,ee=this,re=0,fe=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(H=fe.createQueryEXT(),fe.beginQueryEXT(fe.TIME_ELAPSED_EXT,H),re=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(L),!this._removed){var ye=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Ce=this.transform.zoom,De=a.browser.now();this.style.zoomHistory.update(Ce,De);var Ue=new a.EvaluationParameters(Ce,{now:De,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Ge=Ue.crossFadingFactor();Ge===1&&Ge===this._crossFadingFactor||(ye=!0,this._crossFadingFactor=Ge),this.style.update(Ue)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||ye)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var tt=a.browser.now()-re;fe.endQueryEXT(fe.TIME_ELAPSED_EXT,H),setTimeout(function(){var At=fe.getQueryObjectEXT(H,fe.QUERY_RESULT_EXT)/1e6;fe.deleteQueryEXT(H),ee.fire(new a.Event("gpu-timing-frame",{cpuTime:tt,gpuTime:At}))},50)}if(this.listens("gpu-timing-layer")){var ft=this.painter.collectGpuTimers();setTimeout(function(){var At=ee.painter.queryGpuTimers(ft);ee.fire(new a.Event("gpu-timing-layer",{layerTimes:At}))},50)}var dt=this._sourcesDirty||this._styleDirty||this._placementDirty;return dt||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new a.Event("idle")),!this._loaded||this._fullyLoaded||dt||(this._fullyLoaded=!0),this}},W.prototype.remove=function(){this._hash&&this._hash.remove();for(var L=0,H=this._controls;L<H.length;L+=1)H[L].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),a.window!==void 0&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("orientationchange",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var ee=this.painter.context.gl.getExtension("WEBGL_lose_context");ee&&ee.loseContext&&ee.loseContext(),Fs(this._canvasContainer),Fs(this._controlContainer),Fs(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},W.prototype.triggerRepaint=function(){var L=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(H){L._frame=null,L._render(H)}))},W.prototype._onWindowOnline=function(){this._update()},W.prototype._onWindowResize=function(L){this._trackResize&&this.resize({originalEvent:L})._update()},q.showTileBoundaries.get=function(){return!!this._showTileBoundaries},q.showTileBoundaries.set=function(L){this._showTileBoundaries!==L&&(this._showTileBoundaries=L,this._update())},q.showPadding.get=function(){return!!this._showPadding},q.showPadding.set=function(L){this._showPadding!==L&&(this._showPadding=L,this._update())},q.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},q.showCollisionBoxes.set=function(L){this._showCollisionBoxes!==L&&(this._showCollisionBoxes=L,L?this.style._generateCollisionBoxes():this._update())},q.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},q.showOverdrawInspector.set=function(L){this._showOverdrawInspector!==L&&(this._showOverdrawInspector=L,this._update())},q.repaint.get=function(){return!!this._repaint},q.repaint.set=function(L){this._repaint!==L&&(this._repaint=L,this.triggerRepaint())},q.vertices.get=function(){return!!this._vertices},q.vertices.set=function(L){this._vertices=L,this._update()},W.prototype._setCacheLimits=function(L,H){a.setCacheLimits(L,H)},q.version.get=function(){return a.version},Object.defineProperties(W.prototype,q),W}(oa);function Fs(N){N.parentNode&&N.parentNode.removeChild(N)}var Bs={showCompass:!0,showZoom:!0,visualizePitch:!1},lo=function(N){var W=this;this.options=a.extend({},Bs,N),this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(q){return q.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(q){return W._map.zoomIn({},{originalEvent:q})}),b.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(q){return W._map.zoomOut({},{originalEvent:q})}),b.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(q){W.options.visualizePitch?W._map.resetNorthPitch({},{originalEvent:q}):W._map.resetNorth({},{originalEvent:q})}),this._compassIcon=b.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};lo.prototype._updateZoomButtons=function(){var N=this._map.getZoom(),W=N===this._map.getMaxZoom(),q=N===this._map.getMinZoom();this._zoomInButton.disabled=W,this._zoomOutButton.disabled=q,this._zoomInButton.setAttribute("aria-disabled",W.toString()),this._zoomOutButton.setAttribute("aria-disabled",q.toString())},lo.prototype._rotateCompassArrow=function(){var N=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=N},lo.prototype.onAdd=function(N){return this._map=N,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new vi(this._map,this._compass,this.options.visualizePitch)),this._container},lo.prototype.onRemove=function(){b.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},lo.prototype._createButton=function(N,W){var q=b.create("button",N,this._container);return q.type="button",q.addEventListener("click",W),q},lo.prototype._setButtonTitle=function(N,W){var q=this._map._getUIString("NavigationControl."+W);N.title=q,N.setAttribute("aria-label",q)};var vi=function(N,W,q){q===void 0&&(q=!1),this._clickTolerance=10,this.element=W,this.mouseRotate=new Io({clickTolerance:N.dragRotate._mouseRotate._clickTolerance}),this.map=N,q&&(this.mousePitch=new Wa({clickTolerance:N.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),b.addEventListener(W,"mousedown",this.mousedown),b.addEventListener(W,"touchstart",this.touchstart,{passive:!1}),b.addEventListener(W,"touchmove",this.touchmove),b.addEventListener(W,"touchend",this.touchend),b.addEventListener(W,"touchcancel",this.reset)};function ks(N,W,q){if(N=new a.LngLat(N.lng,N.lat),W){var L=new a.LngLat(N.lng-360,N.lat),H=new a.LngLat(N.lng+360,N.lat),ee=q.locationPoint(N).distSqr(W);q.locationPoint(L).distSqr(W)<ee?N=L:q.locationPoint(H).distSqr(W)<ee&&(N=H)}for(;Math.abs(N.lng-q.center.lng)>180;){var re=q.locationPoint(N);if(re.x>=0&&re.y>=0&&re.x<=q.width&&re.y<=q.height)break;N.lng>q.center.lng?N.lng-=360:N.lng+=360}return N}vi.prototype.down=function(N,W){this.mouseRotate.mousedown(N,W),this.mousePitch&&this.mousePitch.mousedown(N,W),b.disableDrag()},vi.prototype.move=function(N,W){var q=this.map,L=this.mouseRotate.mousemoveWindow(N,W);if(L&&L.bearingDelta&&q.setBearing(q.getBearing()+L.bearingDelta),this.mousePitch){var H=this.mousePitch.mousemoveWindow(N,W);H&&H.pitchDelta&&q.setPitch(q.getPitch()+H.pitchDelta)}},vi.prototype.off=function(){var N=this.element;b.removeEventListener(N,"mousedown",this.mousedown),b.removeEventListener(N,"touchstart",this.touchstart,{passive:!1}),b.removeEventListener(N,"touchmove",this.touchmove),b.removeEventListener(N,"touchend",this.touchend),b.removeEventListener(N,"touchcancel",this.reset),this.offTemp()},vi.prototype.offTemp=function(){b.enableDrag(),b.removeEventListener(a.window,"mousemove",this.mousemove),b.removeEventListener(a.window,"mouseup",this.mouseup)},vi.prototype.mousedown=function(N){this.down(a.extend({},N,{ctrlKey:!0,preventDefault:function(){return N.preventDefault()}}),b.mousePos(this.element,N)),b.addEventListener(a.window,"mousemove",this.mousemove),b.addEventListener(a.window,"mouseup",this.mouseup)},vi.prototype.mousemove=function(N){this.move(N,b.mousePos(this.element,N))},vi.prototype.mouseup=function(N){this.mouseRotate.mouseupWindow(N),this.mousePitch&&this.mousePitch.mouseupWindow(N),this.offTemp()},vi.prototype.touchstart=function(N){N.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=b.touchPos(this.element,N.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return N.preventDefault()}},this._startPos))},vi.prototype.touchmove=function(N){N.targetTouches.length!==1?this.reset():(this._lastPos=b.touchPos(this.element,N.targetTouches)[0],this.move({preventDefault:function(){return N.preventDefault()}},this._lastPos))},vi.prototype.touchend=function(N){N.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},vi.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Cr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function zr(N,W,q){var L=N.classList;for(var H in Cr)L.remove("mapboxgl-"+q+"-anchor-"+H);L.add("mapboxgl-"+q+"-anchor-"+W)}var ja,wo=function(N){function W(q,L){if(N.call(this),(q instanceof a.window.HTMLElement||L)&&(q=a.extend({element:q},L)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=q&&q.anchor||"center",this._color=q&&q.color||"#3FB1CE",this._scale=q&&q.scale||1,this._draggable=q&&q.draggable||!1,this._clickTolerance=q&&q.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=q&&q.rotation||0,this._rotationAlignment=q&&q.rotationAlignment||"auto",this._pitchAlignment=q&&q.pitchAlignment&&q.pitchAlignment!=="auto"?q.pitchAlignment:this._rotationAlignment,q&&q.element)this._element=q.element,this._offset=a.Point.convert(q&&q.offset||[0,0]);else{this._defaultMarker=!0,this._element=b.create("div"),this._element.setAttribute("aria-label","Map marker");var H=b.createNS("http://www.w3.org/2000/svg","svg");H.setAttributeNS(null,"display","block"),H.setAttributeNS(null,"height","41px"),H.setAttributeNS(null,"width","27px"),H.setAttributeNS(null,"viewBox","0 0 27 41");var ee=b.createNS("http://www.w3.org/2000/svg","g");ee.setAttributeNS(null,"stroke","none"),ee.setAttributeNS(null,"stroke-width","1"),ee.setAttributeNS(null,"fill","none"),ee.setAttributeNS(null,"fill-rule","evenodd");var re=b.createNS("http://www.w3.org/2000/svg","g");re.setAttributeNS(null,"fill-rule","nonzero");var fe=b.createNS("http://www.w3.org/2000/svg","g");fe.setAttributeNS(null,"transform","translate(3.0, 29.0)"),fe.setAttributeNS(null,"fill","#000000");for(var ye=0,Ce=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];ye<Ce.length;ye+=1){var De=Ce[ye],Ue=b.createNS("http://www.w3.org/2000/svg","ellipse");Ue.setAttributeNS(null,"opacity","0.04"),Ue.setAttributeNS(null,"cx","10.5"),Ue.setAttributeNS(null,"cy","5.80029008"),Ue.setAttributeNS(null,"rx",De.rx),Ue.setAttributeNS(null,"ry",De.ry),fe.appendChild(Ue)}var Ge=b.createNS("http://www.w3.org/2000/svg","g");Ge.setAttributeNS(null,"fill",this._color);var tt=b.createNS("http://www.w3.org/2000/svg","path");tt.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Ge.appendChild(tt);var ft=b.createNS("http://www.w3.org/2000/svg","g");ft.setAttributeNS(null,"opacity","0.25"),ft.setAttributeNS(null,"fill","#000000");var dt=b.createNS("http://www.w3.org/2000/svg","path");dt.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),ft.appendChild(dt);var At=b.createNS("http://www.w3.org/2000/svg","g");At.setAttributeNS(null,"transform","translate(6.0, 7.0)"),At.setAttributeNS(null,"fill","#FFFFFF");var Ct=b.createNS("http://www.w3.org/2000/svg","g");Ct.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Et=b.createNS("http://www.w3.org/2000/svg","circle");Et.setAttributeNS(null,"fill","#000000"),Et.setAttributeNS(null,"opacity","0.25"),Et.setAttributeNS(null,"cx","5.5"),Et.setAttributeNS(null,"cy","5.5"),Et.setAttributeNS(null,"r","5.4999962");var jt=b.createNS("http://www.w3.org/2000/svg","circle");jt.setAttributeNS(null,"fill","#FFFFFF"),jt.setAttributeNS(null,"cx","5.5"),jt.setAttributeNS(null,"cy","5.5"),jt.setAttributeNS(null,"r","5.4999962"),Ct.appendChild(Et),Ct.appendChild(jt),re.appendChild(fe),re.appendChild(Ge),re.appendChild(ft),re.appendChild(At),re.appendChild(Ct),H.appendChild(re),H.setAttributeNS(null,"height",41*this._scale+"px"),H.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(H),this._offset=a.Point.convert(q&&q.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Dt){Dt.preventDefault()}),this._element.addEventListener("mousedown",function(Dt){Dt.preventDefault()}),zr(this._element,this._anchor,"marker"),this._popup=null}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.addTo=function(q){return this.remove(),this._map=q,q.getCanvasContainer().appendChild(this._element),q.on("move",this._update),q.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},W.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),b.remove(this._element),this._popup&&this._popup.remove(),this},W.prototype.getLngLat=function(){return this._lngLat},W.prototype.setLngLat=function(q){return this._lngLat=a.LngLat.convert(q),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},W.prototype.getElement=function(){return this._element},W.prototype.setPopup=function(q){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),q){if(!("offset"in q.options)){var L=13.5,H=Math.sqrt(Math.pow(L,2)/2);q.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[H,-1*(24.6+H)],"bottom-right":[-H,-1*(24.6+H)],left:[L,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=q,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},W.prototype._onKeyPress=function(q){var L=q.code,H=q.charCode||q.keyCode;L!=="Space"&&L!=="Enter"&&H!==32&&H!==13||this.togglePopup()},W.prototype._onMapClick=function(q){var L=q.originalEvent.target,H=this._element;this._popup&&(L===H||H.contains(L))&&this.togglePopup()},W.prototype.getPopup=function(){return this._popup},W.prototype.togglePopup=function(){var q=this._popup;return q?(q.isOpen()?q.remove():q.addTo(this._map),this):this},W.prototype._update=function(q){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=ks(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var L="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?L="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(L="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var H="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?H="rotateX(0deg)":this._pitchAlignment==="map"&&(H="rotateX("+this._map.getPitch()+"deg)"),q&&q.type!=="moveend"||(this._pos=this._pos.round()),b.setTransform(this._element,Cr[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+H+" "+L)}},W.prototype.getOffset=function(){return this._offset},W.prototype.setOffset=function(q){return this._offset=a.Point.convert(q),this._update(),this},W.prototype._onMove=function(q){if(!this._isDragging){var L=this._clickTolerance||this._map._clickTolerance;this._isDragging=q.point.dist(this._pointerdownPos)>=L}this._isDragging&&(this._pos=q.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag")))},W.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},W.prototype._addDragHandler=function(q){this._element.contains(q.originalEvent.target)&&(q.preventDefault(),this._positionDelta=q.point.sub(this._pos).add(this._offset),this._pointerdownPos=q.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},W.prototype.setDraggable=function(q){return this._draggable=!!q,this._map&&(q?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},W.prototype.isDraggable=function(){return this._draggable},W.prototype.setRotation=function(q){return this._rotation=q||0,this._update(),this},W.prototype.getRotation=function(){return this._rotation},W.prototype.setRotationAlignment=function(q){return this._rotationAlignment=q||"auto",this._update(),this},W.prototype.getRotationAlignment=function(){return this._rotationAlignment},W.prototype.setPitchAlignment=function(q){return this._pitchAlignment=q&&q!=="auto"?q:this._rotationAlignment,this._update(),this},W.prototype.getPitchAlignment=function(){return this._pitchAlignment},W}(a.Evented),zo={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ni=0,To=!1,si=function(N){function W(q){N.call(this),this.options=a.extend({},zo,q),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.onAdd=function(q){return this._map=q,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),L=this._setupUI,ja!==void 0?L(ja):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(H){ja=H.state!=="denied",L(ja)}):(ja=!!a.window.navigator.geolocation,L(ja)),this._container;var L},W.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),b.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ni=0,To=!1},W.prototype._isOutOfMapMaxBounds=function(q){var L=this._map.getMaxBounds(),H=q.coords;return L&&(H.longitude<L.getWest()||H.longitude>L.getEast()||H.latitude<L.getSouth()||H.latitude>L.getNorth())},W.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},W.prototype._onSuccess=function(q){if(this._map){if(this._isOutOfMapMaxBounds(q))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",q)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=q,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(q),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(q),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",q)),this._finish()}},W.prototype._updateCamera=function(q){var L=new a.LngLat(q.coords.longitude,q.coords.latitude),H=q.coords.accuracy,ee=this._map.getBearing(),re=a.extend({bearing:ee},this.options.fitBoundsOptions);this._map.fitBounds(L.toBounds(H),re,{geolocateSource:!0})},W.prototype._updateMarker=function(q){if(q){var L=new a.LngLat(q.coords.longitude,q.coords.latitude);this._accuracyCircleMarker.setLngLat(L).addTo(this._map),this._userLocationDotMarker.setLngLat(L).addTo(this._map),this._accuracy=q.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},W.prototype._updateCircleRadius=function(){var q=this._map._container.clientHeight/2,L=this._map.unproject([0,q]),H=this._map.unproject([1,q]),ee=L.distanceTo(H),re=Math.ceil(2*this._accuracy/ee);this._circleElement.style.width=re+"px",this._circleElement.style.height=re+"px"},W.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},W.prototype._onError=function(q){if(this._map){if(this.options.trackUserLocation)if(q.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var L=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=L,this._geolocateButton.setAttribute("aria-label",L),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(q.code===3&&To)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",q)),this._finish()}},W.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},W.prototype._setupUI=function(q){var L=this;if(this._container.addEventListener("contextmenu",function(re){return re.preventDefault()}),this._geolocateButton=b.create("button","mapboxgl-ctrl-geolocate",this._container),b.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",q===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var H=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=H,this._geolocateButton.setAttribute("aria-label",H)}else{var ee=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=ee,this._geolocateButton.setAttribute("aria-label",ee)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=b.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new wo(this._dotElement),this._circleElement=b.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new wo({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(re){var fe=re.originalEvent&&re.originalEvent.type==="resize";re.geolocateSource||L._watchState!=="ACTIVE_LOCK"||fe||(L._watchState="BACKGROUND",L._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),L._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),L.fire(new a.Event("trackuserlocationend")))})},W.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ni--,To=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var q;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Ni>1?(q={maximumAge:6e5,timeout:0},To=!0):(q=this.options.positionOptions,To=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,q)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},W.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},W}(a.Evented),iu={maxWidth:100,unit:"metric"},Ua=function(N){this.options=a.extend({},iu,N),a.bindAll(["_onMove","setUnit"],this)};function ci(N,W,q){var L=q&&q.maxWidth||100,H=N._container.clientHeight/2,ee=N.unproject([0,H]),re=N.unproject([L,H]),fe=ee.distanceTo(re);if(q&&q.unit==="imperial"){var ye=3.2808*fe;ye>5280?wi(W,L,ye/5280,N._getUIString("ScaleControl.Miles")):wi(W,L,ye,N._getUIString("ScaleControl.Feet"))}else q&&q.unit==="nautical"?wi(W,L,fe/1852,N._getUIString("ScaleControl.NauticalMiles")):fe>=1e3?wi(W,L,fe/1e3,N._getUIString("ScaleControl.Kilometers")):wi(W,L,fe,N._getUIString("ScaleControl.Meters"))}function wi(N,W,q,L){var H,ee,re,fe=(H=q,(ee=Math.pow(10,(""+Math.floor(H)).length-1))*((re=H/ee)>=10?10:re>=5?5:re>=3?3:re>=2?2:re>=1?1:function(Ce){var De=Math.pow(10,Math.ceil(-Math.log(Ce)/Math.LN10));return Math.round(Ce*De)/De}(re))),ye=fe/q;N.style.width=W*ye+"px",N.innerHTML=fe+"&nbsp;"+L}Ua.prototype.getDefaultPosition=function(){return"bottom-left"},Ua.prototype._onMove=function(){ci(this._map,this._container,this.options)},Ua.prototype.onAdd=function(N){return this._map=N,this._container=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",N.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Ua.prototype.onRemove=function(){b.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Ua.prototype.setUnit=function(N){this.options.unit=N,ci(this._map,this._container,this.options)};var Ia=function(N){this._fullscreen=!1,N&&N.container&&(N.container instanceof a.window.HTMLElement?this._container=N.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};Ia.prototype.onAdd=function(N){return this._map=N,this._container||(this._container=this._map.getContainer()),this._controlContainer=b.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Ia.prototype.onRemove=function(){b.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Ia.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},Ia.prototype._setupUI=function(){var N=this._fullscreenButton=b.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);b.create("span","mapboxgl-ctrl-icon",N).setAttribute("aria-hidden",!0),N.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Ia.prototype._updateTitle=function(){var N=this._getTitle();this._fullscreenButton.setAttribute("aria-label",N),this._fullscreenButton.title=N},Ia.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Ia.prototype._isFullscreen=function(){return this._fullscreen},Ia.prototype._changeIcon=function(){(a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Ia.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var rs={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Ul=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Ke=function(N){function W(q){N.call(this),this.options=a.extend(Object.create(rs),q),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return N&&(W.__proto__=N),W.prototype=Object.create(N&&N.prototype),W.prototype.constructor=W,W.prototype.addTo=function(q){return this._map&&this.remove(),this._map=q,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},W.prototype.isOpen=function(){return!!this._map},W.prototype.remove=function(){return this._content&&b.remove(this._content),this._container&&(b.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},W.prototype.getLngLat=function(){return this._lngLat},W.prototype.setLngLat=function(q){return this._lngLat=a.LngLat.convert(q),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},W.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},W.prototype.getElement=function(){return this._container},W.prototype.setText=function(q){return this.setDOMContent(a.window.document.createTextNode(q))},W.prototype.setHTML=function(q){var L,H=a.window.document.createDocumentFragment(),ee=a.window.document.createElement("body");for(ee.innerHTML=q;L=ee.firstChild;)H.appendChild(L);return this.setDOMContent(H)},W.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},W.prototype.setMaxWidth=function(q){return this.options.maxWidth=q,this._update(),this},W.prototype.setDOMContent=function(q){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=b.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(q),this._createCloseButton(),this._update(),this._focusFirstElement(),this},W.prototype.addClassName=function(q){this._container&&this._container.classList.add(q)},W.prototype.removeClassName=function(q){this._container&&this._container.classList.remove(q)},W.prototype.setOffset=function(q){return this.options.offset=q,this._update(),this},W.prototype.toggleClassName=function(q){if(this._container)return this._container.classList.toggle(q)},W.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=b.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},W.prototype._onMouseUp=function(q){this._update(q.point)},W.prototype._onMouseMove=function(q){this._update(q.point)},W.prototype._onDrag=function(q){this._update(q.point)},W.prototype._update=function(q){var L=this,H=this._lngLat||this._trackPointer;if(this._map&&H&&this._content&&(this._container||(this._container=b.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=b.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Ge){return L._container.classList.add(Ge)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=ks(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||q)){var ee=this._pos=this._trackPointer&&q?q:this._map.project(this._lngLat),re=this.options.anchor,fe=Qe(this.options.offset);if(!re){var ye,Ce=this._container.offsetWidth,De=this._container.offsetHeight;ye=ee.y+fe.bottom.y<De?["top"]:ee.y>this._map.transform.height-De?["bottom"]:[],ee.x<Ce/2?ye.push("left"):ee.x>this._map.transform.width-Ce/2&&ye.push("right"),re=ye.length===0?"bottom":ye.join("-")}var Ue=ee.add(fe[re]).round();b.setTransform(this._container,Cr[re]+" translate("+Ue.x+"px,"+Ue.y+"px)"),zr(this._container,re,"popup")}},W.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var q=this._container.querySelector(Ul);q&&q.focus()}},W.prototype._onClose=function(){this.remove()},W}(a.Evented);function Qe(N){if(N){if(typeof N=="number"){var W=Math.round(Math.sqrt(.5*Math.pow(N,2)));return{center:new a.Point(0,0),top:new a.Point(0,N),"top-left":new a.Point(W,W),"top-right":new a.Point(-W,W),bottom:new a.Point(0,-N),"bottom-left":new a.Point(W,-W),"bottom-right":new a.Point(-W,-W),left:new a.Point(N,0),right:new a.Point(-N,0)}}if(N instanceof a.Point||Array.isArray(N)){var q=a.Point.convert(N);return{center:q,top:q,"top-left":q,"top-right":q,bottom:q,"bottom-left":q,"bottom-right":q,left:q,right:q}}return{center:a.Point.convert(N.center||[0,0]),top:a.Point.convert(N.top||[0,0]),"top-left":a.Point.convert(N["top-left"]||[0,0]),"top-right":a.Point.convert(N["top-right"]||[0,0]),bottom:a.Point.convert(N.bottom||[0,0]),"bottom-left":a.Point.convert(N["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(N["bottom-right"]||[0,0]),left:a.Point.convert(N.left||[0,0]),right:a.Point.convert(N.right||[0,0])}}return Qe(new a.Point(0,0))}var ut={version:a.version,supported:w,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:so,NavigationControl:lo,GeolocateControl:si,AttributionControl:ka,ScaleControl:Ua,FullscreenControl:Ia,Popup:Ke,Marker:wo,Style:tr,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:function(){yt().acquire(ot)},clearPrewarmedResources:function(){var N=pt;N&&(N.isPreloaded()&&N.numActive()===1?(N.release(ot),pt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(N){a.config.ACCESS_TOKEN=N},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(N){a.config.API_URL=N},get workerCount(){return Xe.workerCount},set workerCount(N){Xe.workerCount=N},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(N){a.config.MAX_PARALLEL_IMAGE_REQUESTS=N},clearStorage:function(N){a.clearTileCache(N)},workerUrl:""};return ut}),A}()},3108:function(Y,P,e){Y.exports=e(26099)},26099:function(Y,P,e){var A=e(64928),k=e(32420),a=e(51160),w=e(76752),b=e(55616),h=e(31264),o=e(47520),t=e(18400),i=e(72512),n=e(76244);function r(s,l){for(var u=l[0],d=l[1],c=1/(l[2]-u),x=1/(l[3]-d),g=new Array(s.length),p=0,v=s.length/2;p<v;p++)g[2*p]=k((s[2*p]-u)*c,0,1),g[2*p+1]=k((s[2*p+1]-d)*x,0,1);return g}Y.exports=function(s,l){l||(l={}),s=o(s,"float64"),l=b(l,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var u=h(l.maxDepth,255),d=h(l.bounds,w(s,2));d[0]===d[2]&&d[2]++,d[1]===d[3]&&d[3]++;var c,x=r(s,d),g=s.length>>>1;l.dtype||(l.dtype="array"),typeof l.dtype=="string"?c=new(i(l.dtype))(g):l.dtype&&(c=l.dtype,Array.isArray(c)&&(c.length=g));for(var p=0;p<g;++p)c[p]=p;var v=[],y=[],m=[],_=[];(function z(U,D,B,Z,F,j){if(!Z.length)return null;var V=v[F]||(v[F]=[]),te=m[F]||(m[F]=[]),Q=y[F]||(y[F]=[]),$=V.length;if(++F>u||j>1073741824){for(var G=0;G<Z.length;G++)V.push(Z[G]),te.push(j),Q.push(null,null,null,null);return $}if(V.push(Z[0]),te.push(j),Z.length<=1)return Q.push(null,null,null,null),$;for(var X=.5*B,J=U+X,ne=D+X,ie=[],ae=[],le=[],ce=[],pe=1,ge=Z.length;pe<ge;pe++){var me=Z[pe],ve=x[2*me],Me=x[2*me+1];ve<J?Me<ne?ie.push(me):ae.push(me):Me<ne?le.push(me):ce.push(me)}return j<<=2,Q.push(z(U,D,X,ie,F,j),z(U,ne,X,ae,F,j+1),z(J,D,X,le,F,j+2),z(J,ne,X,ce,F,j+3)),$})(0,0,1,c,0,1);for(var f=0,S=0;S<v.length;S++){var T=v[S];if(c.set)c.set(T,f);else for(var E=0,C=T.length;E<C;E++)c[E+f]=T[E];var O=f+v[S].length;_[S]=[f,O],f=O}return c.range=function(){for(var z,U=[],D=arguments.length;D--;)U[D]=arguments[D];if(t(U[U.length-1])){var B=U.pop();U.length||B.x==null&&B.l==null&&B.left==null||(U=[B],z={}),z=b(B,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else z={};U.length||(U=d);var Z,F=a.apply(void 0,U),j=[Math.min(F.x,F.x+F.width),Math.min(F.y,F.y+F.height),Math.max(F.x,F.x+F.width),Math.max(F.y,F.y+F.height)],V=j[0],te=j[1],Q=j[2],$=j[3],G=r([V,te,Q,$],d),X=G[0],J=G[1],ne=G[2],ie=G[3],ae=h(z.level,v.length);if(z.d!=null&&(typeof z.d=="number"?Z=[z.d,z.d]:z.d.length&&(Z=z.d),ae=Math.min(Math.max(Math.ceil(-n(Math.abs(Z[0])/(d[2]-d[0]))),Math.ceil(-n(Math.abs(Z[1])/(d[3]-d[1])))),ae)),ae=Math.min(ae,v.length),z.lod)return function(ce,pe,ge,me,ve){for(var Me=[],_e=0;_e<ve;_e++){var we=m[_e],oe=_[_e][0],se=I(ce,pe,_e),de=I(ge,me,_e),Ee=A.ge(we,se),Te=A.gt(we,de,Ee,we.length-1);Me[_e]=[Ee+oe,Te+oe]}return Me}(X,J,ne,ie,ae);var le=[];return function ce(pe,ge,me,ve,Me,_e){if(Me!==null&&_e!==null&&!(X>pe+me||J>ge+me||ne<pe||ie<ge||ve>=ae||Me===_e)){var we=v[ve];_e===void 0&&(_e=we.length);for(var oe=Me;oe<_e;oe++){var se=we[oe],de=s[2*se],Ee=s[2*se+1];de>=V&&de<=Q&&Ee>=te&&Ee<=$&&le.push(se)}var Te=y[ve],Se=Te[4*Me+0],Le=Te[4*Me+1],Oe=Te[4*Me+2],he=Te[4*Me+3],xe=function(ze,Ie){for(var He=null,qe=0;He===null;)if(He=ze[4*Ie+qe],++qe>ze.length)return null;return He}(Te,Me+1),ke=.5*me,Re=ve+1;ce(pe,ge,ke,Re,Se,Le||Oe||he||xe),ce(pe,ge+ke,ke,Re,Le,Oe||he||xe),ce(pe+ke,ge,ke,Re,Oe,he||xe),ce(pe+ke,ge+ke,ke,Re,he,xe)}}(0,0,1,0,0,1),le},c;function I(z,U,D){for(var B=1,Z=.5,F=.5,j=.5,V=0;V<D;V++)B<<=2,B+=z<Z?U<F?0:1:U<F?2:3,j*=.5,Z+=z<Z?-j:j,F+=U<F?-j:j;return B}}},40440:function(Y,P,e){Object.defineProperty(P,"__esModule",{value:!0});var A=e(3256),k=6378137;function a(h){var o=0;if(h&&h.length>0){o+=Math.abs(w(h[0]));for(var t=1;t<h.length;t++)o-=Math.abs(w(h[t]))}return o}function w(h){var o,t,i,n,r,s,l=0,u=h.length;if(u>2){for(s=0;s<u;s++)s===u-2?(i=u-2,n=u-1,r=0):s===u-1?(i=u-1,n=0,r=1):(i=s,n=s+1,r=s+2),o=h[i],t=h[n],l+=(b(h[r][0])-b(o[0]))*Math.sin(b(t[1]));l=l*k*k/2}return l}function b(h){return h*Math.PI/180}P.default=function(h){return A.geomReduce(h,function(o,t){return o+function(i){var n,r=0;switch(i.type){case"Polygon":return a(i.coordinates);case"MultiPolygon":for(n=0;n<i.coordinates.length;n++)r+=a(i.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)},0)}},46284:function(Y,P){function e(s,l,u){u===void 0&&(u={});var d={type:"Feature"};return(u.id===0||u.id)&&(d.id=u.id),u.bbox&&(d.bbox=u.bbox),d.properties=l||{},d.geometry=s,d}function A(s,l,u){if(u===void 0&&(u={}),!s)throw new Error("coordinates is required");if(!Array.isArray(s))throw new Error("coordinates must be an Array");if(s.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!r(s[0])||!r(s[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:s},l,u)}function k(s,l,u){u===void 0&&(u={});for(var d=0,c=s;d<c.length;d++){var x=c[d];if(x.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<x[x.length-1].length;g++)if(x[x.length-1][g]!==x[0][g])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:s},l,u)}function a(s,l,u){if(u===void 0&&(u={}),s.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:s},l,u)}function w(s,l){l===void 0&&(l={});var u={type:"FeatureCollection"};return l.id&&(u.id=l.id),l.bbox&&(u.bbox=l.bbox),u.features=s,u}function b(s,l,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:s},l,u)}function h(s,l,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:s},l,u)}function o(s,l,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:s},l,u)}function t(s,l){l===void 0&&(l="kilometers");var u=P.factors[l];if(!u)throw new Error(l+" units is invalid");return s*u}function i(s,l){l===void 0&&(l="kilometers");var u=P.factors[l];if(!u)throw new Error(l+" units is invalid");return s/u}function n(s){return s%(2*Math.PI)*180/Math.PI}function r(s){return!isNaN(s)&&s!==null&&!Array.isArray(s)}Object.defineProperty(P,"__esModule",{value:!0}),P.earthRadius=63710088e-1,P.factors={centimeters:100*P.earthRadius,centimetres:100*P.earthRadius,degrees:P.earthRadius/111325,feet:3.28084*P.earthRadius,inches:39.37*P.earthRadius,kilometers:P.earthRadius/1e3,kilometres:P.earthRadius/1e3,meters:P.earthRadius,metres:P.earthRadius,miles:P.earthRadius/1609.344,millimeters:1e3*P.earthRadius,millimetres:1e3*P.earthRadius,nauticalmiles:P.earthRadius/1852,radians:1,yards:1.0936*P.earthRadius},P.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/P.earthRadius,yards:1.0936133},P.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},P.feature=e,P.geometry=function(s,l,u){switch(s){case"Point":return A(l).geometry;case"LineString":return a(l).geometry;case"Polygon":return k(l).geometry;case"MultiPoint":return h(l).geometry;case"MultiLineString":return b(l).geometry;case"MultiPolygon":return o(l).geometry;default:throw new Error(s+" is invalid")}},P.point=A,P.points=function(s,l,u){return u===void 0&&(u={}),w(s.map(function(d){return A(d,l)}),u)},P.polygon=k,P.polygons=function(s,l,u){return u===void 0&&(u={}),w(s.map(function(d){return k(d,l)}),u)},P.lineString=a,P.lineStrings=function(s,l,u){return u===void 0&&(u={}),w(s.map(function(d){return a(d,l)}),u)},P.featureCollection=w,P.multiLineString=b,P.multiPoint=h,P.multiPolygon=o,P.geometryCollection=function(s,l,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:s},l,u)},P.round=function(s,l){if(l===void 0&&(l=0),l&&!(l>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,l||0);return Math.round(s*u)/u},P.radiansToLength=t,P.lengthToRadians=i,P.lengthToDegrees=function(s,l){return n(i(s,l))},P.bearingToAzimuth=function(s){var l=s%360;return l<0&&(l+=360),l},P.radiansToDegrees=n,P.degreesToRadians=function(s){return s%360*Math.PI/180},P.convertLength=function(s,l,u){if(l===void 0&&(l="kilometers"),u===void 0&&(u="kilometers"),!(s>=0))throw new Error("length must be a positive number");return t(i(s,l),u)},P.convertArea=function(s,l,u){if(l===void 0&&(l="meters"),u===void 0&&(u="kilometers"),!(s>=0))throw new Error("area must be a positive number");var d=P.areaFactors[l];if(!d)throw new Error("invalid original units");var c=P.areaFactors[u];if(!c)throw new Error("invalid final units");return s/d*c},P.isNumber=r,P.isObject=function(s){return!!s&&s.constructor===Object},P.validateBBox=function(s){if(!s)throw new Error("bbox is required");if(!Array.isArray(s))throw new Error("bbox must be an Array");if(s.length!==4&&s.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");s.forEach(function(l){if(!r(l))throw new Error("bbox must only contain numbers")})},P.validateId=function(s){if(!s)throw new Error("id is required");if(["string","number"].indexOf(typeof s)===-1)throw new Error("id must be a number or a string")}},3256:function(Y,P,e){Object.defineProperty(P,"__esModule",{value:!0});var A=e(46284);function k(i,n,r){if(i!==null)for(var s,l,u,d,c,x,g,p,v=0,y=0,m=i.type,_=m==="FeatureCollection",f=m==="Feature",S=_?i.features.length:1,T=0;T<S;T++){c=(p=!!(g=_?i.features[T].geometry:f?i.geometry:i)&&g.type==="GeometryCollection")?g.geometries.length:1;for(var E=0;E<c;E++){var C=0,O=0;if((d=p?g.geometries[E]:g)!==null){x=d.coordinates;var I=d.type;switch(v=!r||I!=="Polygon"&&I!=="MultiPolygon"?0:1,I){case null:break;case"Point":if(n(x,y,T,C,O)===!1)return!1;y++,C++;break;case"LineString":case"MultiPoint":for(s=0;s<x.length;s++){if(n(x[s],y,T,C,O)===!1)return!1;y++,I==="MultiPoint"&&C++}I==="LineString"&&C++;break;case"Polygon":case"MultiLineString":for(s=0;s<x.length;s++){for(l=0;l<x[s].length-v;l++){if(n(x[s][l],y,T,C,O)===!1)return!1;y++}I==="MultiLineString"&&C++,I==="Polygon"&&O++}I==="Polygon"&&C++;break;case"MultiPolygon":for(s=0;s<x.length;s++){for(O=0,l=0;l<x[s].length;l++){for(u=0;u<x[s][l].length-v;u++){if(n(x[s][l][u],y,T,C,O)===!1)return!1;y++}O++}C++}break;case"GeometryCollection":for(s=0;s<d.geometries.length;s++)if(k(d.geometries[s],n,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,n){var r;switch(i.type){case"FeatureCollection":for(r=0;r<i.features.length&&n(i.features[r].properties,r)!==!1;r++);break;case"Feature":n(i.properties,0)}}function w(i,n){if(i.type==="Feature")n(i,0);else if(i.type==="FeatureCollection")for(var r=0;r<i.features.length&&n(i.features[r],r)!==!1;r++);}function b(i,n){var r,s,l,u,d,c,x,g,p,v,y=0,m=i.type==="FeatureCollection",_=i.type==="Feature",f=m?i.features.length:1;for(r=0;r<f;r++){for(c=m?i.features[r].geometry:_?i.geometry:i,g=m?i.features[r].properties:_?i.properties:{},p=m?i.features[r].bbox:_?i.bbox:void 0,v=m?i.features[r].id:_?i.id:void 0,d=(x=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,l=0;l<d;l++)if((u=x?c.geometries[l]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(n(u,y,g,p,v)===!1)return!1;break;case"GeometryCollection":for(s=0;s<u.geometries.length;s++)if(n(u.geometries[s],y,g,p,v)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(n(null,y,g,p,v)===!1)return!1;y++}}function h(i,n){b(i,function(r,s,l,u,d){var c,x=r===null?null:r.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return n(A.feature(r,l,{bbox:u,id:d}),s,0)!==!1&&void 0}switch(x){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var g=0;g<r.coordinates.length;g++){var p={type:c,coordinates:r.coordinates[g]};if(n(A.feature(p,l),s,g)===!1)return!1}})}function o(i,n){h(i,function(r,s,l){var u=0;if(r.geometry){var d=r.geometry.type;if(d!=="Point"&&d!=="MultiPoint"){var c,x=0,g=0,p=0;return k(r,function(v,y,m,_,f){if(c===void 0||s>x||_>g||f>p)return c=v,x=s,g=_,p=f,void(u=0);var S=A.lineString([c,v],r.properties);if(n(S,s,l,f,u)===!1)return!1;u++,c=v})!==!1&&void 0}}})}function t(i,n){if(!i)throw new Error("geojson is required");h(i,function(r,s,l){if(r.geometry!==null){var u=r.geometry.type,d=r.geometry.coordinates;switch(u){case"LineString":if(n(r,s,l,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<d.length;c++)if(n(A.lineString(d[c],r.properties),s,l,c)===!1)return!1}}})}P.coordEach=k,P.coordReduce=function(i,n,r,s){var l=r;return k(i,function(u,d,c,x,g){l=d===0&&r===void 0?u:n(l,u,d,c,x,g)},s),l},P.propEach=a,P.propReduce=function(i,n,r){var s=r;return a(i,function(l,u){s=u===0&&r===void 0?l:n(s,l,u)}),s},P.featureEach=w,P.featureReduce=function(i,n,r){var s=r;return w(i,function(l,u){s=u===0&&r===void 0?l:n(s,l,u)}),s},P.coordAll=function(i){var n=[];return k(i,function(r){n.push(r)}),n},P.geomEach=b,P.geomReduce=function(i,n,r){var s=r;return b(i,function(l,u,d,c,x){s=u===0&&r===void 0?l:n(s,l,u,d,c,x)}),s},P.flattenEach=h,P.flattenReduce=function(i,n,r){var s=r;return h(i,function(l,u,d){s=u===0&&d===0&&r===void 0?l:n(s,l,u,d)}),s},P.segmentEach=o,P.segmentReduce=function(i,n,r){var s=r,l=!1;return o(i,function(u,d,c,x,g){s=l===!1&&r===void 0?u:n(s,u,d,c,x,g),l=!0}),s},P.lineEach=t,P.lineReduce=function(i,n,r){var s=r;return t(i,function(l,u,d,c){s=u===0&&r===void 0?l:n(s,l,u,d,c)}),s},P.findSegment=function(i,n){if(n=n||{},!A.isObject(n))throw new Error("options is invalid");var r,s=n.featureIndex||0,l=n.multiFeatureIndex||0,u=n.geometryIndex||0,d=n.segmentIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":s<0&&(s=i.features.length+s),c=c||i.features[s].properties,r=i.features[s].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(r===null)return null;var x=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return d<0&&(d=x.length+d-1),A.lineString([x[d],x[d+1]],c,n);case"Polygon":return u<0&&(u=x.length+u),d<0&&(d=x[u].length+d-1),A.lineString([x[u][d],x[u][d+1]],c,n);case"MultiLineString":return l<0&&(l=x.length+l),d<0&&(d=x[l].length+d-1),A.lineString([x[l][d],x[l][d+1]],c,n);case"MultiPolygon":return l<0&&(l=x.length+l),u<0&&(u=x[l].length+u),d<0&&(d=x[l][u].length-d-1),A.lineString([x[l][u][d],x[l][u][d+1]],c,n)}throw new Error("geojson is invalid")},P.findPoint=function(i,n){if(n=n||{},!A.isObject(n))throw new Error("options is invalid");var r,s=n.featureIndex||0,l=n.multiFeatureIndex||0,u=n.geometryIndex||0,d=n.coordIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":s<0&&(s=i.features.length+s),c=c||i.features[s].properties,r=i.features[s].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(r===null)return null;var x=r.coordinates;switch(r.type){case"Point":return A.point(x,c,n);case"MultiPoint":return l<0&&(l=x.length+l),A.point(x[l],c,n);case"LineString":return d<0&&(d=x.length+d),A.point(x[d],c,n);case"Polygon":return u<0&&(u=x.length+u),d<0&&(d=x[u].length+d),A.point(x[u][d],c,n);case"MultiLineString":return l<0&&(l=x.length+l),d<0&&(d=x[l].length+d),A.point(x[l][d],c,n);case"MultiPolygon":return l<0&&(l=x.length+l),u<0&&(u=x[l].length+u),d<0&&(d=x[l][u].length-d),A.point(x[l][u][d],c,n)}throw new Error("geojson is invalid")}},42428:function(Y,P,e){Object.defineProperty(P,"__esModule",{value:!0});var A=e(84880);function k(a){var w=[1/0,1/0,-1/0,-1/0];return A.coordEach(a,function(b){w[0]>b[0]&&(w[0]=b[0]),w[1]>b[1]&&(w[1]=b[1]),w[2]<b[0]&&(w[2]=b[0]),w[3]<b[1]&&(w[3]=b[1])}),w}k.default=k,P.default=k},76796:function(Y,P){function e(s,l,u){u===void 0&&(u={});var d={type:"Feature"};return(u.id===0||u.id)&&(d.id=u.id),u.bbox&&(d.bbox=u.bbox),d.properties=l||{},d.geometry=s,d}function A(s,l,u){if(u===void 0&&(u={}),!s)throw new Error("coordinates is required");if(!Array.isArray(s))throw new Error("coordinates must be an Array");if(s.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!r(s[0])||!r(s[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:s},l,u)}function k(s,l,u){u===void 0&&(u={});for(var d=0,c=s;d<c.length;d++){var x=c[d];if(x.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<x[x.length-1].length;g++)if(x[x.length-1][g]!==x[0][g])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:s},l,u)}function a(s,l,u){if(u===void 0&&(u={}),s.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:s},l,u)}function w(s,l){l===void 0&&(l={});var u={type:"FeatureCollection"};return l.id&&(u.id=l.id),l.bbox&&(u.bbox=l.bbox),u.features=s,u}function b(s,l,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:s},l,u)}function h(s,l,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:s},l,u)}function o(s,l,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:s},l,u)}function t(s,l){l===void 0&&(l="kilometers");var u=P.factors[l];if(!u)throw new Error(l+" units is invalid");return s*u}function i(s,l){l===void 0&&(l="kilometers");var u=P.factors[l];if(!u)throw new Error(l+" units is invalid");return s/u}function n(s){return s%(2*Math.PI)*180/Math.PI}function r(s){return!isNaN(s)&&s!==null&&!Array.isArray(s)}Object.defineProperty(P,"__esModule",{value:!0}),P.earthRadius=63710088e-1,P.factors={centimeters:100*P.earthRadius,centimetres:100*P.earthRadius,degrees:P.earthRadius/111325,feet:3.28084*P.earthRadius,inches:39.37*P.earthRadius,kilometers:P.earthRadius/1e3,kilometres:P.earthRadius/1e3,meters:P.earthRadius,metres:P.earthRadius,miles:P.earthRadius/1609.344,millimeters:1e3*P.earthRadius,millimetres:1e3*P.earthRadius,nauticalmiles:P.earthRadius/1852,radians:1,yards:1.0936*P.earthRadius},P.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/P.earthRadius,yards:1.0936133},P.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},P.feature=e,P.geometry=function(s,l,u){switch(s){case"Point":return A(l).geometry;case"LineString":return a(l).geometry;case"Polygon":return k(l).geometry;case"MultiPoint":return h(l).geometry;case"MultiLineString":return b(l).geometry;case"MultiPolygon":return o(l).geometry;default:throw new Error(s+" is invalid")}},P.point=A,P.points=function(s,l,u){return u===void 0&&(u={}),w(s.map(function(d){return A(d,l)}),u)},P.polygon=k,P.polygons=function(s,l,u){return u===void 0&&(u={}),w(s.map(function(d){return k(d,l)}),u)},P.lineString=a,P.lineStrings=function(s,l,u){return u===void 0&&(u={}),w(s.map(function(d){return a(d,l)}),u)},P.featureCollection=w,P.multiLineString=b,P.multiPoint=h,P.multiPolygon=o,P.geometryCollection=function(s,l,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:s},l,u)},P.round=function(s,l){if(l===void 0&&(l=0),l&&!(l>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,l||0);return Math.round(s*u)/u},P.radiansToLength=t,P.lengthToRadians=i,P.lengthToDegrees=function(s,l){return n(i(s,l))},P.bearingToAzimuth=function(s){var l=s%360;return l<0&&(l+=360),l},P.radiansToDegrees=n,P.degreesToRadians=function(s){return s%360*Math.PI/180},P.convertLength=function(s,l,u){if(l===void 0&&(l="kilometers"),u===void 0&&(u="kilometers"),!(s>=0))throw new Error("length must be a positive number");return t(i(s,l),u)},P.convertArea=function(s,l,u){if(l===void 0&&(l="meters"),u===void 0&&(u="kilometers"),!(s>=0))throw new Error("area must be a positive number");var d=P.areaFactors[l];if(!d)throw new Error("invalid original units");var c=P.areaFactors[u];if(!c)throw new Error("invalid final units");return s/d*c},P.isNumber=r,P.isObject=function(s){return!!s&&s.constructor===Object},P.validateBBox=function(s){if(!s)throw new Error("bbox is required");if(!Array.isArray(s))throw new Error("bbox must be an Array");if(s.length!==4&&s.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");s.forEach(function(l){if(!r(l))throw new Error("bbox must only contain numbers")})},P.validateId=function(s){if(!s)throw new Error("id is required");if(["string","number"].indexOf(typeof s)===-1)throw new Error("id must be a number or a string")}},84880:function(Y,P,e){Object.defineProperty(P,"__esModule",{value:!0});var A=e(76796);function k(i,n,r){if(i!==null)for(var s,l,u,d,c,x,g,p,v=0,y=0,m=i.type,_=m==="FeatureCollection",f=m==="Feature",S=_?i.features.length:1,T=0;T<S;T++){c=(p=!!(g=_?i.features[T].geometry:f?i.geometry:i)&&g.type==="GeometryCollection")?g.geometries.length:1;for(var E=0;E<c;E++){var C=0,O=0;if((d=p?g.geometries[E]:g)!==null){x=d.coordinates;var I=d.type;switch(v=!r||I!=="Polygon"&&I!=="MultiPolygon"?0:1,I){case null:break;case"Point":if(n(x,y,T,C,O)===!1)return!1;y++,C++;break;case"LineString":case"MultiPoint":for(s=0;s<x.length;s++){if(n(x[s],y,T,C,O)===!1)return!1;y++,I==="MultiPoint"&&C++}I==="LineString"&&C++;break;case"Polygon":case"MultiLineString":for(s=0;s<x.length;s++){for(l=0;l<x[s].length-v;l++){if(n(x[s][l],y,T,C,O)===!1)return!1;y++}I==="MultiLineString"&&C++,I==="Polygon"&&O++}I==="Polygon"&&C++;break;case"MultiPolygon":for(s=0;s<x.length;s++){for(O=0,l=0;l<x[s].length;l++){for(u=0;u<x[s][l].length-v;u++){if(n(x[s][l][u],y,T,C,O)===!1)return!1;y++}O++}C++}break;case"GeometryCollection":for(s=0;s<d.geometries.length;s++)if(k(d.geometries[s],n,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,n){var r;switch(i.type){case"FeatureCollection":for(r=0;r<i.features.length&&n(i.features[r].properties,r)!==!1;r++);break;case"Feature":n(i.properties,0)}}function w(i,n){if(i.type==="Feature")n(i,0);else if(i.type==="FeatureCollection")for(var r=0;r<i.features.length&&n(i.features[r],r)!==!1;r++);}function b(i,n){var r,s,l,u,d,c,x,g,p,v,y=0,m=i.type==="FeatureCollection",_=i.type==="Feature",f=m?i.features.length:1;for(r=0;r<f;r++){for(c=m?i.features[r].geometry:_?i.geometry:i,g=m?i.features[r].properties:_?i.properties:{},p=m?i.features[r].bbox:_?i.bbox:void 0,v=m?i.features[r].id:_?i.id:void 0,d=(x=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,l=0;l<d;l++)if((u=x?c.geometries[l]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(n(u,y,g,p,v)===!1)return!1;break;case"GeometryCollection":for(s=0;s<u.geometries.length;s++)if(n(u.geometries[s],y,g,p,v)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(n(null,y,g,p,v)===!1)return!1;y++}}function h(i,n){b(i,function(r,s,l,u,d){var c,x=r===null?null:r.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return n(A.feature(r,l,{bbox:u,id:d}),s,0)!==!1&&void 0}switch(x){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var g=0;g<r.coordinates.length;g++){var p={type:c,coordinates:r.coordinates[g]};if(n(A.feature(p,l),s,g)===!1)return!1}})}function o(i,n){h(i,function(r,s,l){var u=0;if(r.geometry){var d=r.geometry.type;if(d!=="Point"&&d!=="MultiPoint"){var c,x=0,g=0,p=0;return k(r,function(v,y,m,_,f){if(c===void 0||s>x||_>g||f>p)return c=v,x=s,g=_,p=f,void(u=0);var S=A.lineString([c,v],r.properties);if(n(S,s,l,f,u)===!1)return!1;u++,c=v})!==!1&&void 0}}})}function t(i,n){if(!i)throw new Error("geojson is required");h(i,function(r,s,l){if(r.geometry!==null){var u=r.geometry.type,d=r.geometry.coordinates;switch(u){case"LineString":if(n(r,s,l,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<d.length;c++)if(n(A.lineString(d[c],r.properties),s,l,c)===!1)return!1}}})}P.coordEach=k,P.coordReduce=function(i,n,r,s){var l=r;return k(i,function(u,d,c,x,g){l=d===0&&r===void 0?u:n(l,u,d,c,x,g)},s),l},P.propEach=a,P.propReduce=function(i,n,r){var s=r;return a(i,function(l,u){s=u===0&&r===void 0?l:n(s,l,u)}),s},P.featureEach=w,P.featureReduce=function(i,n,r){var s=r;return w(i,function(l,u){s=u===0&&r===void 0?l:n(s,l,u)}),s},P.coordAll=function(i){var n=[];return k(i,function(r){n.push(r)}),n},P.geomEach=b,P.geomReduce=function(i,n,r){var s=r;return b(i,function(l,u,d,c,x){s=u===0&&r===void 0?l:n(s,l,u,d,c,x)}),s},P.flattenEach=h,P.flattenReduce=function(i,n,r){var s=r;return h(i,function(l,u,d){s=u===0&&d===0&&r===void 0?l:n(s,l,u,d)}),s},P.segmentEach=o,P.segmentReduce=function(i,n,r){var s=r,l=!1;return o(i,function(u,d,c,x,g){s=l===!1&&r===void 0?u:n(s,u,d,c,x,g),l=!0}),s},P.lineEach=t,P.lineReduce=function(i,n,r){var s=r;return t(i,function(l,u,d,c){s=u===0&&r===void 0?l:n(s,l,u,d,c)}),s},P.findSegment=function(i,n){if(n=n||{},!A.isObject(n))throw new Error("options is invalid");var r,s=n.featureIndex||0,l=n.multiFeatureIndex||0,u=n.geometryIndex||0,d=n.segmentIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":s<0&&(s=i.features.length+s),c=c||i.features[s].properties,r=i.features[s].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(r===null)return null;var x=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return d<0&&(d=x.length+d-1),A.lineString([x[d],x[d+1]],c,n);case"Polygon":return u<0&&(u=x.length+u),d<0&&(d=x[u].length+d-1),A.lineString([x[u][d],x[u][d+1]],c,n);case"MultiLineString":return l<0&&(l=x.length+l),d<0&&(d=x[l].length+d-1),A.lineString([x[l][d],x[l][d+1]],c,n);case"MultiPolygon":return l<0&&(l=x.length+l),u<0&&(u=x[l].length+u),d<0&&(d=x[l][u].length-d-1),A.lineString([x[l][u][d],x[l][u][d+1]],c,n)}throw new Error("geojson is invalid")},P.findPoint=function(i,n){if(n=n||{},!A.isObject(n))throw new Error("options is invalid");var r,s=n.featureIndex||0,l=n.multiFeatureIndex||0,u=n.geometryIndex||0,d=n.coordIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":s<0&&(s=i.features.length+s),c=c||i.features[s].properties,r=i.features[s].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(r===null)return null;var x=r.coordinates;switch(r.type){case"Point":return A.point(x,c,n);case"MultiPoint":return l<0&&(l=x.length+l),A.point(x[l],c,n);case"LineString":return d<0&&(d=x.length+d),A.point(x[d],c,n);case"Polygon":return u<0&&(u=x.length+u),d<0&&(d=x[u].length+d),A.point(x[u][d],c,n);case"MultiLineString":return l<0&&(l=x.length+l),d<0&&(d=x[l].length+d),A.point(x[l][d],c,n);case"MultiPolygon":return l<0&&(l=x.length+l),u<0&&(u=x[l].length+u),d<0&&(d=x[l][u].length-d),A.point(x[l][u][d],c,n)}throw new Error("geojson is invalid")}},77844:function(Y,P,e){Object.defineProperty(P,"__esModule",{value:!0});var A=e(43752),k=e(49840);P.default=function(a,w){w===void 0&&(w={});var b=0,h=0,o=0;return A.coordEach(a,function(t){b+=t[0],h+=t[1],o++}),k.point([b/o,h/o],w.properties)}},49840:function(Y,P){function e(s,l,u){u===void 0&&(u={});var d={type:"Feature"};return(u.id===0||u.id)&&(d.id=u.id),u.bbox&&(d.bbox=u.bbox),d.properties=l||{},d.geometry=s,d}function A(s,l,u){return u===void 0&&(u={}),e({type:"Point",coordinates:s},l,u)}function k(s,l,u){u===void 0&&(u={});for(var d=0,c=s;d<c.length;d++){var x=c[d];if(x.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<x[x.length-1].length;g++)if(x[x.length-1][g]!==x[0][g])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:s},l,u)}function a(s,l,u){if(u===void 0&&(u={}),s.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:s},l,u)}function w(s,l){l===void 0&&(l={});var u={type:"FeatureCollection"};return l.id&&(u.id=l.id),l.bbox&&(u.bbox=l.bbox),u.features=s,u}function b(s,l,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:s},l,u)}function h(s,l,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:s},l,u)}function o(s,l,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:s},l,u)}function t(s,l){l===void 0&&(l="kilometers");var u=P.factors[l];if(!u)throw new Error(l+" units is invalid");return s*u}function i(s,l){l===void 0&&(l="kilometers");var u=P.factors[l];if(!u)throw new Error(l+" units is invalid");return s/u}function n(s){return s%(2*Math.PI)*180/Math.PI}function r(s){return!isNaN(s)&&s!==null&&!Array.isArray(s)&&!/^\s*$/.test(s)}Object.defineProperty(P,"__esModule",{value:!0}),P.earthRadius=63710088e-1,P.factors={centimeters:100*P.earthRadius,centimetres:100*P.earthRadius,degrees:P.earthRadius/111325,feet:3.28084*P.earthRadius,inches:39.37*P.earthRadius,kilometers:P.earthRadius/1e3,kilometres:P.earthRadius/1e3,meters:P.earthRadius,metres:P.earthRadius,miles:P.earthRadius/1609.344,millimeters:1e3*P.earthRadius,millimetres:1e3*P.earthRadius,nauticalmiles:P.earthRadius/1852,radians:1,yards:P.earthRadius/1.0936},P.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/P.earthRadius,yards:.91441111923921},P.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},P.feature=e,P.geometry=function(s,l,u){switch(s){case"Point":return A(l).geometry;case"LineString":return a(l).geometry;case"Polygon":return k(l).geometry;case"MultiPoint":return h(l).geometry;case"MultiLineString":return b(l).geometry;case"MultiPolygon":return o(l).geometry;default:throw new Error(s+" is invalid")}},P.point=A,P.points=function(s,l,u){return u===void 0&&(u={}),w(s.map(function(d){return A(d,l)}),u)},P.polygon=k,P.polygons=function(s,l,u){return u===void 0&&(u={}),w(s.map(function(d){return k(d,l)}),u)},P.lineString=a,P.lineStrings=function(s,l,u){return u===void 0&&(u={}),w(s.map(function(d){return a(d,l)}),u)},P.featureCollection=w,P.multiLineString=b,P.multiPoint=h,P.multiPolygon=o,P.geometryCollection=function(s,l,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:s},l,u)},P.round=function(s,l){if(l===void 0&&(l=0),l&&!(l>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,l||0);return Math.round(s*u)/u},P.radiansToLength=t,P.lengthToRadians=i,P.lengthToDegrees=function(s,l){return n(i(s,l))},P.bearingToAzimuth=function(s){var l=s%360;return l<0&&(l+=360),l},P.radiansToDegrees=n,P.degreesToRadians=function(s){return s%360*Math.PI/180},P.convertLength=function(s,l,u){if(l===void 0&&(l="kilometers"),u===void 0&&(u="kilometers"),!(s>=0))throw new Error("length must be a positive number");return t(i(s,l),u)},P.convertArea=function(s,l,u){if(l===void 0&&(l="meters"),u===void 0&&(u="kilometers"),!(s>=0))throw new Error("area must be a positive number");var d=P.areaFactors[l];if(!d)throw new Error("invalid original units");var c=P.areaFactors[u];if(!c)throw new Error("invalid final units");return s/d*c},P.isNumber=r,P.isObject=function(s){return!!s&&s.constructor===Object},P.validateBBox=function(s){if(!s)throw new Error("bbox is required");if(!Array.isArray(s))throw new Error("bbox must be an Array");if(s.length!==4&&s.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");s.forEach(function(l){if(!r(l))throw new Error("bbox must only contain numbers")})},P.validateId=function(s){if(!s)throw new Error("id is required");if(["string","number"].indexOf(typeof s)===-1)throw new Error("id must be a number or a string")},P.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},P.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},P.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},P.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},P.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},P.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},P.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},43752:function(Y,P,e){Object.defineProperty(P,"__esModule",{value:!0});var A=e(49840);function k(i,n,r){if(i!==null)for(var s,l,u,d,c,x,g,p,v=0,y=0,m=i.type,_=m==="FeatureCollection",f=m==="Feature",S=_?i.features.length:1,T=0;T<S;T++){c=(p=!!(g=_?i.features[T].geometry:f?i.geometry:i)&&g.type==="GeometryCollection")?g.geometries.length:1;for(var E=0;E<c;E++){var C=0,O=0;if((d=p?g.geometries[E]:g)!==null){x=d.coordinates;var I=d.type;switch(v=!r||I!=="Polygon"&&I!=="MultiPolygon"?0:1,I){case null:break;case"Point":if(n(x,y,T,C,O)===!1)return!1;y++,C++;break;case"LineString":case"MultiPoint":for(s=0;s<x.length;s++){if(n(x[s],y,T,C,O)===!1)return!1;y++,I==="MultiPoint"&&C++}I==="LineString"&&C++;break;case"Polygon":case"MultiLineString":for(s=0;s<x.length;s++){for(l=0;l<x[s].length-v;l++){if(n(x[s][l],y,T,C,O)===!1)return!1;y++}I==="MultiLineString"&&C++,I==="Polygon"&&O++}I==="Polygon"&&C++;break;case"MultiPolygon":for(s=0;s<x.length;s++){for(O=0,l=0;l<x[s].length;l++){for(u=0;u<x[s][l].length-v;u++){if(n(x[s][l][u],y,T,C,O)===!1)return!1;y++}O++}C++}break;case"GeometryCollection":for(s=0;s<d.geometries.length;s++)if(k(d.geometries[s],n,r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,n){var r;switch(i.type){case"FeatureCollection":for(r=0;r<i.features.length&&n(i.features[r].properties,r)!==!1;r++);break;case"Feature":n(i.properties,0)}}function w(i,n){if(i.type==="Feature")n(i,0);else if(i.type==="FeatureCollection")for(var r=0;r<i.features.length&&n(i.features[r],r)!==!1;r++);}function b(i,n){var r,s,l,u,d,c,x,g,p,v,y=0,m=i.type==="FeatureCollection",_=i.type==="Feature",f=m?i.features.length:1;for(r=0;r<f;r++){for(c=m?i.features[r].geometry:_?i.geometry:i,g=m?i.features[r].properties:_?i.properties:{},p=m?i.features[r].bbox:_?i.bbox:void 0,v=m?i.features[r].id:_?i.id:void 0,d=(x=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,l=0;l<d;l++)if((u=x?c.geometries[l]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(n(u,y,g,p,v)===!1)return!1;break;case"GeometryCollection":for(s=0;s<u.geometries.length;s++)if(n(u.geometries[s],y,g,p,v)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(n(null,y,g,p,v)===!1)return!1;y++}}function h(i,n){b(i,function(r,s,l,u,d){var c,x=r===null?null:r.type;switch(x){case null:case"Point":case"LineString":case"Polygon":return n(A.feature(r,l,{bbox:u,id:d}),s,0)!==!1&&void 0}switch(x){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var g=0;g<r.coordinates.length;g++){var p={type:c,coordinates:r.coordinates[g]};if(n(A.feature(p,l),s,g)===!1)return!1}})}function o(i,n){h(i,function(r,s,l){var u=0;if(r.geometry){var d=r.geometry.type;if(d!=="Point"&&d!=="MultiPoint"){var c,x=0,g=0,p=0;return k(r,function(v,y,m,_,f){if(c===void 0||s>x||_>g||f>p)return c=v,x=s,g=_,p=f,void(u=0);var S=A.lineString([c,v],r.properties);if(n(S,s,l,f,u)===!1)return!1;u++,c=v})!==!1&&void 0}}})}function t(i,n){if(!i)throw new Error("geojson is required");h(i,function(r,s,l){if(r.geometry!==null){var u=r.geometry.type,d=r.geometry.coordinates;switch(u){case"LineString":if(n(r,s,l,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<d.length;c++)if(n(A.lineString(d[c],r.properties),s,l,c)===!1)return!1}}})}P.coordEach=k,P.coordReduce=function(i,n,r,s){var l=r;return k(i,function(u,d,c,x,g){l=d===0&&r===void 0?u:n(l,u,d,c,x,g)},s),l},P.propEach=a,P.propReduce=function(i,n,r){var s=r;return a(i,function(l,u){s=u===0&&r===void 0?l:n(s,l,u)}),s},P.featureEach=w,P.featureReduce=function(i,n,r){var s=r;return w(i,function(l,u){s=u===0&&r===void 0?l:n(s,l,u)}),s},P.coordAll=function(i){var n=[];return k(i,function(r){n.push(r)}),n},P.geomEach=b,P.geomReduce=function(i,n,r){var s=r;return b(i,function(l,u,d,c,x){s=u===0&&r===void 0?l:n(s,l,u,d,c,x)}),s},P.flattenEach=h,P.flattenReduce=function(i,n,r){var s=r;return h(i,function(l,u,d){s=u===0&&d===0&&r===void 0?l:n(s,l,u,d)}),s},P.segmentEach=o,P.segmentReduce=function(i,n,r){var s=r,l=!1;return o(i,function(u,d,c,x,g){s=l===!1&&r===void 0?u:n(s,u,d,c,x,g),l=!0}),s},P.lineEach=t,P.lineReduce=function(i,n,r){var s=r;return t(i,function(l,u,d,c){s=u===0&&r===void 0?l:n(s,l,u,d,c)}),s},P.findSegment=function(i,n){if(n=n||{},!A.isObject(n))throw new Error("options is invalid");var r,s=n.featureIndex||0,l=n.multiFeatureIndex||0,u=n.geometryIndex||0,d=n.segmentIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":s<0&&(s=i.features.length+s),c=c||i.features[s].properties,r=i.features[s].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(r===null)return null;var x=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return d<0&&(d=x.length+d-1),A.lineString([x[d],x[d+1]],c,n);case"Polygon":return u<0&&(u=x.length+u),d<0&&(d=x[u].length+d-1),A.lineString([x[u][d],x[u][d+1]],c,n);case"MultiLineString":return l<0&&(l=x.length+l),d<0&&(d=x[l].length+d-1),A.lineString([x[l][d],x[l][d+1]],c,n);case"MultiPolygon":return l<0&&(l=x.length+l),u<0&&(u=x[l].length+u),d<0&&(d=x[l][u].length-d-1),A.lineString([x[l][u][d],x[l][u][d+1]],c,n)}throw new Error("geojson is invalid")},P.findPoint=function(i,n){if(n=n||{},!A.isObject(n))throw new Error("options is invalid");var r,s=n.featureIndex||0,l=n.multiFeatureIndex||0,u=n.geometryIndex||0,d=n.coordIndex||0,c=n.properties;switch(i.type){case"FeatureCollection":s<0&&(s=i.features.length+s),c=c||i.features[s].properties,r=i.features[s].geometry;break;case"Feature":c=c||i.properties,r=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=i;break;default:throw new Error("geojson is invalid")}if(r===null)return null;var x=r.coordinates;switch(r.type){case"Point":return A.point(x,c,n);case"MultiPoint":return l<0&&(l=x.length+l),A.point(x[l],c,n);case"LineString":return d<0&&(d=x.length+d),A.point(x[d],c,n);case"Polygon":return u<0&&(u=x.length+u),d<0&&(d=x[u].length+d),A.point(x[u][d],c,n);case"MultiLineString":return l<0&&(l=x.length+l),d<0&&(d=x[l].length+d),A.point(x[l][d],c,n);case"MultiPolygon":return l<0&&(l=x.length+l),u<0&&(u=x[l].length+u),d<0&&(d=x[l][u].length-d),A.point(x[l][u][d],c,n)}throw new Error("geojson is invalid")}},49972:function(Y){Y.exports=function(P){var e=0,A=0,k=0,a=0;return P.map(function(w){var b=(w=w.slice())[0],h=b.toUpperCase();if(b!=h)switch(w[0]=h,b){case"a":w[6]+=k,w[7]+=a;break;case"v":w[1]+=a;break;case"h":w[1]+=k;break;default:for(var o=1;o<w.length;)w[o++]+=k,w[o++]+=a}switch(h){case"Z":k=e,a=A;break;case"H":k=w[1];break;case"V":a=w[1];break;case"M":k=e=w[1],a=A=w[2];break;default:k=w[w.length-2],a=w[w.length-1]}return w})}},76752:function(Y){Y.exports=function(P,e){if(!P||P.length==null)throw Error("Argument should be an array");e=e==null?1:Math.floor(e);for(var A=Array(2*e),k=0;k<e;k++){for(var a=-1/0,w=1/0,b=k,h=P.length;b<h;b+=e)P[b]>a&&(a=P[b]),P[b]<w&&(w=P[b]);A[k]=w,A[e+k]=a}return A}},10272:function(Y){Y.exports=function(P,e,A){if(typeof Array.prototype.findIndex=="function")return P.findIndex(e,A);if(typeof e!="function")throw new TypeError("predicate must be a function");var k=Object(P),a=k.length;if(a===0)return-1;for(var w=0;w<a;w++)if(e.call(A,k[w],w,k))return w;return-1}},71152:function(Y,P,e){var A=e(76752);Y.exports=function(k,a,w){if(!k||k.length==null)throw Error("Argument should be an array");a==null&&(a=1),w==null&&(w=A(k,a));for(var b=0;b<a;b++){var h=w[a+b],o=w[b],t=b,i=k.length;if(h===1/0&&o===-1/0)for(t=b;t<i;t+=a)k[t]=k[t]===h?1:k[t]===o?0:.5;else if(h===1/0)for(t=b;t<i;t+=a)k[t]=k[t]===h?1:0;else if(o===-1/0)for(t=b;t<i;t+=a)k[t]=k[t]===o?0:1;else{var n=h-o;for(t=b;t<i;t+=a)isNaN(k[t])||(k[t]=n===0?.5:(k[t]-o)/n)}}return k}},67752:function(Y){Y.exports=function(P,e){var A=typeof P=="number",k=typeof e=="number";A&&!k?(e=P,P=0):A||k||(P=0,e=0);var a=(e|=0)-(P|=0);if(a<0)throw new Error("array length must be positive");for(var w=new Array(a),b=0,h=P;b<a;b++,h++)w[b]=h;return w}},45408:function(Y,P,e){var A=e(4168);function k(D){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},k(D)}var a,w,b=e(86832).codes,h=b.ERR_AMBIGUOUS_ARGUMENT,o=b.ERR_INVALID_ARG_TYPE,t=b.ERR_INVALID_ARG_VALUE,i=b.ERR_INVALID_RETURN_VALUE,n=b.ERR_MISSING_ARGS,r=e(26144),s=e(35840).inspect,l=e(35840).types,u=l.isPromise,d=l.isRegExp,c=Object.assign?Object.assign:e(60964).assign,x=Object.is?Object.is:e(39896);function g(){var D=e(25116);a=D.isDeepEqual,w=D.isDeepStrictEqual}var p=!1,v=Y.exports=f,y={};function m(D){throw D.message instanceof Error?D.message:new r(D)}function _(D,B,Z,F){if(!Z){var j=!1;if(B===0)j=!0,F="No value argument passed to `assert.ok()`";else if(F instanceof Error)throw F;var V=new r({actual:Z,expected:!0,message:F,operator:"==",stackStartFn:D});throw V.generatedMessage=j,V}}function f(){for(var D=arguments.length,B=new Array(D),Z=0;Z<D;Z++)B[Z]=arguments[Z];_.apply(void 0,[f,B.length].concat(B))}v.fail=function D(B,Z,F,j,V){var te,Q=arguments.length;if(Q===0?te="Failed":Q===1?(F=B,B=void 0):(p===!1&&(p=!0,(A.emitWarning?A.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),Q===2&&(j="!=")),F instanceof Error)throw F;var $={actual:B,expected:Z,operator:j===void 0?"fail":j,stackStartFn:V||D};F!==void 0&&($.message=F);var G=new r($);throw te&&(G.message=te,G.generatedMessage=!0),G},v.AssertionError=r,v.ok=f,v.equal=function D(B,Z,F){if(arguments.length<2)throw new n("actual","expected");B!=Z&&m({actual:B,expected:Z,message:F,operator:"==",stackStartFn:D})},v.notEqual=function D(B,Z,F){if(arguments.length<2)throw new n("actual","expected");B==Z&&m({actual:B,expected:Z,message:F,operator:"!=",stackStartFn:D})},v.deepEqual=function D(B,Z,F){if(arguments.length<2)throw new n("actual","expected");a===void 0&&g(),a(B,Z)||m({actual:B,expected:Z,message:F,operator:"deepEqual",stackStartFn:D})},v.notDeepEqual=function D(B,Z,F){if(arguments.length<2)throw new n("actual","expected");a===void 0&&g(),a(B,Z)&&m({actual:B,expected:Z,message:F,operator:"notDeepEqual",stackStartFn:D})},v.deepStrictEqual=function D(B,Z,F){if(arguments.length<2)throw new n("actual","expected");a===void 0&&g(),w(B,Z)||m({actual:B,expected:Z,message:F,operator:"deepStrictEqual",stackStartFn:D})},v.notDeepStrictEqual=function D(B,Z,F){if(arguments.length<2)throw new n("actual","expected");a===void 0&&g(),w(B,Z)&&m({actual:B,expected:Z,message:F,operator:"notDeepStrictEqual",stackStartFn:D})},v.strictEqual=function D(B,Z,F){if(arguments.length<2)throw new n("actual","expected");x(B,Z)||m({actual:B,expected:Z,message:F,operator:"strictEqual",stackStartFn:D})},v.notStrictEqual=function D(B,Z,F){if(arguments.length<2)throw new n("actual","expected");x(B,Z)&&m({actual:B,expected:Z,message:F,operator:"notStrictEqual",stackStartFn:D})};var S=function D(B,Z,F){var j=this;(function(V,te){if(!(V instanceof te))throw new TypeError("Cannot call a class as a function")})(this,D),Z.forEach(function(V){V in B&&(F!==void 0&&typeof F[V]=="string"&&d(B[V])&&B[V].test(F[V])?j[V]=F[V]:j[V]=B[V])})};function T(D,B,Z,F){if(typeof B!="function"){if(d(B))return B.test(D);if(arguments.length===2)throw new o("expected",["Function","RegExp"],B);if(k(D)!=="object"||D===null){var j=new r({actual:D,expected:B,message:Z,operator:"deepStrictEqual",stackStartFn:F});throw j.operator=F.name,j}var V=Object.keys(B);if(B instanceof Error)V.push("name","message");else if(V.length===0)throw new t("error",B,"may not be an empty object");return a===void 0&&g(),V.forEach(function(te){typeof D[te]=="string"&&d(B[te])&&B[te].test(D[te])||function(Q,$,G,X,J,ne){if(!(G in Q)||!w(Q[G],$[G])){if(!X){var ie=new S(Q,J),ae=new S($,J,Q),le=new r({actual:ie,expected:ae,operator:"deepStrictEqual",stackStartFn:ne});throw le.actual=Q,le.expected=$,le.operator=ne.name,le}m({actual:Q,expected:$,message:X,operator:ne.name,stackStartFn:ne})}}(D,B,te,Z,V,F)}),!0}return B.prototype!==void 0&&D instanceof B||!Error.isPrototypeOf(B)&&B.call({},D)===!0}function E(D){if(typeof D!="function")throw new o("fn","Function",D);try{D()}catch(B){return B}return y}function C(D){return u(D)||D!==null&&k(D)==="object"&&typeof D.then=="function"&&typeof D.catch=="function"}function O(D){return Promise.resolve().then(function(){var B;if(typeof D=="function"){if(!C(B=D()))throw new i("instance of Promise","promiseFn",B)}else{if(!C(D))throw new o("promiseFn",["Function","Promise"],D);B=D}return Promise.resolve().then(function(){return B}).then(function(){return y}).catch(function(Z){return Z})})}function I(D,B,Z,F){if(typeof Z=="string"){if(arguments.length===4)throw new o("error",["Object","Error","Function","RegExp"],Z);if(k(B)==="object"&&B!==null){if(B.message===Z)throw new h("error/message",'The error message "'.concat(B.message,'" is identical to the message.'))}else if(B===Z)throw new h("error/message",'The error "'.concat(B,'" is identical to the message.'));F=Z,Z=void 0}else if(Z!=null&&k(Z)!=="object"&&typeof Z!="function")throw new o("error",["Object","Error","Function","RegExp"],Z);if(B===y){var j="";Z&&Z.name&&(j+=" (".concat(Z.name,")")),j+=F?": ".concat(F):".";var V=D.name==="rejects"?"rejection":"exception";m({actual:void 0,expected:Z,operator:D.name,message:"Missing expected ".concat(V).concat(j),stackStartFn:D})}if(Z&&!T(B,Z,F,D))throw B}function z(D,B,Z,F){if(B!==y){if(typeof Z=="string"&&(F=Z,Z=void 0),!Z||T(B,Z)){var j=F?": ".concat(F):".",V=D.name==="doesNotReject"?"rejection":"exception";m({actual:B,expected:Z,operator:D.name,message:"Got unwanted ".concat(V).concat(j,`
`)+'Actual message: "'.concat(B&&B.message,'"'),stackStartFn:D})}throw B}}function U(){for(var D=arguments.length,B=new Array(D),Z=0;Z<D;Z++)B[Z]=arguments[Z];_.apply(void 0,[U,B.length].concat(B))}v.throws=function D(B){for(var Z=arguments.length,F=new Array(Z>1?Z-1:0),j=1;j<Z;j++)F[j-1]=arguments[j];I.apply(void 0,[D,E(B)].concat(F))},v.rejects=function D(B){for(var Z=arguments.length,F=new Array(Z>1?Z-1:0),j=1;j<Z;j++)F[j-1]=arguments[j];return O(B).then(function(V){return I.apply(void 0,[D,V].concat(F))})},v.doesNotThrow=function D(B){for(var Z=arguments.length,F=new Array(Z>1?Z-1:0),j=1;j<Z;j++)F[j-1]=arguments[j];z.apply(void 0,[D,E(B)].concat(F))},v.doesNotReject=function D(B){for(var Z=arguments.length,F=new Array(Z>1?Z-1:0),j=1;j<Z;j++)F[j-1]=arguments[j];return O(B).then(function(V){return z.apply(void 0,[D,V].concat(F))})},v.ifError=function D(B){if(B!=null){var Z="ifError got unwanted exception: ";k(B)==="object"&&typeof B.message=="string"?B.message.length===0&&B.constructor?Z+=B.constructor.name:Z+=B.message:Z+=s(B);var F=new r({actual:B,expected:null,operator:"ifError",message:Z,stackStartFn:D}),j=B.stack;if(typeof j=="string"){var V=j.split(`
`);V.shift();for(var te=F.stack.split(`
`),Q=0;Q<V.length;Q++){var $=te.indexOf(V[Q]);if($!==-1){te=te.slice(0,$);break}}F.stack="".concat(te.join(`
`),`
`).concat(V.join(`
`))}throw F}},v.strict=c(U,v,{equal:v.strictEqual,deepEqual:v.deepStrictEqual,notEqual:v.notStrictEqual,notDeepEqual:v.notDeepStrictEqual}),v.strict.strict=v.strict},26144:function(Y,P,e){var A=e(4168);function k(m,_,f){return _ in m?Object.defineProperty(m,_,{value:f,enumerable:!0,configurable:!0,writable:!0}):m[_]=f,m}function a(m,_){for(var f=0;f<_.length;f++){var S=_[f];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}function w(m,_){return!_||n(_)!=="object"&&typeof _!="function"?b(m):_}function b(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function h(m){var _=typeof Map=="function"?new Map:void 0;return h=function(f){if(f===null||(S=f,Function.toString.call(S).indexOf("[native code]")===-1))return f;var S;if(typeof f!="function")throw new TypeError("Super expression must either be null or a function");if(_!==void 0){if(_.has(f))return _.get(f);_.set(f,T)}function T(){return o(f,arguments,i(this).constructor)}return T.prototype=Object.create(f.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),t(T,f)},h(m)}function o(m,_,f){return o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(S,T,E){var C=[null];C.push.apply(C,T);var O=new(Function.bind.apply(S,C));return E&&t(O,E.prototype),O},o.apply(null,arguments)}function t(m,_){return t=Object.setPrototypeOf||function(f,S){return f.__proto__=S,f},t(m,_)}function i(m){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)},i(m)}function n(m){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},n(m)}var r=e(35840).inspect,s=e(86832).codes.ERR_INVALID_ARG_TYPE;function l(m,_,f){return(f===void 0||f>m.length)&&(f=m.length),m.substring(f-_.length,f)===_}var u="",d="",c="",x="",g={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function p(m){var _=Object.keys(m),f=Object.create(Object.getPrototypeOf(m));return _.forEach(function(S){f[S]=m[S]}),Object.defineProperty(f,"message",{value:m.message}),f}function v(m){return r(m,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var y=function(m){function _(T){var E;if(function(te,Q){if(!(te instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,_),n(T)!=="object"||T===null)throw new s("options","Object",T);var C=T.message,O=T.operator,I=T.stackStartFn,z=T.actual,U=T.expected,D=Error.stackTraceLimit;if(Error.stackTraceLimit=0,C!=null)E=w(this,i(_).call(this,String(C)));else if(A.stderr&&A.stderr.isTTY&&(A.stderr&&A.stderr.getColorDepth&&A.stderr.getColorDepth()!==1?(u="\x1B[34m",d="\x1B[32m",x="\x1B[39m",c="\x1B[31m"):(u="",d="",x="",c="")),n(z)==="object"&&z!==null&&n(U)==="object"&&U!==null&&"stack"in z&&z instanceof Error&&"stack"in U&&U instanceof Error&&(z=p(z),U=p(U)),O==="deepStrictEqual"||O==="strictEqual")E=w(this,i(_).call(this,function(te,Q,$){var G="",X="",J=0,ne="",ie=!1,ae=v(te),le=ae.split(`
`),ce=v(Q).split(`
`),pe=0,ge="";if($==="strictEqual"&&n(te)==="object"&&n(Q)==="object"&&te!==null&&Q!==null&&($="strictEqualObject"),le.length===1&&ce.length===1&&le[0]!==ce[0]){var me=le[0].length+ce[0].length;if(me<=10){if(!(n(te)==="object"&&te!==null||n(Q)==="object"&&Q!==null||te===0&&Q===0))return"".concat(g[$],`

`)+"".concat(le[0]," !== ").concat(ce[0],`
`)}else if($!=="strictEqualObject"&&me<(A.stderr&&A.stderr.isTTY?A.stderr.columns:80)){for(;le[0][pe]===ce[0][pe];)pe++;pe>2&&(ge=`
  `.concat(function(Oe,he){if(he=Math.floor(he),Oe.length==0||he==0)return"";var xe=Oe.length*he;for(he=Math.floor(Math.log(he)/Math.log(2));he;)Oe+=Oe,he--;return Oe+Oe.substring(0,xe-Oe.length)}(" ",pe),"^"),pe=0)}}for(var ve=le[le.length-1],Me=ce[ce.length-1];ve===Me&&(pe++<2?ne=`
  `.concat(ve).concat(ne):G=ve,le.pop(),ce.pop(),le.length!==0&&ce.length!==0);)ve=le[le.length-1],Me=ce[ce.length-1];var _e=Math.max(le.length,ce.length);if(_e===0){var we=ae.split(`
`);if(we.length>30)for(we[26]="".concat(u,"...").concat(x);we.length>27;)we.pop();return"".concat(g.notIdentical,`

`).concat(we.join(`
`),`
`)}pe>3&&(ne=`
`.concat(u,"...").concat(x).concat(ne),ie=!0),G!==""&&(ne=`
  `.concat(G).concat(ne),G="");var oe=0,se=g[$]+`
`.concat(d,"+ actual").concat(x," ").concat(c,"- expected").concat(x),de=" ".concat(u,"...").concat(x," Lines skipped");for(pe=0;pe<_e;pe++){var Ee=pe-J;if(le.length<pe+1)Ee>1&&pe>2&&(Ee>4?(X+=`
`.concat(u,"...").concat(x),ie=!0):Ee>3&&(X+=`
  `.concat(ce[pe-2]),oe++),X+=`
  `.concat(ce[pe-1]),oe++),J=pe,G+=`
`.concat(c,"-").concat(x," ").concat(ce[pe]),oe++;else if(ce.length<pe+1)Ee>1&&pe>2&&(Ee>4?(X+=`
`.concat(u,"...").concat(x),ie=!0):Ee>3&&(X+=`
  `.concat(le[pe-2]),oe++),X+=`
  `.concat(le[pe-1]),oe++),J=pe,X+=`
`.concat(d,"+").concat(x," ").concat(le[pe]),oe++;else{var Te=ce[pe],Se=le[pe],Le=Se!==Te&&(!l(Se,",")||Se.slice(0,-1)!==Te);Le&&l(Te,",")&&Te.slice(0,-1)===Se&&(Le=!1,Se+=","),Le?(Ee>1&&pe>2&&(Ee>4?(X+=`
`.concat(u,"...").concat(x),ie=!0):Ee>3&&(X+=`
  `.concat(le[pe-2]),oe++),X+=`
  `.concat(le[pe-1]),oe++),J=pe,X+=`
`.concat(d,"+").concat(x," ").concat(Se),G+=`
`.concat(c,"-").concat(x," ").concat(Te),oe+=2):(X+=G,G="",Ee!==1&&pe!==0||(X+=`
  `.concat(Se),oe++))}if(oe>20&&pe<_e-2)return"".concat(se).concat(de,`
`).concat(X,`
`).concat(u,"...").concat(x).concat(G,`
`)+"".concat(u,"...").concat(x)}return"".concat(se).concat(ie?de:"",`
`).concat(X).concat(G).concat(ne).concat(ge)}(z,U,O)));else if(O==="notDeepStrictEqual"||O==="notStrictEqual"){var B=g[O],Z=v(z).split(`
`);if(O==="notStrictEqual"&&n(z)==="object"&&z!==null&&(B=g.notStrictEqualObject),Z.length>30)for(Z[26]="".concat(u,"...").concat(x);Z.length>27;)Z.pop();E=Z.length===1?w(this,i(_).call(this,"".concat(B," ").concat(Z[0]))):w(this,i(_).call(this,"".concat(B,`

`).concat(Z.join(`
`),`
`)))}else{var F=v(z),j="",V=g[O];O==="notDeepEqual"||O==="notEqual"?(F="".concat(g[O],`

`).concat(F)).length>1024&&(F="".concat(F.slice(0,1021),"...")):(j="".concat(v(U)),F.length>512&&(F="".concat(F.slice(0,509),"...")),j.length>512&&(j="".concat(j.slice(0,509),"...")),O==="deepEqual"||O==="equal"?F="".concat(V,`

`).concat(F,`

should equal

`):j=" ".concat(O," ").concat(j)),E=w(this,i(_).call(this,"".concat(F).concat(j)))}return Error.stackTraceLimit=D,E.generatedMessage=!C,Object.defineProperty(b(E),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),E.code="ERR_ASSERTION",E.actual=z,E.expected=U,E.operator=O,Error.captureStackTrace&&Error.captureStackTrace(b(E),I),E.stack,E.name="AssertionError",w(E)}var f,S;return function(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),E&&t(T,E)}(_,m),f=_,S=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:r.custom,value:function(T,E){return r(this,function(C){for(var O=1;O<arguments.length;O++){var I=arguments[O]!=null?arguments[O]:{},z=Object.keys(I);typeof Object.getOwnPropertySymbols=="function"&&(z=z.concat(Object.getOwnPropertySymbols(I).filter(function(U){return Object.getOwnPropertyDescriptor(I,U).enumerable}))),z.forEach(function(U){k(C,U,I[U])})}return C}({},E,{customInspect:!1,depth:0}))}}],S&&a(f.prototype,S),_}(h(Error));Y.exports=y},86832:function(Y,P,e){function A(i){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},A(i)}function k(i){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},k(i)}function a(i,n){return a=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},a(i,n)}var w,b,h={};function o(i,n,r){r||(r=Error);var s=function(l){function u(d,c,x){var g;return function(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}(this,u),g=function(p,v){return!v||A(v)!=="object"&&typeof v!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(p):v}(this,k(u).call(this,function(p,v,y){return typeof n=="string"?n:n(p,v,y)}(d,c,x))),g.code=i,g}return function(d,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(c&&c.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),c&&a(d,c)}(u,l),u}(r);h[i]=s}function t(i,n){if(Array.isArray(i)){var r=i.length;return i=i.map(function(s){return String(s)}),r>2?"one of ".concat(n," ").concat(i.slice(0,r-1).join(", "),", or ")+i[r-1]:r===2?"one of ".concat(n," ").concat(i[0]," or ").concat(i[1]):"of ".concat(n," ").concat(i[0])}return"of ".concat(n," ").concat(String(i))}o("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),o("ERR_INVALID_ARG_TYPE",function(i,n,r){var s,l,u,d,c;if(w===void 0&&(w=e(45408)),w(typeof i=="string","'name' must be a string"),typeof n=="string"&&(l="not ",n.substr(0,4)===l)?(s="must not be",n=n.replace(/^not /,"")):s="must be",function(g,p,v){return(v===void 0||v>g.length)&&(v=g.length),g.substring(v-9,v)===p}(i," argument"))u="The ".concat(i," ").concat(s," ").concat(t(n,"type"));else{var x=(typeof c!="number"&&(c=0),c+1>(d=i).length||d.indexOf(".",c)===-1?"argument":"property");u='The "'.concat(i,'" ').concat(x," ").concat(s," ").concat(t(n,"type"))}return u+". Received type ".concat(A(r))},TypeError),o("ERR_INVALID_ARG_VALUE",function(i,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";b===void 0&&(b=e(35840));var s=b.inspect(n);return s.length>128&&(s="".concat(s.slice(0,128),"...")),"The argument '".concat(i,"' ").concat(r,". Received ").concat(s)},TypeError),o("ERR_INVALID_RETURN_VALUE",function(i,n,r){var s;return s=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(A(r)),"Expected ".concat(i,' to be returned from the "').concat(n,'"')+" function but got ".concat(s,".")},TypeError),o("ERR_MISSING_ARGS",function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];w===void 0&&(w=e(45408)),w(n.length>0,"At least one arg needs to be specified");var s="The ",l=n.length;switch(n=n.map(function(u){return'"'.concat(u,'"')}),l){case 1:s+="".concat(n[0]," argument");break;case 2:s+="".concat(n[0]," and ").concat(n[1]," arguments");break;default:s+=n.slice(0,l-1).join(", "),s+=", and ".concat(n[l-1]," arguments")}return"".concat(s," must be specified")},TypeError),Y.exports.codes=h},25116:function(Y,P,e){function A(J,ne){return function(ie){if(Array.isArray(ie))return ie}(J)||function(ie,ae){var le=[],ce=!0,pe=!1,ge=void 0;try{for(var me,ve=ie[Symbol.iterator]();!(ce=(me=ve.next()).done)&&(le.push(me.value),!ae||le.length!==ae);ce=!0);}catch(Me){pe=!0,ge=Me}finally{try{ce||ve.return==null||ve.return()}finally{if(pe)throw ge}}return le}(J,ne)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(J){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},k(J)}var a=/a/g.flags!==void 0,w=function(J){var ne=[];return J.forEach(function(ie){return ne.push(ie)}),ne},b=function(J){var ne=[];return J.forEach(function(ie,ae){return ne.push([ae,ie])}),ne},h=Object.is?Object.is:e(39896),o=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},t=Number.isNaN?Number.isNaN:e(1560);function i(J){return J.call.bind(J)}var n=i(Object.prototype.hasOwnProperty),r=i(Object.prototype.propertyIsEnumerable),s=i(Object.prototype.toString),l=e(35840).types,u=l.isAnyArrayBuffer,d=l.isArrayBufferView,c=l.isDate,x=l.isMap,g=l.isRegExp,p=l.isSet,v=l.isNativeError,y=l.isBoxedPrimitive,m=l.isNumberObject,_=l.isStringObject,f=l.isBooleanObject,S=l.isBigIntObject,T=l.isSymbolObject,E=l.isFloat32Array,C=l.isFloat64Array;function O(J){if(J.length===0||J.length>10)return!0;for(var ne=0;ne<J.length;ne++){var ie=J.charCodeAt(ne);if(ie<48||ie>57)return!0}return J.length===10&&J>=Math.pow(2,32)}function I(J){return Object.keys(J).filter(O).concat(o(J).filter(Object.prototype.propertyIsEnumerable.bind(J)))}function z(J,ne){if(J===ne)return 0;for(var ie=J.length,ae=ne.length,le=0,ce=Math.min(ie,ae);le<ce;++le)if(J[le]!==ne[le]){ie=J[le],ae=ne[le];break}return ie<ae?-1:ae<ie?1:0}var U=0,D=1,B=2,Z=3;function F(J,ne,ie,ae){if(J===ne)return J!==0||!ie||h(J,ne);if(ie){if(k(J)!=="object")return typeof J=="number"&&t(J)&&t(ne);if(k(ne)!=="object"||J===null||ne===null||Object.getPrototypeOf(J)!==Object.getPrototypeOf(ne))return!1}else{if(J===null||k(J)!=="object")return(ne===null||k(ne)!=="object")&&J==ne;if(ne===null||k(ne)!=="object")return!1}var le,ce,pe,ge,me=s(J);if(me!==s(ne))return!1;if(Array.isArray(J)){if(J.length!==ne.length)return!1;var ve=I(J),Me=I(ne);return ve.length===Me.length&&V(J,ne,ie,ae,D,ve)}if(me==="[object Object]"&&(!x(J)&&x(ne)||!p(J)&&p(ne)))return!1;if(c(J)){if(!c(ne)||Date.prototype.getTime.call(J)!==Date.prototype.getTime.call(ne))return!1}else if(g(J)){if(!g(ne)||(pe=J,ge=ne,!(a?pe.source===ge.source&&pe.flags===ge.flags:RegExp.prototype.toString.call(pe)===RegExp.prototype.toString.call(ge))))return!1}else if(v(J)||J instanceof Error){if(J.message!==ne.message||J.name!==ne.name)return!1}else{if(d(J)){if(ie||!E(J)&&!C(J)){if(!function(oe,se){return oe.byteLength===se.byteLength&&z(new Uint8Array(oe.buffer,oe.byteOffset,oe.byteLength),new Uint8Array(se.buffer,se.byteOffset,se.byteLength))===0}(J,ne))return!1}else if(!function(oe,se){if(oe.byteLength!==se.byteLength)return!1;for(var de=0;de<oe.byteLength;de++)if(oe[de]!==se[de])return!1;return!0}(J,ne))return!1;var _e=I(J),we=I(ne);return _e.length===we.length&&V(J,ne,ie,ae,U,_e)}if(p(J))return!(!p(ne)||J.size!==ne.size)&&V(J,ne,ie,ae,B);if(x(J))return!(!x(ne)||J.size!==ne.size)&&V(J,ne,ie,ae,Z);if(u(J)){if(ce=ne,(le=J).byteLength!==ce.byteLength||z(new Uint8Array(le),new Uint8Array(ce))!==0)return!1}else if(y(J)&&!function(oe,se){return m(oe)?m(se)&&h(Number.prototype.valueOf.call(oe),Number.prototype.valueOf.call(se)):_(oe)?_(se)&&String.prototype.valueOf.call(oe)===String.prototype.valueOf.call(se):f(oe)?f(se)&&Boolean.prototype.valueOf.call(oe)===Boolean.prototype.valueOf.call(se):S(oe)?S(se)&&BigInt.prototype.valueOf.call(oe)===BigInt.prototype.valueOf.call(se):T(se)&&Symbol.prototype.valueOf.call(oe)===Symbol.prototype.valueOf.call(se)}(J,ne))return!1}return V(J,ne,ie,ae,U)}function j(J,ne){return ne.filter(function(ie){return r(J,ie)})}function V(J,ne,ie,ae,le,ce){if(arguments.length===5){ce=Object.keys(J);var pe=Object.keys(ne);if(ce.length!==pe.length)return!1}for(var ge=0;ge<ce.length;ge++)if(!n(ne,ce[ge]))return!1;if(ie&&arguments.length===5){var me=o(J);if(me.length!==0){var ve=0;for(ge=0;ge<me.length;ge++){var Me=me[ge];if(r(J,Me)){if(!r(ne,Me))return!1;ce.push(Me),ve++}else if(r(ne,Me))return!1}var _e=o(ne);if(me.length!==_e.length&&j(ne,_e).length!==ve)return!1}else{var we=o(ne);if(we.length!==0&&j(ne,we).length!==0)return!1}}if(ce.length===0&&(le===U||le===D&&J.length===0||J.size===0))return!0;if(ae===void 0)ae={val1:new Map,val2:new Map,position:0};else{var oe=ae.val1.get(J);if(oe!==void 0){var se=ae.val2.get(ne);if(se!==void 0)return oe===se}ae.position++}ae.val1.set(J,ae.position),ae.val2.set(ne,ae.position);var de=function(Ee,Te,Se,Le,Oe,he){var xe=0;if(he===B){if(!function(Ie,He,qe,Je){for(var st=null,it=w(Ie),vt=0;vt<it.length;vt++){var _t=it[vt];if(k(_t)==="object"&&_t!==null)st===null&&(st=new Set),st.add(_t);else if(!He.has(_t)){if(qe||!$(Ie,He,_t))return!1;st===null&&(st=new Set),st.add(_t)}}if(st!==null){for(var xt=w(He),et=0;et<xt.length;et++){var nt=xt[et];if(k(nt)==="object"&&nt!==null){if(!te(st,nt,qe,Je))return!1}else if(!qe&&!Ie.has(nt)&&!te(st,nt,qe,Je))return!1}return st.size===0}return!0}(Ee,Te,Se,Oe))return!1}else if(he===Z){if(!function(Ie,He,qe,Je){for(var st=null,it=b(Ie),vt=0;vt<it.length;vt++){var _t=A(it[vt],2),xt=_t[0],et=_t[1];if(k(xt)==="object"&&xt!==null)st===null&&(st=new Set),st.add(xt);else{var nt=He.get(xt);if(nt===void 0&&!He.has(xt)||!F(et,nt,qe,Je)){if(qe||!G(Ie,He,xt,et,Je))return!1;st===null&&(st=new Set),st.add(xt)}}}if(st!==null){for(var Mt=b(He),zt=0;zt<Mt.length;zt++){var Ft=A(Mt[zt],2),Rt=(xt=Ft[0],Ft[1]);if(k(xt)==="object"&&xt!==null){if(!X(st,Ie,xt,Rt,qe,Je))return!1}else if(!(qe||Ie.has(xt)&&F(Ie.get(xt),Rt,!1,Je)||X(st,Ie,xt,Rt,!1,Je)))return!1}return st.size===0}return!0}(Ee,Te,Se,Oe))return!1}else if(he===D)for(;xe<Ee.length;xe++){if(!n(Ee,xe)){if(n(Te,xe))return!1;for(var ke=Object.keys(Ee);xe<ke.length;xe++){var Re=ke[xe];if(!n(Te,Re)||!F(Ee[Re],Te[Re],Se,Oe))return!1}return ke.length===Object.keys(Te).length}if(!n(Te,xe)||!F(Ee[xe],Te[xe],Se,Oe))return!1}for(xe=0;xe<Le.length;xe++){var ze=Le[xe];if(!F(Ee[ze],Te[ze],Se,Oe))return!1}return!0}(J,ne,ie,ce,ae,le);return ae.val1.delete(J),ae.val2.delete(ne),de}function te(J,ne,ie,ae){for(var le=w(J),ce=0;ce<le.length;ce++){var pe=le[ce];if(F(ne,pe,ie,ae))return J.delete(pe),!0}return!1}function Q(J){switch(k(J)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":J=+J;case"number":if(t(J))return!1}return!0}function $(J,ne,ie){var ae=Q(ie);return ae!=null?ae:ne.has(ae)&&!J.has(ae)}function G(J,ne,ie,ae,le){var ce=Q(ie);if(ce!=null)return ce;var pe=ne.get(ce);return!(pe===void 0&&!ne.has(ce)||!F(ae,pe,!1,le))&&!J.has(ce)&&F(ae,pe,!1,le)}function X(J,ne,ie,ae,le,ce){for(var pe=w(J),ge=0;ge<pe.length;ge++){var me=pe[ge];if(F(ie,me,le,ce)&&F(ae,ne.get(me),le,ce))return J.delete(me),!0}return!1}Y.exports={isDeepEqual:function(J,ne){return F(J,ne,!1)},isDeepStrictEqual:function(J,ne){return F(J,ne,!0)}}},83160:function(Y,P,e){e.r(P),e.d(P,{decode:function(){return b},encode:function(){return w}});for(var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=typeof Uint8Array>"u"?[]:new Uint8Array(256),a=0;a<64;a++)k[A.charCodeAt(a)]=a;var w=function(h){var o,t=new Uint8Array(h),i=t.length,n="";for(o=0;o<i;o+=3)n+=A[t[o]>>2],n+=A[(3&t[o])<<4|t[o+1]>>4],n+=A[(15&t[o+1])<<2|t[o+2]>>6],n+=A[63&t[o+2]];return i%3==2?n=n.substring(0,n.length-1)+"=":i%3==1&&(n=n.substring(0,n.length-2)+"=="),n},b=function(h){var o,t,i,n,r,s=.75*h.length,l=h.length,u=0;h[h.length-1]==="="&&(s--,h[h.length-2]==="="&&s--);var d=new ArrayBuffer(s),c=new Uint8Array(d);for(o=0;o<l;o+=4)t=k[h.charCodeAt(o)],i=k[h.charCodeAt(o+1)],n=k[h.charCodeAt(o+2)],r=k[h.charCodeAt(o+3)],c[u++]=t<<2|i>>4,c[u++]=(15&i)<<4|n>>2,c[u++]=(3&n)<<6|63&r;return d}},59968:function(Y,P){P.byteLength=function(o){var t=b(o),i=t[0],n=t[1];return 3*(i+n)/4-n},P.toByteArray=function(o){var t,i,n=b(o),r=n[0],s=n[1],l=new k(function(c,x,g){return 3*(x+g)/4-g}(0,r,s)),u=0,d=s>0?r-4:r;for(i=0;i<d;i+=4)t=A[o.charCodeAt(i)]<<18|A[o.charCodeAt(i+1)]<<12|A[o.charCodeAt(i+2)]<<6|A[o.charCodeAt(i+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return s===2&&(t=A[o.charCodeAt(i)]<<2|A[o.charCodeAt(i+1)]>>4,l[u++]=255&t),s===1&&(t=A[o.charCodeAt(i)]<<10|A[o.charCodeAt(i+1)]<<4|A[o.charCodeAt(i+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},P.fromByteArray=function(o){for(var t,i=o.length,n=i%3,r=[],s=16383,l=0,u=i-n;l<u;l+=s)r.push(h(o,l,l+s>u?u:l+s));return n===1?(t=o[i-1],r.push(e[t>>2]+e[t<<4&63]+"==")):n===2&&(t=(o[i-2]<<8)+o[i-1],r.push(e[t>>10]+e[t>>4&63]+e[t<<2&63]+"=")),r.join("")};for(var e=[],A=[],k=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=0;w<64;++w)e[w]=a[w],A[a.charCodeAt(w)]=w;function b(o){var t=o.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=o.indexOf("=");return i===-1&&(i=t),[i,i===t?0:4-i%4]}function h(o,t,i){for(var n,r,s=[],l=t;l<i;l+=3)n=(o[l]<<16&16711680)+(o[l+1]<<8&65280)+(255&o[l+2]),s.push(e[(r=n)>>18&63]+e[r>>12&63]+e[r>>6&63]+e[63&r]);return s.join("")}A["-".charCodeAt(0)]=62,A["_".charCodeAt(0)]=63},64928:function(Y){function P(b,h,o,t,i){for(var n=i+1;t<=i;){var r=t+i>>>1,s=b[r];(o!==void 0?o(s,h):s-h)>=0?(n=r,i=r-1):t=r+1}return n}function e(b,h,o,t,i){for(var n=i+1;t<=i;){var r=t+i>>>1,s=b[r];(o!==void 0?o(s,h):s-h)>0?(n=r,i=r-1):t=r+1}return n}function A(b,h,o,t,i){for(var n=t-1;t<=i;){var r=t+i>>>1,s=b[r];(o!==void 0?o(s,h):s-h)<0?(n=r,t=r+1):i=r-1}return n}function k(b,h,o,t,i){for(var n=t-1;t<=i;){var r=t+i>>>1,s=b[r];(o!==void 0?o(s,h):s-h)<=0?(n=r,t=r+1):i=r-1}return n}function a(b,h,o,t,i){for(;t<=i;){var n=t+i>>>1,r=b[n],s=o!==void 0?o(r,h):r-h;if(s===0)return n;s<=0?t=n+1:i=n-1}return-1}function w(b,h,o,t,i,n){return typeof o=="function"?n(b,h,o,t===void 0?0:0|t,i===void 0?b.length-1:0|i):n(b,h,void 0,o===void 0?0:0|o,t===void 0?b.length-1:0|t)}Y.exports={ge:function(b,h,o,t,i){return w(b,h,o,t,i,P)},gt:function(b,h,o,t,i){return w(b,h,o,t,i,e)},lt:function(b,h,o,t,i){return w(b,h,o,t,i,A)},le:function(b,h,o,t,i){return w(b,h,o,t,i,k)},eq:function(b,h,o,t,i){return w(b,h,o,t,i,a)}}},308:function(Y,P){function e(k){var a=32;return(k&=-k)&&a--,65535&k&&(a-=16),16711935&k&&(a-=8),252645135&k&&(a-=4),858993459&k&&(a-=2),1431655765&k&&(a-=1),a}P.INT_BITS=32,P.INT_MAX=2147483647,P.INT_MIN=-2147483648,P.sign=function(k){return(k>0)-(k<0)},P.abs=function(k){var a=k>>31;return(k^a)-a},P.min=function(k,a){return a^(k^a)&-(k<a)},P.max=function(k,a){return k^(k^a)&-(k<a)},P.isPow2=function(k){return!(k&k-1||!k)},P.log2=function(k){var a,w;return a=(k>65535)<<4,a|=w=((k>>>=a)>255)<<3,a|=w=((k>>>=w)>15)<<2,(a|=w=((k>>>=w)>3)<<1)|(k>>>=w)>>1},P.log10=function(k){return k>=1e9?9:k>=1e8?8:k>=1e7?7:k>=1e6?6:k>=1e5?5:k>=1e4?4:k>=1e3?3:k>=100?2:k>=10?1:0},P.popCount=function(k){return 16843009*((k=(858993459&(k-=k>>>1&1431655765))+(k>>>2&858993459))+(k>>>4)&252645135)>>>24},P.countTrailingZeros=e,P.nextPow2=function(k){return k+=k===0,--k,k|=k>>>1,k|=k>>>2,k|=k>>>4,k|=k>>>8,1+(k|=k>>>16)},P.prevPow2=function(k){return k|=k>>>1,k|=k>>>2,k|=k>>>4,k|=k>>>8,(k|=k>>>16)-(k>>>1)},P.parity=function(k){return k^=k>>>16,k^=k>>>8,k^=k>>>4,27030>>>(k&=15)&1};var A=new Array(256);(function(k){for(var a=0;a<256;++a){var w=a,b=a,h=7;for(w>>>=1;w;w>>>=1)b<<=1,b|=1&w,--h;k[a]=b<<h&255}})(A),P.reverse=function(k){return A[255&k]<<24|A[k>>>8&255]<<16|A[k>>>16&255]<<8|A[k>>>24&255]},P.interleave2=function(k,a){return(k=1431655765&((k=858993459&((k=252645135&((k=16711935&((k&=65535)|k<<8))|k<<4))|k<<2))|k<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))<<1},P.deinterleave2=function(k,a){return(k=65535&((k=16711935&((k=252645135&((k=858993459&((k=k>>>a&1431655765)|k>>>1))|k>>>2))|k>>>4))|k>>>16))<<16>>16},P.interleave3=function(k,a,w){return k=1227133513&((k=3272356035&((k=251719695&((k=4278190335&((k&=1023)|k<<16))|k<<8))|k<<4))|k<<2),(k|=(a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2))<<1)|(w=1227133513&((w=3272356035&((w=251719695&((w=4278190335&((w&=1023)|w<<16))|w<<8))|w<<4))|w<<2))<<2},P.deinterleave3=function(k,a){return(k=1023&((k=4278190335&((k=251719695&((k=3272356035&((k=k>>>a&1227133513)|k>>>2))|k>>>4))|k>>>8))|k>>>16))<<22>>22},P.nextCombination=function(k){var a=k|k-1;return a+1|(~a&-~a)-1>>>e(k)+1}},29620:function(Y,P,e){var A=e(32420);Y.exports=function(b,h){h||(h={});var o,t,i,n,r,s,l,u,d,c,x,g=h.cutoff==null?.25:h.cutoff,p=h.radius==null?8:h.radius,v=h.channel||0;if(ArrayBuffer.isView(b)||Array.isArray(b)){if(!h.width||!h.height)throw Error("For raw data width and height should be provided by options");o=h.width,t=h.height,n=b,s=h.stride?h.stride:Math.floor(b.length/o/t)}else window.HTMLCanvasElement&&b instanceof window.HTMLCanvasElement?(l=(u=b).getContext("2d"),o=u.width,t=u.height,n=(d=l.getImageData(0,0,o,t)).data,s=4):window.CanvasRenderingContext2D&&b instanceof window.CanvasRenderingContext2D?(l=b,o=(u=b.canvas).width,t=u.height,n=(d=l.getImageData(0,0,o,t)).data,s=4):window.ImageData&&b instanceof window.ImageData&&(d=b,o=b.width,t=b.height,n=d.data,s=4);if(i=Math.max(o,t),window.Uint8ClampedArray&&n instanceof window.Uint8ClampedArray||window.Uint8Array&&n instanceof window.Uint8Array)for(r=n,n=Array(o*t),c=0,x=r.length;c<x;c++)n[c]=r[c*s+v]/255;else if(s!==1)throw Error("Raw data can have only 1 value per pixel");var y=Array(o*t),m=Array(o*t),_=Array(i),f=Array(i),S=Array(i+1),T=Array(i);for(c=0,x=o*t;c<x;c++){var E=n[c];y[c]=E===1?0:E===0?k:Math.pow(Math.max(0,.5-E),2),m[c]=E===1?k:E===0?0:Math.pow(Math.max(0,E-.5),2)}a(y,o,t,_,f,T,S),a(m,o,t,_,f,T,S);var C=window.Float32Array?new Float32Array(o*t):new Array(o*t);for(c=0,x=o*t;c<x;c++)C[c]=A(1-((y[c]-m[c])/p+g),0,1);return C};var k=1e20;function a(b,h,o,t,i,n,r){for(var s=0;s<h;s++){for(var l=0;l<o;l++)t[l]=b[l*h+s];for(w(t,i,n,r,o),l=0;l<o;l++)b[l*h+s]=i[l]}for(l=0;l<o;l++){for(s=0;s<h;s++)t[s]=b[l*h+s];for(w(t,i,n,r,h),s=0;s<h;s++)b[l*h+s]=Math.sqrt(i[s])}}function w(b,h,o,t,i){o[0]=0,t[0]=-k,t[1]=+k;for(var n=1,r=0;n<i;n++){for(var s=(b[n]+n*n-(b[o[r]]+o[r]*o[r]))/(2*n-2*o[r]);s<=t[r];)r--,s=(b[n]+n*n-(b[o[r]]+o[r]*o[r]))/(2*n-2*o[r]);o[++r]=n,t[r]=s,t[r+1]=+k}for(n=0,r=0;n<i;n++){for(;t[r+1]<n;)r++;h[n]=(n-o[r])*(n-o[r])+b[o[r]]}}},99676:function(Y,P,e){var A=e(53664),k=e(57916),a=k(A("String.prototype.indexOf"));Y.exports=function(w,b){var h=A(w,!!b);return typeof h=="function"&&a(w,".prototype.")>-1?k(h):h}},57916:function(Y,P,e){var A=e(8844),k=e(53664),a=e(14500),w=k("%TypeError%"),b=k("%Function.prototype.apply%"),h=k("%Function.prototype.call%"),o=k("%Reflect.apply%",!0)||A.call(h,b),t=k("%Object.defineProperty%",!0),i=k("%Math.max%");if(t)try{t({},"a",{value:1})}catch{t=null}Y.exports=function(r){if(typeof r!="function")throw new w("a function is required");var s=o(A,h,arguments);return a(s,1+i(0,r.length-(arguments.length-1)),!0)};var n=function(){return o(A,b,arguments)};t?t(Y.exports,"apply",{value:n}):Y.exports.apply=n},32420:function(Y){Y.exports=function(P,e,A){return e<A?P<e?e:P>A?A:P:P<A?A:P>e?e:P}},3808:function(Y,P,e){var A=e(32420);function k(a,w){w==null&&(w=!0);var b=a[0],h=a[1],o=a[2],t=a[3];return t==null&&(t=w?1:255),w&&(b*=255,h*=255,o*=255,t*=255),16777216*(b=255&A(b,0,255))+((h=255&A(h,0,255))<<16)+((o=255&A(o,0,255))<<8)+(255&A(t,0,255))}Y.exports=k,Y.exports.to=k,Y.exports.from=function(a,w){var b=(a=+a)>>>24,h=(16711680&a)>>>16,o=(65280&a)>>>8,t=255&a;return w===!1?[b,h,o,t]:[b/255,h/255,o/255,t/255]}},17592:function(Y){Y.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},72160:function(Y,P,e){var A=e(96824),k=e(32420),a=e(72512);Y.exports=function(w,b){b!=="float"&&b||(b="array"),b==="uint"&&(b="uint8"),b==="uint_clamped"&&(b="uint8_clamped");var h=new(a(b))(4),o=b!=="uint8"&&b!=="uint8_clamped";return w.length&&typeof w!="string"||((w=A(w))[0]/=255,w[1]/=255,w[2]/=255),function(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||!!(Array.isArray(t)&&(t[0]>1||t[0]===0)&&(t[1]>1||t[1]===0)&&(t[2]>1||t[2]===0)&&(!t[3]||t[3]>1))}(w)?(h[0]=w[0],h[1]=w[1],h[2]=w[2],h[3]=w[3]!=null?w[3]:255,o&&(h[0]/=255,h[1]/=255,h[2]/=255,h[3]/=255),h):(o?(h[0]=w[0],h[1]=w[1],h[2]=w[2],h[3]=w[3]!=null?w[3]:1):(h[0]=k(Math.floor(255*w[0]),0,255),h[1]=k(Math.floor(255*w[1]),0,255),h[2]=k(Math.floor(255*w[2]),0,255),h[3]=w[3]==null?255:k(Math.floor(255*w[3]),0,255)),h)}},81704:function(Y,P,e){var A=e(17592),k=e(58908),a=e(31264);Y.exports=function(b){var h,o,t=[],i=1;if(typeof b=="string")if(A[b])t=A[b].slice(),o="rgb";else if(b==="transparent")i=0,o="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(b)){var n=b.slice(1);i=1,(l=n.length)<=4?(t=[parseInt(n[0]+n[0],16),parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16)],l===4&&(i=parseInt(n[3]+n[3],16)/255)):(t=[parseInt(n[0]+n[1],16),parseInt(n[2]+n[3],16),parseInt(n[4]+n[5],16)],l===8&&(i=parseInt(n[6]+n[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),o="rgb"}else if(h=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(b)){var r=h[1],s=r==="rgb";o=n=r.replace(/a$/,"");var l=n==="cmyk"?4:n==="gray"?1:3;t=h[2].trim().split(/\s*,\s*/).map(function(d,c){if(/%$/.test(d))return c===l?parseFloat(d)/100:n==="rgb"?255*parseFloat(d)/100:parseFloat(d);if(n[c]==="h"){if(/deg$/.test(d))return parseFloat(d);if(w[d]!==void 0)return w[d]}return parseFloat(d)}),r===n&&t.push(1),i=s||t[l]===void 0?1:t[l],t=t.slice(0,l)}else b.length>10&&/[0-9](?:\s|\/)/.test(b)&&(t=b.match(/([0-9]+)/g).map(function(d){return parseFloat(d)}),o=b.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(b))if(k(b)){var u=a(b.r,b.red,b.R,null);u!==null?(o="rgb",t=[u,a(b.g,b.green,b.G),a(b.b,b.blue,b.B)]):(o="hsl",t=[a(b.h,b.hue,b.H),a(b.s,b.saturation,b.S),a(b.l,b.lightness,b.L,b.b,b.brightness)]),i=a(b.a,b.alpha,b.opacity,1),b.opacity!=null&&(i/=100)}else(Array.isArray(b)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(b))&&(t=[b[0],b[1],b[2]],o="rgb",i=b.length===4?b[3]:1);else o="rgb",t=[b>>>16,(65280&b)>>>8,255&b];return{space:o,values:t,alpha:i}};var w={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},96824:function(Y,P,e){var A=e(81704),k=e(53576),a=e(32420);Y.exports=function(w){var b,h=A(w);return h.space?((b=Array(3))[0]=a(h.values[0],0,255),b[1]=a(h.values[1],0,255),b[2]=a(h.values[2],0,255),h.space[0]==="h"&&(b=k.rgb(b)),b.push(a(h.alpha,0,1)),b):[]}},53576:function(Y,P,e){var A=e(19336);Y.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(k){var a,w,b,h,o,t=k[0]/360,i=k[1]/100,n=k[2]/100;if(i===0)return[o=255*n,o,o];a=2*n-(w=n<.5?n*(1+i):n+i-n*i),h=[0,0,0];for(var r=0;r<3;r++)(b=t+.3333333333333333*-(r-1))<0?b++:b>1&&b--,o=6*b<1?a+6*(w-a)*b:2*b<1?w:3*b<2?a+(w-a)*(.6666666666666666-b)*6:a,h[r]=255*o;return h}},A.hsl=function(k){var a,w,b=k[0]/255,h=k[1]/255,o=k[2]/255,t=Math.min(b,h,o),i=Math.max(b,h,o),n=i-t;return i===t?a=0:b===i?a=(h-o)/n:h===i?a=2+(o-b)/n:o===i&&(a=4+(b-h)/n),(a=Math.min(60*a,360))<0&&(a+=360),w=(t+i)/2,[a,100*(i===t?0:w<=.5?n/(i+t):n/(2-i-t)),100*w]}},19336:function(Y){Y.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},36116:function(Y){Y.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|\xE7)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|\xE9)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|\xE9)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|\xE3)o.?tom(e|\xE9)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},42771:function(Y,P,e){Y.exports={parse:e(46416),stringify:e(49395)}},8744:function(Y,P,e){var A=e(30584);Y.exports={isSize:function(k){return/^[\d\.]/.test(k)||k.indexOf("/")!==-1||A.indexOf(k)!==-1}}},46416:function(Y,P,e){var A=e(92384),k=e(68194),a=e(3748),w=e(2904),b=e(47916),h=e(7294),o=e(39956),t=e(8744).isSize;Y.exports=n;var i=n.cache={};function n(s){if(typeof s!="string")throw new Error("Font argument must be a string.");if(i[s])return i[s];if(s==="")throw new Error("Cannot parse an empty string.");if(a.indexOf(s)!==-1)return i[s]={system:s};for(var l,u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},d=o(s,/\s+/);l=d.shift();){if(k.indexOf(l)!==-1)return["style","variant","weight","stretch"].forEach(function(x){u[x]=l}),i[s]=u;if(b.indexOf(l)===-1)if(l!=="normal"&&l!=="small-caps")if(h.indexOf(l)===-1){if(w.indexOf(l)===-1){if(t(l)){var c=o(l,"/");if(u.size=c[0],c[1]!=null?u.lineHeight=r(c[1]):d[0]==="/"&&(d.shift(),u.lineHeight=r(d.shift())),!d.length)throw new Error("Missing required font-family.");return u.family=o(d.join(" "),/\s*,\s*/).map(A),i[s]=u}throw new Error("Unknown or unsupported font token: "+l)}u.weight=l}else u.stretch=l;else u.variant=l;else u.style=l}throw new Error("Missing required font-size.")}function r(s){var l=parseFloat(s);return l.toString()===s?l:s}},49395:function(Y,P,e){var A=e(55616),k=e(8744).isSize,a=s(e(68194)),w=s(e(3748)),b=s(e(2904)),h=s(e(47916)),o=s(e(7294)),t={normal:1,"small-caps":1},i={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},n="serif";function r(l,u){if(l&&!u[l]&&!a[l])throw Error("Unknown keyword `"+l+"`");return l}function s(l){for(var u={},d=0;d<l.length;d++)u[l[d]]=1;return u}Y.exports=function(l){if((l=A(l,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return l.system&&r(l.system,w),l.system;if(r(l.style,h),r(l.variant,t),r(l.weight,b),r(l.stretch,o),l.size==null&&(l.size="1rem"),typeof l.size=="number"&&(l.size+="px"),!k)throw Error("Bad size value `"+l.size+"`");l.family||(l.family=n),Array.isArray(l.family)&&(l.family.length||(l.family=[n]),l.family=l.family.map(function(d){return i[d]?d:'"'+d+'"'}).join(", "));var u=[];return u.push(l.style),l.variant!==l.style&&u.push(l.variant),l.weight!==l.variant&&l.weight!==l.style&&u.push(l.weight),l.stretch!==l.weight&&l.stretch!==l.variant&&l.stretch!==l.style&&u.push(l.stretch),u.push(l.size+(l.lineHeight==null||l.lineHeight==="normal"||l.lineHeight+""=="1"?"":"/"+l.lineHeight)),u.push(l.family),u.filter(Boolean).join(" ")}},27940:function(Y,P,e){var A,k=e(81680),a=e(18496),w=e(87396),b=e(95920),h=e(50868),o=e(84323),t=Function.prototype.bind,i=Object.defineProperty,n=Object.prototype.hasOwnProperty;A=function(r,s,l){var u,d=a(s)&&w(s.value);return delete(u=b(s)).writable,delete u.value,u.get=function(){return!l.overwriteDefinition&&n.call(this,r)?d:(s.value=t.call(d,l.resolveContext?l.resolveContext(this):this),i(this,r,s),this[r])},u},Y.exports=function(r){var s=h(arguments[1]);return k(s.resolveContext)&&w(s.resolveContext),o(r,function(l,u){return A(u,l,s)})}},21092:function(Y,P,e){var A=e(81680),k=e(85488),a=e(38452),w=e(50868),b=e(71056),h=Y.exports=function(o,t){var i,n,r,s,l;return arguments.length<2||typeof o!="string"?(s=t,t=o,o=null):s=arguments[2],A(o)?(i=b.call(o,"c"),n=b.call(o,"e"),r=b.call(o,"w")):(i=r=!0,n=!1),l={value:t,configurable:i,enumerable:n,writable:r},s?a(w(s),l):l};h.gs=function(o,t,i){var n,r,s,l;return typeof o!="string"?(s=i,i=t,t=o,o=null):s=arguments[3],A(t)?k(t)?A(i)?k(i)||(s=i,i=void 0):i=void 0:(s=t,t=i=void 0):t=void 0,A(o)?(n=b.call(o,"c"),r=b.call(o,"e")):(n=!0,r=!1),l={get:t,set:i,configurable:n,enumerable:r},s?a(w(s),l):l}},84706:function(Y,P,e){function A(r,s){return r<s?-1:r>s?1:r>=s?0:NaN}e.d(P,{XE:function(){return A},kv:function(){return w},mo:function(){return h},Uf:function(){return o},SY:function(){return t},ik:function(){return i},oh:function(){return n}}),(k=A).length===1&&(a=k,k=function(r,s){return A(a(r),s)});var k,a;function w(r,s){var l,u,d=r.length,c=-1;if(s==null){for(;++c<d;)if((l=r[c])!=null&&l>=l)for(u=l;++c<d;)(l=r[c])!=null&&l>u&&(u=l)}else for(;++c<d;)if((l=s(r[c],c,r))!=null&&l>=l)for(u=l;++c<d;)(l=s(r[c],c,r))!=null&&l>u&&(u=l);return u}function b(r){return r===null?NaN:+r}function h(r,s){var l,u=r.length,d=u,c=-1,x=0;if(s==null)for(;++c<u;)isNaN(l=b(r[c]))?--d:x+=l;else for(;++c<u;)isNaN(l=b(s(r[c],c,r)))?--d:x+=l;if(d)return x/d}function o(r){for(var s,l,u,d=r.length,c=-1,x=0;++c<d;)x+=r[c].length;for(l=new Array(x);--d>=0;)for(s=(u=r[d]).length;--s>=0;)l[--x]=u[s];return l}function t(r,s){var l,u,d=r.length,c=-1;if(s==null){for(;++c<d;)if((l=r[c])!=null&&l>=l)for(u=l;++c<d;)(l=r[c])!=null&&u>l&&(u=l)}else for(;++c<d;)if((l=s(r[c],c,r))!=null&&l>=l)for(u=l;++c<d;)(l=s(r[c],c,r))!=null&&u>l&&(u=l);return u}function i(r,s,l){r=+r,s=+s,l=(d=arguments.length)<2?(s=r,r=0,1):d<3?1:+l;for(var u=-1,d=0|Math.max(0,Math.ceil((s-r)/l)),c=new Array(d);++u<d;)c[u]=r+u*l;return c}function n(r,s){var l,u=r.length,d=-1,c=0;if(s==null)for(;++d<u;)(l=+r[d])&&(c+=l);else for(;++d<u;)(l=+s(r[d],d,r))&&(c+=l);return c}},34712:function(Y,P,e){e.d(P,{kH:function(){return w},UJ:function(){return b}});var A="$";function k(){}function a(s,l){var u=new k;if(s instanceof k)s.each(function(p,v){u.set(v,p)});else if(Array.isArray(s)){var d,c=-1,x=s.length;if(l==null)for(;++c<x;)u.set(c,s[c]);else for(;++c<x;)u.set(l(d=s[c],c,s),d)}else if(s)for(var g in s)u.set(g,s[g]);return u}k.prototype=a.prototype={constructor:k,has:function(s){return A+s in this},get:function(s){return this[A+s]},set:function(s,l){return this[A+s]=l,this},remove:function(s){var l=A+s;return l in this&&delete this[l]},clear:function(){for(var s in this)s[0]===A&&delete this[s]},keys:function(){var s=[];for(var l in this)l[0]===A&&s.push(l.slice(1));return s},values:function(){var s=[];for(var l in this)l[0]===A&&s.push(this[l]);return s},entries:function(){var s=[];for(var l in this)l[0]===A&&s.push({key:l.slice(1),value:this[l]});return s},size:function(){var s=0;for(var l in this)l[0]===A&&++s;return s},empty:function(){for(var s in this)if(s[0]===A)return!1;return!0},each:function(s){for(var l in this)l[0]===A&&s(this[l],l.slice(1),this)}};var w=a;function b(){var s,l,u,d=[],c=[];function x(p,v,y,m){if(v>=d.length)return s!=null&&p.sort(s),l!=null?l(p):p;for(var _,f,S,T=-1,E=p.length,C=d[v++],O=w(),I=y();++T<E;)(S=O.get(_=C(f=p[T])+""))?S.push(f):O.set(_,[f]);return O.each(function(z,U){m(I,U,x(z,v,y,m))}),I}function g(p,v){if(++v>d.length)return p;var y,m=c[v-1];return l!=null&&v>=d.length?y=p.entries():(y=[],p.each(function(_,f){y.push({key:f,values:g(_,v)})})),m!=null?y.sort(function(_,f){return m(_.key,f.key)}):y}return u={object:function(p){return x(p,0,h,o)},map:function(p){return x(p,0,t,i)},entries:function(p){return g(x(p,0,t,i),0)},key:function(p){return d.push(p),u},sortKeys:function(p){return c[d.length-1]=p,u},sortValues:function(p){return s=p,u},rollup:function(p){return l=p,u}}}function h(){return{}}function o(s,l,u){s[l]=u}function t(){return w()}function i(s,l,u){s.set(l,u)}function n(){}var r=w.prototype;n.prototype={constructor:n,has:r.has,add:function(s){return this[A+(s+="")]=s,this},remove:r.remove,clear:r.clear,values:r.keys,size:r.size,empty:r.empty,each:r.each}},49812:function(Y,P,e){function A(me,ve){var Me;function _e(){var we,oe,se=Me.length,de=0,Ee=0;for(we=0;we<se;++we)de+=(oe=Me[we]).x,Ee+=oe.y;for(de=de/se-me,Ee=Ee/se-ve,we=0;we<se;++we)(oe=Me[we]).x-=de,oe.y-=Ee}return me==null&&(me=0),ve==null&&(ve=0),_e.initialize=function(we){Me=we},_e.x=function(we){return arguments.length?(me=+we,_e):me},_e.y=function(we){return arguments.length?(ve=+we,_e):ve},_e}function k(me){return function(){return me}}function a(){return 1e-6*(Math.random()-.5)}function w(me,ve,Me,_e){if(isNaN(ve)||isNaN(Me))return me;var we,oe,se,de,Ee,Te,Se,Le,Oe,he=me._root,xe={data:_e},ke=me._x0,Re=me._y0,ze=me._x1,Ie=me._y1;if(!he)return me._root=xe,me;for(;he.length;)if((Te=ve>=(oe=(ke+ze)/2))?ke=oe:ze=oe,(Se=Me>=(se=(Re+Ie)/2))?Re=se:Ie=se,we=he,!(he=he[Le=Se<<1|Te]))return we[Le]=xe,me;if(de=+me._x.call(null,he.data),Ee=+me._y.call(null,he.data),ve===de&&Me===Ee)return xe.next=he,we?we[Le]=xe:me._root=xe,me;do we=we?we[Le]=new Array(4):me._root=new Array(4),(Te=ve>=(oe=(ke+ze)/2))?ke=oe:ze=oe,(Se=Me>=(se=(Re+Ie)/2))?Re=se:Ie=se;while((Le=Se<<1|Te)==(Oe=(Ee>=se)<<1|de>=oe));return we[Oe]=he,we[Le]=xe,me}function b(me,ve,Me,_e,we){this.node=me,this.x0=ve,this.y0=Me,this.x1=_e,this.y1=we}function h(me){return me[0]}function o(me){return me[1]}function t(me,ve,Me){var _e=new i(ve==null?h:ve,Me==null?o:Me,NaN,NaN,NaN,NaN);return me==null?_e:_e.addAll(me)}function i(me,ve,Me,_e,we,oe){this._x=me,this._y=ve,this._x0=Me,this._y0=_e,this._x1=we,this._y1=oe,this._root=void 0}function n(me){for(var ve={data:me.data},Me=ve;me=me.next;)Me=Me.next={data:me.data};return ve}e.r(P),e.d(P,{forceCenter:function(){return A},forceCollide:function(){return u},forceLink:function(){return g},forceManyBody:function(){return le},forceRadial:function(){return ce},forceSimulation:function(){return ae},forceX:function(){return pe},forceY:function(){return ge}});var r=t.prototype=i.prototype;function s(me){return me.x+me.vx}function l(me){return me.y+me.vy}function u(me){var ve,Me,_e=1,we=1;function oe(){for(var Ee,Te,Se,Le,Oe,he,xe,ke=ve.length,Re=0;Re<we;++Re)for(Te=t(ve,s,l).visitAfter(se),Ee=0;Ee<ke;++Ee)Se=ve[Ee],he=Me[Se.index],xe=he*he,Le=Se.x+Se.vx,Oe=Se.y+Se.vy,Te.visit(ze);function ze(Ie,He,qe,Je,st){var it=Ie.data,vt=Ie.r,_t=he+vt;if(!it)return He>Le+_t||Je<Le-_t||qe>Oe+_t||st<Oe-_t;if(it.index>Se.index){var xt=Le-it.x-it.vx,et=Oe-it.y-it.vy,nt=xt*xt+et*et;nt<_t*_t&&(xt===0&&(nt+=(xt=a())*xt),et===0&&(nt+=(et=a())*et),nt=(_t-(nt=Math.sqrt(nt)))/nt*_e,Se.vx+=(xt*=nt)*(_t=(vt*=vt)/(xe+vt)),Se.vy+=(et*=nt)*_t,it.vx-=xt*(_t=1-_t),it.vy-=et*_t)}}}function se(Ee){if(Ee.data)return Ee.r=Me[Ee.data.index];for(var Te=Ee.r=0;Te<4;++Te)Ee[Te]&&Ee[Te].r>Ee.r&&(Ee.r=Ee[Te].r)}function de(){if(ve){var Ee,Te,Se=ve.length;for(Me=new Array(Se),Ee=0;Ee<Se;++Ee)Te=ve[Ee],Me[Te.index]=+me(Te,Ee,ve)}}return typeof me!="function"&&(me=k(me==null?1:+me)),oe.initialize=function(Ee){ve=Ee,de()},oe.iterations=function(Ee){return arguments.length?(we=+Ee,oe):we},oe.strength=function(Ee){return arguments.length?(_e=+Ee,oe):_e},oe.radius=function(Ee){return arguments.length?(me=typeof Ee=="function"?Ee:k(+Ee),de(),oe):me},oe}r.copy=function(){var me,ve,Me=new i(this._x,this._y,this._x0,this._y0,this._x1,this._y1),_e=this._root;if(!_e)return Me;if(!_e.length)return Me._root=n(_e),Me;for(me=[{source:_e,target:Me._root=new Array(4)}];_e=me.pop();)for(var we=0;we<4;++we)(ve=_e.source[we])&&(ve.length?me.push({source:ve,target:_e.target[we]=new Array(4)}):_e.target[we]=n(ve));return Me},r.add=function(me){var ve=+this._x.call(null,me),Me=+this._y.call(null,me);return w(this.cover(ve,Me),ve,Me,me)},r.addAll=function(me){var ve,Me,_e,we,oe=me.length,se=new Array(oe),de=new Array(oe),Ee=1/0,Te=1/0,Se=-1/0,Le=-1/0;for(Me=0;Me<oe;++Me)isNaN(_e=+this._x.call(null,ve=me[Me]))||isNaN(we=+this._y.call(null,ve))||(se[Me]=_e,de[Me]=we,_e<Ee&&(Ee=_e),_e>Se&&(Se=_e),we<Te&&(Te=we),we>Le&&(Le=we));if(Ee>Se||Te>Le)return this;for(this.cover(Ee,Te).cover(Se,Le),Me=0;Me<oe;++Me)w(this,se[Me],de[Me],me[Me]);return this},r.cover=function(me,ve){if(isNaN(me=+me)||isNaN(ve=+ve))return this;var Me=this._x0,_e=this._y0,we=this._x1,oe=this._y1;if(isNaN(Me))we=(Me=Math.floor(me))+1,oe=(_e=Math.floor(ve))+1;else{for(var se,de,Ee=we-Me,Te=this._root;Me>me||me>=we||_e>ve||ve>=oe;)switch(de=(ve<_e)<<1|me<Me,(se=new Array(4))[de]=Te,Te=se,Ee*=2,de){case 0:we=Me+Ee,oe=_e+Ee;break;case 1:Me=we-Ee,oe=_e+Ee;break;case 2:we=Me+Ee,_e=oe-Ee;break;case 3:Me=we-Ee,_e=oe-Ee}this._root&&this._root.length&&(this._root=Te)}return this._x0=Me,this._y0=_e,this._x1=we,this._y1=oe,this},r.data=function(){var me=[];return this.visit(function(ve){if(!ve.length)do me.push(ve.data);while(ve=ve.next)}),me},r.extent=function(me){return arguments.length?this.cover(+me[0][0],+me[0][1]).cover(+me[1][0],+me[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},r.find=function(me,ve,Me){var _e,we,oe,se,de,Ee,Te,Se=this._x0,Le=this._y0,Oe=this._x1,he=this._y1,xe=[],ke=this._root;for(ke&&xe.push(new b(ke,Se,Le,Oe,he)),Me==null?Me=1/0:(Se=me-Me,Le=ve-Me,Oe=me+Me,he=ve+Me,Me*=Me);Ee=xe.pop();)if(!(!(ke=Ee.node)||(we=Ee.x0)>Oe||(oe=Ee.y0)>he||(se=Ee.x1)<Se||(de=Ee.y1)<Le))if(ke.length){var Re=(we+se)/2,ze=(oe+de)/2;xe.push(new b(ke[3],Re,ze,se,de),new b(ke[2],we,ze,Re,de),new b(ke[1],Re,oe,se,ze),new b(ke[0],we,oe,Re,ze)),(Te=(ve>=ze)<<1|me>=Re)&&(Ee=xe[xe.length-1],xe[xe.length-1]=xe[xe.length-1-Te],xe[xe.length-1-Te]=Ee)}else{var Ie=me-+this._x.call(null,ke.data),He=ve-+this._y.call(null,ke.data),qe=Ie*Ie+He*He;if(qe<Me){var Je=Math.sqrt(Me=qe);Se=me-Je,Le=ve-Je,Oe=me+Je,he=ve+Je,_e=ke.data}}return _e},r.remove=function(me){if(isNaN(oe=+this._x.call(null,me))||isNaN(se=+this._y.call(null,me)))return this;var ve,Me,_e,we,oe,se,de,Ee,Te,Se,Le,Oe,he=this._root,xe=this._x0,ke=this._y0,Re=this._x1,ze=this._y1;if(!he)return this;if(he.length)for(;;){if((Te=oe>=(de=(xe+Re)/2))?xe=de:Re=de,(Se=se>=(Ee=(ke+ze)/2))?ke=Ee:ze=Ee,ve=he,!(he=he[Le=Se<<1|Te]))return this;if(!he.length)break;(ve[Le+1&3]||ve[Le+2&3]||ve[Le+3&3])&&(Me=ve,Oe=Le)}for(;he.data!==me;)if(_e=he,!(he=he.next))return this;return(we=he.next)&&delete he.next,_e?(we?_e.next=we:delete _e.next,this):ve?(we?ve[Le]=we:delete ve[Le],(he=ve[0]||ve[1]||ve[2]||ve[3])&&he===(ve[3]||ve[2]||ve[1]||ve[0])&&!he.length&&(Me?Me[Oe]=he:this._root=he),this):(this._root=we,this)},r.removeAll=function(me){for(var ve=0,Me=me.length;ve<Me;++ve)this.remove(me[ve]);return this},r.root=function(){return this._root},r.size=function(){var me=0;return this.visit(function(ve){if(!ve.length)do++me;while(ve=ve.next)}),me},r.visit=function(me){var ve,Me,_e,we,oe,se,de=[],Ee=this._root;for(Ee&&de.push(new b(Ee,this._x0,this._y0,this._x1,this._y1));ve=de.pop();)if(!me(Ee=ve.node,_e=ve.x0,we=ve.y0,oe=ve.x1,se=ve.y1)&&Ee.length){var Te=(_e+oe)/2,Se=(we+se)/2;(Me=Ee[3])&&de.push(new b(Me,Te,Se,oe,se)),(Me=Ee[2])&&de.push(new b(Me,_e,Se,Te,se)),(Me=Ee[1])&&de.push(new b(Me,Te,we,oe,Se)),(Me=Ee[0])&&de.push(new b(Me,_e,we,Te,Se))}return this},r.visitAfter=function(me){var ve,Me=[],_e=[];for(this._root&&Me.push(new b(this._root,this._x0,this._y0,this._x1,this._y1));ve=Me.pop();){var we=ve.node;if(we.length){var oe,se=ve.x0,de=ve.y0,Ee=ve.x1,Te=ve.y1,Se=(se+Ee)/2,Le=(de+Te)/2;(oe=we[0])&&Me.push(new b(oe,se,de,Se,Le)),(oe=we[1])&&Me.push(new b(oe,Se,de,Ee,Le)),(oe=we[2])&&Me.push(new b(oe,se,Le,Se,Te)),(oe=we[3])&&Me.push(new b(oe,Se,Le,Ee,Te))}_e.push(ve)}for(;ve=_e.pop();)me(ve.node,ve.x0,ve.y0,ve.x1,ve.y1);return this},r.x=function(me){return arguments.length?(this._x=me,this):this._x},r.y=function(me){return arguments.length?(this._y=me,this):this._y};var d=e(34712);function c(me){return me.index}function x(me,ve){var Me=me.get(ve);if(!Me)throw new Error("missing: "+ve);return Me}function g(me){var ve,Me,_e,we,oe,se=c,de=function(xe){return 1/Math.min(we[xe.source.index],we[xe.target.index])},Ee=k(30),Te=1;function Se(xe){for(var ke=0,Re=me.length;ke<Te;++ke)for(var ze,Ie,He,qe,Je,st,it,vt=0;vt<Re;++vt)Ie=(ze=me[vt]).source,qe=(He=ze.target).x+He.vx-Ie.x-Ie.vx||a(),Je=He.y+He.vy-Ie.y-Ie.vy||a(),qe*=st=((st=Math.sqrt(qe*qe+Je*Je))-Me[vt])/st*xe*ve[vt],Je*=st,He.vx-=qe*(it=oe[vt]),He.vy-=Je*it,Ie.vx+=qe*(it=1-it),Ie.vy+=Je*it}function Le(){if(_e){var xe,ke,Re=_e.length,ze=me.length,Ie=(0,d.kH)(_e,se);for(xe=0,we=new Array(Re);xe<ze;++xe)(ke=me[xe]).index=xe,typeof ke.source!="object"&&(ke.source=x(Ie,ke.source)),typeof ke.target!="object"&&(ke.target=x(Ie,ke.target)),we[ke.source.index]=(we[ke.source.index]||0)+1,we[ke.target.index]=(we[ke.target.index]||0)+1;for(xe=0,oe=new Array(ze);xe<ze;++xe)ke=me[xe],oe[xe]=we[ke.source.index]/(we[ke.source.index]+we[ke.target.index]);ve=new Array(ze),Oe(),Me=new Array(ze),he()}}function Oe(){if(_e)for(var xe=0,ke=me.length;xe<ke;++xe)ve[xe]=+de(me[xe],xe,me)}function he(){if(_e)for(var xe=0,ke=me.length;xe<ke;++xe)Me[xe]=+Ee(me[xe],xe,me)}return me==null&&(me=[]),Se.initialize=function(xe){_e=xe,Le()},Se.links=function(xe){return arguments.length?(me=xe,Le(),Se):me},Se.id=function(xe){return arguments.length?(se=xe,Se):se},Se.iterations=function(xe){return arguments.length?(Te=+xe,Se):Te},Se.strength=function(xe){return arguments.length?(de=typeof xe=="function"?xe:k(+xe),Oe(),Se):de},Se.distance=function(xe){return arguments.length?(Ee=typeof xe=="function"?xe:k(+xe),he(),Se):Ee},Se}var p={value:function(){}};function v(){for(var me,ve=0,Me=arguments.length,_e={};ve<Me;++ve){if(!(me=arguments[ve]+"")||me in _e||/[\s.]/.test(me))throw new Error("illegal type: "+me);_e[me]=[]}return new y(_e)}function y(me){this._=me}function m(me,ve){for(var Me,_e=0,we=me.length;_e<we;++_e)if((Me=me[_e]).name===ve)return Me.value}function _(me,ve,Me){for(var _e=0,we=me.length;_e<we;++_e)if(me[_e].name===ve){me[_e]=p,me=me.slice(0,_e).concat(me.slice(_e+1));break}return Me!=null&&me.push({name:ve,value:Me}),me}y.prototype=v.prototype={constructor:y,on:function(me,ve){var Me,_e,we=this._,oe=(_e=we,(me+"").trim().split(/^|\s+/).map(function(Ee){var Te="",Se=Ee.indexOf(".");if(Se>=0&&(Te=Ee.slice(Se+1),Ee=Ee.slice(0,Se)),Ee&&!_e.hasOwnProperty(Ee))throw new Error("unknown type: "+Ee);return{type:Ee,name:Te}})),se=-1,de=oe.length;if(!(arguments.length<2)){if(ve!=null&&typeof ve!="function")throw new Error("invalid callback: "+ve);for(;++se<de;)if(Me=(me=oe[se]).type)we[Me]=_(we[Me],me.name,ve);else if(ve==null)for(Me in we)we[Me]=_(we[Me],me.name,null);return this}for(;++se<de;)if((Me=(me=oe[se]).type)&&(Me=m(we[Me],me.name)))return Me},copy:function(){var me={},ve=this._;for(var Me in ve)me[Me]=ve[Me].slice();return new y(me)},call:function(me,ve){if((Me=arguments.length-2)>0)for(var Me,_e,we=new Array(Me),oe=0;oe<Me;++oe)we[oe]=arguments[oe+2];if(!this._.hasOwnProperty(me))throw new Error("unknown type: "+me);for(oe=0,Me=(_e=this._[me]).length;oe<Me;++oe)_e[oe].value.apply(ve,we)},apply:function(me,ve,Me){if(!this._.hasOwnProperty(me))throw new Error("unknown type: "+me);for(var _e=this._[me],we=0,oe=_e.length;we<oe;++we)_e[we].value.apply(ve,Me)}};var f,S,T=v,E=0,C=0,O=0,I=1e3,z=0,U=0,D=0,B=typeof performance=="object"&&performance.now?performance:Date,Z=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(me){setTimeout(me,17)};function F(){return U||(Z(j),U=B.now()+D)}function j(){U=0}function V(){this._call=this._time=this._next=null}function te(me,ve,Me){var _e=new V;return _e.restart(me,ve,Me),_e}function Q(){U=(z=B.now())+D,E=C=0;try{(function(){F(),++E;for(var me,ve=f;ve;)(me=U-ve._time)>=0&&ve._call.call(null,me),ve=ve._next;--E})()}finally{E=0,function(){for(var me,ve,Me=f,_e=1/0;Me;)Me._call?(_e>Me._time&&(_e=Me._time),me=Me,Me=Me._next):(ve=Me._next,Me._next=null,Me=me?me._next=ve:f=ve);S=me,G(_e)}(),U=0}}function $(){var me=B.now(),ve=me-z;ve>I&&(D-=ve,z=me)}function G(me){E||(C&&(C=clearTimeout(C)),me-U>24?(me<1/0&&(C=setTimeout(Q,me-B.now()-D)),O&&(O=clearInterval(O))):(O||(z=B.now(),O=setInterval($,I)),E=1,Z(Q)))}function X(me){return me.x}function J(me){return me.y}V.prototype=te.prototype={constructor:V,restart:function(me,ve,Me){if(typeof me!="function")throw new TypeError("callback is not a function");Me=(Me==null?F():+Me)+(ve==null?0:+ve),this._next||S===this||(S?S._next=this:f=this,S=this),this._call=me,this._time=Me,G()},stop:function(){this._call&&(this._call=null,this._time=1/0,G())}};var ne=10,ie=Math.PI*(3-Math.sqrt(5));function ae(me){var ve,Me=1,_e=.001,we=1-Math.pow(_e,1/300),oe=0,se=.6,de=(0,d.kH)(),Ee=te(Se),Te=T("tick","end");function Se(){Le(),Te.call("tick",ve),Me<_e&&(Ee.stop(),Te.call("end",ve))}function Le(xe){var ke,Re,ze=me.length;xe===void 0&&(xe=1);for(var Ie=0;Ie<xe;++Ie)for(Me+=(oe-Me)*we,de.each(function(He){He(Me)}),ke=0;ke<ze;++ke)(Re=me[ke]).fx==null?Re.x+=Re.vx*=se:(Re.x=Re.fx,Re.vx=0),Re.fy==null?Re.y+=Re.vy*=se:(Re.y=Re.fy,Re.vy=0);return ve}function Oe(){for(var xe,ke=0,Re=me.length;ke<Re;++ke){if((xe=me[ke]).index=ke,xe.fx!=null&&(xe.x=xe.fx),xe.fy!=null&&(xe.y=xe.fy),isNaN(xe.x)||isNaN(xe.y)){var ze=ne*Math.sqrt(ke),Ie=ke*ie;xe.x=ze*Math.cos(Ie),xe.y=ze*Math.sin(Ie)}(isNaN(xe.vx)||isNaN(xe.vy))&&(xe.vx=xe.vy=0)}}function he(xe){return xe.initialize&&xe.initialize(me),xe}return me==null&&(me=[]),Oe(),ve={tick:Le,restart:function(){return Ee.restart(Se),ve},stop:function(){return Ee.stop(),ve},nodes:function(xe){return arguments.length?(me=xe,Oe(),de.each(he),ve):me},alpha:function(xe){return arguments.length?(Me=+xe,ve):Me},alphaMin:function(xe){return arguments.length?(_e=+xe,ve):_e},alphaDecay:function(xe){return arguments.length?(we=+xe,ve):+we},alphaTarget:function(xe){return arguments.length?(oe=+xe,ve):oe},velocityDecay:function(xe){return arguments.length?(se=1-xe,ve):1-se},force:function(xe,ke){return arguments.length>1?(ke==null?de.remove(xe):de.set(xe,he(ke)),ve):de.get(xe)},find:function(xe,ke,Re){var ze,Ie,He,qe,Je,st=0,it=me.length;for(Re==null?Re=1/0:Re*=Re,st=0;st<it;++st)(He=(ze=xe-(qe=me[st]).x)*ze+(Ie=ke-qe.y)*Ie)<Re&&(Je=qe,Re=He);return Je},on:function(xe,ke){return arguments.length>1?(Te.on(xe,ke),ve):Te.on(xe)}}}function le(){var me,ve,Me,_e,we=k(-30),oe=1,se=1/0,de=.81;function Ee(Oe){var he,xe=me.length,ke=t(me,X,J).visitAfter(Se);for(Me=Oe,he=0;he<xe;++he)ve=me[he],ke.visit(Le)}function Te(){if(me){var Oe,he,xe=me.length;for(_e=new Array(xe),Oe=0;Oe<xe;++Oe)he=me[Oe],_e[he.index]=+we(he,Oe,me)}}function Se(Oe){var he,xe,ke,Re,ze,Ie=0,He=0;if(Oe.length){for(ke=Re=ze=0;ze<4;++ze)(he=Oe[ze])&&(xe=Math.abs(he.value))&&(Ie+=he.value,He+=xe,ke+=xe*he.x,Re+=xe*he.y);Oe.x=ke/He,Oe.y=Re/He}else{(he=Oe).x=he.data.x,he.y=he.data.y;do Ie+=_e[he.data.index];while(he=he.next)}Oe.value=Ie}function Le(Oe,he,xe,ke){if(!Oe.value)return!0;var Re=Oe.x-ve.x,ze=Oe.y-ve.y,Ie=ke-he,He=Re*Re+ze*ze;if(Ie*Ie/de<He)return He<se&&(Re===0&&(He+=(Re=a())*Re),ze===0&&(He+=(ze=a())*ze),He<oe&&(He=Math.sqrt(oe*He)),ve.vx+=Re*Oe.value*Me/He,ve.vy+=ze*Oe.value*Me/He),!0;if(!(Oe.length||He>=se)){(Oe.data!==ve||Oe.next)&&(Re===0&&(He+=(Re=a())*Re),ze===0&&(He+=(ze=a())*ze),He<oe&&(He=Math.sqrt(oe*He)));do Oe.data!==ve&&(Ie=_e[Oe.data.index]*Me/He,ve.vx+=Re*Ie,ve.vy+=ze*Ie);while(Oe=Oe.next)}}return Ee.initialize=function(Oe){me=Oe,Te()},Ee.strength=function(Oe){return arguments.length?(we=typeof Oe=="function"?Oe:k(+Oe),Te(),Ee):we},Ee.distanceMin=function(Oe){return arguments.length?(oe=Oe*Oe,Ee):Math.sqrt(oe)},Ee.distanceMax=function(Oe){return arguments.length?(se=Oe*Oe,Ee):Math.sqrt(se)},Ee.theta=function(Oe){return arguments.length?(de=Oe*Oe,Ee):Math.sqrt(de)},Ee}function ce(me,ve,Me){var _e,we,oe,se=k(.1);function de(Te){for(var Se=0,Le=_e.length;Se<Le;++Se){var Oe=_e[Se],he=Oe.x-ve||1e-6,xe=Oe.y-Me||1e-6,ke=Math.sqrt(he*he+xe*xe),Re=(oe[Se]-ke)*we[Se]*Te/ke;Oe.vx+=he*Re,Oe.vy+=xe*Re}}function Ee(){if(_e){var Te,Se=_e.length;for(we=new Array(Se),oe=new Array(Se),Te=0;Te<Se;++Te)oe[Te]=+me(_e[Te],Te,_e),we[Te]=isNaN(oe[Te])?0:+se(_e[Te],Te,_e)}}return typeof me!="function"&&(me=k(+me)),ve==null&&(ve=0),Me==null&&(Me=0),de.initialize=function(Te){_e=Te,Ee()},de.strength=function(Te){return arguments.length?(se=typeof Te=="function"?Te:k(+Te),Ee(),de):se},de.radius=function(Te){return arguments.length?(me=typeof Te=="function"?Te:k(+Te),Ee(),de):me},de.x=function(Te){return arguments.length?(ve=+Te,de):ve},de.y=function(Te){return arguments.length?(Me=+Te,de):Me},de}function pe(me){var ve,Me,_e,we=k(.1);function oe(de){for(var Ee,Te=0,Se=ve.length;Te<Se;++Te)(Ee=ve[Te]).vx+=(_e[Te]-Ee.x)*Me[Te]*de}function se(){if(ve){var de,Ee=ve.length;for(Me=new Array(Ee),_e=new Array(Ee),de=0;de<Ee;++de)Me[de]=isNaN(_e[de]=+me(ve[de],de,ve))?0:+we(ve[de],de,ve)}}return typeof me!="function"&&(me=k(me==null?0:+me)),oe.initialize=function(de){ve=de,se()},oe.strength=function(de){return arguments.length?(we=typeof de=="function"?de:k(+de),se(),oe):we},oe.x=function(de){return arguments.length?(me=typeof de=="function"?de:k(+de),se(),oe):me},oe}function ge(me){var ve,Me,_e,we=k(.1);function oe(de){for(var Ee,Te=0,Se=ve.length;Te<Se;++Te)(Ee=ve[Te]).vy+=(_e[Te]-Ee.y)*Me[Te]*de}function se(){if(ve){var de,Ee=ve.length;for(Me=new Array(Ee),_e=new Array(Ee),de=0;de<Ee;++de)Me[de]=isNaN(_e[de]=+me(ve[de],de,ve))?0:+we(ve[de],de,ve)}}return typeof me!="function"&&(me=k(me==null?0:+me)),oe.initialize=function(de){ve=de,se()},oe.strength=function(de){return arguments.length?(we=typeof de=="function"?de:k(+de),se(),oe):we},oe.y=function(de){return arguments.length?(me=typeof de=="function"?de:k(+de),se(),oe):me},oe}},57624:function(Y,P,e){function A(u,d){if((c=(u=d?u.toExponential(d-1):u.toExponential()).indexOf("e"))<0)return null;var c,x=u.slice(0,c);return[x.length>1?x[0]+x.slice(2):x,+u.slice(c+1)]}e.d(P,{E9:function(){return n},SO:function(){return l}});var k,a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function w(u){if(!(d=a.exec(u)))throw new Error("invalid format: "+u);var d;return new b({fill:d[1],align:d[2],sign:d[3],symbol:d[4],zero:d[5],width:d[6],comma:d[7],precision:d[8]&&d[8].slice(1),trim:d[9],type:d[10]})}function b(u){this.fill=u.fill===void 0?" ":u.fill+"",this.align=u.align===void 0?">":u.align+"",this.sign=u.sign===void 0?"-":u.sign+"",this.symbol=u.symbol===void 0?"":u.symbol+"",this.zero=!!u.zero,this.width=u.width===void 0?void 0:+u.width,this.comma=!!u.comma,this.precision=u.precision===void 0?void 0:+u.precision,this.trim=!!u.trim,this.type=u.type===void 0?"":u.type+""}function h(u,d){var c=A(u,d);if(!c)return u+"";var x=c[0],g=c[1];return g<0?"0."+new Array(-g).join("0")+x:x.length>g+1?x.slice(0,g+1)+"."+x.slice(g+1):x+new Array(g-x.length+2).join("0")}w.prototype=b.prototype,b.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var o={"%":function(u,d){return(100*u).toFixed(d)},b:function(u){return Math.round(u).toString(2)},c:function(u){return u+""},d:function(u){return Math.abs(u=Math.round(u))>=1e21?u.toLocaleString("en").replace(/,/g,""):u.toString(10)},e:function(u,d){return u.toExponential(d)},f:function(u,d){return u.toFixed(d)},g:function(u,d){return u.toPrecision(d)},o:function(u){return Math.round(u).toString(8)},p:function(u,d){return h(100*u,d)},r:h,s:function(u,d){var c=A(u,d);if(!c)return u+"";var x=c[0],g=c[1],p=g-(k=3*Math.max(-8,Math.min(8,Math.floor(g/3))))+1,v=x.length;return p===v?x:p>v?x+new Array(p-v+1).join("0"):p>0?x.slice(0,p)+"."+x.slice(p):"0."+new Array(1-p).join("0")+A(u,Math.max(0,d+p-1))[0]},X:function(u){return Math.round(u).toString(16).toUpperCase()},x:function(u){return Math.round(u).toString(16)}};function t(u){return u}var i,n,r=Array.prototype.map,s=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function l(u){var d,c,x=u.grouping===void 0||u.thousands===void 0?t:(d=r.call(u.grouping,Number),c=u.thousands+"",function(T,E){for(var C=T.length,O=[],I=0,z=d[0],U=0;C>0&&z>0&&(U+z+1>E&&(z=Math.max(1,E-U)),O.push(T.substring(C-=z,C+z)),!((U+=z+1)>E));)z=d[I=(I+1)%d.length];return O.reverse().join(c)}),g=u.currency===void 0?"":u.currency[0]+"",p=u.currency===void 0?"":u.currency[1]+"",v=u.decimal===void 0?".":u.decimal+"",y=u.numerals===void 0?t:function(T){return function(E){return E.replace(/[0-9]/g,function(C){return T[+C]})}}(r.call(u.numerals,String)),m=u.percent===void 0?"%":u.percent+"",_=u.minus===void 0?"-":u.minus+"",f=u.nan===void 0?"NaN":u.nan+"";function S(T){var E=(T=w(T)).fill,C=T.align,O=T.sign,I=T.symbol,z=T.zero,U=T.width,D=T.comma,B=T.precision,Z=T.trim,F=T.type;F==="n"?(D=!0,F="g"):o[F]||(B===void 0&&(B=12),Z=!0,F="g"),(z||E==="0"&&C==="=")&&(z=!0,E="0",C="=");var j=I==="$"?g:I==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",V=I==="$"?p:/[%p]/.test(F)?m:"",te=o[F],Q=/[defgprs%]/.test(F);function $(G){var X,J,ne,ie=j,ae=V;if(F==="c")ae=te(G)+ae,G="";else{var le=(G=+G)<0||1/G<0;if(G=isNaN(G)?f:te(Math.abs(G),B),Z&&(G=function(ge){e:for(var me,ve=ge.length,Me=1,_e=-1;Me<ve;++Me)switch(ge[Me]){case".":_e=me=Me;break;case"0":_e===0&&(_e=Me),me=Me;break;default:if(!+ge[Me])break e;_e>0&&(_e=0)}return _e>0?ge.slice(0,_e)+ge.slice(me+1):ge}(G)),le&&+G==0&&O!=="+"&&(le=!1),ie=(le?O==="("?O:_:O==="-"||O==="("?"":O)+ie,ae=(F==="s"?s[8+k/3]:"")+ae+(le&&O==="("?")":""),Q){for(X=-1,J=G.length;++X<J;)if(48>(ne=G.charCodeAt(X))||ne>57){ae=(ne===46?v+G.slice(X+1):G.slice(X))+ae,G=G.slice(0,X);break}}}D&&!z&&(G=x(G,1/0));var ce=ie.length+G.length+ae.length,pe=ce<U?new Array(U-ce+1).join(E):"";switch(D&&z&&(G=x(pe+G,pe.length?U-ae.length:1/0),pe=""),C){case"<":G=ie+G+ae+pe;break;case"=":G=ie+pe+G+ae;break;case"^":G=pe.slice(0,ce=pe.length>>1)+ie+G+ae+pe.slice(ce);break;default:G=pe+ie+G+ae}return y(G)}return B=B===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B)),$.toString=function(){return T+""},$}return{format:S,formatPrefix:function(T,E){var C,O=S(((T=w(T)).type="f",T)),I=3*Math.max(-8,Math.min(8,Math.floor((C=E,((C=A(Math.abs(C)))?C[1]:NaN)/3)))),z=Math.pow(10,-I),U=s[8+I/3];return function(D){return O(z*D)+U}}}}i=l({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),n=i.format,i.formatPrefix},87108:function(Y,P,e){e.r(P),e.d(P,{geoAiry:function(){return D},geoAiryRaw:function(){return U},geoAitoff:function(){return Z},geoAitoffRaw:function(){return B},geoArmadillo:function(){return j},geoArmadilloRaw:function(){return F},geoAugust:function(){return te},geoAugustRaw:function(){return V},geoBaker:function(){return X},geoBakerRaw:function(){return G},geoBerghaus:function(){return ie},geoBerghausRaw:function(){return ne},geoBertin1953:function(){return Me},geoBertin1953Raw:function(){return ve},geoBoggs:function(){return Se},geoBoggsRaw:function(){return Te},geoBonne:function(){return ke},geoBonneRaw:function(){return xe},geoBottomley:function(){return ze},geoBottomleyRaw:function(){return Re},geoBromley:function(){return He},geoBromleyRaw:function(){return Ie},geoChamberlin:function(){return nt},geoChamberlinAfrica:function(){return et},geoChamberlinRaw:function(){return _t},geoCollignon:function(){return zt},geoCollignonRaw:function(){return Mt},geoCraig:function(){return Rt},geoCraigRaw:function(){return Ft},geoCraster:function(){return Ne},geoCrasterRaw:function(){return Ze},geoCylindricalEqualArea:function(){return lt},geoCylindricalEqualAreaRaw:function(){return Ye},geoCylindricalStereographic:function(){return Fe},geoCylindricalStereographicRaw:function(){return at},geoEckert1:function(){return ot},geoEckert1Raw:function(){return Be},geoEckert2:function(){return pt},geoEckert2Raw:function(){return Xe},geoEckert3:function(){return yt},geoEckert3Raw:function(){return mt},geoEckert4:function(){return Lt},geoEckert4Raw:function(){return ht},geoEckert5:function(){return bt},geoEckert5Raw:function(){return Tt},geoEckert6:function(){return Ot},geoEckert6Raw:function(){return Pt},geoEisenlohr:function(){return on},geoEisenlohrRaw:function(){return Kt},geoFahey:function(){return nn},geoFaheyRaw:function(){return Wt},geoFoucaut:function(){return Mn},geoFoucautRaw:function(){return En},geoFoucautSinusoidal:function(){return Jt},geoFoucautSinusoidalRaw:function(){return dn},geoGilbert:function(){return Ln},geoGingery:function(){return Hn},geoGingeryRaw:function(){return Dn},geoGinzburg4:function(){return ur},geoGinzburg4Raw:function(){return ar},geoGinzburg5:function(){return er},geoGinzburg5Raw:function(){return cr},geoGinzburg6:function(){return Ht},geoGinzburg6Raw:function(){return Tr},geoGinzburg8:function(){return _n},geoGinzburg8Raw:function(){return an},geoGinzburg9:function(){return Cn},geoGinzburg9Raw:function(){return vn},geoGringorten:function(){return Nn},geoGringortenQuincuncial:function(){return Ta},geoGringortenRaw:function(){return Fn},geoGuyou:function(){return It},geoGuyouRaw:function(){return mn},geoHammer:function(){return pe},geoHammerRaw:function(){return le},geoHammerRetroazimuthal:function(){return yn},geoHammerRetroazimuthalRaw:function(){return tn},geoHealpix:function(){return Vn},geoHealpixRaw:function(){return ln},geoHill:function(){return $n},geoHillRaw:function(){return qn},geoHomolosine:function(){return fr},geoHomolosineRaw:function(){return mr},geoHufnagel:function(){return sr},geoHufnagelRaw:function(){return dr},geoHyperelliptical:function(){return hi},geoHyperellipticalRaw:function(){return Br},geoInterrupt:function(){return ui},geoInterruptedBoggs:function(){return _a},geoInterruptedHomolosine:function(){return us},geoInterruptedMollweide:function(){return Gs},geoInterruptedMollweideHemispheres:function(){return vl},geoInterruptedQuarticAuthalic:function(){return ku},geoInterruptedSinuMollweide:function(){return ml},geoInterruptedSinusoidal:function(){return xl},geoKavrayskiy7:function(){return Vo},geoKavrayskiy7Raw:function(){return So},geoLagrange:function(){return _i},geoLagrangeRaw:function(){return cs},geoLarrivee:function(){return po},geoLarriveeRaw:function(){return Eo},geoLaskowski:function(){return Ho},geoLaskowskiRaw:function(){return eo},geoLittrow:function(){return qo},geoLittrowRaw:function(){return go},geoLoximuthal:function(){return Go},geoLoximuthalRaw:function(){return Lo},geoMiller:function(){return Bl},geoMillerRaw:function(){return vo},geoModifiedStereographic:function(){return ds},geoModifiedStereographicAlaska:function(){return _u},geoModifiedStereographicGs48:function(){return wu},geoModifiedStereographicGs50:function(){return ps},geoModifiedStereographicLee:function(){return Ss},geoModifiedStereographicMiller:function(){return mo},geoModifiedStereographicRaw:function(){return bl},geoMollweide:function(){return se},geoMollweideRaw:function(){return oe},geoMtFlatPolarParabolic:function(){return Nl},geoMtFlatPolarParabolicRaw:function(){return to},geoMtFlatPolarQuartic:function(){return Co},geoMtFlatPolarQuarticRaw:function(){return Wo},geoMtFlatPolarSinusoidal:function(){return Yo},geoMtFlatPolarSinusoidalRaw:function(){return Po},geoNaturalEarth:function(){return Wr.c},geoNaturalEarth2:function(){return Tu},geoNaturalEarth2Raw:function(){return Es},geoNaturalEarthRaw:function(){return Wr.g},geoNellHammer:function(){return Ls},geoNellHammerRaw:function(){return _l},geoNicolosi:function(){return Au},geoNicolosiRaw:function(){return wl},geoPatterson:function(){return ru},geoPattersonRaw:function(){return kl},geoPeirceQuincuncial:function(){return _s},geoPierceQuincuncial:function(){return _s},geoPolyconic:function(){return ms},geoPolyconicRaw:function(){return Ps},geoPolyhedral:function(){return oi},geoPolyhedralButterfly:function(){return Is},geoPolyhedralCollignon:function(){return Js},geoPolyhedralWaterman:function(){return $s},geoProject:function(){return Qs},geoQuantize:function(){return Io},geoQuincuncial:function(){return $o},geoRectangularPolyconic:function(){return Ya},geoRectangularPolyconicRaw:function(){return Wa},geoRobinson:function(){return Er},geoRobinsonRaw:function(){return ao},geoSatellite:function(){return jl},geoSatelliteRaw:function(){return el},geoSinuMollweide:function(){return Qn},geoSinuMollweideRaw:function(){return tr},geoSinusoidal:function(){return he},geoSinusoidalRaw:function(){return Oe},geoStitch:function(){return oa},geoTimes:function(){return bo},geoTimesRaw:function(){return ka},geoTwoPointAzimuthal:function(){return Ma},geoTwoPointAzimuthalRaw:function(){return Ds},geoTwoPointAzimuthalUsa:function(){return zs},geoTwoPointEquidistant:function(){return Ts},geoTwoPointEquidistantRaw:function(){return Zr},geoTwoPointEquidistantUsa:function(){return _o},geoVanDerGrinten:function(){return Fs},geoVanDerGrinten2:function(){return lo},geoVanDerGrinten2Raw:function(){return Bs},geoVanDerGrinten3:function(){return ks},geoVanDerGrinten3Raw:function(){return vi},geoVanDerGrinten4:function(){return zr},geoVanDerGrinten4Raw:function(){return Cr},geoVanDerGrintenRaw:function(){return so},geoWagner:function(){return wo},geoWagner4:function(){return iu},geoWagner4Raw:function(){return si},geoWagner6:function(){return ci},geoWagner6Raw:function(){return Ua},geoWagner7:function(){return zo},geoWagnerRaw:function(){return ja},geoWiechel:function(){return Ia},geoWiechelRaw:function(){return wi},geoWinkel3:function(){return Ul},geoWinkel3Raw:function(){return rs}});var A=e(87952),k=Math.abs,a=Math.atan,w=Math.atan2,b=Math.cos,h=Math.exp,o=Math.floor,t=Math.log,i=Math.max,n=Math.min,r=Math.pow,s=Math.round,l=Math.sign||function(Ke){return Ke>0?1:Ke<0?-1:0},u=Math.sin,d=Math.tan,c=1e-6,x=1e-12,g=Math.PI,p=g/2,v=g/4,y=Math.SQRT1_2,m=O(2),_=O(g),f=2*g,S=180/g,T=g/180;function E(Ke){return Ke>1?p:Ke<-1?-p:Math.asin(Ke)}function C(Ke){return Ke>1?0:Ke<-1?g:Math.acos(Ke)}function O(Ke){return Ke>0?Math.sqrt(Ke):0}function I(Ke){return(h(Ke)-h(-Ke))/2}function z(Ke){return(h(Ke)+h(-Ke))/2}function U(Ke){var Qe=d(Ke/2),ut=2*t(b(Ke/2))/(Qe*Qe);function N(W,q){var L=b(W),H=b(q),ee=u(q),re=H*L,fe=-((1-re?t((1+re)/2)/(1-re):-.5)+ut/(1+re));return[fe*H*u(W),fe*ee]}return N.invert=function(W,q){var L,H=O(W*W+q*q),ee=-Ke/2,re=50;if(!H)return[0,0];do{var fe=ee/2,ye=b(fe),Ce=u(fe),De=Ce/ye,Ue=-t(k(ye));ee-=L=(2/De*Ue-ut*De-H)/(-Ue/(Ce*Ce)+1-ut/(2*ye*ye))*(ye<0?.7:1)}while(k(L)>c&&--re>0);var Ge=u(ee);return[w(W*Ge,H*b(ee)),E(q*Ge/H)]},N}function D(){var Ke=p,Qe=(0,A.U)(U),ut=Qe(Ke);return ut.radius=function(N){return arguments.length?Qe(Ke=N*T):Ke*S},ut.scale(179.976).clipAngle(147)}function B(Ke,Qe){var ut=b(Qe),N=function(W){return W?W/Math.sin(W):1}(C(ut*b(Ke/=2)));return[2*ut*u(Ke)*N,u(Qe)*N]}function Z(){return(0,A.c)(B).scale(152.63)}function F(Ke){var Qe=u(Ke),ut=b(Ke),N=Ke>=0?1:-1,W=d(N*Ke),q=(1+Qe-ut)/2;function L(H,ee){var re=b(ee),fe=b(H/=2);return[(1+re)*u(H),(N*ee>-w(fe,W)-.001?0:10*-N)+q+u(ee)*ut-(1+re)*Qe*fe]}return L.invert=function(H,ee){var re=0,fe=0,ye=50;do{var Ce=b(re),De=u(re),Ue=b(fe),Ge=u(fe),tt=1+Ue,ft=tt*De-H,dt=q+Ge*ut-tt*Qe*Ce-ee,At=tt*Ce/2,Ct=-De*Ge,Et=Qe*tt*De/2,jt=ut*Ue+Qe*Ce*Ge,Dt=Ct*Et-jt*At,$t=(dt*Ct-ft*jt)/Dt/2,Yt=(ft*Et-dt*At)/Dt;k(Yt)>2&&(Yt/=2),re-=$t,fe-=Yt}while((k($t)>c||k(Yt)>c)&&--ye>0);return N*fe>-w(b(re),W)-.001?[2*re,fe]:null},L}function j(){var Ke=20*T,Qe=Ke>=0?1:-1,ut=d(Qe*Ke),N=(0,A.U)(F),W=N(Ke),q=W.stream;return W.parallel=function(L){return arguments.length?(ut=d((Qe=(Ke=L*T)>=0?1:-1)*Ke),N(Ke)):Ke*S},W.stream=function(L){var H=W.rotate(),ee=q(L),re=(W.rotate([0,0]),q(L)),fe=W.precision();return W.rotate(H),ee.sphere=function(){re.polygonStart(),re.lineStart();for(var ye=-180*Qe;Qe*ye<180;ye+=90*Qe)re.point(ye,90*Qe);if(Ke)for(;Qe*(ye-=3*Qe*fe)>=-180;)re.point(ye,Qe*-w(b(ye*T/2),ut)*S);re.lineEnd(),re.polygonEnd()},ee},W.scale(218.695).center([0,28.0974])}function V(Ke,Qe){var ut=d(Qe/2),N=O(1-ut*ut),W=1+N*b(Ke/=2),q=u(Ke)*N/W,L=ut/W,H=q*q,ee=L*L;return[1.3333333333333333*q*(3+H-3*ee),1.3333333333333333*L*(3+3*H-ee)]}function te(){return(0,A.c)(V).scale(66.1603)}B.invert=function(Ke,Qe){if(!(Ke*Ke+4*Qe*Qe>g*g+c)){var ut=Ke,N=Qe,W=25;do{var q,L=u(ut),H=u(ut/2),ee=b(ut/2),re=u(N),fe=b(N),ye=u(2*N),Ce=re*re,De=fe*fe,Ue=H*H,Ge=1-De*ee*ee,tt=Ge?C(fe*ee)*O(q=1/Ge):q=0,ft=2*tt*fe*H-Ke,dt=tt*re-Qe,At=q*(De*Ue+tt*fe*ee*Ce),Ct=q*(.5*L*ye-2*tt*re*H),Et=.25*q*(ye*H-tt*re*De*L),jt=q*(Ce*ee+tt*Ue*fe),Dt=Ct*Et-jt*At;if(!Dt)break;var $t=(dt*Ct-ft*jt)/Dt,Yt=(ft*Et-dt*At)/Dt;ut-=$t,N-=Yt}while((k($t)>c||k(Yt)>c)&&--W>0);return[ut,N]}},V.invert=function(Ke,Qe){if(Qe*=.375,!(Ke*=.375)&&k(Qe)>1)return null;var ut=1+Ke*Ke+Qe*Qe,N=O((ut-O(ut*ut-4*Qe*Qe))/2),W=E(N)/3,q=N?function(re){return t(re+O(re*re-1))}(k(Qe/N))/3:function(re){return t(re+O(re*re+1))}(k(Ke))/3,L=b(W),H=z(q),ee=H*H-L*L;return[2*l(Ke)*w(I(q)*L,.25-ee),2*l(Qe)*w(H*u(W),.25+ee)]};var Q=O(8),$=t(1+m);function G(Ke,Qe){var ut=k(Qe);return ut<v?[Ke,t(d(v+Qe/2))]:[Ke*b(ut)*(2*m-1/u(ut)),l(Qe)*(2*m*(ut-v)-t(d(ut/2)))]}function X(){return(0,A.c)(G).scale(112.314)}G.invert=function(Ke,Qe){if((N=k(Qe))<$)return[Ke,2*a(h(Qe))-p];var ut,N,W=v,q=25;do{var L=b(W/2),H=d(W/2);W-=ut=(Q*(W-v)-t(H)-N)/(Q-L*L/(2*H))}while(k(ut)>x&&--q>0);return[Ke/(b(W)*(Q-1/u(W))),l(Qe)*W]};var J=e(69020);function ne(Ke){var Qe=2*g/Ke;function ut(N,W){var q=(0,J.O)(N,W);if(k(N)>p){var L=w(q[1],q[0]),H=O(q[0]*q[0]+q[1]*q[1]),ee=Qe*s((L-p)/Qe)+p,re=w(u(L-=ee),2-b(L));L=ee+E(g/H*u(re))-re,q[0]=H*b(L),q[1]=H*u(L)}return q}return ut.invert=function(N,W){var q=O(N*N+W*W);if(q>p){var L=w(W,N),H=Qe*s((L-p)/Qe)+p,ee=L>H?-1:1,re=q*b(H-L),fe=1/d(ee*C((re-g)/O(g*(g-2*re)+q*q)));L=H+2*a((fe+ee*O(fe*fe-3))/3),N=q*b(L),W=q*u(L)}return J.O.invert(N,W)},ut}function ie(){var Ke=5,Qe=(0,A.U)(ne),ut=Qe(Ke),N=ut.stream,W=.01,q=-b(W*T),L=u(W*T);return ut.lobes=function(H){return arguments.length?Qe(Ke=+H):Ke},ut.stream=function(H){var ee=ut.rotate(),re=N(H),fe=(ut.rotate([0,0]),N(H));return ut.rotate(ee),re.sphere=function(){fe.polygonStart(),fe.lineStart();for(var ye=0,Ce=360/Ke,De=2*g/Ke,Ue=90-180/Ke,Ge=p;ye<Ke;++ye,Ue-=Ce,Ge-=De)fe.point(w(L*b(Ge),q)*S,E(L*u(Ge))*S),Ue<-90?(fe.point(-90,-180-Ue-W),fe.point(-90,-180-Ue+W)):(fe.point(90,Ue+W),fe.point(90,Ue-W));fe.lineEnd(),fe.polygonEnd()},re},ut.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var ae=e(54724);function le(Ke,Qe){if(arguments.length<2&&(Qe=Ke),Qe===1)return ae.y;if(Qe===1/0)return ce;function ut(N,W){var q=(0,ae.y)(N/Qe,W);return q[0]*=Ke,q}return ut.invert=function(N,W){var q=ae.y.invert(N/Ke,W);return q[0]*=Qe,q},ut}function ce(Ke,Qe){return[Ke*b(Qe)/b(Qe/=2),2*u(Qe)]}function pe(){var Ke=2,Qe=(0,A.U)(le),ut=Qe(Ke);return ut.coefficient=function(N){return arguments.length?Qe(Ke=+N):Ke},ut.scale(169.529)}function ge(Ke,Qe,ut){var N,W,q,L=100;ut=ut===void 0?0:+ut,Qe=+Qe;do(W=Ke(ut))===(q=Ke(ut+c))&&(q=W+c),ut-=N=-1*c*(W-Qe)/(W-q);while(L-- >0&&k(N)>c);return L<0?NaN:ut}function me(Ke,Qe,ut){return Qe===void 0&&(Qe=40),ut===void 0&&(ut=x),function(N,W,q,L){var H,ee,re;q=q===void 0?0:+q,L=L===void 0?0:+L;for(var fe=0;fe<Qe;fe++){var ye=Ke(q,L),Ce=ye[0]-N,De=ye[1]-W;if(k(Ce)<ut&&k(De)<ut)break;var Ue=Ce*Ce+De*De;if(Ue>H)q-=ee/=2,L-=re/=2;else{H=Ue;var Ge=(q>0?-1:1)*ut,tt=(L>0?-1:1)*ut,ft=Ke(q+Ge,L),dt=Ke(q,L+tt),At=(ft[0]-ye[0])/Ge,Ct=(ft[1]-ye[1])/Ge,Et=(dt[0]-ye[0])/tt,jt=(dt[1]-ye[1])/tt,Dt=jt*At-Ct*Et,$t=(k(Dt)<.5?.5:1)/Dt;if(q+=ee=(De*Et-Ce*jt)*$t,L+=re=(Ce*Ct-De*At)*$t,k(ee)<ut&&k(re)<ut)break}}return[q,L]}}function ve(){var Ke=le(1.68,2);function Qe(ut,N){if(ut+N<-1.4){var W=(ut-N+1.6)*(ut+N+1.4)/8;ut+=W,N-=.8*W*u(N+g/2)}var q=Ke(ut,N),L=(1-b(ut*N))/12;return q[1]<0&&(q[0]*=1+L),q[1]>0&&(q[1]*=1+L/1.5*q[0]*q[0]),q}return Qe.invert=me(Qe),Qe}function Me(){return(0,A.c)(ve()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function _e(Ke,Qe){var ut,N=Ke*u(Qe),W=30;do Qe-=ut=(Qe+u(Qe)-N)/(1+b(Qe));while(k(ut)>c&&--W>0);return Qe/2}function we(Ke,Qe,ut){function N(W,q){return[Ke*W*b(q=_e(ut,q)),Qe*u(q)]}return N.invert=function(W,q){return q=E(q/Qe),[W/(Ke*b(q)),E((2*q+u(2*q))/ut)]},N}ce.invert=function(Ke,Qe){var ut=2*E(Qe/2);return[Ke*b(ut/2)/b(ut),ut]};var oe=we(m/p,m,g);function se(){return(0,A.c)(oe).scale(169.529)}var de=2.00276,Ee=1.11072;function Te(Ke,Qe){var ut=_e(g,Qe);return[de*Ke/(1/b(Qe)+Ee/b(ut)),(Qe+m*u(ut))/de]}function Se(){return(0,A.c)(Te).scale(160.857)}function Le(Ke){var Qe=0,ut=(0,A.U)(Ke),N=ut(Qe);return N.parallel=function(W){return arguments.length?ut(Qe=W*T):Qe*S},N}function Oe(Ke,Qe){return[Ke*b(Qe),Qe]}function he(){return(0,A.c)(Oe).scale(152.63)}function xe(Ke){if(!Ke)return Oe;var Qe=1/d(Ke);function ut(N,W){var q=Qe+Ke-W,L=q&&N*b(W)/q;return[q*u(L),Qe-q*b(L)]}return ut.invert=function(N,W){var q=O(N*N+(W=Qe-W)*W),L=Qe+Ke-q;return[q/b(L)*w(N,W),L]},ut}function ke(){return Le(xe).scale(123.082).center([0,26.1441]).parallel(45)}function Re(Ke){function Qe(ut,N){var W=p-N,q=W&&ut*Ke*u(W)/W;return[W*u(q)/Ke,p-W*b(q)]}return Qe.invert=function(ut,N){var W=ut*Ke,q=p-N,L=O(W*W+q*q),H=w(W,q);return[(L?L/u(L):1)*H/Ke,p-L]},Qe}function ze(){var Ke=.5,Qe=(0,A.U)(Re),ut=Qe(Ke);return ut.fraction=function(N){return arguments.length?Qe(Ke=+N):Ke},ut.scale(158.837)}Te.invert=function(Ke,Qe){var ut,N,W=de*Qe,q=Qe<0?-v:v,L=25;do N=W-m*u(q),q-=ut=(u(2*q)+2*q-g*u(N))/(2*b(2*q)+2+g*b(N)*m*b(q));while(k(ut)>c&&--L>0);return N=W-m*u(q),[Ke*(1/b(N)+Ee/b(q))/de,N]},Oe.invert=function(Ke,Qe){return[Ke/b(Qe),Qe]};var Ie=we(1,4/g,g);function He(){return(0,A.c)(Ie).scale(152.63)}var qe=e(24052),Je=e(92992);function st(Ke,Qe,ut,N,W,q){var L,H=b(q);if(k(Ke)>1||k(q)>1)L=C(ut*W+Qe*N*H);else{var ee=u(Ke/2),re=u(q/2);L=2*E(O(ee*ee+Qe*N*re*re))}return k(L)>c?[L,w(N*u(q),Qe*W-ut*N*H)]:[0,0]}function it(Ke,Qe,ut){return C((Ke*Ke+Qe*Qe-ut*ut)/(2*Ke*Qe))}function vt(Ke){return Ke-2*g*o((Ke+g)/(2*g))}function _t(Ke,Qe,ut){for(var N,W=[[Ke[0],Ke[1],u(Ke[1]),b(Ke[1])],[Qe[0],Qe[1],u(Qe[1]),b(Qe[1])],[ut[0],ut[1],u(ut[1]),b(ut[1])]],q=W[2],L=0;L<3;++L,q=N)N=W[L],q.v=st(N[1]-q[1],q[3],q[2],N[3],N[2],N[0]-q[0]),q.point=[0,0];var H=it(W[0].v[0],W[2].v[0],W[1].v[0]),ee=it(W[0].v[0],W[1].v[0],W[2].v[0]),re=g-H;W[2].point[1]=0,W[0].point[0]=-(W[1].point[0]=W[0].v[0]/2);var fe=[W[2].point[0]=W[0].point[0]+W[2].v[0]*b(H),2*(W[0].point[1]=W[1].point[1]=W[2].v[0]*u(H))];return function(ye,Ce){var De,Ue=u(Ce),Ge=b(Ce),tt=new Array(3);for(De=0;De<3;++De){var ft=W[De];if(tt[De]=st(Ce-ft[1],ft[3],ft[2],Ge,Ue,ye-ft[0]),!tt[De][0])return ft.point;tt[De][1]=vt(tt[De][1]-ft.v[1])}var dt=fe.slice();for(De=0;De<3;++De){var At=De==2?0:De+1,Ct=it(W[De].v[0],tt[De][0],tt[At][0]);tt[De][1]<0&&(Ct=-Ct),De?De==1?(Ct=ee-Ct,dt[0]-=tt[De][0]*b(Ct),dt[1]-=tt[De][0]*u(Ct)):(Ct=re-Ct,dt[0]+=tt[De][0]*b(Ct),dt[1]+=tt[De][0]*u(Ct)):(dt[0]+=tt[De][0]*b(Ct),dt[1]-=tt[De][0]*u(Ct))}return dt[0]/=3,dt[1]/=3,dt}}function xt(Ke){return Ke[0]*=T,Ke[1]*=T,Ke}function et(){return nt([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function nt(Ke,Qe,ut){var N=(0,qe.c)({type:"MultiPoint",coordinates:[Ke,Qe,ut]}),W=[-N[0],-N[1]],q=(0,Je.c)(W),L=_t(xt(q(Ke)),xt(q(Qe)),xt(q(ut)));L.invert=me(L);var H=(0,A.c)(L).rotate(W),ee=H.center;return delete H.rotate,H.center=function(re){return arguments.length?ee(q(re)):q.invert(ee())},H.clipAngle(90)}function Mt(Ke,Qe){var ut=O(1-u(Qe));return[2/_*Ke*ut,_*(1-ut)]}function zt(){return(0,A.c)(Mt).scale(95.6464).center([0,30])}function Ft(Ke){var Qe=d(Ke);function ut(N,W){return[N,(N?N/u(N):1)*(u(W)*b(N)-Qe*b(W))]}return ut.invert=Qe?function(N,W){N&&(W*=u(N)/N);var q=b(N);return[N,2*w(O(q*q+Qe*Qe-W*W)-q,Qe-W)]}:function(N,W){return[N,E(N?W*d(N)/N:W)]},ut}function Rt(){return Le(Ft).scale(249.828).clipAngle(90)}Mt.invert=function(Ke,Qe){var ut=(ut=Qe/_-1)*ut;return[ut>0?Ke*O(g/ut)/2:0,E(1-ut)]};var We=O(3);function Ze(Ke,Qe){return[We*Ke*(2*b(2*Qe/3)-1)/_,We*_*u(Qe/3)]}function Ne(){return(0,A.c)(Ze).scale(156.19)}function Ye(Ke){var Qe=b(Ke);function ut(N,W){return[N*Qe,u(W)/Qe]}return ut.invert=function(N,W){return[N/Qe,E(W*Qe)]},ut}function lt(){return Le(Ye).parallel(38.58).scale(195.044)}function at(Ke){var Qe=b(Ke);function ut(N,W){return[N*Qe,(1+Qe)*d(W/2)]}return ut.invert=function(N,W){return[N/Qe,2*a(W/(1+Qe))]},ut}function Fe(){return Le(at).scale(124.75)}function Be(Ke,Qe){var ut=O(8/(3*g));return[ut*Ke*(1-k(Qe)/g),ut*Qe]}function ot(){return(0,A.c)(Be).scale(165.664)}function Xe(Ke,Qe){var ut=O(4-3*u(k(Qe)));return[2/O(6*g)*Ke*ut,l(Qe)*O(2*g/3)*(2-ut)]}function pt(){return(0,A.c)(Xe).scale(165.664)}function mt(Ke,Qe){var ut=O(g*(4+g));return[2/ut*Ke*(1+O(1-4*Qe*Qe/(g*g))),4/ut*Qe]}function yt(){return(0,A.c)(mt).scale(180.739)}function ht(Ke,Qe){var ut=(2+p)*u(Qe);Qe/=2;for(var N=0,W=1/0;N<10&&k(W)>c;N++){var q=b(Qe);Qe-=W=(Qe+u(Qe)*(q+2)-ut)/(2*q*(1+q))}return[2/O(g*(4+g))*Ke*(1+b(Qe)),2*O(g/(4+g))*u(Qe)]}function Lt(){return(0,A.c)(ht).scale(180.739)}function Tt(Ke,Qe){return[Ke*(1+b(Qe))/O(2+g),2*Qe/O(2+g)]}function bt(){return(0,A.c)(Tt).scale(173.044)}function Pt(Ke,Qe){for(var ut=(1+p)*u(Qe),N=0,W=1/0;N<10&&k(W)>c;N++)Qe-=W=(Qe+u(Qe)-ut)/(1+b(Qe));return ut=O(2+g),[Ke*(1+b(Qe))/ut,2*Qe/ut]}function Ot(){return(0,A.c)(Pt).scale(173.044)}Ze.invert=function(Ke,Qe){var ut=3*E(Qe/(We*_));return[_*Ke/(We*(2*b(2*ut/3)-1)),ut]},Be.invert=function(Ke,Qe){var ut=O(8/(3*g)),N=Qe/ut;return[Ke/(ut*(1-k(N)/g)),N]},Xe.invert=function(Ke,Qe){var ut=2-k(Qe)/O(2*g/3);return[Ke*O(6*g)/(2*ut),l(Qe)*E((4-ut*ut)/3)]},mt.invert=function(Ke,Qe){var ut=O(g*(4+g))/2;return[Ke*ut/(1+O(1-Qe*Qe*(4+g)/(4*g))),Qe*ut/2]},ht.invert=function(Ke,Qe){var ut=Qe*O((4+g)/g)/2,N=E(ut),W=b(N);return[Ke/(2/O(g*(4+g))*(1+W)),E((N+ut*(W+2))/(2+p))]},Tt.invert=function(Ke,Qe){var ut=O(2+g),N=Qe*ut/2;return[ut*Ke/(1+b(N)),N]},Pt.invert=function(Ke,Qe){var ut=1+p,N=O(ut/2);return[2*Ke*N/(1+b(Qe*=N)),E((Qe+u(Qe))/ut)]};var Bt=3+2*m;function Kt(Ke,Qe){var ut=u(Ke/=2),N=b(Ke),W=O(b(Qe)),q=b(Qe/=2),L=u(Qe)/(q+m*N*W),H=O(2/(1+L*L)),ee=O((m*q+(N+ut)*W)/(m*q+(N-ut)*W));return[Bt*(H*(ee-1/ee)-2*t(ee)),Bt*(H*L*(ee+1/ee)-2*a(L))]}function on(){return(0,A.c)(Kt).scale(62.5271)}Kt.invert=function(Ke,Qe){if(!(ut=V.invert(Ke/1.2,1.065*Qe)))return null;var ut,N=ut[0],W=ut[1],q=20;Ke/=Bt,Qe/=Bt;do{var L=N/2,H=W/2,ee=u(L),re=b(L),fe=u(H),ye=b(H),Ce=b(W),De=O(Ce),Ue=fe/(ye+m*re*De),Ge=Ue*Ue,tt=O(2/(1+Ge)),ft=(m*ye+(re+ee)*De)/(m*ye+(re-ee)*De),dt=O(ft),At=dt-1/dt,Ct=dt+1/dt,Et=tt*At-2*t(dt)-Ke,jt=tt*Ue*Ct-2*a(Ue)-Qe,Dt=fe&&y*De*ee*Ge/fe,$t=(m*re*ye+De)/(2*(ye+m*re*De)*(ye+m*re*De)*De),Yt=-.5*Ue*tt*tt*tt,Vt=Yt*Dt,gn=Yt*$t,xn=(xn=2*ye+m*De*(re-ee))*xn*dt,Pn=(m*re*ye*De+Ce)/xn,Rn=-m*ee*fe/(De*xn),Wn=At*Vt-2*Pn/dt+tt*(Pn+Pn/ft),ir=At*gn-2*Rn/dt+tt*(Rn+Rn/ft),gr=Ue*Ct*Vt-2*Dt/(1+Ge)+tt*Ct*Dt+tt*Ue*(Pn-Pn/ft),Xn=Ue*Ct*gn-2*$t/(1+Ge)+tt*Ct*$t+tt*Ue*(Rn-Rn/ft),pr=ir*gr-Xn*Wn;if(!pr)break;var wr=(jt*ir-Et*Xn)/pr,Pr=(Et*gr-jt*Wn)/pr;N-=wr,W=i(-p,n(p,W-Pr))}while((k(wr)>c||k(Pr)>c)&&--q>0);return k(k(W)-p)<c?[0,W]:q&&[N,W]};var qt=b(35*T);function Wt(Ke,Qe){var ut=d(Qe/2);return[Ke*qt*O(1-ut*ut),(1+qt)*ut]}function nn(){return(0,A.c)(Wt).scale(137.152)}function En(Ke,Qe){var ut=Qe/2,N=b(ut);return[2*Ke/_*b(Qe)*N*N,_*d(ut)]}function Mn(){return(0,A.c)(En).scale(135.264)}function dn(Ke){var Qe=1-Ke,ut=W(g,0)[0]-W(-g,0)[0],N=O(2*(W(0,p)[1]-W(0,-p)[1])/ut);function W(H,ee){var re=b(ee),fe=u(ee);return[re/(Qe+Ke*re)*H,Qe*ee+Ke*fe]}function q(H,ee){var re=W(H,ee);return[re[0]*N,re[1]/N]}function L(H){return q(0,H)[1]}return q.invert=function(H,ee){var re=ge(L,ee);return[H/N*(Ke+Qe/b(re)),re]},q}function Jt(){var Ke=.5,Qe=(0,A.U)(dn),ut=Qe(Ke);return ut.alpha=function(N){return arguments.length?Qe(Ke=+N):Ke},ut.scale(168.725)}Wt.invert=function(Ke,Qe){var ut=Qe/(1+qt);return[Ke&&Ke/(qt*O(1-ut*ut)),2*a(ut)]},En.invert=function(Ke,Qe){var ut=a(Qe/_),N=b(ut),W=2*ut;return[Ke*_/2/(b(W)*N*N),W]};var un=e(4888),rn=e(69604);function hn(Ke){return[Ke[0]/2,E(d(Ke[1]/2*T))*S]}function kn(Ke){return[2*Ke[0],2*a(u(Ke[1]*T))*S]}function Ln(Ke){Ke==null&&(Ke=un.c);var Qe=Ke(),ut=(0,rn.c)().scale(S).precision(0).clipAngle(null).translate([0,0]);function N(q){return Qe(hn(q))}function W(q){N[q]=function(){return arguments.length?(Qe[q].apply(Qe,arguments),N):Qe[q]()}}return Qe.invert&&(N.invert=function(q){return kn(Qe.invert(q))}),N.stream=function(q){var L=Qe.stream(q),H=ut.stream({point:function(ee,re){L.point(ee/2,E(d(-re/2*T))*S)},lineStart:function(){L.lineStart()},lineEnd:function(){L.lineEnd()},polygonStart:function(){L.polygonStart()},polygonEnd:function(){L.polygonEnd()}});return H.sphere=L.sphere,H},N.rotate=function(q){return arguments.length?(ut.rotate(q),N):ut.rotate()},N.center=function(q){return arguments.length?(Qe.center(hn(q)),N):kn(Qe.center())},W("angle"),W("clipAngle"),W("clipExtent"),W("fitExtent"),W("fitHeight"),W("fitSize"),W("fitWidth"),W("scale"),W("translate"),W("precision"),N.scale(249.5)}function Dn(Ke,Qe){var ut=2*g/Qe,N=Ke*Ke;function W(q,L){var H=(0,J.O)(q,L),ee=H[0],re=H[1],fe=ee*ee+re*re;if(fe>N){var ye=O(fe),Ce=w(re,ee),De=ut*s(Ce/ut),Ue=Ce-De,Ge=Ke*b(Ue),tt=(Ke*u(Ue)-Ue*u(Ge))/(p-Ge),ft=zn(Ue,tt),dt=(g-Ke)/On(ft,Ge,g);ee=ye;var At,Ct=50;do ee-=At=(Ke+On(ft,Ge,ee)*dt-ye)/(ft(ee)*dt);while(k(At)>c&&--Ct>0);re=Ue*u(ee),ee<p&&(re-=tt*(ee-p));var Et=u(De),jt=b(De);H[0]=ee*jt-re*Et,H[1]=ee*Et+re*jt}return H}return W.invert=function(q,L){var H=q*q+L*L;if(H>N){var ee=O(H),re=w(L,q),fe=ut*s(re/ut),ye=re-fe;q=ee*b(ye),L=ee*u(ye);for(var Ce=q-p,De=u(q),Ue=L/De,Ge=q<p?1/0:0,tt=10;;){var ft=Ke*u(Ue),dt=Ke*b(Ue),At=u(dt),Ct=p-dt,Et=(ft-Ue*At)/Ct,jt=zn(Ue,Et);if(k(Ge)<x||!--tt)break;Ue-=Ge=(Ue*De-Et*Ce-L)/(De-2*Ce*(Ct*(dt+Ue*ft*b(dt)-At)-ft*(ft-Ue*At))/(Ct*Ct))}q=(ee=Ke+On(jt,dt,q)*(g-Ke)/On(jt,dt,g))*b(re=fe+Ue),L=ee*u(re)}return J.O.invert(q,L)},W}function zn(Ke,Qe){return function(ut){var N=Ke*b(ut);return ut<p&&(N-=Qe),O(1+N*N)}}function On(Ke,Qe,ut){for(var N=(ut-Qe)/50,W=Ke(Qe)+Ke(ut),q=1,L=Qe;q<50;++q)W+=2*Ke(L+=N);return .5*W*N}function Hn(){var Ke=6,Qe=30*T,ut=b(Qe),N=u(Qe),W=(0,A.U)(Dn),q=W(Qe,Ke),L=q.stream,H=-b(.01*T),ee=u(.01*T);return q.radius=function(re){return arguments.length?(ut=b(Qe=re*T),N=u(Qe),W(Qe,Ke)):Qe*S},q.lobes=function(re){return arguments.length?W(Qe,Ke=+re):Ke},q.stream=function(re){var fe=q.rotate(),ye=L(re),Ce=(q.rotate([0,0]),L(re));return q.rotate(fe),ye.sphere=function(){Ce.polygonStart(),Ce.lineStart();for(var De=0,Ue=2*g/Ke,Ge=0;De<Ke;++De,Ge-=Ue)Ce.point(w(ee*b(Ge),H)*S,E(ee*u(Ge))*S),Ce.point(w(N*b(Ge-Ue/2),ut)*S,E(N*u(Ge-Ue/2))*S);Ce.lineEnd(),Ce.polygonEnd()},ye},q.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function jn(Ke,Qe,ut,N,W,q,L,H){function ee(re,fe){if(!fe)return[Ke*re/g,0];var ye=fe*fe,Ce=Ke+ye*(Qe+ye*(ut+ye*N)),De=fe*(W-1+ye*(q-H+ye*L)),Ue=(Ce*Ce+De*De)/(2*De),Ge=re*E(Ce/Ue)/g;return[Ue*u(Ge),fe*(1+ye*H)+Ue*(1-b(Ge))]}return arguments.length<8&&(H=0),ee.invert=function(re,fe){var ye,Ce,De=g*re/Ke,Ue=fe,Ge=50;do{var tt=Ue*Ue,ft=Ke+tt*(Qe+tt*(ut+tt*N)),dt=Ue*(W-1+tt*(q-H+tt*L)),At=ft*ft+dt*dt,Ct=2*dt,Et=At/Ct,jt=Et*Et,Dt=E(ft/Et)/g,$t=De*Dt,Yt=ft*ft,Vt=(2*Qe+tt*(4*ut+6*tt*N))*Ue,gn=W+tt*(3*q+5*tt*L),xn=(2*(ft*Vt+dt*(gn-1))*Ct-At*(2*(gn-1)))/(Ct*Ct),Pn=b($t),Rn=u($t),Wn=Et*Pn,ir=Et*Rn,gr=De/g*(1/O(1-Yt/jt))*(Vt*Et-ft*xn)/jt,Xn=ir-re,pr=Ue*(1+tt*H)+Et-Wn-fe,wr=xn*Rn+Wn*gr,Pr=Wn*Dt,nr=1+xn-(xn*Pn-ir*gr),hr=ir*Dt,Ar=wr*hr-nr*Pr;if(!Ar)break;De-=ye=(pr*wr-Xn*nr)/Ar,Ue-=Ce=(Xn*hr-pr*Pr)/Ar}while((k(ye)>c||k(Ce)>c)&&--Ge>0);return[De,Ue]},ee}var ar=jn(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function ur(){return(0,A.c)(ar).scale(149.995)}var cr=jn(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function er(){return(0,A.c)(cr).scale(153.93)}var Tr=jn(5/6*g,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Ht(){return(0,A.c)(Tr).scale(130.945)}function an(Ke,Qe){var ut=Ke*Ke,N=Qe*Qe;return[Ke*(1-.162388*N)*(.87-952426e-9*ut*ut),Qe*(1+N/12)]}function _n(){return(0,A.c)(an).scale(131.747)}an.invert=function(Ke,Qe){var ut,N=Ke,W=Qe,q=50;do{var L=W*W;W-=ut=(W*(1+L/12)-Qe)/(1+L/4)}while(k(ut)>c&&--q>0);q=50,Ke/=1-.162388*L;do{var H=(H=N*N)*H;N-=ut=(N*(.87-952426e-9*H)-Ke)/(.87-.00476213*H)}while(k(ut)>c&&--q>0);return[N,W]};var vn=jn(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function Cn(){return(0,A.c)(vn).scale(131.087)}function Gn(Ke){var Qe=Ke(p,0)[0]-Ke(-p,0)[0];function ut(N,W){var q=N>0?-.5:.5,L=Ke(N+q*g,W);return L[0]-=q*Qe,L}return Ke.invert&&(ut.invert=function(N,W){var q=N>0?-.5:.5,L=Ke.invert(N+q*Qe,W),H=L[0]-q*g;return H<-g?H+=2*g:H>g&&(H-=2*g),L[0]=H,L}),ut}function Fn(Ke,Qe){var ut=l(Ke),N=l(Qe),W=b(Qe),q=b(Ke)*W,L=u(Ke)*W,H=u(N*Qe);Ke=k(w(L,H)),Qe=E(q),k(Ke-p)>c&&(Ke%=p);var ee=function(re,fe){if(fe===p)return[0,0];var ye,Ce,De=u(fe),Ue=De*De,Ge=Ue*Ue,tt=1+Ge,ft=1+3*Ge,dt=1-Ge,At=E(1/O(tt)),Ct=dt+Ue*tt*At,Et=(1-De)/Ct,jt=O(Et),Dt=Et*tt,$t=O(Dt),Yt=jt*dt;if(re===0)return[0,-(Yt+Ue*$t)];var Vt,gn=b(fe),xn=1/gn,Pn=2*De*gn,Rn=(-Ct*gn-(1-De)*((-3*Ue+At*ft)*Pn))/(Ct*Ct),Wn=-xn*Pn,ir=-xn*(Ue*tt*Rn+Et*ft*Pn),gr=-2*xn*(dt*(.5*Rn/jt)-2*Ue*jt*Pn),Xn=4*re/g;if(re>.222*g||fe<g/4&&re>.175*g){if(ye=(Yt+Ue*O(Dt*(1+Ge)-Yt*Yt))/(1+Ge),re>g/4)return[ye,ye];var pr=ye,wr=.5*ye;ye=.5*(wr+pr),Ce=50;do{var Pr=ye*(gr+Wn*O(Dt-ye*ye))+ir*E(ye/$t)-Xn;if(!Pr)break;Pr<0?wr=ye:pr=ye,ye=.5*(wr+pr)}while(k(pr-wr)>c&&--Ce>0)}else{ye=c,Ce=25;do{var nr=ye*ye,hr=O(Dt-nr),Ar=gr+Wn*hr,vr=ye*Ar+ir*E(ye/$t)-Xn;ye-=Vt=hr?vr/(Ar+(ir-Wn*nr)/hr):0}while(k(Vt)>c&&--Ce>0)}return[ye,-Yt-Ue*O(Dt-ye*ye)]}(Ke>g/4?p-Ke:Ke,Qe);return Ke>g/4&&(H=ee[0],ee[0]=-ee[1],ee[1]=-H),ee[0]*=ut,ee[1]*=-N,ee}function Nn(){return(0,A.c)(Gn(Fn)).scale(239.75)}function rr(Ke,Qe){var ut,N,W,q,L,H;if(Qe<c)return[(q=u(Ke))-(ut=Qe*(Ke-q*(N=b(Ke)))/4)*N,N+ut*q,1-Qe*q*q/2,Ke-ut];if(Qe>=1-c)return ut=(1-Qe)/4,W=1/(N=z(Ke)),[(q=((H=h(2*(H=Ke)))-1)/(H+1))+ut*((L=N*I(Ke))-Ke)/(N*N),W-ut*q*W*(L-Ke),W+ut*q*W*(L+Ke),2*a(h(Ke))-p+ut*(L-Ke)/N];var ee=[1,0,0,0,0,0,0,0,0],re=[O(Qe),0,0,0,0,0,0,0,0],fe=0;for(N=O(1-Qe),L=1;k(re[fe]/ee[fe])>c&&fe<8;)ut=ee[fe++],re[fe]=(ut-N)/2,ee[fe]=(ut+N)/2,N=O(ut*N),L*=2;W=L*ee[fe]*Ke;do W=(E(q=re[fe]*u(N=W)/ee[fe])+W)/2;while(--fe);return[u(W),q=b(W),q/b(W-N),W]}function Zt(Ke,Qe){if(!Qe)return Ke;if(Qe===1)return t(d(Ke/2+v));for(var ut=1,N=O(1-Qe),W=O(Qe),q=0;k(W)>c;q++){if(Ke%g){var L=a(N*d(Ke)/ut);L<0&&(L+=g),Ke+=L+~~(Ke/g)*g}else Ke+=Ke;W=(ut+N)/2,N=O(ut*N),W=((ut=W)-N)/2}return Ke/(r(2,q)*ut)}function mn(Ke,Qe){var ut=(m-1)/(m+1),N=O(1-ut*ut),W=Zt(p,N*N),q=t(d(g/4+k(Qe)/2)),L=h(-1*q)/O(ut),H=function(re,fe){var ye=re*re,Ce=fe+1,De=1-ye-fe*fe;return[.5*((re>=0?p:-p)-w(De,2*re)),-.25*t(De*De+4*ye)+.5*t(Ce*Ce+ye)]}(L*b(-1*Ke),L*u(-1*Ke)),ee=function(re,fe,ye){var Ce=k(re),De=I(k(fe));if(Ce){var Ue=1/u(Ce),Ge=1/(d(Ce)*d(Ce)),tt=-(Ge+ye*(De*De*Ue*Ue)-1+ye),ft=(-tt+O(tt*tt-(ye-1)*Ge*4))/2;return[Zt(a(1/O(ft)),ye)*l(re),Zt(a(O((ft/Ge-1)/ye)),1-ye)*l(fe)]}return[0,Zt(a(De),1-ye)*l(fe)]}(H[0],H[1],N*N);return[-ee[1],(Qe>=0?1:-1)*(.5*W-ee[0])]}function It(){return(0,A.c)(Gn(mn)).scale(151.496)}Fn.invert=function(Ke,Qe){k(Ke)>1&&(Ke=2*l(Ke)-Ke),k(Qe)>1&&(Qe=2*l(Qe)-Qe);var ut=l(Ke),N=l(Qe),W=-ut*Ke,q=-N*Qe,L=q/W<1,H=function(ye,Ce){for(var De=0,Ue=1,Ge=.5,tt=50;;){var ft=Ge*Ge,dt=O(Ge),At=E(1/O(1+ft)),Ct=1-ft+Ge*(1+ft)*At,Et=(1-dt)/Ct,jt=O(Et),Dt=Et*(1+ft),$t=jt*(1-ft),Yt=O(Dt-ye*ye),Vt=Ce+$t+Ge*Yt;if(k(Ue-De)<x||--tt==0||Vt===0)break;Vt>0?De=Ge:Ue=Ge,Ge=.5*(De+Ue)}if(!tt)return null;var gn=E(dt),xn=b(gn),Pn=1/xn,Rn=2*dt*xn,Wn=(-Ct*xn-(-3*Ge+At*(1+3*ft))*Rn*(1-dt))/(Ct*Ct);return[g/4*(ye*(-2*Pn*((1-ft)*(.5*Wn/jt)-2*Ge*jt*Rn)+-Pn*Rn*Yt)+-Pn*(Ge*(1+ft)*Wn+Et*(1+3*ft)*Rn)*E(ye/O(Dt))),gn]}(L?q:W,L?W:q),ee=H[0],re=H[1],fe=b(re);return L&&(ee=-p-ee),[ut*(w(u(ee)*fe,-u(re))+g),N*E(b(ee)*fe)]},mn.invert=function(Ke,Qe){var ut,N,W,q,L,H,ee=(m-1)/(m+1),re=O(1-ee*ee),fe=(N=-Ke,W=re*re,(ut=.5*Zt(p,re*re)-Qe)?(q=rr(ut,W),N?(H=(L=rr(N,1-W))[1]*L[1]+W*q[0]*q[0]*L[0]*L[0],[[q[0]*L[2]/H,q[1]*q[2]*L[0]*L[1]/H],[q[1]*L[1]/H,-q[0]*q[2]*L[0]*L[2]/H],[q[2]*L[1]*L[2]/H,-W*q[0]*q[1]*L[0]/H]]):[[q[0],0],[q[1],0],[q[2],0]]):[[0,(L=rr(N,1-W))[0]/L[1]],[1/L[1],0],[L[2]/L[1],0]]),ye=function(Ce,De){var Ue=De[0]*De[0]+De[1]*De[1];return[(Ce[0]*De[0]+Ce[1]*De[1])/Ue,(Ce[1]*De[0]-Ce[0]*De[1])/Ue]}(fe[0],fe[1]);return[w(ye[1],ye[0])/-1,2*a(h(-.5*t(ee*ye[0]*ye[0]+ee*ye[1]*ye[1])))-p]};var Xt=e(61780);function tn(Ke){var Qe=u(Ke),ut=b(Ke),N=bn(Ke);function W(q,L){var H=N(q,L);q=H[0],L=H[1];var ee=u(L),re=b(L),fe=b(q),ye=C(Qe*ee+ut*re*fe),Ce=u(ye),De=k(Ce)>c?ye/Ce:1;return[De*ut*u(q),(k(q)>p?De:-De)*(Qe*re-ut*ee*fe)]}return N.invert=bn(-Ke),W.invert=function(q,L){var H=O(q*q+L*L),ee=-u(H),re=b(H),fe=H*re,ye=-L*ee,Ce=H*Qe,De=O(fe*fe+ye*ye-Ce*Ce),Ue=w(fe*Ce+ye*De,ye*Ce-fe*De),Ge=(H>p?-1:1)*w(q*ee,H*b(Ue)*re+L*u(Ue)*ee);return N.invert(Ge,Ue)},W}function bn(Ke){var Qe=u(Ke),ut=b(Ke);return function(N,W){var q=b(W),L=b(N)*q,H=u(N)*q,ee=u(W);return[w(H,L*ut-ee*Qe),E(ee*ut+L*Qe)]}}function yn(){var Ke=0,Qe=(0,A.U)(tn),ut=Qe(Ke),N=ut.rotate,W=ut.stream,q=(0,Xt.c)();return ut.parallel=function(L){if(!arguments.length)return Ke*S;var H=ut.rotate();return Qe(Ke=L*T).rotate(H)},ut.rotate=function(L){return arguments.length?(N.call(ut,[L[0],L[1]-Ke*S]),q.center([-L[0],-L[1]]),ut):((L=N.call(ut))[1]+=Ke*S,L)},ut.stream=function(L){return(L=W(L)).sphere=function(){L.polygonStart();var H,ee=q.radius(89.99)().coordinates[0],re=ee.length-1,fe=-1;for(L.lineStart();++fe<re;)L.point((H=ee[fe])[0],H[1]);for(L.lineEnd(),re=(ee=q.radius(90.01)().coordinates[0]).length-1,L.lineStart();--fe>=0;)L.point((H=ee[fe])[0],H[1]);L.lineEnd(),L.polygonEnd()},L},ut.scale(79.4187).parallel(45).clipAngle(179.999)}var Tn=e(84706),fn=e(16016),Qt=E(1-1/3)*S,en=Ye(0);function ln(Ke){var Qe=Qt*T,ut=Mt(g,Qe)[0]-Mt(-g,Qe)[0],N=en(0,Qe)[1],W=Mt(0,Qe)[1],q=_-W,L=f/Ke,H=4/f,ee=N+q*q*4/f;function re(fe,ye){var Ce,De=k(ye);if(De>Qe){var Ue=n(Ke-1,i(0,o((fe+g)/L)));(Ce=Mt(fe+=g*(Ke-1)/Ke-Ue*L,De))[0]=Ce[0]*f/ut-f*(Ke-1)/(2*Ke)+Ue*f/Ke,Ce[1]=N+4*(Ce[1]-W)*q/f,ye<0&&(Ce[1]=-Ce[1])}else Ce=en(fe,ye);return Ce[0]*=H,Ce[1]/=ee,Ce}return re.invert=function(fe,ye){fe/=H;var Ce=k(ye*=ee);if(Ce>N){var De=n(Ke-1,i(0,o((fe+g)/L)));fe=(fe+g*(Ke-1)/Ke-De*L)*ut/f;var Ue=Mt.invert(fe,.25*(Ce-N)*f/q+W);return Ue[0]-=g*(Ke-1)/Ke-De*L,ye<0&&(Ue[1]=-Ue[1]),Ue}return en.invert(fe,ye)},re}function pn(Ke,Qe){return[Ke,1&Qe?90-c:Qt]}function Sn(Ke,Qe){return[Ke,1&Qe?-90+c:-Qt]}function In(Ke){return[Ke[0]*(1-c),Ke[1]]}function Vn(){var Ke=4,Qe=(0,A.U)(ln),ut=Qe(Ke),N=ut.stream;return ut.lobes=function(W){return arguments.length?Qe(Ke=+W):Ke},ut.stream=function(W){var q=ut.rotate(),L=N(W),H=(ut.rotate([0,0]),N(W));return ut.rotate(q),L.sphere=function(){var ee,re;(0,fn.c)((ee=180/Ke,re=[].concat((0,Tn.ik)(-180,180+ee/2,ee).map(pn),(0,Tn.ik)(180,-180-ee/2,-ee).map(Sn)),{type:"Polygon",coordinates:[ee===180?re.map(In):re]}),H)},L},ut.scale(239.75)}function qn(Ke){var Qe,ut=1+Ke,N=E(u(1/ut)),W=2*O(g/(Qe=g+4*N*ut)),q=.5*W*(ut+O(Ke*(2+Ke))),L=Ke*Ke,H=ut*ut;function ee(re,fe){var ye,Ce,De=1-u(fe);if(De&&De<2){var Ue,Ge=p-fe,tt=25;do{var ft=u(Ge),dt=b(Ge),At=N+w(ft,ut-dt),Ct=1+H-2*ut*dt;Ge-=Ue=(Ge-L*N-ut*ft+Ct*At-.5*De*Qe)/(2*ut*ft*At)}while(k(Ue)>x&&--tt>0);ye=W*O(Ct),Ce=re*At/g}else ye=W*(Ke+De),Ce=re*N/g;return[ye*u(Ce),q-ye*b(Ce)]}return ee.invert=function(re,fe){var ye=re*re+(fe-=q)*fe,Ce=(1+H-ye/(W*W))/(2*ut),De=C(Ce),Ue=u(De),Ge=N+w(Ue,ut-Ce);return[E(re/O(ye))*g/Ge,E(1-2*(De-L*N-ut*Ue+(1+H-2*ut*Ce)*Ge)/Qe)]},ee}function $n(){var Ke=1,Qe=(0,A.U)(qn),ut=Qe(Ke);return ut.ratio=function(N){return arguments.length?Qe(Ke=+N):Ke},ut.scale(167.774).center([0,18.67])}var Zn=.7109889596207567,or=.0528035274542;function tr(Ke,Qe){return Qe>-Zn?((Ke=oe(Ke,Qe))[1]+=or,Ke):Oe(Ke,Qe)}function Qn(){return(0,A.c)(tr).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function mr(Ke,Qe){return k(Qe)>Zn?((Ke=oe(Ke,Qe))[1]-=Qe>0?or:-or,Ke):Oe(Ke,Qe)}function fr(){return(0,A.c)(mr).scale(152.63)}function dr(Ke,Qe,ut,N){var W=O(4*g/(2*ut+(1+Ke-Qe/2)*u(2*ut)+(Ke+Qe)/2*u(4*ut)+Qe/2*u(6*ut))),q=O(N*u(ut)*O((1+Ke*b(2*ut)+Qe*b(4*ut))/(1+Ke+Qe))),L=ut*ee(1);function H(ye){return O(1+Ke*b(2*ye)+Qe*b(4*ye))}function ee(ye){var Ce=ye*ut;return(2*Ce+(1+Ke-Qe/2)*u(2*Ce)+(Ke+Qe)/2*u(4*Ce)+Qe/2*u(6*Ce))/ut}function re(ye){return H(ye)*u(ye)}var fe=function(ye,Ce){var De=ut*ge(ee,L*u(Ce)/ut,Ce/g);isNaN(De)&&(De=ut*l(Ce));var Ue=W*H(De);return[Ue*q*ye/g*b(De),Ue/q*u(De)]};return fe.invert=function(ye,Ce){var De=ge(re,Ce*q/W);return[ye*g/(b(De)*W*q*H(De)),E(ut*ee(De/ut)/L)]},ut===0&&(W=O(N/g),(fe=function(ye,Ce){return[ye*W,u(Ce)/W]}).invert=function(ye,Ce){return[ye/W,E(Ce*W)]}),fe}function sr(){var Ke=1,Qe=0,ut=45*T,N=2,W=(0,A.U)(dr),q=W(Ke,Qe,ut,N);return q.a=function(L){return arguments.length?W(Ke=+L,Qe,ut,N):Ke},q.b=function(L){return arguments.length?W(Ke,Qe=+L,ut,N):Qe},q.psiMax=function(L){return arguments.length?W(Ke,Qe,ut=+L*T,N):ut*S},q.ratio=function(L){return arguments.length?W(Ke,Qe,ut,N=+L):N},q.scale(180.739)}function xr(Ke,Qe,ut,N,W,q,L,H,ee,re,fe){if(fe.nanEncountered)return NaN;var ye,Ce,De,Ue,Ge,tt,ft,dt,At,Ct;if(Ce=Ke(Qe+.25*(ye=ut-Qe)),De=Ke(ut-.25*ye),isNaN(Ce))fe.nanEncountered=!0;else{if(!isNaN(De))return Ct=((tt=(Ue=ye*(N+4*Ce+W)/12)+(Ge=ye*(W+4*De+q)/12))-L)/15,re>ee?(fe.maxDepthCount++,tt+Ct):Math.abs(Ct)<H?tt+Ct:(dt=xr(Ke,Qe,ft=Qe+.5*ye,N,Ce,W,Ue,.5*H,ee,re+1,fe),isNaN(dt)?(fe.nanEncountered=!0,NaN):(At=xr(Ke,ft,ut,W,De,q,Ge,.5*H,ee,re+1,fe),isNaN(At)?(fe.nanEncountered=!0,NaN):dt+At));fe.nanEncountered=!0}}function Sr(Ke,Qe,ut,N,W){N===void 0&&(N=1e-8),W===void 0&&(W=20);var q=Ke(Qe),L=Ke(.5*(Qe+ut)),H=Ke(ut);return xr(Ke,Qe,ut,q,L,H,(q+4*L+H)*(ut-Qe)/6,N,W,1,{maxDepthCount:0,nanEncountered:!1})}function Br(Ke,Qe,ut){function N(De){return Ke+(1-Ke)*r(1-r(De,Qe),1/Qe)}function W(De){return Sr(N,0,De,1e-4)}for(var q=1/W(1),L=1e3,H=1.00000001*q,ee=[],re=0;re<=L;re++)ee.push(W(re/L)*H);function fe(De){var Ue=0,Ge=L,tt=500;do ee[tt]>De?Ge=tt:Ue=tt,tt=Ue+Ge>>1;while(tt>Ue);var ft=ee[tt+1]-ee[tt];return ft&&(ft=(De-ee[tt+1])/ft),(tt+1+ft)/L}var ye=2*fe(1)/g*q/ut,Ce=function(De,Ue){var Ge=fe(k(u(Ue))),tt=N(Ge)*De;return Ge/=ye,[tt,Ue>=0?Ge:-Ge]};return Ce.invert=function(De,Ue){var Ge;return k(Ue*=ye)<1&&(Ge=l(Ue)*E(W(k(Ue))*q)),[De/N(k(Ue)),Ge]},Ce}function hi(){var Ke=0,Qe=2.5,ut=1.183136,N=(0,A.U)(Br),W=N(Ke,Qe,ut);return W.alpha=function(q){return arguments.length?N(Ke=+q,Qe,ut):Ke},W.k=function(q){return arguments.length?N(Ke,Qe=+q,ut):Qe},W.gamma=function(q){return arguments.length?N(Ke,Qe,ut=+q):ut},W.scale(152.63)}function di(Ke,Qe){return k(Ke[0]-Qe[0])<c&&k(Ke[1]-Qe[1])<c}function Gi(Ke,Qe){for(var ut,N,W,q=-1,L=Ke.length,H=Ke[0],ee=[];++q<L;){N=((ut=Ke[q])[0]-H[0])/Qe,W=(ut[1]-H[1])/Qe;for(var re=0;re<Qe;++re)ee.push([H[0]+re*N,H[1]+re*W]);H=ut}return ee.push(ut),ee}function ui(Ke,Qe,ut){var N,W;function q(ee,re){for(var fe=re<0?-1:1,ye=Qe[+(re<0)],Ce=0,De=ye.length-1;Ce<De&&ee>ye[Ce][2][0];++Ce);var Ue=Ke(ee-ye[Ce][1][0],re);return Ue[0]+=Ke(ye[Ce][1][0],fe*re>fe*ye[Ce][0][1]?ye[Ce][0][1]:re)[0],Ue}ut?q.invert=ut(q):Ke.invert&&(q.invert=function(ee,re){for(var fe=W[+(re<0)],ye=Qe[+(re<0)],Ce=0,De=fe.length;Ce<De;++Ce){var Ue=fe[Ce];if(Ue[0][0]<=ee&&ee<Ue[1][0]&&Ue[0][1]<=re&&re<Ue[1][1]){var Ge=Ke.invert(ee-Ke(ye[Ce][1][0],0)[0],re);return Ge[0]+=ye[Ce][1][0],di(q(Ge[0],Ge[1]),[ee,re])?Ge:null}}});var L=(0,A.c)(q),H=L.stream;return L.stream=function(ee){var re=L.rotate(),fe=H(ee),ye=(L.rotate([0,0]),H(ee));return L.rotate(re),fe.sphere=function(){(0,fn.c)(N,ye)},fe},L.lobes=function(ee){return arguments.length?(N=function(re){var fe,ye,Ce,De,Ue,Ge,tt,ft=[],dt=re[0].length;for(tt=0;tt<dt;++tt)ye=(fe=re[0][tt])[0][0],Ce=fe[0][1],De=fe[1][1],Ue=fe[2][0],Ge=fe[2][1],ft.push(Gi([[ye+c,Ce+c],[ye+c,De-c],[Ue-c,De-c],[Ue-c,Ge+c]],30));for(tt=re[1].length-1;tt>=0;--tt)ye=(fe=re[1][tt])[0][0],Ce=fe[0][1],De=fe[1][1],Ue=fe[2][0],Ge=fe[2][1],ft.push(Gi([[Ue-c,Ge-c],[Ue-c,De+c],[ye+c,De+c],[ye+c,Ce-c]],30));return{type:"Polygon",coordinates:[(0,Tn.Uf)(ft)]}}(ee),Qe=ee.map(function(re){return re.map(function(fe){return[[fe[0][0]*T,fe[0][1]*T],[fe[1][0]*T,fe[1][1]*T],[fe[2][0]*T,fe[2][1]*T]]})}),W=Qe.map(function(re){return re.map(function(fe){var ye,Ce=Ke(fe[0][0],fe[0][1])[0],De=Ke(fe[2][0],fe[2][1])[0],Ue=Ke(fe[1][0],fe[0][1])[1],Ge=Ke(fe[1][0],fe[1][1])[1];return Ue>Ge&&(ye=Ue,Ue=Ge,Ge=ye),[[Ce,Ue],[De,Ge]]})}),L):Qe.map(function(re){return re.map(function(fe){return[[fe[0][0]*S,fe[0][1]*S],[fe[1][0]*S,fe[1][1]*S],[fe[2][0]*S,fe[2][1]*S]]})})},Qe!=null&&L.lobes(Qe),L}tr.invert=function(Ke,Qe){return Qe>-Zn?oe.invert(Ke,Qe-or):Oe.invert(Ke,Qe)},mr.invert=function(Ke,Qe){return k(Qe)>Zn?oe.invert(Ke,Qe+(Qe>0?or:-or)):Oe.invert(Ke,Qe)};var Ri=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function _a(){return ui(Te,Ri).scale(160.857)}var wa=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function us(){return ui(mr,wa).scale(152.63)}var bu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Gs(){return ui(oe,bu).scale(169.529)}var Ws=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function vl(){return ui(oe,Ws).scale(169.529).rotate([20,0])}var Qa=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function ml(){return ui(tr,Qa,me).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var yl=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function xl(){return ui(Oe,yl).scale(152.63).rotate([-20,0])}function So(Ke,Qe){return[3/f*Ke*O(g*g/3-Qe*Qe),Qe]}function Vo(){return(0,A.c)(So).scale(158.837)}function cs(Ke){function Qe(ut,N){if(k(k(N)-p)<c)return[0,N<0?-2:2];var W=u(N),q=r((1+W)/(1-W),Ke/2),L=.5*(q+1/q)+b(ut*=Ke);return[2*u(ut)/L,(q-1/q)/L]}return Qe.invert=function(ut,N){var W=k(N);if(k(W-2)<c)return ut?null:[0,l(N)*p];if(W>2)return null;var q=(ut/=2)*ut,L=(N/=2)*N,H=2*N/(1+q+L);return H=r((1+H)/(1-H),1/Ke),[w(2*ut,1-q-L)/Ke,E((H-1)/(H+1))]},Qe}function _i(){var Ke=.5,Qe=(0,A.U)(cs),ut=Qe(Ke);return ut.spacing=function(N){return arguments.length?Qe(Ke=+N):Ke},ut.scale(124.75)}So.invert=function(Ke,Qe){return[f/3*Ke/O(g*g/3-Qe*Qe),Qe]};var Ji=g/m;function Eo(Ke,Qe){return[Ke*(1+O(b(Qe)))/2,Qe/(b(Qe/2)*b(Ke/6))]}function po(){return(0,A.c)(Eo).scale(97.2672)}function eo(Ke,Qe){var ut=Ke*Ke,N=Qe*Qe;return[Ke*(.975534+N*(-.0143059*ut-.119161+-.0547009*N)),Qe*(1.00384+ut*(.0802894+-.02855*N+199025e-9*ut)+N*(.0998909+-.0491032*N))]}function Ho(){return(0,A.c)(eo).scale(139.98)}function go(Ke,Qe){return[u(Ke)/b(Qe),d(Qe)*b(Ke)]}function qo(){return(0,A.c)(go).scale(144.049).clipAngle(89.999)}function Lo(Ke){var Qe=b(Ke),ut=d(v+Ke/2);function N(W,q){var L=q-Ke,H=k(L)<c?W*Qe:k(H=v+q/2)<c||k(k(H)-p)<c?0:W*L/t(d(H)/ut);return[H,L]}return N.invert=function(W,q){var L,H=q+Ke;return[k(q)<c?W/Qe:k(L=v+H/2)<c||k(k(L)-p)<c?0:W*t(d(L)/ut)/q,H]},N}function Go(){return Le(Lo).parallel(40).scale(158.837)}function vo(Ke,Qe){return[Ke,1.25*t(d(v+.4*Qe))]}function Bl(){return(0,A.c)(vo).scale(108.318)}function bl(Ke){var Qe=Ke.length-1;function ut(N,W){for(var q,L=b(W),H=2/(1+L*b(N)),ee=H*L*u(N),re=H*u(W),fe=Qe,ye=Ke[fe],Ce=ye[0],De=ye[1];--fe>=0;)Ce=(ye=Ke[fe])[0]+ee*(q=Ce)-re*De,De=ye[1]+ee*De+re*q;return[Ce=ee*(q=Ce)-re*De,De=ee*De+re*q]}return ut.invert=function(N,W){var q=20,L=N,H=W;do{for(var ee,re=Qe,fe=Ke[re],ye=fe[0],Ce=fe[1],De=0,Ue=0;--re>=0;)De=ye+L*(ee=De)-H*Ue,Ue=Ce+L*Ue+H*ee,ye=(fe=Ke[re])[0]+L*(ee=ye)-H*Ce,Ce=fe[1]+L*Ce+H*ee;var Ge,tt,ft=(De=ye+L*(ee=De)-H*Ue)*De+(Ue=Ce+L*Ue+H*ee)*Ue;L-=Ge=((ye=L*(ee=ye)-H*Ce-N)*De+(Ce=L*Ce+H*ee-W)*Ue)/ft,H-=tt=(Ce*De-ye*Ue)/ft}while(k(Ge)+k(tt)>c*c&&--q>0);if(q){var dt=O(L*L+H*H),At=2*a(.5*dt),Ct=u(At);return[w(L*Ct,dt*b(At)),dt?E(H*Ct/dt):0]}},ut}Eo.invert=function(Ke,Qe){var ut=k(Ke),N=k(Qe),W=c,q=p;N<Ji?q*=N/Ji:W+=6*C(Ji/N);for(var L=0;L<25;L++){var H=u(q),ee=O(b(q)),re=u(q/2),fe=b(q/2),ye=u(W/6),Ce=b(W/6),De=.5*W*(1+ee)-ut,Ue=q/(fe*Ce)-N,Ge=ee?-.25*W*H/ee:0,tt=.5*(1+ee),ft=(1+.5*q*re/fe)/(fe*Ce),dt=q/fe*(ye/6)/(Ce*Ce),At=Ge*dt-ft*tt,Ct=(De*dt-Ue*tt)/At,Et=(Ue*Ge-De*ft)/At;if(q-=Ct,W-=Et,k(Ct)<c&&k(Et)<c)break}return[Ke<0?-W:W,Qe<0?-q:q]},eo.invert=function(Ke,Qe){var ut=l(Ke)*g,N=Qe/2,W=50;do{var q=ut*ut,L=N*N,H=ut*N,ee=ut*(.975534+L*(-.0143059*q-.119161+-.0547009*L))-Ke,re=N*(1.00384+q*(.0802894+-.02855*L+199025e-9*q)+L*(.0998909+-.0491032*L))-Qe,fe=.975534-L*(.119161+3*q*.0143059+.0547009*L),ye=-H*(.238322+.2188036*L+.0286118*q),Ce=H*(.1605788+7961e-7*q+-.0571*L),De=1.00384+q*(.0802894+199025e-9*q)+L*(3*(.0998909-.02855*q)-.245516*L),Ue=ye*Ce-De*fe,Ge=(re*ye-ee*De)/Ue,tt=(ee*Ce-re*fe)/Ue;ut-=Ge,N-=tt}while((k(Ge)>c||k(tt)>c)&&--W>0);return W&&[ut,N]},go.invert=function(Ke,Qe){var ut=Ke*Ke,N=Qe*Qe+1,W=ut+N,q=Ke?y*O((W-O(W*W-4*ut))/ut):1/O(N);return[E(Ke*q),l(Qe)*C(q)]},vo.invert=function(Ke,Qe){return[Ke,2.5*a(h(.8*Qe))-.625*g]};var fs=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],$l=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Ql=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],hs=[[.9245,0],[0,0],[.01943,0]],eu=[[.721316,0],[0,0],[-.00881625,-.00617325]];function _u(){return ds(fs,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function wu(){return ds($l,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function ps(){return ds(Ql,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function mo(){return ds(hs,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Ss(){return ds(eu,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function ds(Ke,Qe){var ut=(0,A.c)(bl(Ke)).rotate(Qe).clipAngle(90),N=(0,Je.c)(Qe),W=ut.center;return delete ut.rotate,ut.center=function(q){return arguments.length?W(N(q)):N.invert(W())},ut}var Ys=O(6),gs=O(7);function to(Ke,Qe){var ut=E(7*u(Qe)/(3*Ys));return[Ys*Ke*(2*b(2*ut/3)-1)/gs,9*u(ut/3)/gs]}function Nl(){return(0,A.c)(to).scale(164.859)}function Wo(Ke,Qe){for(var ut,N=(1+y)*u(Qe),W=Qe,q=0;q<25&&(W-=ut=(u(W/2)+u(W)-N)/(.5*b(W/2)+b(W)),!(k(ut)<c));q++);return[Ke*(1+2*b(W)/b(W/2))/(3*m),2*O(3)*u(W/2)/O(2+m)]}function Co(){return(0,A.c)(Wo).scale(188.209)}function Po(Ke,Qe){for(var ut,N=O(6/(4+g)),W=(1+g/4)*u(Qe),q=Qe/2,L=0;L<25&&(q-=ut=(q/2+u(q)-W)/(.5+b(q)),!(k(ut)<c));L++);return[N*(.5+b(q))*Ke/1.5,N*q]}function Yo(){return(0,A.c)(Po).scale(166.518)}to.invert=function(Ke,Qe){var ut=3*E(Qe*gs/9);return[Ke*gs/(Ys*(2*b(2*ut/3)-1)),E(3*u(ut)*Ys/7)]},Wo.invert=function(Ke,Qe){var ut=Qe*O(2+m)/(2*O(3)),N=2*E(ut);return[3*m*Ke/(1+2*b(N)/b(N/2)),E((ut+u(N))/(1+y))]},Po.invert=function(Ke,Qe){var ut=O(6/(4+g)),N=Qe/ut;return k(k(N)-p)<c&&(N=N<0?-p:p),[1.5*Ke/(ut*(.5+b(N))),E((N/2+u(N))/(1+g/4))]};var Wr=e(47984);function Es(Ke,Qe){var ut=Qe*Qe,N=ut*ut,W=ut*N;return[Ke*(.84719-.13063*ut+W*W*(.05494*ut-.04515-.02326*N+.00331*W)),Qe*(1.01183+N*N*(.01926*ut-.02625-.00396*N))]}function Tu(){return(0,A.c)(Es).scale(175.295)}function _l(Ke,Qe){return[Ke*(1+b(Qe))/2,2*(Qe-d(Qe/2))]}function Ls(){return(0,A.c)(_l).scale(152.63)}Es.invert=function(Ke,Qe){var ut,N,W,q,L=Qe,H=25;do L-=ut=(L*(1.01183+(W=(N=L*L)*N)*W*(.01926*N-.02625-.00396*W))-Qe)/(1.01183+W*W*(.21186*N-.23625+-.05148*W));while(k(ut)>x&&--H>0);return[Ke/(.84719-.13063*(N=L*L)+(q=N*(W=N*N))*q*(.05494*N-.04515-.02326*W+.00331*q)),L]},_l.invert=function(Ke,Qe){for(var ut=Qe/2,N=0,W=1/0;N<10&&k(W)>c;++N){var q=b(Qe/2);Qe-=W=(Qe-d(Qe/2)-ut)/(1-.5/(q*q))}return[2*Ke/(1+b(Qe)),Qe]};var tu=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function ku(){return ui(le(1/0),tu).rotate([20,0]).scale(152.63)}function wl(Ke,Qe){var ut=u(Qe),N=b(Qe),W=l(Ke);if(Ke===0||k(Qe)===p)return[0,Qe];if(Qe===0)return[Ke,0];if(k(Ke)===p)return[Ke*N,p*ut];var q=g/(2*Ke)-2*Ke/g,L=2*Qe/g,H=(1-L*L)/(ut-L),ee=q*q,re=H*H,fe=1+ee/re,ye=1+re/ee,Ce=(q*ut/H-q/2)/fe,De=(re*ut/ee+H/2)/ye,Ue=De*De-(re*ut*ut/ee+H*ut-1)/ye;return[p*(Ce+O(Ce*Ce+N*N/fe)*W),p*(De+O(Ue<0?0:Ue)*l(-Qe*q)*W)]}function Au(){return(0,A.c)(wl).scale(127.267)}wl.invert=function(Ke,Qe){var ut=(Ke/=p)*Ke,N=ut+(Qe/=p)*Qe,W=g*g;return[Ke?(N-1+O((1-N)*(1-N)+4*ut))/(2*Ke)*p:0,ge(function(q){return N*(g*u(q)-2*q)*g+4*q*q*(Qe-u(q))+2*g*q-W*Qe},0)]};var Zo=1.0148,vs=.23185,Oo=-.14499,no=.02406,Cs=Zo,nu=5*vs,Zs=7*Oo,Tl=9*no,Ba=1.790857183;function kl(Ke,Qe){var ut=Qe*Qe;return[Ke,Qe*(Zo+ut*ut*(vs+ut*(Oo+no*ut)))]}function ru(){return(0,A.c)(kl).scale(139.319)}function Ps(Ke,Qe){if(k(Qe)<c)return[Ke,0];var ut=d(Qe),N=Ke*u(Qe);return[u(N)/ut,Qe+(1-b(N))/ut]}function ms(){return(0,A.c)(Ps).scale(103.74)}kl.invert=function(Ke,Qe){Qe>Ba?Qe=Ba:Qe<-1.790857183&&(Qe=-1.790857183);var ut,N=Qe;do{var W=N*N;N-=ut=(N*(Zo+W*W*(vs+W*(Oo+no*W)))-Qe)/(Cs+W*W*(nu+W*(Zs+Tl*W)))}while(k(ut)>c);return[Ke,N]},Ps.invert=function(Ke,Qe){if(k(Qe)<c)return[Ke,0];var ut,N=Ke*Ke+Qe*Qe,W=.5*Qe,q=10;do{var L=d(W),H=1/b(W),ee=N-2*Qe*W+W*W;W-=ut=(L*ee+2*(W-Qe))/(2+ee*H*H+2*(W-Qe)*L)}while(k(ut)>c&&--q>0);return L=d(W),[(k(Qe)<k(W+1/L)?E(Ke*L):l(Qe)*l(Ke)*(C(k(Ke*L))+p))/u(W),W]};var Os=e(13696),ys=e(27284);function xs(Ke,Qe){return[Ke[0]*Qe[0]+Ke[1]*Qe[3],Ke[0]*Qe[1]+Ke[1]*Qe[4],Ke[0]*Qe[2]+Ke[1]*Qe[5]+Ke[2],Ke[3]*Qe[0]+Ke[4]*Qe[3],Ke[3]*Qe[1]+Ke[4]*Qe[4],Ke[3]*Qe[2]+Ke[4]*Qe[5]+Ke[5]]}function Xs(Ke,Qe){return[Ke[0]-Qe[0],Ke[1]-Qe[1]]}function Al(Ke){return O(Ke[0]*Ke[0]+Ke[1]*Ke[1])}function oi(Ke,Qe,ut){function N(H,ee){var re,fe=Qe(H,ee),ye=fe.project([H*S,ee*S]);return(re=fe.transform)?[re[0]*ye[0]+re[1]*ye[1]+re[2],-(re[3]*ye[0]+re[4]*ye[1]+re[5])]:(ye[1]=-ye[1],ye)}function W(H,ee){var re=H.project.invert,fe=H.transform,ye=ee;if(fe&&(fe=function(tt){var ft=1/(tt[0]*tt[4]-tt[1]*tt[3]);return[ft*tt[4],-ft*tt[1],ft*(tt[1]*tt[5]-tt[2]*tt[4]),-ft*tt[3],ft*tt[0],ft*(tt[2]*tt[3]-tt[0]*tt[5])]}(fe),ye=[fe[0]*ye[0]+fe[1]*ye[1]+fe[2],fe[3]*ye[0]+fe[4]*ye[1]+fe[5]]),re&&H===function(tt){return Qe(tt[0]*T,tt[1]*T)}(Ce=re(ye)))return Ce;for(var Ce,De=H.children,Ue=0,Ge=De&&De.length;Ue<Ge;++Ue)if(Ce=W(De[Ue],ee))return Ce}(function H(ee,re){if(ee.edges=function(Et){for(var jt=Et.length,Dt=[],$t=Et[jt-1],Yt=0;Yt<jt;++Yt)Dt.push([$t,$t=Et[Yt]]);return Dt}(ee.face),re.face){var fe=ee.shared=function(Et,jt){for(var Dt,$t,Yt=Et.length,Vt=null,gn=0;gn<Yt;++gn){Dt=Et[gn];for(var xn=jt.length;--xn>=0;)if($t=jt[xn],Dt[0]===$t[0]&&Dt[1]===$t[1]){if(Vt)return[Vt,Dt];Vt=Dt}}}(ee.face,re.face),ye=(Ge=fe.map(re.project),tt=fe.map(ee.project),ft=Xs(Ge[1],Ge[0]),dt=Xs(tt[1],tt[0]),At=function(Et,jt){return w(Et[0]*jt[1]-Et[1]*jt[0],Et[0]*jt[0]+Et[1]*jt[1])}(ft,dt),Ct=Al(ft)/Al(dt),xs([1,0,Ge[0][0],0,1,Ge[0][1]],xs([Ct,0,0,0,Ct,0],xs([b(At),u(At),0,-u(At),b(At),0],[1,0,-tt[0][0],0,1,-tt[0][1]]))));ee.transform=re.transform?xs(re.transform,ye):ye;for(var Ce=re.edges,De=0,Ue=Ce.length;De<Ue;++De)ca(fe[0],Ce[De][1])&&ca(fe[1],Ce[De][0])&&(Ce[De]=ee),ca(fe[0],Ce[De][0])&&ca(fe[1],Ce[De][1])&&(Ce[De]=ee);for(De=0,Ue=(Ce=ee.edges).length;De<Ue;++De)ca(fe[0],Ce[De][0])&&ca(fe[1],Ce[De][1])&&(Ce[De]=re),ca(fe[0],Ce[De][1])&&ca(fe[1],Ce[De][0])&&(Ce[De]=re)}else ee.transform=re.transform;var Ge,tt,ft,dt,At,Ct;return ee.children&&ee.children.forEach(function(Et){H(Et,ee)}),ee})(Ke,{transform:null}),ro(Ke)&&(N.invert=function(H,ee){var re=W(Ke,[H,-ee]);return re&&(re[0]*=T,re[1]*=T,re)});var q=(0,A.c)(N),L=q.stream;return q.stream=function(H){var ee=q.rotate(),re=L(H),fe=(q.rotate([0,0]),L(H));return q.rotate(ee),re.sphere=function(){fe.polygonStart(),fe.lineStart(),Xo(fe,Ke),fe.lineEnd(),fe.polygonEnd()},re},q.angle(ut==null?-30:ut*S)}function Xo(Ke,Qe,ut){var N,W,q=Qe.edges,L=q.length,H={type:"MultiPoint",coordinates:Qe.face},ee=Qe.face.filter(function(Ge){return k(Ge[1])!==90}),re=(0,Os.c)({type:"MultiPoint",coordinates:ee}),fe=!1,ye=-1,Ce=re[1][0]-re[0][0],De=Ce===180||Ce===360?[(re[0][0]+re[1][0])/2,(re[0][1]+re[1][1])/2]:(0,qe.c)(H);if(ut)for(;++ye<L&&q[ye]!==ut;);++ye;for(var Ue=0;Ue<L;++Ue)W=q[(Ue+ye)%L],Array.isArray(W)?(fe||(Ke.point((N=(0,ys.c)(W[0],De)(c))[0],N[1]),fe=!0),Ke.point((N=(0,ys.c)(W[1],De)(c))[0],N[1])):(fe=!1,W!==ut&&Xo(Ke,W,Qe))}function ca(Ke,Qe){return Ke&&Qe&&Ke[0]===Qe[0]&&Ke[1]===Qe[1]}function ro(Ke){return Ke.project.invert||Ke.children&&Ke.children.some(ro)}var Qr=e(53285),ai=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Na=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Ke){return Ke.map(function(Qe){return ai[Qe]})});function Is(Ke){Ke=Ke||function(ut){var N=(0,qe.c)({type:"MultiPoint",coordinates:ut});return(0,Qr.c)().scale(1).translate([0,0]).rotate([-N[0],-N[1]])};var Qe=Na.map(function(ut){return{face:ut,project:Ke(ut)}});return[-1,0,0,1,0,1,4,5].forEach(function(ut,N){var W=Qe[ut];W&&(W.children||(W.children=[])).push(Qe[N])}),oi(Qe[0],function(ut,N){return Qe[ut<-g/2?N<0?6:4:ut<0?N<0?2:0:ut<g/2?N<0?3:1:N<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var Ks=2/O(3);function Ml(Ke,Qe){var ut=Mt(Ke,Qe);return[ut[0]*Ks,ut[1]]}function Js(Ke){Ke=Ke||function(ut){var N=(0,qe.c)({type:"MultiPoint",coordinates:ut});return(0,A.c)(Ml).translate([0,0]).scale(1).rotate(N[1]>0?[-N[0],0]:[180-N[0],180])};var Qe=Na.map(function(ut){return{face:ut,project:Ke(ut)}});return[-1,0,0,1,0,1,4,5].forEach(function(ut,N){var W=Qe[ut];W&&(W.children||(W.children=[])).push(Qe[N])}),oi(Qe[0],function(ut,N){return Qe[ut<-g/2?N<0?6:4:ut<0?N<0?2:0:ut<g/2?N<0?3:1:N<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function $s(Ke){Ke=Ke||function(q){var L=q.length===6?(0,qe.c)({type:"MultiPoint",coordinates:q}):q[0];return(0,Qr.c)().scale(1).translate([0,0]).rotate([-L[0],-L[1]])};var Qe=Na.map(function(q){for(var L,H=q.map(Jo),ee=H.length,re=H[ee-1],fe=[],ye=0;ye<ee;++ye)L=H[ye],fe.push(Ko([.9486832980505138*re[0]+.31622776601683794*L[0],.9486832980505138*re[1]+.31622776601683794*L[1],.9486832980505138*re[2]+.31622776601683794*L[2]]),Ko([.9486832980505138*L[0]+.31622776601683794*re[0],.9486832980505138*L[1]+.31622776601683794*re[1],.9486832980505138*L[2]+.31622776601683794*re[2]])),re=L;return fe}),ut=[],N=[-1,0,0,1,0,1,4,5];Qe.forEach(function(q,L){for(var H,ee,re=Na[L],fe=re.length,ye=ut[L]=[],Ce=0;Ce<fe;++Ce)Qe.push([re[Ce],q[(2*Ce+2)%(2*fe)],q[(2*Ce+1)%(2*fe)]]),N.push(L),ye.push((H=Jo(q[(2*Ce+2)%(2*fe)]),ee=Jo(q[(2*Ce+1)%(2*fe)]),[H[1]*ee[2]-H[2]*ee[1],H[2]*ee[0]-H[0]*ee[2],H[0]*ee[1]-H[1]*ee[0]]))});var W=Qe.map(function(q){return{project:Ke(q),face:q}});return N.forEach(function(q,L){var H=W[q];H&&(H.children||(H.children=[])).push(W[L])}),oi(W[0],function(q,L){var H=b(L),ee=[H*b(q),H*u(q),u(L)],re=q<-g/2?L<0?6:4:q<0?L<0?2:0:q<g/2?L<0?3:1:L<0?7:5,fe=ut[re];return W[qa(fe[0],ee)<0?8+3*re:qa(fe[1],ee)<0?8+3*re+1:qa(fe[2],ee)<0?8+3*re+2:re]}).angle(-30).scale(110.625).center([0,45])}function qa(Ke,Qe){for(var ut=0,N=Ke.length,W=0;ut<N;++ut)W+=Ke[ut]*Qe[ut];return W}function Ko(Ke){return[w(Ke[1],Ke[0])*S,E(i(-1,n(1,Ke[2])))*S]}function Jo(Ke){var Qe=Ke[0]*T,ut=Ke[1]*T,N=b(ut);return[N*b(Qe),N*u(Qe),u(ut)]}function va(){}function Qs(Ke,Qe){var ut,N=Qe.stream;if(!N)throw new Error("invalid projection");switch(Ke&&Ke.type){case"Feature":ut=$i;break;case"FeatureCollection":ut=Ga;break;default:ut=ia}return ut(Ke,N)}function Ga(Ke,Qe){return{type:"FeatureCollection",features:Ke.features.map(function(ut){return $i(ut,Qe)})}}function $i(Ke,Qe){return{type:"Feature",id:Ke.id,properties:Ke.properties,geometry:ia(Ke.geometry,Qe)}}function ia(Ke,Qe){if(!Ke)return null;if(Ke.type==="GeometryCollection")return function(N,W){return{type:"GeometryCollection",geometries:N.geometries.map(function(q){return ia(q,W)})}}(Ke,Qe);var ut;switch(Ke.type){case"Point":case"MultiPoint":ut=yo;break;case"LineString":case"MultiLineString":ut=bs;break;case"Polygon":case"MultiPolygon":case"Sphere":ut=io;break;default:return null}return(0,fn.c)(Ke,Qe(ut)),ut.result()}Ml.invert=function(Ke,Qe){return Mt.invert(Ke/Ks,Qe)};var pi=[],aa=[],yo={point:function(Ke,Qe){pi.push([Ke,Qe])},result:function(){var Ke=pi.length?pi.length<2?{type:"Point",coordinates:pi[0]}:{type:"MultiPoint",coordinates:pi}:null;return pi=[],Ke}},bs={lineStart:va,point:function(Ke,Qe){pi.push([Ke,Qe])},lineEnd:function(){pi.length&&(aa.push(pi),pi=[])},result:function(){var Ke=aa.length?aa.length<2?{type:"LineString",coordinates:aa[0]}:{type:"MultiLineString",coordinates:aa}:null;return aa=[],Ke}},io={polygonStart:va,lineStart:va,point:function(Ke,Qe){pi.push([Ke,Qe])},lineEnd:function(){var Ke=pi.length;if(Ke){do pi.push(pi[0].slice());while(++Ke<4);aa.push(pi),pi=[]}},polygonEnd:va,result:function(){if(!aa.length)return null;var Ke=[],Qe=[];return aa.forEach(function(ut){(function(N){if((W=N.length)<4)return!1;for(var W,q=0,L=N[W-1][1]*N[0][0]-N[W-1][0]*N[0][1];++q<W;)L+=N[q-1][1]*N[q][0]-N[q-1][0]*N[q][1];return L<=0})(ut)?Ke.push([ut]):Qe.push(ut)}),Qe.forEach(function(ut){var N=ut[0];Ke.some(function(W){if(function(q,L){for(var H=L[0],ee=L[1],re=!1,fe=0,ye=q.length,Ce=ye-1;fe<ye;Ce=fe++){var De=q[fe],Ue=De[0],Ge=De[1],tt=q[Ce],ft=tt[0],dt=tt[1];Ge>ee^dt>ee&&H<(ft-Ue)*(ee-Ge)/(dt-Ge)+Ue&&(re=!re)}return re}(W[0],N))return W.push(ut),!0})||Ke.push([ut])}),aa=[],Ke.length?Ke.length>1?{type:"MultiPolygon",coordinates:Ke}:{type:"Polygon",coordinates:Ke[0]}:null}};function $o(Ke){var Qe=Ke(p,0)[0]-Ke(-p,0)[0];function ut(N,W){var q=k(N)<p,L=Ke(q?N:N>0?N-g:N+g,W),H=(L[0]-L[1])*y,ee=(L[0]+L[1])*y;if(q)return[H,ee];var re=Qe*y,fe=H>0^ee>0?-1:1;return[fe*H-l(ee)*re,fe*ee-l(H)*re]}return Ke.invert&&(ut.invert=function(N,W){var q=(N+W)*y,L=(W-N)*y,H=k(q)<.5*Qe&&k(L)<.5*Qe;if(!H){var ee=Qe*y,re=q>0^L>0?-1:1,fe=-re*N+(L>0?1:-1)*ee,ye=-re*W+(q>0?1:-1)*ee;q=(-fe-ye)*y,L=(fe-ye)*y}var Ce=Ke.invert(q,L);return H||(Ce[0]+=q>0?g:-g),Ce}),(0,A.c)(ut).rotate([-90,-90,45]).clipAngle(179.999)}function Ta(){return $o(Fn).scale(176.423)}function _s(){return $o(mn).scale(111.48)}function Io(Ke,Qe){if(!(0<=(Qe=+Qe)&&Qe<=20))throw new Error("invalid digits");function ut(re){var fe=re.length,ye=2,Ce=new Array(fe);for(Ce[0]=+re[0].toFixed(Qe),Ce[1]=+re[1].toFixed(Qe);ye<fe;)Ce[ye]=re[ye],++ye;return Ce}function N(re){return re.map(ut)}function W(re){for(var fe=ut(re[0]),ye=[fe],Ce=1;Ce<re.length;Ce++){var De=ut(re[Ce]);(De.length>2||De[0]!=fe[0]||De[1]!=fe[1])&&(ye.push(De),fe=De)}return ye.length===1&&re.length>1&&ye.push(ut(re[re.length-1])),ye}function q(re){return re.map(W)}function L(re){if(re==null)return re;var fe;switch(re.type){case"GeometryCollection":fe={type:"GeometryCollection",geometries:re.geometries.map(L)};break;case"Point":fe={type:"Point",coordinates:ut(re.coordinates)};break;case"MultiPoint":fe={type:re.type,coordinates:N(re.coordinates)};break;case"LineString":fe={type:re.type,coordinates:W(re.coordinates)};break;case"MultiLineString":case"Polygon":fe={type:re.type,coordinates:q(re.coordinates)};break;case"MultiPolygon":fe={type:"MultiPolygon",coordinates:re.coordinates.map(q)};break;default:return re}return re.bbox!=null&&(fe.bbox=re.bbox),fe}function H(re){var fe={type:"Feature",properties:re.properties,geometry:L(re.geometry)};return re.id!=null&&(fe.id=re.id),re.bbox!=null&&(fe.bbox=re.bbox),fe}if(Ke!=null)switch(Ke.type){case"Feature":return H(Ke);case"FeatureCollection":var ee={type:"FeatureCollection",features:Ke.features.map(H)};return Ke.bbox!=null&&(ee.bbox=Ke.bbox),ee;default:return L(Ke)}return Ke}function Wa(Ke){var Qe=u(Ke);function ut(N,W){var q=Qe?d(N*Qe/2)/Qe:N/2;if(!W)return[2*q,-Ke];var L=2*a(q*u(W)),H=1/d(W);return[u(L)*H,W+(1-b(L))*H-Ke]}return ut.invert=function(N,W){if(k(W+=Ke)<c)return[Qe?2*a(Qe*N/2)/Qe:N,0];var q,L=N*N+W*W,H=0,ee=10;do{var re=d(H),fe=1/b(H),ye=L-2*W*H+H*H;H-=q=(re*ye+2*(H-W))/(2+ye*fe*fe+2*(H-W)*re)}while(k(q)>c&&--ee>0);var Ce=N*(re=d(H)),De=d(k(W)<k(H+1/re)?.5*E(Ce):.5*C(Ce)+g/4)/u(H);return[Qe?2*a(Qe*De)/Qe:2*De,H]},ut}function Ya(){return Le(Wa).scale(131.215)}var gi=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function ao(Ke,Qe){var ut,N=n(18,36*k(Qe)/g),W=o(N),q=N-W,L=(ut=gi[W])[0],H=ut[1],ee=(ut=gi[++W])[0],re=ut[1],fe=(ut=gi[n(19,++W)])[0],ye=ut[1];return[Ke*(ee+q*(fe-L)/2+q*q*(fe-2*ee+L)/2),(Qe>0?p:-p)*(re+q*(ye-H)/2+q*q*(ye-2*re+H)/2)]}function Er(){return(0,A.c)(ao).scale(152.63)}function el(Ke,Qe){var ut=function(L){function H(ee,re){var fe=b(re),ye=(L-1)/(L-fe*b(ee));return[ye*fe*u(ee),ye*u(re)]}return H.invert=function(ee,re){var fe=ee*ee+re*re,ye=O(fe),Ce=(L-O(1-fe*(L+1)/(L-1)))/((L-1)/ye+ye/(L-1));return[w(ee*Ce,ye*O(1-Ce*Ce)),ye?E(re*Ce/ye):0]},H}(Ke);if(!Qe)return ut;var N=b(Qe),W=u(Qe);function q(L,H){var ee=ut(L,H),re=ee[1],fe=re*W/(Ke-1)+N;return[ee[0]*N/fe,re/fe]}return q.invert=function(L,H){var ee=(Ke-1)/(Ke-1-H*W);return ut.invert(ee*L,ee*H*N)},q}function jl(){var Ke=2,Qe=0,ut=(0,A.U)(el),N=ut(Ke,Qe);return N.distance=function(W){return arguments.length?ut(Ke=+W,Qe):Ke},N.tilt=function(W){return arguments.length?ut(Ke,Qe=W*T):Qe*S},N.scale(432.147).clipAngle(C(1/Ke)*S-1e-6)}gi.forEach(function(Ke){Ke[1]*=1.0144}),ao.invert=function(Ke,Qe){var ut=Qe/p,N=90*ut,W=n(18,k(N/5)),q=i(0,o(W));do{var L=gi[q][1],H=gi[q+1][1],ee=gi[n(19,q+2)][1],re=ee-L,fe=ee-2*H+L,ye=2*(k(ut)-H)/re,Ce=fe/re,De=ye*(1-Ce*ye*(1-2*Ce*ye));if(De>=0||q===1){N=(Qe>=0?5:-5)*(De+W);var Ue,Ge=50;do De=(W=n(18,k(N)/5))-(q=o(W)),L=gi[q][1],H=gi[q+1][1],ee=gi[n(19,q+2)][1],N-=(Ue=(Qe>=0?p:-p)*(H+De*(ee-L)/2+De*De*(ee-2*H+L)/2)-Qe)*S;while(k(Ue)>x&&--Ge>0);break}}while(--q>=0);var tt=gi[q][0],ft=gi[q+1][0],dt=gi[n(19,q+2)][0];return[Ke/(ft+De*(dt-tt)/2+De*De*(dt-2*ft+tt)/2),N*T]};var Qo=1e-4,es=1e4,ws=-180,Rs=ws+Qo,_r=180,tl=_r-Qo,Ro=-90,Qi=Ro+Qo,ts=90,oo=ts-Qo;function Za(Ke){return Ke.length>0}function ma(Ke){return Ke===Ro||Ke===ts?[0,Ke]:[ws,(Qe=Ke,Math.floor(Qe*es)/es)];var Qe}function xo(Ke){var Qe=Ke[0],ut=Ke[1],N=!1;return Qe<=Rs?(Qe=ws,N=!0):Qe>=tl&&(Qe=_r,N=!0),ut<=Qi?(ut=Ro,N=!0):ut>=oo&&(ut=ts,N=!0),N?[Qe,ut]:Ke}function Xa(Ke){return Ke.map(xo)}function Do(Ke,Qe,ut){for(var N=0,W=Ke.length;N<W;++N){var q=Ke[N].slice();ut.push({index:-1,polygon:Qe,ring:q});for(var L=0,H=q.length;L<H;++L){var ee=q[L],re=ee[0],fe=ee[1];if(re<=Rs||re>=tl||fe<=Qi||fe>=oo){q[L]=xo(ee);for(var ye=L+1;ye<H;++ye){var Ce=q[ye],De=Ce[0],Ue=Ce[1];if(De>Rs&&De<tl&&Ue>Qi&&Ue<oo)break}if(ye===L+1)continue;if(L){var Ge={index:-1,polygon:Qe,ring:q.slice(0,L+1)};Ge.ring[Ge.ring.length-1]=ma(fe),ut[ut.length-1]=Ge}else ut.pop();if(ye>=H)break;ut.push({index:-1,polygon:Qe,ring:q=q.slice(ye-1)}),q[0]=ma(q[0][1]),L=-1,H=q.length}}}}function nl(Ke){var Qe,ut,N,W,q,L,H=Ke.length,ee={},re={};for(Qe=0;Qe<H;++Qe)N=(ut=Ke[Qe]).ring[0],q=ut.ring[ut.ring.length-1],N[0]!==q[0]||N[1]!==q[1]?(ut.index=Qe,ee[N]=re[q]=ut):(ut.polygon.push(ut.ring),Ke[Qe]=null);for(Qe=0;Qe<H;++Qe)if(ut=Ke[Qe]){if(N=ut.ring[0],q=ut.ring[ut.ring.length-1],W=re[N],L=ee[q],delete ee[N],delete re[q],N[0]===q[0]&&N[1]===q[1]){ut.polygon.push(ut.ring);continue}W?(delete re[N],delete ee[W.ring[0]],W.ring.pop(),Ke[W.index]=null,ut={index:-1,polygon:W.polygon,ring:W.ring.concat(ut.ring)},W===L?ut.polygon.push(ut.ring):(ut.index=H++,Ke.push(ee[ut.ring[0]]=re[ut.ring[ut.ring.length-1]]=ut))):L?(delete ee[q],delete re[L.ring[L.ring.length-1]],ut.ring.pop(),ut={index:H++,polygon:L.polygon,ring:ut.ring.concat(L.ring)},Ke[L.index]=null,Ke.push(ee[ut.ring[0]]=re[ut.ring[ut.ring.length-1]]=ut)):(ut.ring.push(ut.ring[0]),ut.polygon.push(ut.ring))}}function ns(Ke){var Qe={type:"Feature",geometry:Jr(Ke.geometry)};return Ke.id!=null&&(Qe.id=Ke.id),Ke.bbox!=null&&(Qe.bbox=Ke.bbox),Ke.properties!=null&&(Qe.properties=Ke.properties),Qe}function Jr(Ke){if(Ke==null)return Ke;var Qe,ut,N,W;switch(Ke.type){case"GeometryCollection":Qe={type:"GeometryCollection",geometries:Ke.geometries.map(Jr)};break;case"Point":Qe={type:"Point",coordinates:xo(Ke.coordinates)};break;case"MultiPoint":case"LineString":Qe={type:Ke.type,coordinates:Xa(Ke.coordinates)};break;case"MultiLineString":Qe={type:"MultiLineString",coordinates:Ke.coordinates.map(Xa)};break;case"Polygon":var q=[];Do(Ke.coordinates,q,ut=[]),nl(ut),Qe={type:"Polygon",coordinates:q};break;case"MultiPolygon":ut=[],N=-1,W=Ke.coordinates.length;for(var L=new Array(W);++N<W;)Do(Ke.coordinates[N],L[N]=[],ut);nl(ut),Qe={type:"MultiPolygon",coordinates:L.filter(Za)};break;default:return Ke}return Ke.bbox!=null&&(Qe.bbox=Ke.bbox),Qe}function oa(Ke){if(Ke==null)return Ke;switch(Ke.type){case"Feature":return ns(Ke);case"FeatureCollection":var Qe={type:"FeatureCollection",features:Ke.features.map(ns)};return Ke.bbox!=null&&(Qe.bbox=Ke.bbox),Qe;default:return Jr(Ke)}}function ka(Ke,Qe){var ut=d(Qe/2),N=u(v*ut);return[Ke*(.74482-.34588*N*N),1.70711*ut]}function bo(){return(0,A.c)(ka).scale(146.153)}function Aa(Ke,Qe,ut){var N=(0,ys.c)(Qe,ut),W=N(.5),q=(0,Je.c)([-W[0],-W[1]])(Qe),L=N.distance/2,H=-E(u(q[1]*T)/u(L)),ee=[-W[0],-W[1],-(q[0]>0?g-H:H)*S],re=(0,A.c)(Ke(L)).rotate(ee),fe=(0,Je.c)(ee),ye=re.center;return delete re.rotate,re.center=function(Ce){return arguments.length?ye(fe(Ce)):fe.invert(ye())},re.clipAngle(90)}function Ds(Ke){var Qe=b(Ke);function ut(N,W){var q=(0,Qr.Y)(N,W);return q[0]*=Qe,q}return ut.invert=function(N,W){return Qr.Y.invert(N/Qe,W)},ut}function zs(){return Ma([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Ma(Ke,Qe){return Aa(Ds,Ke,Qe)}function Zr(Ke){if(!(Ke*=2))return J.O;var Qe=-Ke/2,ut=-Qe,N=Ke*Ke,W=d(ut),q=.5/u(ut);function L(H,ee){var re=C(b(ee)*b(H-Qe)),fe=C(b(ee)*b(H-ut));return[((re*=re)-(fe*=fe))/(2*Ke),(ee<0?-1:1)*O(4*N*fe-(N-re+fe)*(N-re+fe))/(2*Ke)]}return L.invert=function(H,ee){var re,fe,ye=ee*ee,Ce=b(O(ye+(re=H+Qe)*re)),De=b(O(ye+(re=H+ut)*re));return[w(fe=Ce-De,re=(Ce+De)*W),(ee<0?-1:1)*C(O(re*re+fe*fe)*q)]},L}function _o(){return Ts([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Ts(Ke,Qe){return Aa(Zr,Ke,Qe)}function so(Ke,Qe){if(k(Qe)<c)return[Ke,0];var ut=k(Qe/p),N=E(ut);if(k(Ke)<c||k(k(Qe)-p)<c)return[0,l(Qe)*g*d(N/2)];var W=b(N),q=k(g/Ke-Ke/g)/2,L=q*q,H=W/(ut+W-1),ee=H*(2/ut-1),re=ee*ee,fe=re+L,ye=H-re,Ce=L+H;return[l(Ke)*g*(q*ye+O(L*ye*ye-fe*(H*H-re)))/fe,l(Qe)*g*(ee*Ce-q*O((L+1)*fe-Ce*Ce))/fe]}function Fs(){return(0,A.c)(so).scale(79.4183)}function Bs(Ke,Qe){if(k(Qe)<c)return[Ke,0];var ut=k(Qe/p),N=E(ut);if(k(Ke)<c||k(k(Qe)-p)<c)return[0,l(Qe)*g*d(N/2)];var W=b(N),q=k(g/Ke-Ke/g)/2,L=q*q,H=W*(O(1+L)-q*W)/(1+L*ut*ut);return[l(Ke)*g*H,l(Qe)*g*O(1-H*(2*q+H))]}function lo(){return(0,A.c)(Bs).scale(79.4183)}function vi(Ke,Qe){if(k(Qe)<c)return[Ke,0];var ut=Qe/p,N=E(ut);if(k(Ke)<c||k(k(Qe)-p)<c)return[0,g*d(N/2)];var W=(g/Ke-Ke/g)/2,q=ut/(1+b(N));return[g*(l(Ke)*O(W*W+1-q*q)-W),g*q]}function ks(){return(0,A.c)(vi).scale(79.4183)}function Cr(Ke,Qe){if(!Qe)return[Ke,0];var ut=k(Qe);if(!Ke||ut===p)return[0,Qe];var N=ut/p,W=N*N,q=(8*N-W*(W+2)-5)/(2*W*(N-1)),L=q*q,H=N*q,ee=W+L+2*H,re=N+3*q,fe=Ke/p,ye=fe+1/fe,Ce=l(k(Ke)-p)*O(ye*ye-4),De=Ce*Ce,Ue=(Ce*(ee+L-1)+2*O(ee*(W+L*De-1)+(1-W)*(W*(re*re+4*L)+12*H*L+4*L*L)))/(4*ee+De);return[l(Ke)*p*Ue,l(Qe)*p*O(1+Ce*k(Ue)-Ue*Ue)]}function zr(){return(0,A.c)(Cr).scale(127.16)}function ja(Ke,Qe,ut,N){var W=g/3;Ke=i(Ke,c),Qe=i(Qe,c),Ke=n(Ke,p),Qe=n(Qe,g-c),ut=i(ut,0),ut=n(ut,100-c);var q=(N=i(N,c))/100,L=C((ut/100+1)*b(W))/W,H=u(Ke)/u(L*p),ee=Qe/g,re=O(q*u(Ke/2)/u(Qe/2));return function(fe,ye,Ce,De,Ue){function Ge(tt,ft){var dt=Ce*u(De*ft),At=O(1-dt*dt),Ct=O(2/(1+At*b(tt*=Ue)));return[fe*At*Ct*u(tt),ye*dt*Ct]}return Ge.invert=function(tt,ft){var dt=tt/fe,At=ft/ye,Ct=O(dt*dt+At*At),Et=2*E(Ct/2);return[w(tt*d(Et),fe*Ct)/Ue,Ct&&E(ft*u(Et)/(ye*Ce*Ct))/De]},Ge}(re/O(ee*H*L),1/(re*O(ee*H*L)),H,L,ee)}function wo(){var Ke=65*T,Qe=60*T,ut=20,N=200,W=(0,A.U)(ja),q=W(Ke,Qe,ut,N);return q.poleline=function(L){return arguments.length?W(Ke=+L*T,Qe,ut,N):Ke*S},q.parallels=function(L){return arguments.length?W(Ke,Qe=+L*T,ut,N):Qe*S},q.inflation=function(L){return arguments.length?W(Ke,Qe,ut=+L,N):ut},q.ratio=function(L){return arguments.length?W(Ke,Qe,ut,N=+L):N},q.scale(163.775)}function zo(){return wo().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}ka.invert=function(Ke,Qe){var ut=Qe/1.70711,N=u(v*ut);return[Ke/(.74482-.34588*N*N),2*a(ut)]},so.invert=function(Ke,Qe){if(k(Qe)<c)return[Ke,0];if(k(Ke)<c)return[0,p*u(2*a(Qe/g))];var ut=(Ke/=g)*Ke,N=(Qe/=g)*Qe,W=ut+N,q=W*W,L=-k(Qe)*(1+W),H=L-2*N+ut,ee=-2*L+1+2*N+q,re=N/ee+(2*H*H*H/(ee*ee*ee)-9*L*H/(ee*ee))/27,fe=(L-H*H/(3*ee))/ee,ye=2*O(-fe/3),Ce=C(3*re/(fe*ye))/3;return[g*(W-1+O(1+2*(ut-N)+q))/(2*Ke),l(Qe)*g*(-ye*b(Ce+g/3)-H/(3*ee))]},Bs.invert=function(Ke,Qe){if(!Ke)return[0,p*u(2*a(Qe/g))];var ut=k(Ke/g),N=(1-ut*ut-(Qe/=g)*Qe)/(2*ut),W=O(N*N+1);return[l(Ke)*g*(W-N),l(Qe)*p*u(2*w(O((1-2*N*ut)*(N+W)-ut),O(W+N+ut)))]},vi.invert=function(Ke,Qe){if(!Qe)return[Ke,0];var ut=Qe/g,N=(g*g*(1-ut*ut)-Ke*Ke)/(2*g*Ke);return[Ke?g*(l(Ke)*O(N*N+1)-N):0,p*u(2*a(ut))]},Cr.invert=function(Ke,Qe){var ut;if(!Ke||!Qe)return[Ke,Qe];Qe/=g;var N=l(Ke)*Ke/p,W=(N*N-1+4*Qe*Qe)/k(N),q=W*W,L=2*Qe,H=50;do{var ee=L*L,re=(8*L-ee*(ee+2)-5)/(2*ee*(L-1)),fe=(3*L-ee*L-10)/(2*ee*L),ye=re*re,Ce=L*re,De=L+re,Ue=De*De,Ge=L+3*re,tt=-2*De*(4*Ce*ye+(1-4*ee+3*ee*ee)*(1+fe)+ye*(14*ee-6-q+(8*ee-8-2*q)*fe)+Ce*(12*ee-8+(10*ee-10-q)*fe)),ft=O(Ue*(ee+ye*q-1)+(1-ee)*(ee*(Ge*Ge+4*ye)+ye*(12*Ce+4*ye)));L-=ut=(W*(Ue+ye-1)+2*ft-N*(4*Ue+q))/(W*(2*re*fe+2*De*(1+fe))+tt/ft-8*De*(W*(-1+ye+Ue)+2*ft)*(1+fe)/(q+4*Ue))}while(ut>c&&--H>0);return[l(Ke)*(O(W*W+4)+W)*g/4,p*L]};var Ni=4*g+3*O(3),To=2*O(2*g*O(3)/Ni),si=we(To*O(3)/g,To,Ni/6);function iu(){return(0,A.c)(si).scale(176.84)}function Ua(Ke,Qe){return[Ke*O(1-3*Qe*Qe/(g*g)),Qe]}function ci(){return(0,A.c)(Ua).scale(152.63)}function wi(Ke,Qe){var ut=b(Qe),N=b(Ke)*ut,W=1-N,q=b(Ke=w(u(Ke)*ut,-u(Qe))),L=u(Ke);return[L*(ut=O(1-N*N))-q*W,-q*ut-L*W]}function Ia(){return(0,A.c)(wi).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function rs(Ke,Qe){var ut=B(Ke,Qe);return[(ut[0]+Ke/p)/2,(ut[1]+Qe)/2]}function Ul(){return(0,A.c)(rs).scale(158.837)}Ua.invert=function(Ke,Qe){return[Ke/O(1-3*Qe*Qe/(g*g)),Qe]},wi.invert=function(Ke,Qe){var ut=(Ke*Ke+Qe*Qe)/-2,N=O(-ut*(2+ut)),W=Qe*ut+Ke*N,q=Ke*ut-Qe*N,L=O(q*q+W*W);return[w(N*W,L*(1+ut)),L?-E(N*q/L):0]},rs.invert=function(Ke,Qe){var ut=Ke,N=Qe,W=25;do{var q,L=b(N),H=u(N),ee=u(2*N),re=H*H,fe=L*L,ye=u(ut),Ce=b(ut/2),De=u(ut/2),Ue=De*De,Ge=1-fe*Ce*Ce,tt=Ge?C(L*Ce)*O(q=1/Ge):q=0,ft=.5*(2*tt*L*De+ut/p)-Ke,dt=.5*(tt*H+N)-Qe,At=.5*q*(fe*Ue+tt*L*Ce*re)+.5/p,Ct=q*(ye*ee/4-tt*H*De),Et=.125*q*(ee*De-tt*H*fe*ye),jt=.5*q*(re*Ce+tt*Ue*L)+.5,Dt=Ct*Et-jt*At,$t=(dt*Ct-ft*jt)/Dt,Yt=(ft*Et-dt*At)/Dt;ut-=$t,N-=Yt}while((k($t)>c||k(Yt)>c)&&--W>0);return[ut,N]}},88728:function(Y,P,e){function A(){return new k}function k(){this.reset()}e.d(P,{c:function(){return A}}),k.prototype={constructor:k,reset:function(){this.s=this.t=0},add:function(b){w(a,b,this.t),w(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new k;function w(b,h,o){var t=b.s=h+o,i=t-h,n=t-i;b.t=h-n+(o-i)}},95384:function(Y,P,e){e.d(P,{cp:function(){return x},mQ:function(){return n},oB:function(){return s}});var A,k,a,w,b,h=e(88728),o=e(64528),t=e(70932),i=e(16016),n=(0,h.c)(),r=(0,h.c)(),s={point:t.c,lineStart:t.c,lineEnd:t.c,polygonStart:function(){n.reset(),s.lineStart=l,s.lineEnd=u},polygonEnd:function(){var g=+n;r.add(g<0?o.kD+g:g),this.lineStart=this.lineEnd=this.point=t.c},sphere:function(){r.add(o.kD)}};function l(){s.point=d}function u(){c(A,k)}function d(g,p){s.point=c,A=g,k=p,g*=o.qw,p*=o.qw,a=g,w=(0,o.W8)(p=p/2+o.wL),b=(0,o.g$)(p)}function c(g,p){g*=o.qw,p=(p*=o.qw)/2+o.wL;var v=g-a,y=v>=0?1:-1,m=y*v,_=(0,o.W8)(p),f=(0,o.g$)(p),S=b*f,T=w*_+S*(0,o.W8)(m),E=S*y*(0,o.g$)(m);n.add((0,o.WE)(E,T)),a=g,w=_,b=f}function x(g){return r.reset(),(0,i.c)(g,s),2*r}},13696:function(Y,P,e){e.d(P,{c:function(){return C}});var A,k,a,w,b,h,o,t,i,n,r=e(88728),s=e(95384),l=e(84220),u=e(64528),d=e(16016),c=(0,r.c)(),x={point:g,lineStart:v,lineEnd:y,polygonStart:function(){x.point=m,x.lineStart=_,x.lineEnd=f,c.reset(),s.oB.polygonStart()},polygonEnd:function(){s.oB.polygonEnd(),x.point=g,x.lineStart=v,x.lineEnd=y,s.mQ<0?(A=-(a=180),k=-(w=90)):c>u.Gg?w=90:c<-u.Gg&&(k=-90),n[0]=A,n[1]=a},sphere:function(){A=-(a=180),k=-(w=90)}};function g(O,I){i.push(n=[A=O,a=O]),I<k&&(k=I),I>w&&(w=I)}function p(O,I){var z=(0,l.ux)([O*u.qw,I*u.qw]);if(t){var U=(0,l.CW)(t,z),D=[U[1],-U[0],0],B=(0,l.CW)(D,U);(0,l.cJ)(B),B=(0,l.G)(B);var Z,F=O-b,j=F>0?1:-1,V=B[0]*u.oh*j,te=(0,u.a2)(F)>180;te^(j*b<V&&V<j*O)?(Z=B[1]*u.oh)>w&&(w=Z):te^(j*b<(V=(V+360)%360-180)&&V<j*O)?(Z=-B[1]*u.oh)<k&&(k=Z):(I<k&&(k=I),I>w&&(w=I)),te?O<b?S(A,O)>S(A,a)&&(a=O):S(O,a)>S(A,a)&&(A=O):a>=A?(O<A&&(A=O),O>a&&(a=O)):O>b?S(A,O)>S(A,a)&&(a=O):S(O,a)>S(A,a)&&(A=O)}else i.push(n=[A=O,a=O]);I<k&&(k=I),I>w&&(w=I),t=z,b=O}function v(){x.point=p}function y(){n[0]=A,n[1]=a,x.point=g,t=null}function m(O,I){if(t){var z=O-b;c.add((0,u.a2)(z)>180?z+(z>0?360:-360):z)}else h=O,o=I;s.oB.point(O,I),p(O,I)}function _(){s.oB.lineStart()}function f(){m(h,o),s.oB.lineEnd(),(0,u.a2)(c)>u.Gg&&(A=-(a=180)),n[0]=A,n[1]=a,t=null}function S(O,I){return(I-=O)<0?I+360:I}function T(O,I){return O[0]-I[0]}function E(O,I){return O[0]<=O[1]?O[0]<=I&&I<=O[1]:I<O[0]||O[1]<I}function C(O){var I,z,U,D,B,Z,F;if(w=a=-(A=k=1/0),i=[],(0,d.c)(O,x),z=i.length){for(i.sort(T),I=1,B=[U=i[0]];I<z;++I)E(U,(D=i[I])[0])||E(U,D[1])?(S(U[0],D[1])>S(U[0],U[1])&&(U[1]=D[1]),S(D[0],U[1])>S(U[0],U[1])&&(U[0]=D[0])):B.push(U=D);for(Z=-1/0,I=0,U=B[z=B.length-1];I<=z;U=D,++I)D=B[I],(F=S(U[1],D[0]))>Z&&(Z=F,A=D[0],a=U[1])}return i=n=null,A===1/0||k===1/0?[[NaN,NaN],[NaN,NaN]]:[[A,k],[a,w]]}},84220:function(Y,P,e){e.d(P,{CW:function(){return b},Ez:function(){return w},G:function(){return k},cJ:function(){return t},mg:function(){return h},ux:function(){return a},wx:function(){return o}});var A=e(64528);function k(i){return[(0,A.WE)(i[1],i[0]),(0,A.qR)(i[2])]}function a(i){var n=i[0],r=i[1],s=(0,A.W8)(r);return[s*(0,A.W8)(n),s*(0,A.g$)(n),(0,A.g$)(r)]}function w(i,n){return i[0]*n[0]+i[1]*n[1]+i[2]*n[2]}function b(i,n){return[i[1]*n[2]-i[2]*n[1],i[2]*n[0]-i[0]*n[2],i[0]*n[1]-i[1]*n[0]]}function h(i,n){i[0]+=n[0],i[1]+=n[1],i[2]+=n[2]}function o(i,n){return[i[0]*n,i[1]*n,i[2]*n]}function t(i){var n=(0,A._I)(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);i[0]/=n,i[1]/=n,i[2]/=n}},24052:function(Y,P,e){e.d(P,{c:function(){return z}});var A,k,a,w,b,h,o,t,i,n,r,s,l,u,d,c,x=e(64528),g=e(70932),p=e(16016),v={sphere:g.c,point:y,lineStart:_,lineEnd:T,polygonStart:function(){v.lineStart=E,v.lineEnd=C},polygonEnd:function(){v.lineStart=_,v.lineEnd=T}};function y(U,D){U*=x.qw,D*=x.qw;var B=(0,x.W8)(D);m(B*(0,x.W8)(U),B*(0,x.g$)(U),(0,x.g$)(D))}function m(U,D,B){++A,a+=(U-a)/A,w+=(D-w)/A,b+=(B-b)/A}function _(){v.point=f}function f(U,D){U*=x.qw,D*=x.qw;var B=(0,x.W8)(D);u=B*(0,x.W8)(U),d=B*(0,x.g$)(U),c=(0,x.g$)(D),v.point=S,m(u,d,c)}function S(U,D){U*=x.qw,D*=x.qw;var B=(0,x.W8)(D),Z=B*(0,x.W8)(U),F=B*(0,x.g$)(U),j=(0,x.g$)(D),V=(0,x.WE)((0,x._I)((V=d*j-c*F)*V+(V=c*Z-u*j)*V+(V=u*F-d*Z)*V),u*Z+d*F+c*j);k+=V,h+=V*(u+(u=Z)),o+=V*(d+(d=F)),t+=V*(c+(c=j)),m(u,d,c)}function T(){v.point=y}function E(){v.point=O}function C(){I(s,l),v.point=y}function O(U,D){s=U,l=D,U*=x.qw,D*=x.qw,v.point=I;var B=(0,x.W8)(D);u=B*(0,x.W8)(U),d=B*(0,x.g$)(U),c=(0,x.g$)(D),m(u,d,c)}function I(U,D){U*=x.qw,D*=x.qw;var B=(0,x.W8)(D),Z=B*(0,x.W8)(U),F=B*(0,x.g$)(U),j=(0,x.g$)(D),V=d*j-c*F,te=c*Z-u*j,Q=u*F-d*Z,$=(0,x._I)(V*V+te*te+Q*Q),G=(0,x.qR)($),X=$&&-G/$;i+=X*V,n+=X*te,r+=X*Q,k+=G,h+=G*(u+(u=Z)),o+=G*(d+(d=F)),t+=G*(c+(c=j)),m(u,d,c)}function z(U){A=k=a=w=b=h=o=t=i=n=r=0,(0,p.c)(U,v);var D=i,B=n,Z=r,F=D*D+B*B+Z*Z;return F<x.a8&&(D=h,B=o,Z=t,k<x.Gg&&(D=a,B=w,Z=b),(F=D*D+B*B+Z*Z)<x.a8)?[NaN,NaN]:[(0,x.WE)(B,D)*x.oh,(0,x.qR)(Z/(0,x._I)(F))*x.oh]}},61780:function(Y,P,e){e.d(P,{Q:function(){return b},c:function(){return o}});var A=e(84220);function k(t){return function(){return t}}var a=e(64528),w=e(92992);function b(t,i,n,r,s,l){if(n){var u=(0,a.W8)(i),d=(0,a.g$)(i),c=r*n;s==null?(s=i+r*a.kD,l=i-c/2):(s=h(u,s),l=h(u,l),(r>0?s<l:s>l)&&(s+=r*a.kD));for(var x,g=s;r>0?g>l:g<l;g-=c)x=(0,A.G)([u,-d*(0,a.W8)(g),-d*(0,a.g$)(g)]),t.point(x[0],x[1])}}function h(t,i){(i=(0,A.ux)(i))[0]-=t,(0,A.cJ)(i);var n=(0,a.mE)(-i[1]);return((-i[2]<0?-n:n)+a.kD-a.Gg)%a.kD}function o(){var t,i,n=k([0,0]),r=k(90),s=k(6),l={point:function(d,c){t.push(d=i(d,c)),d[0]*=a.oh,d[1]*=a.oh}};function u(){var d=n.apply(this,arguments),c=r.apply(this,arguments)*a.qw,x=s.apply(this,arguments)*a.qw;return t=[],i=(0,w.O)(-d[0]*a.qw,-d[1]*a.qw,0).invert,b(l,c,x,1),d={type:"Polygon",coordinates:[t]},t=i=null,d}return u.center=function(d){return arguments.length?(n=typeof d=="function"?d:k([+d[0],+d[1]]),u):n},u.radius=function(d){return arguments.length?(r=typeof d=="function"?d:k(+d),u):r},u.precision=function(d){return arguments.length?(s=typeof d=="function"?d:k(+d),u):s},u}},78284:function(Y,P,e){var A=e(14229),k=e(64528);P.c=(0,A.c)(function(){return!0},function(a){var w,b=NaN,h=NaN,o=NaN;return{lineStart:function(){a.lineStart(),w=1},point:function(t,i){var n=t>0?k.pi:-k.pi,r=(0,k.a2)(t-b);(0,k.a2)(r-k.pi)<k.Gg?(a.point(b,h=(h+i)/2>0?k.or:-k.or),a.point(o,h),a.lineEnd(),a.lineStart(),a.point(n,h),a.point(t,h),w=0):o!==n&&r>=k.pi&&((0,k.a2)(b-o)<k.Gg&&(b-=o*k.Gg),(0,k.a2)(t-n)<k.Gg&&(t-=n*k.Gg),h=function(s,l,u,d){var c,x,g=(0,k.g$)(s-u);return(0,k.a2)(g)>k.Gg?(0,k.MQ)(((0,k.g$)(l)*(x=(0,k.W8)(d))*(0,k.g$)(u)-(0,k.g$)(d)*(c=(0,k.W8)(l))*(0,k.g$)(s))/(c*x*g)):(l+d)/2}(b,h,t,i),a.point(o,h),a.lineEnd(),a.lineStart(),a.point(n,h),w=0),a.point(b=t,h=i),o=n},lineEnd:function(){a.lineEnd(),b=h=NaN},clean:function(){return 2-w}}},function(a,w,b,h){var o;if(a==null)o=b*k.or,h.point(-k.pi,o),h.point(0,o),h.point(k.pi,o),h.point(k.pi,0),h.point(k.pi,-o),h.point(0,-o),h.point(-k.pi,-o),h.point(-k.pi,0),h.point(-k.pi,o);else if((0,k.a2)(a[0]-w[0])>k.Gg){var t=a[0]<w[0]?k.pi:-k.pi;o=b*t/2,h.point(-t,o),h.point(0,o),h.point(t,o)}else h.point(w[0],w[1])},[-k.pi,-k.or])},97208:function(Y,P,e){e.d(P,{c:function(){return k}});var A=e(70932);function k(){var a,w=[];return{point:function(b,h,o){a.push([b,h,o])},lineStart:function(){w.push(a=[])},lineEnd:A.c,rejoin:function(){w.length>1&&w.push(w.pop().concat(w.shift()))},result:function(){var b=w;return w=[],a=null,b}}}},2728:function(Y,P,e){e.d(P,{c:function(){return h}});var A=e(84220),k=e(61780),a=e(64528),w=e(41860),b=e(14229);function h(o){var t=(0,a.W8)(o),i=6*a.qw,n=t>0,r=(0,a.a2)(t)>a.Gg;function s(d,c){return(0,a.W8)(d)*(0,a.W8)(c)>t}function l(d,c,x){var g=(0,A.ux)(d),p=(0,A.ux)(c),v=[1,0,0],y=(0,A.CW)(g,p),m=(0,A.Ez)(y,y),_=y[0],f=m-_*_;if(!f)return!x&&d;var S=t*m/f,T=-t*_/f,E=(0,A.CW)(v,y),C=(0,A.wx)(v,S),O=(0,A.wx)(y,T);(0,A.mg)(C,O);var I=E,z=(0,A.Ez)(C,I),U=(0,A.Ez)(I,I),D=z*z-U*((0,A.Ez)(C,C)-1);if(!(D<0)){var B=(0,a._I)(D),Z=(0,A.wx)(I,(-z-B)/U);if((0,A.mg)(Z,C),Z=(0,A.G)(Z),!x)return Z;var F,j=d[0],V=c[0],te=d[1],Q=c[1];V<j&&(F=j,j=V,V=F);var $=V-j,G=(0,a.a2)($-a.pi)<a.Gg;if(!G&&Q<te&&(F=te,te=Q,Q=F),G||$<a.Gg?G?te+Q>0^Z[1]<((0,a.a2)(Z[0]-j)<a.Gg?te:Q):te<=Z[1]&&Z[1]<=Q:$>a.pi^(j<=Z[0]&&Z[0]<=V)){var X=(0,A.wx)(I,(-z+B)/U);return(0,A.mg)(X,C),[Z,(0,A.G)(X)]}}}function u(d,c){var x=n?o:a.pi-o,g=0;return d<-x?g|=1:d>x&&(g|=2),c<-x?g|=4:c>x&&(g|=8),g}return(0,b.c)(s,function(d){var c,x,g,p,v;return{lineStart:function(){p=g=!1,v=1},point:function(y,m){var _,f=[y,m],S=s(y,m),T=n?S?0:u(y,m):S?u(y+(y<0?a.pi:-a.pi),m):0;if(!c&&(p=g=S)&&d.lineStart(),S!==g&&(!(_=l(c,f))||(0,w.c)(c,_)||(0,w.c)(f,_))&&(f[2]=1),S!==g)v=0,S?(d.lineStart(),_=l(f,c),d.point(_[0],_[1])):(_=l(c,f),d.point(_[0],_[1],2),d.lineEnd()),c=_;else if(r&&c&&n^S){var E;T&x||!(E=l(f,c,!0))||(v=0,n?(d.lineStart(),d.point(E[0][0],E[0][1]),d.point(E[1][0],E[1][1]),d.lineEnd()):(d.point(E[1][0],E[1][1]),d.lineEnd(),d.lineStart(),d.point(E[0][0],E[0][1],3)))}!S||c&&(0,w.c)(c,f)||d.point(f[0],f[1]),c=f,g=S,x=T},lineEnd:function(){g&&d.lineEnd(),c=null},clean:function(){return v|(p&&g)<<1}}},function(d,c,x,g){(0,k.Q)(g,o,i,x,d,c)},n?[0,-o]:[-a.pi,o-a.pi])}},14229:function(Y,P,e){e.d(P,{c:function(){return h}});var A=e(97208),k=e(32232),a=e(64528),w=e(58196),b=e(84706);function h(i,n,r,s){return function(l){var u,d,c,x=n(l),g=(0,A.c)(),p=n(g),v=!1,y={point:m,lineStart:f,lineEnd:S,polygonStart:function(){y.point=T,y.lineStart=E,y.lineEnd=C,d=[],u=[]},polygonEnd:function(){y.point=m,y.lineStart=f,y.lineEnd=S,d=(0,b.Uf)(d);var O=(0,w.c)(u,s);d.length?(v||(l.polygonStart(),v=!0),(0,k.c)(d,t,O,r,l)):O&&(v||(l.polygonStart(),v=!0),l.lineStart(),r(null,null,1,l),l.lineEnd()),v&&(l.polygonEnd(),v=!1),d=u=null},sphere:function(){l.polygonStart(),l.lineStart(),r(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function m(O,I){i(O,I)&&l.point(O,I)}function _(O,I){x.point(O,I)}function f(){y.point=_,x.lineStart()}function S(){y.point=m,x.lineEnd()}function T(O,I){c.push([O,I]),p.point(O,I)}function E(){p.lineStart(),c=[]}function C(){T(c[0][0],c[0][1]),p.lineEnd();var O,I,z,U,D=p.clean(),B=g.result(),Z=B.length;if(c.pop(),u.push(c),c=null,Z)if(1&D){if((I=(z=B[0]).length-1)>0){for(v||(l.polygonStart(),v=!0),l.lineStart(),O=0;O<I;++O)l.point((U=z[O])[0],U[1]);l.lineEnd()}}else Z>1&&2&D&&B.push(B.pop().concat(B.shift())),d.push(B.filter(o))}return y}}function o(i){return i.length>1}function t(i,n){return((i=i.x)[0]<0?i[1]-a.or-a.Gg:a.or-i[1])-((n=n.x)[0]<0?n[1]-a.or-a.Gg:a.or-n[1])}},21676:function(Y,P,e){e.d(P,{c:function(){return o}});var A=e(64528),k=e(97208),a=e(32232),w=e(84706),b=1e9,h=-b;function o(t,i,n,r){function s(x,g){return t<=x&&x<=n&&i<=g&&g<=r}function l(x,g,p,v){var y=0,m=0;if(x==null||(y=u(x,p))!==(m=u(g,p))||c(x,g)<0^p>0)do v.point(y===0||y===3?t:n,y>1?r:i);while((y=(y+p+4)%4)!==m);else v.point(g[0],g[1])}function u(x,g){return(0,A.a2)(x[0]-t)<A.Gg?g>0?0:3:(0,A.a2)(x[0]-n)<A.Gg?g>0?2:1:(0,A.a2)(x[1]-i)<A.Gg?g>0?1:0:g>0?3:2}function d(x,g){return c(x.x,g.x)}function c(x,g){var p=u(x,1),v=u(g,1);return p!==v?p-v:p===0?g[1]-x[1]:p===1?x[0]-g[0]:p===2?x[1]-g[1]:g[0]-x[0]}return function(x){var g,p,v,y,m,_,f,S,T,E,C,O=x,I=(0,k.c)(),z={point:U,lineStart:function(){z.point=D,p&&p.push(v=[]),E=!0,T=!1,f=S=NaN},lineEnd:function(){g&&(D(y,m),_&&T&&I.rejoin(),g.push(I.result())),z.point=U,T&&O.lineEnd()},polygonStart:function(){O=I,g=[],p=[],C=!0},polygonEnd:function(){var B=function(){for(var j=0,V=0,te=p.length;V<te;++V)for(var Q,$,G=p[V],X=1,J=G.length,ne=G[0],ie=ne[0],ae=ne[1];X<J;++X)Q=ie,$=ae,ie=(ne=G[X])[0],ae=ne[1],$<=r?ae>r&&(ie-Q)*(r-$)>(ae-$)*(t-Q)&&++j:ae<=r&&(ie-Q)*(r-$)<(ae-$)*(t-Q)&&--j;return j}(),Z=C&&B,F=(g=(0,w.Uf)(g)).length;(Z||F)&&(x.polygonStart(),Z&&(x.lineStart(),l(null,null,1,x),x.lineEnd()),F&&(0,a.c)(g,d,B,l,x),x.polygonEnd()),O=x,g=p=v=null}};function U(B,Z){s(B,Z)&&O.point(B,Z)}function D(B,Z){var F=s(B,Z);if(p&&v.push([B,Z]),E)y=B,m=Z,_=F,E=!1,F&&(O.lineStart(),O.point(B,Z));else if(F&&T)O.point(B,Z);else{var j=[f=Math.max(h,Math.min(b,f)),S=Math.max(h,Math.min(b,S))],V=[B=Math.max(h,Math.min(b,B)),Z=Math.max(h,Math.min(b,Z))];(function(te,Q,$,G,X,J){var ne,ie=te[0],ae=te[1],le=0,ce=1,pe=Q[0]-ie,ge=Q[1]-ae;if(ne=$-ie,pe||!(ne>0)){if(ne/=pe,pe<0){if(ne<le)return;ne<ce&&(ce=ne)}else if(pe>0){if(ne>ce)return;ne>le&&(le=ne)}if(ne=X-ie,pe||!(ne<0)){if(ne/=pe,pe<0){if(ne>ce)return;ne>le&&(le=ne)}else if(pe>0){if(ne<le)return;ne<ce&&(ce=ne)}if(ne=G-ae,ge||!(ne>0)){if(ne/=ge,ge<0){if(ne<le)return;ne<ce&&(ce=ne)}else if(ge>0){if(ne>ce)return;ne>le&&(le=ne)}if(ne=J-ae,ge||!(ne<0)){if(ne/=ge,ge<0){if(ne>ce)return;ne>le&&(le=ne)}else if(ge>0){if(ne<le)return;ne<ce&&(ce=ne)}return le>0&&(te[0]=ie+le*pe,te[1]=ae+le*ge),ce<1&&(Q[0]=ie+ce*pe,Q[1]=ae+ce*ge),!0}}}}})(j,V,t,i,n,r)?(T||(O.lineStart(),O.point(j[0],j[1])),O.point(V[0],V[1]),F||O.lineEnd(),C=!1):F&&(O.lineStart(),O.point(B,Z),C=!1)}f=B,S=Z,T=F}return z}}},32232:function(Y,P,e){e.d(P,{c:function(){return w}});var A=e(41860),k=e(64528);function a(h,o,t,i){this.x=h,this.z=o,this.o=t,this.e=i,this.v=!1,this.n=this.p=null}function w(h,o,t,i,n){var r,s,l=[],u=[];if(h.forEach(function(v){if(!((y=v.length-1)<=0)){var y,m,_=v[0],f=v[y];if((0,A.c)(_,f)){if(!_[2]&&!f[2]){for(n.lineStart(),r=0;r<y;++r)n.point((_=v[r])[0],_[1]);return void n.lineEnd()}f[0]+=2*k.Gg}l.push(m=new a(_,v,null,!0)),u.push(m.o=new a(_,null,m,!1)),l.push(m=new a(f,v,null,!1)),u.push(m.o=new a(f,null,m,!0))}}),l.length){for(u.sort(o),b(l),b(u),r=0,s=u.length;r<s;++r)u[r].e=t=!t;for(var d,c,x=l[0];;){for(var g=x,p=!0;g.v;)if((g=g.n)===x)return;d=g.z,n.lineStart();do{if(g.v=g.o.v=!0,g.e){if(p)for(r=0,s=d.length;r<s;++r)n.point((c=d[r])[0],c[1]);else i(g.x,g.n.x,1,n);g=g.n}else{if(p)for(d=g.p.z,r=d.length-1;r>=0;--r)n.point((c=d[r])[0],c[1]);else i(g.x,g.p.x,-1,n);g=g.p}d=(g=g.o).z,p=!p}while(!g.v);n.lineEnd()}}}function b(h){if(o=h.length){for(var o,t,i=0,n=h[0];++i<o;)n.n=t=h[i],t.p=n,n=t;n.n=t=h[0],t.p=n}}},68120:function(Y,P,e){function A(k,a){function w(b,h){return b=k(b,h),a(b[0],b[1])}return k.invert&&a.invert&&(w.invert=function(b,h){return(b=a.invert(b,h))&&k.invert(b[0],b[1])}),w}e.d(P,{c:function(){return A}})},7376:function(Y,P,e){function A(k){return k}e.d(P,{c:function(){return A}})},83356:function(Y,P,e){e.r(P),e.d(P,{geoAlbers:function(){return yt},geoAlbersUsa:function(){return Lt},geoArea:function(){return A.cp},geoAzimuthalEqualArea:function(){return Tt.c},geoAzimuthalEqualAreaRaw:function(){return Tt.y},geoAzimuthalEquidistant:function(){return bt.c},geoAzimuthalEquidistantRaw:function(){return bt.O},geoBounds:function(){return k.c},geoCentroid:function(){return a.c},geoCircle:function(){return w.c},geoClipAntimeridian:function(){return b.c},geoClipCircle:function(){return h.c},geoClipExtent:function(){return t},geoClipRectangle:function(){return o.c},geoConicConformal:function(){return Wt},geoConicConformalRaw:function(){return qt},geoConicEqualArea:function(){return mt},geoConicEqualAreaRaw:function(){return pt},geoConicEquidistant:function(){return Mn},geoConicEquidistantRaw:function(){return En},geoContains:function(){return B},geoDistance:function(){return S},geoEqualEarth:function(){return Ln},geoEqualEarthRaw:function(){return kn},geoEquirectangular:function(){return nn.c},geoEquirectangularRaw:function(){return nn.u},geoGnomonic:function(){return Dn.c},geoGnomonicRaw:function(){return Dn.Y},geoGraticule:function(){return V},geoGraticule10:function(){return te},geoIdentity:function(){return On},geoInterpolate:function(){return J.c},geoLength:function(){return m},geoMercator:function(){return Bt},geoMercatorRaw:function(){return Ot},geoNaturalEarth1:function(){return Hn.c},geoNaturalEarth1Raw:function(){return Hn.g},geoOrthographic:function(){return jn.c},geoOrthographicRaw:function(){return jn.t},geoPath:function(){return Be},geoProjection:function(){return ot.c},geoProjectionMutator:function(){return ot.U},geoRotation:function(){return Pt.c},geoStereographic:function(){return cr},geoStereographicRaw:function(){return ur},geoStream:function(){return c.c},geoTransform:function(){return zn.c},geoTransverseMercator:function(){return Tr},geoTransverseMercatorRaw:function(){return er}});var A=e(95384),k=e(13696),a=e(24052),w=e(61780),b=e(78284),h=e(2728),o=e(21676);function t(){var Ht,an,_n,vn=0,Cn=0,Gn=960,Fn=500;return _n={stream:function(Nn){return Ht&&an===Nn?Ht:Ht=(0,o.c)(vn,Cn,Gn,Fn)(an=Nn)},extent:function(Nn){return arguments.length?(vn=+Nn[0][0],Cn=+Nn[0][1],Gn=+Nn[1][0],Fn=+Nn[1][1],Ht=an=null,_n):[[vn,Cn],[Gn,Fn]]}}}var i,n,r,s=e(58196),l=e(88728),u=e(64528),d=e(70932),c=e(16016),x=(0,l.c)(),g={sphere:d.c,point:d.c,lineStart:function(){g.point=v,g.lineEnd=p},lineEnd:d.c,polygonStart:d.c,polygonEnd:d.c};function p(){g.point=g.lineEnd=d.c}function v(Ht,an){Ht*=u.qw,an*=u.qw,i=Ht,n=(0,u.g$)(an),r=(0,u.W8)(an),g.point=y}function y(Ht,an){Ht*=u.qw,an*=u.qw;var _n=(0,u.g$)(an),vn=(0,u.W8)(an),Cn=(0,u.a2)(Ht-i),Gn=(0,u.W8)(Cn),Fn=vn*(0,u.g$)(Cn),Nn=r*_n-n*vn*Gn,rr=n*_n+r*vn*Gn;x.add((0,u.WE)((0,u._I)(Fn*Fn+Nn*Nn),rr)),i=Ht,n=_n,r=vn}function m(Ht){return x.reset(),(0,c.c)(Ht,g),+x}var _=[null,null],f={type:"LineString",coordinates:_};function S(Ht,an){return _[0]=Ht,_[1]=an,m(f)}var T={Feature:function(Ht,an){return C(Ht.geometry,an)},FeatureCollection:function(Ht,an){for(var _n=Ht.features,vn=-1,Cn=_n.length;++vn<Cn;)if(C(_n[vn].geometry,an))return!0;return!1}},E={Sphere:function(){return!0},Point:function(Ht,an){return O(Ht.coordinates,an)},MultiPoint:function(Ht,an){for(var _n=Ht.coordinates,vn=-1,Cn=_n.length;++vn<Cn;)if(O(_n[vn],an))return!0;return!1},LineString:function(Ht,an){return I(Ht.coordinates,an)},MultiLineString:function(Ht,an){for(var _n=Ht.coordinates,vn=-1,Cn=_n.length;++vn<Cn;)if(I(_n[vn],an))return!0;return!1},Polygon:function(Ht,an){return z(Ht.coordinates,an)},MultiPolygon:function(Ht,an){for(var _n=Ht.coordinates,vn=-1,Cn=_n.length;++vn<Cn;)if(z(_n[vn],an))return!0;return!1},GeometryCollection:function(Ht,an){for(var _n=Ht.geometries,vn=-1,Cn=_n.length;++vn<Cn;)if(C(_n[vn],an))return!0;return!1}};function C(Ht,an){return!(!Ht||!E.hasOwnProperty(Ht.type))&&E[Ht.type](Ht,an)}function O(Ht,an){return S(Ht,an)===0}function I(Ht,an){for(var _n,vn,Cn,Gn=0,Fn=Ht.length;Gn<Fn;Gn++){if((vn=S(Ht[Gn],an))===0||Gn>0&&(Cn=S(Ht[Gn],Ht[Gn-1]))>0&&_n<=Cn&&vn<=Cn&&(_n+vn-Cn)*(1-Math.pow((_n-vn)/Cn,2))<u.a8*Cn)return!0;_n=vn}return!1}function z(Ht,an){return!!(0,s.c)(Ht.map(U),D(an))}function U(Ht){return(Ht=Ht.map(D)).pop(),Ht}function D(Ht){return[Ht[0]*u.qw,Ht[1]*u.qw]}function B(Ht,an){return(Ht&&T.hasOwnProperty(Ht.type)?T[Ht.type]:C)(Ht,an)}var Z=e(84706);function F(Ht,an,_n){var vn=(0,Z.ik)(Ht,an-u.Gg,_n).concat(an);return function(Cn){return vn.map(function(Gn){return[Cn,Gn]})}}function j(Ht,an,_n){var vn=(0,Z.ik)(Ht,an-u.Gg,_n).concat(an);return function(Cn){return vn.map(function(Gn){return[Gn,Cn]})}}function V(){var Ht,an,_n,vn,Cn,Gn,Fn,Nn,rr,Zt,mn,It,Xt=10,tn=Xt,bn=90,yn=360,Tn=2.5;function fn(){return{type:"MultiLineString",coordinates:Qt()}}function Qt(){return(0,Z.ik)((0,u.Km)(vn/bn)*bn,_n,bn).map(mn).concat((0,Z.ik)((0,u.Km)(Nn/yn)*yn,Fn,yn).map(It)).concat((0,Z.ik)((0,u.Km)(an/Xt)*Xt,Ht,Xt).filter(function(en){return(0,u.a2)(en%bn)>u.Gg}).map(rr)).concat((0,Z.ik)((0,u.Km)(Gn/tn)*tn,Cn,tn).filter(function(en){return(0,u.a2)(en%yn)>u.Gg}).map(Zt))}return fn.lines=function(){return Qt().map(function(en){return{type:"LineString",coordinates:en}})},fn.outline=function(){return{type:"Polygon",coordinates:[mn(vn).concat(It(Fn).slice(1),mn(_n).reverse().slice(1),It(Nn).reverse().slice(1))]}},fn.extent=function(en){return arguments.length?fn.extentMajor(en).extentMinor(en):fn.extentMinor()},fn.extentMajor=function(en){return arguments.length?(vn=+en[0][0],_n=+en[1][0],Nn=+en[0][1],Fn=+en[1][1],vn>_n&&(en=vn,vn=_n,_n=en),Nn>Fn&&(en=Nn,Nn=Fn,Fn=en),fn.precision(Tn)):[[vn,Nn],[_n,Fn]]},fn.extentMinor=function(en){return arguments.length?(an=+en[0][0],Ht=+en[1][0],Gn=+en[0][1],Cn=+en[1][1],an>Ht&&(en=an,an=Ht,Ht=en),Gn>Cn&&(en=Gn,Gn=Cn,Cn=en),fn.precision(Tn)):[[an,Gn],[Ht,Cn]]},fn.step=function(en){return arguments.length?fn.stepMajor(en).stepMinor(en):fn.stepMinor()},fn.stepMajor=function(en){return arguments.length?(bn=+en[0],yn=+en[1],fn):[bn,yn]},fn.stepMinor=function(en){return arguments.length?(Xt=+en[0],tn=+en[1],fn):[Xt,tn]},fn.precision=function(en){return arguments.length?(Tn=+en,rr=F(Gn,Cn,90),Zt=j(an,Ht,Tn),mn=F(Nn,Fn,90),It=j(vn,_n,Tn),fn):Tn},fn.extentMajor([[-180,-90+u.Gg],[180,90-u.Gg]]).extentMinor([[-180,-80-u.Gg],[180,80+u.Gg]])}function te(){return V()()}var Q,$,G,X,J=e(27284),ne=e(7376),ie=(0,l.c)(),ae=(0,l.c)(),le={point:d.c,lineStart:d.c,lineEnd:d.c,polygonStart:function(){le.lineStart=ce,le.lineEnd=me},polygonEnd:function(){le.lineStart=le.lineEnd=le.point=d.c,ie.add((0,u.a2)(ae)),ae.reset()},result:function(){var Ht=ie/2;return ie.reset(),Ht}};function ce(){le.point=pe}function pe(Ht,an){le.point=ge,Q=G=Ht,$=X=an}function ge(Ht,an){ae.add(X*Ht-G*an),G=Ht,X=an}function me(){ge(Q,$)}var ve,Me,_e,we,oe=le,se=e(73784),de=0,Ee=0,Te=0,Se=0,Le=0,Oe=0,he=0,xe=0,ke=0,Re={point:ze,lineStart:Ie,lineEnd:Je,polygonStart:function(){Re.lineStart=st,Re.lineEnd=it},polygonEnd:function(){Re.point=ze,Re.lineStart=Ie,Re.lineEnd=Je},result:function(){var Ht=ke?[he/ke,xe/ke]:Oe?[Se/Oe,Le/Oe]:Te?[de/Te,Ee/Te]:[NaN,NaN];return de=Ee=Te=Se=Le=Oe=he=xe=ke=0,Ht}};function ze(Ht,an){de+=Ht,Ee+=an,++Te}function Ie(){Re.point=He}function He(Ht,an){Re.point=qe,ze(_e=Ht,we=an)}function qe(Ht,an){var _n=Ht-_e,vn=an-we,Cn=(0,u._I)(_n*_n+vn*vn);Se+=Cn*(_e+Ht)/2,Le+=Cn*(we+an)/2,Oe+=Cn,ze(_e=Ht,we=an)}function Je(){Re.point=ze}function st(){Re.point=vt}function it(){_t(ve,Me)}function vt(Ht,an){Re.point=_t,ze(ve=_e=Ht,Me=we=an)}function _t(Ht,an){var _n=Ht-_e,vn=an-we,Cn=(0,u._I)(_n*_n+vn*vn);Se+=Cn*(_e+Ht)/2,Le+=Cn*(we+an)/2,Oe+=Cn,he+=(Cn=we*Ht-_e*an)*(_e+Ht),xe+=Cn*(we+an),ke+=3*Cn,ze(_e=Ht,we=an)}var xt=Re;function et(Ht){this._context=Ht}et.prototype={_radius:4.5,pointRadius:function(Ht){return this._radius=Ht,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Ht,an){switch(this._point){case 0:this._context.moveTo(Ht,an),this._point=1;break;case 1:this._context.lineTo(Ht,an);break;default:this._context.moveTo(Ht+this._radius,an),this._context.arc(Ht,an,this._radius,0,u.kD)}},result:d.c};var nt,Mt,zt,Ft,Rt,We=(0,l.c)(),Ze={point:d.c,lineStart:function(){Ze.point=Ne},lineEnd:function(){nt&&Ye(Mt,zt),Ze.point=d.c},polygonStart:function(){nt=!0},polygonEnd:function(){nt=null},result:function(){var Ht=+We;return We.reset(),Ht}};function Ne(Ht,an){Ze.point=Ye,Mt=Ft=Ht,zt=Rt=an}function Ye(Ht,an){Ft-=Ht,Rt-=an,We.add((0,u._I)(Ft*Ft+Rt*Rt)),Ft=Ht,Rt=an}var lt=Ze;function at(){this._string=[]}function Fe(Ht){return"m0,"+Ht+"a"+Ht+","+Ht+" 0 1,1 0,"+-2*Ht+"a"+Ht+","+Ht+" 0 1,1 0,"+2*Ht+"z"}function Be(Ht,an){var _n,vn,Cn=4.5;function Gn(Fn){return Fn&&(typeof Cn=="function"&&vn.pointRadius(+Cn.apply(this,arguments)),(0,c.c)(Fn,_n(vn))),vn.result()}return Gn.area=function(Fn){return(0,c.c)(Fn,_n(oe)),oe.result()},Gn.measure=function(Fn){return(0,c.c)(Fn,_n(lt)),lt.result()},Gn.bounds=function(Fn){return(0,c.c)(Fn,_n(se.c)),se.c.result()},Gn.centroid=function(Fn){return(0,c.c)(Fn,_n(xt)),xt.result()},Gn.projection=function(Fn){return arguments.length?(_n=Fn==null?(Ht=null,ne.c):(Ht=Fn).stream,Gn):Ht},Gn.context=function(Fn){return arguments.length?(vn=Fn==null?(an=null,new at):new et(an=Fn),typeof Cn!="function"&&vn.pointRadius(Cn),Gn):an},Gn.pointRadius=function(Fn){return arguments.length?(Cn=typeof Fn=="function"?Fn:(vn.pointRadius(+Fn),+Fn),Gn):Cn},Gn.projection(Ht).context(an)}at.prototype={_radius:4.5,_circle:Fe(4.5),pointRadius:function(Ht){return(Ht=+Ht)!==this._radius&&(this._radius=Ht,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Ht,an){switch(this._point){case 0:this._string.push("M",Ht,",",an),this._point=1;break;case 1:this._string.push("L",Ht,",",an);break;default:this._circle==null&&(this._circle=Fe(this._radius)),this._string.push("M",Ht,",",an,this._circle)}},result:function(){if(this._string.length){var Ht=this._string.join("");return this._string=[],Ht}return null}};var ot=e(87952);function Xe(Ht){var an=0,_n=u.pi/3,vn=(0,ot.U)(Ht),Cn=vn(an,_n);return Cn.parallels=function(Gn){return arguments.length?vn(an=Gn[0]*u.qw,_n=Gn[1]*u.qw):[an*u.oh,_n*u.oh]},Cn}function pt(Ht,an){var _n=(0,u.g$)(Ht),vn=(_n+(0,u.g$)(an))/2;if((0,u.a2)(vn)<u.Gg)return function(Nn){var rr=(0,u.W8)(Nn);function Zt(mn,It){return[mn*rr,(0,u.g$)(It)/rr]}return Zt.invert=function(mn,It){return[mn/rr,(0,u.qR)(It*rr)]},Zt}(Ht);var Cn=1+_n*(2*vn-_n),Gn=(0,u._I)(Cn)/vn;function Fn(Nn,rr){var Zt=(0,u._I)(Cn-2*vn*(0,u.g$)(rr))/vn;return[Zt*(0,u.g$)(Nn*=vn),Gn-Zt*(0,u.W8)(Nn)]}return Fn.invert=function(Nn,rr){var Zt=Gn-rr,mn=(0,u.WE)(Nn,(0,u.a2)(Zt))*(0,u.kq)(Zt);return Zt*vn<0&&(mn-=u.pi*(0,u.kq)(Nn)*(0,u.kq)(Zt)),[mn/vn,(0,u.qR)((Cn-(Nn*Nn+Zt*Zt)*vn*vn)/(2*vn))]},Fn}function mt(){return Xe(pt).scale(155.424).center([0,33.6442])}function yt(){return mt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var ht=e(86420);function Lt(){var Ht,an,_n,vn,Cn,Gn,Fn=yt(),Nn=mt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),rr=mt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Zt={point:function(Xt,tn){Gn=[Xt,tn]}};function mn(Xt){var tn=Xt[0],bn=Xt[1];return Gn=null,_n.point(tn,bn),Gn||(vn.point(tn,bn),Gn)||(Cn.point(tn,bn),Gn)}function It(){return Ht=an=null,mn}return mn.invert=function(Xt){var tn=Fn.scale(),bn=Fn.translate(),yn=(Xt[0]-bn[0])/tn,Tn=(Xt[1]-bn[1])/tn;return(Tn>=.12&&Tn<.234&&yn>=-.425&&yn<-.214?Nn:Tn>=.166&&Tn<.234&&yn>=-.214&&yn<-.115?rr:Fn).invert(Xt)},mn.stream=function(Xt){return Ht&&an===Xt?Ht:(tn=[Fn.stream(an=Xt),Nn.stream(Xt),rr.stream(Xt)],bn=tn.length,Ht={point:function(yn,Tn){for(var fn=-1;++fn<bn;)tn[fn].point(yn,Tn)},sphere:function(){for(var yn=-1;++yn<bn;)tn[yn].sphere()},lineStart:function(){for(var yn=-1;++yn<bn;)tn[yn].lineStart()},lineEnd:function(){for(var yn=-1;++yn<bn;)tn[yn].lineEnd()},polygonStart:function(){for(var yn=-1;++yn<bn;)tn[yn].polygonStart()},polygonEnd:function(){for(var yn=-1;++yn<bn;)tn[yn].polygonEnd()}});var tn,bn},mn.precision=function(Xt){return arguments.length?(Fn.precision(Xt),Nn.precision(Xt),rr.precision(Xt),It()):Fn.precision()},mn.scale=function(Xt){return arguments.length?(Fn.scale(Xt),Nn.scale(.35*Xt),rr.scale(Xt),mn.translate(Fn.translate())):Fn.scale()},mn.translate=function(Xt){if(!arguments.length)return Fn.translate();var tn=Fn.scale(),bn=+Xt[0],yn=+Xt[1];return _n=Fn.translate(Xt).clipExtent([[bn-.455*tn,yn-.238*tn],[bn+.455*tn,yn+.238*tn]]).stream(Zt),vn=Nn.translate([bn-.307*tn,yn+.201*tn]).clipExtent([[bn-.425*tn+u.Gg,yn+.12*tn+u.Gg],[bn-.214*tn-u.Gg,yn+.234*tn-u.Gg]]).stream(Zt),Cn=rr.translate([bn-.205*tn,yn+.212*tn]).clipExtent([[bn-.214*tn+u.Gg,yn+.166*tn+u.Gg],[bn-.115*tn-u.Gg,yn+.234*tn-u.Gg]]).stream(Zt),It()},mn.fitExtent=function(Xt,tn){return(0,ht.QX)(mn,Xt,tn)},mn.fitSize=function(Xt,tn){return(0,ht.UV)(mn,Xt,tn)},mn.fitWidth=function(Xt,tn){return(0,ht.Qx)(mn,Xt,tn)},mn.fitHeight=function(Xt,tn){return(0,ht.OW)(mn,Xt,tn)},mn.scale(1070)}var Tt=e(54724),bt=e(69020),Pt=e(92992);function Ot(Ht,an){return[Ht,(0,u.Yz)((0,u.a6)((u.or+an)/2))]}function Bt(){return Kt(Ot).scale(961/u.kD)}function Kt(Ht){var an,_n,vn,Cn=(0,ot.c)(Ht),Gn=Cn.center,Fn=Cn.scale,Nn=Cn.translate,rr=Cn.clipExtent,Zt=null;function mn(){var It=u.pi*Fn(),Xt=Cn((0,Pt.c)(Cn.rotate()).invert([0,0]));return rr(Zt==null?[[Xt[0]-It,Xt[1]-It],[Xt[0]+It,Xt[1]+It]]:Ht===Ot?[[Math.max(Xt[0]-It,Zt),an],[Math.min(Xt[0]+It,_n),vn]]:[[Zt,Math.max(Xt[1]-It,an)],[_n,Math.min(Xt[1]+It,vn)]])}return Cn.scale=function(It){return arguments.length?(Fn(It),mn()):Fn()},Cn.translate=function(It){return arguments.length?(Nn(It),mn()):Nn()},Cn.center=function(It){return arguments.length?(Gn(It),mn()):Gn()},Cn.clipExtent=function(It){return arguments.length?(It==null?Zt=an=_n=vn=null:(Zt=+It[0][0],an=+It[0][1],_n=+It[1][0],vn=+It[1][1]),mn()):Zt==null?null:[[Zt,an],[_n,vn]]},mn()}function on(Ht){return(0,u.a6)((u.or+Ht)/2)}function qt(Ht,an){var _n=(0,u.W8)(Ht),vn=Ht===an?(0,u.g$)(Ht):(0,u.Yz)(_n/(0,u.W8)(an))/(0,u.Yz)(on(an)/on(Ht)),Cn=_n*(0,u.g3)(on(Ht),vn)/vn;if(!vn)return Ot;function Gn(Fn,Nn){Cn>0?Nn<-u.or+u.Gg&&(Nn=-u.or+u.Gg):Nn>u.or-u.Gg&&(Nn=u.or-u.Gg);var rr=Cn/(0,u.g3)(on(Nn),vn);return[rr*(0,u.g$)(vn*Fn),Cn-rr*(0,u.W8)(vn*Fn)]}return Gn.invert=function(Fn,Nn){var rr=Cn-Nn,Zt=(0,u.kq)(vn)*(0,u._I)(Fn*Fn+rr*rr),mn=(0,u.WE)(Fn,(0,u.a2)(rr))*(0,u.kq)(rr);return rr*vn<0&&(mn-=u.pi*(0,u.kq)(Fn)*(0,u.kq)(rr)),[mn/vn,2*(0,u.MQ)((0,u.g3)(Cn/Zt,1/vn))-u.or]},Gn}function Wt(){return Xe(qt).scale(109.5).parallels([30,30])}Ot.invert=function(Ht,an){return[Ht,2*(0,u.MQ)((0,u.oN)(an))-u.or]};var nn=e(69604);function En(Ht,an){var _n=(0,u.W8)(Ht),vn=Ht===an?(0,u.g$)(Ht):(_n-(0,u.W8)(an))/(an-Ht),Cn=_n/vn+Ht;if((0,u.a2)(vn)<u.Gg)return nn.u;function Gn(Fn,Nn){var rr=Cn-Nn,Zt=vn*Fn;return[rr*(0,u.g$)(Zt),Cn-rr*(0,u.W8)(Zt)]}return Gn.invert=function(Fn,Nn){var rr=Cn-Nn,Zt=(0,u.WE)(Fn,(0,u.a2)(rr))*(0,u.kq)(rr);return rr*vn<0&&(Zt-=u.pi*(0,u.kq)(Fn)*(0,u.kq)(rr)),[Zt/vn,Cn-(0,u.kq)(vn)*(0,u._I)(Fn*Fn+rr*rr)]},Gn}function Mn(){return Xe(En).scale(131.154).center([0,13.9389])}var dn=1.340264,Jt=-.081106,un=893e-6,rn=.003796,hn=(0,u._I)(3)/2;function kn(Ht,an){var _n=(0,u.qR)(hn*(0,u.g$)(an)),vn=_n*_n,Cn=vn*vn*vn;return[Ht*(0,u.W8)(_n)/(hn*(dn+3*Jt*vn+Cn*(7*un+9*rn*vn))),_n*(dn+Jt*vn+Cn*(un+rn*vn))]}function Ln(){return(0,ot.c)(kn).scale(177.158)}kn.invert=function(Ht,an){for(var _n,vn=an,Cn=vn*vn,Gn=Cn*Cn*Cn,Fn=0;Fn<12&&(Gn=(Cn=(vn-=_n=(vn*(dn+Jt*Cn+Gn*(un+rn*Cn))-an)/(dn+3*Jt*Cn+Gn*(7*un+9*rn*Cn)))*vn)*Cn*Cn,!((0,u.a2)(_n)<u.a8));++Fn);return[hn*Ht*(dn+3*Jt*Cn+Gn*(7*un+9*rn*Cn))/(0,u.W8)(vn),(0,u.qR)((0,u.g$)(vn)/hn)]};var Dn=e(53285),zn=e(15196);function On(){var Ht,an,_n,vn,Cn,Gn,Fn,Nn=1,rr=0,Zt=0,mn=1,It=1,Xt=0,tn=null,bn=1,yn=1,Tn=(0,zn.s)({point:function(ln,pn){var Sn=en([ln,pn]);this.stream.point(Sn[0],Sn[1])}}),fn=ne.c;function Qt(){return bn=Nn*mn,yn=Nn*It,Gn=Fn=null,en}function en(ln){var pn=ln[0]*bn,Sn=ln[1]*yn;if(Xt){var In=Sn*Ht-pn*an;pn=pn*Ht+Sn*an,Sn=In}return[pn+rr,Sn+Zt]}return en.invert=function(ln){var pn=ln[0]-rr,Sn=ln[1]-Zt;if(Xt){var In=Sn*Ht+pn*an;pn=pn*Ht-Sn*an,Sn=In}return[pn/bn,Sn/yn]},en.stream=function(ln){return Gn&&Fn===ln?Gn:Gn=Tn(fn(Fn=ln))},en.postclip=function(ln){return arguments.length?(fn=ln,tn=_n=vn=Cn=null,Qt()):fn},en.clipExtent=function(ln){return arguments.length?(fn=ln==null?(tn=_n=vn=Cn=null,ne.c):(0,o.c)(tn=+ln[0][0],_n=+ln[0][1],vn=+ln[1][0],Cn=+ln[1][1]),Qt()):tn==null?null:[[tn,_n],[vn,Cn]]},en.scale=function(ln){return arguments.length?(Nn=+ln,Qt()):Nn},en.translate=function(ln){return arguments.length?(rr=+ln[0],Zt=+ln[1],Qt()):[rr,Zt]},en.angle=function(ln){return arguments.length?(Xt=ln%360*u.qw,an=(0,u.g$)(Xt),Ht=(0,u.W8)(Xt),Qt()):Xt*u.oh},en.reflectX=function(ln){return arguments.length?(mn=ln?-1:1,Qt()):mn<0},en.reflectY=function(ln){return arguments.length?(It=ln?-1:1,Qt()):It<0},en.fitExtent=function(ln,pn){return(0,ht.QX)(en,ln,pn)},en.fitSize=function(ln,pn){return(0,ht.UV)(en,ln,pn)},en.fitWidth=function(ln,pn){return(0,ht.Qx)(en,ln,pn)},en.fitHeight=function(ln,pn){return(0,ht.OW)(en,ln,pn)},en}var Hn=e(47984),jn=e(4888),ar=e(62280);function ur(Ht,an){var _n=(0,u.W8)(an),vn=1+(0,u.W8)(Ht)*_n;return[_n*(0,u.g$)(Ht)/vn,(0,u.g$)(an)/vn]}function cr(){return(0,ot.c)(ur).scale(250).clipAngle(142)}function er(Ht,an){return[(0,u.Yz)((0,u.a6)((u.or+an)/2)),-Ht]}function Tr(){var Ht=Kt(er),an=Ht.center,_n=Ht.rotate;return Ht.center=function(vn){return arguments.length?an([-vn[1],vn[0]]):[(vn=an())[1],-vn[0]]},Ht.rotate=function(vn){return arguments.length?_n([vn[0],vn[1],vn.length>2?vn[2]+90:90]):[(vn=_n())[0],vn[1],vn[2]-90]},_n([0,0,90]).scale(159.155)}ur.invert=(0,ar.g)(function(Ht){return 2*(0,u.MQ)(Ht)}),er.invert=function(Ht,an){return[-an,2*(0,u.MQ)((0,u.oN)(Ht))-u.or]}},27284:function(Y,P,e){e.d(P,{c:function(){return k}});var A=e(64528);function k(a,w){var b=a[0]*A.qw,h=a[1]*A.qw,o=w[0]*A.qw,t=w[1]*A.qw,i=(0,A.W8)(h),n=(0,A.g$)(h),r=(0,A.W8)(t),s=(0,A.g$)(t),l=i*(0,A.W8)(b),u=i*(0,A.g$)(b),d=r*(0,A.W8)(o),c=r*(0,A.g$)(o),x=2*(0,A.qR)((0,A._I)((0,A.SD)(t-h)+i*r*(0,A.SD)(o-b))),g=(0,A.g$)(x),p=x?function(v){var y=(0,A.g$)(v*=x)/g,m=(0,A.g$)(x-v)/g,_=m*l+y*d,f=m*u+y*c,S=m*n+y*s;return[(0,A.WE)(f,_)*A.oh,(0,A.WE)(S,(0,A._I)(_*_+f*f))*A.oh]}:function(){return[b*A.oh,h*A.oh]};return p.distance=x,p}},64528:function(Y,P,e){e.d(P,{Gg:function(){return A},Km:function(){return l},MQ:function(){return n},SD:function(){return _},W8:function(){return s},WE:function(){return r},Yz:function(){return d},_I:function(){return p},a2:function(){return i},a6:function(){return v},a8:function(){return k},g$:function(){return x},g3:function(){return c},kD:function(){return h},kq:function(){return g},mE:function(){return y},oN:function(){return u},oh:function(){return o},or:function(){return w},pi:function(){return a},qR:function(){return m},qw:function(){return t},wL:function(){return b}});var A=1e-6,k=1e-12,a=Math.PI,w=a/2,b=a/4,h=2*a,o=180/a,t=a/180,i=Math.abs,n=Math.atan,r=Math.atan2,s=Math.cos,l=Math.ceil,u=Math.exp,d=Math.log,c=Math.pow,x=Math.sin,g=Math.sign||function(f){return f>0?1:f<0?-1:0},p=Math.sqrt,v=Math.tan;function y(f){return f>1?0:f<-1?a:Math.acos(f)}function m(f){return f>1?w:f<-1?-w:Math.asin(f)}function _(f){return(f=x(f/2))*f}},70932:function(Y,P,e){function A(){}e.d(P,{c:function(){return A}})},73784:function(Y,P,e){var A=e(70932),k=1/0,a=k,w=-k,b=w,h={point:function(o,t){o<k&&(k=o),o>w&&(w=o),t<a&&(a=t),t>b&&(b=t)},lineStart:A.c,lineEnd:A.c,polygonStart:A.c,polygonEnd:A.c,result:function(){var o=[[k,a],[w,b]];return w=b=-(a=k=1/0),o}};P.c=h},41860:function(Y,P,e){e.d(P,{c:function(){return k}});var A=e(64528);function k(a,w){return(0,A.a2)(a[0]-w[0])<A.Gg&&(0,A.a2)(a[1]-w[1])<A.Gg}},58196:function(Y,P,e){e.d(P,{c:function(){return h}});var A=e(88728),k=e(84220),a=e(64528),w=(0,A.c)();function b(o){return(0,a.a2)(o[0])<=a.pi?o[0]:(0,a.kq)(o[0])*(((0,a.a2)(o[0])+a.pi)%a.kD-a.pi)}function h(o,t){var i=b(t),n=t[1],r=(0,a.g$)(n),s=[(0,a.g$)(i),-(0,a.W8)(i),0],l=0,u=0;w.reset(),r===1?n=a.or+a.Gg:r===-1&&(n=-a.or-a.Gg);for(var d=0,c=o.length;d<c;++d)if(g=(x=o[d]).length)for(var x,g,p=x[g-1],v=b(p),y=p[1]/2+a.wL,m=(0,a.g$)(y),_=(0,a.W8)(y),f=0;f<g;++f,v=T,m=C,_=O,p=S){var S=x[f],T=b(S),E=S[1]/2+a.wL,C=(0,a.g$)(E),O=(0,a.W8)(E),I=T-v,z=I>=0?1:-1,U=z*I,D=U>a.pi,B=m*C;if(w.add((0,a.WE)(B*z*(0,a.g$)(U),_*O+B*(0,a.W8)(U))),l+=D?I+z*a.kD:I,D^v>=i^T>=i){var Z=(0,k.CW)((0,k.ux)(p),(0,k.ux)(S));(0,k.cJ)(Z);var F=(0,k.CW)(s,Z);(0,k.cJ)(F);var j=(D^I>=0?-1:1)*(0,a.qR)(F[2]);(n>j||n===j&&(Z[0]||Z[1]))&&(u+=D^I>=0?1:-1)}}return(l<-a.Gg||l<a.Gg&&w<-a.Gg)^1&u}},62280:function(Y,P,e){e.d(P,{a:function(){return k},g:function(){return a}});var A=e(64528);function k(w){return function(b,h){var o=(0,A.W8)(b),t=(0,A.W8)(h),i=w(o*t);return[i*t*(0,A.g$)(b),i*(0,A.g$)(h)]}}function a(w){return function(b,h){var o=(0,A._I)(b*b+h*h),t=w(o),i=(0,A.g$)(t),n=(0,A.W8)(t);return[(0,A.WE)(b*i,o*n),(0,A.qR)(o&&h*i/o)]}}},54724:function(Y,P,e){e.d(P,{c:function(){return b},y:function(){return w}});var A=e(64528),k=e(62280),a=e(87952),w=(0,k.a)(function(h){return(0,A._I)(2/(1+h))});function b(){return(0,a.c)(w).scale(124.75).clipAngle(179.999)}w.invert=(0,k.g)(function(h){return 2*(0,A.qR)(h/2)})},69020:function(Y,P,e){e.d(P,{O:function(){return w},c:function(){return b}});var A=e(64528),k=e(62280),a=e(87952),w=(0,k.a)(function(h){return(h=(0,A.mE)(h))&&h/(0,A.g$)(h)});function b(){return(0,a.c)(w).scale(79.4188).clipAngle(179.999)}w.invert=(0,k.g)(function(h){return h})},69604:function(Y,P,e){e.d(P,{c:function(){return a},u:function(){return k}});var A=e(87952);function k(w,b){return[w,b]}function a(){return(0,A.c)(k).scale(152.63)}k.invert=k},86420:function(Y,P,e){e.d(P,{OW:function(){return o},QX:function(){return w},Qx:function(){return h},UV:function(){return b}});var A=e(16016),k=e(73784);function a(t,i,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),(0,A.c)(n,t.stream(k.c)),i(k.c.result()),r!=null&&t.clipExtent(r),t}function w(t,i,n){return a(t,function(r){var s=i[1][0]-i[0][0],l=i[1][1]-i[0][1],u=Math.min(s/(r[1][0]-r[0][0]),l/(r[1][1]-r[0][1])),d=+i[0][0]+(s-u*(r[1][0]+r[0][0]))/2,c=+i[0][1]+(l-u*(r[1][1]+r[0][1]))/2;t.scale(150*u).translate([d,c])},n)}function b(t,i,n){return w(t,[[0,0],i],n)}function h(t,i,n){return a(t,function(r){var s=+i,l=s/(r[1][0]-r[0][0]),u=(s-l*(r[1][0]+r[0][0]))/2,d=-l*r[0][1];t.scale(150*l).translate([u,d])},n)}function o(t,i,n){return a(t,function(r){var s=+i,l=s/(r[1][1]-r[0][1]),u=-l*r[0][0],d=(s-l*(r[1][1]+r[0][1]))/2;t.scale(150*l).translate([u,d])},n)}},53285:function(Y,P,e){e.d(P,{Y:function(){return w},c:function(){return b}});var A=e(64528),k=e(62280),a=e(87952);function w(h,o){var t=(0,A.W8)(o),i=(0,A.W8)(h)*t;return[t*(0,A.g$)(h)/i,(0,A.g$)(o)/i]}function b(){return(0,a.c)(w).scale(144.049).clipAngle(60)}w.invert=(0,k.g)(A.MQ)},87952:function(Y,P,e){e.d(P,{c:function(){return x},U:function(){return g}});var A=e(78284),k=e(2728),a=e(21676),w=e(68120),b=e(7376),h=e(64528),o=e(92992),t=e(15196),i=e(86420),n=e(84220),r=16,s=(0,h.W8)(30*h.qw);function l(p,v){return+v?function(y,m){function _(f,S,T,E,C,O,I,z,U,D,B,Z,F,j){var V=I-f,te=z-S,Q=V*V+te*te;if(Q>4*m&&F--){var $=E+D,G=C+B,X=O+Z,J=(0,h._I)($*$+G*G+X*X),ne=(0,h.qR)(X/=J),ie=(0,h.a2)((0,h.a2)(X)-1)<h.Gg||(0,h.a2)(T-U)<h.Gg?(T+U)/2:(0,h.WE)(G,$),ae=y(ie,ne),le=ae[0],ce=ae[1],pe=le-f,ge=ce-S,me=te*pe-V*ge;(me*me/Q>m||(0,h.a2)((V*pe+te*ge)/Q-.5)>.3||E*D+C*B+O*Z<s)&&(_(f,S,T,E,C,O,le,ce,ie,$/=J,G/=J,X,F,j),j.point(le,ce),_(le,ce,ie,$,G,X,I,z,U,D,B,Z,F,j))}}return function(f){var S,T,E,C,O,I,z,U,D,B,Z,F,j={point:V,lineStart:te,lineEnd:$,polygonStart:function(){f.polygonStart(),j.lineStart=G},polygonEnd:function(){f.polygonEnd(),j.lineStart=te}};function V(ne,ie){ne=y(ne,ie),f.point(ne[0],ne[1])}function te(){U=NaN,j.point=Q,f.lineStart()}function Q(ne,ie){var ae=(0,n.ux)([ne,ie]),le=y(ne,ie);_(U,D,z,B,Z,F,U=le[0],D=le[1],z=ne,B=ae[0],Z=ae[1],F=ae[2],r,f),f.point(U,D)}function $(){j.point=V,f.lineEnd()}function G(){te(),j.point=X,j.lineEnd=J}function X(ne,ie){Q(S=ne,ie),T=U,E=D,C=B,O=Z,I=F,j.point=Q}function J(){_(U,D,z,B,Z,F,T,E,S,C,O,I,r,f),j.lineEnd=$,$()}return j}}(p,v):function(y){return(0,t.s)({point:function(m,_){m=y(m,_),this.stream.point(m[0],m[1])}})}(p)}var u=(0,t.s)({point:function(p,v){this.stream.point(p*h.qw,v*h.qw)}});function d(p,v,y,m,_){function f(S,T){return[v+p*(S*=m),y-p*(T*=_)]}return f.invert=function(S,T){return[(S-v)/p*m,(y-T)/p*_]},f}function c(p,v,y,m,_,f){var S=(0,h.W8)(f),T=(0,h.g$)(f),E=S*p,C=T*p,O=S/p,I=T/p,z=(T*y-S*v)/p,U=(T*v+S*y)/p;function D(B,Z){return[E*(B*=m)-C*(Z*=_)+v,y-C*B-E*Z]}return D.invert=function(B,Z){return[m*(O*B-I*Z+z),_*(U-I*B-O*Z)]},D}function x(p){return g(function(){return p})()}function g(p){var v,y,m,_,f,S,T,E,C,O,I=150,z=480,U=250,D=0,B=0,Z=0,F=0,j=0,V=0,te=1,Q=1,$=null,G=A.c,X=null,J=b.c,ne=.5;function ie(pe){return E(pe[0]*h.qw,pe[1]*h.qw)}function ae(pe){return(pe=E.invert(pe[0],pe[1]))&&[pe[0]*h.oh,pe[1]*h.oh]}function le(){var pe=c(I,0,0,te,Q,V).apply(null,v(D,B)),ge=(V?c:d)(I,z-pe[0],U-pe[1],te,Q,V);return y=(0,o.O)(Z,F,j),T=(0,w.c)(v,ge),E=(0,w.c)(y,T),S=l(T,ne),ce()}function ce(){return C=O=null,ie}return ie.stream=function(pe){return C&&O===pe?C:C=u(function(ge){return(0,t.s)({point:function(me,ve){var Me=ge(me,ve);return this.stream.point(Me[0],Me[1])}})}(y)(G(S(J(O=pe)))))},ie.preclip=function(pe){return arguments.length?(G=pe,$=void 0,ce()):G},ie.postclip=function(pe){return arguments.length?(J=pe,X=m=_=f=null,ce()):J},ie.clipAngle=function(pe){return arguments.length?(G=+pe?(0,k.c)($=pe*h.qw):($=null,A.c),ce()):$*h.oh},ie.clipExtent=function(pe){return arguments.length?(J=pe==null?(X=m=_=f=null,b.c):(0,a.c)(X=+pe[0][0],m=+pe[0][1],_=+pe[1][0],f=+pe[1][1]),ce()):X==null?null:[[X,m],[_,f]]},ie.scale=function(pe){return arguments.length?(I=+pe,le()):I},ie.translate=function(pe){return arguments.length?(z=+pe[0],U=+pe[1],le()):[z,U]},ie.center=function(pe){return arguments.length?(D=pe[0]%360*h.qw,B=pe[1]%360*h.qw,le()):[D*h.oh,B*h.oh]},ie.rotate=function(pe){return arguments.length?(Z=pe[0]%360*h.qw,F=pe[1]%360*h.qw,j=pe.length>2?pe[2]%360*h.qw:0,le()):[Z*h.oh,F*h.oh,j*h.oh]},ie.angle=function(pe){return arguments.length?(V=pe%360*h.qw,le()):V*h.oh},ie.reflectX=function(pe){return arguments.length?(te=pe?-1:1,le()):te<0},ie.reflectY=function(pe){return arguments.length?(Q=pe?-1:1,le()):Q<0},ie.precision=function(pe){return arguments.length?(S=l(T,ne=pe*pe),ce()):(0,h._I)(ne)},ie.fitExtent=function(pe,ge){return(0,i.QX)(ie,pe,ge)},ie.fitSize=function(pe,ge){return(0,i.UV)(ie,pe,ge)},ie.fitWidth=function(pe,ge){return(0,i.Qx)(ie,pe,ge)},ie.fitHeight=function(pe,ge){return(0,i.OW)(ie,pe,ge)},function(){return v=p.apply(this,arguments),ie.invert=v.invert&&ae,le()}}},47984:function(Y,P,e){e.d(P,{c:function(){return w},g:function(){return a}});var A=e(87952),k=e(64528);function a(b,h){var o=h*h,t=o*o;return[b*(.8707-.131979*o+t*(t*(.003971*o-.001529*t)-.013791)),h*(1.007226+o*(.015085+t*(.028874*o-.044475-.005916*t)))]}function w(){return(0,A.c)(a).scale(175.295)}a.invert=function(b,h){var o,t=h,i=25;do{var n=t*t,r=n*n;t-=o=(t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))-h)/(1.007226+n*(.045255+r*(.259866*n-.311325-.06507600000000001*r)))}while((0,k.a2)(o)>k.Gg&&--i>0);return[b/(.8707+(n=t*t)*(n*(n*n*n*(.003971-.001529*n)-.013791)-.131979)),t]}},4888:function(Y,P,e){e.d(P,{c:function(){return b},t:function(){return w}});var A=e(64528),k=e(62280),a=e(87952);function w(h,o){return[(0,A.W8)(o)*(0,A.g$)(h),(0,A.g$)(o)]}function b(){return(0,a.c)(w).scale(249.5).clipAngle(90+A.Gg)}w.invert=(0,k.g)(A.qR)},92992:function(Y,P,e){e.d(P,{O:function(){return w},c:function(){return t}});var A=e(68120),k=e(64528);function a(i,n){return[(0,k.a2)(i)>k.pi?i+Math.round(-i/k.kD)*k.kD:i,n]}function w(i,n,r){return(i%=k.kD)?n||r?(0,A.c)(h(i),o(n,r)):h(i):n||r?o(n,r):a}function b(i){return function(n,r){return[(n+=i)>k.pi?n-k.kD:n<-k.pi?n+k.kD:n,r]}}function h(i){var n=b(i);return n.invert=b(-i),n}function o(i,n){var r=(0,k.W8)(i),s=(0,k.g$)(i),l=(0,k.W8)(n),u=(0,k.g$)(n);function d(c,x){var g=(0,k.W8)(x),p=(0,k.W8)(c)*g,v=(0,k.g$)(c)*g,y=(0,k.g$)(x),m=y*r+p*s;return[(0,k.WE)(v*l-m*u,p*r-y*s),(0,k.qR)(m*l+v*u)]}return d.invert=function(c,x){var g=(0,k.W8)(x),p=(0,k.W8)(c)*g,v=(0,k.g$)(c)*g,y=(0,k.g$)(x),m=y*l-v*u;return[(0,k.WE)(v*l+y*u,p*r+m*s),(0,k.qR)(m*r-p*s)]},d}function t(i){function n(r){return(r=i(r[0]*k.qw,r[1]*k.qw))[0]*=k.oh,r[1]*=k.oh,r}return i=w(i[0]*k.qw,i[1]*k.qw,i.length>2?i[2]*k.qw:0),n.invert=function(r){return(r=i.invert(r[0]*k.qw,r[1]*k.qw))[0]*=k.oh,r[1]*=k.oh,r},n}a.invert=a},16016:function(Y,P,e){function A(o,t){o&&a.hasOwnProperty(o.type)&&a[o.type](o,t)}e.d(P,{c:function(){return h}});var k={Feature:function(o,t){A(o.geometry,t)},FeatureCollection:function(o,t){for(var i=o.features,n=-1,r=i.length;++n<r;)A(i[n].geometry,t)}},a={Sphere:function(o,t){t.sphere()},Point:function(o,t){o=o.coordinates,t.point(o[0],o[1],o[2])},MultiPoint:function(o,t){for(var i=o.coordinates,n=-1,r=i.length;++n<r;)o=i[n],t.point(o[0],o[1],o[2])},LineString:function(o,t){w(o.coordinates,t,0)},MultiLineString:function(o,t){for(var i=o.coordinates,n=-1,r=i.length;++n<r;)w(i[n],t,0)},Polygon:function(o,t){b(o.coordinates,t)},MultiPolygon:function(o,t){for(var i=o.coordinates,n=-1,r=i.length;++n<r;)b(i[n],t)},GeometryCollection:function(o,t){for(var i=o.geometries,n=-1,r=i.length;++n<r;)A(i[n],t)}};function w(o,t,i){var n,r=-1,s=o.length-i;for(t.lineStart();++r<s;)n=o[r],t.point(n[0],n[1],n[2]);t.lineEnd()}function b(o,t){var i=-1,n=o.length;for(t.polygonStart();++i<n;)w(o[i],t,1);t.polygonEnd()}function h(o,t){o&&k.hasOwnProperty(o.type)?k[o.type](o,t):A(o,t)}},15196:function(Y,P,e){function A(w){return{stream:k(w)}}function k(w){return function(b){var h=new a;for(var o in w)h[o]=w[o];return h.stream=b,h}}function a(){}e.d(P,{c:function(){return A},s:function(){return k}}),a.prototype={constructor:a,point:function(w,b){this.stream.point(w,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},74148:function(Y,P,e){function A(se,de){return se.parent===de.parent?1:2}function k(se,de){return se+de.x}function a(se,de){return Math.max(se,de.y)}function w(){var se=A,de=1,Ee=1,Te=!1;function Se(Le){var Oe,he=0;Le.eachAfter(function(Ie){var He=Ie.children;He?(Ie.x=function(qe){return qe.reduce(k,0)/qe.length}(He),Ie.y=function(qe){return 1+qe.reduce(a,0)}(He)):(Ie.x=Oe?he+=se(Ie,Oe):0,Ie.y=0,Oe=Ie)});var xe=function(Ie){for(var He;He=Ie.children;)Ie=He[0];return Ie}(Le),ke=function(Ie){for(var He;He=Ie.children;)Ie=He[He.length-1];return Ie}(Le),Re=xe.x-se(xe,ke)/2,ze=ke.x+se(ke,xe)/2;return Le.eachAfter(Te?function(Ie){Ie.x=(Ie.x-Le.x)*de,Ie.y=(Le.y-Ie.y)*Ee}:function(Ie){Ie.x=(Ie.x-Re)/(ze-Re)*de,Ie.y=(1-(Le.y?Ie.y/Le.y:1))*Ee})}return Se.separation=function(Le){return arguments.length?(se=Le,Se):se},Se.size=function(Le){return arguments.length?(Te=!1,de=+Le[0],Ee=+Le[1],Se):Te?null:[de,Ee]},Se.nodeSize=function(Le){return arguments.length?(Te=!0,de=+Le[0],Ee=+Le[1],Se):Te?[de,Ee]:null},Se}function b(se){var de=0,Ee=se.children,Te=Ee&&Ee.length;if(Te)for(;--Te>=0;)de+=Ee[Te].value;else de=1;se.value=de}function h(se,de){var Ee,Te,Se,Le,Oe,he=new n(se),xe=+se.value&&(he.value=se.value),ke=[he];for(de==null&&(de=o);Ee=ke.pop();)if(xe&&(Ee.value=+Ee.data.value),(Se=de(Ee.data))&&(Oe=Se.length))for(Ee.children=new Array(Oe),Le=Oe-1;Le>=0;--Le)ke.push(Te=Ee.children[Le]=new n(Se[Le])),Te.parent=Ee,Te.depth=Ee.depth+1;return he.eachBefore(i)}function o(se){return se.children}function t(se){se.data=se.data.data}function i(se){var de=0;do se.height=de;while((se=se.parent)&&se.height<++de)}function n(se){this.data=se,this.depth=this.height=0,this.parent=null}e.r(P),e.d(P,{cluster:function(){return w},hierarchy:function(){return h},pack:function(){return I},packEnclose:function(){return s},packSiblings:function(){return S},partition:function(){return F},stratify:function(){return G},tree:function(){return ce},treemap:function(){return Me},treemapBinary:function(){return _e},treemapDice:function(){return Z},treemapResquarify:function(){return oe},treemapSlice:function(){return pe},treemapSliceDice:function(){return we},treemapSquarify:function(){return ve}}),n.prototype=h.prototype={constructor:n,count:function(){return this.eachAfter(b)},each:function(se){var de,Ee,Te,Se,Le=this,Oe=[Le];do for(de=Oe.reverse(),Oe=[];Le=de.pop();)if(se(Le),Ee=Le.children)for(Te=0,Se=Ee.length;Te<Se;++Te)Oe.push(Ee[Te]);while(Oe.length);return this},eachAfter:function(se){for(var de,Ee,Te,Se=this,Le=[Se],Oe=[];Se=Le.pop();)if(Oe.push(Se),de=Se.children)for(Ee=0,Te=de.length;Ee<Te;++Ee)Le.push(de[Ee]);for(;Se=Oe.pop();)se(Se);return this},eachBefore:function(se){for(var de,Ee,Te=this,Se=[Te];Te=Se.pop();)if(se(Te),de=Te.children)for(Ee=de.length-1;Ee>=0;--Ee)Se.push(de[Ee]);return this},sum:function(se){return this.eachAfter(function(de){for(var Ee=+se(de.data)||0,Te=de.children,Se=Te&&Te.length;--Se>=0;)Ee+=Te[Se].value;de.value=Ee})},sort:function(se){return this.eachBefore(function(de){de.children&&de.children.sort(se)})},path:function(se){for(var de=this,Ee=function(Le,Oe){if(Le===Oe)return Le;var he=Le.ancestors(),xe=Oe.ancestors(),ke=null;for(Le=he.pop(),Oe=xe.pop();Le===Oe;)ke=Le,Le=he.pop(),Oe=xe.pop();return ke}(de,se),Te=[de];de!==Ee;)de=de.parent,Te.push(de);for(var Se=Te.length;se!==Ee;)Te.splice(Se,0,se),se=se.parent;return Te},ancestors:function(){for(var se=this,de=[se];se=se.parent;)de.push(se);return de},descendants:function(){var se=[];return this.each(function(de){se.push(de)}),se},leaves:function(){var se=[];return this.eachBefore(function(de){de.children||se.push(de)}),se},links:function(){var se=this,de=[];return se.each(function(Ee){Ee!==se&&de.push({source:Ee.parent,target:Ee})}),de},copy:function(){return h(this).eachBefore(t)}};var r=Array.prototype.slice;function s(se){for(var de,Ee,Te=0,Se=(se=function(Oe){for(var he,xe,ke=Oe.length;ke;)xe=Math.random()*ke--|0,he=Oe[ke],Oe[ke]=Oe[xe],Oe[xe]=he;return Oe}(r.call(se))).length,Le=[];Te<Se;)de=se[Te],Ee&&d(Ee,de)?++Te:(Ee=x(Le=l(Le,de)),Te=0);return Ee}function l(se,de){var Ee,Te;if(c(de,se))return[de];for(Ee=0;Ee<se.length;++Ee)if(u(de,se[Ee])&&c(g(se[Ee],de),se))return[se[Ee],de];for(Ee=0;Ee<se.length-1;++Ee)for(Te=Ee+1;Te<se.length;++Te)if(u(g(se[Ee],se[Te]),de)&&u(g(se[Ee],de),se[Te])&&u(g(se[Te],de),se[Ee])&&c(p(se[Ee],se[Te],de),se))return[se[Ee],se[Te],de];throw new Error}function u(se,de){var Ee=se.r-de.r,Te=de.x-se.x,Se=de.y-se.y;return Ee<0||Ee*Ee<Te*Te+Se*Se}function d(se,de){var Ee=se.r-de.r+1e-6,Te=de.x-se.x,Se=de.y-se.y;return Ee>0&&Ee*Ee>Te*Te+Se*Se}function c(se,de){for(var Ee=0;Ee<de.length;++Ee)if(!d(se,de[Ee]))return!1;return!0}function x(se){switch(se.length){case 1:return{x:(de=se[0]).x,y:de.y,r:de.r};case 2:return g(se[0],se[1]);case 3:return p(se[0],se[1],se[2])}var de}function g(se,de){var Ee=se.x,Te=se.y,Se=se.r,Le=de.x,Oe=de.y,he=de.r,xe=Le-Ee,ke=Oe-Te,Re=he-Se,ze=Math.sqrt(xe*xe+ke*ke);return{x:(Ee+Le+xe/ze*Re)/2,y:(Te+Oe+ke/ze*Re)/2,r:(ze+Se+he)/2}}function p(se,de,Ee){var Te=se.x,Se=se.y,Le=se.r,Oe=de.x,he=de.y,xe=de.r,ke=Ee.x,Re=Ee.y,ze=Ee.r,Ie=Te-Oe,He=Te-ke,qe=Se-he,Je=Se-Re,st=xe-Le,it=ze-Le,vt=Te*Te+Se*Se-Le*Le,_t=vt-Oe*Oe-he*he+xe*xe,xt=vt-ke*ke-Re*Re+ze*ze,et=He*qe-Ie*Je,nt=(qe*xt-Je*_t)/(2*et)-Te,Mt=(Je*st-qe*it)/et,zt=(He*_t-Ie*xt)/(2*et)-Se,Ft=(Ie*it-He*st)/et,Rt=Mt*Mt+Ft*Ft-1,We=2*(Le+nt*Mt+zt*Ft),Ze=nt*nt+zt*zt-Le*Le,Ne=-(Rt?(We+Math.sqrt(We*We-4*Rt*Ze))/(2*Rt):Ze/We);return{x:Te+nt+Mt*Ne,y:Se+zt+Ft*Ne,r:Ne}}function v(se,de,Ee){var Te,Se,Le,Oe,he=se.x-de.x,xe=se.y-de.y,ke=he*he+xe*xe;ke?(Se=de.r+Ee.r,Se*=Se,Oe=se.r+Ee.r,Se>(Oe*=Oe)?(Te=(ke+Oe-Se)/(2*ke),Le=Math.sqrt(Math.max(0,Oe/ke-Te*Te)),Ee.x=se.x-Te*he-Le*xe,Ee.y=se.y-Te*xe+Le*he):(Te=(ke+Se-Oe)/(2*ke),Le=Math.sqrt(Math.max(0,Se/ke-Te*Te)),Ee.x=de.x+Te*he-Le*xe,Ee.y=de.y+Te*xe+Le*he)):(Ee.x=de.x+Ee.r,Ee.y=de.y)}function y(se,de){var Ee=se.r+de.r-1e-6,Te=de.x-se.x,Se=de.y-se.y;return Ee>0&&Ee*Ee>Te*Te+Se*Se}function m(se){var de=se._,Ee=se.next._,Te=de.r+Ee.r,Se=(de.x*Ee.r+Ee.x*de.r)/Te,Le=(de.y*Ee.r+Ee.y*de.r)/Te;return Se*Se+Le*Le}function _(se){this._=se,this.next=null,this.previous=null}function f(se){if(!(Se=se.length))return 0;var de,Ee,Te,Se,Le,Oe,he,xe,ke,Re,ze;if((de=se[0]).x=0,de.y=0,!(Se>1))return de.r;if(Ee=se[1],de.x=-Ee.r,Ee.x=de.r,Ee.y=0,!(Se>2))return de.r+Ee.r;v(Ee,de,Te=se[2]),de=new _(de),Ee=new _(Ee),Te=new _(Te),de.next=Te.previous=Ee,Ee.next=de.previous=Te,Te.next=Ee.previous=de;e:for(he=3;he<Se;++he){v(de._,Ee._,Te=se[he]),Te=new _(Te),xe=Ee.next,ke=de.previous,Re=Ee._.r,ze=de._.r;do if(Re<=ze){if(y(xe._,Te._)){Ee=xe,de.next=Ee,Ee.previous=de,--he;continue e}Re+=xe._.r,xe=xe.next}else{if(y(ke._,Te._)){(de=ke).next=Ee,Ee.previous=de,--he;continue e}ze+=ke._.r,ke=ke.previous}while(xe!==ke.next);for(Te.previous=de,Te.next=Ee,de.next=Ee.previous=Ee=Te,Le=m(de);(Te=Te.next)!==Ee;)(Oe=m(Te))<Le&&(de=Te,Le=Oe);Ee=de.next}for(de=[Ee._],Te=Ee;(Te=Te.next)!==Ee;)de.push(Te._);for(Te=s(de),he=0;he<Se;++he)(de=se[he]).x-=Te.x,de.y-=Te.y;return Te.r}function S(se){return f(se),se}function T(se){if(typeof se!="function")throw new Error;return se}function E(){return 0}function C(se){return function(){return se}}function O(se){return Math.sqrt(se.value)}function I(){var se=null,de=1,Ee=1,Te=E;function Se(Le){return Le.x=de/2,Le.y=Ee/2,se?Le.eachBefore(z(se)).eachAfter(U(Te,.5)).eachBefore(D(1)):Le.eachBefore(z(O)).eachAfter(U(E,1)).eachAfter(U(Te,Le.r/Math.min(de,Ee))).eachBefore(D(Math.min(de,Ee)/(2*Le.r))),Le}return Se.radius=function(Le){return arguments.length?(se=(Oe=Le)==null?null:T(Oe),Se):se;var Oe},Se.size=function(Le){return arguments.length?(de=+Le[0],Ee=+Le[1],Se):[de,Ee]},Se.padding=function(Le){return arguments.length?(Te=typeof Le=="function"?Le:C(+Le),Se):Te},Se}function z(se){return function(de){de.children||(de.r=Math.max(0,+se(de)||0))}}function U(se,de){return function(Ee){if(Te=Ee.children){var Te,Se,Le,Oe=Te.length,he=se(Ee)*de||0;if(he)for(Se=0;Se<Oe;++Se)Te[Se].r+=he;if(Le=f(Te),he)for(Se=0;Se<Oe;++Se)Te[Se].r-=he;Ee.r=Le+he}}}function D(se){return function(de){var Ee=de.parent;de.r*=se,Ee&&(de.x=Ee.x+se*de.x,de.y=Ee.y+se*de.y)}}function B(se){se.x0=Math.round(se.x0),se.y0=Math.round(se.y0),se.x1=Math.round(se.x1),se.y1=Math.round(se.y1)}function Z(se,de,Ee,Te,Se){for(var Le,Oe=se.children,he=-1,xe=Oe.length,ke=se.value&&(Te-de)/se.value;++he<xe;)(Le=Oe[he]).y0=Ee,Le.y1=Se,Le.x0=de,Le.x1=de+=Le.value*ke}function F(){var se=1,de=1,Ee=0,Te=!1;function Se(Le){var Oe=Le.height+1;return Le.x0=Le.y0=Ee,Le.x1=se,Le.y1=de/Oe,Le.eachBefore(function(he,xe){return function(ke){ke.children&&Z(ke,ke.x0,he*(ke.depth+1)/xe,ke.x1,he*(ke.depth+2)/xe);var Re=ke.x0,ze=ke.y0,Ie=ke.x1-Ee,He=ke.y1-Ee;Ie<Re&&(Re=Ie=(Re+Ie)/2),He<ze&&(ze=He=(ze+He)/2),ke.x0=Re,ke.y0=ze,ke.x1=Ie,ke.y1=He}}(de,Oe)),Te&&Le.eachBefore(B),Le}return Se.round=function(Le){return arguments.length?(Te=!!Le,Se):Te},Se.size=function(Le){return arguments.length?(se=+Le[0],de=+Le[1],Se):[se,de]},Se.padding=function(Le){return arguments.length?(Ee=+Le,Se):Ee},Se}var j="$",V={depth:-1},te={};function Q(se){return se.id}function $(se){return se.parentId}function G(){var se=Q,de=$;function Ee(Te){var Se,Le,Oe,he,xe,ke,Re,ze=Te.length,Ie=new Array(ze),He={};for(Le=0;Le<ze;++Le)Se=Te[Le],xe=Ie[Le]=new n(Se),(ke=se(Se,Le,Te))!=null&&(ke+="")&&(He[Re=j+(xe.id=ke)]=Re in He?te:xe);for(Le=0;Le<ze;++Le)if(xe=Ie[Le],(ke=de(Te[Le],Le,Te))!=null&&(ke+="")){if(!(he=He[j+ke]))throw new Error("missing: "+ke);if(he===te)throw new Error("ambiguous: "+ke);he.children?he.children.push(xe):he.children=[xe],xe.parent=he}else{if(Oe)throw new Error("multiple roots");Oe=xe}if(!Oe)throw new Error("no root");if(Oe.parent=V,Oe.eachBefore(function(qe){qe.depth=qe.parent.depth+1,--ze}).eachBefore(i),Oe.parent=null,ze>0)throw new Error("cycle");return Oe}return Ee.id=function(Te){return arguments.length?(se=T(Te),Ee):se},Ee.parentId=function(Te){return arguments.length?(de=T(Te),Ee):de},Ee}function X(se,de){return se.parent===de.parent?1:2}function J(se){var de=se.children;return de?de[0]:se.t}function ne(se){var de=se.children;return de?de[de.length-1]:se.t}function ie(se,de,Ee){var Te=Ee/(de.i-se.i);de.c-=Te,de.s+=Ee,se.c+=Te,de.z+=Ee,de.m+=Ee}function ae(se,de,Ee){return se.a.parent===de.parent?se.a:Ee}function le(se,de){this._=se,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=de}function ce(){var se=X,de=1,Ee=1,Te=null;function Se(xe){var ke=function(it){for(var vt,_t,xt,et,nt,Mt=new le(it,0),zt=[Mt];vt=zt.pop();)if(xt=vt._.children)for(vt.children=new Array(nt=xt.length),et=nt-1;et>=0;--et)zt.push(_t=vt.children[et]=new le(xt[et],et)),_t.parent=vt;return(Mt.parent=new le(null,0)).children=[Mt],Mt}(xe);if(ke.eachAfter(Le),ke.parent.m=-ke.z,ke.eachBefore(Oe),Te)xe.eachBefore(he);else{var Re=xe,ze=xe,Ie=xe;xe.eachBefore(function(it){it.x<Re.x&&(Re=it),it.x>ze.x&&(ze=it),it.depth>Ie.depth&&(Ie=it)});var He=Re===ze?1:se(Re,ze)/2,qe=He-Re.x,Je=de/(ze.x+He+qe),st=Ee/(Ie.depth||1);xe.eachBefore(function(it){it.x=(it.x+qe)*Je,it.y=it.depth*st})}return xe}function Le(xe){var ke=xe.children,Re=xe.parent.children,ze=xe.i?Re[xe.i-1]:null;if(ke){(function(He){for(var qe,Je=0,st=0,it=He.children,vt=it.length;--vt>=0;)(qe=it[vt]).z+=Je,qe.m+=Je,Je+=qe.s+(st+=qe.c)})(xe);var Ie=(ke[0].z+ke[ke.length-1].z)/2;ze?(xe.z=ze.z+se(xe._,ze._),xe.m=xe.z-Ie):xe.z=Ie}else ze&&(xe.z=ze.z+se(xe._,ze._));xe.parent.A=function(He,qe,Je){if(qe){for(var st,it=He,vt=He,_t=qe,xt=it.parent.children[0],et=it.m,nt=vt.m,Mt=_t.m,zt=xt.m;_t=ne(_t),it=J(it),_t&&it;)xt=J(xt),(vt=ne(vt)).a=He,(st=_t.z+Mt-it.z-et+se(_t._,it._))>0&&(ie(ae(_t,He,Je),He,st),et+=st,nt+=st),Mt+=_t.m,et+=it.m,zt+=xt.m,nt+=vt.m;_t&&!ne(vt)&&(vt.t=_t,vt.m+=Mt-nt),it&&!J(xt)&&(xt.t=it,xt.m+=et-zt,Je=He)}return Je}(xe,ze,xe.parent.A||Re[0])}function Oe(xe){xe._.x=xe.z+xe.parent.m,xe.m+=xe.parent.m}function he(xe){xe.x*=de,xe.y=xe.depth*Ee}return Se.separation=function(xe){return arguments.length?(se=xe,Se):se},Se.size=function(xe){return arguments.length?(Te=!1,de=+xe[0],Ee=+xe[1],Se):Te?null:[de,Ee]},Se.nodeSize=function(xe){return arguments.length?(Te=!0,de=+xe[0],Ee=+xe[1],Se):Te?[de,Ee]:null},Se}function pe(se,de,Ee,Te,Se){for(var Le,Oe=se.children,he=-1,xe=Oe.length,ke=se.value&&(Se-Ee)/se.value;++he<xe;)(Le=Oe[he]).x0=de,Le.x1=Te,Le.y0=Ee,Le.y1=Ee+=Le.value*ke}le.prototype=Object.create(n.prototype);var ge=(1+Math.sqrt(5))/2;function me(se,de,Ee,Te,Se,Le){for(var Oe,he,xe,ke,Re,ze,Ie,He,qe,Je,st,it=[],vt=de.children,_t=0,xt=0,et=vt.length,nt=de.value;_t<et;){xe=Se-Ee,ke=Le-Te;do Re=vt[xt++].value;while(!Re&&xt<et);for(ze=Ie=Re,st=Re*Re*(Je=Math.max(ke/xe,xe/ke)/(nt*se)),qe=Math.max(Ie/st,st/ze);xt<et;++xt){if(Re+=he=vt[xt].value,he<ze&&(ze=he),he>Ie&&(Ie=he),st=Re*Re*Je,(He=Math.max(Ie/st,st/ze))>qe){Re-=he;break}qe=He}it.push(Oe={value:Re,dice:xe<ke,children:vt.slice(_t,xt)}),Oe.dice?Z(Oe,Ee,Te,Se,nt?Te+=ke*Re/nt:Le):pe(Oe,Ee,Te,nt?Ee+=xe*Re/nt:Se,Le),nt-=Re,_t=xt}return it}var ve=function se(de){function Ee(Te,Se,Le,Oe,he){me(de,Te,Se,Le,Oe,he)}return Ee.ratio=function(Te){return se((Te=+Te)>1?Te:1)},Ee}(ge);function Me(){var se=ve,de=!1,Ee=1,Te=1,Se=[0],Le=E,Oe=E,he=E,xe=E,ke=E;function Re(Ie){return Ie.x0=Ie.y0=0,Ie.x1=Ee,Ie.y1=Te,Ie.eachBefore(ze),Se=[0],de&&Ie.eachBefore(B),Ie}function ze(Ie){var He=Se[Ie.depth],qe=Ie.x0+He,Je=Ie.y0+He,st=Ie.x1-He,it=Ie.y1-He;st<qe&&(qe=st=(qe+st)/2),it<Je&&(Je=it=(Je+it)/2),Ie.x0=qe,Ie.y0=Je,Ie.x1=st,Ie.y1=it,Ie.children&&(He=Se[Ie.depth+1]=Le(Ie)/2,qe+=ke(Ie)-He,Je+=Oe(Ie)-He,(st-=he(Ie)-He)<qe&&(qe=st=(qe+st)/2),(it-=xe(Ie)-He)<Je&&(Je=it=(Je+it)/2),se(Ie,qe,Je,st,it))}return Re.round=function(Ie){return arguments.length?(de=!!Ie,Re):de},Re.size=function(Ie){return arguments.length?(Ee=+Ie[0],Te=+Ie[1],Re):[Ee,Te]},Re.tile=function(Ie){return arguments.length?(se=T(Ie),Re):se},Re.padding=function(Ie){return arguments.length?Re.paddingInner(Ie).paddingOuter(Ie):Re.paddingInner()},Re.paddingInner=function(Ie){return arguments.length?(Le=typeof Ie=="function"?Ie:C(+Ie),Re):Le},Re.paddingOuter=function(Ie){return arguments.length?Re.paddingTop(Ie).paddingRight(Ie).paddingBottom(Ie).paddingLeft(Ie):Re.paddingTop()},Re.paddingTop=function(Ie){return arguments.length?(Oe=typeof Ie=="function"?Ie:C(+Ie),Re):Oe},Re.paddingRight=function(Ie){return arguments.length?(he=typeof Ie=="function"?Ie:C(+Ie),Re):he},Re.paddingBottom=function(Ie){return arguments.length?(xe=typeof Ie=="function"?Ie:C(+Ie),Re):xe},Re.paddingLeft=function(Ie){return arguments.length?(ke=typeof Ie=="function"?Ie:C(+Ie),Re):ke},Re}function _e(se,de,Ee,Te,Se){var Le,Oe,he=se.children,xe=he.length,ke=new Array(xe+1);for(ke[0]=Oe=Le=0;Le<xe;++Le)ke[Le+1]=Oe+=he[Le].value;(function Re(ze,Ie,He,qe,Je,st,it){if(ze>=Ie-1){var vt=he[ze];return vt.x0=qe,vt.y0=Je,vt.x1=st,void(vt.y1=it)}for(var _t=ke[ze],xt=He/2+_t,et=ze+1,nt=Ie-1;et<nt;){var Mt=et+nt>>>1;ke[Mt]<xt?et=Mt+1:nt=Mt}xt-ke[et-1]<ke[et]-xt&&ze+1<et&&--et;var zt=ke[et]-_t,Ft=He-zt;if(st-qe>it-Je){var Rt=(qe*Ft+st*zt)/He;Re(ze,et,zt,qe,Je,Rt,it),Re(et,Ie,Ft,Rt,Je,st,it)}else{var We=(Je*Ft+it*zt)/He;Re(ze,et,zt,qe,Je,st,We),Re(et,Ie,Ft,qe,We,st,it)}})(0,xe,se.value,de,Ee,Te,Se)}function we(se,de,Ee,Te,Se){(1&se.depth?pe:Z)(se,de,Ee,Te,Se)}var oe=function se(de){function Ee(Te,Se,Le,Oe,he){if((xe=Te._squarify)&&xe.ratio===de)for(var xe,ke,Re,ze,Ie,He=-1,qe=xe.length,Je=Te.value;++He<qe;){for(Re=(ke=xe[He]).children,ze=ke.value=0,Ie=Re.length;ze<Ie;++ze)ke.value+=Re[ze].value;ke.dice?Z(ke,Se,Le,Oe,Le+=(he-Le)*ke.value/Je):pe(ke,Se,Le,Se+=(Oe-Se)*ke.value/Je,he),Je-=ke.value}else Te._squarify=xe=me(de,Te,Se,Le,Oe,he),xe.ratio=de}return Ee.ratio=function(Te){return se((Te=+Te)>1?Te:1)},Ee}(ge)},10132:function(Y,P,e){e.d(P,{ak:function(){return d}});var A=Math.PI,k=2*A,a=1e-6,w=k-a;function b(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function h(){return new b}b.prototype=h.prototype={constructor:b,moveTo:function(c,x){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+x)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(c,x){this._+="L"+(this._x1=+c)+","+(this._y1=+x)},quadraticCurveTo:function(c,x,g,p){this._+="Q"+ +c+","+ +x+","+(this._x1=+g)+","+(this._y1=+p)},bezierCurveTo:function(c,x,g,p,v,y){this._+="C"+ +c+","+ +x+","+ +g+","+ +p+","+(this._x1=+v)+","+(this._y1=+y)},arcTo:function(c,x,g,p,v){c=+c,x=+x,g=+g,p=+p,v=+v;var y=this._x1,m=this._y1,_=g-c,f=p-x,S=y-c,T=m-x,E=S*S+T*T;if(v<0)throw new Error("negative radius: "+v);if(this._x1===null)this._+="M"+(this._x1=c)+","+(this._y1=x);else if(E>a)if(Math.abs(T*_-f*S)>a&&v){var C=g-y,O=p-m,I=_*_+f*f,z=C*C+O*O,U=Math.sqrt(I),D=Math.sqrt(E),B=v*Math.tan((A-Math.acos((I+E-z)/(2*U*D)))/2),Z=B/D,F=B/U;Math.abs(Z-1)>a&&(this._+="L"+(c+Z*S)+","+(x+Z*T)),this._+="A"+v+","+v+",0,0,"+ +(T*C>S*O)+","+(this._x1=c+F*_)+","+(this._y1=x+F*f)}else this._+="L"+(this._x1=c)+","+(this._y1=x)},arc:function(c,x,g,p,v,y){c=+c,x=+x,y=!!y;var m=(g=+g)*Math.cos(p),_=g*Math.sin(p),f=c+m,S=x+_,T=1^y,E=y?p-v:v-p;if(g<0)throw new Error("negative radius: "+g);this._x1===null?this._+="M"+f+","+S:(Math.abs(this._x1-f)>a||Math.abs(this._y1-S)>a)&&(this._+="L"+f+","+S),g&&(E<0&&(E=E%k+k),E>w?this._+="A"+g+","+g+",0,1,"+T+","+(c-m)+","+(x-_)+"A"+g+","+g+",0,1,"+T+","+(this._x1=f)+","+(this._y1=S):E>a&&(this._+="A"+g+","+g+",0,"+ +(E>=A)+","+T+","+(this._x1=c+g*Math.cos(v))+","+(this._y1=x+g*Math.sin(v))))},rect:function(c,x,g,p){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+x)+"h"+ +g+"v"+ +p+"h"+-g+"Z"},toString:function(){return this._}};var o=h,t=Array.prototype.slice;function i(c){return function(){return c}}function n(c){return c[0]}function r(c){return c[1]}function s(c){return c.source}function l(c){return c.target}function u(c,x,g,p,v){c.moveTo(x,g),c.bezierCurveTo(x=(x+p)/2,g,x,v,p,v)}function d(){return function(c){var x=s,g=l,p=n,v=r,y=null;function m(){var _,f=t.call(arguments),S=x.apply(this,f),T=g.apply(this,f);if(y||(y=_=o()),c(y,+p.apply(this,(f[0]=S,f)),+v.apply(this,f),+p.apply(this,(f[0]=T,f)),+v.apply(this,f)),_)return y=null,_+""||null}return m.source=function(_){return arguments.length?(x=_,m):x},m.target=function(_){return arguments.length?(g=_,m):g},m.x=function(_){return arguments.length?(p=typeof _=="function"?_:i(+_),m):p},m.y=function(_){return arguments.length?(v=typeof _=="function"?_:i(+_),m):v},m.context=function(_){return arguments.length?(y=_==null?null:_,m):y},m}(u)}},94336:function(Y,P,e){e.d(P,{Yn:function(){return s},m_:function(){return n},E9:function(){return l}});var A=e(8208),k=e(58931),a=e(46192),w=e(68936),b=e(32171),h=e(53528);function o(et){if(0<=et.y&&et.y<100){var nt=new Date(-1,et.m,et.d,et.H,et.M,et.S,et.L);return nt.setFullYear(et.y),nt}return new Date(et.y,et.m,et.d,et.H,et.M,et.S,et.L)}function t(et){if(0<=et.y&&et.y<100){var nt=new Date(Date.UTC(-1,et.m,et.d,et.H,et.M,et.S,et.L));return nt.setUTCFullYear(et.y),nt}return new Date(Date.UTC(et.y,et.m,et.d,et.H,et.M,et.S,et.L))}function i(et,nt,Mt){return{y:et,m:nt,d:Mt,H:0,M:0,S:0,L:0}}function n(et){var nt=et.dateTime,Mt=et.date,zt=et.time,Ft=et.periods,Rt=et.days,We=et.shortDays,Ze=et.months,Ne=et.shortMonths,Ye=v(Ft),lt=y(Ft),at=v(Rt),Fe=y(Rt),Be=v(We),ot=y(We),Xe=v(Ze),pt=y(Ze),mt=v(Ne),yt=y(Ne),ht={a:function(Bt){return We[Bt.getDay()]},A:function(Bt){return Rt[Bt.getDay()]},b:function(Bt){return Ne[Bt.getMonth()]},B:function(Bt){return Ze[Bt.getMonth()]},c:null,d:G,e:G,f:ae,H:X,I:J,j:ne,L:ie,m:le,M:ce,p:function(Bt){return Ft[+(Bt.getHours()>=12)]},q:function(Bt){return 1+~~(Bt.getMonth()/3)},Q:_t,s:xt,S:pe,u:ge,U:me,V:ve,w:Me,W:_e,x:null,X:null,y:we,Y:oe,Z:se,"%":vt},Lt={a:function(Bt){return We[Bt.getUTCDay()]},A:function(Bt){return Rt[Bt.getUTCDay()]},b:function(Bt){return Ne[Bt.getUTCMonth()]},B:function(Bt){return Ze[Bt.getUTCMonth()]},c:null,d:de,e:de,f:Oe,H:Ee,I:Te,j:Se,L:Le,m:he,M:xe,p:function(Bt){return Ft[+(Bt.getUTCHours()>=12)]},q:function(Bt){return 1+~~(Bt.getUTCMonth()/3)},Q:_t,s:xt,S:ke,u:Re,U:ze,V:Ie,w:He,W:qe,x:null,X:null,y:Je,Y:st,Z:it,"%":vt},Tt={a:function(Bt,Kt,on){var qt=Be.exec(Kt.slice(on));return qt?(Bt.w=ot[qt[0].toLowerCase()],on+qt[0].length):-1},A:function(Bt,Kt,on){var qt=at.exec(Kt.slice(on));return qt?(Bt.w=Fe[qt[0].toLowerCase()],on+qt[0].length):-1},b:function(Bt,Kt,on){var qt=mt.exec(Kt.slice(on));return qt?(Bt.m=yt[qt[0].toLowerCase()],on+qt[0].length):-1},B:function(Bt,Kt,on){var qt=Xe.exec(Kt.slice(on));return qt?(Bt.m=pt[qt[0].toLowerCase()],on+qt[0].length):-1},c:function(Bt,Kt,on){return Ot(Bt,nt,Kt,on)},d:U,e:U,f:V,H:B,I:B,j:D,L:j,m:z,M:Z,p:function(Bt,Kt,on){var qt=Ye.exec(Kt.slice(on));return qt?(Bt.p=lt[qt[0].toLowerCase()],on+qt[0].length):-1},q:I,Q,s:$,S:F,u:_,U:f,V:S,w:m,W:T,x:function(Bt,Kt,on){return Ot(Bt,Mt,Kt,on)},X:function(Bt,Kt,on){return Ot(Bt,zt,Kt,on)},y:C,Y:E,Z:O,"%":te};function bt(Bt,Kt){return function(on){var qt,Wt,nn,En=[],Mn=-1,dn=0,Jt=Bt.length;for(on instanceof Date||(on=new Date(+on));++Mn<Jt;)Bt.charCodeAt(Mn)===37&&(En.push(Bt.slice(dn,Mn)),(Wt=u[qt=Bt.charAt(++Mn)])!=null?qt=Bt.charAt(++Mn):Wt=qt==="e"?" ":"0",(nn=Kt[qt])&&(qt=nn(on,Wt)),En.push(qt),dn=Mn+1);return En.push(Bt.slice(dn,Mn)),En.join("")}}function Pt(Bt,Kt){return function(on){var qt,Wt,nn=i(1900,void 0,1);if(Ot(nn,Bt,on+="",0)!=on.length)return null;if("Q"in nn)return new Date(nn.Q);if("s"in nn)return new Date(1e3*nn.s+("L"in nn?nn.L:0));if(Kt&&!("Z"in nn)&&(nn.Z=0),"p"in nn&&(nn.H=nn.H%12+12*nn.p),nn.m===void 0&&(nn.m="q"in nn?nn.q:0),"V"in nn){if(nn.V<1||nn.V>53)return null;"w"in nn||(nn.w=1),"Z"in nn?(Wt=(qt=t(i(nn.y,0,1))).getUTCDay(),qt=Wt>4||Wt===0?A.ot.ceil(qt):(0,A.ot)(qt),qt=k.c.offset(qt,7*(nn.V-1)),nn.y=qt.getUTCFullYear(),nn.m=qt.getUTCMonth(),nn.d=qt.getUTCDate()+(nn.w+6)%7):(Wt=(qt=o(i(nn.y,0,1))).getDay(),qt=Wt>4||Wt===0?a.qT.ceil(qt):(0,a.qT)(qt),qt=w.c.offset(qt,7*(nn.V-1)),nn.y=qt.getFullYear(),nn.m=qt.getMonth(),nn.d=qt.getDate()+(nn.w+6)%7)}else("W"in nn||"U"in nn)&&("w"in nn||(nn.w="u"in nn?nn.u%7:"W"in nn?1:0),Wt="Z"in nn?t(i(nn.y,0,1)).getUTCDay():o(i(nn.y,0,1)).getDay(),nn.m=0,nn.d="W"in nn?(nn.w+6)%7+7*nn.W-(Wt+5)%7:nn.w+7*nn.U-(Wt+6)%7);return"Z"in nn?(nn.H+=nn.Z/100|0,nn.M+=nn.Z%100,t(nn)):o(nn)}}function Ot(Bt,Kt,on,qt){for(var Wt,nn,En=0,Mn=Kt.length,dn=on.length;En<Mn;){if(qt>=dn)return-1;if((Wt=Kt.charCodeAt(En++))===37){if(Wt=Kt.charAt(En++),!(nn=Tt[Wt in u?Kt.charAt(En++):Wt])||(qt=nn(Bt,on,qt))<0)return-1}else if(Wt!=on.charCodeAt(qt++))return-1}return qt}return ht.x=bt(Mt,ht),ht.X=bt(zt,ht),ht.c=bt(nt,ht),Lt.x=bt(Mt,Lt),Lt.X=bt(zt,Lt),Lt.c=bt(nt,Lt),{format:function(Bt){var Kt=bt(Bt+="",ht);return Kt.toString=function(){return Bt},Kt},parse:function(Bt){var Kt=Pt(Bt+="",!1);return Kt.toString=function(){return Bt},Kt},utcFormat:function(Bt){var Kt=bt(Bt+="",Lt);return Kt.toString=function(){return Bt},Kt},utcParse:function(Bt){var Kt=Pt(Bt+="",!0);return Kt.toString=function(){return Bt},Kt}}}var r,s,l,u={"-":"",_:" ",0:"0"},d=/^\s*\d+/,c=/^%/,x=/[\\^$*+?|[\]().{}]/g;function g(et,nt,Mt){var zt=et<0?"-":"",Ft=(zt?-et:et)+"",Rt=Ft.length;return zt+(Rt<Mt?new Array(Mt-Rt+1).join(nt)+Ft:Ft)}function p(et){return et.replace(x,"\\$&")}function v(et){return new RegExp("^(?:"+et.map(p).join("|")+")","i")}function y(et){for(var nt={},Mt=-1,zt=et.length;++Mt<zt;)nt[et[Mt].toLowerCase()]=Mt;return nt}function m(et,nt,Mt){var zt=d.exec(nt.slice(Mt,Mt+1));return zt?(et.w=+zt[0],Mt+zt[0].length):-1}function _(et,nt,Mt){var zt=d.exec(nt.slice(Mt,Mt+1));return zt?(et.u=+zt[0],Mt+zt[0].length):-1}function f(et,nt,Mt){var zt=d.exec(nt.slice(Mt,Mt+2));return zt?(et.U=+zt[0],Mt+zt[0].length):-1}function S(et,nt,Mt){var zt=d.exec(nt.slice(Mt,Mt+2));return zt?(et.V=+zt[0],Mt+zt[0].length):-1}function T(et,nt,Mt){var zt=d.exec(nt.slice(Mt,Mt+2));return zt?(et.W=+zt[0],Mt+zt[0].length):-1}function E(et,nt,Mt){var zt=d.exec(nt.slice(Mt,Mt+4));return zt?(et.y=+zt[0],Mt+zt[0].length):-1}function C(et,nt,Mt){var zt=d.exec(nt.slice(Mt,Mt+2));return zt?(et.y=+zt[0]+(+zt[0]>68?1900:2e3),Mt+zt[0].length):-1}function O(et,nt,Mt){var zt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(nt.slice(Mt,Mt+6));return zt?(et.Z=zt[1]?0:-(zt[2]+(zt[3]||"00")),Mt+zt[0].length):-1}function I(et,nt,Mt){var zt=d.exec(nt.slice(Mt,Mt+1));return zt?(et.q=3*zt[0]-3,Mt+zt[0].length):-1}function z(et,nt,Mt){var zt=d.exec(nt.slice(Mt,Mt+2));return zt?(et.m=zt[0]-1,Mt+zt[0].length):-1}function U(et,nt,Mt){var zt=d.exec(nt.slice(Mt,Mt+2));return zt?(et.d=+zt[0],Mt+zt[0].length):-1}function D(et,nt,Mt){var zt=d.exec(nt.slice(Mt,Mt+3));return zt?(et.m=0,et.d=+zt[0],Mt+zt[0].length):-1}function B(et,nt,Mt){var zt=d.exec(nt.slice(Mt,Mt+2));return zt?(et.H=+zt[0],Mt+zt[0].length):-1}function Z(et,nt,Mt){var zt=d.exec(nt.slice(Mt,Mt+2));return zt?(et.M=+zt[0],Mt+zt[0].length):-1}function F(et,nt,Mt){var zt=d.exec(nt.slice(Mt,Mt+2));return zt?(et.S=+zt[0],Mt+zt[0].length):-1}function j(et,nt,Mt){var zt=d.exec(nt.slice(Mt,Mt+3));return zt?(et.L=+zt[0],Mt+zt[0].length):-1}function V(et,nt,Mt){var zt=d.exec(nt.slice(Mt,Mt+6));return zt?(et.L=Math.floor(zt[0]/1e3),Mt+zt[0].length):-1}function te(et,nt,Mt){var zt=c.exec(nt.slice(Mt,Mt+1));return zt?Mt+zt[0].length:-1}function Q(et,nt,Mt){var zt=d.exec(nt.slice(Mt));return zt?(et.Q=+zt[0],Mt+zt[0].length):-1}function $(et,nt,Mt){var zt=d.exec(nt.slice(Mt));return zt?(et.s=+zt[0],Mt+zt[0].length):-1}function G(et,nt){return g(et.getDate(),nt,2)}function X(et,nt){return g(et.getHours(),nt,2)}function J(et,nt){return g(et.getHours()%12||12,nt,2)}function ne(et,nt){return g(1+w.c.count((0,b.c)(et),et),nt,3)}function ie(et,nt){return g(et.getMilliseconds(),nt,3)}function ae(et,nt){return ie(et,nt)+"000"}function le(et,nt){return g(et.getMonth()+1,nt,2)}function ce(et,nt){return g(et.getMinutes(),nt,2)}function pe(et,nt){return g(et.getSeconds(),nt,2)}function ge(et){var nt=et.getDay();return nt===0?7:nt}function me(et,nt){return g(a.uU.count((0,b.c)(et)-1,et),nt,2)}function ve(et,nt){var Mt=et.getDay();return et=Mt>=4||Mt===0?(0,a.kD)(et):a.kD.ceil(et),g(a.kD.count((0,b.c)(et),et)+((0,b.c)(et).getDay()===4),nt,2)}function Me(et){return et.getDay()}function _e(et,nt){return g(a.qT.count((0,b.c)(et)-1,et),nt,2)}function we(et,nt){return g(et.getFullYear()%100,nt,2)}function oe(et,nt){return g(et.getFullYear()%1e4,nt,4)}function se(et){var nt=et.getTimezoneOffset();return(nt>0?"-":(nt*=-1,"+"))+g(nt/60|0,"0",2)+g(nt%60,"0",2)}function de(et,nt){return g(et.getUTCDate(),nt,2)}function Ee(et,nt){return g(et.getUTCHours(),nt,2)}function Te(et,nt){return g(et.getUTCHours()%12||12,nt,2)}function Se(et,nt){return g(1+k.c.count((0,h.c)(et),et),nt,3)}function Le(et,nt){return g(et.getUTCMilliseconds(),nt,3)}function Oe(et,nt){return Le(et,nt)+"000"}function he(et,nt){return g(et.getUTCMonth()+1,nt,2)}function xe(et,nt){return g(et.getUTCMinutes(),nt,2)}function ke(et,nt){return g(et.getUTCSeconds(),nt,2)}function Re(et){var nt=et.getUTCDay();return nt===0?7:nt}function ze(et,nt){return g(A.EV.count((0,h.c)(et)-1,et),nt,2)}function Ie(et,nt){var Mt=et.getUTCDay();return et=Mt>=4||Mt===0?(0,A.yA)(et):A.yA.ceil(et),g(A.yA.count((0,h.c)(et),et)+((0,h.c)(et).getUTCDay()===4),nt,2)}function He(et){return et.getUTCDay()}function qe(et,nt){return g(A.ot.count((0,h.c)(et)-1,et),nt,2)}function Je(et,nt){return g(et.getUTCFullYear()%100,nt,2)}function st(et,nt){return g(et.getUTCFullYear()%1e4,nt,4)}function it(){return"+0000"}function vt(){return"%"}function _t(et){return+et}function xt(et){return Math.floor(+et/1e3)}r=n({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),s=r.format,r.parse,l=r.utcFormat,r.utcParse},68936:function(Y,P,e){e.d(P,{m:function(){return w}});var A=e(81628),k=e(69792),a=(0,A.c)(function(b){b.setHours(0,0,0,0)},function(b,h){b.setDate(b.getDate()+h)},function(b,h){return(h-b-(h.getTimezoneOffset()-b.getTimezoneOffset())*k.iy)/k.SK},function(b){return b.getDate()-1});P.c=a;var w=a.range},69792:function(Y,P,e){e.d(P,{KK:function(){return b},SK:function(){return w},cg:function(){return a},iy:function(){return k},yc:function(){return A}});var A=1e3,k=6e4,a=36e5,w=864e5,b=6048e5},73220:function(Y,P,e){e.r(P),e.d(P,{timeDay:function(){return d.c},timeDays:function(){return d.m},timeFriday:function(){return c.iB},timeFridays:function(){return c.sJ},timeHour:function(){return l},timeHours:function(){return u},timeInterval:function(){return A.c},timeMillisecond:function(){return a},timeMilliseconds:function(){return w},timeMinute:function(){return n},timeMinutes:function(){return r},timeMonday:function(){return c.qT},timeMondays:function(){return c.QP},timeMonth:function(){return g},timeMonths:function(){return p},timeSaturday:function(){return c.Wc},timeSaturdays:function(){return c.aI},timeSecond:function(){return o},timeSeconds:function(){return t},timeSunday:function(){return c.uU},timeSundays:function(){return c.Ab},timeThursday:function(){return c.kD},timeThursdays:function(){return c.eC},timeTuesday:function(){return c.Mf},timeTuesdays:function(){return c.Oc},timeWednesday:function(){return c.eg},timeWednesdays:function(){return c.sn},timeWeek:function(){return c.uU},timeWeeks:function(){return c.Ab},timeYear:function(){return v.c},timeYears:function(){return v.Q},utcDay:function(){return E.c},utcDays:function(){return E.o},utcFriday:function(){return C.od},utcFridays:function(){return C.iG},utcHour:function(){return S},utcHours:function(){return T},utcMillisecond:function(){return a},utcMilliseconds:function(){return w},utcMinute:function(){return m},utcMinutes:function(){return _},utcMonday:function(){return C.ot},utcMondays:function(){return C.iO},utcMonth:function(){return I},utcMonths:function(){return z},utcSaturday:function(){return C.Ad},utcSaturdays:function(){return C.K8},utcSecond:function(){return o},utcSeconds:function(){return t},utcSunday:function(){return C.EV},utcSundays:function(){return C.Wq},utcThursday:function(){return C.yA},utcThursdays:function(){return C.ob},utcTuesday:function(){return C.sG},utcTuesdays:function(){return C.kl},utcWednesday:function(){return C._6},utcWednesdays:function(){return C.W_},utcWeek:function(){return C.EV},utcWeeks:function(){return C.Wq},utcYear:function(){return U.c},utcYears:function(){return U.i}});var A=e(81628),k=(0,A.c)(function(){},function(D,B){D.setTime(+D+B)},function(D,B){return B-D});k.every=function(D){return D=Math.floor(D),isFinite(D)&&D>0?D>1?(0,A.c)(function(B){B.setTime(Math.floor(B/D)*D)},function(B,Z){B.setTime(+B+Z*D)},function(B,Z){return(Z-B)/D}):k:null};var a=k,w=k.range,b=e(69792),h=(0,A.c)(function(D){D.setTime(D-D.getMilliseconds())},function(D,B){D.setTime(+D+B*b.yc)},function(D,B){return(B-D)/b.yc},function(D){return D.getUTCSeconds()}),o=h,t=h.range,i=(0,A.c)(function(D){D.setTime(D-D.getMilliseconds()-D.getSeconds()*b.yc)},function(D,B){D.setTime(+D+B*b.iy)},function(D,B){return(B-D)/b.iy},function(D){return D.getMinutes()}),n=i,r=i.range,s=(0,A.c)(function(D){D.setTime(D-D.getMilliseconds()-D.getSeconds()*b.yc-D.getMinutes()*b.iy)},function(D,B){D.setTime(+D+B*b.cg)},function(D,B){return(B-D)/b.cg},function(D){return D.getHours()}),l=s,u=s.range,d=e(68936),c=e(46192),x=(0,A.c)(function(D){D.setDate(1),D.setHours(0,0,0,0)},function(D,B){D.setMonth(D.getMonth()+B)},function(D,B){return B.getMonth()-D.getMonth()+12*(B.getFullYear()-D.getFullYear())},function(D){return D.getMonth()}),g=x,p=x.range,v=e(32171),y=(0,A.c)(function(D){D.setUTCSeconds(0,0)},function(D,B){D.setTime(+D+B*b.iy)},function(D,B){return(B-D)/b.iy},function(D){return D.getUTCMinutes()}),m=y,_=y.range,f=(0,A.c)(function(D){D.setUTCMinutes(0,0,0)},function(D,B){D.setTime(+D+B*b.cg)},function(D,B){return(B-D)/b.cg},function(D){return D.getUTCHours()}),S=f,T=f.range,E=e(58931),C=e(8208),O=(0,A.c)(function(D){D.setUTCDate(1),D.setUTCHours(0,0,0,0)},function(D,B){D.setUTCMonth(D.getUTCMonth()+B)},function(D,B){return B.getUTCMonth()-D.getUTCMonth()+12*(B.getUTCFullYear()-D.getUTCFullYear())},function(D){return D.getUTCMonth()}),I=O,z=O.range,U=e(53528)},81628:function(Y,P,e){e.d(P,{c:function(){return a}});var A=new Date,k=new Date;function a(w,b,h,o){function t(i){return w(i=arguments.length===0?new Date:new Date(+i)),i}return t.floor=function(i){return w(i=new Date(+i)),i},t.ceil=function(i){return w(i=new Date(i-1)),b(i,1),w(i),i},t.round=function(i){var n=t(i),r=t.ceil(i);return i-n<r-i?n:r},t.offset=function(i,n){return b(i=new Date(+i),n==null?1:Math.floor(n)),i},t.range=function(i,n,r){var s,l=[];if(i=t.ceil(i),r=r==null?1:Math.floor(r),!(i<n&&r>0))return l;do l.push(s=new Date(+i)),b(i,r),w(i);while(s<i&&i<n);return l},t.filter=function(i){return a(function(n){if(n>=n)for(;w(n),!i(n);)n.setTime(n-1)},function(n,r){if(n>=n)if(r<0)for(;++r<=0;)for(;b(n,-1),!i(n););else for(;--r>=0;)for(;b(n,1),!i(n););})},h&&(t.count=function(i,n){return A.setTime(+i),k.setTime(+n),w(A),w(k),Math.floor(h(A,k))},t.every=function(i){return i=Math.floor(i),isFinite(i)&&i>0?i>1?t.filter(o?function(n){return o(n)%i==0}:function(n){return t.count(0,n)%i==0}):t:null}),t}},58931:function(Y,P,e){e.d(P,{o:function(){return w}});var A=e(81628),k=e(69792),a=(0,A.c)(function(b){b.setUTCHours(0,0,0,0)},function(b,h){b.setUTCDate(b.getUTCDate()+h)},function(b,h){return(h-b)/k.SK},function(b){return b.getUTCDate()-1});P.c=a;var w=a.range},8208:function(Y,P,e){e.d(P,{Ad:function(){return n},EV:function(){return w},K8:function(){return x},W_:function(){return u},Wq:function(){return r},_6:function(){return o},iG:function(){return c},iO:function(){return s},kl:function(){return l},ob:function(){return d},od:function(){return i},ot:function(){return b},sG:function(){return h},yA:function(){return t}});var A=e(81628),k=e(69792);function a(g){return(0,A.c)(function(p){p.setUTCDate(p.getUTCDate()-(p.getUTCDay()+7-g)%7),p.setUTCHours(0,0,0,0)},function(p,v){p.setUTCDate(p.getUTCDate()+7*v)},function(p,v){return(v-p)/k.KK})}var w=a(0),b=a(1),h=a(2),o=a(3),t=a(4),i=a(5),n=a(6),r=w.range,s=b.range,l=h.range,u=o.range,d=t.range,c=i.range,x=n.range},53528:function(Y,P,e){e.d(P,{i:function(){return a}});var A=e(81628),k=(0,A.c)(function(w){w.setUTCMonth(0,1),w.setUTCHours(0,0,0,0)},function(w,b){w.setUTCFullYear(w.getUTCFullYear()+b)},function(w,b){return b.getUTCFullYear()-w.getUTCFullYear()},function(w){return w.getUTCFullYear()});k.every=function(w){return isFinite(w=Math.floor(w))&&w>0?(0,A.c)(function(b){b.setUTCFullYear(Math.floor(b.getUTCFullYear()/w)*w),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},function(b,h){b.setUTCFullYear(b.getUTCFullYear()+h*w)}):null},P.c=k;var a=k.range},46192:function(Y,P,e){e.d(P,{Ab:function(){return r},Mf:function(){return h},Oc:function(){return l},QP:function(){return s},Wc:function(){return n},aI:function(){return x},eC:function(){return d},eg:function(){return o},iB:function(){return i},kD:function(){return t},qT:function(){return b},sJ:function(){return c},sn:function(){return u},uU:function(){return w}});var A=e(81628),k=e(69792);function a(g){return(0,A.c)(function(p){p.setDate(p.getDate()-(p.getDay()+7-g)%7),p.setHours(0,0,0,0)},function(p,v){p.setDate(p.getDate()+7*v)},function(p,v){return(v-p-(v.getTimezoneOffset()-p.getTimezoneOffset())*k.iy)/k.KK})}var w=a(0),b=a(1),h=a(2),o=a(3),t=a(4),i=a(5),n=a(6),r=w.range,s=b.range,l=h.range,u=o.range,d=t.range,c=i.range,x=n.range},32171:function(Y,P,e){e.d(P,{Q:function(){return a}});var A=e(81628),k=(0,A.c)(function(w){w.setMonth(0,1),w.setHours(0,0,0,0)},function(w,b){w.setFullYear(w.getFullYear()+b)},function(w,b){return b.getFullYear()-w.getFullYear()},function(w){return w.getFullYear()});k.every=function(w){return isFinite(w=Math.floor(w))&&w>0?(0,A.c)(function(b){b.setFullYear(Math.floor(b.getFullYear()/w)*w),b.setMonth(0,1),b.setHours(0,0,0,0)},function(b,h){b.setFullYear(b.getFullYear()+h*w)}):null},P.c=k;var a=k.range},64348:function(Y,P,e){var A=e(39640)(),k=e(53664),a=A&&k("%Object.defineProperty%",!0);if(a)try{a({},"a",{value:1})}catch{a=!1}var w=k("%SyntaxError%"),b=k("%TypeError%"),h=e(2304);Y.exports=function(o,t,i){if(!o||typeof o!="object"&&typeof o!="function")throw new b("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new b("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new b("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new b("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new b("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new b("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,r=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],u=!!h&&h(o,t);if(a)a(o,t,{configurable:s===null&&u?u.configurable:!s,enumerable:n===null&&u?u.enumerable:!n,value:i,writable:r===null&&u?u.writable:!r});else{if(!l&&(n||r||s))throw new w("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");o[t]=i}}},81288:function(Y,P,e){var A=e(41820),k=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,w=Array.prototype.concat,b=Object.defineProperty,h=e(39640)(),o=b&&h,t=function(n,r,s,l){if(r in n){if(l===!0){if(n[r]===s)return}else if(typeof(u=l)!="function"||a.call(u)!=="[object Function]"||!l())return}var u;o?b(n,r,{configurable:!0,enumerable:!1,value:s,writable:!0}):n[r]=s},i=function(n,r){var s=arguments.length>2?arguments[2]:{},l=A(r);k&&(l=w.call(l,Object.getOwnPropertySymbols(r)));for(var u=0;u<l.length;u+=1)t(n,l[u],r[l[u]],s[l[u]])};i.supportsDescriptors=!!o,Y.exports=i},31264:function(Y){Y.exports=function(){for(var P=0;P<arguments.length;P++)if(arguments[P]!==void 0)return arguments[P]}},63768:function(Y){Y.exports=A;var P=(A.canvas=document.createElement("canvas")).getContext("2d"),e=k([32,126]);function A(a,w){Array.isArray(a)&&(a=a.join(", "));var b,h={},o=16,t=.05;w&&(w.length===2&&typeof w[0]=="number"?b=k(w):Array.isArray(w)?b=w:(w.o?b=k(w.o):w.pairs&&(b=w.pairs),w.fontSize&&(o=w.fontSize),w.threshold!=null&&(t=w.threshold))),b||(b=e),P.font=o+"px "+a;for(var i=0;i<b.length;i++){var n=b[i],r=P.measureText(n[0]).width+P.measureText(n[1]).width,s=P.measureText(n).width;if(Math.abs(r-s)>o*t){var l=(s-r)/o;h[n]=1e3*l}}return h}function k(a){for(var w=[],b=a[0];b<=a[1];b++)for(var h=String.fromCharCode(b),o=a[0];o<a[1];o++){var t=h+String.fromCharCode(o);w.push(t)}return w}A.createPairs=k,A.ascii=e},22235:function(Y,P,e){var A=e(49972),k=e(48816),a={M:"moveTo",C:"bezierCurveTo"};Y.exports=function(w,b){w.beginPath(),k(A(b)).forEach(function(h){var o=h[0],t=h.slice(1);w[a[o]].apply(w,t)}),w.closePath()}},72512:function(Y){Y.exports=function(P){switch(P){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},10352:function(Y){function P(e,A,k){var a=0|e[k];if(a<=0)return[];var w,b=new Array(a);if(k===e.length-1)for(w=0;w<a;++w)b[w]=A;else for(w=0;w<a;++w)b[w]=P(e,A,k+1);return b}Y.exports=function(e,A){switch(A===void 0&&(A=0),typeof e){case"number":if(e>0)return function(k,a){var w,b;for(w=new Array(k),b=0;b<k;++b)w[b]=a;return w}(0|e,A);break;case"object":if(typeof e.length=="number")return P(e,A,0)}return[]}},28912:function(Y){function P(S,T,E){E=E||2;var C,O,I,z,U,D,B,Z=T&&T.length,F=Z?T[0]*E:S.length,j=e(S,0,F,E,!0),V=[];if(!j||j.next===j.prev)return V;if(Z&&(j=function(Q,$,G,X){var J,ne,ie,ae=[];for(J=0,ne=$.length;J<ne;J++)(ie=e(Q,$[J]*X,J<ne-1?$[J+1]*X:Q.length,X,!1))===ie.next&&(ie.steiner=!0),ae.push(r(ie));for(ae.sort(o),J=0;J<ae.length;J++)t(ae[J],G),G=A(G,G.next);return G}(S,T,j,E)),S.length>80*E){C=I=S[0],O=z=S[1];for(var te=E;te<F;te+=E)(U=S[te])<C&&(C=U),(D=S[te+1])<O&&(O=D),U>I&&(I=U),D>z&&(z=D);B=(B=Math.max(I-C,z-O))!==0?1/B:0}return k(j,V,E,C,O,B),V}function e(S,T,E,C,O){var I,z;if(O===f(S,T,E,C)>0)for(I=T;I<E;I+=C)z=y(I,S[I],S[I+1],z);else for(I=E-C;I>=T;I-=C)z=y(I,S[I],S[I+1],z);return z&&d(z,z.next)&&(m(z),z=z.next),z}function A(S,T){if(!S)return S;T||(T=S);var E,C=S;do if(E=!1,C.steiner||!d(C,C.next)&&u(C.prev,C,C.next)!==0)C=C.next;else{if(m(C),(C=T=C.prev)===C.next)break;E=!0}while(E||C!==T);return T}function k(S,T,E,C,O,I,z){if(S){!z&&I&&function(Z,F,j,V){var te=Z;do te.z===null&&(te.z=n(te.x,te.y,F,j,V)),te.prevZ=te.prev,te.nextZ=te.next,te=te.next;while(te!==Z);te.prevZ.nextZ=null,te.prevZ=null,function(Q){var $,G,X,J,ne,ie,ae,le,ce=1;do{for(G=Q,Q=null,ne=null,ie=0;G;){for(ie++,X=G,ae=0,$=0;$<ce&&(ae++,X=X.nextZ);$++);for(le=ce;ae>0||le>0&&X;)ae!==0&&(le===0||!X||G.z<=X.z)?(J=G,G=G.nextZ,ae--):(J=X,X=X.nextZ,le--),ne?ne.nextZ=J:Q=J,J.prevZ=ne,ne=J;G=X}ne.nextZ=null,ce*=2}while(ie>1)}(te)}(S,C,O,I);for(var U,D,B=S;S.prev!==S.next;)if(U=S.prev,D=S.next,I?w(S,C,O,I):a(S))T.push(U.i/E),T.push(S.i/E),T.push(D.i/E),m(S),S=D.next,B=D.next;else if((S=D)===B){z?z===1?k(S=b(A(S),T,E),T,E,C,O,I,2):z===2&&h(S,T,E,C,O,I):k(A(S),T,E,C,O,I,1);break}}}function a(S){var T=S.prev,E=S,C=S.next;if(u(T,E,C)>=0)return!1;for(var O=S.next.next;O!==S.prev;){if(s(T.x,T.y,E.x,E.y,C.x,C.y,O.x,O.y)&&u(O.prev,O,O.next)>=0)return!1;O=O.next}return!0}function w(S,T,E,C){var O=S.prev,I=S,z=S.next;if(u(O,I,z)>=0)return!1;for(var U=O.x<I.x?O.x<z.x?O.x:z.x:I.x<z.x?I.x:z.x,D=O.y<I.y?O.y<z.y?O.y:z.y:I.y<z.y?I.y:z.y,B=O.x>I.x?O.x>z.x?O.x:z.x:I.x>z.x?I.x:z.x,Z=O.y>I.y?O.y>z.y?O.y:z.y:I.y>z.y?I.y:z.y,F=n(U,D,T,E,C),j=n(B,Z,T,E,C),V=S.prevZ,te=S.nextZ;V&&V.z>=F&&te&&te.z<=j;){if(V!==S.prev&&V!==S.next&&s(O.x,O.y,I.x,I.y,z.x,z.y,V.x,V.y)&&u(V.prev,V,V.next)>=0||(V=V.prevZ,te!==S.prev&&te!==S.next&&s(O.x,O.y,I.x,I.y,z.x,z.y,te.x,te.y)&&u(te.prev,te,te.next)>=0))return!1;te=te.nextZ}for(;V&&V.z>=F;){if(V!==S.prev&&V!==S.next&&s(O.x,O.y,I.x,I.y,z.x,z.y,V.x,V.y)&&u(V.prev,V,V.next)>=0)return!1;V=V.prevZ}for(;te&&te.z<=j;){if(te!==S.prev&&te!==S.next&&s(O.x,O.y,I.x,I.y,z.x,z.y,te.x,te.y)&&u(te.prev,te,te.next)>=0)return!1;te=te.nextZ}return!0}function b(S,T,E){var C=S;do{var O=C.prev,I=C.next.next;!d(O,I)&&c(O,C,C.next,I)&&p(O,I)&&p(I,O)&&(T.push(O.i/E),T.push(C.i/E),T.push(I.i/E),m(C),m(C.next),C=S=I),C=C.next}while(C!==S);return A(C)}function h(S,T,E,C,O,I){var z=S;do{for(var U=z.next.next;U!==z.prev;){if(z.i!==U.i&&l(z,U)){var D=v(z,U);return z=A(z,z.next),D=A(D,D.next),k(z,T,E,C,O,I),void k(D,T,E,C,O,I)}U=U.next}z=z.next}while(z!==S)}function o(S,T){return S.x-T.x}function t(S,T){if(T=function(C,O){var I,z=O,U=C.x,D=C.y,B=-1/0;do{if(D<=z.y&&D>=z.next.y&&z.next.y!==z.y){var Z=z.x+(D-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(Z<=U&&Z>B){if(B=Z,Z===U){if(D===z.y)return z;if(D===z.next.y)return z.next}I=z.x<z.next.x?z:z.next}}z=z.next}while(z!==O);if(!I)return null;if(U===B)return I;var F,j=I,V=I.x,te=I.y,Q=1/0;z=I;do U>=z.x&&z.x>=V&&U!==z.x&&s(D<te?U:B,D,V,te,D<te?B:U,D,z.x,z.y)&&(F=Math.abs(D-z.y)/(U-z.x),p(z,C)&&(F<Q||F===Q&&(z.x>I.x||z.x===I.x&&i(I,z)))&&(I=z,Q=F)),z=z.next;while(z!==j);return I}(S,T),T){var E=v(T,S);A(T,T.next),A(E,E.next)}}function i(S,T){return u(S.prev,S,T.prev)<0&&u(T.next,S,S.next)<0}function n(S,T,E,C,O){return(S=1431655765&((S=858993459&((S=252645135&((S=16711935&((S=32767*(S-E)*O)|S<<8))|S<<4))|S<<2))|S<<1))|(T=1431655765&((T=858993459&((T=252645135&((T=16711935&((T=32767*(T-C)*O)|T<<8))|T<<4))|T<<2))|T<<1))<<1}function r(S){var T=S,E=S;do(T.x<E.x||T.x===E.x&&T.y<E.y)&&(E=T),T=T.next;while(T!==S);return E}function s(S,T,E,C,O,I,z,U){return(O-z)*(T-U)-(S-z)*(I-U)>=0&&(S-z)*(C-U)-(E-z)*(T-U)>=0&&(E-z)*(I-U)-(O-z)*(C-U)>=0}function l(S,T){return S.next.i!==T.i&&S.prev.i!==T.i&&!function(E,C){var O=E;do{if(O.i!==E.i&&O.next.i!==E.i&&O.i!==C.i&&O.next.i!==C.i&&c(O,O.next,E,C))return!0;O=O.next}while(O!==E);return!1}(S,T)&&(p(S,T)&&p(T,S)&&function(E,C){var O=E,I=!1,z=(E.x+C.x)/2,U=(E.y+C.y)/2;do O.y>U!=O.next.y>U&&O.next.y!==O.y&&z<(O.next.x-O.x)*(U-O.y)/(O.next.y-O.y)+O.x&&(I=!I),O=O.next;while(O!==E);return I}(S,T)&&(u(S.prev,S,T.prev)||u(S,T.prev,T))||d(S,T)&&u(S.prev,S,S.next)>0&&u(T.prev,T,T.next)>0)}function u(S,T,E){return(T.y-S.y)*(E.x-T.x)-(T.x-S.x)*(E.y-T.y)}function d(S,T){return S.x===T.x&&S.y===T.y}function c(S,T,E,C){var O=g(u(S,T,E)),I=g(u(S,T,C)),z=g(u(E,C,S)),U=g(u(E,C,T));return O!==I&&z!==U||!(O!==0||!x(S,E,T))||!(I!==0||!x(S,C,T))||!(z!==0||!x(E,S,C))||!(U!==0||!x(E,T,C))}function x(S,T,E){return T.x<=Math.max(S.x,E.x)&&T.x>=Math.min(S.x,E.x)&&T.y<=Math.max(S.y,E.y)&&T.y>=Math.min(S.y,E.y)}function g(S){return S>0?1:S<0?-1:0}function p(S,T){return u(S.prev,S,S.next)<0?u(S,T,S.next)>=0&&u(S,S.prev,T)>=0:u(S,T,S.prev)<0||u(S,S.next,T)<0}function v(S,T){var E=new _(S.i,S.x,S.y),C=new _(T.i,T.x,T.y),O=S.next,I=T.prev;return S.next=T,T.prev=S,E.next=O,O.prev=E,C.next=E,E.prev=C,I.next=C,C.prev=I,C}function y(S,T,E,C){var O=new _(S,T,E);return C?(O.next=C.next,O.prev=C,C.next.prev=O,C.next=O):(O.prev=O,O.next=O),O}function m(S){S.next.prev=S.prev,S.prev.next=S.next,S.prevZ&&(S.prevZ.nextZ=S.nextZ),S.nextZ&&(S.nextZ.prevZ=S.prevZ)}function _(S,T,E){this.i=S,this.x=T,this.y=E,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function f(S,T,E,C){for(var O=0,I=T,z=E-C;I<E;I+=C)O+=(S[z]-S[I])*(S[I+1]+S[z+1]),z=I;return O}Y.exports=P,Y.exports.default=P,P.deviation=function(S,T,E,C){var O=T&&T.length,I=O?T[0]*E:S.length,z=Math.abs(f(S,0,I,E));if(O)for(var U=0,D=T.length;U<D;U++){var B=T[U]*E,Z=U<D-1?T[U+1]*E:S.length;z-=Math.abs(f(S,B,Z,E))}var F=0;for(U=0;U<C.length;U+=3){var j=C[U]*E,V=C[U+1]*E,te=C[U+2]*E;F+=Math.abs((S[j]-S[te])*(S[V+1]-S[j+1])-(S[j]-S[V])*(S[te+1]-S[j+1]))}return z===0&&F===0?0:Math.abs((F-z)/z)},P.flatten=function(S){for(var T=S[0][0].length,E={vertices:[],holes:[],dimensions:T},C=0,O=0;O<S.length;O++){for(var I=0;I<S[O].length;I++)for(var z=0;z<T;z++)E.vertices.push(S[O][I][z]);O>0&&(C+=S[O-1].length,E.holes.push(C))}return E}},6688:function(Y,P,e){var A=e(78484);Y.exports=function(k,a){var w,b=[],h=[],o=[],t={},i=[];function n(p){o[p]=!1,t.hasOwnProperty(p)&&Object.keys(t[p]).forEach(function(v){delete t[p][v],o[v]&&n(v)})}function r(p){var v,y,m=!1;for(h.push(p),o[p]=!0,v=0;v<i[p].length;v++)(y=i[p][v])===w?(s(w,h),m=!0):o[y]||(m=r(y));if(m)n(p);else for(v=0;v<i[p].length;v++){y=i[p][v];var _=t[y];_||(_={},t[y]=_),_[y]=!0}return h.pop(),m}function s(p,v){var y=[].concat(v).concat(p);a?a(r):b.push(y)}function l(p){(function(E){for(var C=0;C<k.length;C++)C<E&&(k[C]=[]),k[C]=k[C].filter(function(O){return O>=E})})(p);for(var v,y=A(k).components.filter(function(E){return E.length>1}),m=1/0,_=0;_<y.length;_++)for(var f=0;f<y[_].length;f++)y[_][f]<m&&(m=y[_][f],v=_);var S=y[v];if(!S)return!1;var T=k.map(function(E,C){return S.indexOf(C)===-1?[]:E.filter(function(O){return S.indexOf(O)!==-1})});return{leastVertex:m,adjList:T}}w=0;for(var u=k.length;w<u;){var d=l(w);if(w=d.leastVertex,i=d.adjList){for(var c=0;c<i.length;c++)for(var x=0;x<i[c].length;x++){var g=i[c][x];o[+g]=!1,t[g]={}}r(w),w+=1}else w=u}return a?void 0:b}},41476:function(Y,P,e){var A=e(9252);Y.exports=function(){return A(this).length=0,this}},74772:function(Y,P,e){Y.exports=e(44716)()?Array.from:e(80816)},44716:function(Y){Y.exports=function(){var P,e,A=Array.from;return typeof A=="function"&&(e=A(P=["raz","dwa"]),Boolean(e&&e!==P&&e[1]==="dwa"))}},80816:function(Y,P,e){var A=e(92664).iterator,k=e(60948),a=e(17024),w=e(81304),b=e(34044),h=e(9252),o=e(42584),t=e(29768),i=Array.isArray,n=Function.prototype.call,r={configurable:!0,enumerable:!0,writable:!0,value:null},s=Object.defineProperty;Y.exports=function(l){var u,d,c,x,g,p,v,y,m,_,f=arguments[1],S=arguments[2];if(l=Object(h(l)),o(f)&&b(f),this&&this!==Array&&a(this))u=this;else{if(!f){if(k(l))return(g=l.length)!==1?Array.apply(null,l):((x=new Array(1))[0]=l[0],x);if(i(l)){for(x=new Array(g=l.length),d=0;d<g;++d)x[d]=l[d];return x}}x=[]}if(!i(l)){if((m=l[A])!==void 0){for(v=b(m).call(l),u&&(x=new u),y=v.next(),d=0;!y.done;)_=f?n.call(f,S,y.value,d):y.value,u?(r.value=_,s(x,d,r)):x[d]=_,y=v.next(),++d;g=d}else if(t(l)){for(g=l.length,u&&(x=new u),d=0,c=0;d<g;++d)_=l[d],d+1<g&&(p=_.charCodeAt(0))>=55296&&p<=56319&&(_+=l[++d]),_=f?n.call(f,S,_,c):_,u?(r.value=_,s(x,c,r)):x[c]=_,++c;g=c}}if(g===void 0)for(g=w(l.length),u&&(x=new u(g)),d=0;d<g;++d)_=f?n.call(f,S,l[d],d):l[d],u?(r.value=_,s(x,d,r)):x[d]=_;return u&&(r.value=null,x.length=g),x}},60948:function(Y){var P=Object.prototype.toString,e=P.call(function(){return arguments}());Y.exports=function(A){return P.call(A)===e}},17024:function(Y){var P=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);Y.exports=function(A){return typeof A=="function"&&e(P.call(A))}},33208:function(Y){Y.exports=function(){}},85608:function(Y,P,e){Y.exports=e(37328)()?Math.sign:e(92928)},37328:function(Y){Y.exports=function(){var P=Math.sign;return typeof P=="function"&&P(10)===1&&P(-20)===-1}},92928:function(Y){Y.exports=function(P){return P=Number(P),isNaN(P)||P===0?P:P>0?1:-1}},96936:function(Y,P,e){var A=e(85608),k=Math.abs,a=Math.floor;Y.exports=function(w){return isNaN(w)?0:(w=Number(w))!==0&&isFinite(w)?A(w)*a(k(w)):w}},81304:function(Y,P,e){var A=e(96936),k=Math.max;Y.exports=function(a){return k(0,A(a))}},14428:function(Y,P,e){var A=e(34044),k=e(9252),a=Function.prototype.bind,w=Function.prototype.call,b=Object.keys,h=Object.prototype.propertyIsEnumerable;Y.exports=function(o,t){return function(i,n){var r,s=arguments[2],l=arguments[3];return i=Object(k(i)),A(n),r=b(i),l&&r.sort(typeof l=="function"?a.call(l,i):void 0),typeof o!="function"&&(o=r[o]),w.call(o,r,function(u,d){return h.call(i,u)?w.call(n,s,i[u],u,i,d):t})}}},38452:function(Y,P,e){Y.exports=e(96276)()?Object.assign:e(81892)},96276:function(Y){Y.exports=function(){var P,e=Object.assign;return typeof e=="function"&&(e(P={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),P.foo+P.bar+P.trzy==="razdwatrzy")}},81892:function(Y,P,e){var A=e(54768),k=e(9252),a=Math.max;Y.exports=function(w,b){var h,o,t,i=a(arguments.length,2);for(w=Object(k(w)),t=function(n){try{w[n]=b[n]}catch(r){h||(h=r)}},o=1;o<i;++o)A(b=arguments[o]).forEach(t);if(h!==void 0)throw h;return w}},95920:function(Y,P,e){var A=e(74772),k=e(38452),a=e(9252);Y.exports=function(w){var b=Object(a(w)),h=arguments[1],o=Object(arguments[2]);if(b!==w&&!h)return b;var t={};return h?A(h,function(i){(o.ensure||i in w)&&(t[i]=w[i])}):k(t,w),t}},14452:function(Y,P,e){var A,k,a,w,b=Object.create;e(63092)()||(A=e(8672)),Y.exports=A?A.level!==1?b:(k={},a={},w={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(h){a[h]=h!=="__proto__"?w:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(k,a),Object.defineProperty(A,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:k}),function(h,o){return b(h===null?k:h,o)}):b},42748:function(Y,P,e){Y.exports=e(14428)("forEach")},69127:function(Y,P,e){var A=e(42584),k={function:!0,object:!0};Y.exports=function(a){return A(a)&&k[typeof a]||!1}},42584:function(Y,P,e){var A=e(33208)();Y.exports=function(k){return k!==A&&k!==null}},54768:function(Y,P,e){Y.exports=e(87888)()?Object.keys:e(89592)},87888:function(Y){Y.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},89592:function(Y,P,e){var A=e(42584),k=Object.keys;Y.exports=function(a){return k(A(a)?Object(a):a)}},84323:function(Y,P,e){var A=e(34044),k=e(42748),a=Function.prototype.call;Y.exports=function(w,b){var h={},o=arguments[2];return A(b),k(w,function(t,i,n,r){h[i]=a.call(b,o,t,i,n,r)}),h}},50868:function(Y,P,e){var A=e(42584),k=Array.prototype.forEach,a=Object.create;Y.exports=function(w){var b=a(null);return k.call(arguments,function(h){A(h)&&function(o,t){var i;for(i in o)t[i]=o[i]}(Object(h),b)}),b}},69932:function(Y,P,e){Y.exports=e(63092)()?Object.setPrototypeOf:e(8672)},63092:function(Y){var P=Object.create,e=Object.getPrototypeOf,A={};Y.exports=function(){var k=Object.setPrototypeOf;return typeof k=="function"&&e(k((arguments[0]||P)(null),A))===A}},8672:function(Y,P,e){var A,k,a,w,b=e(69127),h=e(9252),o=Object.prototype.isPrototypeOf,t=Object.defineProperty,i={configurable:!0,enumerable:!1,writable:!0,value:void 0};A=function(n,r){if(h(n),r===null||b(r))return n;throw new TypeError("Prototype must be null or an object")},Y.exports=(k=function(){var n,r=Object.create(null),s={},l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(l){try{(n=l.set).call(r,s)}catch{}if(Object.getPrototypeOf(r)===s)return{set:n,level:2}}return r.__proto__=s,Object.getPrototypeOf(r)===s?{level:2}:((r={}).__proto__=s,Object.getPrototypeOf(r)===s&&{level:1})}(),k?(k.level===2?k.set?(w=k.set,a=function(n,r){return w.call(A(n,r),r),n}):a=function(n,r){return A(n,r).__proto__=r,n}:a=function n(r,s){var l;return A(r,s),(l=o.call(n.nullPolyfill,r))&&delete n.nullPolyfill.__proto__,s===null&&(s=n.nullPolyfill),r.__proto__=s,l&&t(n.nullPolyfill,"__proto__",i),r},Object.defineProperty(a,"level",{configurable:!1,enumerable:!1,writable:!1,value:k.level})):null),e(14452)},34044:function(Y){Y.exports=function(P){if(typeof P!="function")throw new TypeError(P+" is not a function");return P}},92584:function(Y,P,e){var A=e(69127);Y.exports=function(k){if(!A(k))throw new TypeError(k+" is not an Object");return k}},9252:function(Y,P,e){var A=e(42584);Y.exports=function(k){if(!A(k))throw new TypeError("Cannot use null or undefined");return k}},71056:function(Y,P,e){Y.exports=e(42976)()?String.prototype.contains:e(93040)},42976:function(Y){var P="razdwatrzy";Y.exports=function(){return typeof P.contains=="function"&&P.contains("dwa")===!0&&P.contains("foo")===!1}},93040:function(Y){var P=String.prototype.indexOf;Y.exports=function(e){return P.call(this,e,arguments[1])>-1}},29768:function(Y){var P=Object.prototype.toString,e=P.call("");Y.exports=function(A){return typeof A=="string"||A&&typeof A=="object"&&(A instanceof String||P.call(A)===e)||!1}},82252:function(Y){var P=Object.create(null),e=Math.random;Y.exports=function(){var A;do A=e().toString(36).slice(2);while(P[A]);return A}},52104:function(Y,P,e){var A,k=e(69932),a=e(71056),w=e(21092),b=e(92664),h=e(85512),o=Object.defineProperty;A=Y.exports=function(t,i){if(!(this instanceof A))throw new TypeError("Constructor requires 'new'");h.call(this,t),i=i?a.call(i,"key+value")?"key+value":a.call(i,"key")?"key":"value":"value",o(this,"__kind__",w("",i))},k&&k(A,h),delete A.prototype.constructor,A.prototype=Object.create(h.prototype,{_resolve:w(function(t){return this.__kind__==="value"?this.__list__[t]:this.__kind__==="key+value"?[t,this.__list__[t]]:t})}),o(A.prototype,b.toStringTag,w("c","Array Iterator"))},76024:function(Y,P,e){var A=e(60948),k=e(34044),a=e(29768),w=e(76252),b=Array.isArray,h=Function.prototype.call,o=Array.prototype.some;Y.exports=function(t,i){var n,r,s,l,u,d,c,x,g=arguments[2];if(b(t)||A(t)?n="array":a(t)?n="string":t=w(t),k(i),s=function(){l=!0},n!=="array")if(n!=="string")for(r=t.next();!r.done;){if(h.call(i,g,r.value,s),l)return;r=t.next()}else for(d=t.length,u=0;u<d&&(c=t[u],u+1<d&&(x=c.charCodeAt(0))>=55296&&x<=56319&&(c+=t[++u]),h.call(i,g,c,s),!l);++u);else o.call(t,function(p){return h.call(i,g,p,s),l})}},76252:function(Y,P,e){var A=e(60948),k=e(29768),a=e(52104),w=e(80940),b=e(52891),h=e(92664).iterator;Y.exports=function(o){return typeof b(o)[h]=="function"?o[h]():A(o)?new a(o):k(o)?new w(o):new a(o)}},85512:function(Y,P,e){var A,k=e(41476),a=e(38452),w=e(34044),b=e(9252),h=e(21092),o=e(27940),t=e(92664),i=Object.defineProperty,n=Object.defineProperties;Y.exports=A=function(r,s){if(!(this instanceof A))throw new TypeError("Constructor requires 'new'");n(this,{__list__:h("w",b(r)),__context__:h("w",s),__nextIndex__:h("w",0)}),s&&(w(s.on),s.on("_add",this._onAdd),s.on("_delete",this._onDelete),s.on("_clear",this._onClear))},delete A.prototype.constructor,n(A.prototype,a({_next:h(function(){var r;if(this.__list__)return this.__redo__&&(r=this.__redo__.shift())!==void 0?r:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:h(function(){return this._createResult(this._next())}),_createResult:h(function(r){return r===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(r)}}),_resolve:h(function(r){return this.__list__[r]}),_unBind:h(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:h(function(){return"[object "+(this[t.toStringTag]||"Object")+"]"})},o({_onAdd:h(function(r){r>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(s,l){s>=r&&(this.__redo__[l]=++s)},this),this.__redo__.push(r)):i(this,"__redo__",h("c",[r])))}),_onDelete:h(function(r){var s;r>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&((s=this.__redo__.indexOf(r))!==-1&&this.__redo__.splice(s,1),this.__redo__.forEach(function(l,u){l>r&&(this.__redo__[u]=--l)},this)))}),_onClear:h(function(){this.__redo__&&k.call(this.__redo__),this.__nextIndex__=0})}))),i(A.prototype,t.iterator,h(function(){return this}))},76368:function(Y,P,e){var A=e(60948),k=e(42584),a=e(29768),w=e(92664).iterator,b=Array.isArray;Y.exports=function(h){return!(!k(h)||!b(h)&&!a(h)&&!A(h)&&typeof h[w]!="function")}},80940:function(Y,P,e){var A,k=e(69932),a=e(21092),w=e(92664),b=e(85512),h=Object.defineProperty;A=Y.exports=function(o){if(!(this instanceof A))throw new TypeError("Constructor requires 'new'");o=String(o),b.call(this,o),h(this,"__length__",a("",o.length))},k&&k(A,b),delete A.prototype.constructor,A.prototype=Object.create(b.prototype,{_next:a(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:a(function(o){var t,i=this.__list__[o];return this.__nextIndex__===this.__length__?i:(t=i.charCodeAt(0))>=55296&&t<=56319?i+this.__list__[this.__nextIndex__++]:i})}),h(A.prototype,w.toStringTag,a("c","String Iterator"))},52891:function(Y,P,e){var A=e(76368);Y.exports=function(k){if(!A(k))throw new TypeError(k+" is not iterable");return k}},60964:function(Y){function P(e,A){if(e==null)throw new TypeError("Cannot convert first argument to object");for(var k=Object(e),a=1;a<arguments.length;a++){var w=arguments[a];if(w!=null)for(var b=Object.keys(Object(w)),h=0,o=b.length;h<o;h++){var t=b[h],i=Object.getOwnPropertyDescriptor(w,t);i!==void 0&&i.enumerable&&(k[t]=w[t])}}return k}Y.exports={assign:P,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:P})}}},92664:function(Y,P,e){Y.exports=e(43580)()?e(12296).Symbol:e(18376)},43580:function(Y,P,e){var A=e(12296),k={object:!0,symbol:!0};Y.exports=function(){var a,w=A.Symbol;if(typeof w!="function")return!1;a=w("test symbol");try{String(a)}catch{return!1}return!!k[typeof w.iterator]&&!!k[typeof w.toPrimitive]&&!!k[typeof w.toStringTag]}},53908:function(Y){Y.exports=function(P){return!!P&&(typeof P=="symbol"||!!P.constructor&&P.constructor.name==="Symbol"&&P[P.constructor.toStringTag]==="Symbol")}},96863:function(Y,P,e){var A=e(21092),k=Object.create,a=Object.defineProperty,w=Object.prototype,b=k(null);Y.exports=function(h){for(var o,t,i=0;b[h+(i||"")];)++i;return b[h+=i||""]=!0,a(w,o="@@"+h,A.gs(null,function(n){t||(t=!0,a(this,o,A(n)),t=!1)})),o}},53540:function(Y,P,e){var A=e(21092),k=e(12296).Symbol;Y.exports=function(a){return Object.defineProperties(a,{hasInstance:A("",k&&k.hasInstance||a("hasInstance")),isConcatSpreadable:A("",k&&k.isConcatSpreadable||a("isConcatSpreadable")),iterator:A("",k&&k.iterator||a("iterator")),match:A("",k&&k.match||a("match")),replace:A("",k&&k.replace||a("replace")),search:A("",k&&k.search||a("search")),species:A("",k&&k.species||a("species")),split:A("",k&&k.split||a("split")),toPrimitive:A("",k&&k.toPrimitive||a("toPrimitive")),toStringTag:A("",k&&k.toStringTag||a("toStringTag")),unscopables:A("",k&&k.unscopables||a("unscopables"))})}},73852:function(Y,P,e){var A=e(21092),k=e(63948),a=Object.create(null);Y.exports=function(w){return Object.defineProperties(w,{for:A(function(b){return a[b]?a[b]:a[b]=w(String(b))}),keyFor:A(function(b){var h;for(h in k(b),a)if(a[h]===b)return h})})}},18376:function(Y,P,e){var A,k,a,w=e(21092),b=e(63948),h=e(12296).Symbol,o=e(96863),t=e(53540),i=e(73852),n=Object.create,r=Object.defineProperties,s=Object.defineProperty;if(typeof h=="function")try{String(h()),a=!0}catch{}else h=null;k=function(l){if(this instanceof k)throw new TypeError("Symbol is not a constructor");return A(l)},Y.exports=A=function l(u){var d;if(this instanceof l)throw new TypeError("Symbol is not a constructor");return a?h(u):(d=n(k.prototype),u=u===void 0?"":String(u),r(d,{__description__:w("",u),__name__:w("",o(u))}))},t(A),i(A),r(k.prototype,{constructor:w(A),toString:w("",function(){return this.__name__})}),r(A.prototype,{toString:w(function(){return"Symbol ("+b(this).__description__+")"}),valueOf:w(function(){return b(this)})}),s(A.prototype,A.toPrimitive,w("",function(){var l=b(this);return typeof l=="symbol"?l:l.toString()})),s(A.prototype,A.toStringTag,w("c","Symbol")),s(k.prototype,A.toStringTag,w("c",A.prototype[A.toStringTag])),s(k.prototype,A.toPrimitive,w("c",A.prototype[A.toPrimitive]))},63948:function(Y,P,e){var A=e(53908);Y.exports=function(k){if(!A(k))throw new TypeError(k+" is not a symbol");return k}},60463:function(Y,P,e){Y.exports=e(96979)()?WeakMap:e(64864)},96979:function(Y){Y.exports=function(){var P,e;if(typeof WeakMap!="function")return!1;try{P=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return String(P)==="[object WeakMap]"&&typeof P.set=="function"&&P.set({},1)===P&&typeof P.delete=="function"&&typeof P.has=="function"&&P.get(e)==="one"}},69876:function(Y){Y.exports=typeof WeakMap=="function"&&Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"},64864:function(Y,P,e){var A,k=e(42584),a=e(69932),w=e(92584),b=e(9252),h=e(82252),o=e(21092),t=e(76252),i=e(76024),n=e(92664).toStringTag,r=e(69876),s=Array.isArray,l=Object.defineProperty,u=Object.prototype.hasOwnProperty,d=Object.getPrototypeOf;Y.exports=A=function(){var c,x=arguments[0];if(!(this instanceof A))throw new TypeError("Constructor requires 'new'");return c=r&&a&&WeakMap!==A?a(new WeakMap,d(this)):this,k(x)&&(s(x)||(x=t(x))),l(c,"__weakMapData__",o("c","$weakMap$"+h())),x&&i(x,function(g){b(g),c.set(g[0],g[1])}),c},r&&(a&&a(A,WeakMap),A.prototype=Object.create(WeakMap.prototype,{constructor:o(A)})),Object.defineProperties(A.prototype,{delete:o(function(c){return!!u.call(w(c),this.__weakMapData__)&&(delete c[this.__weakMapData__],!0)}),get:o(function(c){if(u.call(w(c),this.__weakMapData__))return c[this.__weakMapData__]}),has:o(function(c){return u.call(w(c),this.__weakMapData__)}),set:o(function(c,x){return l(w(c),this.__weakMapData__,o("c",x)),this}),toString:o(function(){return"[object WeakMap]"})}),l(A.prototype,n,o("c","WeakMap"))},61252:function(Y){var P,e=typeof Reflect=="object"?Reflect:null,A=e&&typeof e.apply=="function"?e.apply:function(u,d,c){return Function.prototype.apply.call(u,d,c)};P=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(u){return Object.getOwnPropertyNames(u).concat(Object.getOwnPropertySymbols(u))}:function(u){return Object.getOwnPropertyNames(u)};var k=Number.isNaN||function(u){return u!=u};function a(){a.init.call(this)}Y.exports=a,Y.exports.once=function(u,d){return new Promise(function(c,x){function g(v){u.removeListener(d,p),x(v)}function p(){typeof u.removeListener=="function"&&u.removeListener("error",g),c([].slice.call(arguments))}l(u,d,p,{once:!0}),d!=="error"&&function(v,y,m){typeof v.on=="function"&&l(v,"error",y,{once:!0})}(u,g)})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var w=10;function b(u){if(typeof u!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u)}function h(u){return u._maxListeners===void 0?a.defaultMaxListeners:u._maxListeners}function o(u,d,c,x){var g,p,v,y;if(b(c),(p=u._events)===void 0?(p=u._events=Object.create(null),u._eventsCount=0):(p.newListener!==void 0&&(u.emit("newListener",d,c.listener?c.listener:c),p=u._events),v=p[d]),v===void 0)v=p[d]=c,++u._eventsCount;else if(typeof v=="function"?v=p[d]=x?[c,v]:[v,c]:x?v.unshift(c):v.push(c),(g=h(u))>0&&v.length>g&&!v.warned){v.warned=!0;var m=new Error("Possible EventEmitter memory leak detected. "+v.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");m.name="MaxListenersExceededWarning",m.emitter=u,m.type=d,m.count=v.length,y=m,console&&console.warn&&console.warn(y)}return u}function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(u,d,c){var x={fired:!1,wrapFn:void 0,target:u,type:d,listener:c},g=t.bind(x);return g.listener=c,x.wrapFn=g,g}function n(u,d,c){var x=u._events;if(x===void 0)return[];var g=x[d];return g===void 0?[]:typeof g=="function"?c?[g.listener||g]:[g]:c?function(p){for(var v=new Array(p.length),y=0;y<v.length;++y)v[y]=p[y].listener||p[y];return v}(g):s(g,g.length)}function r(u){var d=this._events;if(d!==void 0){var c=d[u];if(typeof c=="function")return 1;if(c!==void 0)return c.length}return 0}function s(u,d){for(var c=new Array(d),x=0;x<d;++x)c[x]=u[x];return c}function l(u,d,c,x){if(typeof u.on=="function")x.once?u.once(d,c):u.on(d,c);else{if(typeof u.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof u);u.addEventListener(d,function g(p){x.once&&u.removeEventListener(d,g),c(p)})}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(u){if(typeof u!="number"||u<0||k(u))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+u+".");w=u}}),a.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(u){if(typeof u!="number"||u<0||k(u))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+u+".");return this._maxListeners=u,this},a.prototype.getMaxListeners=function(){return h(this)},a.prototype.emit=function(u){for(var d=[],c=1;c<arguments.length;c++)d.push(arguments[c]);var x=u==="error",g=this._events;if(g!==void 0)x=x&&g.error===void 0;else if(!x)return!1;if(x){var p;if(d.length>0&&(p=d[0]),p instanceof Error)throw p;var v=new Error("Unhandled error."+(p?" ("+p.message+")":""));throw v.context=p,v}var y=g[u];if(y===void 0)return!1;if(typeof y=="function")A(y,this,d);else{var m=y.length,_=s(y,m);for(c=0;c<m;++c)A(_[c],this,d)}return!0},a.prototype.addListener=function(u,d){return o(this,u,d,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(u,d){return o(this,u,d,!0)},a.prototype.once=function(u,d){return b(d),this.on(u,i(this,u,d)),this},a.prototype.prependOnceListener=function(u,d){return b(d),this.prependListener(u,i(this,u,d)),this},a.prototype.removeListener=function(u,d){var c,x,g,p,v;if(b(d),(x=this._events)===void 0)return this;if((c=x[u])===void 0)return this;if(c===d||c.listener===d)--this._eventsCount==0?this._events=Object.create(null):(delete x[u],x.removeListener&&this.emit("removeListener",u,c.listener||d));else if(typeof c!="function"){for(g=-1,p=c.length-1;p>=0;p--)if(c[p]===d||c[p].listener===d){v=c[p].listener,g=p;break}if(g<0)return this;g===0?c.shift():function(y,m){for(;m+1<y.length;m++)y[m]=y[m+1];y.pop()}(c,g),c.length===1&&(x[u]=c[0]),x.removeListener!==void 0&&this.emit("removeListener",u,v||d)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(u){var d,c,x;if((c=this._events)===void 0)return this;if(c.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):c[u]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete c[u]),this;if(arguments.length===0){var g,p=Object.keys(c);for(x=0;x<p.length;++x)(g=p[x])!=="removeListener"&&this.removeAllListeners(g);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(d=c[u])=="function")this.removeListener(u,d);else if(d!==void 0)for(x=d.length-1;x>=0;x--)this.removeListener(u,d[x]);return this},a.prototype.listeners=function(u){return n(this,u,!0)},a.prototype.rawListeners=function(u){return n(this,u,!1)},a.listenerCount=function(u,d){return typeof u.listenerCount=="function"?u.listenerCount(d):r.call(u,d)},a.prototype.listenerCount=r,a.prototype.eventNames=function(){return this._eventsCount>0?P(this._events):[]}},39072:function(Y){var P=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};Y.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return P()}try{return __global__||P()}finally{delete Object.prototype.__global__}}()},12296:function(Y,P,e){Y.exports=e(45072)()?globalThis:e(39072)},45072:function(Y){Y.exports=function(){return typeof globalThis=="object"&&!!globalThis&&globalThis.Array===Array}},38248:function(Y,P,e){var A=e(94576);Y.exports=function(k){var a=typeof k;if(a==="string"){var w=k;if((k=+k)==0&&A(w))return!1}else if(a!=="number")return!1;return k-k<1}},47520:function(Y,P,e){var A=e(72512);Y.exports=function(k,a,w){if(!k)throw new TypeError("must specify data as first parameter");if(w=0|+(w||0),Array.isArray(k)&&k[0]&&typeof k[0][0]=="number"){var b,h,o,t,i=k[0].length,n=k.length*i;a&&typeof a!="string"||(a=new(A(a||"float32"))(n+w));var r=a.length-w;if(n!==r)throw new Error("source length "+n+" ("+i+"x"+k.length+") does not match destination length "+r);for(b=0,o=w;b<k.length;b++)for(h=0;h<i;h++)a[o++]=k[b][h]===null?NaN:k[b][h]}else if(a&&typeof a!="string")a.set(k,w);else{var s=A(a||"float32");if(Array.isArray(k)||a==="array")for(b=0,o=w,t=(a=new s(k.length+w)).length;o<t;o++,b++)a[o]=k[b]===null?NaN:k[b];else w===0?a=new s(k):(a=new s(k.length+w)).set(k,w)}return a}},33888:function(Y,P,e){var A=e(49395),k=[32,126];Y.exports=function(a){var w=(a=a||{}).shape?a.shape:a.canvas?[a.canvas.width,a.canvas.height]:[512,512],b=a.canvas||document.createElement("canvas"),h=a.font,o=typeof a.step=="number"?[a.step,a.step]:a.step||[32,32],t=a.chars||k;if(h&&typeof h!="string"&&(h=A(h)),Array.isArray(t)){if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var i=[],n=t[0],r=0;n<=t[1];n++)i[r++]=String.fromCharCode(n);t=i}}else t=String(t).split("");w=w.slice(),b.width=w[0],b.height=w[1];var s=b.getContext("2d");s.fillStyle="#000",s.fillRect(0,0,b.width,b.height),s.font=h,s.textAlign="center",s.textBaseline="middle",s.fillStyle="#fff";var l=o[0]/2,u=o[1]/2;for(n=0;n<t.length;n++)s.fillText(t[n],l,u),(l+=o[0])>w[0]-o[0]/2&&(l=o[0]/2,u+=o[1]);return b}},71920:function(Y){function P(a,w){w||(w={}),(typeof a=="string"||Array.isArray(a))&&(w.family=a);var b=Array.isArray(w.family)?w.family.join(", "):w.family;if(!b)throw Error("`family` must be defined");var h=w.size||w.fontSize||w.em||48,o=w.weight||w.fontWeight||"",t=(a=[w.style||w.fontStyle||"",o,h].join(" ")+"px "+b,w.origin||"top");if(P.cache[b]&&h<=P.cache[b].em)return e(P.cache[b],t);var i=w.canvas||P.canvas,n=i.getContext("2d"),r={upper:w.upper!==void 0?w.upper:"H",lower:w.lower!==void 0?w.lower:"x",descent:w.descent!==void 0?w.descent:"p",ascent:w.ascent!==void 0?w.ascent:"h",tittle:w.tittle!==void 0?w.tittle:"i",overshoot:w.overshoot!==void 0?w.overshoot:"O"},s=Math.ceil(1.5*h);i.height=s,i.width=.5*s,n.font=a;var l="H",u={top:0};n.clearRect(0,0,s,s),n.textBaseline="top",n.fillStyle="black",n.fillText(l,0,0);var d=A(n.getImageData(0,0,s,s));n.clearRect(0,0,s,s),n.textBaseline="bottom",n.fillText(l,0,s);var c=A(n.getImageData(0,0,s,s));u.lineHeight=u.bottom=s-c+d,n.clearRect(0,0,s,s),n.textBaseline="alphabetic",n.fillText(l,0,s);var x=s-A(n.getImageData(0,0,s,s))-1+d;u.baseline=u.alphabetic=x,n.clearRect(0,0,s,s),n.textBaseline="middle",n.fillText(l,0,.5*s);var g=A(n.getImageData(0,0,s,s));u.median=u.middle=s-g-1+d-.5*s,n.clearRect(0,0,s,s),n.textBaseline="hanging",n.fillText(l,0,.5*s);var p=A(n.getImageData(0,0,s,s));u.hanging=s-p-1+d-.5*s,n.clearRect(0,0,s,s),n.textBaseline="ideographic",n.fillText(l,0,s);var v=A(n.getImageData(0,0,s,s));if(u.ideographic=s-v-1+d,r.upper&&(n.clearRect(0,0,s,s),n.textBaseline="top",n.fillText(r.upper,0,0),u.upper=A(n.getImageData(0,0,s,s)),u.capHeight=u.baseline-u.upper),r.lower&&(n.clearRect(0,0,s,s),n.textBaseline="top",n.fillText(r.lower,0,0),u.lower=A(n.getImageData(0,0,s,s)),u.xHeight=u.baseline-u.lower),r.tittle&&(n.clearRect(0,0,s,s),n.textBaseline="top",n.fillText(r.tittle,0,0),u.tittle=A(n.getImageData(0,0,s,s))),r.ascent&&(n.clearRect(0,0,s,s),n.textBaseline="top",n.fillText(r.ascent,0,0),u.ascent=A(n.getImageData(0,0,s,s))),r.descent&&(n.clearRect(0,0,s,s),n.textBaseline="top",n.fillText(r.descent,0,0),u.descent=k(n.getImageData(0,0,s,s))),r.overshoot){n.clearRect(0,0,s,s),n.textBaseline="top",n.fillText(r.overshoot,0,0);var y=k(n.getImageData(0,0,s,s));u.overshoot=y-x}for(var m in u)u[m]/=h;return u.em=h,P.cache[b]=u,e(u,t)}function e(a,w){var b={};for(var h in typeof w=="string"&&(w=a[w]),a)h!=="em"&&(b[h]=a[h]-w);return b}function A(a){for(var w=a.height,b=a.data,h=3;h<b.length;h+=4)if(b[h]!==0)return Math.floor(.25*(h-3)/w)}function k(a){for(var w=a.height,b=a.data,h=b.length-1;h>0;h-=4)if(b[h]!==0)return Math.floor(.25*(h-3)/w)}Y.exports=P,P.canvas=document.createElement("canvas"),P.cache={}},46492:function(Y,P,e){var A=e(90720),k=Object.prototype.toString,a=Object.prototype.hasOwnProperty;Y.exports=function(w,b,h){if(!A(b))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=h),k.call(w)==="[object Array]"?function(t,i,n){for(var r=0,s=t.length;r<s;r++)a.call(t,r)&&(n==null?i(t[r],r,t):i.call(n,t[r],r,t))}(w,b,o):typeof w=="string"?function(t,i,n){for(var r=0,s=t.length;r<s;r++)n==null?i(t.charAt(r),r,t):i.call(n,t.charAt(r),r,t)}(w,b,o):function(t,i,n){for(var r in t)a.call(t,r)&&(n==null?i(t[r],r,t):i.call(n,t[r],r,t))}(w,b,o)}},74336:function(Y){var P=Object.prototype.toString,e=Math.max,A=function(k,a){for(var w=[],b=0;b<k.length;b+=1)w[b]=k[b];for(var h=0;h<a.length;h+=1)w[h+k.length]=a[h];return w};Y.exports=function(k){var a=this;if(typeof a!="function"||P.apply(a)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+a);for(var w,b=function(n,r){for(var s=[],l=1,u=0;l<n.length;l+=1,u+=1)s[u]=n[l];return s}(arguments),h=e(0,a.length-b.length),o=[],t=0;t<h;t++)o[t]="$"+t;if(w=Function("binder","return function ("+function(n,r){for(var s="",l=0;l<n.length;l+=1)s+=n[l],l+1<n.length&&(s+=",");return s}(o)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof w){var n=a.apply(this,A(b,arguments));return Object(n)===n?n:this}return a.apply(k,A(b,arguments))}),a.prototype){var i=function(){};i.prototype=a.prototype,w.prototype=new i,i.prototype=null}return w}},8844:function(Y,P,e){var A=e(74336);Y.exports=Function.prototype.bind||A},13380:function(Y){Y.exports=function(P,e){if(typeof P!="string")throw new TypeError("must specify type string");if(e=e||{},typeof document>"u"&&!e.canvas)return null;var A=e.canvas||document.createElement("canvas");typeof e.width=="number"&&(A.width=e.width),typeof e.height=="number"&&(A.height=e.height);var k,a=e;try{var w=[P];P.indexOf("webgl")===0&&w.push("experimental-"+P);for(var b=0;b<w.length;b++)if(k=A.getContext(w[b],a))return k}catch{k=null}return k||null}},53664:function(Y,P,e){var A,k=SyntaxError,a=Function,w=TypeError,b=function(C){try{return a('"use strict"; return ('+C+").constructor;")()}catch{}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch{h=null}var o=function(){throw new w},t=h?function(){try{return o}catch{try{return h(arguments,"callee").get}catch{return o}}}():o,i=e(71080)(),n=e(69572)(),r=Object.getPrototypeOf||(n?function(C){return C.__proto__}:null),s={},l=typeof Uint8Array<"u"&&r?r(Uint8Array):A,u={"%AggregateError%":typeof AggregateError>"u"?A:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?A:ArrayBuffer,"%ArrayIteratorPrototype%":i&&r?r([][Symbol.iterator]()):A,"%AsyncFromSyncIteratorPrototype%":A,"%AsyncFunction%":s,"%AsyncGenerator%":s,"%AsyncGeneratorFunction%":s,"%AsyncIteratorPrototype%":s,"%Atomics%":typeof Atomics>"u"?A:Atomics,"%BigInt%":typeof BigInt>"u"?A:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?A:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?A:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?A:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?A:Float32Array,"%Float64Array%":typeof Float64Array>"u"?A:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?A:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":s,"%Int8Array%":typeof Int8Array>"u"?A:Int8Array,"%Int16Array%":typeof Int16Array>"u"?A:Int16Array,"%Int32Array%":typeof Int32Array>"u"?A:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":i&&r?r(r([][Symbol.iterator]())):A,"%JSON%":typeof JSON=="object"?JSON:A,"%Map%":typeof Map>"u"?A:Map,"%MapIteratorPrototype%":typeof Map<"u"&&i&&r?r(new Map()[Symbol.iterator]()):A,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?A:Promise,"%Proxy%":typeof Proxy>"u"?A:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?A:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?A:Set,"%SetIteratorPrototype%":typeof Set<"u"&&i&&r?r(new Set()[Symbol.iterator]()):A,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?A:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":i&&r?r(""[Symbol.iterator]()):A,"%Symbol%":i?Symbol:A,"%SyntaxError%":k,"%ThrowTypeError%":t,"%TypedArray%":l,"%TypeError%":w,"%Uint8Array%":typeof Uint8Array>"u"?A:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?A:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?A:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?A:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?A:WeakMap,"%WeakRef%":typeof WeakRef>"u"?A:WeakRef,"%WeakSet%":typeof WeakSet>"u"?A:WeakSet};if(r)try{null.error}catch(C){var d=r(r(C));u["%Error.prototype%"]=d}var c=function C(O){var I;if(O==="%AsyncFunction%")I=b("async function () {}");else if(O==="%GeneratorFunction%")I=b("function* () {}");else if(O==="%AsyncGeneratorFunction%")I=b("async function* () {}");else if(O==="%AsyncGenerator%"){var z=C("%AsyncGeneratorFunction%");z&&(I=z.prototype)}else if(O==="%AsyncIteratorPrototype%"){var U=C("%AsyncGenerator%");U&&r&&(I=r(U.prototype))}return u[O]=I,I},x={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=e(8844),p=e(92064),v=g.call(Function.call,Array.prototype.concat),y=g.call(Function.apply,Array.prototype.splice),m=g.call(Function.call,String.prototype.replace),_=g.call(Function.call,String.prototype.slice),f=g.call(Function.call,RegExp.prototype.exec),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,E=function(C,O){var I,z=C;if(p(x,z)&&(z="%"+(I=x[z])[0]+"%"),p(u,z)){var U=u[z];if(U===s&&(U=c(z)),U===void 0&&!O)throw new w("intrinsic "+C+" exists, but is not available. Please file an issue!");return{alias:I,name:z,value:U}}throw new k("intrinsic "+C+" does not exist!")};Y.exports=function(C,O){if(typeof C!="string"||C.length===0)throw new w("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof O!="boolean")throw new w('"allowMissing" argument must be a boolean');if(f(/^%?[^%]*%?$/,C)===null)throw new k("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var I=function(X){var J=_(X,0,1),ne=_(X,-1);if(J==="%"&&ne!=="%")throw new k("invalid intrinsic syntax, expected closing `%`");if(ne==="%"&&J!=="%")throw new k("invalid intrinsic syntax, expected opening `%`");var ie=[];return m(X,S,function(ae,le,ce,pe){ie[ie.length]=ce?m(pe,T,"$1"):le||ae}),ie}(C),z=I.length>0?I[0]:"",U=E("%"+z+"%",O),D=U.name,B=U.value,Z=!1,F=U.alias;F&&(z=F[0],y(I,v([0,1],F)));for(var j=1,V=!0;j<I.length;j+=1){var te=I[j],Q=_(te,0,1),$=_(te,-1);if((Q==='"'||Q==="'"||Q==="`"||$==='"'||$==="'"||$==="`")&&Q!==$)throw new k("property names with quotes must have matching quotes");if(te!=="constructor"&&V||(Z=!0),p(u,D="%"+(z+="."+te)+"%"))B=u[D];else if(B!=null){if(!(te in B)){if(!O)throw new w("base intrinsic for "+C+" exists, but the property is not available.");return}if(h&&j+1>=I.length){var G=h(B,te);B=(V=!!G)&&"get"in G&&!("originalValue"in G.get)?G.get:B[te]}else V=p(B,te),B=B[te];V&&!Z&&(u[D]=B)}}return B}},12408:function(Y){Y.exports=function(P,e){var A=e[0],k=e[1],a=e[2],w=e[3],b=e[4],h=e[5],o=e[6],t=e[7],i=e[8],n=e[9],r=e[10],s=e[11],l=e[12],u=e[13],d=e[14],c=e[15];return P[0]=h*(r*c-s*d)-n*(o*c-t*d)+u*(o*s-t*r),P[1]=-(k*(r*c-s*d)-n*(a*c-w*d)+u*(a*s-w*r)),P[2]=k*(o*c-t*d)-h*(a*c-w*d)+u*(a*t-w*o),P[3]=-(k*(o*s-t*r)-h*(a*s-w*r)+n*(a*t-w*o)),P[4]=-(b*(r*c-s*d)-i*(o*c-t*d)+l*(o*s-t*r)),P[5]=A*(r*c-s*d)-i*(a*c-w*d)+l*(a*s-w*r),P[6]=-(A*(o*c-t*d)-b*(a*c-w*d)+l*(a*t-w*o)),P[7]=A*(o*s-t*r)-b*(a*s-w*r)+i*(a*t-w*o),P[8]=b*(n*c-s*u)-i*(h*c-t*u)+l*(h*s-t*n),P[9]=-(A*(n*c-s*u)-i*(k*c-w*u)+l*(k*s-w*n)),P[10]=A*(h*c-t*u)-b*(k*c-w*u)+l*(k*t-w*h),P[11]=-(A*(h*s-t*n)-b*(k*s-w*n)+i*(k*t-w*h)),P[12]=-(b*(n*d-r*u)-i*(h*d-o*u)+l*(h*r-o*n)),P[13]=A*(n*d-r*u)-i*(k*d-a*u)+l*(k*r-a*n),P[14]=-(A*(h*d-o*u)-b*(k*d-a*u)+l*(k*o-a*h)),P[15]=A*(h*r-o*n)-b*(k*r-a*n)+i*(k*o-a*h),P}},76860:function(Y){Y.exports=function(P){var e=new Float32Array(16);return e[0]=P[0],e[1]=P[1],e[2]=P[2],e[3]=P[3],e[4]=P[4],e[5]=P[5],e[6]=P[6],e[7]=P[7],e[8]=P[8],e[9]=P[9],e[10]=P[10],e[11]=P[11],e[12]=P[12],e[13]=P[13],e[14]=P[14],e[15]=P[15],e}},64492:function(Y){Y.exports=function(P,e){return P[0]=e[0],P[1]=e[1],P[2]=e[2],P[3]=e[3],P[4]=e[4],P[5]=e[5],P[6]=e[6],P[7]=e[7],P[8]=e[8],P[9]=e[9],P[10]=e[10],P[11]=e[11],P[12]=e[12],P[13]=e[13],P[14]=e[14],P[15]=e[15],P}},54212:function(Y){Y.exports=function(){var P=new Float32Array(16);return P[0]=1,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=1,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=1,P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1,P}},70800:function(Y){Y.exports=function(P){var e=P[0],A=P[1],k=P[2],a=P[3],w=P[4],b=P[5],h=P[6],o=P[7],t=P[8],i=P[9],n=P[10],r=P[11],s=P[12],l=P[13],u=P[14],d=P[15];return(e*b-A*w)*(n*d-r*u)-(e*h-k*w)*(i*d-r*l)+(e*o-a*w)*(i*u-n*l)+(A*h-k*b)*(t*d-r*s)-(A*o-a*b)*(t*u-n*s)+(k*o-a*h)*(t*l-i*s)}},61784:function(Y){Y.exports=function(P,e){var A=e[0],k=e[1],a=e[2],w=e[3],b=A+A,h=k+k,o=a+a,t=A*b,i=k*b,n=k*h,r=a*b,s=a*h,l=a*o,u=w*b,d=w*h,c=w*o;return P[0]=1-n-l,P[1]=i+c,P[2]=r-d,P[3]=0,P[4]=i-c,P[5]=1-t-l,P[6]=s+u,P[7]=0,P[8]=r+d,P[9]=s-u,P[10]=1-t-n,P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1,P}},91616:function(Y){Y.exports=function(P,e,A){var k,a,w,b=A[0],h=A[1],o=A[2],t=Math.sqrt(b*b+h*h+o*o);return Math.abs(t)<1e-6?null:(b*=t=1/t,h*=t,o*=t,k=Math.sin(e),w=1-(a=Math.cos(e)),P[0]=b*b*w+a,P[1]=h*b*w+o*k,P[2]=o*b*w-h*k,P[3]=0,P[4]=b*h*w-o*k,P[5]=h*h*w+a,P[6]=o*h*w+b*k,P[7]=0,P[8]=b*o*w+h*k,P[9]=h*o*w-b*k,P[10]=o*o*w+a,P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1,P)}},51944:function(Y){Y.exports=function(P,e,A){var k=e[0],a=e[1],w=e[2],b=e[3],h=k+k,o=a+a,t=w+w,i=k*h,n=k*o,r=k*t,s=a*o,l=a*t,u=w*t,d=b*h,c=b*o,x=b*t;return P[0]=1-(s+u),P[1]=n+x,P[2]=r-c,P[3]=0,P[4]=n-x,P[5]=1-(i+u),P[6]=l+d,P[7]=0,P[8]=r+c,P[9]=l-d,P[10]=1-(i+s),P[11]=0,P[12]=A[0],P[13]=A[1],P[14]=A[2],P[15]=1,P}},69444:function(Y){Y.exports=function(P,e){return P[0]=e[0],P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=e[1],P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=e[2],P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1,P}},48268:function(Y){Y.exports=function(P,e){return P[0]=1,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=1,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=1,P[11]=0,P[12]=e[0],P[13]=e[1],P[14]=e[2],P[15]=1,P}},21856:function(Y){Y.exports=function(P,e){var A=Math.sin(e),k=Math.cos(e);return P[0]=1,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=k,P[6]=A,P[7]=0,P[8]=0,P[9]=-A,P[10]=k,P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1,P}},79216:function(Y){Y.exports=function(P,e){var A=Math.sin(e),k=Math.cos(e);return P[0]=k,P[1]=0,P[2]=-A,P[3]=0,P[4]=0,P[5]=1,P[6]=0,P[7]=0,P[8]=A,P[9]=0,P[10]=k,P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1,P}},57736:function(Y){Y.exports=function(P,e){var A=Math.sin(e),k=Math.cos(e);return P[0]=k,P[1]=A,P[2]=0,P[3]=0,P[4]=-A,P[5]=k,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=1,P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1,P}},38848:function(Y){Y.exports=function(P,e,A,k,a,w,b){var h=1/(A-e),o=1/(a-k),t=1/(w-b);return P[0]=2*w*h,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=2*w*o,P[6]=0,P[7]=0,P[8]=(A+e)*h,P[9]=(a+k)*o,P[10]=(b+w)*t,P[11]=-1,P[12]=0,P[13]=0,P[14]=b*w*2*t,P[15]=0,P}},36635:function(Y){Y.exports=function(P){return P[0]=1,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=1,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=1,P[11]=0,P[12]=0,P[13]=0,P[14]=0,P[15]=1,P}},36524:function(Y,P,e){Y.exports={create:e(54212),clone:e(76860),copy:e(64492),identity:e(36635),transpose:e(86520),invert:e(4308),adjoint:e(12408),determinant:e(70800),multiply:e(80944),translate:e(35176),scale:e(68152),rotate:e(30016),rotateX:e(15456),rotateY:e(64840),rotateZ:e(4192),fromRotation:e(91616),fromRotationTranslation:e(51944),fromScaling:e(69444),fromTranslation:e(48268),fromXRotation:e(21856),fromYRotation:e(79216),fromZRotation:e(57736),fromQuat:e(61784),frustum:e(38848),perspective:e(51296),perspectiveFromFieldOfView:e(63688),ortho:e(97688),lookAt:e(56508),str:e(89412)}},4308:function(Y){Y.exports=function(P,e){var A=e[0],k=e[1],a=e[2],w=e[3],b=e[4],h=e[5],o=e[6],t=e[7],i=e[8],n=e[9],r=e[10],s=e[11],l=e[12],u=e[13],d=e[14],c=e[15],x=A*h-k*b,g=A*o-a*b,p=A*t-w*b,v=k*o-a*h,y=k*t-w*h,m=a*t-w*o,_=i*u-n*l,f=i*d-r*l,S=i*c-s*l,T=n*d-r*u,E=n*c-s*u,C=r*c-s*d,O=x*C-g*E+p*T+v*S-y*f+m*_;return O?(O=1/O,P[0]=(h*C-o*E+t*T)*O,P[1]=(a*E-k*C-w*T)*O,P[2]=(u*m-d*y+c*v)*O,P[3]=(r*y-n*m-s*v)*O,P[4]=(o*S-b*C-t*f)*O,P[5]=(A*C-a*S+w*f)*O,P[6]=(d*p-l*m-c*g)*O,P[7]=(i*m-r*p+s*g)*O,P[8]=(b*E-h*S+t*_)*O,P[9]=(k*S-A*E-w*_)*O,P[10]=(l*y-u*p+c*x)*O,P[11]=(n*p-i*y-s*x)*O,P[12]=(h*f-b*T-o*_)*O,P[13]=(A*T-k*f+a*_)*O,P[14]=(u*g-l*v-d*x)*O,P[15]=(i*v-n*g+r*x)*O,P):null}},56508:function(Y,P,e){var A=e(36635);Y.exports=function(k,a,w,b){var h,o,t,i,n,r,s,l,u,d,c=a[0],x=a[1],g=a[2],p=b[0],v=b[1],y=b[2],m=w[0],_=w[1],f=w[2];return Math.abs(c-m)<1e-6&&Math.abs(x-_)<1e-6&&Math.abs(g-f)<1e-6?A(k):(s=c-m,l=x-_,u=g-f,h=v*(u*=d=1/Math.sqrt(s*s+l*l+u*u))-y*(l*=d),o=y*(s*=d)-p*u,t=p*l-v*s,(d=Math.sqrt(h*h+o*o+t*t))?(h*=d=1/d,o*=d,t*=d):(h=0,o=0,t=0),i=l*t-u*o,n=u*h-s*t,r=s*o-l*h,(d=Math.sqrt(i*i+n*n+r*r))?(i*=d=1/d,n*=d,r*=d):(i=0,n=0,r=0),k[0]=h,k[1]=i,k[2]=s,k[3]=0,k[4]=o,k[5]=n,k[6]=l,k[7]=0,k[8]=t,k[9]=r,k[10]=u,k[11]=0,k[12]=-(h*c+o*x+t*g),k[13]=-(i*c+n*x+r*g),k[14]=-(s*c+l*x+u*g),k[15]=1,k)}},80944:function(Y){Y.exports=function(P,e,A){var k=e[0],a=e[1],w=e[2],b=e[3],h=e[4],o=e[5],t=e[6],i=e[7],n=e[8],r=e[9],s=e[10],l=e[11],u=e[12],d=e[13],c=e[14],x=e[15],g=A[0],p=A[1],v=A[2],y=A[3];return P[0]=g*k+p*h+v*n+y*u,P[1]=g*a+p*o+v*r+y*d,P[2]=g*w+p*t+v*s+y*c,P[3]=g*b+p*i+v*l+y*x,g=A[4],p=A[5],v=A[6],y=A[7],P[4]=g*k+p*h+v*n+y*u,P[5]=g*a+p*o+v*r+y*d,P[6]=g*w+p*t+v*s+y*c,P[7]=g*b+p*i+v*l+y*x,g=A[8],p=A[9],v=A[10],y=A[11],P[8]=g*k+p*h+v*n+y*u,P[9]=g*a+p*o+v*r+y*d,P[10]=g*w+p*t+v*s+y*c,P[11]=g*b+p*i+v*l+y*x,g=A[12],p=A[13],v=A[14],y=A[15],P[12]=g*k+p*h+v*n+y*u,P[13]=g*a+p*o+v*r+y*d,P[14]=g*w+p*t+v*s+y*c,P[15]=g*b+p*i+v*l+y*x,P}},97688:function(Y){Y.exports=function(P,e,A,k,a,w,b){var h=1/(e-A),o=1/(k-a),t=1/(w-b);return P[0]=-2*h,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=-2*o,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=2*t,P[11]=0,P[12]=(e+A)*h,P[13]=(a+k)*o,P[14]=(b+w)*t,P[15]=1,P}},51296:function(Y){Y.exports=function(P,e,A,k,a){var w=1/Math.tan(e/2),b=1/(k-a);return P[0]=w/A,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=w,P[6]=0,P[7]=0,P[8]=0,P[9]=0,P[10]=(a+k)*b,P[11]=-1,P[12]=0,P[13]=0,P[14]=2*a*k*b,P[15]=0,P}},63688:function(Y){Y.exports=function(P,e,A,k){var a=Math.tan(e.upDegrees*Math.PI/180),w=Math.tan(e.downDegrees*Math.PI/180),b=Math.tan(e.leftDegrees*Math.PI/180),h=Math.tan(e.rightDegrees*Math.PI/180),o=2/(b+h),t=2/(a+w);return P[0]=o,P[1]=0,P[2]=0,P[3]=0,P[4]=0,P[5]=t,P[6]=0,P[7]=0,P[8]=-(b-h)*o*.5,P[9]=(a-w)*t*.5,P[10]=k/(A-k),P[11]=-1,P[12]=0,P[13]=0,P[14]=k*A/(A-k),P[15]=0,P}},30016:function(Y){Y.exports=function(P,e,A,k){var a,w,b,h,o,t,i,n,r,s,l,u,d,c,x,g,p,v,y,m,_,f,S,T,E=k[0],C=k[1],O=k[2],I=Math.sqrt(E*E+C*C+O*O);return Math.abs(I)<1e-6?null:(E*=I=1/I,C*=I,O*=I,a=Math.sin(A),b=1-(w=Math.cos(A)),h=e[0],o=e[1],t=e[2],i=e[3],n=e[4],r=e[5],s=e[6],l=e[7],u=e[8],d=e[9],c=e[10],x=e[11],g=E*E*b+w,p=C*E*b+O*a,v=O*E*b-C*a,y=E*C*b-O*a,m=C*C*b+w,_=O*C*b+E*a,f=E*O*b+C*a,S=C*O*b-E*a,T=O*O*b+w,P[0]=h*g+n*p+u*v,P[1]=o*g+r*p+d*v,P[2]=t*g+s*p+c*v,P[3]=i*g+l*p+x*v,P[4]=h*y+n*m+u*_,P[5]=o*y+r*m+d*_,P[6]=t*y+s*m+c*_,P[7]=i*y+l*m+x*_,P[8]=h*f+n*S+u*T,P[9]=o*f+r*S+d*T,P[10]=t*f+s*S+c*T,P[11]=i*f+l*S+x*T,e!==P&&(P[12]=e[12],P[13]=e[13],P[14]=e[14],P[15]=e[15]),P)}},15456:function(Y){Y.exports=function(P,e,A){var k=Math.sin(A),a=Math.cos(A),w=e[4],b=e[5],h=e[6],o=e[7],t=e[8],i=e[9],n=e[10],r=e[11];return e!==P&&(P[0]=e[0],P[1]=e[1],P[2]=e[2],P[3]=e[3],P[12]=e[12],P[13]=e[13],P[14]=e[14],P[15]=e[15]),P[4]=w*a+t*k,P[5]=b*a+i*k,P[6]=h*a+n*k,P[7]=o*a+r*k,P[8]=t*a-w*k,P[9]=i*a-b*k,P[10]=n*a-h*k,P[11]=r*a-o*k,P}},64840:function(Y){Y.exports=function(P,e,A){var k=Math.sin(A),a=Math.cos(A),w=e[0],b=e[1],h=e[2],o=e[3],t=e[8],i=e[9],n=e[10],r=e[11];return e!==P&&(P[4]=e[4],P[5]=e[5],P[6]=e[6],P[7]=e[7],P[12]=e[12],P[13]=e[13],P[14]=e[14],P[15]=e[15]),P[0]=w*a-t*k,P[1]=b*a-i*k,P[2]=h*a-n*k,P[3]=o*a-r*k,P[8]=w*k+t*a,P[9]=b*k+i*a,P[10]=h*k+n*a,P[11]=o*k+r*a,P}},4192:function(Y){Y.exports=function(P,e,A){var k=Math.sin(A),a=Math.cos(A),w=e[0],b=e[1],h=e[2],o=e[3],t=e[4],i=e[5],n=e[6],r=e[7];return e!==P&&(P[8]=e[8],P[9]=e[9],P[10]=e[10],P[11]=e[11],P[12]=e[12],P[13]=e[13],P[14]=e[14],P[15]=e[15]),P[0]=w*a+t*k,P[1]=b*a+i*k,P[2]=h*a+n*k,P[3]=o*a+r*k,P[4]=t*a-w*k,P[5]=i*a-b*k,P[6]=n*a-h*k,P[7]=r*a-o*k,P}},68152:function(Y){Y.exports=function(P,e,A){var k=A[0],a=A[1],w=A[2];return P[0]=e[0]*k,P[1]=e[1]*k,P[2]=e[2]*k,P[3]=e[3]*k,P[4]=e[4]*a,P[5]=e[5]*a,P[6]=e[6]*a,P[7]=e[7]*a,P[8]=e[8]*w,P[9]=e[9]*w,P[10]=e[10]*w,P[11]=e[11]*w,P[12]=e[12],P[13]=e[13],P[14]=e[14],P[15]=e[15],P}},89412:function(Y){Y.exports=function(P){return"mat4("+P[0]+", "+P[1]+", "+P[2]+", "+P[3]+", "+P[4]+", "+P[5]+", "+P[6]+", "+P[7]+", "+P[8]+", "+P[9]+", "+P[10]+", "+P[11]+", "+P[12]+", "+P[13]+", "+P[14]+", "+P[15]+")"}},35176:function(Y){Y.exports=function(P,e,A){var k,a,w,b,h,o,t,i,n,r,s,l,u=A[0],d=A[1],c=A[2];return e===P?(P[12]=e[0]*u+e[4]*d+e[8]*c+e[12],P[13]=e[1]*u+e[5]*d+e[9]*c+e[13],P[14]=e[2]*u+e[6]*d+e[10]*c+e[14],P[15]=e[3]*u+e[7]*d+e[11]*c+e[15]):(k=e[0],a=e[1],w=e[2],b=e[3],h=e[4],o=e[5],t=e[6],i=e[7],n=e[8],r=e[9],s=e[10],l=e[11],P[0]=k,P[1]=a,P[2]=w,P[3]=b,P[4]=h,P[5]=o,P[6]=t,P[7]=i,P[8]=n,P[9]=r,P[10]=s,P[11]=l,P[12]=k*u+h*d+n*c+e[12],P[13]=a*u+o*d+r*c+e[13],P[14]=w*u+t*d+s*c+e[14],P[15]=b*u+i*d+l*c+e[15]),P}},86520:function(Y){Y.exports=function(P,e){if(P===e){var A=e[1],k=e[2],a=e[3],w=e[6],b=e[7],h=e[11];P[1]=e[4],P[2]=e[8],P[3]=e[12],P[4]=A,P[6]=e[9],P[7]=e[13],P[8]=k,P[9]=w,P[11]=e[14],P[12]=a,P[13]=b,P[14]=h}else P[0]=e[0],P[1]=e[4],P[2]=e[8],P[3]=e[12],P[4]=e[1],P[5]=e[5],P[6]=e[9],P[7]=e[13],P[8]=e[2],P[9]=e[6],P[10]=e[10],P[11]=e[14],P[12]=e[3],P[13]=e[7],P[14]=e[11],P[15]=e[15];return P}},23352:function(Y,P,e){var A=e(42771),k=e(55616),a=e(28624),w=e(55212),b=e(60463),h=e(72160),o=e(33888),t=e(14144),i=e(51160),n=e(58908),r=e(65819),s=e(23464),l=e(63768),u=e(50896),d=e(71920),c=e(47520),x=e(308).nextPow2,g=new b,p=!1;if(document.body){var v=document.body.appendChild(document.createElement("div"));v.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(v).fontStretch&&(p=!0),document.body.removeChild(v)}var y=function(m){(function(_){return typeof _=="function"&&_._gl&&_.prop&&_.texture&&_.buffer})(m)?(m={regl:m},this.gl=m.regl._gl):this.gl=w(m),this.shader=g.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=m.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),g.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(n(m)?m:{})};y.prototype.createShader=function(){var m=this.regl,_=m({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:m.prop("count"),offset:m.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:m.this("sizeBuffer")},width:{offset:0,stride:8,buffer:m.this("sizeBuffer")},char:m.this("charBuffer"),position:m.this("position")},uniforms:{atlasSize:function(f,S){return[S.atlas.width,S.atlas.height]},atlasDim:function(f,S){return[S.atlas.cols,S.atlas.rows]},atlas:function(f,S){return S.atlas.texture},charStep:function(f,S){return S.atlas.step},em:function(f,S){return S.atlas.em},color:m.prop("color"),opacity:m.prop("opacity"),viewport:m.this("viewportArray"),scale:m.this("scale"),align:m.prop("align"),baseline:m.prop("baseline"),translate:m.this("translate"),positionOffset:m.prop("positionOffset")},primitive:"points",viewport:m.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`});return{regl:m,draw:_,atlas:{}}},y.prototype.update=function(m){var _=this;if(typeof m=="string")m={text:m};else if(!m)return;(m=k(m,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity!=null&&(Array.isArray(m.opacity)?this.opacity=m.opacity.map(function(de){return parseFloat(de)}):this.opacity=parseFloat(m.opacity)),m.viewport!=null&&(this.viewport=i(m.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),m.kerning!=null&&(this.kerning=m.kerning),m.offset!=null&&(typeof m.offset=="number"&&(m.offset=[m.offset,0]),this.positionOffset=c(m.offset)),m.direction&&(this.direction=m.direction),m.range&&(this.range=m.range,this.scale=[1/(m.range[2]-m.range[0]),1/(m.range[3]-m.range[1])],this.translate=[-m.range[0],-m.range[1]]),m.scale&&(this.scale=m.scale),m.translate&&(this.translate=m.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||m.font||(m.font=y.baseFontSize+"px sans-serif");var f,S=!1,T=!1;if(m.font&&(Array.isArray(m.font)?m.font:[m.font]).forEach(function(de,Ee){if(typeof de=="string")try{de=A.parse(de)}catch{de=A.parse(y.baseFontSize+"px "+de)}else de=A.parse(A.stringify(de));var Te=A.stringify({size:y.baseFontSize,family:de.family,stretch:p?de.stretch:void 0,variant:de.variant,weight:de.weight,style:de.style}),Se=r(de.size),Le=Math.round(Se[0]*s(Se[1]));if(Le!==_.fontSize[Ee]&&(T=!0,_.fontSize[Ee]=Le),!(_.font[Ee]&&Te==_.font[Ee].baseString||(S=!0,_.font[Ee]=y.fonts[Te],_.font[Ee]))){var Oe=de.family.join(", "),he=[de.style];de.style!=de.variant&&he.push(de.variant),de.variant!=de.weight&&he.push(de.weight),p&&de.weight!=de.stretch&&he.push(de.stretch),_.font[Ee]={baseString:Te,family:Oe,weight:de.weight,stretch:de.stretch,style:de.style,variant:de.variant,width:{},kerning:{},metrics:d(Oe,{origin:"top",fontSize:y.baseFontSize,fontStyle:he.join(" ")})},y.fonts[Te]=_.font[Ee]}}),(S||T)&&this.font.forEach(function(de,Ee){var Te=A.stringify({size:_.fontSize[Ee],family:de.family,stretch:p?de.stretch:void 0,variant:de.variant,weight:de.weight,style:de.style});if(_.fontAtlas[Ee]=_.shader.atlas[Te],!_.fontAtlas[Ee]){var Se=de.metrics;_.shader.atlas[Te]=_.fontAtlas[Ee]={fontString:Te,step:2*Math.ceil(_.fontSize[Ee]*Se.bottom*.5),em:_.fontSize[Ee],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:_.regl.texture()}}m.text==null&&(m.text=_.text)}),typeof m.text=="string"&&m.position&&m.position.length>2){for(var E=Array(.5*m.position.length),C=0;C<E.length;C++)E[C]=m.text;m.text=E}if(m.text!=null||S){if(this.textOffsets=[0],Array.isArray(m.text)){this.count=m.text[0].length,this.counts=[this.count];for(var O=1;O<m.text.length;O++)this.textOffsets[O]=this.textOffsets[O-1]+m.text[O-1].length,this.count+=m.text[O].length,this.counts.push(m.text[O].length);this.text=m.text.join("")}else this.text=m.text,this.count=this.text.length,this.counts=[this.count];f=[],this.font.forEach(function(de,Ee){y.atlasContext.font=de.baseString;for(var Te=_.fontAtlas[Ee],Se=0;Se<_.text.length;Se++){var Le=_.text.charAt(Se);if(Te.ids[Le]==null&&(Te.ids[Le]=Te.chars.length,Te.chars.push(Le),f.push(Le)),de.width[Le]==null&&(de.width[Le]=y.atlasContext.measureText(Le).width/y.baseFontSize,_.kerning)){var Oe=[];for(var he in de.width)Oe.push(he+Le,Le+he);u(de.kerning,l(de.family,{pairs:Oe}))}}})}if(m.position)if(m.position.length>2){for(var I=!m.position[0].length,z=t.mallocFloat(2*this.count),U=0,D=0;U<this.counts.length;U++){var B=this.counts[U];if(I)for(var Z=0;Z<B;Z++)z[D++]=m.position[2*U],z[D++]=m.position[2*U+1];else for(var F=0;F<B;F++)z[D++]=m.position[U][0],z[D++]=m.position[U][1]}this.position.call?this.position({type:"float",data:z}):this.position=this.regl.buffer({type:"float",data:z}),t.freeFloat(z)}else this.position.destroy&&this.position.destroy(),this.position={constant:m.position};if(m.text||S){var j=t.mallocUint8(this.count),V=t.mallocFloat(2*this.count);this.textWidth=[];for(var te=0,Q=0;te<this.counts.length;te++){for(var $=this.counts[te],G=this.font[te]||this.font[0],X=this.fontAtlas[te]||this.fontAtlas[0],J=0;J<$;J++){var ne=this.text.charAt(Q),ie=this.text.charAt(Q-1);if(j[Q]=X.ids[ne],V[2*Q]=G.width[ne],J){var ae=V[2*Q-2],le=V[2*Q],ce=V[2*Q-1]+.5*ae+.5*le;if(this.kerning){var pe=G.kerning[ie+ne];pe&&(ce+=.001*pe)}V[2*Q+1]=ce}else V[2*Q+1]=.5*V[2*Q];Q++}this.textWidth.push(V.length?.5*V[2*Q-2]+V[2*Q-1]:0)}m.align||(m.align=this.align),this.charBuffer({data:j,type:"uint8",usage:"stream"}),this.sizeBuffer({data:V,type:"float",usage:"stream"}),t.freeUint8(j),t.freeFloat(V),f.length&&this.font.forEach(function(de,Ee){var Te=_.fontAtlas[Ee],Se=Te.step,Le=Math.floor(y.maxAtlasSize/Se),Oe=Math.min(Le,Te.chars.length),he=Math.ceil(Te.chars.length/Oe),xe=x(Oe*Se),ke=x(he*Se);Te.width=xe,Te.height=ke,Te.rows=he,Te.cols=Oe,Te.em&&Te.texture({data:o({canvas:y.atlasCanvas,font:Te.fontString,chars:Te.chars,shape:[xe,ke],step:[Se,Se]})})})}if(m.align&&(this.align=m.align,this.alignOffset=this.textWidth.map(function(de,Ee){var Te=Array.isArray(_.align)?_.align.length>1?_.align[Ee]:_.align[0]:_.align;if(typeof Te=="number")return Te;switch(Te){case"right":case"end":return-de;case"center":case"centre":case"middle":return .5*-de}return 0})),this.baseline==null&&m.baseline==null&&(m.baseline=0),m.baseline!=null&&(this.baseline=m.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(de,Ee){var Te=(_.font[Ee]||_.font[0]).metrics,Se=0;return Se+=.5*Te.bottom,-1*(Se+=typeof de=="number"?de-Te.baseline:-Te[de])})),m.color!=null)if(m.color||(m.color="transparent"),typeof m.color!="string"&&isNaN(m.color)){var ge;if(typeof m.color[0]=="number"&&m.color.length>this.counts.length){var me=m.color.length;ge=t.mallocUint8(me);for(var ve=(m.color.subarray||m.color.slice).bind(m.color),Me=0;Me<me;Me+=4)ge.set(h(ve(Me,Me+4),"uint8"),Me)}else{var _e=m.color.length;ge=t.mallocUint8(4*_e);for(var we=0;we<_e;we++)ge.set(h(m.color[we]||0,"uint8"),4*we)}this.color=ge}else this.color=h(m.color,"uint8");if(m.position||m.text||m.color||m.baseline||m.align||m.font||m.offset||m.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var oe=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(oe);for(var se=0;se<this.batch.length;se++)this.batch[se]={count:this.counts.length>1?this.counts[se]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[se]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*se,4*se+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[se]:this.opacity,baseline:this.baselineOffset[se]!=null?this.baselineOffset[se]:this.baselineOffset[0],align:this.align?this.alignOffset[se]!=null?this.alignOffset[se]:this.alignOffset[0]:0,atlas:this.fontAtlas[se]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*se,2*se+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]},y.prototype.destroy=function(){},y.prototype.kerning=!0,y.prototype.position={constant:new Float32Array(2)},y.prototype.translate=null,y.prototype.scale=null,y.prototype.font=null,y.prototype.text="",y.prototype.positionOffset=[0,0],y.prototype.opacity=1,y.prototype.color=new Uint8Array([0,0,0,255]),y.prototype.alignOffset=[0,0],y.maxAtlasSize=1024,y.atlasCanvas=document.createElement("canvas"),y.atlasContext=y.atlasCanvas.getContext("2d",{alpha:!1}),y.baseFontSize=64,y.fonts={},Y.exports=y},55212:function(Y,P,e){var A=e(55616);function k(b){if(b.container)if(b.container==document.body)document.body.style.width||(b.canvas.width=b.width||b.pixelRatio*e.g.innerWidth),document.body.style.height||(b.canvas.height=b.height||b.pixelRatio*e.g.innerHeight);else{var h=b.container.getBoundingClientRect();b.canvas.width=b.width||h.right-h.left,b.canvas.height=b.height||h.bottom-h.top}}function a(b){return typeof b.getContext=="function"&&"width"in b&&"height"in b}function w(){var b=document.createElement("canvas");return b.style.position="absolute",b.style.top=0,b.style.left=0,b}Y.exports=function(b){var h;if(b?typeof b=="string"&&(b={container:b}):b={},(b=a(b)||typeof(h=b).nodeName=="string"&&typeof h.appendChild=="function"&&typeof h.getBoundingClientRect=="function"?{container:b}:function(t){return typeof t.drawArrays=="function"||typeof t.drawElements=="function"}(b)?{gl:b}:A(b,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0)).pixelRatio||(b.pixelRatio=e.g.pixelRatio||1),b.gl)return b.gl;if(b.canvas&&(b.container=b.canvas.parentNode),b.container){if(typeof b.container=="string"){var o=document.querySelector(b.container);if(!o)throw Error("Element "+b.container+" is not found");b.container=o}a(b.container)?(b.canvas=b.container,b.container=b.canvas.parentNode):b.canvas||(b.canvas=w(),b.container.appendChild(b.canvas),k(b))}else if(!b.canvas){if(typeof document>"u")throw Error("Not DOM environment. Use headless-gl.");b.container=document.body||document.documentElement,b.canvas=w(),b.container.appendChild(b.canvas),k(b)}return b.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(t){try{b.gl=b.canvas.getContext(t,b.attrs)}catch{}return b.gl}),b.gl}},26444:function(Y){Y.exports=function(P){typeof P=="string"&&(P=[P]);for(var e=[].slice.call(arguments,1),A=[],k=0;k<P.length-1;k++)A.push(P[k],e[k]||"");return A.push(P[k]),A.join("")}},2304:function(Y,P,e){var A=e(53664)("%Object.getOwnPropertyDescriptor%",!0);if(A)try{A([],"length")}catch{A=null}Y.exports=A},52264:function(Y,P,e){var A,k=e(24200);A=typeof e.g.matchMedia=="function"?!e.g.matchMedia("(hover: none)").matches:k,Y.exports=A},89184:function(Y,P,e){var A=e(24200);Y.exports=A&&function(){var k=!1;try{var a=Object.defineProperty({},"passive",{get:function(){k=!0}});window.addEventListener("test",null,a),window.removeEventListener("test",null,a)}catch{k=!1}return k}()},39640:function(Y,P,e){var A=e(53664)("%Object.defineProperty%",!0),k=function(){if(A)try{return A({},"a",{value:1}),!0}catch{return!1}return!1};k.hasArrayLengthDefineBug=function(){if(!k())return null;try{return A([],"length",{value:1}).length!==1}catch{return!0}},Y.exports=k},69572:function(Y){var P={foo:{}},e=Object;Y.exports=function(){return{__proto__:P}.foo===P.foo&&!({__proto__:null}instanceof e)}},71080:function(Y,P,e){var A=typeof Symbol<"u"&&Symbol,k=e(89320);Y.exports=function(){return typeof A=="function"&&typeof Symbol=="function"&&typeof A("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&k()}},89320:function(Y){Y.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var P={},e=Symbol("test"),A=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(A)!=="[object Symbol]")return!1;for(e in P[e]=42,P)return!1;if(typeof Object.keys=="function"&&Object.keys(P).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(P).length!==0)return!1;var k=Object.getOwnPropertySymbols(P);if(k.length!==1||k[0]!==e||!Object.prototype.propertyIsEnumerable.call(P,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(P,e);if(a.value!==42||a.enumerable!==!0)return!1}return!0}},46672:function(Y,P,e){var A=e(89320);Y.exports=function(){return A()&&!!Symbol.toStringTag}},92064:function(Y,P,e){var A=Function.prototype.call,k=Object.prototype.hasOwnProperty,a=e(8844);Y.exports=a.call(A,k)},35984:function(Y,P){P.read=function(e,A,k,a,w){var b,h,o=8*w-a-1,t=(1<<o)-1,i=t>>1,n=-7,r=k?w-1:0,s=k?-1:1,l=e[A+r];for(r+=s,b=l&(1<<-n)-1,l>>=-n,n+=o;n>0;b=256*b+e[A+r],r+=s,n-=8);for(h=b&(1<<-n)-1,b>>=-n,n+=a;n>0;h=256*h+e[A+r],r+=s,n-=8);if(b===0)b=1-i;else{if(b===t)return h?NaN:1/0*(l?-1:1);h+=Math.pow(2,a),b-=i}return(l?-1:1)*h*Math.pow(2,b-a)},P.write=function(e,A,k,a,w,b){var h,o,t,i=8*b-w-1,n=(1<<i)-1,r=n>>1,s=w===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=a?0:b-1,u=a?1:-1,d=A<0||A===0&&1/A<0?1:0;for(A=Math.abs(A),isNaN(A)||A===1/0?(o=isNaN(A)?1:0,h=n):(h=Math.floor(Math.log(A)/Math.LN2),A*(t=Math.pow(2,-h))<1&&(h--,t*=2),(A+=h+r>=1?s/t:s*Math.pow(2,1-r))*t>=2&&(h++,t/=2),h+r>=n?(o=0,h=n):h+r>=1?(o=(A*t-1)*Math.pow(2,w),h+=r):(o=A*Math.pow(2,r-1)*Math.pow(2,w),h=0));w>=8;e[k+l]=255&o,l+=u,o/=256,w-=8);for(h=h<<w|o,i+=w;i>0;e[k+l]=255&h,l+=u,h/=256,i-=8);e[k+l-u]|=128*d}},6768:function(Y){typeof Object.create=="function"?Y.exports=function(P,e){e&&(P.super_=e,P.prototype=Object.create(e.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}))}:Y.exports=function(P,e){if(e){P.super_=e;var A=function(){};A.prototype=e.prototype,P.prototype=new A,P.prototype.constructor=P}}},91148:function(Y,P,e){var A=e(46672)(),k=e(99676)("Object.prototype.toString"),a=function(h){return!(A&&h&&typeof h=="object"&&Symbol.toStringTag in h)&&k(h)==="[object Arguments]"},w=function(h){return!!a(h)||h!==null&&typeof h=="object"&&typeof h.length=="number"&&h.length>=0&&k(h)!=="[object Array]"&&k(h.callee)==="[object Function]"},b=function(){return a(arguments)}();a.isLegacyArguments=w,Y.exports=b?a:w},24200:function(Y){Y.exports=!0},90720:function(Y){var P,e,A=Function.prototype.toString,k=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply;if(typeof k=="function"&&typeof Object.defineProperty=="function")try{P=Object.defineProperty({},"length",{get:function(){throw e}}),e={},k(function(){throw 42},null,P)}catch(r){r!==e&&(k=null)}else k=null;var a=/^\s*class\b/,w=function(r){try{var s=A.call(r);return a.test(s)}catch{return!1}},b=function(r){try{return!w(r)&&(A.call(r),!0)}catch{return!1}},h=Object.prototype.toString,o=typeof Symbol=="function"&&!!Symbol.toStringTag,t=!(0 in[,]),i=function(){return!1};if(typeof document=="object"){var n=document.all;h.call(n)===h.call(document.all)&&(i=function(r){if((t||!r)&&(r===void 0||typeof r=="object"))try{var s=h.call(r);return(s==="[object HTMLAllCollection]"||s==="[object HTML document.all class]"||s==="[object HTMLCollection]"||s==="[object Object]")&&r("")==null}catch{}return!1})}Y.exports=k?function(r){if(i(r))return!0;if(!r||typeof r!="function"&&typeof r!="object")return!1;try{k(r,null,P)}catch(s){if(s!==e)return!1}return!w(r)&&b(r)}:function(r){if(i(r))return!0;if(!r||typeof r!="function"&&typeof r!="object")return!1;if(o)return b(r);if(w(r))return!1;var s=h.call(r);return!(s!=="[object Function]"&&s!=="[object GeneratorFunction]"&&!/^\[object HTML/.test(s))&&b(r)}},84420:function(Y,P,e){var A,k=Object.prototype.toString,a=Function.prototype.toString,w=/^\s*(?:function)?\*/,b=e(46672)(),h=Object.getPrototypeOf;Y.exports=function(o){if(typeof o!="function")return!1;if(w.test(a.call(o)))return!0;if(!b)return k.call(o)==="[object GeneratorFunction]";if(!h)return!1;if(A===void 0){var t=function(){if(!b)return!1;try{return Function("return function*() {}")()}catch{}}();A=!!t&&h(t)}return h(o)===A}},96604:function(Y){Y.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},85992:function(Y){Y.exports=function(P){return P!=P}},1560:function(Y,P,e){var A=e(57916),k=e(81288),a=e(85992),w=e(57740),b=e(59736),h=A(w(),Number);k(h,{getPolyfill:w,implementation:a,shim:b}),Y.exports=h},57740:function(Y,P,e){var A=e(85992);Y.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:A}},59736:function(Y,P,e){var A=e(81288),k=e(57740);Y.exports=function(){var a=k();return A(Number,{isNaN:a},{isNaN:function(){return Number.isNaN!==a}}),a}},18400:function(Y){Y.exports=function(P){var e=typeof P;return P!==null&&(e==="object"||e==="function")}},58908:function(Y){var P=Object.prototype.toString;Y.exports=function(e){var A;return P.call(e)==="[object Object]"&&((A=Object.getPrototypeOf(e))===null||A===Object.getPrototypeOf({}))}},94576:function(Y){Y.exports=function(P){for(var e,A=P.length,k=0;k<A;k++)if(((e=P.charCodeAt(k))<9||e>13)&&e!==32&&e!==133&&e!==160&&e!==5760&&e!==6158&&(e<8192||e>8205)&&e!==8232&&e!==8233&&e!==8239&&e!==8287&&e!==8288&&e!==12288&&e!==65279)return!1;return!0}},53520:function(Y){Y.exports=function(P){return typeof P=="string"&&(P=P.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(P)&&/[\dz]$/i.test(P)&&P.length>4))}},7728:function(Y,P,e){var A=e(46492),k=e(63436),a=e(99676),w=a("Object.prototype.toString"),b=e(46672)(),h=e(2304),o=typeof globalThis>"u"?e.g:globalThis,t=k(),i=a("Array.prototype.indexOf",!0)||function(l,u){for(var d=0;d<l.length;d+=1)if(l[d]===u)return d;return-1},n=a("String.prototype.slice"),r={},s=Object.getPrototypeOf;b&&h&&s&&A(t,function(l){var u=new o[l];if(Symbol.toStringTag in u){var d=s(u),c=h(d,Symbol.toStringTag);if(!c){var x=s(d);c=h(x,Symbol.toStringTag)}r[l]=c.get}}),Y.exports=function(l){if(!l||typeof l!="object")return!1;if(!b||!(Symbol.toStringTag in l)){var u=n(w(l),8,-1);return i(t,u)>-1}return!!h&&function(d){var c=!1;return A(r,function(x,g){if(!c)try{c=x.call(d)===g}catch{}}),c}(l)}},76244:function(Y){Y.exports=Math.log2||function(P){return Math.log(P)*Math.LOG2E}},62644:function(Y,P,e){Y.exports=function(k,a){a||(a=k,k=window);var w=0,b=0,h=0,o={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function i(p){var v=!1;return"altKey"in p&&(v=v||p.altKey!==o.alt,o.alt=!!p.altKey),"shiftKey"in p&&(v=v||p.shiftKey!==o.shift,o.shift=!!p.shiftKey),"ctrlKey"in p&&(v=v||p.ctrlKey!==o.control,o.control=!!p.ctrlKey),"metaKey"in p&&(v=v||p.metaKey!==o.meta,o.meta=!!p.metaKey),v}function n(p,v){var y=A.x(v),m=A.y(v);"buttons"in v&&(p=0|v.buttons),(p!==w||y!==b||m!==h||i(v))&&(w=0|p,b=y||0,h=m||0,a&&a(w,b,h,o))}function r(p){n(0,p)}function s(){(w||b||h||o.shift||o.alt||o.meta||o.control)&&(b=h=0,w=0,o.shift=o.alt=o.control=o.meta=!1,a&&a(0,0,0,o))}function l(p){i(p)&&a&&a(w,b,h,o)}function u(p){A.buttons(p)===0?n(0,p):n(w,p)}function d(p){n(w|A.buttons(p),p)}function c(p){n(w&~A.buttons(p),p)}function x(){t||(t=!0,k.addEventListener("mousemove",u),k.addEventListener("mousedown",d),k.addEventListener("mouseup",c),k.addEventListener("mouseleave",r),k.addEventListener("mouseenter",r),k.addEventListener("mouseout",r),k.addEventListener("mouseover",r),k.addEventListener("blur",s),k.addEventListener("keyup",l),k.addEventListener("keydown",l),k.addEventListener("keypress",l),k!==window&&(window.addEventListener("blur",s),window.addEventListener("keyup",l),window.addEventListener("keydown",l),window.addEventListener("keypress",l)))}x();var g={element:k};return Object.defineProperties(g,{enabled:{get:function(){return t},set:function(p){p?x():t&&(t=!1,k.removeEventListener("mousemove",u),k.removeEventListener("mousedown",d),k.removeEventListener("mouseup",c),k.removeEventListener("mouseleave",r),k.removeEventListener("mouseenter",r),k.removeEventListener("mouseout",r),k.removeEventListener("mouseover",r),k.removeEventListener("blur",s),k.removeEventListener("keyup",l),k.removeEventListener("keydown",l),k.removeEventListener("keypress",l),k!==window&&(window.removeEventListener("blur",s),window.removeEventListener("keyup",l),window.removeEventListener("keydown",l),window.removeEventListener("keypress",l)))},enumerable:!0},buttons:{get:function(){return w},enumerable:!0},x:{get:function(){return b},enumerable:!0},y:{get:function(){return h},enumerable:!0},mods:{get:function(){return o},enumerable:!0}}),g};var A=e(93784)},29128:function(Y){var P={left:0,top:0};Y.exports=function(e,A,k){A=A||e.currentTarget||e.srcElement,Array.isArray(k)||(k=[0,0]);var a,w=e.clientX||0,b=e.clientY||0,h=(a=A)===window||a===document||a===document.body?P:a.getBoundingClientRect();return k[0]=w-h.left,k[1]=b-h.top,k}},93784:function(Y,P){function e(A){return A.target||A.srcElement||window}P.buttons=function(A){if(typeof A=="object"){if("buttons"in A)return A.buttons;if("which"in A){if((k=A.which)===2)return 4;if(k===3)return 2;if(k>0)return 1<<k-1}else if("button"in A){var k;if((k=A.button)===1)return 4;if(k===2)return 2;if(k>=0)return 1<<k}}return 0},P.element=e,P.x=function(A){if(typeof A=="object"){if("offsetX"in A)return A.offsetX;var k=e(A).getBoundingClientRect();return A.clientX-k.left}return 0},P.y=function(A){if(typeof A=="object"){if("offsetY"in A)return A.offsetY;var k=e(A).getBoundingClientRect();return A.clientY-k.top}return 0}},97264:function(Y,P,e){var A=e(23464);Y.exports=function(k,a,w){typeof k=="function"&&(w=!!a,a=k,k=window);var b=A("ex",k),h=function(o){w&&o.preventDefault();var t=o.deltaX||0,i=o.deltaY||0,n=o.deltaZ||0,r=1;switch(o.deltaMode){case 1:r=b;break;case 2:r=window.innerHeight}if(i*=r,n*=r,(t*=r)||i||n)return a(t,i,n,o)};return k.addEventListener("wheel",h),h}},88324:function(Y,P,e){var A;(function(k,a,w){a[k]=a[k]||function(){var b,h,o,t=Object.prototype.toString,i=typeof setImmediate<"u"?function(y){return setImmediate(y)}:setTimeout;try{Object.defineProperty({},"x",{}),b=function(y,m,_,f){return Object.defineProperty(y,m,{value:_,writable:!0,configurable:f!==!1})}}catch{b=function(m,_,f){return m[_]=f,m}}function n(y,m){o.add(y,m),h||(h=i(o.drain))}function r(y){var m,_=typeof y;return y==null||_!="object"&&_!="function"||(m=y.then),typeof m=="function"&&m}function s(){for(var y=0;y<this.chain.length;y++)l(this,this.state===1?this.chain[y].success:this.chain[y].failure,this.chain[y]);this.chain.length=0}function l(y,m,_){var f,S;try{m===!1?_.reject(y.msg):(f=m===!0?y.msg:m.call(void 0,y.msg))===_.promise?_.reject(TypeError("Promise-chain cycle")):(S=r(f))?S.call(f,_.resolve,_.reject):_.resolve(f)}catch(T){_.reject(T)}}function u(y){var m,_=this;if(!_.triggered){_.triggered=!0,_.def&&(_=_.def);try{(m=r(y))?n(function(){var f=new x(_);try{m.call(y,function(){u.apply(f,arguments)},function(){d.apply(f,arguments)})}catch(S){d.call(f,S)}}):(_.msg=y,_.state=1,_.chain.length>0&&n(s,_))}catch(f){d.call(new x(_),f)}}}function d(y){var m=this;m.triggered||(m.triggered=!0,m.def&&(m=m.def),m.msg=y,m.state=2,m.chain.length>0&&n(s,m))}function c(y,m,_,f){for(var S=0;S<m.length;S++)(function(T){y.resolve(m[T]).then(function(E){_(T,E)},f)})(S)}function x(y){this.def=y,this.triggered=!1}function g(y){this.promise=y,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function p(y){if(typeof y!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var m=new g(this);this.then=function(_,f){var S={success:typeof _!="function"||_,failure:typeof f=="function"&&f};return S.promise=new this.constructor(function(T,E){if(typeof T!="function"||typeof E!="function")throw TypeError("Not a function");S.resolve=T,S.reject=E}),m.chain.push(S),m.state!==0&&n(s,m),S.promise},this.catch=function(_){return this.then(void 0,_)};try{y.call(void 0,function(_){u.call(m,_)},function(_){d.call(m,_)})}catch(_){d.call(m,_)}}o=function(){var y,m,_;function f(S,T){this.fn=S,this.self=T,this.next=void 0}return{add:function(S,T){_=new f(S,T),m?m.next=_:y=_,m=_,_=void 0},drain:function(){var S=y;for(y=m=h=void 0;S;)S.fn.call(S.self),S=S.next}}}();var v=b({},"constructor",p,!1);return p.prototype=v,b(v,"__NPO__",0,!1),b(p,"resolve",function(y){return y&&typeof y=="object"&&y.__NPO__===1?y:new this(function(m,_){if(typeof m!="function"||typeof _!="function")throw TypeError("Not a function");m(y)})}),b(p,"reject",function(y){return new this(function(m,_){if(typeof m!="function"||typeof _!="function")throw TypeError("Not a function");_(y)})}),b(p,"all",function(y){var m=this;return t.call(y)!="[object Array]"?m.reject(TypeError("Not an array")):y.length===0?m.resolve([]):new m(function(_,f){if(typeof _!="function"||typeof f!="function")throw TypeError("Not a function");var S=y.length,T=Array(S),E=0;c(m,y,function(C,O){T[C]=O,++E===S&&_(T)},f)})}),b(p,"race",function(y){var m=this;return t.call(y)!="[object Array]"?m.reject(TypeError("Not an array")):new m(function(_,f){if(typeof _!="function"||typeof f!="function")throw TypeError("Not a function");c(m,y,function(S,T){_(T)},f)})}),p}(),Y.exports?Y.exports=a[k]:(A=function(){return a[k]}.call(P,e,P,Y))===void 0||(Y.exports=A)})("Promise",e.g!==void 0?e.g:this)},48816:function(Y){var P=Math.PI,e=b(120);function A(h,o,t,i){return["C",h,o,t,i,t,i]}function k(h,o,t,i,n,r){return["C",h/3+.6666666666666666*t,o/3+.6666666666666666*i,n/3+.6666666666666666*t,r/3+.6666666666666666*i,n,r]}function a(h,o,t,i,n,r,s,l,u,d){if(d)S=d[0],T=d[1],_=d[2],f=d[3];else{var c=w(h,o,-n);h=c.x,o=c.y;var x=(h-(l=(c=w(l,u,-n)).x))/2,g=(o-(u=c.y))/2,p=x*x/(t*t)+g*g/(i*i);p>1&&(t*=p=Math.sqrt(p),i*=p);var v=t*t,y=i*i,m=(r==s?-1:1)*Math.sqrt(Math.abs((v*y-v*g*g-y*x*x)/(v*g*g+y*x*x)));m==1/0&&(m=1);var _=m*t*g/i+(h+l)/2,f=m*-i*x/t+(o+u)/2,S=Math.asin(((o-f)/i).toFixed(9)),T=Math.asin(((u-f)/i).toFixed(9));(S=h<_?P-S:S)<0&&(S=2*P+S),(T=l<_?P-T:T)<0&&(T=2*P+T),s&&S>T&&(S-=2*P),!s&&T>S&&(T-=2*P)}if(Math.abs(T-S)>e){var E=T,C=l,O=u;T=S+e*(s&&T>S?1:-1);var I=a(l=_+t*Math.cos(T),u=f+i*Math.sin(T),t,i,n,0,s,C,O,[T,E,_,f])}var z=Math.tan((T-S)/4),U=4/3*t*z,D=4/3*i*z,B=[2*h-(h+U*Math.sin(S)),2*o-(o-D*Math.cos(S)),l+U*Math.sin(T),u-D*Math.cos(T),l,u];if(d)return B;I&&(B=B.concat(I));for(var Z=0;Z<B.length;){var F=w(B[Z],B[Z+1],n);B[Z++]=F.x,B[Z++]=F.y}return B}function w(h,o,t){return{x:h*Math.cos(t)-o*Math.sin(t),y:h*Math.sin(t)+o*Math.cos(t)}}function b(h){return h*(P/180)}Y.exports=function(h){for(var o,t=[],i=0,n=0,r=0,s=0,l=null,u=null,d=0,c=0,x=0,g=h.length;x<g;x++){var p=h[x],v=p[0];switch(v){case"M":r=p[1],s=p[2];break;case"A":(p=a(d,c,p[1],p[2],b(p[3]),p[4],p[5],p[6],p[7])).unshift("C"),p.length>7&&(t.push(p.splice(0,7)),p.unshift("C"));break;case"S":var y=d,m=c;o!="C"&&o!="S"||(y+=y-i,m+=m-n),p=["C",y,m,p[1],p[2],p[3],p[4]];break;case"T":o=="Q"||o=="T"?(l=2*d-l,u=2*c-u):(l=d,u=c),p=k(d,c,l,u,p[1],p[2]);break;case"Q":l=p[1],u=p[2],p=k(d,c,p[1],p[2],p[3],p[4]);break;case"L":p=A(d,c,p[1],p[2]);break;case"H":p=A(d,c,p[1],c);break;case"V":p=A(d,c,d,p[1]);break;case"Z":p=A(d,c,r,s)}o=v,d=p[p.length-2],c=p[p.length-1],p.length>4?(i=p[p.length-4],n=p[p.length-3]):(i=d,n=c),t.push(p)}return t}},50896:function(Y){var P=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;Y.exports=function(){try{if(!Object.assign)return!1;var k=new String("abc");if(k[5]="de",Object.getOwnPropertyNames(k)[0]==="5")return!1;for(var a={},w=0;w<10;w++)a["_"+String.fromCharCode(w)]=w;if(Object.getOwnPropertyNames(a).map(function(h){return a[h]}).join("")!=="0123456789")return!1;var b={};return"abcdefghijklmnopqrst".split("").forEach(function(h){b[h]=h}),Object.keys(Object.assign({},b)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(k,a){for(var w,b,h=function(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}(k),o=1;o<arguments.length;o++){for(var t in w=Object(arguments[o]))e.call(w,t)&&(h[t]=w[t]);if(P){b=P(w);for(var i=0;i<b.length;i++)A.call(w,b[i])&&(h[b[i]]=w[b[i]])}}return h}},76835:function(Y){var P=function(e){return e!=e};Y.exports=function(e,A){return e===0&&A===0?1/e==1/A:e===A||!(!P(e)||!P(A))}},39896:function(Y,P,e){var A=e(81288),k=e(57916),a=e(76835),w=e(66148),b=e(16408),h=k(w(),Object);A(h,{getPolyfill:w,implementation:a,shim:b}),Y.exports=h},66148:function(Y,P,e){var A=e(76835);Y.exports=function(){return typeof Object.is=="function"?Object.is:A}},16408:function(Y,P,e){var A=e(66148),k=e(81288);Y.exports=function(){var a=A();return k(Object,{is:a},{is:function(){return Object.is!==a}}),a}},32764:function(Y,P,e){var A;if(!Object.keys){var k=Object.prototype.hasOwnProperty,a=Object.prototype.toString,w=e(97344),b=Object.prototype.propertyIsEnumerable,h=!b.call({toString:null},"toString"),o=b.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=function(s){var l=s.constructor;return l&&l.prototype===s},n={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},r=function(){if(typeof window>"u")return!1;for(var s in window)try{if(!n["$"+s]&&k.call(window,s)&&window[s]!==null&&typeof window[s]=="object")try{i(window[s])}catch{return!0}}catch{return!0}return!1}();A=function(s){var l=s!==null&&typeof s=="object",u=a.call(s)==="[object Function]",d=w(s),c=l&&a.call(s)==="[object String]",x=[];if(!l&&!u&&!d)throw new TypeError("Object.keys called on a non-object");var g=o&&u;if(c&&s.length>0&&!k.call(s,0))for(var p=0;p<s.length;++p)x.push(String(p));if(d&&s.length>0)for(var v=0;v<s.length;++v)x.push(String(v));else for(var y in s)g&&y==="prototype"||!k.call(s,y)||x.push(String(y));if(h)for(var m=function(f){if(typeof window>"u"||!r)return i(f);try{return i(f)}catch{return!1}}(s),_=0;_<t.length;++_)m&&t[_]==="constructor"||!k.call(s,t[_])||x.push(t[_]);return x}}Y.exports=A},41820:function(Y,P,e){var A=Array.prototype.slice,k=e(97344),a=Object.keys,w=a?function(h){return a(h)}:e(32764),b=Object.keys;w.shim=function(){if(Object.keys){var h=function(){var o=Object.keys(arguments);return o&&o.length===arguments.length}(1,2);h||(Object.keys=function(o){return k(o)?b(A.call(o)):b(o)})}else Object.keys=w;return Object.keys||w},Y.exports=w},97344:function(Y){var P=Object.prototype.toString;Y.exports=function(e){var A=P.call(e),k=A==="[object Arguments]";return k||(k=A!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&P.call(e.callee)==="[object Function]"),k}},32868:function(Y){function P(k,a){if(typeof k!="string")return[k];var w=[k];typeof a=="string"||Array.isArray(a)?a={brackets:a}:a||(a={});var b=a.brackets?Array.isArray(a.brackets)?a.brackets:[a.brackets]:["{}","[]","()"],h=a.escape||"___",o=!!a.flat;b.forEach(function(i){var n=new RegExp(["\\",i[0],"[^\\",i[0],"\\",i[1],"]*\\",i[1]].join("")),r=[];function s(l,u,d){var c=w.push(l.slice(i[0].length,-i[1].length))-1;return r.push(c),h+c+h}w.forEach(function(l,u){for(var d,c=0;l!=d;)if(d=l,l=l.replace(n,s),c++>1e4)throw Error("References have circular dependency. Please, check them.");w[u]=l}),r=r.reverse(),w=w.map(function(l){return r.forEach(function(u){l=l.replace(new RegExp("(\\"+h+u+"\\"+h+")","g"),i[0]+"$1"+i[1])}),l})});var t=new RegExp("\\"+h+"([0-9]+)\\"+h);return o?w:function i(n,r,s){for(var l,u=[],d=0;l=t.exec(n);){if(d++>1e4)throw Error("Circular references in parenthesis");u.push(n.slice(0,l.index)),u.push(i(r[l[1]],r)),n=n.slice(l.index+l[0].length)}return u.push(n),u}(w[0],w)}function e(k,a){if(a&&a.flat){var w,b=a&&a.escape||"___",h=k[0];if(!h)return"";for(var o=new RegExp("\\"+b+"([0-9]+)\\"+b),t=0;h!=w;){if(t++>1e4)throw Error("Circular references in "+k);w=h,h=h.replace(o,i)}return h}return k.reduce(function n(r,s){return Array.isArray(s)&&(s=s.reduce(n,"")),r+s},"");function i(n,r){if(k[r]==null)throw Error("Reference "+r+"is undefined");return k[r]}}function A(k,a){return Array.isArray(k)?e(k,a):P(k,a)}A.parse=P,A.stringify=e,Y.exports=A},51160:function(Y,P,e){var A=e(55616);Y.exports=function(k){var a;return arguments.length>1&&(k=arguments),typeof k=="string"?k=k.split(/\s/).map(parseFloat):typeof k=="number"&&(k=[k]),k.length&&typeof k[0]=="number"?a=k.length===1?{width:k[0],height:k[0],x:0,y:0}:k.length===2?{width:k[0],height:k[1],x:0,y:0}:{x:k[0],y:k[1],width:k[2]-k[0]||0,height:k[3]-k[1]||0}:k&&(a={x:(k=A(k,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:k.top||0},k.width==null?k.right?a.width=k.right-a.x:a.width=0:a.width=k.width,k.height==null?k.bottom?a.height=k.bottom-a.y:a.height=0:a.height=k.height),a}},21984:function(Y){Y.exports=function(k){var a=[];return k.replace(e,function(w,b,h){var o=b.toLowerCase();for(h=function(t){var i=t.match(A);return i?i.map(Number):[]}(h),o=="m"&&h.length>2&&(a.push([b].concat(h.splice(0,2))),o="l",b=b=="m"?"l":"L");;){if(h.length==P[o])return h.unshift(b),a.push(h);if(h.length<P[o])throw new Error("malformed path data");a.push([b].concat(h.splice(0,P[o])))}}),a};var P={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/gi,A=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},65819:function(Y){Y.exports=function(P,e){e||(e=[0,""]),P=String(P);var A=parseFloat(P,10);return e[0]=A,e[1]=P.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},41984:function(Y,P,e){var A=e(4168);(function(){var k,a,w,b,h,o;typeof performance<"u"&&performance!==null&&performance.now?Y.exports=function(){return performance.now()}:A!=null&&A.hrtime?(Y.exports=function(){return(k()-h)/1e6},a=A.hrtime,b=(k=function(){var t;return 1e9*(t=a())[0]+t[1]})(),o=1e9*A.uptime(),h=b-o):Date.now?(Y.exports=function(){return Date.now()-w},w=Date.now()):(Y.exports=function(){return new Date().getTime()-w},w=new Date().getTime())}).call(this)},55616:function(Y){Y.exports=function(A,k,a){var w,b,h={};if(typeof k=="string"&&(k=e(k)),Array.isArray(k)){var o={};for(b=0;b<k.length;b++)o[k[b]]=!0;k=o}for(w in k)k[w]=e(k[w]);var t={};for(w in k){var i=k[w];if(Array.isArray(i))for(b=0;b<i.length;b++){var n=i[b];if(a&&(t[n]=!0),n in A){if(h[w]=A[n],a)for(var r=b;r<i.length;r++)t[i[r]]=!0;break}}else w in A&&(k[w]&&(h[w]=A[w]),a&&(t[w]=!0))}if(a)for(w in A)t[w]||(h[w]=A[w]);return h};var P={};function e(A){return P[A]?P[A]:(typeof A=="string"&&(A=P[A]=A.split(/\s*,\s*|\s+/)),A)}},61456:function(Y){Y.exports=function(P,e,A,k){var a=P[0],w=P[1],b=!1;A===void 0&&(A=0),k===void 0&&(k=e.length);for(var h=k-A,o=0,t=h-1;o<h;t=o++){var i=e[o+A][0],n=e[o+A][1],r=e[t+A][0],s=e[t+A][1];n>w!=s>w&&a<(r-i)*(w-n)/(s-n)+i&&(b=!b)}return b}},14756:function(Y,P,e){var A,k=e(7688),a=e(28648),w=e(72200),b=e(11403),h=e(82368),o=e(17792),t=!1,i=a();function n(r,s,l){var u=A.segments(r),d=A.segments(s),c=l(A.combine(u,d));return A.polygon(c)}A={buildLog:function(r){return r===!0?t=k():r===!1&&(t=!1),t!==!1&&t.list},epsilon:function(r){return i.epsilon(r)},segments:function(r){var s=w(!0,i,t);return r.regions.forEach(s.addRegion),{segments:s.calculate(r.inverted),inverted:r.inverted}},combine:function(r,s){return{combined:w(!1,i,t).calculate(r.segments,r.inverted,s.segments,s.inverted),inverted1:r.inverted,inverted2:s.inverted}},selectUnion:function(r){return{segments:h.union(r.combined,t),inverted:r.inverted1||r.inverted2}},selectIntersect:function(r){return{segments:h.intersect(r.combined,t),inverted:r.inverted1&&r.inverted2}},selectDifference:function(r){return{segments:h.difference(r.combined,t),inverted:r.inverted1&&!r.inverted2}},selectDifferenceRev:function(r){return{segments:h.differenceRev(r.combined,t),inverted:!r.inverted1&&r.inverted2}},selectXor:function(r){return{segments:h.xor(r.combined,t),inverted:r.inverted1!==r.inverted2}},polygon:function(r){return{regions:b(r.segments,i,t),inverted:r.inverted}},polygonFromGeoJSON:function(r){return o.toPolygon(A,r)},polygonToGeoJSON:function(r){return o.fromPolygon(A,i,r)},union:function(r,s){return n(r,s,A.selectUnion)},intersect:function(r,s){return n(r,s,A.selectIntersect)},difference:function(r,s){return n(r,s,A.selectDifference)},differenceRev:function(r,s){return n(r,s,A.selectDifferenceRev)},xor:function(r,s){return n(r,s,A.selectXor)}},typeof window=="object"&&(window.PolyBool=A),Y.exports=A},7688:function(Y){Y.exports=function(){var P,e=0,A=!1;function k(a,w){return P.list.push({type:a,data:w?JSON.parse(JSON.stringify(w)):void 0}),P}return P={list:[],segmentId:function(){return e++},checkIntersection:function(a,w){return k("check",{seg1:a,seg2:w})},segmentChop:function(a,w){return k("div_seg",{seg:a,pt:w}),k("chop",{seg:a,pt:w})},statusRemove:function(a){return k("pop_seg",{seg:a})},segmentUpdate:function(a){return k("seg_update",{seg:a})},segmentNew:function(a,w){return k("new_seg",{seg:a,primary:w})},segmentRemove:function(a){return k("rem_seg",{seg:a})},tempStatus:function(a,w,b){return k("temp_status",{seg:a,above:w,below:b})},rewind:function(a){return k("rewind",{seg:a})},status:function(a,w,b){return k("status",{seg:a,above:w,below:b})},vert:function(a){return a===A?P:(A=a,k("vert",{x:a}))},log:function(a){return typeof a!="string"&&(a=JSON.stringify(a,!1,"  ")),k("log",{txt:a})},reset:function(){return k("reset")},selected:function(a){return k("selected",{segs:a})},chainStart:function(a){return k("chain_start",{seg:a})},chainRemoveHead:function(a,w){return k("chain_rem_head",{index:a,pt:w})},chainRemoveTail:function(a,w){return k("chain_rem_tail",{index:a,pt:w})},chainNew:function(a,w){return k("chain_new",{pt1:a,pt2:w})},chainMatch:function(a){return k("chain_match",{index:a})},chainClose:function(a){return k("chain_close",{index:a})},chainAddHead:function(a,w){return k("chain_add_head",{index:a,pt:w})},chainAddTail:function(a,w){return k("chain_add_tail",{index:a,pt:w})},chainConnect:function(a,w){return k("chain_con",{index1:a,index2:w})},chainReverse:function(a){return k("chain_rev",{index:a})},chainJoin:function(a,w){return k("chain_join",{index1:a,index2:w})},done:function(){return k("done")}}}},28648:function(Y){Y.exports=function(P){typeof P!="number"&&(P=1e-10);var e={epsilon:function(A){return typeof A=="number"&&(P=A),P},pointAboveOrOnLine:function(A,k,a){var w=k[0],b=k[1],h=a[0],o=a[1],t=A[0];return(h-w)*(A[1]-b)-(o-b)*(t-w)>=-P},pointBetween:function(A,k,a){var w=A[1]-k[1],b=a[0]-k[0],h=A[0]-k[0],o=a[1]-k[1],t=h*b+w*o;return!(t<P||t-(b*b+o*o)>-P)},pointsSameX:function(A,k){return Math.abs(A[0]-k[0])<P},pointsSameY:function(A,k){return Math.abs(A[1]-k[1])<P},pointsSame:function(A,k){return e.pointsSameX(A,k)&&e.pointsSameY(A,k)},pointsCompare:function(A,k){return e.pointsSameX(A,k)?e.pointsSameY(A,k)?0:A[1]<k[1]?-1:1:A[0]<k[0]?-1:1},pointsCollinear:function(A,k,a){var w=A[0]-k[0],b=A[1]-k[1],h=k[0]-a[0],o=k[1]-a[1];return Math.abs(w*o-h*b)<P},linesIntersect:function(A,k,a,w){var b=k[0]-A[0],h=k[1]-A[1],o=w[0]-a[0],t=w[1]-a[1],i=b*t-h*o;if(Math.abs(i)<P)return!1;var n=A[0]-a[0],r=A[1]-a[1],s=(o*r-t*n)/i,l=(b*r-h*n)/i,u={alongA:0,alongB:0,pt:[A[0]+s*b,A[1]+s*h]};return u.alongA=s<=-P?-2:s<P?-1:s-1<=-P?0:s-1<P?1:2,u.alongB=l<=-P?-2:l<P?-1:l-1<=-P?0:l-1<P?1:2,u},pointInsideRegion:function(A,k){for(var a=A[0],w=A[1],b=k[k.length-1][0],h=k[k.length-1][1],o=!1,t=0;t<k.length;t++){var i=k[t][0],n=k[t][1];n-w>P!=h-w>P&&(b-i)*(w-n)/(h-n)+i-a>P&&(o=!o),b=i,h=n}return o}};return e}},17792:function(Y){var P={toPolygon:function(e,A){function k(b){if(b.length<=0)return e.segments({inverted:!1,regions:[]});function h(i){var n=i.slice(0,i.length-1);return e.segments({inverted:!1,regions:[n]})}for(var o=h(b[0]),t=1;t<b.length;t++)o=e.selectDifference(e.combine(o,h(b[t])));return o}if(A.type==="Polygon")return e.polygon(k(A.coordinates));if(A.type==="MultiPolygon"){for(var a=e.segments({inverted:!1,regions:[]}),w=0;w<A.coordinates.length;w++)a=e.selectUnion(e.combine(a,k(A.coordinates[w])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,A,k){function a(l,u){return A.pointInsideRegion([.5*(l[0][0]+l[1][0]),.5*(l[0][1]+l[1][1])],u)}function w(l){return{region:l,children:[]}}k=e.polygon(e.segments(k));var b=w(null);function h(l,u){for(var d=0;d<l.children.length;d++)if(a(u,(x=l.children[d]).region))return void h(x,u);var c=w(u);for(d=0;d<l.children.length;d++){var x;a((x=l.children[d]).region,u)&&(c.children.push(x),l.children.splice(d,1),d--)}l.children.push(c)}for(var o=0;o<k.regions.length;o++){var t=k.regions[o];t.length<3||h(b,t)}function i(l,u){for(var d=0,c=l[l.length-1][0],x=l[l.length-1][1],g=[],p=0;p<l.length;p++){var v=l[p][0],y=l[p][1];g.push([v,y]),d+=y*c-v*x,c=v,x=y}return d<0!==u&&g.reverse(),g.push([g[0][0],g[0][1]]),g}var n=[];function r(l){var u=[i(l.region,!1)];n.push(u);for(var d=0;d<l.children.length;d++)u.push(s(l.children[d]))}function s(l){for(var u=0;u<l.children.length;u++)r(l.children[u]);return i(l.region,!0)}for(o=0;o<b.children.length;o++)r(b.children[o]);return n.length<=0?{type:"Polygon",coordinates:[]}:n.length==1?{type:"Polygon",coordinates:n[0]}:{type:"MultiPolygon",coordinates:n}}};Y.exports=P},72200:function(Y,P,e){var A=e(48088);Y.exports=function(k,a,w){function b(r,s,l){return{id:w?w.segmentId():-1,start:r,end:s,myFill:{above:l.myFill.above,below:l.myFill.below},otherFill:null}}var h=A.create();function o(r,s){h.insertBefore(r,function(l){return u=r.isStart,d=r.pt,c=s,x=l.isStart,g=l.pt,p=l.other.pt,((v=a.pointsCompare(d,g))!==0?v:a.pointsSame(c,p)?0:u!==x?u?1:-1:a.pointAboveOrOnLine(c,x?g:p,x?p:g)?1:-1)<0;var u,d,c,x,g,p,v})}function t(r,s){var l=function(u,d){var c=A.node({isStart:!0,pt:u.start,seg:u,primary:d,other:null,status:null});return o(c,u.end),c}(r,s);return function(u,d,c){var x=A.node({isStart:!1,pt:d.end,seg:d,primary:c,other:u,status:null});u.other=x,o(x,u.pt)}(l,r,s),l}function i(r,s){var l=b(s,r.seg.end,r.seg);return function(u,d){w&&w.segmentChop(u.seg,d),u.other.remove(),u.seg.end=d,u.other.pt=d,o(u.other,u.pt)}(r,s),t(l,r.primary)}function n(r,s){var l=A.create();function u(E){return l.findTransition(function(C){var O,I,z,U,D,B;return O=E,I=C.ev,z=O.seg.start,U=O.seg.end,D=I.seg.start,B=I.seg.end,(a.pointsCollinear(z,D,B)?a.pointsCollinear(U,D,B)||a.pointAboveOrOnLine(U,D,B)?1:-1:a.pointAboveOrOnLine(z,D,B)?1:-1)>0})}function d(E,C){var O=E.seg,I=C.seg,z=O.start,U=O.end,D=I.start,B=I.end;w&&w.checkIntersection(O,I);var Z=a.linesIntersect(z,U,D,B);if(Z===!1){if(!a.pointsCollinear(z,U,D)||a.pointsSame(z,B)||a.pointsSame(U,D))return!1;var F=a.pointsSame(z,D),j=a.pointsSame(U,B);if(F&&j)return C;var V=!F&&a.pointBetween(z,D,B),te=!j&&a.pointBetween(U,D,B);if(F)return te?i(C,U):i(E,B),C;V&&(j||(te?i(C,U):i(E,B)),i(C,z))}else Z.alongA===0&&(Z.alongB===-1?i(E,D):Z.alongB===0?i(E,Z.pt):Z.alongB===1&&i(E,B)),Z.alongB===0&&(Z.alongA===-1?i(C,z):Z.alongA===0?i(C,Z.pt):Z.alongA===1&&i(C,U));return!1}for(var c=[];!h.isEmpty();){var x=h.getHead();if(w&&w.vert(x.pt[0]),x.isStart){let E=function(){if(p){var C=d(x,p);if(C)return C}return!!v&&d(x,v)};var T=E;w&&w.segmentNew(x.seg,x.primary);var g=u(x),p=g.before?g.before.ev:null,v=g.after?g.after.ev:null;w&&w.tempStatus(x.seg,!!p&&p.seg,!!v&&v.seg);var y,m,_=E();if(_&&(k?(m=x.seg.myFill.below===null||x.seg.myFill.above!==x.seg.myFill.below)&&(_.seg.myFill.above=!_.seg.myFill.above):_.seg.otherFill=x.seg.myFill,w&&w.segmentUpdate(_.seg),x.other.remove(),x.remove()),h.getHead()!==x){w&&w.rewind(x.seg);continue}k?(m=x.seg.myFill.below===null||x.seg.myFill.above!==x.seg.myFill.below,x.seg.myFill.below=v?v.seg.myFill.above:r,x.seg.myFill.above=m?!x.seg.myFill.below:x.seg.myFill.below):x.seg.otherFill===null&&(y=v?x.primary===v.primary?v.seg.otherFill.above:v.seg.myFill.above:x.primary?s:r,x.seg.otherFill={above:y,below:y}),w&&w.status(x.seg,!!p&&p.seg,!!v&&v.seg),x.other.status=g.insert(A.node({ev:x}))}else{var f=x.status;if(f===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(f.prev)&&l.exists(f.next)&&d(f.prev.ev,f.next.ev),w&&w.statusRemove(f.ev.seg),f.remove(),!x.primary){var S=x.seg.myFill;x.seg.myFill=x.seg.otherFill,x.seg.otherFill=S}c.push(x.seg)}h.getHead().remove()}return w&&w.done(),c}return k?{addRegion:function(r){for(var s,l,u,d=r[r.length-1],c=0;c<r.length;c++){s=d,d=r[c];var x=a.pointsCompare(s,d);x!==0&&t((l=x<0?s:d,u=x<0?d:s,{id:w?w.segmentId():-1,start:l,end:u,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(r){return n(r,!1)}}:{calculate:function(r,s,l,u){return r.forEach(function(d){t(b(d.start,d.end,d),!0)}),l.forEach(function(d){t(b(d.start,d.end,d),!1)}),n(s,u)}}}},48088:function(Y){Y.exports={create:function(){var P={root:{root:!0,next:null},exists:function(e){return e!==null&&e!==P.root},isEmpty:function(){return P.root.next===null},getHead:function(){return P.root.next},insertBefore:function(e,A){for(var k=P.root,a=P.root.next;a!==null;){if(A(a))return e.prev=a.prev,e.next=a,a.prev.next=e,void(a.prev=e);k=a,a=a.next}k.next=e,e.prev=k,e.next=null},findTransition:function(e){for(var A=P.root,k=P.root.next;k!==null&&!e(k);)A=k,k=k.next;return{before:A===P.root?null:A,after:k,insert:function(a){return a.prev=A,a.next=k,A.next=a,k!==null&&(k.prev=a),a}}}};return P},node:function(P){return P.prev=null,P.next=null,P.remove=function(){P.prev.next=P.next,P.next&&(P.next.prev=P.prev),P.prev=null,P.next=null},P}}},11403:function(Y){Y.exports=function(P,e,A){var k=[],a=[];return P.forEach(function(w){var b=w.start,h=w.end;if(e.pointsSame(b,h))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{A&&A.chainStart(w);for(var o={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},i=o,n=0;n<k.length;n++){var r=(c=k[n])[0],s=(c[1],c[c.length-1]);if(c[c.length-2],e.pointsSame(r,b)){if(f(n,!0,!0))break}else if(e.pointsSame(r,h)){if(f(n,!0,!1))break}else if(e.pointsSame(s,b)){if(f(n,!1,!0))break}else if(e.pointsSame(s,h)&&f(n,!1,!1))break}if(i===o)return k.push([b,h]),void(A&&A.chainNew(b,h));if(i===t){A&&A.chainMatch(o.index);var l=o.index,u=o.matches_pt1?h:b,d=o.matches_head,c=k[l],x=d?c[0]:c[c.length-1],g=d?c[1]:c[c.length-2],p=d?c[c.length-1]:c[0],v=d?c[c.length-2]:c[1];return e.pointsCollinear(g,x,u)&&(d?(A&&A.chainRemoveHead(o.index,u),c.shift()):(A&&A.chainRemoveTail(o.index,u),c.pop()),x=g),e.pointsSame(p,u)?(k.splice(l,1),e.pointsCollinear(v,p,x)&&(d?(A&&A.chainRemoveTail(o.index,x),c.pop()):(A&&A.chainRemoveHead(o.index,x),c.shift())),A&&A.chainClose(o.index),void a.push(c)):void(d?(A&&A.chainAddHead(o.index,u),c.unshift(u)):(A&&A.chainAddTail(o.index,u),c.push(u)))}var y=o.index,m=t.index;A&&A.chainConnect(y,m);var _=k[y].length<k[m].length;o.matches_head?t.matches_head?_?(S(y),T(y,m)):(S(m),T(m,y)):T(m,y):t.matches_head?T(y,m):_?(S(y),T(m,y)):(S(m),T(y,m))}function f(E,C,O){return i.index=E,i.matches_head=C,i.matches_pt1=O,i===o?(i=t,!1):(i=null,!0)}function S(E){A&&A.chainReverse(E),k[E].reverse()}function T(E,C){var O=k[E],I=k[C],z=O[O.length-1],U=O[O.length-2],D=I[0],B=I[1];e.pointsCollinear(U,z,D)&&(A&&A.chainRemoveTail(E,z),O.pop(),z=U),e.pointsCollinear(z,D,B)&&(A&&A.chainRemoveHead(C,D),I.shift()),A&&A.chainJoin(E,C),k[E]=O.concat(I),k.splice(C,1)}}),a}},82368:function(Y){function P(A,k,a){var w=[];return A.forEach(function(b){var h=(b.myFill.above?8:0)+(b.myFill.below?4:0)+(b.otherFill&&b.otherFill.above?2:0)+(b.otherFill&&b.otherFill.below?1:0);k[h]!==0&&w.push({id:a?a.segmentId():-1,start:b.start,end:b.end,myFill:{above:k[h]===1,below:k[h]===2},otherFill:null})}),a&&a.selected(w),w}var e={union:function(A,k){return P(A,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],k)},intersect:function(A,k){return P(A,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],k)},difference:function(A,k){return P(A,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],k)},differenceRev:function(A,k){return P(A,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],k)},xor:function(A,k){return P(A,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],k)}};Y.exports=e},9696:function(Y,P,e){var A=e(29936).Transform,k=e(55619);function a(){A.call(this,{readableObjectMode:!0})}function w(b,h,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=b,h&&(this.code=h),o&&(this.statusCode=o)}a.prototype=Object.create(A.prototype),a.prototype.constructor=a,k(a.prototype),P.gS=function(b,h,o){for(var t=h,i=0;i<o.length;)if(b[t++]!==o[i++])return!1;return!0},P.wR=function(b,h){var o=[],t=0;if(h&&h==="hex")for(;t<b.length;)o.push(parseInt(b.slice(t,t+2),16)),t+=2;else for(;t<b.length;t++)o.push(255&b.charCodeAt(t));return o},P.Bz=function(b,h){return b[h]|b[h+1]<<8},P.eW=function(b,h){return b[h+1]|b[h]<<8},P.st=function(b,h){return b[h]|b[h+1]<<8|b[h+2]<<16|16777216*b[h+3]},P.eI=function(b,h){return b[h+3]|b[h+2]<<8|b[h+1]<<16|16777216*b[h]},w.prototype=Object.create(Error.prototype),w.prototype.constructor=w},11688:function(Y){function P(k,a){var w=new Error(k);return w.code=a,w}function e(k){try{return decodeURIComponent(escape(k))}catch{return k}}function A(k,a,w){this.input=k.subarray(a,w),this.start=a;var b=String.fromCharCode.apply(null,this.input.subarray(0,4));if(b!=="II*\0"&&b!=="MM\0*")throw P("invalid TIFF signature","EBADDATA");this.big_endian=b[0]==="M"}A.prototype.each=function(k){this.aborted=!1;var a=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:a}];this.ifds_to_read.length>0&&!this.aborted;){var w=this.ifds_to_read.shift();w.offset&&this.scan_ifd(w.id,w.offset,k)}},A.prototype.read_uint16=function(k){var a=this.input;if(k+2>a.length)throw P("unexpected EOF","EBADDATA");return this.big_endian?256*a[k]+a[k+1]:a[k]+256*a[k+1]},A.prototype.read_uint32=function(k){var a=this.input;if(k+4>a.length)throw P("unexpected EOF","EBADDATA");return this.big_endian?16777216*a[k]+65536*a[k+1]+256*a[k+2]+a[k+3]:a[k]+256*a[k+1]+65536*a[k+2]+16777216*a[k+3]},A.prototype.is_subifd_link=function(k,a){return k===0&&a===34665||k===0&&a===34853||k===34665&&a===40965},A.prototype.exif_format_length=function(k){switch(k){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},A.prototype.exif_format_read=function(k,a){var w;switch(k){case 1:case 2:return this.input[a];case 6:return(w=this.input[a])|33554430*(128&w);case 3:return this.read_uint16(a);case 8:return(w=this.read_uint16(a))|131070*(32768&w);case 4:return this.read_uint32(a);case 9:return 0|this.read_uint32(a);default:return null}},A.prototype.scan_ifd=function(k,a,w){var b=this.read_uint16(a);a+=2;for(var h=0;h<b;h++){var o=this.read_uint16(a),t=this.read_uint16(a+2),i=this.read_uint32(a+4),n=this.exif_format_length(t),r=i*n,s=r<=4?a+8:this.read_uint32(a+8),l=!1;if(s+r>this.input.length)throw P("unexpected EOF","EBADDATA");for(var u=[],d=s,c=0;c<i;c++,d+=n){var x=this.exif_format_read(t,d);if(x===null){u=null;break}u.push(x)}if(Array.isArray(u)&&t===2&&(u=e(String.fromCharCode.apply(null,u)))&&u[u.length-1]==="\0"&&(u=u.slice(0,-1)),this.is_subifd_link(k,o)&&Array.isArray(u)&&Number.isInteger(u[0])&&u[0]>0&&(this.ifds_to_read.push({id:o,offset:u[0]}),l=!0),w({is_big_endian:this.big_endian,ifd:k,tag:o,format:t,count:i,entry_offset:a+this.start,data_length:r,data_offset:s+this.start,value:u,is_subifd_link:l})===!1)return void(this.aborted=!0);a+=12}k===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(a)})},Y.exports.ExifParser=A,Y.exports.get_orientation=function(k){var a=0;try{return new A(k,0,k.length).each(function(w){if(w.ifd===0&&w.tag===274&&Array.isArray(w.value))return a=w.value[0],!1}),a}catch{return-1}}},44600:function(Y,P,e){var A=e(9696).eW,k=e(9696).eI;function a(i,n){if(i.length<4+n)return null;var r=k(i,n);return i.length<r+n||r<8?null:{boxtype:String.fromCharCode.apply(null,i.slice(n+4,n+8)),data:i.slice(n+8,n+r),end:n+r}}function w(i,n){for(var r=0;;){var s=a(i,r);if(!s)break;switch(s.boxtype){case"ispe":n.sizes.push({width:k(s.data,4),height:k(s.data,8)});break;case"irot":n.transforms.push({type:"irot",value:3&s.data[0]});break;case"imir":n.transforms.push({type:"imir",value:1&s.data[0]})}r=s.end}}function b(i,n,r){for(var s=0,l=0;l<r;l++)s=256*s+(i[n+l]||0);return s}function h(i,n){for(var r=i[4]>>4&15,s=15&i[4],l=i[5]>>4&15,u=A(i,6),d=8,c=0;c<u;c++){var x=A(i,d),g=A(i,d+=2),p=b(i,d+=2,l),v=A(i,d+=l);if(d+=2,g===0&&v===1){var y=b(i,d,r),m=b(i,d+r,s);n.item_loc[x]={length:m,offset:y+p}}d+=v*(r+s)}}function o(i,n){for(var r=A(i,4),s=6,l=0;l<r;l++){var u=a(i,s);if(!u)break;if(u.boxtype==="infe"){for(var d=A(u.data,4),c="",x=8;x<u.data.length&&u.data[x];x++)c+=String.fromCharCode(u.data[x]);n.item_inf[c]=d}s=u.end}}function t(i,n){for(var r=0;;){var s=a(i,r);if(!s)break;s.boxtype==="ipco"&&w(s.data,n),r=s.end}}Y.exports.unbox=a,Y.exports.readSizeFromMeta=function(i){var n={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function(x,g){for(var p=4;;){var v=a(x,p);if(!v)break;v.boxtype==="iprp"&&t(v.data,g),v.boxtype==="iloc"&&h(v.data,g),v.boxtype==="iinf"&&o(v.data,g),p=v.end}}(i,n),n.sizes.length){var r,s,l,u=(s=(r=n.sizes).reduce(function(x,g){return x.width>g.width||x.width===g.width&&x.height>g.height?x:g}),l=r.reduce(function(x,g){return x.height>g.height||x.height===g.height&&x.width>g.width?x:g}),s.width>l.height||s.width===l.height&&s.height>l.width?s:l),d=1;n.transforms.forEach(function(x){var g={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},p={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(x.type==="imir"&&(d=x.value===0?p[d]:g[d=g[d=p[d]]]),x.type==="irot")for(var v=0;v<x.value;v++)d=g[d]});var c=null;return n.item_inf.Exif&&(c=n.item_loc[n.item_inf.Exif]),{width:u.width,height:u.height,orientation:n.transforms.length?d:null,variants:n.sizes,exif_location:c}}},Y.exports.getMimeType=function(i){var n=String.fromCharCode.apply(null,i.slice(0,4)),r={};r[n]=!0;for(var s=8;s<i.length;s+=4)r[String.fromCharCode.apply(null,i.slice(s,s+4))]=!0;if(r.mif1||r.msf1||r.miaf)return n==="avif"||n==="avis"||n==="avio"?{type:"avif",mime:"image/avif"}:n==="heic"||n==="heix"?{type:"heic",mime:"image/heic"}:n==="hevc"||n==="hevx"?{type:"heic",mime:"image/heic-sequence"}:r.avif||r.avis?{type:"avif",mime:"image/avif"}:r.heic||r.heix||r.hevc||r.hevx||r.heis?r.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},40528:function(Y,P,e){var A=e(9696).wR,k=e(9696).gS,a=e(9696).eI,w=e(44600),b=e(11688),h=A("ftyp");Y.exports=function(o){if(k(o,4,h)){var t=w.unbox(o,0);if(t){var i=w.getMimeType(t.data);if(i){for(var n,r=t.end;;){var s=w.unbox(o,r);if(!s)break;if(r=s.end,s.boxtype==="mdat")return;if(s.boxtype==="meta"){n=s.data;break}}if(n){var l=w.readSizeFromMeta(n);if(l){var u={width:l.width,height:l.height,type:i.type,mime:i.mime,wUnits:"px",hUnits:"px"};if(l.variants.length>1&&(u.variants=l.variants),l.orientation&&(u.orientation=l.orientation),l.exif_location&&l.exif_location.offset+l.exif_location.length<=o.length){var d=a(o,l.exif_location.offset),c=o.slice(l.exif_location.offset+d+4,l.exif_location.offset+l.exif_location.length),x=b.get_orientation(c);x>0&&(u.orientation=x)}return u}}}}}}},38728:function(Y,P,e){var A=e(9696).wR,k=e(9696).gS,a=e(9696).Bz,w=A("BM");Y.exports=function(b){if(!(b.length<26)&&k(b,0,w))return{width:a(b,18),height:a(b,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},5588:function(Y,P,e){var A=e(9696).wR,k=e(9696).gS,a=e(9696).Bz,w=A("GIF87a"),b=A("GIF89a");Y.exports=function(h){if(!(h.length<10)&&(k(h,0,w)||k(h,0,b)))return{width:a(h,6),height:a(h,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},41924:function(Y,P,e){var A=e(9696).Bz;Y.exports=function(k){var a=A(k,0),w=A(k,2),b=A(k,4);if(a===0&&w===1&&b){for(var h=[],o={width:0,height:0},t=0;t<b;t++){var i=k[6+16*t]||256,n=k[6+16*t+1]||256,r={width:i,height:n};h.push(r),(i>o.width||n>o.height)&&(o=r)}return{width:o.width,height:o.height,variants:h,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},87968:function(Y,P,e){var A=e(9696).eW,k=e(9696).wR,a=e(9696).gS,w=e(11688),b=k("Exif\0\0");Y.exports=function(h){if(!(h.length<2)&&h[0]===255&&h[1]===216&&h[2]===255)for(var o=2;;){for(;;){if(h.length-o<2)return;if(h[o++]===255)break}for(var t,i,n=h[o++];n===255;)n=h[o++];if(208<=n&&n<=217||n===1)t=0;else{if(!(192<=n&&n<=254)||h.length-o<2)return;t=A(h,o)-2,o+=2}if(n===217||n===218)return;if(n===225&&t>=10&&a(h,o,b)&&(i=w.get_orientation(h.slice(o+6,o+t))),t>=5&&192<=n&&n<=207&&n!==196&&n!==200&&n!==204){if(h.length-o<t)return;var r={width:A(h,o+3),height:A(h,o+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return i>0&&(r.orientation=i),r}o+=t}}},37276:function(Y,P,e){var A=e(9696).wR,k=e(9696).gS,a=e(9696).eI,w=A(`\x89PNG\r

`),b=A("IHDR");Y.exports=function(h){if(!(h.length<24)&&k(h,0,w)&&k(h,12,b))return{width:a(h,16),height:a(h,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},90328:function(Y,P,e){var A=e(9696).wR,k=e(9696).gS,a=e(9696).eI,w=A("8BPS\0");Y.exports=function(b){if(!(b.length<22)&&k(b,0,w))return{width:a(b,18),height:a(b,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},16024:function(Y){function P(o){return typeof o=="number"&&isFinite(o)&&o>0}var e=/<[-_.:a-zA-Z0-9][^>]*>/,A=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,k=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,a=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,w=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,b=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function h(o){return b.test(o)?o.match(b)[0]:"px"}Y.exports=function(o){if(function(p){var v,y=0,m=p.length;for(p[0]===239&&p[1]===187&&p[2]===191&&(y=3);y<m&&((v=p[y])===32||v===9||v===13||v===10);)y++;return y!==m&&p[y]===60}(o)){for(var t="",i=0;i<o.length;i++)t+=String.fromCharCode(o[i]);var n=(t.match(e)||[""])[0];if(A.test(n)){var r=function(p){var v=p.match(k),y=p.match(a),m=p.match(w);return{width:v&&(v[1]||v[2]),height:y&&(y[1]||y[2]),viewbox:m&&(m[1]||m[2])}}(n),s=parseFloat(r.width),l=parseFloat(r.height);if(r.width&&r.height)return!P(s)||!P(l)?void 0:{width:s,height:l,type:"svg",mime:"image/svg+xml",wUnits:h(r.width),hUnits:h(r.height)};var u=(r.viewbox||"").split(" "),d={width:u[2],height:u[3]},c=parseFloat(d.width),x=parseFloat(d.height);if(P(c)&&P(x)&&h(d.width)===h(d.height)){var g=c/x;return r.width?P(s)?{width:s,height:s/g,type:"svg",mime:"image/svg+xml",wUnits:h(r.width),hUnits:h(r.width)}:void 0:r.height?P(l)?{width:l*g,height:l,type:"svg",mime:"image/svg+xml",wUnits:h(r.height),hUnits:h(r.height)}:void 0:{width:c,height:x,type:"svg",mime:"image/svg+xml",wUnits:h(d.width),hUnits:h(d.height)}}}}}},98792:function(Y,P,e){var A=e(9696).wR,k=e(9696).gS,a=e(9696).Bz,w=e(9696).eW,b=e(9696).st,h=e(9696).eI,o=A("II*\0"),t=A("MM\0*");function i(s,l,u){return u?w(s,l):a(s,l)}function n(s,l,u){return u?h(s,l):b(s,l)}function r(s,l,u){var d=i(s,l+2,u);return n(s,l+4,u)!==1||d!==3&&d!==4?null:d===3?i(s,l+8,u):n(s,l+8,u)}Y.exports=function(s){if(!(s.length<8)&&(k(s,0,o)||k(s,0,t))){var l=s[0]===77,u=n(s,4,l)-8;if(!(u<0)){var d=u+8;if(!(s.length-d<2)){var c=12*i(s,d+0,l);if(!(c<=0||(d+=2,s.length-d<c))){var x,g,p,v;for(x=0;x<c;x+=12)(v=i(s,d+x,l))===256?g=r(s,d+x,l):v===257&&(p=r(s,d+x,l));return g&&p?{width:g,height:p,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}:void 0}}}}}},20704:function(Y,P,e){var A=e(9696).wR,k=e(9696).gS,a=e(9696).Bz,w=e(9696).st,b=e(11688),h=A("RIFF"),o=A("WEBP");function t(r,s){if(r[s+3]===157&&r[s+4]===1&&r[s+5]===42)return{width:16383&a(r,s+6),height:16383&a(r,s+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function i(r,s){if(r[s]===47){var l=w(r,s+1);return{width:1+(16383&l),height:1+(l>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function n(r,s){return{width:1+(r[s+6]<<16|r[s+5]<<8|r[s+4]),height:1+(r[s+9]<<s|r[s+8]<<8|r[s+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}Y.exports=function(r){if(!(r.length<16)&&(k(r,0,h)||k(r,8,o))){var s=12,l=null,u=0,d=w(r,4)+8;if(!(d>r.length)){for(;s+8<d;)if(r[s]!==0){var c=String.fromCharCode.apply(null,r.slice(s,s+4)),x=w(r,s+4);c==="VP8 "&&x>=10?l=l||t(r,s+8):c==="VP8L"&&x>=9?l=l||i(r,s+8):c==="VP8X"&&x>=10?l=l||n(r,s+8):c==="EXIF"&&(u=b.get_orientation(r.slice(s+8,s+8+x)),s=1/0),s+=8+x}else s++;if(l)return u>0&&(l.orientation=u),l}}}},87480:function(Y,P,e){Y.exports={avif:e(40528),bmp:e(38728),gif:e(5588),ico:e(41924),jpeg:e(87968),png:e(37276),psd:e(90328),svg:e(16024),tiff:e(98792),webp:e(20704)}},19480:function(Y,P,e){var A=e(87480);Y.exports=function(k){return function(a){for(var w=Object.keys(A),b=0;b<w.length;b++){var h=A[w[b]](a);if(h)return h}return null}(k)},Y.exports.parsers=A},4168:function(Y){var P,e,A=Y.exports={};function k(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function w(l){if(P===setTimeout)return setTimeout(l,0);if((P===k||!P)&&setTimeout)return P=setTimeout,setTimeout(l,0);try{return P(l,0)}catch{try{return P.call(null,l,0)}catch{return P.call(this,l,0)}}}(function(){try{P=typeof setTimeout=="function"?setTimeout:k}catch{P=k}try{e=typeof clearTimeout=="function"?clearTimeout:a}catch{e=a}})();var b,h=[],o=!1,t=-1;function i(){o&&b&&(o=!1,b.length?h=b.concat(h):t=-1,h.length&&n())}function n(){if(!o){var l=w(i);o=!0;for(var u=h.length;u;){for(b=h,h=[];++t<u;)b&&b[t].run();t=-1,u=h.length}b=null,o=!1,function(d){if(e===clearTimeout)return clearTimeout(d);if((e===a||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(d);try{return e(d)}catch{try{return e.call(null,d)}catch{return e.call(this,d)}}}(l)}}function r(l,u){this.fun=l,this.array=u}function s(){}A.nextTick=function(l){var u=new Array(arguments.length-1);if(arguments.length>1)for(var d=1;d<arguments.length;d++)u[d-1]=arguments[d];h.push(new r(l,u)),h.length!==1||o||w(n)},r.prototype.run=function(){this.fun.apply(null,this.array)},A.title="browser",A.browser=!0,A.env={},A.argv=[],A.version="",A.versions={},A.on=s,A.addListener=s,A.once=s,A.off=s,A.removeListener=s,A.removeAllListeners=s,A.emit=s,A.prependListener=s,A.prependOnceListener=s,A.listeners=function(l){return[]},A.binding=function(l){throw new Error("process.binding is not supported")},A.cwd=function(){return"/"},A.chdir=function(l){throw new Error("process.chdir is not supported")},A.umask=function(){return 0}},3951:function(Y,P,e){for(var A=e(41984),k=typeof window>"u"?e.g:window,a=["moz","webkit"],w="AnimationFrame",b=k["request"+w],h=k["cancel"+w]||k["cancelRequest"+w],o=0;!b&&o<a.length;o++)b=k[a[o]+"Request"+w],h=k[a[o]+"Cancel"+w]||k[a[o]+"CancelRequest"+w];if(!b||!h){var t=0,i=0,n=[];b=function(r){if(n.length===0){var s=A(),l=Math.max(0,16.666666666666668-(s-t));t=l+s,setTimeout(function(){var u=n.slice(0);n.length=0;for(var d=0;d<u.length;d++)if(!u[d].cancelled)try{u[d].callback(t)}catch(c){setTimeout(function(){throw c},0)}},Math.round(l))}return n.push({handle:++i,callback:r,cancelled:!1}),i},h=function(r){for(var s=0;s<n.length;s++)n[s].handle===r&&(n[s].cancelled=!0)}}Y.exports=function(r){return b.call(k,r)},Y.exports.cancel=function(){h.apply(k,arguments)},Y.exports.polyfill=function(r){r||(r=k),r.requestAnimationFrame=b,r.cancelAnimationFrame=h}},24544:function(Y,P,e){var A=e(76752),k=e(72160),a=e(45223),w=e(55616),b=e(50896),h=e(47520),o=e(37816),t=o.float32,i=o.fract32;Y.exports=function(r,s){if(typeof r=="function"?(s||(s={}),s.regl=r):s=r,s.length&&(s.positions=s),!(r=s.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var l,u,d,c,x,g,p=r._gl,v={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},y=[];return c=r.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),u=r.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=r.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),x=r.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),g=r.buffer({usage:"static",type:"float",data:n}),S(s),l=r({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:r.prop("range"),lineWidth:r.prop("lineWidth"),capSize:r.prop("capSize"),opacity:r.prop("opacity"),scale:r.prop("scale"),translate:r.prop("translate"),scaleFract:r.prop("scaleFract"),translateFract:r.prop("translateFract"),viewport:function(E,C){return[C.viewport.x,C.viewport.y,E.viewportWidth,E.viewportHeight]}},attributes:{color:{buffer:c,offset:function(E,C){return 4*C.offset},divisor:1},position:{buffer:u,offset:function(E,C){return 8*C.offset},divisor:1},positionFract:{buffer:d,offset:function(E,C){return 8*C.offset},divisor:1},error:{buffer:x,offset:function(E,C){return 16*C.offset},divisor:1},direction:{buffer:g,stride:24,offset:0},lineOffset:{buffer:g,stride:24,offset:8},capOffset:{buffer:g,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:r.prop("viewport")},viewport:r.prop("viewport"),stencil:!1,instances:r.prop("count"),count:n.length}),b(m,{update:S,draw:_,destroy:T,regl:r,gl:p,canvas:p.canvas,groups:y}),m;function m(E){E?S(E):E===null&&T(),_()}function _(E){if(typeof E=="number")return f(E);E&&!Array.isArray(E)&&(E=[E]),r._refresh(),y.forEach(function(C,O){C&&(E&&(E[O]?C.draw=!0:C.draw=!1),C.draw?f(O):C.draw=!0)})}function f(E){typeof E=="number"&&(E=y[E]),E!=null&&E&&E.count&&E.color&&E.opacity&&E.positions&&E.positions.length>1&&(E.scaleRatio=[E.scale[0]*E.viewport.width,E.scale[1]*E.viewport.height],l(E),E.after&&E.after(E))}function S(E){if(E){E.length!=null?typeof E[0]=="number"&&(E=[{positions:E}]):Array.isArray(E)||(E=[E]);var C=0,O=0;if(m.groups=y=E.map(function(F,j){var V=y[j];return F&&(typeof F=="function"?F={after:F}:typeof F[0]=="number"&&(F={positions:F}),F=w(F,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),V||(y[j]=V={id:j,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},F=b({},v,F)),a(V,F,[{lineWidth:function(te){return .5*+te},capSize:function(te){return .5*+te},opacity:parseFloat,errors:function(te){return te=h(te),O+=te.length,te},positions:function(te,Q){return te=h(te,"float64"),Q.count=Math.floor(te.length/2),Q.bounds=A(te,2),Q.offset=C,C+=Q.count,te}},{color:function(te,Q){var $=Q.count;if(te||(te="transparent"),!Array.isArray(te)||typeof te[0]=="number"){var G=te;te=Array($);for(var X=0;X<$;X++)te[X]=G}if(te.length<$)throw Error("Not enough colors");for(var J=new Uint8Array(4*$),ne=0;ne<$;ne++){var ie=k(te[ne],"uint8");J.set(ie,4*ne)}return J},range:function(te,Q,$){var G=Q.bounds;return te||(te=G),Q.scale=[1/(te[2]-te[0]),1/(te[3]-te[1])],Q.translate=[-te[0],-te[1]],Q.scaleFract=i(Q.scale),Q.translateFract=i(Q.translate),te},viewport:function(te){var Q;return Array.isArray(te)?Q={x:te[0],y:te[1],width:te[2]-te[0],height:te[3]-te[1]}:te?(Q={x:te.x||te.left||0,y:te.y||te.top||0},te.right?Q.width=te.right-Q.x:Q.width=te.w||te.width||0,te.bottom?Q.height=te.bottom-Q.y:Q.height=te.h||te.height||0):Q={x:0,y:0,width:p.drawingBufferWidth,height:p.drawingBufferHeight},Q}}])),V}),C||O){var I=y.reduce(function(F,j,V){return F+(j?j.count:0)},0),z=new Float64Array(2*I),U=new Uint8Array(4*I),D=new Float32Array(4*I);y.forEach(function(F,j){if(F){var V=F.positions,te=F.count,Q=F.offset,$=F.color,G=F.errors;te&&(U.set($,4*Q),D.set(G,4*Q),z.set(V,2*Q))}});var B=t(z);u(B);var Z=i(z,B);d(Z),c(U),x(D)}}}function T(){u.destroy(),d.destroy(),c.destroy(),x.destroy(),g.destroy()}};var n=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},13472:function(Y,P,e){var A=e(72160),k=e(76752),a=e(50896),w=e(26444),b=e(55616),h=e(47520),o=e(28912),t=e(71152),i=e(37816),n=i.float32,r=i.fract32,s=e(60463),l=e(51160),u=e(10272);function d(c,x){if(!(this instanceof d))return new d(c,x);if(typeof c=="function"?(x||(x={}),x.regl=c):x=c,x.length&&(x.positions=x),!(c=x.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=c._gl,this.regl=c,this.passes=[],this.shaders=d.shaders.has(c)?d.shaders.get(c):d.shaders.set(c,d.createShaders(c)).get(c),this.update(x)}Y.exports=d,d.dashMult=2,d.maxPatternLength=256,d.precisionThreshold=3e6,d.maxPoints=1e4,d.maxLines=2048,d.shaders=new s,d.createShaders=function(c){var x,g=c.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),p={primitive:"triangle strip",instances:c.prop("count"),count:4,offset:0,uniforms:{miterMode:function(y,m){return m.join==="round"?2:1},miterLimit:c.prop("miterLimit"),scale:c.prop("scale"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),thickness:c.prop("thickness"),dashTexture:c.prop("dashTexture"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),dashLength:c.prop("dashLength"),viewport:function(y,m){return[m.viewport.x,m.viewport.y,y.viewportWidth,y.viewportHeight]},depth:c.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(y,m){return!m.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:c.prop("viewport")},viewport:c.prop("viewport")},v=c(a({vert:w([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`]),frag:w([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:g,divisor:0,stride:8,offset:0},lineTop:{buffer:g,divisor:0,stride:8,offset:4},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},p));try{x=c(a({cull:{enable:!0,face:"back"},vert:w([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);

	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`]),frag:w([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:g,divisor:0,stride:8,offset:0},lineTop:{buffer:g,divisor:0,stride:8,offset:4},aColor:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:c.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},p))}catch{x=v}return{fill:c({primitive:"triangle",elements:function(y,m){return m.triangles},offset:0,vert:w([`precision highp float;
#define GLSLIFY 1

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`]),frag:w([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`]),uniforms:{scale:c.prop("scale"),color:c.prop("fill"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),viewport:function(y,m){return[m.viewport.x,m.viewport.y,y.viewportWidth,y.viewportHeight]}},attributes:{position:{buffer:c.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8}},blend:p.blend,depth:{enable:!1},scissor:p.scissor,stencil:p.stencil,viewport:p.viewport}),rect:v,miter:x}},d.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},d.prototype.render=function(){for(var c,x=[],g=arguments.length;g--;)x[g]=arguments[g];x.length&&(c=this).update.apply(c,x),this.draw()},d.prototype.draw=function(){for(var c=this,x=[],g=arguments.length;g--;)x[g]=arguments[g];return(x.length?x:this.passes).forEach(function(p,v){var y;if(p&&Array.isArray(p))return(y=c).draw.apply(y,p);typeof p=="number"&&(p=c.passes[p]),p&&p.count>1&&p.opacity&&(c.regl._refresh(),p.fill&&p.triangles&&p.triangles.length>2&&c.shaders.fill(p),p.thickness&&(p.scale[0]*p.viewport.width>d.precisionThreshold||p.scale[1]*p.viewport.height>d.precisionThreshold||p.join==="rect"||!p.join&&(p.thickness<=2||p.count>=d.maxPoints)?c.shaders.rect(p):c.shaders.miter(p)))}),this},d.prototype.update=function(c){var x=this;if(c){c.length!=null?typeof c[0]=="number"&&(c=[{positions:c}]):Array.isArray(c)||(c=[c]);var g=this.regl,p=this.gl;if(c.forEach(function(f,S){var T=x.passes[S];if(f!==void 0)if(f!==null){if(typeof f[0]=="number"&&(f={positions:f}),f=b(f,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),T||(x.passes[S]=T={id:S,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:g.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:g.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:g.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:g.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},f=a({},d.defaults,f)),f.thickness!=null&&(T.thickness=parseFloat(f.thickness)),f.opacity!=null&&(T.opacity=parseFloat(f.opacity)),f.miterLimit!=null&&(T.miterLimit=parseFloat(f.miterLimit)),f.overlay!=null&&(T.overlay=!!f.overlay,S<d.maxLines&&(T.depth=2*(d.maxLines-1-S%d.maxLines)/d.maxLines-1)),f.join!=null&&(T.join=f.join),f.hole!=null&&(T.hole=f.hole),f.fill!=null&&(T.fill=f.fill?A(f.fill,"uint8"):null),f.viewport!=null&&(T.viewport=l(f.viewport)),T.viewport||(T.viewport=l([p.drawingBufferWidth,p.drawingBufferHeight])),f.close!=null&&(T.close=f.close),f.positions===null&&(f.positions=[]),f.positions){var E,C;if(f.positions.x&&f.positions.y){var O=f.positions.x,I=f.positions.y;C=T.count=Math.max(O.length,I.length),E=new Float64Array(2*C);for(var z=0;z<C;z++)E[2*z]=O[z],E[2*z+1]=I[z]}else E=h(f.positions,"float64"),C=T.count=Math.floor(E.length/2);var U=T.bounds=k(E,2);if(T.fill){for(var D=[],B={},Z=0,F=0,j=0,V=T.count;F<V;F++){var te=E[2*F],Q=E[2*F+1];isNaN(te)||isNaN(Q)||te==null||Q==null?(te=E[2*Z],Q=E[2*Z+1],B[F]=Z):Z=F,D[j++]=te,D[j++]=Q}if(f.splitNull){T.count-1 in B||(B[T.count]=T.count-1);var $=Object.keys(B).map(Number).sort(function(xt,et){return xt-et}),G=[],X=0,J=T.hole!=null?T.hole[0]:null;if(J!=null){var ne=u($,function(xt){return xt>=J});($=$.slice(0,ne)).push(J)}for(var ie=function(xt){var et=D.slice(2*X,2*$[xt]).concat(J?D.slice(2*J):[]),nt=(T.hole||[]).map(function(zt){return zt-J+($[xt]-X)}),Mt=o(et,nt);Mt=Mt.map(function(zt){return zt+X+(zt+X<$[xt]?0:J-$[xt])}),G.push.apply(G,Mt),X=$[xt]+1},ae=0;ae<$.length;ae++)ie(ae);for(var le=0,ce=G.length;le<ce;le++)B[G[le]]!=null&&(G[le]=B[G[le]]);T.triangles=G}else{for(var pe=o(D,T.hole||[]),ge=0,me=pe.length;ge<me;ge++)B[pe[ge]]!=null&&(pe[ge]=B[pe[ge]]);T.triangles=pe}}var ve=new Float64Array(E);t(ve,2,U);var Me=new Float64Array(2*C+6);T.close?E[0]===E[2*C-2]&&E[1]===E[2*C-1]?(Me[0]=ve[2*C-4],Me[1]=ve[2*C-3]):(Me[0]=ve[2*C-2],Me[1]=ve[2*C-1]):(Me[0]=ve[0],Me[1]=ve[1]),Me.set(ve,2),T.close?E[0]===E[2*C-2]&&E[1]===E[2*C-1]?(Me[2*C+2]=ve[2],Me[2*C+3]=ve[3],T.count-=1):(Me[2*C+2]=ve[0],Me[2*C+3]=ve[1],Me[2*C+4]=ve[2],Me[2*C+5]=ve[3]):(Me[2*C+2]=ve[2*C-2],Me[2*C+3]=ve[2*C-1],Me[2*C+4]=ve[2*C-2],Me[2*C+5]=ve[2*C-1]);var _e=n(Me);T.positionBuffer(_e);var we=r(Me,_e);T.positionFractBuffer(we)}if(f.range?T.range=f.range:T.range||(T.range=T.bounds),(f.range||f.positions)&&T.count){var oe=T.bounds,se=oe[2]-oe[0],de=oe[3]-oe[1],Ee=T.range[2]-T.range[0],Te=T.range[3]-T.range[1];T.scale=[se/Ee,de/Te],T.translate=[-T.range[0]/Ee+oe[0]/Ee||0,-T.range[1]/Te+oe[1]/Te||0],T.scaleFract=r(T.scale),T.translateFract=r(T.translate)}if(f.dashes){var Se,Le=0;if(!f.dashes||f.dashes.length<2)Le=1,Se=new Uint8Array([255,255,255,255,255,255,255,255]);else{Le=0;for(var Oe=0;Oe<f.dashes.length;++Oe)Le+=f.dashes[Oe];Se=new Uint8Array(Le*d.dashMult);for(var he=0,xe=255,ke=0;ke<2;ke++)for(var Re=0;Re<f.dashes.length;++Re){for(var ze=0,Ie=f.dashes[Re]*d.dashMult*.5;ze<Ie;++ze)Se[he++]=xe;xe^=255}}T.dashLength=Le,T.dashTexture({channels:1,data:Se,width:Se.length,height:1,mag:"linear",min:"linear"},0,0)}if(f.color){var He=T.count,qe=f.color;qe||(qe="transparent");var Je=new Uint8Array(4*He+4);if(Array.isArray(qe)&&typeof qe[0]!="number"){for(var st=0;st<He;st++){var it=A(qe[st],"uint8");Je.set(it,4*st)}Je.set(A(qe[0],"uint8"),4*He)}else for(var vt=A(qe,"uint8"),_t=0;_t<He+1;_t++)Je.set(vt,4*_t);T.colorBuffer({usage:"dynamic",type:"uint8",data:Je})}}else x.passes[S]=null}),c.length<this.passes.length){for(var v=c.length;v<this.passes.length;v++){var y=this.passes[v];y&&(y.colorBuffer.destroy(),y.positionBuffer.destroy(),y.dashTexture.destroy())}this.passes.length=c.length}for(var m=[],_=0;_<this.passes.length;_++)this.passes[_]!==null&&m.push(this.passes[_]);return this.passes=m,this}},d.prototype.destroy=function(){return this.passes.forEach(function(c){c.colorBuffer.destroy(),c.positionBuffer.destroy(),c.dashTexture.destroy()}),this.passes.length=0,this}},38540:function(Y,P,e){function A(p,v){return function(y){if(Array.isArray(y))return y}(p)||function(y,m){var _=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(_!=null){var f,S,T,E,C=[],O=!0,I=!1;try{if(T=(_=_.call(y)).next,m===0){if(Object(_)!==_)return;O=!1}else for(;!(O=(f=T.call(_)).done)&&(C.push(f.value),C.length!==m);O=!0);}catch(z){I=!0,S=z}finally{try{if(!O&&_.return!=null&&(E=_.return(),Object(E)!==E))return}finally{if(I)throw S}}return C}}(p,v)||k(p,v)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k(p,v){if(p){if(typeof p=="string")return a(p,v);var y=Object.prototype.toString.call(p).slice(8,-1);return y==="Object"&&p.constructor&&(y=p.constructor.name),y==="Map"||y==="Set"?Array.from(p):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?a(p,v):void 0}}function a(p,v){(v==null||v>p.length)&&(v=p.length);for(var y=0,m=new Array(v);y<v;y++)m[y]=p[y];return m}var w=e(72160),b=e(76752),h=e(3808),o=e(3108),t=e(50896),i=e(26444),n=e(55616),r=e(45223),s=e(47520),l=e(96604),u=e(37816),d=e(51160),c=x;function x(p,v){var y=this;if(!(this instanceof x))return new x(p,v);typeof p=="function"?(v||(v={}),v.regl=p):(v=p,p=null),v&&v.length&&(v.positions=v);var m,_=(p=v.regl)._gl,f=[];this.tooManyColors=l,m=p.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),t(this,{regl:p,gl:_,groups:[],markerCache:[null],markerTextures:[null],palette:f,paletteIds:{},paletteTexture:m,maxColors:255,maxSize:100,canvas:_.canvas}),this.update(v);var S={uniforms:{constPointSize:!!v.constPointSize,opacity:p.prop("opacity"),paletteSize:function(C,O){return[y.tooManyColors?0:255,m.height]},pixelRatio:p.context("pixelRatio"),scale:p.prop("scale"),scaleFract:p.prop("scaleFract"),translate:p.prop("translate"),translateFract:p.prop("translateFract"),markerTexture:p.prop("markerTexture"),paletteTexture:m},attributes:{x:function(C,O){return O.xAttr||{buffer:O.positionBuffer,stride:8,offset:0}},y:function(C,O){return O.yAttr||{buffer:O.positionBuffer,stride:8,offset:4}},xFract:function(C,O){return O.xAttr?{constant:[0,0]}:{buffer:O.positionFractBuffer,stride:8,offset:0}},yFract:function(C,O){return O.yAttr?{constant:[0,0]}:{buffer:O.positionFractBuffer,stride:8,offset:4}},size:function(C,O){return O.size.length?{buffer:O.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*O.size/y.maxSize)]}},borderSize:function(C,O){return O.borderSize.length?{buffer:O.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*O.borderSize/y.maxSize)]}},colorId:function(C,O){return O.color.length?{buffer:O.colorBuffer,stride:y.tooManyColors?8:4,offset:0}:{constant:y.tooManyColors?f.slice(4*O.color,4*O.color+4):[O.color]}},borderColorId:function(C,O){return O.borderColor.length?{buffer:O.colorBuffer,stride:y.tooManyColors?8:4,offset:y.tooManyColors?4:2}:{constant:y.tooManyColors?f.slice(4*O.borderColor,4*O.borderColor+4):[O.borderColor]}},isActive:function(C,O){return O.activation===!0?{constant:[1]}:O.activation?O.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:p.prop("viewport")},viewport:p.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:p.prop("elements"),count:p.prop("count"),offset:p.prop("offset"),primitive:"points"},T=t({},S);T.frag=i([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),T.vert=i([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=p(T);var E=t({},S);E.frag=i([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),E.vert=i([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),l&&(E.frag=E.frag.replace("smoothstep","smoothStep"),T.frag=T.frag.replace("smoothstep","smoothStep")),this.drawCircle=p(E)}x.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},x.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},x.prototype.draw=function(){for(var p=this,v=arguments.length,y=new Array(v),m=0;m<v;m++)y[m]=arguments[m];var _=this.groups;if(y.length===1&&Array.isArray(y[0])&&(y[0][0]===null||Array.isArray(y[0][0]))&&(y=y[0]),this.regl._refresh(),y.length)for(var f=0;f<y.length;f++)this.drawItem(f,y[f]);else _.forEach(function(S,T){p.drawItem(T)});return this},x.prototype.drawItem=function(p,v){var y,m=this.groups,_=m[p];if(typeof v=="number"&&(p=v,_=m[v],v=null),_&&_.count&&_.opacity){_.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,_,v));for(var f=[],S=1;S<_.activation.length;S++)_.activation[S]&&(_.activation[S]===!0||_.activation[S].data.length)&&f.push.apply(f,function(T){if(Array.isArray(T))return a(T)}(y=this.getMarkerDrawOptions(S,_,v))||function(T){if(typeof Symbol<"u"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}(y)||k(y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}());f.length&&this.drawMarker(f)}},x.prototype.getMarkerDrawOptions=function(p,v,y){var m=v.range,_=v.tree,f=v.viewport,S=v.activation,T=v.selectionBuffer,E=v.count;if(this.regl,!_)return y?[t({},v,{markerTexture:this.markerTextures[p],activation:S[p],count:y.length,elements:y,offset:0})]:[t({},v,{markerTexture:this.markerTextures[p],activation:S[p],offset:0})];var C=[],O=_.range(m,{lod:!0,px:[(m[2]-m[0])/f.width,(m[3]-m[1])/f.height]});if(y){for(var I=S[p].data,z=new Uint8Array(E),U=0;U<y.length;U++){var D=y[U];z[D]=I?I[D]:1}T.subdata(z)}for(var B=O.length;B--;){var Z=A(O[B],2),F=Z[0],j=Z[1];C.push(t({},v,{markerTexture:this.markerTextures[p],activation:y?T:S[p],offset:F,count:j-F}))}return C},x.prototype.update=function(){for(var p=this,v=arguments.length,y=new Array(v),m=0;m<v;m++)y[m]=arguments[m];if(y.length){y.length===1&&Array.isArray(y[0])&&(y=y[0]);var _=this.groups,f=this.gl,S=this.regl,T=this.maxSize,E=this.maxColors,C=this.palette;this.groups=_=y.map(function(O,I){var z=_[I];if(O===void 0)return z;O===null?O={positions:null}:typeof O=="function"?O={ondraw:O}:typeof O[0]=="number"&&(O={positions:O}),(O=n(O,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions===null&&(O.positions=[]),O.tooManyColors!=null&&(p.tooManyColors=O.tooManyColors),z||(_[I]=z={id:I,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:S.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},O=t({},x.defaults,O)),O.positions&&!("marker"in O)&&(O.marker=z.marker,delete z.marker),O.marker&&!("positions"in O)&&(O.positions=z.positions,delete z.positions);var U=0,D=0;if(r(z,O,[{snap:!0,size:function(ge,me){return ge==null&&(ge=x.defaults.size),U+=ge&&ge.length?1:0,ge},borderSize:function(ge,me){return ge==null&&(ge=x.defaults.borderSize),U+=ge&&ge.length?1:0,ge},opacity:parseFloat,color:function(ge,me){return ge==null&&(ge=x.defaults.color),ge=p.updateColor(ge),D++,ge},borderColor:function(ge,me){return ge==null&&(ge=x.defaults.borderColor),ge=p.updateColor(ge),D++,ge},bounds:function(ge,me,ve){return"range"in ve||(ve.range=null),ge},positions:function(ge,me,ve){var Me=me.snap,_e=me.positionBuffer,we=me.positionFractBuffer,oe=me.selectionBuffer;if(ge.x||ge.y)return ge.x.length?me.xAttr={buffer:S.buffer(ge.x),offset:0,stride:4,count:ge.x.length}:me.xAttr={buffer:ge.x.buffer,offset:4*ge.x.offset||0,stride:4*(ge.x.stride||1),count:ge.x.count},ge.y.length?me.yAttr={buffer:S.buffer(ge.y),offset:0,stride:4,count:ge.y.length}:me.yAttr={buffer:ge.y.buffer,offset:4*ge.y.offset||0,stride:4*(ge.y.stride||1),count:ge.y.count},me.count=Math.max(me.xAttr.count,me.yAttr.count),ge;ge=s(ge,"float64");var se=me.count=Math.floor(ge.length/2),de=me.bounds=se?b(ge,2):null;if(ve.range||me.range||(delete me.range,ve.range=de),ve.marker||me.marker||(delete me.marker,ve.marker=null),Me&&(Me===!0||se>Me)?me.tree=o(ge,{bounds:de}):Me&&Me.length&&(me.tree=Me),me.tree){var Ee={primitive:"points",usage:"static",data:me.tree,type:"uint32"};me.elements?me.elements(Ee):me.elements=S.elements(Ee)}var Te=u.float32(ge);return _e({data:Te,usage:"dynamic"}),we({data:u.fract32(ge,Te),usage:"dynamic"}),oe({data:new Uint8Array(se),type:"uint8",usage:"stream"}),ge}},{marker:function(ge,me,ve){var Me=me.activation;if(Me.forEach(function(Te){return Te&&Te.destroy&&Te.destroy()}),Me.length=0,ge&&typeof ge[0]!="number"){for(var _e=[],we=0,oe=Math.min(ge.length,me.count);we<oe;we++){var se=p.addMarker(ge[we]);_e[se]||(_e[se]=new Uint8Array(me.count)),_e[se][we]=1}for(var de=0;de<_e.length;de++)if(_e[de]){var Ee={data:_e[de],type:"uint8",usage:"static"};Me[de]?Me[de](Ee):Me[de]=S.buffer(Ee),Me[de].data=_e[de]}}else Me[p.addMarker(ge)]=!0;return ge},range:function(ge,me,ve){var Me=me.bounds;if(Me)return ge||(ge=Me),me.scale=[1/(ge[2]-ge[0]),1/(ge[3]-ge[1])],me.translate=[-ge[0],-ge[1]],me.scaleFract=u.fract(me.scale),me.translateFract=u.fract(me.translate),ge},viewport:function(ge){return d(ge||[f.drawingBufferWidth,f.drawingBufferHeight])}}]),U){var B=z,Z=B.count,F=B.size,j=B.borderSize,V=B.sizeBuffer,te=new Uint8Array(2*Z);if(F.length||j.length)for(var Q=0;Q<Z;Q++)te[2*Q]=Math.round(255*(F[Q]==null?F:F[Q])/T),te[2*Q+1]=Math.round(255*(j[Q]==null?j:j[Q])/T);V({data:te,usage:"dynamic"})}if(D){var $,G=z,X=G.count,J=G.color,ne=G.borderColor,ie=G.colorBuffer;if(p.tooManyColors){if(J.length||ne.length){$=new Uint8Array(8*X);for(var ae=0;ae<X;ae++){var le=J[ae];$[8*ae]=C[4*le],$[8*ae+1]=C[4*le+1],$[8*ae+2]=C[4*le+2],$[8*ae+3]=C[4*le+3];var ce=ne[ae];$[8*ae+4]=C[4*ce],$[8*ae+5]=C[4*ce+1],$[8*ae+6]=C[4*ce+2],$[8*ae+7]=C[4*ce+3]}}}else if(J.length||ne.length){$=new Uint8Array(4*X+2);for(var pe=0;pe<X;pe++)J[pe]!=null&&($[4*pe]=J[pe]%E,$[4*pe+1]=Math.floor(J[pe]/E)),ne[pe]!=null&&($[4*pe+2]=ne[pe]%E,$[4*pe+3]=Math.floor(ne[pe]/E))}ie({data:$||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return z})}},x.prototype.addMarker=function(p){var v,y=this.markerTextures,m=this.regl,_=this.markerCache,f=p==null?0:_.indexOf(p);if(f>=0)return f;if(p instanceof Uint8Array||p instanceof Uint8ClampedArray)v=p;else{v=new Uint8Array(p.length);for(var S=0,T=p.length;S<T;S++)v[S]=255*p[S]}var E=Math.floor(Math.sqrt(v.length));return f=y.length,_.push(p),y.push(m.texture({channels:1,data:v,radius:E,mag:"linear",min:"linear"})),f},x.prototype.updateColor=function(p){var v=this.paletteIds,y=this.palette,m=this.maxColors;Array.isArray(p)||(p=[p]);var _=[];if(typeof p[0]=="number"){var f=[];if(Array.isArray(p))for(var S=0;S<p.length;S+=4)f.push(p.slice(S,S+4));else for(var T=0;T<p.length;T+=4)f.push(p.subarray(T,T+4));p=f}for(var E=0;E<p.length;E++){var C=p[E];C=w(C,"uint8");var O=h(C,!1);if(v[O]==null){var I=y.length;v[O]=Math.floor(I/4),y[I]=C[0],y[I+1]=C[1],y[I+2]=C[2],y[I+3]=C[3]}_[E]=v[O]}return!this.tooManyColors&&y.length>4*m&&(this.tooManyColors=!0),this.updatePalette(y),_.length===1?_[0]:_},x.prototype.updatePalette=function(p){if(!this.tooManyColors){var v=this.maxColors,y=this.paletteTexture,m=Math.ceil(.25*p.length/v);if(m>1)for(var _=.25*(p=p.slice()).length%v;_<m*v;_++)p.push(0,0,0,0);y.height<m&&y.resize(v,m),y.subimage({width:Math.min(.25*p.length,v),height:m,data:p},0,0)}},x.prototype.destroy=function(){return this.groups.forEach(function(p){p.sizeBuffer.destroy(),p.positionBuffer.destroy(),p.positionFractBuffer.destroy(),p.colorBuffer.destroy(),p.activation.forEach(function(v){return v&&v.destroy&&v.destroy()}),p.selectionBuffer.destroy(),p.elements&&p.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(p){return p&&p.destroy&&p.destroy()}),this};var g=e(50896);Y.exports=function(p,v){var y=new c(p,v),m=y.render.bind(y);return g(m,{render:m,update:y.update.bind(y),draw:y.draw.bind(y),destroy:y.destroy.bind(y),regl:y.regl,gl:y.gl,canvas:y.gl.canvas,groups:y.groups,markers:y.markerCache,palette:y.palette}),m}},55795:function(Y,P,e){var A=e(38540),k=e(55616),a=e(76752),w=e(3951),b=e(67752),h=e(51160),o=e(47520);function t(s,l){if(!(this instanceof t))return new t(s);this.traces=[],this.passes={},this.regl=s,this.scatter=A(s),this.canvas=this.scatter.canvas}function i(s,l,u){return(s.id!=null?s.id:s)<<16|(255&l)<<8|255&u}function n(s,l,u){var d,c,x,g,p=s[l],v=s[u];return p.length>2?(p[0],p[2],d=p[1],c=p[3]):p.length?(d=p[0],c=p[1]):(p.x,d=p.y,p.x,p.width,c=p.y+p.height),v.length>2?(x=v[0],g=v[2],v[1],v[3]):v.length?(x=v[0],g=v[1]):(x=v.x,v.y,g=v.x+v.width,v.y,v.height),[x,d,g,c]}function r(s){if(typeof s=="number")return[s,s,s,s];if(s.length===2)return[s[0],s[1],s[0],s[1]];var l=h(s);return[l.x,l.y,l.x+l.width,l.y+l.height]}Y.exports=t,t.prototype.render=function(){for(var s,l=this,u=[],d=arguments.length;d--;)u[d]=arguments[d];return u.length&&(s=this).update.apply(s,u),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=w(function(){l.draw(),l.dirty=!0,l.planned=null})):(this.draw(),this.dirty=!0,w(function(){l.dirty=!1})),this)},t.prototype.update=function(){for(var s,l=[],u=arguments.length;u--;)l[u]=arguments[u];if(l.length){for(var d=0;d<l.length;d++)this.updateItem(d,l[d]);this.traces=this.traces.filter(Boolean);for(var c=[],x=0,g=0;g<this.traces.length;g++){for(var p=this.traces[g],v=this.traces[g].passes,y=0;y<v.length;y++)c.push(this.passes[v[y]]);p.passOffset=x,x+=p.passes.length}return(s=this.scatter).update.apply(s,c),this}},t.prototype.updateItem=function(s,l){var u=this.regl;if(l===null)return this.traces[s]=null,this;if(!l)return this;var d,c=k(l,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),x=this.traces[s]||(this.traces[s]={id:s,buffer:u.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:h([u._gl.drawingBufferWidth,u._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(c.color!=null&&(x.color=c.color),c.size!=null&&(x.size=c.size),c.marker!=null&&(x.marker=c.marker),c.borderColor!=null&&(x.borderColor=c.borderColor),c.borderSize!=null&&(x.borderSize=c.borderSize),c.opacity!=null&&(x.opacity=c.opacity),c.viewport&&(x.viewport=h(c.viewport)),c.diagonal!=null&&(x.diagonal=c.diagonal),c.upper!=null&&(x.upper=c.upper),c.lower!=null&&(x.lower=c.lower),c.data){x.buffer(o(c.data)),x.columns=c.data.length,x.count=c.data[0].length,x.bounds=[];for(var g=0;g<x.columns;g++)x.bounds[g]=a(c.data[g],1)}c.range&&(x.range=c.range,d=x.range&&typeof x.range[0]!="number"),c.domain&&(x.domain=c.domain);var p=!1;c.padding!=null&&(Array.isArray(c.padding)&&c.padding.length===x.columns&&typeof c.padding[c.padding.length-1]=="number"?(x.padding=c.padding.map(r),p=!0):x.padding=r(c.padding));var v=x.columns,y=x.count,m=x.viewport.width,_=x.viewport.height,f=x.viewport.x,S=x.viewport.y,T=m/v,E=_/v;x.passes=[];for(var C=0;C<v;C++)for(var O=0;O<v;O++)if((x.diagonal||O!==C)&&(x.upper||!(C>O))&&(x.lower||!(C<O))){var I=i(x.id,C,O),z=this.passes[I]||(this.passes[I]={});if(c.data&&(c.transpose?z.positions={x:{buffer:x.buffer,offset:O,count:y,stride:v},y:{buffer:x.buffer,offset:C,count:y,stride:v}}:z.positions={x:{buffer:x.buffer,offset:O*y,count:y},y:{buffer:x.buffer,offset:C*y,count:y}},z.bounds=n(x.bounds,C,O)),c.domain||c.viewport||c.data){var U=p?n(x.padding,C,O):x.padding;if(x.domain){var D=n(x.domain,C,O),B=D[0],Z=D[1],F=D[2],j=D[3];z.viewport=[f+B*m+U[0],S+Z*_+U[1],f+F*m-U[2],S+j*_-U[3]]}else z.viewport=[f+O*T+T*U[0],S+C*E+E*U[1],f+(O+1)*T-T*U[2],S+(C+1)*E-E*U[3]]}c.color&&(z.color=x.color),c.size&&(z.size=x.size),c.marker&&(z.marker=x.marker),c.borderSize&&(z.borderSize=x.borderSize),c.borderColor&&(z.borderColor=x.borderColor),c.opacity&&(z.opacity=x.opacity),c.range&&(z.range=d?n(x.range,C,O):x.range||z.bounds),x.passes.push(I)}return this},t.prototype.draw=function(){for(var s,l=[],u=arguments.length;u--;)l[u]=arguments[u];if(l.length){for(var d=[],c=0;c<l.length;c++)if(typeof l[c]=="number"){var x=this.traces[l[c]],g=x.passes,p=x.passOffset;d.push.apply(d,b(p,p+g.length))}else if(l[c].length){var v=l[c],y=this.traces[c],m=y.passes,_=y.passOffset;m=m.map(function(f,S){d[_+S]=v})}(s=this.scatter).draw.apply(s,d)}else this.scatter.draw();return this},t.prototype.destroy=function(){return this.traces.forEach(function(s){s.buffer&&s.buffer.destroy&&s.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},28624:function(Y){Y.exports=function(){function P(Ne,Ye){this.id=ne++,this.type=Ne,this.data=Ye}function e(Ne){if(Ne.length===0)return[];var Ye=Ne.charAt(0),lt=Ne.charAt(Ne.length-1);if(1<Ne.length&&Ye===lt&&(Ye==='"'||Ye==="'"))return['"'+Ne.substr(1,Ne.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Ye=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Ne))return e(Ne.substr(0,Ye.index)).concat(e(Ye[1])).concat(e(Ne.substr(Ye.index+Ye[0].length)));if((Ye=Ne.split(".")).length===1)return['"'+Ne.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(Ne=[],lt=0;lt<Ye.length;++lt)Ne=Ne.concat(e(Ye[lt]));return Ne}function A(Ne){return"["+e(Ne).join("][")+"]"}function k(Ne){return typeof Ne=="string"?Ne.split():Ne}function a(Ne){return typeof Ne=="string"?document.querySelector(Ne):Ne}function w(Ne){var Ye,lt,at,Fe,Be=Ne||{};Ne={};var ot=[],Xe=[],pt=typeof window>"u"?1:window.devicePixelRatio,mt=!1,yt={},ht=function(Tt){},Lt=function(){};if(typeof Be=="string"?Ye=document.querySelector(Be):typeof Be=="object"&&(typeof Be.nodeName=="string"&&typeof Be.appendChild=="function"&&typeof Be.getBoundingClientRect=="function"?Ye=Be:typeof Be.drawArrays=="function"||typeof Be.drawElements=="function"?at=(Fe=Be).canvas:("gl"in Be?Fe=Be.gl:"canvas"in Be?at=a(Be.canvas):"container"in Be&&(lt=a(Be.container)),"attributes"in Be&&(Ne=Be.attributes),"extensions"in Be&&(ot=k(Be.extensions)),"optionalExtensions"in Be&&(Xe=k(Be.optionalExtensions)),"onDone"in Be&&(ht=Be.onDone),"profile"in Be&&(mt=!!Be.profile),"pixelRatio"in Be&&(pt=+Be.pixelRatio),"cachedCode"in Be&&(yt=Be.cachedCode))),Ye&&(Ye.nodeName.toLowerCase()==="canvas"?at=Ye:lt=Ye),!Fe){if(!at){if(!(Ye=function(Tt,bt,Pt){function Ot(){var on=window.innerWidth,qt=window.innerHeight;Tt!==document.body&&(on=(qt=Kt.getBoundingClientRect()).right-qt.left,qt=qt.bottom-qt.top),Kt.width=Pt*on,Kt.height=Pt*qt}var Bt,Kt=document.createElement("canvas");return J(Kt.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),Tt.appendChild(Kt),Tt===document.body&&(Kt.style.position="absolute",J(Tt.style,{margin:0,padding:0})),Tt!==document.body&&typeof ResizeObserver=="function"?(Bt=new ResizeObserver(function(){setTimeout(Ot)})).observe(Tt):window.addEventListener("resize",Ot,!1),Ot(),{canvas:Kt,onDestroy:function(){Bt?Bt.disconnect():window.removeEventListener("resize",Ot),Tt.removeChild(Kt)}}}(lt||document.body,0,pt)))return null;at=Ye.canvas,Lt=Ye.onDestroy}Ne.premultipliedAlpha===void 0&&(Ne.premultipliedAlpha=!0),Fe=function(Tt,bt){function Pt(Ot){try{return Tt.getContext(Ot,bt)}catch{return null}}return Pt("webgl")||Pt("experimental-webgl")||Pt("webgl-experimental")}(at,Ne)}return Fe?{gl:Fe,canvas:at,container:lt,extensions:ot,optionalExtensions:Xe,pixelRatio:pt,profile:mt,cachedCode:yt,onDone:ht,onDestroy:Lt}:(Lt(),ht("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function b(Ne,Ye){for(var lt=Array(Ne),at=0;at<Ne;++at)lt[at]=Ye(at);return lt}function h(Ne){var Ye,lt;return Ye=(65535<Ne)<<4,Ye|=lt=(255<(Ne>>>=Ye))<<3,(Ye|=lt=(15<(Ne>>>=lt))<<2)|(lt=(3<(Ne>>>=lt))<<1)|Ne>>>lt>>1}function o(){function Ne(at){e:{for(var Fe=16;268435456>=Fe;Fe*=16)if(at<=Fe){at=Fe;break e}at=0}return 0<(Fe=lt[h(at)>>2]).length?Fe.pop():new ArrayBuffer(at)}function Ye(at){lt[h(at.byteLength)>>2].push(at)}var lt=b(8,function(){return[]});return{alloc:Ne,free:Ye,allocType:function(at,Fe){var Be=null;switch(at){case 5120:Be=new Int8Array(Ne(Fe),0,Fe);break;case 5121:Be=new Uint8Array(Ne(Fe),0,Fe);break;case 5122:Be=new Int16Array(Ne(2*Fe),0,Fe);break;case 5123:Be=new Uint16Array(Ne(2*Fe),0,Fe);break;case 5124:Be=new Int32Array(Ne(4*Fe),0,Fe);break;case 5125:Be=new Uint32Array(Ne(4*Fe),0,Fe);break;case 5126:Be=new Float32Array(Ne(4*Fe),0,Fe);break;default:return null}return Be.length!==Fe?Be.subarray(0,Fe):Be},freeType:function(at){Ye(at.buffer)}}}function t(Ne){return!!Ne&&typeof Ne=="object"&&Array.isArray(Ne.shape)&&Array.isArray(Ne.stride)&&typeof Ne.offset=="number"&&Ne.shape.length===Ne.stride.length&&(Array.isArray(Ne.data)||ge(Ne.data))}function i(Ne,Ye,lt,at,Fe,Be){for(var ot=0;ot<Ye;++ot)for(var Xe=Ne[ot],pt=0;pt<lt;++pt)for(var mt=Xe[pt],yt=0;yt<at;++yt)Fe[Be++]=mt[yt]}function n(Ne,Ye,lt,at,Fe){for(var Be=1,ot=lt+1;ot<Ye.length;++ot)Be*=Ye[ot];var Xe=Ye[lt];if(Ye.length-lt==4){var pt=Ye[lt+1],mt=Ye[lt+2];for(Ye=Ye[lt+3],ot=0;ot<Xe;++ot)i(Ne[ot],pt,mt,Ye,at,Fe),Fe+=Be}else for(ot=0;ot<Xe;++ot)n(Ne[ot],Ye,lt+1,at,Fe),Fe+=Be}function r(Ne){return 0|Me[Object.prototype.toString.call(Ne)]}function s(Ne,Ye){for(var lt=0;lt<Ye.length;++lt)Ne[lt]=Ye[lt]}function l(Ne,Ye,lt,at,Fe,Be,ot){for(var Xe=0,pt=0;pt<lt;++pt)for(var mt=0;mt<at;++mt)Ne[Xe++]=Ye[Fe*pt+Be*mt+ot]}function u(Ne,Ye,lt,at){function Fe(ht){this.id=pt++,this.buffer=Ne.createBuffer(),this.type=ht,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,lt.profile&&(this.stats={size:0})}function Be(ht,Lt,Tt){ht.byteLength=Lt.byteLength,Ne.bufferData(ht.type,Lt,Tt)}function ot(ht,Lt,Tt,bt,Pt,Ot){if(ht.usage=Tt,Array.isArray(Lt)){if(ht.dtype=bt||5126,0<Lt.length)if(Array.isArray(Lt[0])){Pt=se(Lt);for(var Bt=bt=1;Bt<Pt.length;++Bt)bt*=Pt[Bt];ht.dimension=bt,Be(ht,Lt=oe(Lt,Pt,ht.dtype),Tt),Ot?ht.persistentData=Lt:ce.freeType(Lt)}else typeof Lt[0]=="number"?(ht.dimension=Pt,s(Pt=ce.allocType(ht.dtype,Lt.length),Lt),Be(ht,Pt,Tt),Ot?ht.persistentData=Pt:ce.freeType(Pt)):ge(Lt[0])&&(ht.dimension=Lt[0].length,ht.dtype=bt||r(Lt[0])||5126,Be(ht,Lt=oe(Lt,[Lt.length,Lt[0].length],ht.dtype),Tt),Ot?ht.persistentData=Lt:ce.freeType(Lt))}else if(ge(Lt))ht.dtype=bt||r(Lt),ht.dimension=Pt,Be(ht,Lt,Tt),Ot&&(ht.persistentData=new Uint8Array(new Uint8Array(Lt.buffer)));else if(t(Lt)){Pt=Lt.shape;var Kt=Lt.stride,on=(Bt=Lt.offset,0),qt=0,Wt=0,nn=0;Pt.length===1?(on=Pt[0],qt=1,Wt=Kt[0],nn=0):Pt.length===2&&(on=Pt[0],qt=Pt[1],Wt=Kt[0],nn=Kt[1]),ht.dtype=bt||r(Lt.data)||5126,ht.dimension=qt,l(Pt=ce.allocType(ht.dtype,on*qt),Lt.data,on,qt,Wt,nn,Bt),Be(ht,Pt,Tt),Ot?ht.persistentData=Pt:ce.freeType(Pt)}else Lt instanceof ArrayBuffer&&(ht.dtype=5121,ht.dimension=Pt,Be(ht,Lt,Tt),Ot&&(ht.persistentData=new Uint8Array(new Uint8Array(Lt))))}function Xe(ht){Ye.bufferCount--,at(ht),Ne.deleteBuffer(ht.buffer),ht.buffer=null,delete mt[ht.id]}var pt=0,mt={};Fe.prototype.bind=function(){Ne.bindBuffer(this.type,this.buffer)},Fe.prototype.destroy=function(){Xe(this)};var yt=[];return lt.profile&&(Ye.getTotalBufferSize=function(){var ht=0;return Object.keys(mt).forEach(function(Lt){ht+=mt[Lt].stats.size}),ht}),{create:function(ht,Lt,Tt,bt){function Pt(Bt){var Kt=35044,on=null,qt=0,Wt=0,nn=1;return Array.isArray(Bt)||ge(Bt)||t(Bt)||Bt instanceof ArrayBuffer?on=Bt:typeof Bt=="number"?qt=0|Bt:Bt&&("data"in Bt&&(on=Bt.data),"usage"in Bt&&(Kt=we[Bt.usage]),"type"in Bt&&(Wt=_e[Bt.type]),"dimension"in Bt&&(nn=0|Bt.dimension),"length"in Bt&&(qt=0|Bt.length)),Ot.bind(),on?ot(Ot,on,Kt,Wt,nn,bt):(qt&&Ne.bufferData(Ot.type,qt,Kt),Ot.dtype=Wt||5121,Ot.usage=Kt,Ot.dimension=nn,Ot.byteLength=qt),lt.profile&&(Ot.stats.size=Ot.byteLength*de[Ot.dtype]),Pt}Ye.bufferCount++;var Ot=new Fe(Lt);return mt[Ot.id]=Ot,Tt||Pt(ht),Pt._reglType="buffer",Pt._buffer=Ot,Pt.subdata=function(Bt,Kt){var on,qt=0|(Kt||0);if(Ot.bind(),ge(Bt)||Bt instanceof ArrayBuffer)Ne.bufferSubData(Ot.type,qt,Bt);else if(Array.isArray(Bt)){if(0<Bt.length)if(typeof Bt[0]=="number"){var Wt=ce.allocType(Ot.dtype,Bt.length);s(Wt,Bt),Ne.bufferSubData(Ot.type,qt,Wt),ce.freeType(Wt)}else(Array.isArray(Bt[0])||ge(Bt[0]))&&(on=se(Bt),Wt=oe(Bt,on,Ot.dtype),Ne.bufferSubData(Ot.type,qt,Wt),ce.freeType(Wt))}else if(t(Bt)){on=Bt.shape;var nn=Bt.stride,En=Wt=0,Mn=0,dn=0;on.length===1?(Wt=on[0],En=1,Mn=nn[0],dn=0):on.length===2&&(Wt=on[0],En=on[1],Mn=nn[0],dn=nn[1]),on=Array.isArray(Bt.data)?Ot.dtype:r(Bt.data),l(on=ce.allocType(on,Wt*En),Bt.data,Wt,En,Mn,dn,Bt.offset),Ne.bufferSubData(Ot.type,qt,on),ce.freeType(on)}return Pt},lt.profile&&(Pt.stats=Ot.stats),Pt.destroy=function(){Xe(Ot)},Pt},createStream:function(ht,Lt){var Tt=yt.pop();return Tt||(Tt=new Fe(ht)),Tt.bind(),ot(Tt,Lt,35040,0,1,!1),Tt},destroyStream:function(ht){yt.push(ht)},clear:function(){me(mt).forEach(Xe),yt.forEach(Xe)},getBuffer:function(ht){return ht&&ht._buffer instanceof Fe?ht._buffer:null},restore:function(){me(mt).forEach(function(ht){ht.buffer=Ne.createBuffer(),Ne.bindBuffer(ht.type,ht.buffer),Ne.bufferData(ht.type,ht.persistentData||ht.byteLength,ht.usage)})},_initBuffer:ot}}function d(Ne,Ye,lt,at){function Fe(ht){this.id=pt++,Xe[this.id]=this,this.buffer=ht,this.primType=4,this.type=this.vertCount=0}function Be(ht,Lt,Tt,bt,Pt,Ot,Bt){var Kt;if(ht.buffer.bind(),Lt?((Kt=Bt)||ge(Lt)&&(!t(Lt)||ge(Lt.data))||(Kt=Ye.oes_element_index_uint?5125:5123),lt._initBuffer(ht.buffer,Lt,Tt,Kt,3)):(Ne.bufferData(34963,Ot,Tt),ht.buffer.dtype=Kt||5121,ht.buffer.usage=Tt,ht.buffer.dimension=3,ht.buffer.byteLength=Ot),Kt=Bt,!Bt){switch(ht.buffer.dtype){case 5121:case 5120:Kt=5121;break;case 5123:case 5122:Kt=5123;break;case 5125:case 5124:Kt=5125}ht.buffer.dtype=Kt}ht.type=Kt,0>(Lt=Pt)&&(Lt=ht.buffer.byteLength,Kt===5123?Lt>>=1:Kt===5125&&(Lt>>=2)),ht.vertCount=Lt,Lt=bt,0>bt&&(Lt=4,(bt=ht.buffer.dimension)===1&&(Lt=0),bt===2&&(Lt=1),bt===3&&(Lt=4)),ht.primType=Lt}function ot(ht){at.elementsCount--,delete Xe[ht.id],ht.buffer.destroy(),ht.buffer=null}var Xe={},pt=0,mt={uint8:5121,uint16:5123};Ye.oes_element_index_uint&&(mt.uint32=5125),Fe.prototype.bind=function(){this.buffer.bind()};var yt=[];return{create:function(ht,Lt){function Tt(Ot){if(Ot)if(typeof Ot=="number")bt(Ot),Pt.primType=4,Pt.vertCount=0|Ot,Pt.type=5121;else{var Bt=null,Kt=35044,on=-1,qt=-1,Wt=0,nn=0;Array.isArray(Ot)||ge(Ot)||t(Ot)?Bt=Ot:("data"in Ot&&(Bt=Ot.data),"usage"in Ot&&(Kt=we[Ot.usage]),"primitive"in Ot&&(on=Ee[Ot.primitive]),"count"in Ot&&(qt=0|Ot.count),"type"in Ot&&(nn=mt[Ot.type]),"length"in Ot?Wt=0|Ot.length:(Wt=qt,nn===5123||nn===5122?Wt*=2:nn!==5125&&nn!==5124||(Wt*=4))),Be(Pt,Bt,Kt,on,qt,Wt,nn)}else bt(),Pt.primType=4,Pt.vertCount=0,Pt.type=5121;return Tt}var bt=lt.create(null,34963,!0),Pt=new Fe(bt._buffer);return at.elementsCount++,Tt(ht),Tt._reglType="elements",Tt._elements=Pt,Tt.subdata=function(Ot,Bt){return bt.subdata(Ot,Bt),Tt},Tt.destroy=function(){ot(Pt)},Tt},createStream:function(ht){var Lt=yt.pop();return Lt||(Lt=new Fe(lt.create(null,34963,!0,!1)._buffer)),Be(Lt,ht,35040,-1,-1,0,0),Lt},destroyStream:function(ht){yt.push(ht)},getElements:function(ht){return typeof ht=="function"&&ht._elements instanceof Fe?ht._elements:null},clear:function(){me(Xe).forEach(ot)}}}function c(Ne){for(var Ye=ce.allocType(5123,Ne.length),lt=0;lt<Ne.length;++lt)if(isNaN(Ne[lt]))Ye[lt]=65535;else if(Ne[lt]===1/0)Ye[lt]=31744;else if(Ne[lt]===-1/0)Ye[lt]=64512;else{Te[0]=Ne[lt];var at=(Be=Se[0])>>>31<<15,Fe=(Be<<1>>>24)-127,Be=Be>>13&1023;Ye[lt]=-24>Fe?at:-14>Fe?at+(Be+1024>>-14-Fe):15<Fe?at+31744:at+(Fe+15<<10)+Be}return Ye}function x(Ne){return Array.isArray(Ne)||ge(Ne)}function g(Ne){return"[object "+Ne+"]"}function p(Ne){return Array.isArray(Ne)&&(Ne.length===0||typeof Ne[0]=="number")}function v(Ne){return!(!Array.isArray(Ne)||Ne.length===0||!x(Ne[0]))}function y(Ne){return Object.prototype.toString.call(Ne)}function m(Ne){if(!Ne)return!1;var Ye=y(Ne);return 0<=qe.indexOf(Ye)||p(Ne)||v(Ne)||t(Ne)}function _(Ne,Ye){Ne.type===36193?(Ne.data=c(Ye),ce.freeType(Ye)):Ne.data=Ye}function f(Ne,Ye,lt,at,Fe,Be){if(Ne=st[Ne]!==void 0?st[Ne]:he[Ne]*Je[Ye],Be&&(Ne*=6),Fe){for(at=0;1<=lt;)at+=Ne*lt*lt,lt/=2;return at}return Ne*lt*at}function S(Ne,Ye,lt,at,Fe,Be,ot){function Xe(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function pt(Zt,mn){Zt.internalformat=mn.internalformat,Zt.format=mn.format,Zt.type=mn.type,Zt.compressed=mn.compressed,Zt.premultiplyAlpha=mn.premultiplyAlpha,Zt.flipY=mn.flipY,Zt.unpackAlignment=mn.unpackAlignment,Zt.colorSpace=mn.colorSpace,Zt.width=mn.width,Zt.height=mn.height,Zt.channels=mn.channels}function mt(Zt,mn){if(typeof mn=="object"&&mn){"premultiplyAlpha"in mn&&(Zt.premultiplyAlpha=mn.premultiplyAlpha),"flipY"in mn&&(Zt.flipY=mn.flipY),"alignment"in mn&&(Zt.unpackAlignment=mn.alignment),"colorSpace"in mn&&(Zt.colorSpace=zn[mn.colorSpace]),"type"in mn&&(Zt.type=On[mn.type]);var It=Zt.width,Xt=Zt.height,tn=Zt.channels,bn=!1;"shape"in mn?(It=mn.shape[0],Xt=mn.shape[1],mn.shape.length===3&&(tn=mn.shape[2],bn=!0)):("radius"in mn&&(It=Xt=mn.radius),"width"in mn&&(It=mn.width),"height"in mn&&(Xt=mn.height),"channels"in mn&&(tn=mn.channels,bn=!0)),Zt.width=0|It,Zt.height=0|Xt,Zt.channels=0|tn,It=!1,"format"in mn&&(It=mn.format,Xt=Zt.internalformat=Hn[It],Zt.format=_n[Xt],It in On&&!("type"in mn)&&(Zt.type=On[It]),It in jn&&(Zt.compressed=!0),It=!0),!bn&&It?Zt.channels=he[Zt.format]:bn&&!It&&Zt.channels!==Oe[Zt.format]&&(Zt.format=Zt.internalformat=Oe[Zt.channels])}}function yt(Zt){Ne.pixelStorei(37440,Zt.flipY),Ne.pixelStorei(37441,Zt.premultiplyAlpha),Ne.pixelStorei(37443,Zt.colorSpace),Ne.pixelStorei(3317,Zt.unpackAlignment)}function ht(){Xe.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Lt(Zt,mn){var It=null;if(m(mn)?It=mn:mn&&(mt(Zt,mn),"x"in mn&&(Zt.xOffset=0|mn.x),"y"in mn&&(Zt.yOffset=0|mn.y),m(mn.data)&&(It=mn.data)),mn.copy){var Xt=Fe.viewportWidth,tn=Fe.viewportHeight;Zt.width=Zt.width||Xt-Zt.xOffset,Zt.height=Zt.height||tn-Zt.yOffset,Zt.needsCopy=!0}else if(It){if(ge(It))Zt.channels=Zt.channels||4,Zt.data=It,"type"in mn||Zt.type!==5121||(Zt.type=0|Me[Object.prototype.toString.call(It)]);else if(p(It)){switch(Zt.channels=Zt.channels||4,tn=(Xt=It).length,Zt.type){case 5121:case 5123:case 5125:case 5126:(tn=ce.allocType(Zt.type,tn)).set(Xt),Zt.data=tn;break;case 36193:Zt.data=c(Xt)}Zt.alignment=1,Zt.needsFree=!0}else if(t(It)){Xt=It.data,Array.isArray(Xt)||Zt.type!==5121||(Zt.type=0|Me[Object.prototype.toString.call(Xt)]),tn=It.shape;var bn,yn,Tn,fn,Qt=It.stride;tn.length===3?(Tn=tn[2],fn=Qt[2]):fn=Tn=1,bn=tn[0],yn=tn[1],tn=Qt[0],Qt=Qt[1],Zt.alignment=1,Zt.width=bn,Zt.height=yn,Zt.channels=Tn,Zt.format=Zt.internalformat=Oe[Tn],Zt.needsFree=!0,bn=fn,It=It.offset,Tn=Zt.width,fn=Zt.height,yn=Zt.channels;for(var en=ce.allocType(Zt.type===36193?5126:Zt.type,Tn*fn*yn),ln=0,pn=0;pn<fn;++pn)for(var Sn=0;Sn<Tn;++Sn)for(var In=0;In<yn;++In)en[ln++]=Xt[tn*Sn+Qt*pn+bn*In+It];_(Zt,en)}else if(y(It)===xe||y(It)===ke||y(It)===Re)y(It)===xe||y(It)===ke?Zt.element=It:Zt.element=It.canvas,Zt.width=Zt.element.width,Zt.height=Zt.element.height,Zt.channels=4;else if(y(It)===ze)Zt.element=It,Zt.width=It.width,Zt.height=It.height,Zt.channels=4;else if(y(It)===Ie)Zt.element=It,Zt.width=It.naturalWidth,Zt.height=It.naturalHeight,Zt.channels=4;else if(y(It)===He)Zt.element=It,Zt.width=It.videoWidth,Zt.height=It.videoHeight,Zt.channels=4;else if(v(It)){for(Xt=Zt.width||It[0].length,tn=Zt.height||It.length,Qt=Zt.channels,Qt=x(It[0][0])?Qt||It[0][0].length:Qt||1,bn=ve.shape(It),Tn=1,fn=0;fn<bn.length;++fn)Tn*=bn[fn];Tn=ce.allocType(Zt.type===36193?5126:Zt.type,Tn),ve.flatten(It,bn,"",Tn),_(Zt,Tn),Zt.alignment=1,Zt.width=Xt,Zt.height=tn,Zt.channels=Qt,Zt.format=Zt.internalformat=Oe[Qt],Zt.needsFree=!0}}else Zt.width=Zt.width||1,Zt.height=Zt.height||1,Zt.channels=Zt.channels||4}function Tt(Zt,mn,It,Xt,tn){var bn=Zt.element,yn=Zt.data,Tn=Zt.internalformat,fn=Zt.format,Qt=Zt.type,en=Zt.width,ln=Zt.height;yt(Zt),bn?Ne.texSubImage2D(mn,tn,It,Xt,fn,Qt,bn):Zt.compressed?Ne.compressedTexSubImage2D(mn,tn,It,Xt,Tn,en,ln,yn):Zt.needsCopy?(at(),Ne.copyTexSubImage2D(mn,tn,It,Xt,Zt.xOffset,Zt.yOffset,en,ln)):Ne.texSubImage2D(mn,tn,It,Xt,en,ln,fn,Qt,yn)}function bt(){return vn.pop()||new ht}function Pt(Zt){Zt.needsFree&&ce.freeType(Zt.data),ht.call(Zt),vn.push(Zt)}function Ot(){Xe.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Bt(Zt,mn,It){var Xt=Zt.images[0]=bt();Zt.mipmask=1,Xt.width=Zt.width=mn,Xt.height=Zt.height=It,Xt.channels=Zt.channels=4}function Kt(Zt,mn){var It=null;if(m(mn))pt(It=Zt.images[0]=bt(),Zt),Lt(It,mn),Zt.mipmask=1;else if(mt(Zt,mn),Array.isArray(mn.mipmap))for(var Xt=mn.mipmap,tn=0;tn<Xt.length;++tn)pt(It=Zt.images[tn]=bt(),Zt),It.width>>=tn,It.height>>=tn,Lt(It,Xt[tn]),Zt.mipmask|=1<<tn;else pt(It=Zt.images[0]=bt(),Zt),Lt(It,mn),Zt.mipmask=1;pt(Zt,Zt.images[0])}function on(Zt,mn){for(var It=Zt.images,Xt=0;Xt<It.length&&It[Xt];++Xt){var tn=It[Xt],bn=mn,yn=Xt,Tn=tn.element,fn=tn.data,Qt=tn.internalformat,en=tn.format,ln=tn.type,pn=tn.width,Sn=tn.height;yt(tn),Tn?Ne.texImage2D(bn,yn,en,en,ln,Tn):tn.compressed?Ne.compressedTexImage2D(bn,yn,Qt,pn,Sn,0,fn):tn.needsCopy?(at(),Ne.copyTexImage2D(bn,yn,en,tn.xOffset,tn.yOffset,pn,Sn,0)):Ne.texImage2D(bn,yn,en,pn,Sn,0,en,ln,fn||null)}}function qt(){var Zt=Cn.pop()||new Ot;Xe.call(Zt);for(var mn=Zt.mipmask=0;16>mn;++mn)Zt.images[mn]=null;return Zt}function Wt(Zt){for(var mn=Zt.images,It=0;It<mn.length;++It)mn[It]&&Pt(mn[It]),mn[It]=null;Cn.push(Zt)}function nn(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function En(Zt,mn){"min"in mn&&(Zt.minFilter=Dn[mn.min],0<=Le.indexOf(Zt.minFilter)&&!("faces"in mn)&&(Zt.genMipmaps=!0)),"mag"in mn&&(Zt.magFilter=Ln[mn.mag]);var It=Zt.wrapS,Xt=Zt.wrapT;if("wrap"in mn){var tn=mn.wrap;typeof tn=="string"?It=Xt=kn[tn]:Array.isArray(tn)&&(It=kn[tn[0]],Xt=kn[tn[1]])}else"wrapS"in mn&&(It=kn[mn.wrapS]),"wrapT"in mn&&(Xt=kn[mn.wrapT]);if(Zt.wrapS=It,Zt.wrapT=Xt,"anisotropic"in mn&&(Zt.anisotropic=mn.anisotropic),"mipmap"in mn){switch(It=!1,typeof mn.mipmap){case"string":Zt.mipmapHint=hn[mn.mipmap],It=Zt.genMipmaps=!0;break;case"boolean":It=Zt.genMipmaps=mn.mipmap;break;case"object":Zt.genMipmaps=!1,It=!0}!It||"min"in mn||(Zt.minFilter=9984)}}function Mn(Zt,mn){Ne.texParameteri(mn,10241,Zt.minFilter),Ne.texParameteri(mn,10240,Zt.magFilter),Ne.texParameteri(mn,10242,Zt.wrapS),Ne.texParameteri(mn,10243,Zt.wrapT),Ye.ext_texture_filter_anisotropic&&Ne.texParameteri(mn,34046,Zt.anisotropic),Zt.genMipmaps&&(Ne.hint(33170,Zt.mipmapHint),Ne.generateMipmap(mn))}function dn(Zt){Xe.call(this),this.mipmask=0,this.internalformat=6408,this.id=Gn++,this.refCount=1,this.target=Zt,this.texture=Ne.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new nn,ot.profile&&(this.stats={size:0})}function Jt(Zt){Ne.activeTexture(33984),Ne.bindTexture(Zt.target,Zt.texture)}function un(){var Zt=rr[0];Zt?Ne.bindTexture(Zt.target,Zt.texture):Ne.bindTexture(3553,null)}function rn(Zt){var mn=Zt.texture,It=Zt.unit,Xt=Zt.target;0<=It&&(Ne.activeTexture(33984+It),Ne.bindTexture(Xt,null),rr[It]=null),Ne.deleteTexture(mn),Zt.texture=null,Zt.params=null,Zt.pixels=null,Zt.refCount=0,delete Fn[Zt.id],Be.textureCount--}var hn={"don't care":4352,"dont care":4352,nice:4354,fast:4353},kn={repeat:10497,clamp:33071,mirror:33648},Ln={nearest:9728,linear:9729},Dn=J({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Ln),zn={none:0,browser:37444},On={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Hn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},jn={};Ye.ext_srgb&&(Hn.srgb=35904,Hn.srgba=35906),Ye.oes_texture_float&&(On.float32=On.float=5126),Ye.oes_texture_half_float&&(On.float16=On["half float"]=36193),Ye.webgl_depth_texture&&(J(Hn,{depth:6402,"depth stencil":34041}),J(On,{uint16:5123,uint32:5125,"depth stencil":34042})),Ye.webgl_compressed_texture_s3tc&&J(jn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Ye.webgl_compressed_texture_atc&&J(jn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Ye.webgl_compressed_texture_pvrtc&&J(jn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Ye.webgl_compressed_texture_etc1&&(jn["rgb etc1"]=36196);var ar=Array.prototype.slice.call(Ne.getParameter(34467));Object.keys(jn).forEach(function(Zt){var mn=jn[Zt];0<=ar.indexOf(mn)&&(Hn[Zt]=mn)});var ur=Object.keys(Hn);lt.textureFormats=ur;var cr=[];Object.keys(Hn).forEach(function(Zt){cr[Hn[Zt]]=Zt});var er=[];Object.keys(On).forEach(function(Zt){er[On[Zt]]=Zt});var Tr=[];Object.keys(Ln).forEach(function(Zt){Tr[Ln[Zt]]=Zt});var Ht=[];Object.keys(Dn).forEach(function(Zt){Ht[Dn[Zt]]=Zt});var an=[];Object.keys(kn).forEach(function(Zt){an[kn[Zt]]=Zt});var _n=ur.reduce(function(Zt,mn){var It=Hn[mn];return It===6409||It===6406||It===6409||It===6410||It===6402||It===34041||Ye.ext_srgb&&(It===35904||It===35906)?Zt[It]=It:It===32855||0<=mn.indexOf("rgba")?Zt[It]=6408:Zt[It]=6407,Zt},{}),vn=[],Cn=[],Gn=0,Fn={},Nn=lt.maxTextureUnits,rr=Array(Nn).map(function(){return null});return J(dn.prototype,{bind:function(){this.bindCount+=1;var Zt=this.unit;if(0>Zt){for(var mn=0;mn<Nn;++mn){var It=rr[mn];if(It){if(0<It.bindCount)continue;It.unit=-1}rr[mn]=this,Zt=mn;break}ot.profile&&Be.maxTextureUnits<Zt+1&&(Be.maxTextureUnits=Zt+1),this.unit=Zt,Ne.activeTexture(33984+Zt),Ne.bindTexture(this.target,this.texture)}return Zt},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&rn(this)}}),ot.profile&&(Be.getTotalTextureSize=function(){var Zt=0;return Object.keys(Fn).forEach(function(mn){Zt+=Fn[mn].stats.size}),Zt}),{create2D:function(Zt,mn){function It(tn,bn){var yn=Xt.texInfo;nn.call(yn);var Tn=qt();return typeof tn=="number"?Bt(Tn,0|tn,typeof bn=="number"?0|bn:0|tn):tn?(En(yn,tn),Kt(Tn,tn)):Bt(Tn,1,1),yn.genMipmaps&&(Tn.mipmask=(Tn.width<<1)-1),Xt.mipmask=Tn.mipmask,pt(Xt,Tn),Xt.internalformat=Tn.internalformat,It.width=Tn.width,It.height=Tn.height,Jt(Xt),on(Tn,3553),Mn(yn,3553),un(),Wt(Tn),ot.profile&&(Xt.stats.size=f(Xt.internalformat,Xt.type,Tn.width,Tn.height,yn.genMipmaps,!1)),It.format=cr[Xt.internalformat],It.type=er[Xt.type],It.mag=Tr[yn.magFilter],It.min=Ht[yn.minFilter],It.wrapS=an[yn.wrapS],It.wrapT=an[yn.wrapT],It}var Xt=new dn(3553);return Fn[Xt.id]=Xt,Be.textureCount++,It(Zt,mn),It.subimage=function(tn,bn,yn,Tn){bn|=0,yn|=0,Tn|=0;var fn=bt();return pt(fn,Xt),fn.width=0,fn.height=0,Lt(fn,tn),fn.width=fn.width||(Xt.width>>Tn)-bn,fn.height=fn.height||(Xt.height>>Tn)-yn,Jt(Xt),Tt(fn,3553,bn,yn,Tn),un(),Pt(fn),It},It.resize=function(tn,bn){var yn=0|tn,Tn=0|bn||yn;if(yn===Xt.width&&Tn===Xt.height)return It;It.width=Xt.width=yn,It.height=Xt.height=Tn,Jt(Xt);for(var fn=0;Xt.mipmask>>fn;++fn){var Qt=yn>>fn,en=Tn>>fn;if(!Qt||!en)break;Ne.texImage2D(3553,fn,Xt.format,Qt,en,0,Xt.format,Xt.type,null)}return un(),ot.profile&&(Xt.stats.size=f(Xt.internalformat,Xt.type,yn,Tn,!1,!1)),It},It._reglType="texture2d",It._texture=Xt,ot.profile&&(It.stats=Xt.stats),It.destroy=function(){Xt.decRef()},It},createCube:function(Zt,mn,It,Xt,tn,bn){function yn(Qt,en,ln,pn,Sn,In){var Vn,qn=Tn.texInfo;for(nn.call(qn),Vn=0;6>Vn;++Vn)fn[Vn]=qt();if(typeof Qt!="number"&&Qt){if(typeof Qt=="object")if(en)Kt(fn[0],Qt),Kt(fn[1],en),Kt(fn[2],ln),Kt(fn[3],pn),Kt(fn[4],Sn),Kt(fn[5],In);else if(En(qn,Qt),mt(Tn,Qt),"faces"in Qt)for(Qt=Qt.faces,Vn=0;6>Vn;++Vn)pt(fn[Vn],Tn),Kt(fn[Vn],Qt[Vn]);else for(Vn=0;6>Vn;++Vn)Kt(fn[Vn],Qt)}else for(Qt=0|Qt||1,Vn=0;6>Vn;++Vn)Bt(fn[Vn],Qt,Qt);for(pt(Tn,fn[0]),Tn.mipmask=qn.genMipmaps?(fn[0].width<<1)-1:fn[0].mipmask,Tn.internalformat=fn[0].internalformat,yn.width=fn[0].width,yn.height=fn[0].height,Jt(Tn),Vn=0;6>Vn;++Vn)on(fn[Vn],34069+Vn);for(Mn(qn,34067),un(),ot.profile&&(Tn.stats.size=f(Tn.internalformat,Tn.type,yn.width,yn.height,qn.genMipmaps,!0)),yn.format=cr[Tn.internalformat],yn.type=er[Tn.type],yn.mag=Tr[qn.magFilter],yn.min=Ht[qn.minFilter],yn.wrapS=an[qn.wrapS],yn.wrapT=an[qn.wrapT],Vn=0;6>Vn;++Vn)Wt(fn[Vn]);return yn}var Tn=new dn(34067);Fn[Tn.id]=Tn,Be.cubeCount++;var fn=Array(6);return yn(Zt,mn,It,Xt,tn,bn),yn.subimage=function(Qt,en,ln,pn,Sn){ln|=0,pn|=0,Sn|=0;var In=bt();return pt(In,Tn),In.width=0,In.height=0,Lt(In,en),In.width=In.width||(Tn.width>>Sn)-ln,In.height=In.height||(Tn.height>>Sn)-pn,Jt(Tn),Tt(In,34069+Qt,ln,pn,Sn),un(),Pt(In),yn},yn.resize=function(Qt){if((Qt|=0)!==Tn.width){yn.width=Tn.width=Qt,yn.height=Tn.height=Qt,Jt(Tn);for(var en=0;6>en;++en)for(var ln=0;Tn.mipmask>>ln;++ln)Ne.texImage2D(34069+en,ln,Tn.format,Qt>>ln,Qt>>ln,0,Tn.format,Tn.type,null);return un(),ot.profile&&(Tn.stats.size=f(Tn.internalformat,Tn.type,yn.width,yn.height,!1,!0)),yn}},yn._reglType="textureCube",yn._texture=Tn,ot.profile&&(yn.stats=Tn.stats),yn.destroy=function(){Tn.decRef()},yn},clear:function(){for(var Zt=0;Zt<Nn;++Zt)Ne.activeTexture(33984+Zt),Ne.bindTexture(3553,null),rr[Zt]=null;me(Fn).forEach(rn),Be.cubeCount=0,Be.textureCount=0},getTexture:function(Zt){return null},restore:function(){for(var Zt=0;Zt<Nn;++Zt){var mn=rr[Zt];mn&&(mn.bindCount=0,mn.unit=-1,rr[Zt]=null)}me(Fn).forEach(function(It){It.texture=Ne.createTexture(),Ne.bindTexture(It.target,It.texture);for(var Xt=0;32>Xt;++Xt)if((It.mipmask&1<<Xt)!=0)if(It.target===3553)Ne.texImage2D(3553,Xt,It.internalformat,It.width>>Xt,It.height>>Xt,0,It.internalformat,It.type,null);else for(var tn=0;6>tn;++tn)Ne.texImage2D(34069+tn,Xt,It.internalformat,It.width>>Xt,It.height>>Xt,0,It.internalformat,It.type,null);Mn(It.texInfo,It.target)})},refresh:function(){for(var Zt=0;Zt<Nn;++Zt){var mn=rr[Zt];mn&&(mn.bindCount=0,mn.unit=-1,rr[Zt]=null),Ne.activeTexture(33984+Zt),Ne.bindTexture(3553,null),Ne.bindTexture(34067,null)}}}}function T(Ne,Ye,lt,at,Fe,Be){function ot(dn,Jt,un){this.target=dn,this.texture=Jt,this.renderbuffer=un;var rn=dn=0;Jt?(dn=Jt.width,rn=Jt.height):un&&(dn=un.width,rn=un.height),this.width=dn,this.height=rn}function Xe(dn){dn&&(dn.texture&&dn.texture._texture.decRef(),dn.renderbuffer&&dn.renderbuffer._renderbuffer.decRef())}function pt(dn,Jt,un){dn&&(dn.texture?dn.texture._texture.refCount+=1:dn.renderbuffer._renderbuffer.refCount+=1)}function mt(dn,Jt){Jt&&(Jt.texture?Ne.framebufferTexture2D(36160,dn,Jt.target,Jt.texture._texture.texture,0):Ne.framebufferRenderbuffer(36160,dn,36161,Jt.renderbuffer._renderbuffer.renderbuffer))}function yt(dn){var Jt=3553,un=null,rn=null,hn=dn;return typeof dn=="object"&&(hn=dn.data,"target"in dn&&(Jt=0|dn.target)),(dn=hn._reglType)==="texture2d"||dn==="textureCube"?un=hn:dn==="renderbuffer"&&(rn=hn,Jt=36161),new ot(Jt,un,rn)}function ht(dn,Jt,un,rn,hn){return un?((dn=at.create2D({width:dn,height:Jt,format:rn,type:hn}))._texture.refCount=0,new ot(3553,dn,null)):((dn=Fe.create({width:dn,height:Jt,format:rn}))._renderbuffer.refCount=0,new ot(36161,null,dn))}function Lt(dn){return dn&&(dn.texture||dn.renderbuffer)}function Tt(dn,Jt,un){dn&&(dn.texture?dn.texture.resize(Jt,un):dn.renderbuffer&&dn.renderbuffer.resize(Jt,un),dn.width=Jt,dn.height=un)}function bt(){this.id=En++,Mn[this.id]=this,this.framebuffer=Ne.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function Pt(dn){dn.colorAttachments.forEach(Xe),Xe(dn.depthAttachment),Xe(dn.stencilAttachment),Xe(dn.depthStencilAttachment)}function Ot(dn){Ne.deleteFramebuffer(dn.framebuffer),dn.framebuffer=null,Be.framebufferCount--,delete Mn[dn.id]}function Bt(dn){var Jt;Ne.bindFramebuffer(36160,dn.framebuffer);var un=dn.colorAttachments;for(Jt=0;Jt<un.length;++Jt)mt(36064+Jt,un[Jt]);for(Jt=un.length;Jt<lt.maxColorAttachments;++Jt)Ne.framebufferTexture2D(36160,36064+Jt,3553,null,0);Ne.framebufferTexture2D(36160,33306,3553,null,0),Ne.framebufferTexture2D(36160,36096,3553,null,0),Ne.framebufferTexture2D(36160,36128,3553,null,0),mt(36096,dn.depthAttachment),mt(36128,dn.stencilAttachment),mt(33306,dn.depthStencilAttachment),Ne.checkFramebufferStatus(36160),Ne.isContextLost(),Ne.bindFramebuffer(36160,on.next?on.next.framebuffer:null),on.cur=on.next,Ne.getError()}function Kt(dn,Jt){function un(hn,kn){var Ln,Dn=0,zn=0,On=!0,Hn=!0;Ln=null;var jn=!0,ar="rgba",ur="uint8",cr=1,er=null,Tr=null,Ht=null,an=!1;typeof hn=="number"?(Dn=0|hn,zn=0|kn||Dn):hn?("shape"in hn?(Dn=(zn=hn.shape)[0],zn=zn[1]):("radius"in hn&&(Dn=zn=hn.radius),"width"in hn&&(Dn=hn.width),"height"in hn&&(zn=hn.height)),("color"in hn||"colors"in hn)&&(Ln=hn.color||hn.colors,Array.isArray(Ln)),Ln||("colorCount"in hn&&(cr=0|hn.colorCount),"colorTexture"in hn&&(jn=!!hn.colorTexture,ar="rgba4"),"colorType"in hn&&(ur=hn.colorType,!jn)&&(ur==="half float"||ur==="float16"?ar="rgba16f":ur!=="float"&&ur!=="float32"||(ar="rgba32f")),"colorFormat"in hn&&(ar=hn.colorFormat,0<=qt.indexOf(ar)?jn=!0:0<=Wt.indexOf(ar)&&(jn=!1))),("depthTexture"in hn||"depthStencilTexture"in hn)&&(an=!(!hn.depthTexture&&!hn.depthStencilTexture)),"depth"in hn&&(typeof hn.depth=="boolean"?On=hn.depth:(er=hn.depth,Hn=!1)),"stencil"in hn&&(typeof hn.stencil=="boolean"?Hn=hn.stencil:(Tr=hn.stencil,On=!1)),"depthStencil"in hn&&(typeof hn.depthStencil=="boolean"?On=Hn=hn.depthStencil:(Ht=hn.depthStencil,Hn=On=!1))):Dn=zn=1;var _n=null,vn=null,Cn=null,Gn=null;if(Array.isArray(Ln))_n=Ln.map(yt);else if(Ln)_n=[yt(Ln)];else for(_n=Array(cr),Ln=0;Ln<cr;++Ln)_n[Ln]=ht(Dn,zn,jn,ar,ur);for(Dn=Dn||_n[0].width,zn=zn||_n[0].height,er?vn=yt(er):On&&!Hn&&(vn=ht(Dn,zn,an,"depth","uint32")),Tr?Cn=yt(Tr):Hn&&!On&&(Cn=ht(Dn,zn,!1,"stencil","uint8")),Ht?Gn=yt(Ht):!er&&!Tr&&Hn&&On&&(Gn=ht(Dn,zn,an,"depth stencil","depth stencil")),On=null,Ln=0;Ln<_n.length;++Ln)pt(_n[Ln]),_n[Ln]&&_n[Ln].texture&&(Hn=_t[_n[Ln].texture._texture.format]*xt[_n[Ln].texture._texture.type],On===null&&(On=Hn));return pt(vn),pt(Cn),pt(Gn),Pt(rn),rn.width=Dn,rn.height=zn,rn.colorAttachments=_n,rn.depthAttachment=vn,rn.stencilAttachment=Cn,rn.depthStencilAttachment=Gn,un.color=_n.map(Lt),un.depth=Lt(vn),un.stencil=Lt(Cn),un.depthStencil=Lt(Gn),un.width=rn.width,un.height=rn.height,Bt(rn),un}var rn=new bt;return Be.framebufferCount++,un(dn,Jt),J(un,{resize:function(hn,kn){var Ln=Math.max(0|hn,1),Dn=Math.max(0|kn||Ln,1);if(Ln===rn.width&&Dn===rn.height)return un;for(var zn=rn.colorAttachments,On=0;On<zn.length;++On)Tt(zn[On],Ln,Dn);return Tt(rn.depthAttachment,Ln,Dn),Tt(rn.stencilAttachment,Ln,Dn),Tt(rn.depthStencilAttachment,Ln,Dn),rn.width=un.width=Ln,rn.height=un.height=Dn,Bt(rn),un},_reglType:"framebuffer",_framebuffer:rn,destroy:function(){Ot(rn),Pt(rn)},use:function(hn){on.setFBO({framebuffer:un},hn)}})}var on={cur:null,next:null,dirty:!1,setFBO:null},qt=["rgba"],Wt=["rgba4","rgb565","rgb5 a1"];Ye.ext_srgb&&Wt.push("srgba"),Ye.ext_color_buffer_half_float&&Wt.push("rgba16f","rgb16f"),Ye.webgl_color_buffer_float&&Wt.push("rgba32f");var nn=["uint8"];Ye.oes_texture_half_float&&nn.push("half float","float16"),Ye.oes_texture_float&&nn.push("float","float32");var En=0,Mn={};return J(on,{getFramebuffer:function(dn){return typeof dn=="function"&&dn._reglType==="framebuffer"&&(dn=dn._framebuffer)instanceof bt?dn:null},create:Kt,createCube:function(dn){function Jt(rn){var hn,kn={color:null},Ln=0,Dn=null;hn="rgba";var zn="uint8",On=1;if(typeof rn=="number"?Ln=0|rn:rn?("shape"in rn?Ln=rn.shape[0]:("radius"in rn&&(Ln=0|rn.radius),"width"in rn?Ln=0|rn.width:"height"in rn&&(Ln=0|rn.height)),("color"in rn||"colors"in rn)&&(Dn=rn.color||rn.colors,Array.isArray(Dn)),Dn||("colorCount"in rn&&(On=0|rn.colorCount),"colorType"in rn&&(zn=rn.colorType),"colorFormat"in rn&&(hn=rn.colorFormat)),"depth"in rn&&(kn.depth=rn.depth),"stencil"in rn&&(kn.stencil=rn.stencil),"depthStencil"in rn&&(kn.depthStencil=rn.depthStencil)):Ln=1,Dn)if(Array.isArray(Dn))for(rn=[],hn=0;hn<Dn.length;++hn)rn[hn]=Dn[hn];else rn=[Dn];else for(rn=Array(On),Dn={radius:Ln,format:hn,type:zn},hn=0;hn<On;++hn)rn[hn]=at.createCube(Dn);for(kn.color=Array(rn.length),hn=0;hn<rn.length;++hn)On=rn[hn],Ln=Ln||On.width,kn.color[hn]={target:34069,data:rn[hn]};for(hn=0;6>hn;++hn){for(On=0;On<rn.length;++On)kn.color[On].target=34069+hn;0<hn&&(kn.depth=un[0].depth,kn.stencil=un[0].stencil,kn.depthStencil=un[0].depthStencil),un[hn]?un[hn](kn):un[hn]=Kt(kn)}return J(Jt,{width:Ln,height:Ln,color:rn})}var un=Array(6);return Jt(dn),J(Jt,{faces:un,resize:function(rn){var hn=0|rn;if(hn===Jt.width)return Jt;var kn=Jt.color;for(rn=0;rn<kn.length;++rn)kn[rn].resize(hn);for(rn=0;6>rn;++rn)un[rn].resize(hn);return Jt.width=Jt.height=hn,Jt},_reglType:"framebufferCube",destroy:function(){un.forEach(function(rn){rn.destroy()})}})},clear:function(){me(Mn).forEach(Ot)},restore:function(){on.cur=null,on.next=null,on.dirty=!0,me(Mn).forEach(function(dn){dn.framebuffer=Ne.createFramebuffer(),Bt(dn)})}})}function E(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function C(Ne,Ye,lt,at,Fe,Be,ot){function Xe(){this.id=++yt,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Tt=Ye.oes_vertex_array_object;this.vao=Tt?Tt.createVertexArrayOES():null,ht[this.id]=this,this.buffers=[]}var pt=lt.maxAttributes,mt=Array(pt);for(lt=0;lt<pt;++lt)mt[lt]=new E;var yt=0,ht={},Lt={Record:E,scope:{},state:mt,currentVAO:null,targetVAO:null,restore:Ye.oes_vertex_array_object?function(){Ye.oes_vertex_array_object&&me(ht).forEach(function(Tt){Tt.refresh()})}:function(){},createVAO:function(Tt){function bt(Ot){var Bt;Array.isArray(Ot)?(Bt=Ot,Pt.elements&&Pt.ownsElements&&Pt.elements.destroy(),Pt.elements=null,Pt.ownsElements=!1,Pt.offset=0,Pt.count=0,Pt.instances=-1,Pt.primitive=4):(Ot.elements?(Bt=Ot.elements,Pt.ownsElements?(typeof Bt=="function"&&Bt._reglType==="elements"?Pt.elements.destroy():Pt.elements(Bt),Pt.ownsElements=!1):Be.getElements(Ot.elements)?(Pt.elements=Ot.elements,Pt.ownsElements=!1):(Pt.elements=Be.create(Ot.elements),Pt.ownsElements=!0)):(Pt.elements=null,Pt.ownsElements=!1),Bt=Ot.attributes,Pt.offset=0,Pt.count=-1,Pt.instances=-1,Pt.primitive=4,Pt.elements&&(Pt.count=Pt.elements._elements.vertCount,Pt.primitive=Pt.elements._elements.primType),"offset"in Ot&&(Pt.offset=0|Ot.offset),"count"in Ot&&(Pt.count=0|Ot.count),"instances"in Ot&&(Pt.instances=0|Ot.instances),"primitive"in Ot&&(Pt.primitive=Ee[Ot.primitive])),Ot={};var Kt=Pt.attributes;Kt.length=Bt.length;for(var on=0;on<Bt.length;++on){var qt,Wt=Bt[on],nn=Kt[on]=new E,En=Wt.data||Wt;Array.isArray(En)||ge(En)||t(En)?(Pt.buffers[on]&&(qt=Pt.buffers[on],ge(En)&&qt._buffer.byteLength>=En.byteLength?qt.subdata(En):(qt.destroy(),Pt.buffers[on]=null)),Pt.buffers[on]||(qt=Pt.buffers[on]=Fe.create(Wt,34962,!1,!0)),nn.buffer=Fe.getBuffer(qt),nn.size=0|nn.buffer.dimension,nn.normalized=!1,nn.type=nn.buffer.dtype,nn.offset=0,nn.stride=0,nn.divisor=0,nn.state=1,Ot[on]=1):Fe.getBuffer(Wt)?(nn.buffer=Fe.getBuffer(Wt),nn.size=0|nn.buffer.dimension,nn.normalized=!1,nn.type=nn.buffer.dtype,nn.offset=0,nn.stride=0,nn.divisor=0,nn.state=1):Fe.getBuffer(Wt.buffer)?(nn.buffer=Fe.getBuffer(Wt.buffer),nn.size=0|(+Wt.size||nn.buffer.dimension),nn.normalized=!!Wt.normalized||!1,nn.type="type"in Wt?_e[Wt.type]:nn.buffer.dtype,nn.offset=0|(Wt.offset||0),nn.stride=0|(Wt.stride||0),nn.divisor=0|(Wt.divisor||0),nn.state=1):"x"in Wt&&(nn.x=+Wt.x||0,nn.y=+Wt.y||0,nn.z=+Wt.z||0,nn.w=+Wt.w||0,nn.state=2)}for(qt=0;qt<Pt.buffers.length;++qt)!Ot[qt]&&Pt.buffers[qt]&&(Pt.buffers[qt].destroy(),Pt.buffers[qt]=null);return Pt.refresh(),bt}var Pt=new Xe;return at.vaoCount+=1,bt.destroy=function(){for(var Ot=0;Ot<Pt.buffers.length;++Ot)Pt.buffers[Ot]&&Pt.buffers[Ot].destroy();Pt.buffers.length=0,Pt.ownsElements&&(Pt.elements.destroy(),Pt.elements=null,Pt.ownsElements=!1),Pt.destroy()},bt._vao=Pt,bt._reglType="vao",bt(Tt)},getVAO:function(Tt){return typeof Tt=="function"&&Tt._vao?Tt._vao:null},destroyBuffer:function(Tt){for(var bt=0;bt<mt.length;++bt){var Pt=mt[bt];Pt.buffer===Tt&&(Ne.disableVertexAttribArray(bt),Pt.buffer=null)}},setVAO:Ye.oes_vertex_array_object?function(Tt){if(Tt!==Lt.currentVAO){var bt=Ye.oes_vertex_array_object;Tt?bt.bindVertexArrayOES(Tt.vao):bt.bindVertexArrayOES(null),Lt.currentVAO=Tt}}:function(Tt){if(Tt!==Lt.currentVAO){if(Tt)Tt.bindAttrs();else{for(var bt=Ye.angle_instanced_arrays,Pt=0;Pt<mt.length;++Pt){var Ot=mt[Pt];Ot.buffer?(Ne.enableVertexAttribArray(Pt),Ot.buffer.bind(),Ne.vertexAttribPointer(Pt,Ot.size,Ot.type,Ot.normalized,Ot.stride,Ot.offfset),bt&&Ot.divisor&&bt.vertexAttribDivisorANGLE(Pt,Ot.divisor)):(Ne.disableVertexAttribArray(Pt),Ne.vertexAttrib4f(Pt,Ot.x,Ot.y,Ot.z,Ot.w))}ot.elements?Ne.bindBuffer(34963,ot.elements.buffer.buffer):Ne.bindBuffer(34963,null)}Lt.currentVAO=Tt}},clear:Ye.oes_vertex_array_object?function(){me(ht).forEach(function(Tt){Tt.destroy()})}:function(){}};return Xe.prototype.bindAttrs=function(){for(var Tt=Ye.angle_instanced_arrays,bt=this.attributes,Pt=0;Pt<bt.length;++Pt){var Ot=bt[Pt];Ot.buffer?(Ne.enableVertexAttribArray(Pt),Ne.bindBuffer(34962,Ot.buffer.buffer),Ne.vertexAttribPointer(Pt,Ot.size,Ot.type,Ot.normalized,Ot.stride,Ot.offset),Tt&&Ot.divisor&&Tt.vertexAttribDivisorANGLE(Pt,Ot.divisor)):(Ne.disableVertexAttribArray(Pt),Ne.vertexAttrib4f(Pt,Ot.x,Ot.y,Ot.z,Ot.w))}for(Tt=bt.length;Tt<pt;++Tt)Ne.disableVertexAttribArray(Tt);(Tt=Be.getElements(this.elements))?Ne.bindBuffer(34963,Tt.buffer.buffer):Ne.bindBuffer(34963,null)},Xe.prototype.refresh=function(){var Tt=Ye.oes_vertex_array_object;Tt&&(Tt.bindVertexArrayOES(this.vao),this.bindAttrs(),Lt.currentVAO=null,Tt.bindVertexArrayOES(null))},Xe.prototype.destroy=function(){if(this.vao){var Tt=Ye.oes_vertex_array_object;this===Lt.currentVAO&&(Lt.currentVAO=null,Tt.bindVertexArrayOES(null)),Tt.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),ht[this.id]&&(delete ht[this.id],--at.vaoCount)},Lt}function O(Ne,Ye,lt,at){function Fe(bt,Pt,Ot,Bt){this.name=bt,this.id=Pt,this.location=Ot,this.info=Bt}function Be(bt,Pt){for(var Ot=0;Ot<bt.length;++Ot)if(bt[Ot].id===Pt.id)return void(bt[Ot].location=Pt.location);bt.push(Pt)}function ot(bt,Pt,Ot){if(!(Kt=(Ot=bt===35632?mt:yt)[Pt])){var Bt=Ye.str(Pt),Kt=Ne.createShader(bt);Ne.shaderSource(Kt,Bt),Ne.compileShader(Kt),Ot[Pt]=Kt}return Kt}function Xe(bt,Pt){this.id=Tt++,this.fragId=bt,this.vertId=Pt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,at.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function pt(bt,Pt,Ot){var Bt;Bt=ot(35632,bt.fragId);var Kt=ot(35633,bt.vertId);if(Pt=bt.program=Ne.createProgram(),Ne.attachShader(Pt,Bt),Ne.attachShader(Pt,Kt),Ot)for(Bt=0;Bt<Ot.length;++Bt)Kt=Ot[Bt],Ne.bindAttribLocation(Pt,Kt[0],Kt[1]);Ne.linkProgram(Pt),Kt=Ne.getProgramParameter(Pt,35718),at.profile&&(bt.stats.uniformsCount=Kt);var on=bt.uniforms;for(Bt=0;Bt<Kt;++Bt)if(Ot=Ne.getActiveUniform(Pt,Bt))if(1<Ot.size)for(var qt=0;qt<Ot.size;++qt){var Wt=Ot.name.replace("[0]","["+qt+"]");Be(on,new Fe(Wt,Ye.id(Wt),Ne.getUniformLocation(Pt,Wt),Ot))}else Be(on,new Fe(Ot.name,Ye.id(Ot.name),Ne.getUniformLocation(Pt,Ot.name),Ot));for(Kt=Ne.getProgramParameter(Pt,35721),at.profile&&(bt.stats.attributesCount=Kt),bt=bt.attributes,Bt=0;Bt<Kt;++Bt)(Ot=Ne.getActiveAttrib(Pt,Bt))&&Be(bt,new Fe(Ot.name,Ye.id(Ot.name),Ne.getAttribLocation(Pt,Ot.name),Ot))}var mt={},yt={},ht={},Lt=[],Tt=0;return at.profile&&(lt.getMaxUniformsCount=function(){var bt=0;return Lt.forEach(function(Pt){Pt.stats.uniformsCount>bt&&(bt=Pt.stats.uniformsCount)}),bt},lt.getMaxAttributesCount=function(){var bt=0;return Lt.forEach(function(Pt){Pt.stats.attributesCount>bt&&(bt=Pt.stats.attributesCount)}),bt}),{clear:function(){var bt=Ne.deleteShader.bind(Ne);me(mt).forEach(bt),mt={},me(yt).forEach(bt),yt={},Lt.forEach(function(Pt){Ne.deleteProgram(Pt.program)}),Lt.length=0,ht={},lt.shaderCount=0},program:function(bt,Pt,Ot,Bt){var Kt=ht[Pt];Kt||(Kt=ht[Pt]={});var on=Kt[bt];if(on&&(on.refCount++,!Bt))return on;var qt=new Xe(Pt,bt);return lt.shaderCount++,pt(qt,Ot,Bt),on||(Kt[bt]=qt),Lt.push(qt),J(qt,{destroy:function(){if(qt.refCount--,0>=qt.refCount){Ne.deleteProgram(qt.program);var Wt=Lt.indexOf(qt);Lt.splice(Wt,1),lt.shaderCount--}0>=Kt[qt.vertId].refCount&&(Ne.deleteShader(yt[qt.vertId]),delete yt[qt.vertId],delete ht[qt.fragId][qt.vertId]),Object.keys(ht[qt.fragId]).length||(Ne.deleteShader(mt[qt.fragId]),delete mt[qt.fragId],delete ht[qt.fragId])}})},restore:function(){mt={},yt={};for(var bt=0;bt<Lt.length;++bt)pt(Lt[bt],null,Lt[bt].attributes.map(function(Pt){return[Pt.location,Pt.name]}))},shader:ot,frag:-1,vert:-1}}function I(Ne,Ye,lt,at,Fe,Be,ot){function Xe(pt){var mt;mt=Ye.next===null?5121:Ye.next.colorAttachments[0].texture._texture.type;var yt=0,ht=0,Lt=at.framebufferWidth,Tt=at.framebufferHeight,bt=null;return ge(pt)?bt=pt:pt&&(yt=0|pt.x,ht=0|pt.y,Lt=0|(pt.width||at.framebufferWidth-yt),Tt=0|(pt.height||at.framebufferHeight-ht),bt=pt.data||null),lt(),pt=Lt*Tt*4,bt||(mt===5121?bt=new Uint8Array(pt):mt===5126&&(bt=bt||new Float32Array(pt))),Ne.pixelStorei(3333,4),Ne.readPixels(yt,ht,Lt,Tt,6408,mt,bt),bt}return function(pt){return pt&&"framebuffer"in pt?function(mt){var yt;return Ye.setFBO({framebuffer:mt.framebuffer},function(){yt=Xe(mt)}),yt}(pt):Xe(pt)}}function z(Ne,Ye){return Ne>>>Ye|Ne<<32-Ye}function U(Ne,Ye){var lt=(65535&Ne)+(65535&Ye);return(Ne>>16)+(Ye>>16)+(lt>>16)<<16|65535&lt}function D(Ne){return Array.prototype.slice.call(Ne)}function B(Ne){return D(Ne).join("")}function Z(Ne){function Ye(){var yt=[],ht=[];return J(function(){yt.push.apply(yt,D(arguments))},{def:function(){var Lt="v"+Fe++;return ht.push(Lt),0<arguments.length&&(yt.push(Lt,"="),yt.push.apply(yt,D(arguments)),yt.push(";")),Lt},toString:function(){return B([0<ht.length?"var "+ht.join(",")+";":"",B(yt)])}})}function lt(){function yt(Pt,Ot){Lt(Pt,Ot,"=",ht.def(Pt,Ot),";")}var ht=Ye(),Lt=Ye(),Tt=ht.toString,bt=Lt.toString;return J(function(){ht.apply(ht,D(arguments))},{def:ht.def,entry:ht,exit:Lt,save:yt,set:function(Pt,Ot,Bt){yt(Pt,Ot),ht(Pt,Ot,"=",Bt,";")},toString:function(){return Tt()+bt()}})}var at=Ne&&Ne.cache,Fe=0,Be=[],ot=[],Xe=[],pt=Ye(),mt={};return{global:pt,link:function(yt,ht){var Lt=ht&&ht.stable;if(!Lt){for(var Tt=0;Tt<ot.length;++Tt)if(ot[Tt]===yt&&!Xe[Tt])return Be[Tt]}return Tt="g"+Fe++,Be.push(Tt),ot.push(yt),Xe.push(Lt),Tt},block:Ye,proc:function(yt,ht){function Lt(){var Ot="a"+Tt.length;return Tt.push(Ot),Ot}var Tt=[];ht=ht||0;for(var bt=0;bt<ht;++bt)Lt();var Pt=(bt=lt()).toString;return mt[yt]=J(bt,{arg:Lt,toString:function(){return B(["function(",Tt.join(),"){",Pt(),"}"])}})},scope:lt,cond:function(){var yt=B(arguments),ht=lt(),Lt=lt(),Tt=ht.toString,bt=Lt.toString;return J(ht,{then:function(){return ht.apply(ht,D(arguments)),this},else:function(){return Lt.apply(Lt,D(arguments)),this},toString:function(){var Pt=bt();return Pt&&(Pt="else{"+Pt+"}"),B(["if(",yt,"){",Tt(),"}",Pt])}})},compile:function(){var yt=['"use strict";',pt,"return {"];Object.keys(mt).forEach(function(Tt){yt.push('"',Tt,'":',mt[Tt].toString(),",")}),yt.push("}");var ht,Lt=B(yt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`);return at&&(ht=function(Tt){for(var bt,Pt="",Ot=0;Ot<Tt.length;Ot++)bt=Tt.charCodeAt(Ot),Pt+="0123456789abcdef".charAt(bt>>>4&15)+"0123456789abcdef".charAt(15&bt);return Pt}(function(Tt){for(var bt=Array(Tt.length>>2),Pt=0;Pt<bt.length;Pt++)bt[Pt]=0;for(Pt=0;Pt<8*Tt.length;Pt+=8)bt[Pt>>5]|=(255&Tt.charCodeAt(Pt/8))<<24-Pt%32;var Ot,Bt,Kt,on,qt,Wt,nn,En,Mn,dn,Jt,un=8*Tt.length;for(Tt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Pt=Array(64),bt[un>>5]|=128<<24-un%32,bt[15+(un+64>>9<<4)]=un,En=0;En<bt.length;En+=16){for(un=Tt[0],Ot=Tt[1],Bt=Tt[2],Kt=Tt[3],on=Tt[4],qt=Tt[5],Wt=Tt[6],nn=Tt[7],Mn=0;64>Mn;Mn++){var rn;16>Mn?Pt[Mn]=bt[Mn+En]:(dn=Mn,Jt=U(Jt=z(Jt=Pt[Mn-2],17)^z(Jt,19)^Jt>>>10,Pt[Mn-7]),rn=z(rn=Pt[Mn-15],7)^z(rn,18)^rn>>>3,Pt[dn]=U(U(Jt,rn),Pt[Mn-16])),dn=U(U(U(U(nn,dn=z(dn=on,6)^z(dn,11)^z(dn,25)),on&qt^~on&Wt),et[Mn]),Pt[Mn]),Jt=U(nn=z(nn=un,2)^z(nn,13)^z(nn,22),un&Ot^un&Bt^Ot&Bt),nn=Wt,Wt=qt,qt=on,on=U(Kt,dn),Kt=Bt,Bt=Ot,Ot=un,un=U(dn,Jt)}Tt[0]=U(un,Tt[0]),Tt[1]=U(Ot,Tt[1]),Tt[2]=U(Bt,Tt[2]),Tt[3]=U(Kt,Tt[3]),Tt[4]=U(on,Tt[4]),Tt[5]=U(qt,Tt[5]),Tt[6]=U(Wt,Tt[6]),Tt[7]=U(nn,Tt[7])}for(bt="",Pt=0;Pt<32*Tt.length;Pt+=8)bt+=String.fromCharCode(Tt[Pt>>5]>>>24-Pt%32&255);return bt}(function(Tt){for(var bt,Pt,Ot="",Bt=-1;++Bt<Tt.length;)bt=Tt.charCodeAt(Bt),Pt=Bt+1<Tt.length?Tt.charCodeAt(Bt+1):0,55296<=bt&&56319>=bt&&56320<=Pt&&57343>=Pt&&(bt=65536+((1023&bt)<<10)+(1023&Pt),Bt++),127>=bt?Ot+=String.fromCharCode(bt):2047>=bt?Ot+=String.fromCharCode(192|bt>>>6&31,128|63&bt):65535>=bt?Ot+=String.fromCharCode(224|bt>>>12&15,128|bt>>>6&63,128|63&bt):2097151>=bt&&(Ot+=String.fromCharCode(240|bt>>>18&7,128|bt>>>12&63,128|bt>>>6&63,128|63&bt));return Ot}(Lt))),at[ht])?at[ht].apply(null,ot):(Lt=Function.apply(null,Be.concat(Lt)),at&&(at[ht]=Lt),Lt.apply(null,ot))}}}function F(Ne){return Array.isArray(Ne)||ge(Ne)||t(Ne)}function j(Ne){return Ne.sort(function(Ye,lt){return Ye==="viewport"?-1:lt==="viewport"?1:Ye<lt?-1:1})}function V(Ne,Ye,lt,at){this.thisDep=Ne,this.contextDep=Ye,this.propDep=lt,this.append=at}function te(Ne){return Ne&&!(Ne.thisDep||Ne.contextDep||Ne.propDep)}function Q(Ne){return new V(!1,!1,!1,Ne)}function $(Ne,Ye){var lt=Ne.type;if(lt===0)return new V(!0,1<=(lt=Ne.data.length),2<=lt,Ye);if(lt===4)return new V((lt=Ne.data).thisDep,lt.contextDep,lt.propDep,Ye);if(lt===5)return new V(!1,!1,!1,Ye);if(lt===6){for(var at=lt=!1,Fe=!1,Be=0;Be<Ne.data.length;++Be){var ot=Ne.data[Be];ot.type===1?Fe=!0:ot.type===2?at=!0:ot.type===3?lt=!0:ot.type===0?(lt=!0,1<=(ot=ot.data)&&(at=!0),2<=ot&&(Fe=!0)):ot.type===4&&(lt=lt||ot.data.thisDep,at=at||ot.data.contextDep,Fe=Fe||ot.data.propDep)}return new V(lt,at,Fe,Ye)}return new V(lt===3,lt===2,lt===1,Ye)}function G(Ne,Ye,lt,at,Fe,Be,ot,Xe,pt,mt,yt,ht,Lt,Tt,bt,Pt){function Ot(It){return It.replace(".","_")}function Bt(It,Xt,tn){var bn=Ot(It);Gn.push(It),Cn[bn]=vn[bn]=!!tn,Fn[bn]=Xt}function Kt(It,Xt,tn){var bn=Ot(It);Gn.push(It),Array.isArray(tn)?(vn[bn]=tn.slice(),Cn[bn]=tn.slice()):vn[bn]=Cn[bn]=tn,Nn[bn]=Xt}function on(){var It=Z({cache:bt}),Xt=It.link,tn=It.global;It.id=mn++,It.batchId="0";var bn=Xt(rr),yn=It.shared={props:"a0"};Object.keys(rr).forEach(function(ln){yn[ln]=tn.def(bn,".",ln)});var Tn=It.next={},fn=It.current={};Object.keys(Nn).forEach(function(ln){Array.isArray(vn[ln])&&(Tn[ln]=tn.def(yn.next,".",ln),fn[ln]=tn.def(yn.current,".",ln))});var Qt=It.constants={};Object.keys(Zt).forEach(function(ln){Qt[ln]=tn.def(JSON.stringify(Zt[ln]))}),It.invoke=function(ln,pn){switch(pn.type){case 0:var Sn=["this",yn.context,yn.props,It.batchId];return ln.def(Xt(pn.data),".call(",Sn.slice(0,Math.max(pn.data.length+1,4)),")");case 1:return ln.def(yn.props,pn.data);case 2:return ln.def(yn.context,pn.data);case 3:return ln.def("this",pn.data);case 4:return pn.data.append(It,ln),pn.data.ref;case 5:return pn.data.toString();case 6:return pn.data.map(function(In){return It.invoke(ln,In)})}},It.attribCache={};var en={};return It.scopeAttrib=function(ln){if((ln=Ye.id(ln))in en)return en[ln];var pn=mt.scope[ln];return pn||(pn=mt.scope[ln]=new er),en[ln]=Xt(pn)},It}function qt(It,Xt){var tn=It.static,bn=It.dynamic;if("framebuffer"in tn){var yn=tn.framebuffer;return yn?(yn=Xe.getFramebuffer(yn),Q(function(fn,Qt){var en=fn.link(yn),ln=fn.shared;return Qt.set(ln.framebuffer,".next",en),ln=ln.context,Qt.set(ln,".framebufferWidth",en+".width"),Qt.set(ln,".framebufferHeight",en+".height"),en})):Q(function(fn,Qt){var en=fn.shared;return Qt.set(en.framebuffer,".next","null"),en=en.context,Qt.set(en,".framebufferWidth",en+".drawingBufferWidth"),Qt.set(en,".framebufferHeight",en+".drawingBufferHeight"),"null"})}if("framebuffer"in bn){var Tn=bn.framebuffer;return $(Tn,function(fn,Qt){var en=fn.invoke(Qt,Tn),ln=fn.shared,pn=ln.framebuffer;return en=Qt.def(pn,".getFramebuffer(",en,")"),Qt.set(pn,".next",en),ln=ln.context,Qt.set(ln,".framebufferWidth",en+"?"+en+".width:"+ln+".drawingBufferWidth"),Qt.set(ln,".framebufferHeight",en+"?"+en+".height:"+ln+".drawingBufferHeight"),en})}return null}function Wt(It,Xt,tn){function bn(ln){if(ln in yn){var pn=Ye.id(yn[ln]);return(ln=Q(function(){return pn})).id=pn,ln}if(ln in Tn){var Sn=Tn[ln];return $(Sn,function(In,Vn){var qn=In.invoke(Vn,Sn);return Vn.def(In.shared.strings,".id(",qn,")")})}return null}var yn=It.static,Tn=It.dynamic,fn=bn("frag"),Qt=bn("vert"),en=null;return te(fn)&&te(Qt)?(en=yt.program(Qt.id,fn.id,null,tn),It=Q(function(ln,pn){return ln.link(en)})):It=new V(fn&&fn.thisDep||Qt&&Qt.thisDep,fn&&fn.contextDep||Qt&&Qt.contextDep,fn&&fn.propDep||Qt&&Qt.propDep,function(ln,pn){var Sn,In,Vn=ln.shared.shader;return Sn=fn?fn.append(ln,pn):pn.def(Vn,".","frag"),In=Qt?Qt.append(ln,pn):pn.def(Vn,".","vert"),pn.def(Vn+".program("+In+","+Sn+")")}),{frag:fn,vert:Qt,progVar:It,program:en}}function nn(It,Xt){function tn(qn,$n){if(qn in bn){var Zn=0|bn[qn];return $n?Tn.offset=Zn:Tn.instances=Zn,Q(function(tr,Qn){return $n&&(tr.OFFSET=Zn),Zn})}if(qn in yn){var or=yn[qn];return $(or,function(tr,Qn){var mr=tr.invoke(Qn,or);return $n&&(tr.OFFSET=mr),mr})}if($n){if(en)return Q(function(tr,Qn){return tr.OFFSET=0});if(fn)return new V(Qt.thisDep,Qt.contextDep,Qt.propDep,function(tr,Qn){return Qn.def(tr.shared.vao+".currentVAO?"+tr.shared.vao+".currentVAO.offset:0")})}else if(fn)return new V(Qt.thisDep,Qt.contextDep,Qt.propDep,function(tr,Qn){return Qn.def(tr.shared.vao+".currentVAO?"+tr.shared.vao+".currentVAO.instances:-1")});return null}var bn=It.static,yn=It.dynamic,Tn={},fn=!1,Qt=function(){if("vao"in bn){var qn=bn.vao;return qn!==null&&mt.getVAO(qn)===null&&(qn=mt.createVAO(qn)),fn=!0,Tn.vao=qn,Q(function(Zn){var or=mt.getVAO(qn);return or?Zn.link(or):"null"})}if("vao"in yn){fn=!0;var $n=yn.vao;return $($n,function(Zn,or){var tr=Zn.invoke(or,$n);return or.def(Zn.shared.vao+".getVAO("+tr+")")})}return null}(),en=!1,ln=function(){if("elements"in bn){var qn=bn.elements;if(Tn.elements=qn,F(qn)){var $n=Tn.elements=Be.create(qn,!0);qn=Be.getElements($n),en=!0}else qn&&(qn=Be.getElements(qn),en=!0);return $n=Q(function(or,tr){if(qn){var Qn=or.link(qn);return or.ELEMENTS=Qn}return or.ELEMENTS=null}),$n.value=qn,$n}if("elements"in yn){en=!0;var Zn=yn.elements;return $(Zn,function(or,tr){var Qn=(mr=or.shared).isBufferArgs,mr=mr.elements,fr=or.invoke(tr,Zn),dr=tr.def("null");return Qn=tr.def(Qn,"(",fr,")"),fr=or.cond(Qn).then(dr,"=",mr,".createStream(",fr,");").else(dr,"=",mr,".getElements(",fr,");"),tr.entry(fr),tr.exit(or.cond(Qn).then(mr,".destroyStream(",dr,");")),or.ELEMENTS=dr})}return fn?new V(Qt.thisDep,Qt.contextDep,Qt.propDep,function(or,tr){return tr.def(or.shared.vao+".currentVAO?"+or.shared.elements+".getElements("+or.shared.vao+".currentVAO.elements):null")}):null}(),pn=tn("offset",!0),Sn=function(){if("primitive"in bn){var qn=bn.primitive;return Tn.primitive=qn,Q(function(Zn,or){return Ee[qn]})}if("primitive"in yn){var $n=yn.primitive;return $($n,function(Zn,or){var tr=Zn.constants.primTypes,Qn=Zn.invoke(or,$n);return or.def(tr,"[",Qn,"]")})}return en?te(ln)?ln.value?Q(function(Zn,or){return or.def(Zn.ELEMENTS,".primType")}):Q(function(){return 4}):new V(ln.thisDep,ln.contextDep,ln.propDep,function(Zn,or){var tr=Zn.ELEMENTS;return or.def(tr,"?",tr,".primType:",4)}):fn?new V(Qt.thisDep,Qt.contextDep,Qt.propDep,function(Zn,or){return or.def(Zn.shared.vao+".currentVAO?"+Zn.shared.vao+".currentVAO.primitive:4")}):null}(),In=function(){if("count"in bn){var qn=0|bn.count;return Tn.count=qn,Q(function(){return qn})}if("count"in yn){var $n=yn.count;return $($n,function(Zn,or){return Zn.invoke(or,$n)})}return en?te(ln)?ln?pn?new V(pn.thisDep,pn.contextDep,pn.propDep,function(Zn,or){return or.def(Zn.ELEMENTS,".vertCount-",Zn.OFFSET)}):Q(function(Zn,or){return or.def(Zn.ELEMENTS,".vertCount")}):Q(function(){return-1}):new V(ln.thisDep||pn.thisDep,ln.contextDep||pn.contextDep,ln.propDep||pn.propDep,function(Zn,or){var tr=Zn.ELEMENTS;return Zn.OFFSET?or.def(tr,"?",tr,".vertCount-",Zn.OFFSET,":-1"):or.def(tr,"?",tr,".vertCount:-1")}):fn?new V(Qt.thisDep,Qt.contextDep,Qt.propDep,function(Zn,or){return or.def(Zn.shared.vao,".currentVAO?",Zn.shared.vao,".currentVAO.count:-1")}):null}(),Vn=tn("instances",!1);return{elements:ln,primitive:Sn,count:In,instances:Vn,offset:pn,vao:Qt,vaoActive:fn,elementsActive:en,static:Tn}}function En(It,Xt){var tn=It.static,bn=It.dynamic,yn={};return Object.keys(tn).forEach(function(Tn){var fn=tn[Tn],Qt=Ye.id(Tn),en=new er;if(F(fn))en.state=1,en.buffer=Fe.getBuffer(Fe.create(fn,34962,!1,!0)),en.type=0;else if(pn=Fe.getBuffer(fn))en.state=1,en.buffer=pn,en.type=0;else if("constant"in fn){var ln=fn.constant;en.buffer="null",en.state=2,typeof ln=="number"?en.x=ln:nt.forEach(function(Zn,or){or<ln.length&&(en[Zn]=ln[or])})}else{var pn=F(fn.buffer)?Fe.getBuffer(Fe.create(fn.buffer,34962,!1,!0)):Fe.getBuffer(fn.buffer),Sn=0|fn.offset,In=0|fn.stride,Vn=0|fn.size,qn=!!fn.normalized,$n=0;"type"in fn&&($n=_e[fn.type]),fn=0|fn.divisor,en.buffer=pn,en.state=1,en.size=Vn,en.normalized=qn,en.type=$n||pn.dtype,en.offset=Sn,en.stride=In,en.divisor=fn}yn[Tn]=Q(function(Zn,or){var tr=Zn.attribCache;if(Qt in tr)return tr[Qt];var Qn={isStream:!1};return Object.keys(en).forEach(function(mr){Qn[mr]=en[mr]}),en.buffer&&(Qn.buffer=Zn.link(en.buffer),Qn.type=Qn.type||Qn.buffer+".dtype"),tr[Qt]=Qn})}),Object.keys(bn).forEach(function(Tn){var fn=bn[Tn];yn[Tn]=$(fn,function(Qt,en){function ln(tr){en(qn[tr],"=",pn,".",tr,"|0;")}var pn=Qt.invoke(en,fn),Sn=Qt.shared,In=Qt.constants,Vn=Sn.isBufferArgs,qn=(Sn=Sn.buffer,{isStream:en.def(!1)}),$n=new er;$n.state=1,Object.keys($n).forEach(function(tr){qn[tr]=en.def(""+$n[tr])});var Zn=qn.buffer,or=qn.type;return en("if(",Vn,"(",pn,")){",qn.isStream,"=true;",Zn,"=",Sn,".createStream(",34962,",",pn,");",or,"=",Zn,".dtype;","}else{",Zn,"=",Sn,".getBuffer(",pn,");","if(",Zn,"){",or,"=",Zn,".dtype;",'}else if("constant" in ',pn,"){",qn.state,"=",2,";","if(typeof "+pn+'.constant === "number"){',qn[nt[0]],"=",pn,".constant;",nt.slice(1).map(function(tr){return qn[tr]}).join("="),"=0;","}else{",nt.map(function(tr,Qn){return qn[tr]+"="+pn+".constant.length>"+Qn+"?"+pn+".constant["+Qn+"]:0;"}).join(""),"}}else{","if(",Vn,"(",pn,".buffer)){",Zn,"=",Sn,".createStream(",34962,",",pn,".buffer);","}else{",Zn,"=",Sn,".getBuffer(",pn,".buffer);","}",or,'="type" in ',pn,"?",In.glTypes,"[",pn,".type]:",Zn,".dtype;",qn.normalized,"=!!",pn,".normalized;"),ln("size"),ln("offset"),ln("stride"),ln("divisor"),en("}}"),en.exit("if(",qn.isStream,"){",Sn,".destroyStream(",Zn,");","}"),qn})}),yn}function Mn(It,Xt,tn,bn,yn){function Tn($n){var Zn=Qt[$n];Zn&&(ln[$n]=Zn)}var fn=function($n,Zn){if(typeof(or=$n.static).frag=="string"&&typeof or.vert=="string"){if(0<Object.keys(Zn.dynamic).length)return null;var or=Zn.static,tr=Object.keys(or);if(0<tr.length&&typeof or[tr[0]]=="number"){for(var Qn=[],mr=0;mr<tr.length;++mr)Qn.push([0|or[tr[mr]],tr[mr]]);return Qn}}return null}(It,Xt),Qt=function($n,Zn,or){function tr(dr){if(dr in Qn){var sr=Qn[dr];dr=!0;var xr,Sr,Br=0|sr.x,hi=0|sr.y;return"width"in sr?xr=0|sr.width:dr=!1,"height"in sr?Sr=0|sr.height:dr=!1,new V(!dr&&Zn&&Zn.thisDep,!dr&&Zn&&Zn.contextDep,!dr&&Zn&&Zn.propDep,function(Gi,ui){var Ri=Gi.shared.context,_a=xr;"width"in sr||(_a=ui.def(Ri,".","framebufferWidth","-",Br));var wa=Sr;return"height"in sr||(wa=ui.def(Ri,".","framebufferHeight","-",hi)),[Br,hi,_a,wa]})}if(dr in mr){var di=mr[dr];return dr=$(di,function(Gi,ui){var Ri=Gi.invoke(ui,di),_a=Gi.shared.context,wa=ui.def(Ri,".x|0"),us=ui.def(Ri,".y|0");return[wa,us,ui.def('"width" in ',Ri,"?",Ri,".width|0:","(",_a,".","framebufferWidth","-",wa,")"),Ri=ui.def('"height" in ',Ri,"?",Ri,".height|0:","(",_a,".","framebufferHeight","-",us,")")]}),Zn&&(dr.thisDep=dr.thisDep||Zn.thisDep,dr.contextDep=dr.contextDep||Zn.contextDep,dr.propDep=dr.propDep||Zn.propDep),dr}return Zn?new V(Zn.thisDep,Zn.contextDep,Zn.propDep,function(Gi,ui){var Ri=Gi.shared.context;return[0,0,ui.def(Ri,".","framebufferWidth"),ui.def(Ri,".","framebufferHeight")]}):null}var Qn=$n.static,mr=$n.dynamic;if($n=tr("viewport")){var fr=$n;$n=new V($n.thisDep,$n.contextDep,$n.propDep,function(dr,sr){var xr=fr.append(dr,sr),Sr=dr.shared.context;return sr.set(Sr,".viewportWidth",xr[2]),sr.set(Sr,".viewportHeight",xr[3]),xr})}return{viewport:$n,scissor_box:tr("scissor.box")}}(It,Sn=qt(It)),en=nn(It),ln=function($n,Zn){var or=$n.static,tr=$n.dynamic,Qn={};return Gn.forEach(function(mr){function fr(sr,xr){if(mr in or){var Sr=sr(or[mr]);Qn[dr]=Q(function(){return Sr})}else if(mr in tr){var Br=tr[mr];Qn[dr]=$(Br,function(hi,di){return xr(hi,di,hi.invoke(di,Br))})}}var dr=Ot(mr);switch(mr){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return fr(function(sr){return sr},function(sr,xr,Sr){return Sr});case"depth.func":return fr(function(sr){return Ft[sr]},function(sr,xr,Sr){return xr.def(sr.constants.compareFuncs,"[",Sr,"]")});case"depth.range":return fr(function(sr){return sr},function(sr,xr,Sr){return[xr.def("+",Sr,"[0]"),xr=xr.def("+",Sr,"[1]")]});case"blend.func":return fr(function(sr){return[zt["srcRGB"in sr?sr.srcRGB:sr.src],zt["dstRGB"in sr?sr.dstRGB:sr.dst],zt["srcAlpha"in sr?sr.srcAlpha:sr.src],zt["dstAlpha"in sr?sr.dstAlpha:sr.dst]]},function(sr,xr,Sr){function Br(ui,Ri){return xr.def('"',ui,Ri,'" in ',Sr,"?",Sr,".",ui,Ri,":",Sr,".",ui)}sr=sr.constants.blendFuncs;var hi=Br("src","RGB"),di=Br("dst","RGB"),Gi=(hi=xr.def(sr,"[",hi,"]"),xr.def(sr,"[",Br("src","Alpha"),"]"));return[hi,di=xr.def(sr,"[",di,"]"),Gi,sr=xr.def(sr,"[",Br("dst","Alpha"),"]")]});case"blend.equation":return fr(function(sr){return typeof sr=="string"?[Tr[sr],Tr[sr]]:typeof sr=="object"?[Tr[sr.rgb],Tr[sr.alpha]]:void 0},function(sr,xr,Sr){var Br=sr.constants.blendEquations,hi=xr.def(),di=xr.def();return(sr=sr.cond("typeof ",Sr,'==="string"')).then(hi,"=",di,"=",Br,"[",Sr,"];"),sr.else(hi,"=",Br,"[",Sr,".rgb];",di,"=",Br,"[",Sr,".alpha];"),xr(sr),[hi,di]});case"blend.color":return fr(function(sr){return b(4,function(xr){return+sr[xr]})},function(sr,xr,Sr){return b(4,function(Br){return xr.def("+",Sr,"[",Br,"]")})});case"stencil.mask":return fr(function(sr){return 0|sr},function(sr,xr,Sr){return xr.def(Sr,"|0")});case"stencil.func":return fr(function(sr){return[Ft[sr.cmp||"keep"],sr.ref||0,"mask"in sr?sr.mask:-1]},function(sr,xr,Sr){return[sr=xr.def('"cmp" in ',Sr,"?",sr.constants.compareFuncs,"[",Sr,".cmp]",":",7680),xr.def(Sr,".ref|0"),xr=xr.def('"mask" in ',Sr,"?",Sr,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return fr(function(sr){return[mr==="stencil.opBack"?1029:1028,Rt[sr.fail||"keep"],Rt[sr.zfail||"keep"],Rt[sr.zpass||"keep"]]},function(sr,xr,Sr){function Br(di){return xr.def('"',di,'" in ',Sr,"?",hi,"[",Sr,".",di,"]:",7680)}var hi=sr.constants.stencilOps;return[mr==="stencil.opBack"?1029:1028,Br("fail"),Br("zfail"),Br("zpass")]});case"polygonOffset.offset":return fr(function(sr){return[0|sr.factor,0|sr.units]},function(sr,xr,Sr){return[xr.def(Sr,".factor|0"),xr=xr.def(Sr,".units|0")]});case"cull.face":return fr(function(sr){var xr=0;return sr==="front"?xr=1028:sr==="back"&&(xr=1029),xr},function(sr,xr,Sr){return xr.def(Sr,'==="front"?',1028,":",1029)});case"frontFace":return fr(function(sr){return We[sr]},function(sr,xr,Sr){return xr.def(Sr+'==="cw"?2304:2305')});case"colorMask":return fr(function(sr){return sr.map(function(xr){return!!xr})},function(sr,xr,Sr){return b(4,function(Br){return"!!"+Sr+"["+Br+"]"})});case"sample.coverage":return fr(function(sr){return["value"in sr?sr.value:1,!!sr.invert]},function(sr,xr,Sr){return[xr.def('"value" in ',Sr,"?+",Sr,".value:1"),xr=xr.def("!!",Sr,".invert")]})}}),Qn}(It),pn=Wt(It,0,fn);Tn("viewport"),Tn(Ot("scissor.box"));var Sn,In=0<Object.keys(ln).length;if((Sn={framebuffer:Sn,draw:en,shader:pn,state:ln,dirty:In,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function($n){var Zn,or=$n.static;if($n=$n.dynamic,"profile"in or){var tr=!!or.profile;(Zn=Q(function(mr,fr){return tr})).enable=tr}else if("profile"in $n){var Qn=$n.profile;Zn=$(Qn,function(mr,fr){return mr.invoke(fr,Qn)})}return Zn}(It),Sn.uniforms=function($n,Zn){var or=$n.static,tr=$n.dynamic,Qn={};return Object.keys(or).forEach(function(mr){var fr,dr=or[mr];if(typeof dr=="number"||typeof dr=="boolean")fr=Q(function(){return dr});else if(typeof dr=="function"){var sr=dr._reglType;sr==="texture2d"||sr==="textureCube"?fr=Q(function(xr){return xr.link(dr)}):sr!=="framebuffer"&&sr!=="framebufferCube"||(fr=Q(function(xr){return xr.link(dr.color[0])}))}else x(dr)&&(fr=Q(function(xr){return xr.global.def("[",b(dr.length,function(Sr){return dr[Sr]}),"]")}));fr.value=dr,Qn[mr]=fr}),Object.keys(tr).forEach(function(mr){var fr=tr[mr];Qn[mr]=$(fr,function(dr,sr){return dr.invoke(sr,fr)})}),Qn}(tn),Sn.drawVAO=Sn.scopeVAO=en.vao,!Sn.drawVAO&&pn.program&&!fn&&lt.angle_instanced_arrays&&en.static.elements){var Vn=!0;if(It=pn.program.attributes.map(function($n){return $n=Xt.static[$n],Vn=Vn&&!!$n,$n}),Vn&&0<It.length){var qn=mt.getVAO(mt.createVAO({attributes:It,elements:en.static.elements}));Sn.drawVAO=new V(null,null,null,function($n,Zn){return $n.link(qn)}),Sn.useVAO=!0}}return fn?Sn.useVAO=!0:Sn.attributes=En(Xt),Sn.context=function($n){var Zn=$n.static,or=$n.dynamic,tr={};return Object.keys(Zn).forEach(function(Qn){var mr=Zn[Qn];tr[Qn]=Q(function(fr,dr){return typeof mr=="number"||typeof mr=="boolean"?""+mr:fr.link(mr)})}),Object.keys(or).forEach(function(Qn){var mr=or[Qn];tr[Qn]=$(mr,function(fr,dr){return fr.invoke(dr,mr)})}),tr}(bn),Sn}function dn(It,Xt,tn){var bn=It.shared.context,yn=It.scope();Object.keys(tn).forEach(function(Tn){Xt.save(bn,"."+Tn);var fn=tn[Tn].append(It,Xt);Array.isArray(fn)?yn(bn,".",Tn,"=[",fn.join(),"];"):yn(bn,".",Tn,"=",fn,";")}),Xt(yn)}function Jt(It,Xt,tn,bn){var yn,Tn=(Qt=It.shared).gl,fn=Qt.framebuffer;an&&(yn=Xt.def(Qt.extensions,".webgl_draw_buffers"));var Qt=(en=It.constants).drawBuffer,en=en.backBuffer;It=tn?tn.append(It,Xt):Xt.def(fn,".next"),bn||Xt("if(",It,"!==",fn,".cur){"),Xt("if(",It,"){",Tn,".bindFramebuffer(",36160,",",It,".framebuffer);"),an&&Xt(yn,".drawBuffersWEBGL(",Qt,"[",It,".colorAttachments.length]);"),Xt("}else{",Tn,".bindFramebuffer(",36160,",null);"),an&&Xt(yn,".drawBuffersWEBGL(",en,");"),Xt("}",fn,".cur=",It,";"),bn||Xt("}")}function un(It,Xt,tn){var bn=It.shared,yn=bn.gl,Tn=It.current,fn=It.next,Qt=bn.current,en=bn.next,ln=It.cond(Qt,".dirty");Gn.forEach(function(pn){var Sn,In;if(!((pn=Ot(pn))in tn.state))if(pn in fn){Sn=fn[pn],In=Tn[pn];var Vn=b(vn[pn].length,function(qn){return ln.def(Sn,"[",qn,"]")});ln(It.cond(Vn.map(function(qn,$n){return qn+"!=="+In+"["+$n+"]"}).join("||")).then(yn,".",Nn[pn],"(",Vn,");",Vn.map(function(qn,$n){return In+"["+$n+"]="+qn}).join(";"),";"))}else Sn=ln.def(en,".",pn),Vn=It.cond(Sn,"!==",Qt,".",pn),ln(Vn),pn in Fn?Vn(It.cond(Sn).then(yn,".enable(",Fn[pn],");").else(yn,".disable(",Fn[pn],");"),Qt,".",pn,"=",Sn,";"):Vn(yn,".",Nn[pn],"(",Sn,");",Qt,".",pn,"=",Sn,";")}),Object.keys(tn.state).length===0&&ln(Qt,".dirty=false;"),Xt(ln)}function rn(It,Xt,tn,bn){var yn,Tn=It.shared,fn=It.current,Qt=Tn.current,en=Tn.gl;j(Object.keys(tn)).forEach(function(ln){var pn=tn[ln];if(!bn||bn(pn)){var Sn=pn.append(It,Xt);if(Fn[ln]){var In=Fn[ln];te(pn)?(yn=It.link(Sn,{stable:!0}),Xt(It.cond(yn).then(en,".enable(",In,");").else(en,".disable(",In,");")),Xt(Qt,".",ln,"=",yn,";")):(Xt(It.cond(Sn).then(en,".enable(",In,");").else(en,".disable(",In,");")),Xt(Qt,".",ln,"=",Sn,";"))}else if(x(Sn)){var Vn=fn[ln];Xt(en,".",Nn[ln],"(",Sn,");",Sn.map(function(qn,$n){return Vn+"["+$n+"]="+qn}).join(";"),";")}else te(pn)?(yn=It.link(Sn,{stable:!0}),Xt(en,".",Nn[ln],"(",yn,");",Qt,".",ln,"=",yn,";")):Xt(en,".",Nn[ln],"(",Sn,");",Qt,".",ln,"=",Sn,";")}})}function hn(It,Xt){Ht&&(It.instancing=Xt.def(It.shared.extensions,".angle_instanced_arrays"))}function kn(It,Xt,tn,bn,yn){function Tn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function fn($n){$n(ln=Xt.def(),"=",Tn(),";"),typeof yn=="string"?$n(In,".count+=",yn,";"):$n(In,".count++;"),Tt&&(bn?$n(pn=Xt.def(),"=",qn,".getNumPendingQueries();"):$n(qn,".beginQuery(",In,");"))}function Qt($n){$n(In,".cpuTime+=",Tn(),"-",ln,";"),Tt&&(bn?$n(qn,".pushScopeStats(",pn,",",qn,".getNumPendingQueries(),",In,");"):$n(qn,".endQuery();"))}function en($n){var Zn=Xt.def(Vn,".profile");Xt(Vn,".profile=",$n,";"),Xt.exit(Vn,".profile=",Zn,";")}var ln,pn,Sn=It.shared,In=It.stats,Vn=Sn.current,qn=Sn.timer;if(tn=tn.profile){if(te(tn))return void(tn.enable?(fn(Xt),Qt(Xt.exit),en("true")):en("false"));en(tn=tn.append(It,Xt))}else tn=Xt.def(Vn,".profile");fn(Sn=It.block()),Xt("if(",tn,"){",Sn,"}"),Qt(It=It.block()),Xt.exit("if(",tn,"){",It,"}")}function Ln(It,Xt,tn,bn,yn){function Tn(Qt,en,ln){function pn(){Xt("if(!",qn,".buffer){",In,".enableVertexAttribArray(",Vn,");}");var tr,Qn=ln.type;tr=ln.size?Xt.def(ln.size,"||",en):en,Xt("if(",qn,".type!==",Qn,"||",qn,".size!==",tr,"||",or.map(function(mr){return qn+"."+mr+"!=="+ln[mr]}).join("||"),"){",In,".bindBuffer(",34962,",",$n,".buffer);",In,".vertexAttribPointer(",[Vn,tr,Qn,ln.normalized,ln.stride,ln.offset],");",qn,".type=",Qn,";",qn,".size=",tr,";",or.map(function(mr){return qn+"."+mr+"="+ln[mr]+";"}).join(""),"}"),Ht&&(Qn=ln.divisor,Xt("if(",qn,".divisor!==",Qn,"){",It.instancing,".vertexAttribDivisorANGLE(",[Vn,Qn],");",qn,".divisor=",Qn,";}"))}function Sn(){Xt("if(",qn,".buffer){",In,".disableVertexAttribArray(",Vn,");",qn,".buffer=null;","}if(",nt.map(function(tr,Qn){return qn+"."+tr+"!=="+Zn[Qn]}).join("||"),"){",In,".vertexAttrib4f(",Vn,",",Zn,");",nt.map(function(tr,Qn){return qn+"."+tr+"="+Zn[Qn]+";"}).join(""),"}")}var In=fn.gl,Vn=Xt.def(Qt,".location"),qn=Xt.def(fn.attributes,"[",Vn,"]");Qt=ln.state;var $n=ln.buffer,Zn=[ln.x,ln.y,ln.z,ln.w],or=["buffer","normalized","offset","stride"];Qt===1?pn():Qt===2?Sn():(Xt("if(",Qt,"===",1,"){"),pn(),Xt("}else{"),Sn(),Xt("}"))}var fn=It.shared;bn.forEach(function(Qt){var en,ln=Qt.name,pn=tn.attributes[ln];if(pn){if(!yn(pn))return;en=pn.append(It,Xt)}else{if(!yn(Ze))return;var Sn=It.scopeAttrib(ln);en={},Object.keys(new er).forEach(function(In){en[In]=Xt.def(Sn,".",In)})}Tn(It.link(Qt),function(In){switch(In){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(Qt.info.type),en)})}function Dn(It,Xt,tn,bn,yn,Tn){for(var fn,Qt=It.shared,en=Qt.gl,ln=0;ln<bn.length;++ln){var pn,Sn=(qn=bn[ln]).name,In=qn.info.type,Vn=tn.uniforms[Sn],qn=It.link(qn)+".location";if(Vn){if(!yn(Vn))continue;if(te(Vn)){if(Sn=Vn.value,In===35678||In===35680)Xt(en,".uniform1i(",qn,",",(In=It.link(Sn._texture||Sn.color[0]._texture))+".bind());"),Xt.exit(In,".unbind();");else if(In===35674||In===35675||In===35676)Vn=2,In===35675?Vn=3:In===35676&&(Vn=4),Xt(en,".uniformMatrix",Vn,"fv(",qn,",false,",Sn=It.global.def("new Float32Array(["+Array.prototype.slice.call(Sn)+"])"),");");else{switch(In){case 5126:fn="1f";break;case 35664:fn="2f";break;case 35665:fn="3f";break;case 35666:fn="4f";break;case 35670:case 5124:fn="1i";break;case 35671:case 35667:fn="2i";break;case 35672:case 35668:fn="3i";break;case 35673:case 35669:fn="4i"}Xt(en,".uniform",fn,"(",qn,",",x(Sn)?Array.prototype.slice.call(Sn):Sn,");")}continue}pn=Vn.append(It,Xt)}else{if(!yn(Ze))continue;pn=Xt.def(Qt.uniforms,"[",Ye.id(Sn),"]")}switch(In===35678?Xt("if(",pn,"&&",pn,'._reglType==="framebuffer"){',pn,"=",pn,".color[0];","}"):In===35680&&Xt("if(",pn,"&&",pn,'._reglType==="framebufferCube"){',pn,"=",pn,".color[0];","}"),Sn=1,In){case 35678:case 35680:In=Xt.def(pn,"._texture"),Xt(en,".uniform1i(",qn,",",In,".bind());"),Xt.exit(In,".unbind();");continue;case 5124:case 35670:fn="1i";break;case 35667:case 35671:fn="2i",Sn=2;break;case 35668:case 35672:fn="3i",Sn=3;break;case 35669:case 35673:fn="4i",Sn=4;break;case 5126:fn="1f";break;case 35664:fn="2f",Sn=2;break;case 35665:fn="3f",Sn=3;break;case 35666:fn="4f",Sn=4;break;case 35674:fn="Matrix2fv";break;case 35675:fn="Matrix3fv";break;case 35676:fn="Matrix4fv"}if(fn.charAt(0)==="M"){Xt(en,".uniform",fn,"(",qn,","),qn=Math.pow(In-35674+2,2);var $n=It.global.def("new Float32Array(",qn,")");Array.isArray(pn)?Xt("false,(",b(qn,function(or){return $n+"["+or+"]="+pn[or]}),",",$n,")"):Xt("false,(Array.isArray(",pn,")||",pn," instanceof Float32Array)?",pn,":(",b(qn,function(or){return $n+"["+or+"]="+pn+"["+or+"]"}),",",$n,")"),Xt(");")}else{if(1<Sn){In=[];var Zn=[];for(Vn=0;Vn<Sn;++Vn)Array.isArray(pn)?Zn.push(pn[Vn]):Zn.push(Xt.def(pn+"["+Vn+"]")),Tn&&In.push(Xt.def());Tn&&Xt("if(!",It.batchId,"||",In.map(function(or,tr){return or+"!=="+Zn[tr]}).join("||"),"){",In.map(function(or,tr){return or+"="+Zn[tr]+";"}).join("")),Xt(en,".uniform",fn,"(",qn,",",Zn.join(","),");")}else Tn&&(In=Xt.def(),Xt("if(!",It.batchId,"||",In,"!==",pn,"){",In,"=",pn,";")),Xt(en,".uniform",fn,"(",qn,",",pn,");");Tn&&Xt("}")}}}function zn(It,Xt,tn,bn){function yn(Qn){var mr=In[Qn];return mr?mr.contextDep&&bn.contextDynamic||mr.propDep?mr.append(It,tn):mr.append(It,Xt):Xt.def(Sn,".",Qn)}function Tn(){function Qn(){tn(en,".drawElementsInstancedANGLE(",[qn,Zn,or,$n+"<<(("+or+"-5121)>>1)",Qt],");")}function mr(){tn(en,".drawArraysInstancedANGLE(",[qn,$n,Zn,Qt],");")}Vn&&Vn!=="null"?tr?Qn():(tn("if(",Vn,"){"),Qn(),tn("}else{"),mr(),tn("}")):mr()}function fn(){function Qn(){tn(pn+".drawElements("+[qn,Zn,or,$n+"<<(("+or+"-5121)>>1)"]+");")}function mr(){tn(pn+".drawArrays("+[qn,$n,Zn]+");")}Vn&&Vn!=="null"?tr?Qn():(tn("if(",Vn,"){"),Qn(),tn("}else{"),mr(),tn("}")):mr()}var Qt,en,ln=It.shared,pn=ln.gl,Sn=ln.draw,In=bn.draw,Vn=function(){var Qn=In.elements,mr=Xt;return Qn?((Qn.contextDep&&bn.contextDynamic||Qn.propDep)&&(mr=tn),Qn=Qn.append(It,mr),In.elementsActive&&mr("if("+Qn+")"+pn+".bindBuffer(34963,"+Qn+".buffer.buffer);")):(Qn=mr.def(),mr(Qn,"=",Sn,".","elements",";","if(",Qn,"){",pn,".bindBuffer(",34963,",",Qn,".buffer.buffer);}","else if(",ln.vao,".currentVAO){",Qn,"=",It.shared.elements+".getElements("+ln.vao,".currentVAO.elements);",_n?"":"if("+Qn+")"+pn+".bindBuffer(34963,"+Qn+".buffer.buffer);","}")),Qn}(),qn=yn("primitive"),$n=yn("offset"),Zn=function(){var Qn=In.count,mr=Xt;return Qn?((Qn.contextDep&&bn.contextDynamic||Qn.propDep)&&(mr=tn),Qn=Qn.append(It,mr)):Qn=mr.def(Sn,".","count"),Qn}();if(typeof Zn=="number"){if(Zn===0)return}else tn("if(",Zn,"){"),tn.exit("}");Ht&&(Qt=yn("instances"),en=It.instancing);var or=Vn+".type",tr=In.elements&&te(In.elements)&&!In.vaoActive;Ht&&(typeof Qt!="number"||0<=Qt)?typeof Qt=="string"?(tn("if(",Qt,">0){"),Tn(),tn("}else if(",Qt,"<0){"),fn(),tn("}")):Tn():fn()}function On(It,Xt,tn,bn,yn){return yn=(Xt=on()).proc("body",yn),Ht&&(Xt.instancing=yn.def(Xt.shared.extensions,".angle_instanced_arrays")),It(Xt,yn,tn,bn),Xt.compile().body}function Hn(It,Xt,tn,bn){hn(It,Xt),tn.useVAO?tn.drawVAO?Xt(It.shared.vao,".setVAO(",tn.drawVAO.append(It,Xt),");"):Xt(It.shared.vao,".setVAO(",It.shared.vao,".targetVAO);"):(Xt(It.shared.vao,".setVAO(null);"),Ln(It,Xt,tn,bn.attributes,function(){return!0})),Dn(It,Xt,tn,bn.uniforms,function(){return!0},!1),zn(It,Xt,Xt,tn)}function jn(It,Xt,tn,bn){function yn(){return!0}It.batchId="a1",hn(It,Xt),Ln(It,Xt,tn,bn.attributes,yn),Dn(It,Xt,tn,bn.uniforms,yn,!1),zn(It,Xt,Xt,tn)}function ar(It,Xt,tn,bn){function yn(Sn){return Sn.contextDep&&fn||Sn.propDep}function Tn(Sn){return!yn(Sn)}hn(It,Xt);var fn=tn.contextDep,Qt=Xt.def(),en=Xt.def();It.shared.props=en,It.batchId=Qt;var ln=It.scope(),pn=It.scope();Xt(ln.entry,"for(",Qt,"=0;",Qt,"<","a1",";++",Qt,"){",en,"=","a0","[",Qt,"];",pn,"}",ln.exit),tn.needsContext&&dn(It,pn,tn.context),tn.needsFramebuffer&&Jt(It,pn,tn.framebuffer),rn(It,pn,tn.state,yn),tn.profile&&yn(tn.profile)&&kn(It,pn,tn,!1,!0),bn?(tn.useVAO?tn.drawVAO?yn(tn.drawVAO)?pn(It.shared.vao,".setVAO(",tn.drawVAO.append(It,pn),");"):ln(It.shared.vao,".setVAO(",tn.drawVAO.append(It,ln),");"):ln(It.shared.vao,".setVAO(",It.shared.vao,".targetVAO);"):(ln(It.shared.vao,".setVAO(null);"),Ln(It,ln,tn,bn.attributes,Tn),Ln(It,pn,tn,bn.attributes,yn)),Dn(It,ln,tn,bn.uniforms,Tn,!1),Dn(It,pn,tn,bn.uniforms,yn,!0),zn(It,ln,pn,tn)):(Xt=It.global.def("{}"),bn=tn.shader.progVar.append(It,pn),en=pn.def(bn,".id"),ln=pn.def(Xt,"[",en,"]"),pn(It.shared.gl,".useProgram(",bn,".program);","if(!",ln,"){",ln,"=",Xt,"[",en,"]=",It.link(function(Sn){return On(jn,It,tn,Sn,2)}),"(",bn,");}",ln,".call(this,a0[",Qt,"],",Qt,");"))}function ur(It,Xt){function tn(Qt){var en=Xt.shader[Qt];en&&(en=en.append(It,bn),isNaN(en)?bn.set(yn.shader,"."+Qt,en):bn.set(yn.shader,"."+Qt,It.link(en,{stable:!0})))}var bn=It.proc("scope",3);It.batchId="a2";var yn=It.shared,Tn=yn.current;if(dn(It,bn,Xt.context),Xt.framebuffer&&Xt.framebuffer.append(It,bn),j(Object.keys(Xt.state)).forEach(function(Qt){var en=Xt.state[Qt],ln=en.append(It,bn);x(ln)?ln.forEach(function(pn,Sn){isNaN(pn)?bn.set(It.next[Qt],"["+Sn+"]",pn):bn.set(It.next[Qt],"["+Sn+"]",It.link(pn,{stable:!0}))}):te(en)?bn.set(yn.next,"."+Qt,It.link(ln,{stable:!0})):bn.set(yn.next,"."+Qt,ln)}),kn(It,bn,Xt,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(Qt){var en=Xt.draw[Qt];en&&(en=en.append(It,bn),isNaN(en)?bn.set(yn.draw,"."+Qt,en):bn.set(yn.draw,"."+Qt,It.link(en),{stable:!0}))}),Object.keys(Xt.uniforms).forEach(function(Qt){var en=Xt.uniforms[Qt].append(It,bn);Array.isArray(en)&&(en="["+en.map(function(ln){return isNaN(ln)?ln:It.link(ln,{stable:!0})})+"]"),bn.set(yn.uniforms,"["+It.link(Ye.id(Qt),{stable:!0})+"]",en)}),Object.keys(Xt.attributes).forEach(function(Qt){var en=Xt.attributes[Qt].append(It,bn),ln=It.scopeAttrib(Qt);Object.keys(new er).forEach(function(pn){bn.set(ln,"."+pn,en[pn])})}),Xt.scopeVAO){var fn=Xt.scopeVAO.append(It,bn);isNaN(fn)?bn.set(yn.vao,".targetVAO",fn):bn.set(yn.vao,".targetVAO",It.link(fn,{stable:!0}))}tn("vert"),tn("frag"),0<Object.keys(Xt.state).length&&(bn(Tn,".dirty=true;"),bn.exit(Tn,".dirty=true;")),bn("a1(",It.shared.context,",a0,",It.batchId,");")}function cr(It,Xt,tn){var bn=Xt.static[tn];if(bn&&function(pn){if(typeof pn=="object"&&!x(pn)){for(var Sn=Object.keys(pn),In=0;In<Sn.length;++In)if(ie.isDynamic(pn[Sn[In]]))return!0;return!1}}(bn)){var yn=It.global,Tn=Object.keys(bn),fn=!1,Qt=!1,en=!1,ln=It.global.def("{}");Tn.forEach(function(pn){var Sn=bn[pn];if(ie.isDynamic(Sn))typeof Sn=="function"&&(Sn=bn[pn]=ie.unbox(Sn)),pn=$(Sn,null),fn=fn||pn.thisDep,en=en||pn.propDep,Qt=Qt||pn.contextDep;else{switch(yn(ln,".",pn,"="),typeof Sn){case"number":yn(Sn);break;case"string":yn('"',Sn,'"');break;case"object":Array.isArray(Sn)&&yn("[",Sn.join(),"]");break;default:yn(It.link(Sn))}yn(";")}}),Xt.dynamic[tn]=new ie.DynamicVariable(4,{thisDep:fn,contextDep:Qt,propDep:en,ref:ln,append:function(pn,Sn){Tn.forEach(function(In){var Vn=bn[In];ie.isDynamic(Vn)&&(Vn=pn.invoke(Sn,Vn),Sn(ln,".",In,"=",Vn,";"))})}}),delete Xt.static[tn]}}var er=mt.Record,Tr={add:32774,subtract:32778,"reverse subtract":32779};lt.ext_blend_minmax&&(Tr.min=32775,Tr.max=32776);var Ht=lt.angle_instanced_arrays,an=lt.webgl_draw_buffers,_n=lt.oes_vertex_array_object,vn={dirty:!0,profile:Pt.profile},Cn={},Gn=[],Fn={},Nn={};Bt("dither",3024),Bt("blend.enable",3042),Kt("blend.color","blendColor",[0,0,0,0]),Kt("blend.equation","blendEquationSeparate",[32774,32774]),Kt("blend.func","blendFuncSeparate",[1,0,1,0]),Bt("depth.enable",2929,!0),Kt("depth.func","depthFunc",513),Kt("depth.range","depthRange",[0,1]),Kt("depth.mask","depthMask",!0),Kt("colorMask","colorMask",[!0,!0,!0,!0]),Bt("cull.enable",2884),Kt("cull.face","cullFace",1029),Kt("frontFace","frontFace",2305),Kt("lineWidth","lineWidth",1),Bt("polygonOffset.enable",32823),Kt("polygonOffset.offset","polygonOffset",[0,0]),Bt("sample.alpha",32926),Bt("sample.enable",32928),Kt("sample.coverage","sampleCoverage",[1,!1]),Bt("stencil.enable",2960),Kt("stencil.mask","stencilMask",-1),Kt("stencil.func","stencilFunc",[519,0,-1]),Kt("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Kt("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Bt("scissor.enable",3089),Kt("scissor.box","scissor",[0,0,Ne.drawingBufferWidth,Ne.drawingBufferHeight]),Kt("viewport","viewport",[0,0,Ne.drawingBufferWidth,Ne.drawingBufferHeight]);var rr={gl:Ne,context:Lt,strings:Ye,next:Cn,current:vn,draw:ht,elements:Be,buffer:Fe,shader:yt,attributes:mt.state,vao:mt,uniforms:pt,framebuffer:Xe,extensions:lt,timer:Tt,isBufferArgs:F},Zt={primTypes:Ee,compareFuncs:Ft,blendFuncs:zt,blendEquations:Tr,stencilOps:Rt,glTypes:_e,orientationType:We};an&&(Zt.backBuffer=[1029],Zt.drawBuffer=b(at.maxDrawbuffers,function(It){return It===0?[0]:b(It,function(Xt){return 36064+Xt})}));var mn=0;return{next:Cn,current:vn,procs:function(){var It=on(),Xt=It.proc("poll"),tn=It.proc("refresh"),bn=It.block();Xt(bn),tn(bn);var yn,Tn=(en=It.shared).gl,fn=en.next,Qt=en.current;bn(Qt,".dirty=false;"),Jt(It,Xt),Jt(It,tn,null,!0),Ht&&(yn=It.link(Ht)),lt.oes_vertex_array_object&&tn(It.link(lt.oes_vertex_array_object),".bindVertexArrayOES(null);");var en=tn.def(en.attributes),ln=tn.def(0),pn=It.cond(ln,".buffer");pn.then(Tn,".enableVertexAttribArray(i);",Tn,".bindBuffer(",34962,",",ln,".buffer.buffer);",Tn,".vertexAttribPointer(i,",ln,".size,",ln,".type,",ln,".normalized,",ln,".stride,",ln,".offset);").else(Tn,".disableVertexAttribArray(i);",Tn,".vertexAttrib4f(i,",ln,".x,",ln,".y,",ln,".z,",ln,".w);",ln,".buffer=null;");var Sn=It.link(at.maxAttributes,{stable:!0});return tn("for(var i=0;i<",Sn,";++i){",ln,"=",en,"[i];",pn,"}"),Ht&&tn("for(var i=0;i<",Sn,";++i){",yn,".vertexAttribDivisorANGLE(i,",en,"[i].divisor);","}"),tn(It.shared.vao,".currentVAO=null;",It.shared.vao,".setVAO(",It.shared.vao,".targetVAO);"),Object.keys(Fn).forEach(function(In){var Vn=Fn[In],qn=bn.def(fn,".",In),$n=It.block();$n("if(",qn,"){",Tn,".enable(",Vn,")}else{",Tn,".disable(",Vn,")}",Qt,".",In,"=",qn,";"),tn($n),Xt("if(",qn,"!==",Qt,".",In,"){",$n,"}")}),Object.keys(Nn).forEach(function(In){var Vn,qn,$n=Nn[In],Zn=vn[In],or=It.block();or(Tn,".",$n,"("),x(Zn)?($n=Zn.length,Vn=It.global.def(fn,".",In),qn=It.global.def(Qt,".",In),or(b($n,function(tr){return Vn+"["+tr+"]"}),");",b($n,function(tr){return qn+"["+tr+"]="+Vn+"["+tr+"];"}).join("")),Xt("if(",b($n,function(tr){return Vn+"["+tr+"]!=="+qn+"["+tr+"]"}).join("||"),"){",or,"}")):(Vn=bn.def(fn,".",In),qn=bn.def(Qt,".",In),or(Vn,");",Qt,".",In,"=",Vn,";"),Xt("if(",Vn,"!==",qn,"){",or,"}")),tn(or)}),It.compile()}(),compile:function(It,Xt,tn,bn,yn){var Tn=on();Tn.stats=Tn.link(yn),Object.keys(Xt.static).forEach(function(Qt){cr(Tn,Xt,Qt)}),Mt.forEach(function(Qt){cr(Tn,It,Qt)});var fn=Mn(It,Xt,tn,bn);return fn.shader.program&&(fn.shader.program.attributes.sort(function(Qt,en){return Qt.name<en.name?-1:1}),fn.shader.program.uniforms.sort(function(Qt,en){return Qt.name<en.name?-1:1})),function(Qt,en){var ln=Qt.proc("draw",1);hn(Qt,ln),dn(Qt,ln,en.context),Jt(Qt,ln,en.framebuffer),un(Qt,ln,en),rn(Qt,ln,en.state),kn(Qt,ln,en,!1,!0);var pn=en.shader.progVar.append(Qt,ln);if(ln(Qt.shared.gl,".useProgram(",pn,".program);"),en.shader.program)Hn(Qt,ln,en,en.shader.program);else{ln(Qt.shared.vao,".setVAO(null);");var Sn=Qt.global.def("{}"),In=ln.def(pn,".id"),Vn=ln.def(Sn,"[",In,"]");ln(Qt.cond(Vn).then(Vn,".call(this,a0);").else(Vn,"=",Sn,"[",In,"]=",Qt.link(function(qn){return On(Hn,Qt,en,qn,1)}),"(",pn,");",Vn,".call(this,a0);"))}0<Object.keys(en.state).length&&ln(Qt.shared.current,".dirty=true;"),Qt.shared.vao&&ln(Qt.shared.vao,".setVAO(null);")}(Tn,fn),ur(Tn,fn),function(Qt,en){function ln(Zn){return Zn.contextDep&&Sn||Zn.propDep}var pn=Qt.proc("batch",2);Qt.batchId="0",hn(Qt,pn);var Sn=!1,In=!0;Object.keys(en.context).forEach(function(Zn){Sn=Sn||en.context[Zn].propDep}),Sn||(dn(Qt,pn,en.context),In=!1);var Vn=!1;if((qn=en.framebuffer)?(qn.propDep?Sn=Vn=!0:qn.contextDep&&Sn&&(Vn=!0),Vn||Jt(Qt,pn,qn)):Jt(Qt,pn,null),en.state.viewport&&en.state.viewport.propDep&&(Sn=!0),un(Qt,pn,en),rn(Qt,pn,en.state,function(Zn){return!ln(Zn)}),en.profile&&ln(en.profile)||kn(Qt,pn,en,!1,"a1"),en.contextDep=Sn,en.needsContext=In,en.needsFramebuffer=Vn,(In=en.shader.progVar).contextDep&&Sn||In.propDep)ar(Qt,pn,en,null);else if(In=In.append(Qt,pn),pn(Qt.shared.gl,".useProgram(",In,".program);"),en.shader.program)ar(Qt,pn,en,en.shader.program);else{pn(Qt.shared.vao,".setVAO(null);");var qn=Qt.global.def("{}"),$n=(Vn=pn.def(In,".id"),pn.def(qn,"[",Vn,"]"));pn(Qt.cond($n).then($n,".call(this,a0,a1);").else($n,"=",qn,"[",Vn,"]=",Qt.link(function(Zn){return On(ar,Qt,en,Zn,2)}),"(",In,");",$n,".call(this,a0,a1);"))}0<Object.keys(en.state).length&&pn(Qt.shared.current,".dirty=true;"),Qt.shared.vao&&pn(Qt.shared.vao,".setVAO(null);")}(Tn,fn),J(Tn.compile(),{destroy:function(){fn.shader.program.destroy()}})}}}function X(Ne,Ye){for(var lt=0;lt<Ne.length;++lt)if(Ne[lt]===Ye)return lt;return-1}var J=function(Ne,Ye){for(var lt=Object.keys(Ye),at=0;at<lt.length;++at)Ne[lt[at]]=Ye[lt[at]];return Ne},ne=0,ie={DynamicVariable:P,define:function(Ne,Ye){return new P(Ne,A(Ye+""))},isDynamic:function(Ne){return typeof Ne=="function"&&!Ne._reglType||Ne instanceof P},unbox:function Ne(Ye,lt){return typeof Ye=="function"?new P(0,Ye):typeof Ye=="number"||typeof Ye=="boolean"?new P(5,Ye):Array.isArray(Ye)?new P(6,Ye.map(function(at,Fe){return Ne(at)})):Ye instanceof P?Ye:void 0},accessor:A},ae={next:typeof requestAnimationFrame=="function"?function(Ne){return requestAnimationFrame(Ne)}:function(Ne){return setTimeout(Ne,16)},cancel:typeof cancelAnimationFrame=="function"?function(Ne){return cancelAnimationFrame(Ne)}:clearTimeout},le=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},ce=o();ce.zero=o();var pe=function(Ne,Ye){var lt=1;Ye.ext_texture_filter_anisotropic&&(lt=Ne.getParameter(34047));var at=1,Fe=1;Ye.webgl_draw_buffers&&(at=Ne.getParameter(34852),Fe=Ne.getParameter(36063));var Be=!!Ye.oes_texture_float;if(Be){Be=Ne.createTexture(),Ne.bindTexture(3553,Be),Ne.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var ot=Ne.createFramebuffer();if(Ne.bindFramebuffer(36160,ot),Ne.framebufferTexture2D(36160,36064,3553,Be,0),Ne.bindTexture(3553,null),Ne.checkFramebufferStatus(36160)!==36053)Be=!1;else{Ne.viewport(0,0,1,1),Ne.clearColor(1,0,0,1),Ne.clear(16384);var Xe=ce.allocType(5126,4);Ne.readPixels(0,0,1,1,6408,5126,Xe),Ne.getError()?Be=!1:(Ne.deleteFramebuffer(ot),Ne.deleteTexture(Be),Be=Xe[0]===1),ce.freeType(Xe)}}return Xe=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(Xe=Ne.createTexture(),ot=ce.allocType(5121,36),Ne.activeTexture(33984),Ne.bindTexture(34067,Xe),Ne.texImage2D(34069,0,6408,3,3,0,6408,5121,ot),ce.freeType(ot),Ne.bindTexture(34067,null),Ne.deleteTexture(Xe),Xe=!Ne.getError()),{colorBits:[Ne.getParameter(3410),Ne.getParameter(3411),Ne.getParameter(3412),Ne.getParameter(3413)],depthBits:Ne.getParameter(3414),stencilBits:Ne.getParameter(3415),subpixelBits:Ne.getParameter(3408),extensions:Object.keys(Ye).filter(function(pt){return!!Ye[pt]}),maxAnisotropic:lt,maxDrawbuffers:at,maxColorAttachments:Fe,pointSizeDims:Ne.getParameter(33901),lineWidthDims:Ne.getParameter(33902),maxViewportDims:Ne.getParameter(3386),maxCombinedTextureUnits:Ne.getParameter(35661),maxCubeMapSize:Ne.getParameter(34076),maxRenderbufferSize:Ne.getParameter(34024),maxTextureUnits:Ne.getParameter(34930),maxTextureSize:Ne.getParameter(3379),maxAttributes:Ne.getParameter(34921),maxVertexUniforms:Ne.getParameter(36347),maxVertexTextureUnits:Ne.getParameter(35660),maxVaryingVectors:Ne.getParameter(36348),maxFragmentUniforms:Ne.getParameter(36349),glsl:Ne.getParameter(35724),renderer:Ne.getParameter(7937),vendor:Ne.getParameter(7936),version:Ne.getParameter(7938),readFloat:Be,npotTextureCube:Xe}},ge=function(Ne){return Ne instanceof Uint8Array||Ne instanceof Uint16Array||Ne instanceof Uint32Array||Ne instanceof Int8Array||Ne instanceof Int16Array||Ne instanceof Int32Array||Ne instanceof Float32Array||Ne instanceof Float64Array||Ne instanceof Uint8ClampedArray},me=function(Ne){return Object.keys(Ne).map(function(Ye){return Ne[Ye]})},ve={shape:function(Ne){for(var Ye=[];Ne.length;Ne=Ne[0])Ye.push(Ne.length);return Ye},flatten:function(Ne,Ye,lt,at){var Fe=1;if(Ye.length)for(var Be=0;Be<Ye.length;++Be)Fe*=Ye[Be];else Fe=0;switch(lt=at||ce.allocType(lt,Fe),Ye.length){case 0:break;case 1:for(at=Ye[0],Ye=0;Ye<at;++Ye)lt[Ye]=Ne[Ye];break;case 2:for(at=Ye[0],Ye=Ye[1],Be=Fe=0;Be<at;++Be)for(var ot=Ne[Be],Xe=0;Xe<Ye;++Xe)lt[Fe++]=ot[Xe];break;case 3:i(Ne,Ye[0],Ye[1],Ye[2],lt,0);break;default:n(Ne,Ye,0,lt,0)}return lt}},Me={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},_e={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},we={dynamic:35048,stream:35040,static:35044},oe=ve.flatten,se=ve.shape,de=[];de[5120]=1,de[5122]=2,de[5124]=4,de[5121]=1,de[5123]=2,de[5125]=4,de[5126]=4;var Ee={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Te=new Float32Array(1),Se=new Uint32Array(Te.buffer),Le=[9984,9986,9985,9987],Oe=[0,6409,6410,6407,6408],he={};he[6409]=he[6406]=he[6402]=1,he[34041]=he[6410]=2,he[6407]=he[35904]=3,he[6408]=he[35906]=4;var xe=g("HTMLCanvasElement"),ke=g("OffscreenCanvas"),Re=g("CanvasRenderingContext2D"),ze=g("ImageBitmap"),Ie=g("HTMLImageElement"),He=g("HTMLVideoElement"),qe=Object.keys(Me).concat([xe,ke,Re,ze,Ie,He]),Je=[];Je[5121]=1,Je[5126]=4,Je[36193]=2,Je[5123]=2,Je[5125]=4;var st=[];st[32854]=2,st[32855]=2,st[36194]=2,st[34041]=4,st[33776]=.5,st[33777]=.5,st[33778]=1,st[33779]=1,st[35986]=.5,st[35987]=1,st[34798]=1,st[35840]=.5,st[35841]=.25,st[35842]=.5,st[35843]=.25,st[36196]=.5;var it=[];it[32854]=2,it[32855]=2,it[36194]=2,it[33189]=2,it[36168]=1,it[34041]=4,it[35907]=4,it[34836]=16,it[34842]=8,it[34843]=6;var vt=function(Ne,Ye,lt,at,Fe){function Be(ht){this.id=mt++,this.refCount=1,this.renderbuffer=ht,this.format=32854,this.height=this.width=0,Fe.profile&&(this.stats={size:0})}function ot(ht){var Lt=ht.renderbuffer;Ne.bindRenderbuffer(36161,null),Ne.deleteRenderbuffer(Lt),ht.renderbuffer=null,ht.refCount=0,delete yt[ht.id],at.renderbufferCount--}var Xe={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Ye.ext_srgb&&(Xe.srgba=35907),Ye.ext_color_buffer_half_float&&(Xe.rgba16f=34842,Xe.rgb16f=34843),Ye.webgl_color_buffer_float&&(Xe.rgba32f=34836);var pt=[];Object.keys(Xe).forEach(function(ht){pt[Xe[ht]]=ht});var mt=0,yt={};return Be.prototype.decRef=function(){0>=--this.refCount&&ot(this)},Fe.profile&&(at.getTotalRenderbufferSize=function(){var ht=0;return Object.keys(yt).forEach(function(Lt){ht+=yt[Lt].stats.size}),ht}),{create:function(ht,Lt){function Tt(Pt,Ot){var Bt=0,Kt=0,on=32854;if(typeof Pt=="object"&&Pt?("shape"in Pt?(Bt=0|(Kt=Pt.shape)[0],Kt=0|Kt[1]):("radius"in Pt&&(Bt=Kt=0|Pt.radius),"width"in Pt&&(Bt=0|Pt.width),"height"in Pt&&(Kt=0|Pt.height)),"format"in Pt&&(on=Xe[Pt.format])):typeof Pt=="number"?(Bt=0|Pt,Kt=typeof Ot=="number"?0|Ot:Bt):Pt||(Bt=Kt=1),Bt!==bt.width||Kt!==bt.height||on!==bt.format)return Tt.width=bt.width=Bt,Tt.height=bt.height=Kt,bt.format=on,Ne.bindRenderbuffer(36161,bt.renderbuffer),Ne.renderbufferStorage(36161,on,Bt,Kt),Fe.profile&&(bt.stats.size=it[bt.format]*bt.width*bt.height),Tt.format=pt[bt.format],Tt}var bt=new Be(Ne.createRenderbuffer());return yt[bt.id]=bt,at.renderbufferCount++,Tt(ht,Lt),Tt.resize=function(Pt,Ot){var Bt=0|Pt,Kt=0|Ot||Bt;return Bt===bt.width&&Kt===bt.height||(Tt.width=bt.width=Bt,Tt.height=bt.height=Kt,Ne.bindRenderbuffer(36161,bt.renderbuffer),Ne.renderbufferStorage(36161,bt.format,Bt,Kt),Fe.profile&&(bt.stats.size=it[bt.format]*bt.width*bt.height)),Tt},Tt._reglType="renderbuffer",Tt._renderbuffer=bt,Fe.profile&&(Tt.stats=bt.stats),Tt.destroy=function(){bt.decRef()},Tt},clear:function(){me(yt).forEach(ot)},restore:function(){me(yt).forEach(function(ht){ht.renderbuffer=Ne.createRenderbuffer(),Ne.bindRenderbuffer(36161,ht.renderbuffer),Ne.renderbufferStorage(36161,ht.format,ht.width,ht.height)}),Ne.bindRenderbuffer(36161,null)}}},_t=[];_t[6408]=4,_t[6407]=3;var xt=[];xt[5121]=1,xt[5126]=4,xt[36193]=2;var et=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],nt=["x","y","z","w"],Mt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),zt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ft={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Rt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},We={cw:2304,ccw:2305},Ze=new V(!1,!1,!1,function(){});return function(Ne){function Ye(){if(jn.length===0)qt&&qt.update(),er=null;else{er=ae.next(Ye),yt();for(var Ht=jn.length-1;0<=Ht;--Ht){var an=jn[Ht];an&&an(Mn,null,0)}Tt.flush(),qt&&qt.update()}}function lt(){!er&&0<jn.length&&(er=ae.next(Ye))}function at(){er&&(ae.cancel(Ye),er=null)}function Fe(Ht){Ht.preventDefault(),at(),ar.forEach(function(an){an()})}function Be(Ht){Tt.getError(),Pt.restore(),hn.restore(),Jt.restore(),kn.restore(),Ln.restore(),Dn.restore(),rn.restore(),qt&&qt.restore(),zn.procs.refresh(),lt(),ur.forEach(function(an){an()})}function ot(Ht){function an(It,Xt){var tn={},bn={};return Object.keys(It).forEach(function(yn){var Tn=It[yn];if(ie.isDynamic(Tn))bn[yn]=ie.unbox(Tn,yn);else{if(Xt&&Array.isArray(Tn)){for(var fn=0;fn<Tn.length;++fn)if(ie.isDynamic(Tn[fn]))return void(bn[yn]=ie.unbox(Tn,yn))}tn[yn]=Tn}}),{dynamic:bn,static:tn}}var _n=an(Ht.context||{},!0),vn=an(Ht.uniforms||{},!0),Cn=an(Ht.attributes||{},!1);Ht=an(function(It){function Xt(bn){if(bn in tn){var yn=tn[bn];delete tn[bn],Object.keys(yn).forEach(function(Tn){tn[bn+"."+Tn]=yn[Tn]})}}var tn=J({},It);return delete tn.uniforms,delete tn.attributes,delete tn.context,delete tn.vao,"stencil"in tn&&tn.stencil.op&&(tn.stencil.opBack=tn.stencil.opFront=tn.stencil.op,delete tn.stencil.op),Xt("blend"),Xt("depth"),Xt("cull"),Xt("stencil"),Xt("polygonOffset"),Xt("scissor"),Xt("sample"),"vao"in It&&(tn.vao=It.vao),tn}(Ht),!1);var Gn={gpuTime:0,cpuTime:0,count:0},Fn=zn.compile(Ht,Cn,vn,_n,Gn),Nn=Fn.draw,rr=Fn.batch,Zt=Fn.scope,mn=[];return J(function(It,Xt){var tn;if(typeof It=="function")return Zt.call(this,null,It,0);if(typeof Xt=="function")if(typeof It=="number")for(tn=0;tn<It;++tn)Zt.call(this,null,Xt,tn);else{if(!Array.isArray(It))return Zt.call(this,It,Xt,0);for(tn=0;tn<It.length;++tn)Zt.call(this,It[tn],Xt,tn)}else if(typeof It=="number"){if(0<It)return rr.call(this,function(bn){for(;mn.length<bn;)mn.push(null);return mn}(0|It),0|It)}else{if(!Array.isArray(It))return Nn.call(this,It);if(It.length)return rr.call(this,It,It.length)}},{stats:Gn,destroy:function(){Fn.destroy()}})}function Xe(Ht,an){var _n=0;zn.procs.poll();var vn=an.color;vn&&(Tt.clearColor(+vn[0]||0,+vn[1]||0,+vn[2]||0,+vn[3]||0),_n|=16384),"depth"in an&&(Tt.clearDepth(+an.depth),_n|=256),"stencil"in an&&(Tt.clearStencil(0|an.stencil),_n|=1024),Tt.clear(_n)}function pt(Ht){return jn.push(Ht),lt(),{cancel:function(){var an=X(jn,Ht);jn[an]=function _n(){var vn=X(jn,_n);jn[vn]=jn[jn.length-1],--jn.length,0>=jn.length&&at()}}}}function mt(){var Ht=On.viewport,an=On.scissor_box;Ht[0]=Ht[1]=an[0]=an[1]=0,Mn.viewportWidth=Mn.framebufferWidth=Mn.drawingBufferWidth=Ht[2]=an[2]=Tt.drawingBufferWidth,Mn.viewportHeight=Mn.framebufferHeight=Mn.drawingBufferHeight=Ht[3]=an[3]=Tt.drawingBufferHeight}function yt(){Mn.tick+=1,Mn.time=Lt(),mt(),zn.procs.poll()}function ht(){kn.refresh(),mt(),zn.procs.refresh(),qt&&qt.update()}function Lt(){return(le()-Wt)/1e3}if(!(Ne=w(Ne)))return null;var Tt=Ne.gl,bt=Tt.getContextAttributes();Tt.isContextLost();var Pt=function(Ht,an){function _n(Fn){var Nn;Fn=Fn.toLowerCase();try{Nn=vn[Fn]=Ht.getExtension(Fn)}catch{}return!!Nn}for(var vn={},Cn=0;Cn<an.extensions.length;++Cn){var Gn=an.extensions[Cn];if(!_n(Gn))return an.onDestroy(),an.onDone('"'+Gn+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return an.optionalExtensions.forEach(_n),{extensions:vn,restore:function(){Object.keys(vn).forEach(function(Fn){if(vn[Fn]&&!_n(Fn))throw Error("(regl): error restoring extension "+Fn)})}}}(Tt,Ne);if(!Pt)return null;var Ot=function(){var Ht={"":0},an=[""];return{id:function(_n){var vn=Ht[_n];return vn||(vn=Ht[_n]=an.length,an.push(_n),vn)},str:function(_n){return an[_n]}}}(),Bt={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Kt=Ne.cachedCode||{},on=Pt.extensions,qt=function(Ht,an){function _n(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function vn(mn,It,Xt){var tn=Fn.pop()||new _n;tn.startQueryIndex=mn,tn.endQueryIndex=It,tn.sum=0,tn.stats=Xt,Nn.push(tn)}if(!an.ext_disjoint_timer_query)return null;var Cn=[],Gn=[],Fn=[],Nn=[],rr=[],Zt=[];return{beginQuery:function(mn){var It=Cn.pop()||an.ext_disjoint_timer_query.createQueryEXT();an.ext_disjoint_timer_query.beginQueryEXT(35007,It),Gn.push(It),vn(Gn.length-1,Gn.length,mn)},endQuery:function(){an.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:vn,update:function(){var mn,It;if((mn=Gn.length)!==0){Zt.length=Math.max(Zt.length,mn+1),rr.length=Math.max(rr.length,mn+1),rr[0]=0;var Xt=Zt[0]=0;for(It=mn=0;It<Gn.length;++It){var tn=Gn[It];an.ext_disjoint_timer_query.getQueryObjectEXT(tn,34919)?(Xt+=an.ext_disjoint_timer_query.getQueryObjectEXT(tn,34918),Cn.push(tn)):Gn[mn++]=tn,rr[It+1]=Xt,Zt[It+1]=mn}for(Gn.length=mn,It=mn=0;It<Nn.length;++It){var bn=(Xt=Nn[It]).startQueryIndex;tn=Xt.endQueryIndex,Xt.sum+=rr[tn]-rr[bn],bn=Zt[bn],(tn=Zt[tn])===bn?(Xt.stats.gpuTime+=Xt.sum/1e6,Fn.push(Xt)):(Xt.startQueryIndex=bn,Xt.endQueryIndex=tn,Nn[mn++]=Xt)}Nn.length=mn}},getNumPendingQueries:function(){return Gn.length},clear:function(){Cn.push.apply(Cn,Gn);for(var mn=0;mn<Cn.length;mn++)an.ext_disjoint_timer_query.deleteQueryEXT(Cn[mn]);Gn.length=0,Cn.length=0},restore:function(){Gn.length=0,Cn.length=0}}}(0,on),Wt=le(),nn=Tt.drawingBufferWidth,En=Tt.drawingBufferHeight,Mn={tick:0,time:0,viewportWidth:nn,viewportHeight:En,framebufferWidth:nn,framebufferHeight:En,drawingBufferWidth:nn,drawingBufferHeight:En,pixelRatio:Ne.pixelRatio},dn=(nn={elements:null,primitive:4,count:-1,offset:0,instances:-1},pe(Tt,on)),Jt=u(Tt,Bt,Ne,function(Ht){return rn.destroyBuffer(Ht)}),un=d(Tt,on,Jt,Bt),rn=C(Tt,on,dn,Bt,Jt,un,nn),hn=O(Tt,Ot,Bt,Ne),kn=S(Tt,on,dn,function(){zn.procs.poll()},Mn,Bt,Ne),Ln=vt(Tt,on,0,Bt,Ne),Dn=T(Tt,on,dn,kn,Ln,Bt),zn=G(Tt,Ot,on,dn,Jt,un,0,Dn,{},rn,hn,nn,Mn,qt,Kt,Ne),On=(Ot=I(Tt,Dn,zn.procs.poll,Mn),zn.next),Hn=Tt.canvas,jn=[],ar=[],ur=[],cr=[Ne.onDestroy],er=null;Hn&&(Hn.addEventListener("webglcontextlost",Fe,!1),Hn.addEventListener("webglcontextrestored",Be,!1));var Tr=Dn.setFBO=ot({framebuffer:ie.define.call(null,1,"framebuffer")});return ht(),bt=J(ot,{clear:function(Ht){if("framebuffer"in Ht)if(Ht.framebuffer&&Ht.framebuffer_reglType==="framebufferCube")for(var an=0;6>an;++an)Tr(J({framebuffer:Ht.framebuffer.faces[an]},Ht),Xe);else Tr(Ht,Xe);else Xe(0,Ht)},prop:ie.define.bind(null,1),context:ie.define.bind(null,2),this:ie.define.bind(null,3),draw:ot({}),buffer:function(Ht){return Jt.create(Ht,34962,!1,!1)},elements:function(Ht){return un.create(Ht,!1)},texture:kn.create2D,cube:kn.createCube,renderbuffer:Ln.create,framebuffer:Dn.create,framebufferCube:Dn.createCube,vao:rn.createVAO,attributes:bt,frame:pt,on:function(Ht,an){var _n;switch(Ht){case"frame":return pt(an);case"lost":_n=ar;break;case"restore":_n=ur;break;case"destroy":_n=cr}return _n.push(an),{cancel:function(){for(var vn=0;vn<_n.length;++vn)if(_n[vn]===an){_n[vn]=_n[_n.length-1],_n.pop();break}}}},limits:dn,hasExtension:function(Ht){return 0<=dn.extensions.indexOf(Ht.toLowerCase())},read:Ot,destroy:function(){jn.length=0,at(),Hn&&(Hn.removeEventListener("webglcontextlost",Fe),Hn.removeEventListener("webglcontextrestored",Be)),hn.clear(),Dn.clear(),Ln.clear(),rn.clear(),kn.clear(),un.clear(),Jt.clear(),qt&&qt.clear(),cr.forEach(function(Ht){Ht()})},_gl:Tt,_refresh:ht,poll:function(){yt(),qt&&qt.update()},now:Lt,stats:Bt,getCachedCode:function(){return Kt},preloadCachedCode:function(Ht){Object.entries(Ht).forEach(function(an){Kt[an[0]]=an[1]})}}),Ne.onDone(null,bt),bt}}()},30456:function(Y,P,e){var A=e(33576),k=A.Buffer;function a(b,h){for(var o in b)h[o]=b[o]}function w(b,h,o){return k(b,h,o)}k.from&&k.alloc&&k.allocUnsafe&&k.allocUnsafeSlow?Y.exports=A:(a(A,P),P.Buffer=w),w.prototype=Object.create(k.prototype),a(k,w),w.from=function(b,h,o){if(typeof b=="number")throw new TypeError("Argument must not be a number");return k(b,h,o)},w.alloc=function(b,h,o){if(typeof b!="number")throw new TypeError("Argument must be a number");var t=k(b);return h!==void 0?typeof o=="string"?t.fill(h,o):t.fill(h):t.fill(0),t},w.allocUnsafe=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return k(b)},w.allocUnsafeSlow=function(b){if(typeof b!="number")throw new TypeError("Argument must be a number");return A.SlowBuffer(b)}},14500:function(Y,P,e){var A=e(53664),k=e(64348),a=e(39640)(),w=e(2304),b=A("%TypeError%"),h=A("%Math.floor%");Y.exports=function(o,t){if(typeof o!="function")throw new b("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||h(t)!==t)throw new b("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],n=!0,r=!0;if("length"in o&&w){var s=w(o,"length");s&&!s.configurable&&(n=!1),s&&!s.writable&&(r=!1)}return(n||r||!i)&&(a?k(o,"length",t,!0,!0):k(o,"length",t)),o}},29936:function(Y,P,e){Y.exports=k;var A=e(61252).EventEmitter;function k(){A.call(this)}e(6768)(k,A),k.Readable=e(12348),k.Writable=e(11288),k.Duplex=e(15316),k.Transform=e(22477),k.PassThrough=e(27136),k.finished=e(15932),k.pipeline=e(38180),k.Stream=k,k.prototype.pipe=function(a,w){var b=this;function h(l){a.writable&&a.write(l)===!1&&b.pause&&b.pause()}function o(){b.readable&&b.resume&&b.resume()}b.on("data",h),a.on("drain",o),a._isStdio||w&&w.end===!1||(b.on("end",i),b.on("close",n));var t=!1;function i(){t||(t=!0,a.end())}function n(){t||(t=!0,typeof a.destroy=="function"&&a.destroy())}function r(l){if(s(),A.listenerCount(this,"error")===0)throw l}function s(){b.removeListener("data",h),a.removeListener("drain",o),b.removeListener("end",i),b.removeListener("close",n),b.removeListener("error",r),a.removeListener("error",r),b.removeListener("end",s),b.removeListener("close",s),a.removeListener("close",s)}return b.on("error",r),a.on("error",r),b.on("end",s),b.on("close",s),a.on("close",s),a.emit("pipe",b),a}},92784:function(Y){var P={};function e(k,a,w){w||(w=Error);var b=function(h){var o,t;function i(n,r,s){return h.call(this,function(l,u,d){return typeof a=="string"?a:a(l,u,d)}(n,r,s))||this}return t=h,(o=i).prototype=Object.create(t.prototype),o.prototype.constructor=o,o.__proto__=t,i}(w);b.prototype.name=w.name,b.prototype.code=k,P[k]=b}function A(k,a){if(Array.isArray(k)){var w=k.length;return k=k.map(function(b){return String(b)}),w>2?"one of ".concat(a," ").concat(k.slice(0,w-1).join(", "),", or ")+k[w-1]:w===2?"one of ".concat(a," ").concat(k[0]," or ").concat(k[1]):"of ".concat(a," ").concat(k[0])}return"of ".concat(a," ").concat(String(k))}e("ERR_INVALID_OPT_VALUE",function(k,a){return'The value "'+a+'" is invalid for option "'+k+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(k,a,w){var b,h,o,t,i;if(typeof a=="string"&&(h="not ",a.substr(0,4)===h)?(b="must not be",a=a.replace(/^not /,"")):b="must be",function(r,s,l){return(l===void 0||l>r.length)&&(l=r.length),r.substring(l-9,l)===s}(k," argument"))o="The ".concat(k," ").concat(b," ").concat(A(a,"type"));else{var n=(typeof i!="number"&&(i=0),i+1>(t=k).length||t.indexOf(".",i)===-1?"argument":"property");o='The "'.concat(k,'" ').concat(n," ").concat(b," ").concat(A(a,"type"))}return o+". Received type ".concat(typeof w)},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(k){return"The "+k+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(k){return"Cannot call "+k+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(k){return"Unknown encoding: "+k},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Y.exports.i=P},15316:function(Y,P,e){var A=e(4168),k=Object.keys||function(r){var s=[];for(var l in r)s.push(l);return s};Y.exports=t;var a=e(12348),w=e(11288);e(6768)(t,a);for(var b=k(w.prototype),h=0;h<b.length;h++){var o=b[h];t.prototype[o]||(t.prototype[o]=w.prototype[o])}function t(r){if(!(this instanceof t))return new t(r);a.call(this,r),w.call(this,r),this.allowHalfOpen=!0,r&&(r.readable===!1&&(this.readable=!1),r.writable===!1&&(this.writable=!1),r.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",i)))}function i(){this._writableState.ended||A.nextTick(n,this)}function n(r){r.end()}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(r){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=r,this._writableState.destroyed=r)}})},27136:function(Y,P,e){Y.exports=k;var A=e(22477);function k(a){if(!(this instanceof k))return new k(a);A.call(this,a)}e(6768)(k,A),k.prototype._transform=function(a,w,b){b(null,a)}},12348:function(Y,P,e){var A,k=e(4168);Y.exports=_,_.ReadableState=m,e(61252).EventEmitter;var a,w=function(Q,$){return Q.listeners($).length},b=e(4776),h=e(33576).Buffer,o=e.g.Uint8Array||function(){},t=e(19768);a=t&&t.debuglog?t.debuglog("stream"):function(){};var i,n,r,s=e(47264),l=e(55324),u=e(24888).getHighWaterMark,d=e(92784).i,c=d.ERR_INVALID_ARG_TYPE,x=d.ERR_STREAM_PUSH_AFTER_EOF,g=d.ERR_METHOD_NOT_IMPLEMENTED,p=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e(6768)(_,b);var v=l.errorOrDestroy,y=["error","close","destroy","pause","resume"];function m(Q,$,G){A=A||e(15316),Q=Q||{},typeof G!="boolean"&&(G=$ instanceof A),this.objectMode=!!Q.objectMode,G&&(this.objectMode=this.objectMode||!!Q.readableObjectMode),this.highWaterMark=u(this,Q,"readableHighWaterMark",G),this.buffer=new s,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.destroyed=!1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Q.encoding&&(i||(i=e(86032).o),this.decoder=new i(Q.encoding),this.encoding=Q.encoding)}function _(Q){if(A=A||e(15316),!(this instanceof _))return new _(Q);var $=this instanceof A;this._readableState=new m(Q,this,$),this.readable=!0,Q&&(typeof Q.read=="function"&&(this._read=Q.read),typeof Q.destroy=="function"&&(this._destroy=Q.destroy)),b.call(this)}function f(Q,$,G,X,J){a("readableAddChunk",$);var ne,ie=Q._readableState;if($===null)ie.reading=!1,function(ae,le){if(a("onEofChunk"),!le.ended){if(le.decoder){var ce=le.decoder.end();ce&&ce.length&&(le.buffer.push(ce),le.length+=le.objectMode?1:ce.length)}le.ended=!0,le.sync?C(ae):(le.needReadable=!1,le.emittedReadable||(le.emittedReadable=!0,O(ae)))}}(Q,ie);else if(J||(ne=function(ae,le){var ce,pe;return pe=le,h.isBuffer(pe)||pe instanceof o||typeof le=="string"||le===void 0||ae.objectMode||(ce=new c("chunk",["string","Buffer","Uint8Array"],le)),ce}(ie,$)),ne)v(Q,ne);else if(ie.objectMode||$&&$.length>0)if(typeof $=="string"||ie.objectMode||Object.getPrototypeOf($)===h.prototype||($=function(ae){return h.from(ae)}($)),X)ie.endEmitted?v(Q,new p):S(Q,ie,$,!0);else if(ie.ended)v(Q,new x);else{if(ie.destroyed)return!1;ie.reading=!1,ie.decoder&&!G?($=ie.decoder.write($),ie.objectMode||$.length!==0?S(Q,ie,$,!1):I(Q,ie)):S(Q,ie,$,!1)}else X||(ie.reading=!1,I(Q,ie));return!ie.ended&&(ie.length<ie.highWaterMark||ie.length===0)}function S(Q,$,G,X){$.flowing&&$.length===0&&!$.sync?($.awaitDrain=0,Q.emit("data",G)):($.length+=$.objectMode?1:G.length,X?$.buffer.unshift(G):$.buffer.push(G),$.needReadable&&C(Q)),I(Q,$)}Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Q){this._readableState&&(this._readableState.destroyed=Q)}}),_.prototype.destroy=l.destroy,_.prototype._undestroy=l.undestroy,_.prototype._destroy=function(Q,$){$(Q)},_.prototype.push=function(Q,$){var G,X=this._readableState;return X.objectMode?G=!0:typeof Q=="string"&&(($=$||X.defaultEncoding)!==X.encoding&&(Q=h.from(Q,$),$=""),G=!0),f(this,Q,$,!1,G)},_.prototype.unshift=function(Q){return f(this,Q,null,!0,!1)},_.prototype.isPaused=function(){return this._readableState.flowing===!1},_.prototype.setEncoding=function(Q){i||(i=e(86032).o);var $=new i(Q);this._readableState.decoder=$,this._readableState.encoding=this._readableState.decoder.encoding;for(var G=this._readableState.buffer.head,X="";G!==null;)X+=$.write(G.data),G=G.next;return this._readableState.buffer.clear(),X!==""&&this._readableState.buffer.push(X),this._readableState.length=X.length,this};var T=1073741824;function E(Q,$){return Q<=0||$.length===0&&$.ended?0:$.objectMode?1:Q!=Q?$.flowing&&$.length?$.buffer.head.data.length:$.length:(Q>$.highWaterMark&&($.highWaterMark=function(G){return G>=T?G=T:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}(Q)),Q<=$.length?Q:$.ended?$.length:($.needReadable=!0,0))}function C(Q){var $=Q._readableState;a("emitReadable",$.needReadable,$.emittedReadable),$.needReadable=!1,$.emittedReadable||(a("emitReadable",$.flowing),$.emittedReadable=!0,k.nextTick(O,Q))}function O(Q){var $=Q._readableState;a("emitReadable_",$.destroyed,$.length,$.ended),$.destroyed||!$.length&&!$.ended||(Q.emit("readable"),$.emittedReadable=!1),$.needReadable=!$.flowing&&!$.ended&&$.length<=$.highWaterMark,Z(Q)}function I(Q,$){$.readingMore||($.readingMore=!0,k.nextTick(z,Q,$))}function z(Q,$){for(;!$.reading&&!$.ended&&($.length<$.highWaterMark||$.flowing&&$.length===0);){var G=$.length;if(a("maybeReadMore read 0"),Q.read(0),G===$.length)break}$.readingMore=!1}function U(Q){var $=Q._readableState;$.readableListening=Q.listenerCount("readable")>0,$.resumeScheduled&&!$.paused?$.flowing=!0:Q.listenerCount("data")>0&&Q.resume()}function D(Q){a("readable nexttick read 0"),Q.read(0)}function B(Q,$){a("resume",$.reading),$.reading||Q.read(0),$.resumeScheduled=!1,Q.emit("resume"),Z(Q),$.flowing&&!$.reading&&Q.read(0)}function Z(Q){var $=Q._readableState;for(a("flow",$.flowing);$.flowing&&Q.read()!==null;);}function F(Q,$){return $.length===0?null:($.objectMode?G=$.buffer.shift():!Q||Q>=$.length?(G=$.decoder?$.buffer.join(""):$.buffer.length===1?$.buffer.first():$.buffer.concat($.length),$.buffer.clear()):G=$.buffer.consume(Q,$.decoder),G);var G}function j(Q){var $=Q._readableState;a("endReadable",$.endEmitted),$.endEmitted||($.ended=!0,k.nextTick(V,$,Q))}function V(Q,$){if(a("endReadableNT",Q.endEmitted,Q.length),!Q.endEmitted&&Q.length===0&&(Q.endEmitted=!0,$.readable=!1,$.emit("end"),Q.autoDestroy)){var G=$._writableState;(!G||G.autoDestroy&&G.finished)&&$.destroy()}}function te(Q,$){for(var G=0,X=Q.length;G<X;G++)if(Q[G]===$)return G;return-1}_.prototype.read=function(Q){a("read",Q),Q=parseInt(Q,10);var $=this._readableState,G=Q;if(Q!==0&&($.emittedReadable=!1),Q===0&&$.needReadable&&(($.highWaterMark!==0?$.length>=$.highWaterMark:$.length>0)||$.ended))return a("read: emitReadable",$.length,$.ended),$.length===0&&$.ended?j(this):C(this),null;if((Q=E(Q,$))===0&&$.ended)return $.length===0&&j(this),null;var X,J=$.needReadable;return a("need readable",J),($.length===0||$.length-Q<$.highWaterMark)&&a("length less than watermark",J=!0),$.ended||$.reading?a("reading or ended",J=!1):J&&(a("do read"),$.reading=!0,$.sync=!0,$.length===0&&($.needReadable=!0),this._read($.highWaterMark),$.sync=!1,$.reading||(Q=E(G,$))),(X=Q>0?F(Q,$):null)===null?($.needReadable=$.length<=$.highWaterMark,Q=0):($.length-=Q,$.awaitDrain=0),$.length===0&&($.ended||($.needReadable=!0),G!==Q&&$.ended&&j(this)),X!==null&&this.emit("data",X),X},_.prototype._read=function(Q){v(this,new g("_read()"))},_.prototype.pipe=function(Q,$){var G=this,X=this._readableState;switch(X.pipesCount){case 0:X.pipes=Q;break;case 1:X.pipes=[X.pipes,Q];break;default:X.pipes.push(Q)}X.pipesCount+=1,a("pipe count=%d opts=%j",X.pipesCount,$);var J=$&&$.end===!1||Q===k.stdout||Q===k.stderr?me:ne;function ne(){a("onend"),Q.end()}X.endEmitted?k.nextTick(J):G.once("end",J),Q.on("unpipe",function ve(Me,_e){a("onunpipe"),Me===G&&_e&&_e.hasUnpiped===!1&&(_e.hasUnpiped=!0,a("cleanup"),Q.removeListener("close",pe),Q.removeListener("finish",ge),Q.removeListener("drain",ie),Q.removeListener("error",ce),Q.removeListener("unpipe",ve),G.removeListener("end",ne),G.removeListener("end",me),G.removeListener("data",le),ae=!0,!X.awaitDrain||Q._writableState&&!Q._writableState.needDrain||ie())});var ie=function(ve){return function(){var Me=ve._readableState;a("pipeOnDrain",Me.awaitDrain),Me.awaitDrain&&Me.awaitDrain--,Me.awaitDrain===0&&w(ve,"data")&&(Me.flowing=!0,Z(ve))}}(G);Q.on("drain",ie);var ae=!1;function le(ve){a("ondata");var Me=Q.write(ve);a("dest.write",Me),Me===!1&&((X.pipesCount===1&&X.pipes===Q||X.pipesCount>1&&te(X.pipes,Q)!==-1)&&!ae&&(a("false write response, pause",X.awaitDrain),X.awaitDrain++),G.pause())}function ce(ve){a("onerror",ve),me(),Q.removeListener("error",ce),w(Q,"error")===0&&v(Q,ve)}function pe(){Q.removeListener("finish",ge),me()}function ge(){a("onfinish"),Q.removeListener("close",pe),me()}function me(){a("unpipe"),G.unpipe(Q)}return G.on("data",le),function(ve,Me,_e){if(typeof ve.prependListener=="function")return ve.prependListener(Me,_e);ve._events&&ve._events[Me]?Array.isArray(ve._events[Me])?ve._events[Me].unshift(_e):ve._events[Me]=[_e,ve._events[Me]]:ve.on(Me,_e)}(Q,"error",ce),Q.once("close",pe),Q.once("finish",ge),Q.emit("pipe",G),X.flowing||(a("pipe resume"),G.resume()),Q},_.prototype.unpipe=function(Q){var $=this._readableState,G={hasUnpiped:!1};if($.pipesCount===0)return this;if($.pipesCount===1)return Q&&Q!==$.pipes||(Q||(Q=$.pipes),$.pipes=null,$.pipesCount=0,$.flowing=!1,Q&&Q.emit("unpipe",this,G)),this;if(!Q){var X=$.pipes,J=$.pipesCount;$.pipes=null,$.pipesCount=0,$.flowing=!1;for(var ne=0;ne<J;ne++)X[ne].emit("unpipe",this,{hasUnpiped:!1});return this}var ie=te($.pipes,Q);return ie===-1||($.pipes.splice(ie,1),$.pipesCount-=1,$.pipesCount===1&&($.pipes=$.pipes[0]),Q.emit("unpipe",this,G)),this},_.prototype.on=function(Q,$){var G=b.prototype.on.call(this,Q,$),X=this._readableState;return Q==="data"?(X.readableListening=this.listenerCount("readable")>0,X.flowing!==!1&&this.resume()):Q==="readable"&&(X.endEmitted||X.readableListening||(X.readableListening=X.needReadable=!0,X.flowing=!1,X.emittedReadable=!1,a("on readable",X.length,X.reading),X.length?C(this):X.reading||k.nextTick(D,this))),G},_.prototype.addListener=_.prototype.on,_.prototype.removeListener=function(Q,$){var G=b.prototype.removeListener.call(this,Q,$);return Q==="readable"&&k.nextTick(U,this),G},_.prototype.removeAllListeners=function(Q){var $=b.prototype.removeAllListeners.apply(this,arguments);return Q!=="readable"&&Q!==void 0||k.nextTick(U,this),$},_.prototype.resume=function(){var Q=this._readableState;return Q.flowing||(a("resume"),Q.flowing=!Q.readableListening,function($,G){G.resumeScheduled||(G.resumeScheduled=!0,k.nextTick(B,$,G))}(this,Q)),Q.paused=!1,this},_.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},_.prototype.wrap=function(Q){var $=this,G=this._readableState,X=!1;for(var J in Q.on("end",function(){if(a("wrapped end"),G.decoder&&!G.ended){var ie=G.decoder.end();ie&&ie.length&&$.push(ie)}$.push(null)}),Q.on("data",function(ie){a("wrapped data"),G.decoder&&(ie=G.decoder.write(ie)),G.objectMode&&ie==null||(G.objectMode||ie&&ie.length)&&($.push(ie)||(X=!0,Q.pause()))}),Q)this[J]===void 0&&typeof Q[J]=="function"&&(this[J]=function(ie){return function(){return Q[ie].apply(Q,arguments)}}(J));for(var ne=0;ne<y.length;ne++)Q.on(y[ne],this.emit.bind(this,y[ne]));return this._read=function(ie){a("wrapped _read",ie),X&&(X=!1,Q.resume())},this},typeof Symbol=="function"&&(_.prototype[Symbol.asyncIterator]=function(){return n===void 0&&(n=e(60328)),n(this)}),Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Q){this._readableState&&(this._readableState.flowing=Q)}}),_._fromList=F,Object.defineProperty(_.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(_.from=function(Q,$){return r===void 0&&(r=e(90555)),r(_,Q,$)})},22477:function(Y,P,e){Y.exports=t;var A=e(92784).i,k=A.ERR_METHOD_NOT_IMPLEMENTED,a=A.ERR_MULTIPLE_CALLBACK,w=A.ERR_TRANSFORM_ALREADY_TRANSFORMING,b=A.ERR_TRANSFORM_WITH_LENGTH_0,h=e(15316);function o(r,s){var l=this._transformState;l.transforming=!1;var u=l.writecb;if(u===null)return this.emit("error",new a);l.writechunk=null,l.writecb=null,s!=null&&this.push(s),u(r);var d=this._readableState;d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}function t(r){if(!(this instanceof t))return new t(r);h.call(this,r),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&(typeof r.transform=="function"&&(this._transform=r.transform),typeof r.flush=="function"&&(this._flush=r.flush)),this.on("prefinish",i)}function i(){var r=this;typeof this._flush!="function"||this._readableState.destroyed?n(this,null,null):this._flush(function(s,l){n(r,s,l)})}function n(r,s,l){if(s)return r.emit("error",s);if(l!=null&&r.push(l),r._writableState.length)throw new b;if(r._transformState.transforming)throw new w;return r.push(null)}e(6768)(t,h),t.prototype.push=function(r,s){return this._transformState.needTransform=!1,h.prototype.push.call(this,r,s)},t.prototype._transform=function(r,s,l){l(new k("_transform()"))},t.prototype._write=function(r,s,l){var u=this._transformState;if(u.writecb=l,u.writechunk=r,u.writeencoding=s,!u.transforming){var d=this._readableState;(u.needTransform||d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}},t.prototype._read=function(r){var s=this._transformState;s.writechunk===null||s.transforming?s.needTransform=!0:(s.transforming=!0,this._transform(s.writechunk,s.writeencoding,s.afterTransform))},t.prototype._destroy=function(r,s){h.prototype._destroy.call(this,r,function(l){s(l)})}},11288:function(Y,P,e){var A,k=e(4168);function a(I){var z=this;this.next=null,this.entry=null,this.finish=function(){(function(U,D,B){var Z=U.entry;for(U.entry=null;Z;){var F=Z.callback;D.pendingcb--,F(void 0),Z=Z.next}D.corkedRequestsFree.next=U})(z,I)}}Y.exports=_,_.WritableState=m;var w,b={deprecate:e(96656)},h=e(4776),o=e(33576).Buffer,t=e.g.Uint8Array||function(){},i=e(55324),n=e(24888).getHighWaterMark,r=e(92784).i,s=r.ERR_INVALID_ARG_TYPE,l=r.ERR_METHOD_NOT_IMPLEMENTED,u=r.ERR_MULTIPLE_CALLBACK,d=r.ERR_STREAM_CANNOT_PIPE,c=r.ERR_STREAM_DESTROYED,x=r.ERR_STREAM_NULL_VALUES,g=r.ERR_STREAM_WRITE_AFTER_END,p=r.ERR_UNKNOWN_ENCODING,v=i.errorOrDestroy;function y(){}function m(I,z,U){A=A||e(15316),I=I||{},typeof U!="boolean"&&(U=z instanceof A),this.objectMode=!!I.objectMode,U&&(this.objectMode=this.objectMode||!!I.writableObjectMode),this.highWaterMark=n(this,I,"writableHighWaterMark",U),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var D=I.decodeStrings===!1;this.decodeStrings=!D,this.defaultEncoding=I.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(B){(function(Z,F){var j=Z._writableState,V=j.sync,te=j.writecb;if(typeof te!="function")throw new u;if(function($){$.writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0}(j),F)(function($,G,X,J,ne){--G.pendingcb,X?(k.nextTick(ne,J),k.nextTick(O,$,G),$._writableState.errorEmitted=!0,v($,J)):(ne(J),$._writableState.errorEmitted=!0,v($,J),O($,G))})(Z,j,V,F,te);else{var Q=E(j)||Z.destroyed;Q||j.corked||j.bufferProcessing||!j.bufferedRequest||T(Z,j),V?k.nextTick(S,Z,j,Q,te):S(Z,j,Q,te)}})(z,B)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function _(I){var z=this instanceof(A=A||e(15316));if(!z&&!w.call(_,this))return new _(I);this._writableState=new m(I,this,z),this.writable=!0,I&&(typeof I.write=="function"&&(this._write=I.write),typeof I.writev=="function"&&(this._writev=I.writev),typeof I.destroy=="function"&&(this._destroy=I.destroy),typeof I.final=="function"&&(this._final=I.final)),h.call(this)}function f(I,z,U,D,B,Z,F){z.writelen=D,z.writecb=F,z.writing=!0,z.sync=!0,z.destroyed?z.onwrite(new c("write")):U?I._writev(B,z.onwrite):I._write(B,Z,z.onwrite),z.sync=!1}function S(I,z,U,D){U||function(B,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,B.emit("drain"))}(I,z),z.pendingcb--,D(),O(I,z)}function T(I,z){z.bufferProcessing=!0;var U=z.bufferedRequest;if(I._writev&&U&&U.next){var D=z.bufferedRequestCount,B=new Array(D),Z=z.corkedRequestsFree;Z.entry=U;for(var F=0,j=!0;U;)B[F]=U,U.isBuf||(j=!1),U=U.next,F+=1;B.allBuffers=j,f(I,z,!0,z.length,B,"",Z.finish),z.pendingcb++,z.lastBufferedRequest=null,Z.next?(z.corkedRequestsFree=Z.next,Z.next=null):z.corkedRequestsFree=new a(z),z.bufferedRequestCount=0}else{for(;U;){var V=U.chunk,te=U.encoding,Q=U.callback;if(f(I,z,!1,z.objectMode?1:V.length,V,te,Q),U=U.next,z.bufferedRequestCount--,z.writing)break}U===null&&(z.lastBufferedRequest=null)}z.bufferedRequest=U,z.bufferProcessing=!1}function E(I){return I.ending&&I.length===0&&I.bufferedRequest===null&&!I.finished&&!I.writing}function C(I,z){I._final(function(U){z.pendingcb--,U&&v(I,U),z.prefinished=!0,I.emit("prefinish"),O(I,z)})}function O(I,z){var U=E(z);if(U&&(function(B,Z){Z.prefinished||Z.finalCalled||(typeof B._final!="function"||Z.destroyed?(Z.prefinished=!0,B.emit("prefinish")):(Z.pendingcb++,Z.finalCalled=!0,k.nextTick(C,B,Z)))}(I,z),z.pendingcb===0&&(z.finished=!0,I.emit("finish"),z.autoDestroy))){var D=I._readableState;(!D||D.autoDestroy&&D.endEmitted)&&I.destroy()}return U}e(6768)(_,h),m.prototype.getBuffer=function(){for(var I=this.bufferedRequest,z=[];I;)z.push(I),I=I.next;return z},function(){try{Object.defineProperty(m.prototype,"buffer",{get:b.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(w=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(I){return!!w.call(this,I)||this===_&&I&&I._writableState instanceof m}})):w=function(I){return I instanceof this},_.prototype.pipe=function(){v(this,new d)},_.prototype.write=function(I,z,U){var D,B=this._writableState,Z=!1,F=!B.objectMode&&(D=I,o.isBuffer(D)||D instanceof t);return F&&!o.isBuffer(I)&&(I=function(j){return o.from(j)}(I)),typeof z=="function"&&(U=z,z=null),F?z="buffer":z||(z=B.defaultEncoding),typeof U!="function"&&(U=y),B.ending?function(j,V){var te=new g;v(j,te),k.nextTick(V,te)}(this,U):(F||function(j,V,te,Q){var $;return te===null?$=new x:typeof te=="string"||V.objectMode||($=new s("chunk",["string","Buffer"],te)),!$||(v(j,$),k.nextTick(Q,$),!1)}(this,B,I,U))&&(B.pendingcb++,Z=function(j,V,te,Q,$,G){if(!te){var X=function(ae,le,ce){return ae.objectMode||ae.decodeStrings===!1||typeof le!="string"||(le=o.from(le,ce)),le}(V,Q,$);Q!==X&&(te=!0,$="buffer",Q=X)}var J=V.objectMode?1:Q.length;V.length+=J;var ne=V.length<V.highWaterMark;if(ne||(V.needDrain=!0),V.writing||V.corked){var ie=V.lastBufferedRequest;V.lastBufferedRequest={chunk:Q,encoding:$,isBuf:te,callback:G,next:null},ie?ie.next=V.lastBufferedRequest:V.bufferedRequest=V.lastBufferedRequest,V.bufferedRequestCount+=1}else f(j,V,!1,J,Q,$,G);return ne}(this,B,F,I,z,U)),Z},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var I=this._writableState;I.corked&&(I.corked--,I.writing||I.corked||I.bufferProcessing||!I.bufferedRequest||T(this,I))},_.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=I.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((I+"").toLowerCase())>-1))throw new p(I);return this._writableState.defaultEncoding=I,this},Object.defineProperty(_.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(I,z,U){U(new l("_write()"))},_.prototype._writev=null,_.prototype.end=function(I,z,U){var D=this._writableState;return typeof I=="function"?(U=I,I=null,z=null):typeof z=="function"&&(U=z,z=null),I!=null&&this.write(I,z),D.corked&&(D.corked=1,this.uncork()),D.ending||function(B,Z,F){Z.ending=!0,O(B,Z),F&&(Z.finished?k.nextTick(F):B.once("finish",F)),Z.ended=!0,B.writable=!1}(this,D,U),this},Object.defineProperty(_.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(I){this._writableState&&(this._writableState.destroyed=I)}}),_.prototype.destroy=i.destroy,_.prototype._undestroy=i.undestroy,_.prototype._destroy=function(I,z){z(I)}},60328:function(Y,P,e){var A,k=e(4168);function a(x,g,p){return g in x?Object.defineProperty(x,g,{value:p,enumerable:!0,configurable:!0,writable:!0}):x[g]=p,x}var w=e(15932),b=Symbol("lastResolve"),h=Symbol("lastReject"),o=Symbol("error"),t=Symbol("ended"),i=Symbol("lastPromise"),n=Symbol("handlePromise"),r=Symbol("stream");function s(x,g){return{value:x,done:g}}function l(x){var g=x[b];if(g!==null){var p=x[r].read();p!==null&&(x[i]=null,x[b]=null,x[h]=null,g(s(p,!1)))}}function u(x){k.nextTick(l,x)}var d=Object.getPrototypeOf(function(){}),c=Object.setPrototypeOf((a(A={get stream(){return this[r]},next:function(){var x=this,g=this[o];if(g!==null)return Promise.reject(g);if(this[t])return Promise.resolve(s(void 0,!0));if(this[r].destroyed)return new Promise(function(m,_){k.nextTick(function(){x[o]?_(x[o]):m(s(void 0,!0))})});var p,v=this[i];if(v)p=new Promise(function(m,_){return function(f,S){m.then(function(){_[t]?f(s(void 0,!0)):_[n](f,S)},S)}}(v,this));else{var y=this[r].read();if(y!==null)return Promise.resolve(s(y,!1));p=new Promise(this[n])}return this[i]=p,p}},Symbol.asyncIterator,function(){return this}),a(A,"return",function(){var x=this;return new Promise(function(g,p){x[r].destroy(null,function(v){v?p(v):g(s(void 0,!0))})})}),A),d);Y.exports=function(x){var g,p=Object.create(c,(a(g={},r,{value:x,writable:!0}),a(g,b,{value:null,writable:!0}),a(g,h,{value:null,writable:!0}),a(g,o,{value:null,writable:!0}),a(g,t,{value:x._readableState.endEmitted,writable:!0}),a(g,n,{value:function(v,y){var m=p[r].read();m?(p[i]=null,p[b]=null,p[h]=null,v(s(m,!1))):(p[b]=v,p[h]=y)},writable:!0}),g));return p[i]=null,w(x,function(v){if(v&&v.code!=="ERR_STREAM_PREMATURE_CLOSE"){var y=p[h];return y!==null&&(p[i]=null,p[b]=null,p[h]=null,y(v)),void(p[o]=v)}var m=p[b];m!==null&&(p[i]=null,p[b]=null,p[h]=null,m(s(void 0,!0))),p[t]=!0}),x.on("readable",u.bind(null,p)),p}},47264:function(Y,P,e){function A(o,t){var i=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable})),i.push.apply(i,n)}return i}function k(o,t,i){return t in o?Object.defineProperty(o,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[t]=i,o}function a(o,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}var w=e(33576).Buffer,b=e(21576).inspect,h=b&&b.custom||"inspect";Y.exports=function(){function o(){(function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}var t,i;return t=o,i=[{key:"push",value:function(n){var r={data:n,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}},{key:"unshift",value:function(n){var r={data:n,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}},{key:"shift",value:function(){if(this.length!==0){var n=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,n}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(n){if(this.length===0)return"";for(var r=this.head,s=""+r.data;r=r.next;)s+=n+r.data;return s}},{key:"concat",value:function(n){if(this.length===0)return w.alloc(0);for(var r,s,l,u=w.allocUnsafe(n>>>0),d=this.head,c=0;d;)r=d.data,s=u,l=c,w.prototype.copy.call(r,s,l),c+=d.data.length,d=d.next;return u}},{key:"consume",value:function(n,r){var s;return n<this.head.data.length?(s=this.head.data.slice(0,n),this.head.data=this.head.data.slice(n)):s=n===this.head.data.length?this.shift():r?this._getString(n):this._getBuffer(n),s}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(n){var r=this.head,s=1,l=r.data;for(n-=l.length;r=r.next;){var u=r.data,d=n>u.length?u.length:n;if(d===u.length?l+=u:l+=u.slice(0,n),(n-=d)==0){d===u.length?(++s,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=u.slice(d));break}++s}return this.length-=s,l}},{key:"_getBuffer",value:function(n){var r=w.allocUnsafe(n),s=this.head,l=1;for(s.data.copy(r),n-=s.data.length;s=s.next;){var u=s.data,d=n>u.length?u.length:n;if(u.copy(r,r.length-n,0,d),(n-=d)==0){d===u.length?(++l,s.next?this.head=s.next:this.head=this.tail=null):(this.head=s,s.data=u.slice(d));break}++l}return this.length-=l,r}},{key:h,value:function(n,r){return b(this,function(s){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?arguments[l]:{};l%2?A(Object(u),!0).forEach(function(d){k(s,d,u[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(u)):A(Object(u)).forEach(function(d){Object.defineProperty(s,d,Object.getOwnPropertyDescriptor(u,d))})}return s}({},r,{depth:0,customInspect:!1}))}}],i&&a(t.prototype,i),o}()},55324:function(Y,P,e){var A=e(4168);function k(b,h){w(b,h),a(b)}function a(b){b._writableState&&!b._writableState.emitClose||b._readableState&&!b._readableState.emitClose||b.emit("close")}function w(b,h){b.emit("error",h)}Y.exports={destroy:function(b,h){var o=this,t=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return t||i?(h?h(b):b&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,A.nextTick(w,this,b)):A.nextTick(w,this,b)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(n){!h&&n?o._writableState?o._writableState.errorEmitted?A.nextTick(a,o):(o._writableState.errorEmitted=!0,A.nextTick(k,o,n)):A.nextTick(k,o,n):h?(A.nextTick(a,o),h(n)):A.nextTick(a,o)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(b,h){var o=b._readableState,t=b._writableState;o&&o.autoDestroy||t&&t.autoDestroy?b.destroy(h):b.emit("error",h)}}},15932:function(Y,P,e){var A=e(92784).i.ERR_STREAM_PREMATURE_CLOSE;function k(){}Y.exports=function a(w,b,h){if(typeof b=="function")return a(w,null,b);b||(b={}),h=function(x){var g=!1;return function(){if(!g){g=!0;for(var p=arguments.length,v=new Array(p),y=0;y<p;y++)v[y]=arguments[y];x.apply(this,v)}}}(h||k);var o=b.readable||b.readable!==!1&&w.readable,t=b.writable||b.writable!==!1&&w.writable,i=function(){w.writable||r()},n=w._writableState&&w._writableState.finished,r=function(){t=!1,n=!0,o||h.call(w)},s=w._readableState&&w._readableState.endEmitted,l=function(){o=!1,s=!0,t||h.call(w)},u=function(x){h.call(w,x)},d=function(){var x;return o&&!s?(w._readableState&&w._readableState.ended||(x=new A),h.call(w,x)):t&&!n?(w._writableState&&w._writableState.ended||(x=new A),h.call(w,x)):void 0},c=function(){w.req.on("finish",r)};return function(x){return x.setHeader&&typeof x.abort=="function"}(w)?(w.on("complete",r),w.on("abort",d),w.req?c():w.on("request",c)):t&&!w._writableState&&(w.on("end",i),w.on("close",i)),w.on("end",l),w.on("finish",r),b.error!==!1&&w.on("error",u),w.on("close",d),function(){w.removeListener("complete",r),w.removeListener("abort",d),w.removeListener("request",c),w.req&&w.req.removeListener("finish",r),w.removeListener("end",i),w.removeListener("close",i),w.removeListener("finish",r),w.removeListener("end",l),w.removeListener("error",u),w.removeListener("close",d)}}},90555:function(Y){Y.exports=function(){throw new Error("Readable.from is not available in the browser")}},38180:function(Y,P,e){var A,k=e(92784).i,a=k.ERR_MISSING_ARGS,w=k.ERR_STREAM_DESTROYED;function b(t){if(t)throw t}function h(t){t()}function o(t,i){return t.pipe(i)}Y.exports=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var r,s=function(u){return u.length?typeof u[u.length-1]!="function"?b:u.pop():b}(i);if(Array.isArray(i[0])&&(i=i[0]),i.length<2)throw new a("streams");var l=i.map(function(u,d){var c=d<i.length-1;return function(x,g,p,v){v=function(_){var f=!1;return function(){f||(f=!0,_.apply(void 0,arguments))}}(v);var y=!1;x.on("close",function(){y=!0}),A===void 0&&(A=e(15932)),A(x,{readable:g,writable:p},function(_){if(_)return v(_);y=!0,v()});var m=!1;return function(_){if(!y&&!m)return m=!0,function(f){return f.setHeader&&typeof f.abort=="function"}(x)?x.abort():typeof x.destroy=="function"?x.destroy():void v(_||new w("pipe"))}}(u,c,d>0,function(x){r||(r=x),x&&l.forEach(h),c||(l.forEach(h),s(r))})});return i.reduce(o)}},24888:function(Y,P,e){var A=e(92784).i.ERR_INVALID_OPT_VALUE;Y.exports={getHighWaterMark:function(k,a,w,b){var h=function(o,t,i){return o.highWaterMark!=null?o.highWaterMark:t?o[i]:null}(a,b,w);if(h!=null){if(!isFinite(h)||Math.floor(h)!==h||h<0)throw new A(b?w:"highWaterMark",h);return Math.floor(h)}return k.objectMode?16:16384}}},4776:function(Y,P,e){Y.exports=e(61252).EventEmitter},86032:function(Y,P,e){var A=e(30456).Buffer,k=A.isEncoding||function(s){switch((s=""+s)&&s.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(s){var l;switch(this.encoding=function(u){var d=function(c){if(!c)return"utf8";for(var x;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(x)return;c=(""+c).toLowerCase(),x=!0}}(u);if(typeof d!="string"&&(A.isEncoding===k||!k(u)))throw new Error("Unknown encoding: "+u);return d||u}(s),this.encoding){case"utf16le":this.text=h,this.end=o,l=4;break;case"utf8":this.fillLast=b,l=4;break;case"base64":this.text=t,this.end=i,l=3;break;default:return this.write=n,void(this.end=r)}this.lastNeed=0,this.lastTotal=0,this.lastChar=A.allocUnsafe(l)}function w(s){return s<=127?0:s>>5==6?2:s>>4==14?3:s>>3==30?4:s>>6==2?-1:-2}function b(s){var l=this.lastTotal-this.lastNeed,u=function(d,c,x){if((192&c[0])!=128)return d.lastNeed=0,"\uFFFD";if(d.lastNeed>1&&c.length>1){if((192&c[1])!=128)return d.lastNeed=1,"\uFFFD";if(d.lastNeed>2&&c.length>2&&(192&c[2])!=128)return d.lastNeed=2,"\uFFFD"}}(this,s);return u!==void 0?u:this.lastNeed<=s.length?(s.copy(this.lastChar,l,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(s.copy(this.lastChar,l,0,s.length),void(this.lastNeed-=s.length))}function h(s,l){if((s.length-l)%2==0){var u=s.toString("utf16le",l);if(u){var d=u.charCodeAt(u.length-1);if(d>=55296&&d<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=s[s.length-2],this.lastChar[1]=s[s.length-1],u.slice(0,-1)}return u}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=s[s.length-1],s.toString("utf16le",l,s.length-1)}function o(s){var l=s&&s.length?this.write(s):"";if(this.lastNeed){var u=this.lastTotal-this.lastNeed;return l+this.lastChar.toString("utf16le",0,u)}return l}function t(s,l){var u=(s.length-l)%3;return u===0?s.toString("base64",l):(this.lastNeed=3-u,this.lastTotal=3,u===1?this.lastChar[0]=s[s.length-1]:(this.lastChar[0]=s[s.length-2],this.lastChar[1]=s[s.length-1]),s.toString("base64",l,s.length-u))}function i(s){var l=s&&s.length?this.write(s):"";return this.lastNeed?l+this.lastChar.toString("base64",0,3-this.lastNeed):l}function n(s){return s.toString(this.encoding)}function r(s){return s&&s.length?this.write(s):""}P.o=a,a.prototype.write=function(s){if(s.length===0)return"";var l,u;if(this.lastNeed){if((l=this.fillLast(s))===void 0)return"";u=this.lastNeed,this.lastNeed=0}else u=0;return u<s.length?l?l+this.text(s,u):this.text(s,u):l||""},a.prototype.end=function(s){var l=s&&s.length?this.write(s):"";return this.lastNeed?l+"\uFFFD":l},a.prototype.text=function(s,l){var u=function(c,x,g){var p=x.length-1;if(p<g)return 0;var v=w(x[p]);return v>=0?(v>0&&(c.lastNeed=v-1),v):--p<g||v===-2?0:(v=w(x[p]))>=0?(v>0&&(c.lastNeed=v-2),v):--p<g||v===-2?0:(v=w(x[p]))>=0?(v>0&&(v===2?v=0:c.lastNeed=v-3),v):0}(this,s,l);if(!this.lastNeed)return s.toString("utf8",l);this.lastTotal=u;var d=s.length-(u-this.lastNeed);return s.copy(this.lastChar,0,d),s.toString("utf8",l,d)},a.prototype.fillLast=function(s){if(this.lastNeed<=s.length)return s.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);s.copy(this.lastChar,this.lastTotal-this.lastNeed,0,s.length),this.lastNeed-=s.length}},55619:function(Y,P,e){var A=e(45408),k=e(86844)("stream-parser");Y.exports=function(c){var x=c&&typeof c._transform=="function",g=c&&typeof c._write=="function";if(!x&&!g)throw new Error("must pass a Writable or Transform stream in");k("extending Parser into stream"),c._bytes=t,c._skipBytes=i,x&&(c._passthrough=n),x?c._transform=s:c._write=r};var a=-1,w=0,b=1,h=2;function o(c){k("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=a,c._parserCallback=null,typeof c.push=="function"&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,x){A(!this._parserCallback,'there is already a "callback" set!'),A(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||o(this),k("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=x,this._parserState=w}function i(c,x){A(!this._parserCallback,'there is already a "callback" set!'),A(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||o(this),k("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=x,this._parserState=b}function n(c,x){A(!this._parserCallback,'There is already a "callback" set!'),A(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||o(this),k("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=x,this._parserState=h}function r(c,x,g){this._parserInit||o(this),k("write(%o bytes)",c.length),typeof x=="function"&&(g=x),u(this,c,null,g)}function s(c,x,g){this._parserInit||o(this),k("transform(%o bytes)",c.length),typeof x!="function"&&(x=this._parserOutput),u(this,c,x,g)}function l(c,x,g,p){if(c._parserBytesLeft-=x.length,k("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===w?(c._parserBuffers.push(x),c._parserBuffered+=x.length):c._parserState===h&&g(x),c._parserBytesLeft!==0)return p;var v=c._parserCallback;if(v&&c._parserState===w&&c._parserBuffers.length>1&&(x=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==w&&(x=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=a,c._parserBuffers.splice(0),v){var y=[];x&&y.push(x),g&&y.push(g);var m=v.length>y.length;m&&y.push(d(p));var _=v.apply(c,y);if(!m||p===_)return p}}var u=d(function c(x,g,p,v){return x._parserBytesLeft<=0?v(new Error("got data but not currently parsing anything")):g.length<=x._parserBytesLeft?function(){return l(x,g,p,v)}:function(){var y=g.slice(0,x._parserBytesLeft);return l(x,y,p,function(m){return m?v(m):g.length>y.length?function(){return c(x,g.slice(y.length),p,v)}:void 0})}});function d(c){return function(){for(var x=c.apply(this,arguments);typeof x=="function";)x=x();return x}}},86844:function(Y,P,e){var A=e(4168);function k(){var a;try{a=P.storage.debug}catch{}return!a&&A!==void 0&&"env"in A&&(a=A.env.DEBUG),a}(P=Y.exports=e(89416)).log=function(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},P.formatArgs=function(a){var w=this.useColors;if(a[0]=(w?"%c":"")+this.namespace+(w?" %c":" ")+a[0]+(w?"%c ":" ")+"+"+P.humanize(this.diff),w){var b="color: "+this.color;a.splice(1,0,b,"color: inherit");var h=0,o=0;a[0].replace(/%[a-zA-Z%]/g,function(t){t!=="%%"&&(h++,t==="%c"&&(o=h))}),a.splice(o,0,b)}},P.save=function(a){try{a==null?P.storage.removeItem("debug"):P.storage.debug=a}catch{}},P.load=k,P.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer")||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},P.storage=typeof chrome<"u"&&chrome.storage!==void 0?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),P.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],P.formatters.j=function(a){try{return JSON.stringify(a)}catch(w){return"[UnexpectedJSONParseError]: "+w.message}},P.enable(k())},89416:function(Y,P,e){var A;function k(a){function w(){if(w.enabled){var b=w,h=+new Date,o=h-(A||h);b.diff=o,b.prev=A,b.curr=h,A=h;for(var t=new Array(arguments.length),i=0;i<t.length;i++)t[i]=arguments[i];t[0]=P.coerce(t[0]),typeof t[0]!="string"&&t.unshift("%O");var n=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(r,s){if(r==="%%")return r;n++;var l=P.formatters[s];if(typeof l=="function"){var u=t[n];r=l.call(b,u),t.splice(n,1),n--}return r}),P.formatArgs.call(b,t),(w.log||P.log||console.log.bind(console)).apply(b,t)}}return w.namespace=a,w.enabled=P.enabled(a),w.useColors=P.useColors(),w.color=function(b){var h,o=0;for(h in b)o=(o<<5)-o+b.charCodeAt(h),o|=0;return P.colors[Math.abs(o)%P.colors.length]}(a),typeof P.init=="function"&&P.init(w),w}(P=Y.exports=k.debug=k.default=k).coerce=function(a){return a instanceof Error?a.stack||a.message:a},P.disable=function(){P.enable("")},P.enable=function(a){P.save(a),P.names=[],P.skips=[];for(var w=(typeof a=="string"?a:"").split(/[\s,]+/),b=w.length,h=0;h<b;h++)w[h]&&((a=w[h].replace(/\*/g,".*?"))[0]==="-"?P.skips.push(new RegExp("^"+a.substr(1)+"$")):P.names.push(new RegExp("^"+a+"$")))},P.enabled=function(a){var w,b;for(w=0,b=P.skips.length;w<b;w++)if(P.skips[w].test(a))return!1;for(w=0,b=P.names.length;w<b;w++)if(P.names[w].test(a))return!0;return!1},P.humanize=e(93744),P.names=[],P.skips=[],P.formatters={}},93744:function(Y){var P=1e3,e=60*P,A=60*e,k=24*A;function a(w,b,h){if(!(w<b))return w<1.5*b?Math.floor(w/b)+" "+h:Math.ceil(w/b)+" "+h+"s"}Y.exports=function(w,b){b=b||{};var h,o=typeof w;if(o==="string"&&w.length>0)return function(t){if(!((t=String(t)).length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(i){var n=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*k;case"hours":case"hour":case"hrs":case"hr":case"h":return n*A;case"minutes":case"minute":case"mins":case"min":case"m":return n*e;case"seconds":case"second":case"secs":case"sec":case"s":return n*P;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(w);if(o==="number"&&isNaN(w)===!1)return b.long?a(h=w,k,"day")||a(h,A,"hour")||a(h,e,"minute")||a(h,P,"second")||h+" ms":function(t){return t>=k?Math.round(t/k)+"d":t>=A?Math.round(t/A)+"h":t>=e?Math.round(t/e)+"m":t>=P?Math.round(t/P)+"s":t+"ms"}(w);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(w))}},39956:function(Y,P,e){var A=e(32868);Y.exports=function(k,a,w){if(k==null)throw Error("First argument should be a string");if(a==null)throw Error("Separator should be a string or a RegExp");w?(typeof w=="string"||Array.isArray(w))&&(w={ignore:w}):w={},w.escape==null&&(w.escape=!0),w.ignore==null?w.ignore=["[]","()","{}","<>",'""',"''","``","\u201C\u201D","\xAB\xBB"]:(typeof w.ignore=="string"&&(w.ignore=[w.ignore]),w.ignore=w.ignore.map(function(r){return r.length===1&&(r+=r),r}));var b=A.parse(k,{flat:!0,brackets:w.ignore}),h=b[0].split(a);if(w.escape){for(var o=[],t=0;t<h.length;t++){var i=h[t],n=h[t+1];i[i.length-1]==="\\"&&i[i.length-2]!=="\\"?(o.push(i+a+n),t++):o.push(i)}h=o}for(t=0;t<h.length;t++)b[0]=h[t],h[t]=A.stringify(b,{flat:!0});return h}},78484:function(Y){Y.exports=function(P){for(var e=P.length,A=new Array(e),k=new Array(e),a=new Array(e),w=new Array(e),b=new Array(e),h=new Array(e),o=0;o<e;++o)A[o]=-1,k[o]=0,a[o]=!1,w[o]=0,b[o]=-1,h[o]=[];var t,i=0,n=[],r=[];function s(d){var c=[d],x=[d];for(A[d]=k[d]=i,a[d]=!0,i+=1;x.length>0;){d=x[x.length-1];var g=P[d];if(w[d]<g.length){for(var p=w[d];p<g.length;++p){var v=g[p];if(A[v]<0){A[v]=k[v]=i,a[v]=!0,i+=1,c.push(v),x.push(v);break}a[v]&&(k[d]=0|Math.min(k[d],k[v])),b[v]>=0&&h[d].push(b[v])}w[d]=p}else{if(k[d]===A[d]){var y=[],m=[],_=0;for(p=c.length-1;p>=0;--p){var f=c[p];if(a[f]=!1,y.push(f),m.push(h[f]),_+=h[f].length,b[f]=n.length,f===d){c.length=p;break}}n.push(y);var S=new Array(_);for(p=0;p<m.length;p++)for(var T=0;T<m[p].length;T++)S[--_]=m[p][T];r.push(S)}x.pop()}}}for(o=0;o<e;++o)A[o]<0&&s(o);for(o=0;o<r.length;o++){var l=r[o];if(l.length!==0){l.sort(function(d,c){return d-c}),t=[l[0]];for(var u=1;u<l.length;u++)l[u]!==l[u-1]&&t.push(l[u]);r[o]=t}}return{components:n,adjacencyList:r}}},92848:function(Y,P,e){e.r(P);var A=2*Math.PI,k=function(b,h,o,t,i,n,r){var s=b.x,l=b.y;return{x:t*(s*=h)-i*(l*=o)+n,y:i*s+t*l+r}},a=function(b,h){var o=h===1.5707963267948966?.551915024494:h===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(h/4),t=Math.cos(b),i=Math.sin(b),n=Math.cos(b+h),r=Math.sin(b+h);return[{x:t-i*o,y:i+t*o},{x:n+r*o,y:r-n*o},{x:n,y:r}]},w=function(b,h,o,t){var i=b*o+h*t;return i>1&&(i=1),i<-1&&(i=-1),(b*t-h*o<0?-1:1)*Math.acos(i)};P.default=function(b){var h=b.px,o=b.py,t=b.cx,i=b.cy,n=b.rx,r=b.ry,s=b.xAxisRotation,l=s===void 0?0:s,u=b.largeArcFlag,d=u===void 0?0:u,c=b.sweepFlag,x=c===void 0?0:c,g=[];if(n===0||r===0)return[];var p=Math.sin(l*A/360),v=Math.cos(l*A/360),y=v*(h-t)/2+p*(o-i)/2,m=-p*(h-t)/2+v*(o-i)/2;if(y===0&&m===0)return[];n=Math.abs(n),r=Math.abs(r);var _=Math.pow(y,2)/Math.pow(n,2)+Math.pow(m,2)/Math.pow(r,2);_>1&&(n*=Math.sqrt(_),r*=Math.sqrt(_));var f=function(D,B,Z,F,j,V,te,Q,$,G,X,J){var ne=Math.pow(j,2),ie=Math.pow(V,2),ae=Math.pow(X,2),le=Math.pow(J,2),ce=ne*ie-ne*le-ie*ae;ce<0&&(ce=0),ce/=ne*le+ie*ae;var pe=(ce=Math.sqrt(ce)*(te===Q?-1:1))*j/V*J,ge=ce*-V/j*X,me=G*pe-$*ge+(D+Z)/2,ve=$*pe+G*ge+(B+F)/2,Me=(X-pe)/j,_e=(J-ge)/V,we=(-X-pe)/j,oe=(-J-ge)/V,se=w(1,0,Me,_e),de=w(Me,_e,we,oe);return Q===0&&de>0&&(de-=A),Q===1&&de<0&&(de+=A),[me,ve,se,de]}(h,o,t,i,n,r,d,x,p,v,y,m),S=function(D,B){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return function(Z,F){var j=[],V=!0,te=!1,Q=void 0;try{for(var $,G=Z[Symbol.iterator]();!(V=($=G.next()).done)&&(j.push($.value),!F||j.length!==F);V=!0);}catch(X){te=!0,Q=X}finally{try{!V&&G.return&&G.return()}finally{if(te)throw Q}}return j}(D,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(f,4),T=S[0],E=S[1],C=S[2],O=S[3],I=Math.abs(O)/(A/4);Math.abs(1-I)<1e-7&&(I=1);var z=Math.max(Math.ceil(I),1);O/=z;for(var U=0;U<z;U++)g.push(a(C,O)),C+=O;return g.map(function(D){var B=k(D[0],n,r,v,p,T,E),Z=B.x,F=B.y,j=k(D[1],n,r,v,p,T,E),V=j.x,te=j.y,Q=k(D[2],n,r,v,p,T,E);return{x1:Z,y1:F,x2:V,y2:te,x:Q.x,y:Q.y}})}},74840:function(Y,P,e){var A=e(21984),k=e(49972),a=e(41976),w=e(53520),b=e(45408);Y.exports=function(h){if(Array.isArray(h)&&h.length===1&&typeof h[0]=="string"&&(h=h[0]),typeof h=="string"&&(b(w(h),"String is not an SVG path."),h=A(h)),b(Array.isArray(h),"Argument should be a string or an array of path segments."),h=k(h),!(h=a(h)).length)return[0,0,0,0];for(var o=[1/0,1/0,-1/0,-1/0],t=0,i=h.length;t<i;t++)for(var n=h[t].slice(1),r=0;r<n.length;r+=2)n[r+0]<o[0]&&(o[0]=n[r+0]),n[r+1]<o[1]&&(o[1]=n[r+1]),n[r+0]>o[2]&&(o[2]=n[r+0]),n[r+1]>o[3]&&(o[3]=n[r+1]);return o}},41976:function(Y,P,e){Y.exports=function(w){for(var b,h=[],o=0,t=0,i=0,n=0,r=null,s=null,l=0,u=0,d=0,c=w.length;d<c;d++){var x=w[d],g=x[0];switch(g){case"M":i=x[1],n=x[2];break;case"A":var p=A({px:l,py:u,cx:x[6],cy:x[7],rx:x[1],ry:x[2],xAxisRotation:x[3],largeArcFlag:x[4],sweepFlag:x[5]});if(!p.length)continue;for(var v,y=0;y<p.length;y++)x=["C",(v=p[y]).x1,v.y1,v.x2,v.y2,v.x,v.y],y<p.length-1&&h.push(x);break;case"S":var m=l,_=u;b!="C"&&b!="S"||(m+=m-o,_+=_-t),x=["C",m,_,x[1],x[2],x[3],x[4]];break;case"T":b=="Q"||b=="T"?(r=2*l-r,s=2*u-s):(r=l,s=u),x=a(l,u,r,s,x[1],x[2]);break;case"Q":r=x[1],s=x[2],x=a(l,u,x[1],x[2],x[3],x[4]);break;case"L":x=k(l,u,x[1],x[2]);break;case"H":x=k(l,u,x[1],u);break;case"V":x=k(l,u,l,x[1]);break;case"Z":x=k(l,u,i,n)}b=g,l=x[x.length-2],u=x[x.length-1],x.length>4?(o=x[x.length-4],t=x[x.length-3]):(o=l,t=u),h.push(x)}return h};var A=e(92848);function k(w,b,h,o){return["C",w,b,h,o,h,o]}function a(w,b,h,o,t,i){return["C",w/3+.6666666666666666*h,b/3+.6666666666666666*o,t/3+.6666666666666666*h,i/3+.6666666666666666*o,t,i]}},20472:function(Y,P,e){var A,k=e(74840),a=e(21984),w=e(22235),b=e(53520),h=e(29620),o=document.createElement("canvas"),t=o.getContext("2d");Y.exports=function(i,n){if(!b(i))throw Error("Argument should be valid svg path string");var r,s;n||(n={}),n.shape?(r=n.shape[0],s=n.shape[1]):(r=o.width=n.w||n.width||200,s=o.height=n.h||n.height||200);var l=Math.min(r,s),u=n.stroke||0,d=n.viewbox||n.viewBox||k(i),c=[r/(d[2]-d[0]),s/(d[3]-d[1])],x=Math.min(c[0]||0,c[1]||0)/2;if(t.fillStyle="black",t.fillRect(0,0,r,s),t.fillStyle="white",u&&(typeof u!="number"&&(u=1),t.strokeStyle=u>0?"white":"black",t.lineWidth=Math.abs(u)),t.translate(.5*r,.5*s),t.scale(x,x),function(){if(A!=null)return A;var v=document.createElement("canvas").getContext("2d");if(v.canvas.width=v.canvas.height=1,!window.Path2D)return A=!1;var y=new Path2D("M0,0h1v1h-1v-1Z");v.fillStyle="black",v.fill(y);var m=v.getImageData(0,0,1,1);return A=m&&m.data&&m.data[3]===255}()){var g=new Path2D(i);t.fill(g),u&&t.stroke(g)}else{var p=a(i);w(t,p),t.fill(),u&&t.stroke()}return t.setTransform(1,0,0,1,0,0),h(t,{cutoff:n.cutoff!=null?n.cutoff:.5,radius:n.radius!=null?n.radius:.5*l})}},49760:function(Y,P,e){var A;(function(k){var a=/^\s+/,w=/\s+$/,b=0,h=k.round,o=k.min,t=k.max,i=k.random;function n(X,J){if(J=J||{},(X=X||"")instanceof n)return X;if(!(this instanceof n))return new n(X,J);var ne=function(ie){var ae,le,ce,pe={r:0,g:0,b:0},ge=1,me=null,ve=null,Me=null,_e=!1,we=!1;return typeof ie=="string"&&(ie=function(oe){oe=oe.replace(a,"").replace(w,"").toLowerCase();var se,de=!1;if(C[oe])oe=C[oe],de=!0;else if(oe=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(se=$.rgb.exec(oe))?{r:se[1],g:se[2],b:se[3]}:(se=$.rgba.exec(oe))?{r:se[1],g:se[2],b:se[3],a:se[4]}:(se=$.hsl.exec(oe))?{h:se[1],s:se[2],l:se[3]}:(se=$.hsla.exec(oe))?{h:se[1],s:se[2],l:se[3],a:se[4]}:(se=$.hsv.exec(oe))?{h:se[1],s:se[2],v:se[3]}:(se=$.hsva.exec(oe))?{h:se[1],s:se[2],v:se[3],a:se[4]}:(se=$.hex8.exec(oe))?{r:D(se[1]),g:D(se[2]),b:D(se[3]),a:j(se[4]),format:de?"name":"hex8"}:(se=$.hex6.exec(oe))?{r:D(se[1]),g:D(se[2]),b:D(se[3]),format:de?"name":"hex"}:(se=$.hex4.exec(oe))?{r:D(se[1]+""+se[1]),g:D(se[2]+""+se[2]),b:D(se[3]+""+se[3]),a:j(se[4]+""+se[4]),format:de?"name":"hex8"}:!!(se=$.hex3.exec(oe))&&{r:D(se[1]+""+se[1]),g:D(se[2]+""+se[2]),b:D(se[3]+""+se[3]),format:de?"name":"hex"}}(ie)),typeof ie=="object"&&(G(ie.r)&&G(ie.g)&&G(ie.b)?(ae=ie.r,le=ie.g,ce=ie.b,pe={r:255*z(ae,255),g:255*z(le,255),b:255*z(ce,255)},_e=!0,we=String(ie.r).substr(-1)==="%"?"prgb":"rgb"):G(ie.h)&&G(ie.s)&&G(ie.v)?(me=Z(ie.s),ve=Z(ie.v),pe=function(oe,se,de){oe=6*z(oe,360),se=z(se,100),de=z(de,100);var Ee=k.floor(oe),Te=oe-Ee,Se=de*(1-se),Le=de*(1-Te*se),Oe=de*(1-(1-Te)*se),he=Ee%6;return{r:255*[de,Le,Se,Se,Oe,de][he],g:255*[Oe,de,de,Le,Se,Se][he],b:255*[Se,Se,Oe,de,de,Le][he]}}(ie.h,me,ve),_e=!0,we="hsv"):G(ie.h)&&G(ie.s)&&G(ie.l)&&(me=Z(ie.s),Me=Z(ie.l),pe=function(oe,se,de){var Ee,Te,Se;function Le(xe,ke,Re){return Re<0&&(Re+=1),Re>1&&(Re-=1),Re<1/6?xe+6*(ke-xe)*Re:Re<.5?ke:Re<2/3?xe+(ke-xe)*(2/3-Re)*6:xe}if(oe=z(oe,360),se=z(se,100),de=z(de,100),se===0)Ee=Te=Se=de;else{var Oe=de<.5?de*(1+se):de+se-de*se,he=2*de-Oe;Ee=Le(he,Oe,oe+1/3),Te=Le(he,Oe,oe),Se=Le(he,Oe,oe-1/3)}return{r:255*Ee,g:255*Te,b:255*Se}}(ie.h,me,Me),_e=!0,we="hsl"),ie.hasOwnProperty("a")&&(ge=ie.a)),ge=I(ge),{ok:_e,format:ie.format||we,r:o(255,t(pe.r,0)),g:o(255,t(pe.g,0)),b:o(255,t(pe.b,0)),a:ge}}(X);this._originalInput=X,this._r=ne.r,this._g=ne.g,this._b=ne.b,this._a=ne.a,this._roundA=h(100*this._a)/100,this._format=J.format||ne.format,this._gradientType=J.gradientType,this._r<1&&(this._r=h(this._r)),this._g<1&&(this._g=h(this._g)),this._b<1&&(this._b=h(this._b)),this._ok=ne.ok,this._tc_id=b++}function r(X,J,ne){X=z(X,255),J=z(J,255),ne=z(ne,255);var ie,ae,le=t(X,J,ne),ce=o(X,J,ne),pe=(le+ce)/2;if(le==ce)ie=ae=0;else{var ge=le-ce;switch(ae=pe>.5?ge/(2-le-ce):ge/(le+ce),le){case X:ie=(J-ne)/ge+(J<ne?6:0);break;case J:ie=(ne-X)/ge+2;break;case ne:ie=(X-J)/ge+4}ie/=6}return{h:ie,s:ae,l:pe}}function s(X,J,ne){X=z(X,255),J=z(J,255),ne=z(ne,255);var ie,ae,le=t(X,J,ne),ce=o(X,J,ne),pe=le,ge=le-ce;if(ae=le===0?0:ge/le,le==ce)ie=0;else{switch(le){case X:ie=(J-ne)/ge+(J<ne?6:0);break;case J:ie=(ne-X)/ge+2;break;case ne:ie=(X-J)/ge+4}ie/=6}return{h:ie,s:ae,v:pe}}function l(X,J,ne,ie){var ae=[B(h(X).toString(16)),B(h(J).toString(16)),B(h(ne).toString(16))];return ie&&ae[0].charAt(0)==ae[0].charAt(1)&&ae[1].charAt(0)==ae[1].charAt(1)&&ae[2].charAt(0)==ae[2].charAt(1)?ae[0].charAt(0)+ae[1].charAt(0)+ae[2].charAt(0):ae.join("")}function u(X,J,ne,ie){return[B(F(ie)),B(h(X).toString(16)),B(h(J).toString(16)),B(h(ne).toString(16))].join("")}function d(X,J){J=J===0?0:J||10;var ne=n(X).toHsl();return ne.s-=J/100,ne.s=U(ne.s),n(ne)}function c(X,J){J=J===0?0:J||10;var ne=n(X).toHsl();return ne.s+=J/100,ne.s=U(ne.s),n(ne)}function x(X){return n(X).desaturate(100)}function g(X,J){J=J===0?0:J||10;var ne=n(X).toHsl();return ne.l+=J/100,ne.l=U(ne.l),n(ne)}function p(X,J){J=J===0?0:J||10;var ne=n(X).toRgb();return ne.r=t(0,o(255,ne.r-h(-J/100*255))),ne.g=t(0,o(255,ne.g-h(-J/100*255))),ne.b=t(0,o(255,ne.b-h(-J/100*255))),n(ne)}function v(X,J){J=J===0?0:J||10;var ne=n(X).toHsl();return ne.l-=J/100,ne.l=U(ne.l),n(ne)}function y(X,J){var ne=n(X).toHsl(),ie=(ne.h+J)%360;return ne.h=ie<0?360+ie:ie,n(ne)}function m(X){var J=n(X).toHsl();return J.h=(J.h+180)%360,n(J)}function _(X){var J=n(X).toHsl(),ne=J.h;return[n(X),n({h:(ne+120)%360,s:J.s,l:J.l}),n({h:(ne+240)%360,s:J.s,l:J.l})]}function f(X){var J=n(X).toHsl(),ne=J.h;return[n(X),n({h:(ne+90)%360,s:J.s,l:J.l}),n({h:(ne+180)%360,s:J.s,l:J.l}),n({h:(ne+270)%360,s:J.s,l:J.l})]}function S(X){var J=n(X).toHsl(),ne=J.h;return[n(X),n({h:(ne+72)%360,s:J.s,l:J.l}),n({h:(ne+216)%360,s:J.s,l:J.l})]}function T(X,J,ne){J=J||6,ne=ne||30;var ie=n(X).toHsl(),ae=360/ne,le=[n(X)];for(ie.h=(ie.h-(ae*J>>1)+720)%360;--J;)ie.h=(ie.h+ae)%360,le.push(n(ie));return le}function E(X,J){J=J||6;for(var ne=n(X).toHsv(),ie=ne.h,ae=ne.s,le=ne.v,ce=[],pe=1/J;J--;)ce.push(n({h:ie,s:ae,v:le})),le=(le+pe)%1;return ce}n.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var X=this.toRgb();return(299*X.r+587*X.g+114*X.b)/1e3},getLuminance:function(){var X,J,ne,ie=this.toRgb();return X=ie.r/255,J=ie.g/255,ne=ie.b/255,.2126*(X<=.03928?X/12.92:k.pow((X+.055)/1.055,2.4))+.7152*(J<=.03928?J/12.92:k.pow((J+.055)/1.055,2.4))+.0722*(ne<=.03928?ne/12.92:k.pow((ne+.055)/1.055,2.4))},setAlpha:function(X){return this._a=I(X),this._roundA=h(100*this._a)/100,this},toHsv:function(){var X=s(this._r,this._g,this._b);return{h:360*X.h,s:X.s,v:X.v,a:this._a}},toHsvString:function(){var X=s(this._r,this._g,this._b),J=h(360*X.h),ne=h(100*X.s),ie=h(100*X.v);return this._a==1?"hsv("+J+", "+ne+"%, "+ie+"%)":"hsva("+J+", "+ne+"%, "+ie+"%, "+this._roundA+")"},toHsl:function(){var X=r(this._r,this._g,this._b);return{h:360*X.h,s:X.s,l:X.l,a:this._a}},toHslString:function(){var X=r(this._r,this._g,this._b),J=h(360*X.h),ne=h(100*X.s),ie=h(100*X.l);return this._a==1?"hsl("+J+", "+ne+"%, "+ie+"%)":"hsla("+J+", "+ne+"%, "+ie+"%, "+this._roundA+")"},toHex:function(X){return l(this._r,this._g,this._b,X)},toHexString:function(X){return"#"+this.toHex(X)},toHex8:function(X){return function(J,ne,ie,ae,le){var ce=[B(h(J).toString(16)),B(h(ne).toString(16)),B(h(ie).toString(16)),B(F(ae))];return le&&ce[0].charAt(0)==ce[0].charAt(1)&&ce[1].charAt(0)==ce[1].charAt(1)&&ce[2].charAt(0)==ce[2].charAt(1)&&ce[3].charAt(0)==ce[3].charAt(1)?ce[0].charAt(0)+ce[1].charAt(0)+ce[2].charAt(0)+ce[3].charAt(0):ce.join("")}(this._r,this._g,this._b,this._a,X)},toHex8String:function(X){return"#"+this.toHex8(X)},toRgb:function(){return{r:h(this._r),g:h(this._g),b:h(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+h(this._r)+", "+h(this._g)+", "+h(this._b)+")":"rgba("+h(this._r)+", "+h(this._g)+", "+h(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:h(100*z(this._r,255))+"%",g:h(100*z(this._g,255))+"%",b:h(100*z(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+h(100*z(this._r,255))+"%, "+h(100*z(this._g,255))+"%, "+h(100*z(this._b,255))+"%)":"rgba("+h(100*z(this._r,255))+"%, "+h(100*z(this._g,255))+"%, "+h(100*z(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(O[l(this._r,this._g,this._b,!0)]||!1)},toFilter:function(X){var J="#"+u(this._r,this._g,this._b,this._a),ne=J,ie=this._gradientType?"GradientType = 1, ":"";if(X){var ae=n(X);ne="#"+u(ae._r,ae._g,ae._b,ae._a)}return"progid:DXImageTransform.Microsoft.gradient("+ie+"startColorstr="+J+",endColorstr="+ne+")"},toString:function(X){var J=!!X;X=X||this._format;var ne=!1,ie=this._a<1&&this._a>=0;return J||!ie||X!=="hex"&&X!=="hex6"&&X!=="hex3"&&X!=="hex4"&&X!=="hex8"&&X!=="name"?(X==="rgb"&&(ne=this.toRgbString()),X==="prgb"&&(ne=this.toPercentageRgbString()),X!=="hex"&&X!=="hex6"||(ne=this.toHexString()),X==="hex3"&&(ne=this.toHexString(!0)),X==="hex4"&&(ne=this.toHex8String(!0)),X==="hex8"&&(ne=this.toHex8String()),X==="name"&&(ne=this.toName()),X==="hsl"&&(ne=this.toHslString()),X==="hsv"&&(ne=this.toHsvString()),ne||this.toHexString()):X==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return n(this.toString())},_applyModification:function(X,J){var ne=X.apply(null,[this].concat([].slice.call(J)));return this._r=ne._r,this._g=ne._g,this._b=ne._b,this.setAlpha(ne._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(x,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(X,J){return X.apply(null,[this].concat([].slice.call(J)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(f,arguments)}},n.fromRatio=function(X,J){if(typeof X=="object"){var ne={};for(var ie in X)X.hasOwnProperty(ie)&&(ne[ie]=ie==="a"?X[ie]:Z(X[ie]));X=ne}return n(X,J)},n.equals=function(X,J){return!(!X||!J)&&n(X).toRgbString()==n(J).toRgbString()},n.random=function(){return n.fromRatio({r:i(),g:i(),b:i()})},n.mix=function(X,J,ne){ne=ne===0?0:ne||50;var ie=n(X).toRgb(),ae=n(J).toRgb(),le=ne/100;return n({r:(ae.r-ie.r)*le+ie.r,g:(ae.g-ie.g)*le+ie.g,b:(ae.b-ie.b)*le+ie.b,a:(ae.a-ie.a)*le+ie.a})},n.readability=function(X,J){var ne=n(X),ie=n(J);return(k.max(ne.getLuminance(),ie.getLuminance())+.05)/(k.min(ne.getLuminance(),ie.getLuminance())+.05)},n.isReadable=function(X,J,ne){var ie,ae,le,ce,pe,ge=n.readability(X,J);switch(ae=!1,(le=ne,(ce=((le=le||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&ce!=="AAA"&&(ce="AA"),(pe=(le.size||"small").toLowerCase())!=="small"&&pe!=="large"&&(pe="small"),ie={level:ce,size:pe}).level+ie.size){case"AAsmall":case"AAAlarge":ae=ge>=4.5;break;case"AAlarge":ae=ge>=3;break;case"AAAsmall":ae=ge>=7}return ae},n.mostReadable=function(X,J,ne){var ie,ae,le,ce,pe=null,ge=0;ae=(ne=ne||{}).includeFallbackColors,le=ne.level,ce=ne.size;for(var me=0;me<J.length;me++)(ie=n.readability(X,J[me]))>ge&&(ge=ie,pe=n(J[me]));return n.isReadable(X,pe,{level:le,size:ce})||!ae?pe:(ne.includeFallbackColors=!1,n.mostReadable(X,["#fff","#000"],ne))};var C=n.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},O=n.hexNames=function(X){var J={};for(var ne in X)X.hasOwnProperty(ne)&&(J[X[ne]]=ne);return J}(C);function I(X){return X=parseFloat(X),(isNaN(X)||X<0||X>1)&&(X=1),X}function z(X,J){(function(ie){return typeof ie=="string"&&ie.indexOf(".")!=-1&&parseFloat(ie)===1})(X)&&(X="100%");var ne=function(ie){return typeof ie=="string"&&ie.indexOf("%")!=-1}(X);return X=o(J,t(0,parseFloat(X))),ne&&(X=parseInt(X*J,10)/100),k.abs(X-J)<1e-6?1:X%J/parseFloat(J)}function U(X){return o(1,t(0,X))}function D(X){return parseInt(X,16)}function B(X){return X.length==1?"0"+X:""+X}function Z(X){return X<=1&&(X=100*X+"%"),X}function F(X){return k.round(255*parseFloat(X)).toString(16)}function j(X){return D(X)/255}var V,te,Q,$=(te="[\\s|\\(]+("+(V="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",Q="[\\s|\\(]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",{CSS_UNIT:new RegExp(V),rgb:new RegExp("rgb"+te),rgba:new RegExp("rgba"+Q),hsl:new RegExp("hsl"+te),hsla:new RegExp("hsla"+Q),hsv:new RegExp("hsv"+te),hsva:new RegExp("hsva"+Q),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function G(X){return!!$.CSS_UNIT.exec(X)}Y.exports?Y.exports=n:(A=function(){return n}.call(P,e,P,Y))===void 0||(Y.exports=A)})(Math)},37816:function(Y){Y.exports=e,Y.exports.float32=Y.exports.float=e,Y.exports.fract32=Y.exports.fract=function(A,k){if(A.length){if(A instanceof Float32Array)return new Float32Array(A.length);k instanceof Float32Array||(k=e(A));for(var a=0,w=k.length;a<w;a++)k[a]=A[a]-k[a];return k}return e(A-e(A))};var P=new Float32Array(1);function e(A){return A.length?A instanceof Float32Array?A:new Float32Array(A):(P[0]=A,P[0])}},23464:function(Y,P,e){var A=e(65819);Y.exports=w;var k=96;function a(b,h){var o=A(getComputedStyle(b).getPropertyValue(h));return o[0]*w(o[1],b)}function w(b,h){switch(h=h||document.body,b=(b||"px").trim().toLowerCase(),h!==window&&h!==document||(h=document.body),b){case"%":return h.clientHeight/100;case"ch":case"ex":return function(o,t){var i=document.createElement("div");i.style["font-size"]="128"+o,t.appendChild(i);var n=a(i,"font-size")/128;return t.removeChild(i),n}(b,h);case"em":return a(h,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return k;case"cm":return k/2.54;case"mm":return k/25.4;case"pt":return k/72;case"pc":return k/6}return 1}},55712:function(Y,P,e){function A(w){return w}function k(w,b){return typeof b=="string"&&(b=w.objects[b]),b.type==="GeometryCollection"?{type:"FeatureCollection",features:b.geometries.map(function(h){return a(w,h)})}:a(w,b)}function a(w,b){var h=b.id,o=b.bbox,t=b.properties==null?{}:b.properties,i=function(n,r){var s=function(p){if(p==null)return A;var v,y,m=p.scale[0],_=p.scale[1],f=p.translate[0],S=p.translate[1];return function(T,E){E||(v=y=0);var C=2,O=T.length,I=new Array(O);for(I[0]=(v+=T[0])*m+f,I[1]=(y+=T[1])*_+S;C<O;)I[C]=T[C],++C;return I}}(n.transform),l=n.arcs;function u(p,v){v.length&&v.pop();for(var y=l[p<0?~p:p],m=0,_=y.length;m<_;++m)v.push(s(y[m],m));p<0&&function(f,S){for(var T,E=f.length,C=E-S;C<--E;)T=f[C],f[C++]=f[E],f[E]=T}(v,_)}function d(p){return s(p)}function c(p){for(var v=[],y=0,m=p.length;y<m;++y)u(p[y],v);return v.length<2&&v.push(v[0]),v}function x(p){for(var v=c(p);v.length<4;)v.push(v[0]);return v}function g(p){return p.map(x)}return function p(v){var y,m=v.type;switch(m){case"GeometryCollection":return{type:m,geometries:v.geometries.map(p)};case"Point":y=d(v.coordinates);break;case"MultiPoint":y=v.coordinates.map(d);break;case"LineString":y=c(v.arcs);break;case"MultiLineString":y=v.arcs.map(c);break;case"Polygon":y=g(v.arcs);break;case"MultiPolygon":y=v.arcs.map(g);break;default:return null}return{type:m,coordinates:y}}(r)}(w,b);return h==null&&o==null?{type:"Feature",properties:t,geometry:i}:o==null?{type:"Feature",id:h,properties:t,geometry:i}:{type:"Feature",id:h,bbox:o,properties:t,geometry:i}}e.d(P,{NO:function(){return k}})},73384:function(Y,P,e){var A=e(54612);Y.exports=function(k){if(typeof k!="function"||!hasOwnProperty.call(k,"length"))return!1;try{if(typeof k.length!="number"||typeof k.call!="function"||typeof k.apply!="function")return!1}catch{return!1}return!A(k)}},57980:function(Y,P,e){var A=e(81680),k=e(7328),a=e(33940),w=e(18856),b=function(h,o){return h.replace("%v",w(o))};Y.exports=function(h,o,t){if(!k(t))throw new TypeError(b(o,h));if(!A(h)){if("default"in t)return t.default;if(t.isOptional)return null}var i=a(t.errorMessage);throw A(i)||(i=o),new TypeError(b(i,h))}},32336:function(Y){Y.exports=function(P){try{return P.toString()}catch{try{return String(P)}catch{return null}}}},18856:function(Y,P,e){var A=e(32336),k=/[\n\r\u2028\u2029]/g;Y.exports=function(a){var w=A(a);return w===null?"<Non-coercible to string value>":(w.length>100&&(w=w.slice(0,99)+"\u2026"),w=w.replace(k,function(b){switch(b){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},7328:function(Y,P,e){var A=e(81680),k={object:!0,function:!0,undefined:!0};Y.exports=function(a){return!!A(a)&&hasOwnProperty.call(k,typeof a)}},87396:function(Y,P,e){var A=e(57980),k=e(85488);Y.exports=function(a){return k(a)?a:A(a,"%v is not a plain function",arguments[1])}},85488:function(Y,P,e){var A=e(73384),k=/^\s*class[\s{/}]/,a=Function.prototype.toString;Y.exports=function(w){return!!A(w)&&!k.test(a.call(w))}},54612:function(Y,P,e){var A=e(7328);Y.exports=function(k){if(!A(k))return!1;try{return!!k.constructor&&k.constructor.prototype===k}catch{return!1}}},33940:function(Y,P,e){var A=e(81680),k=e(7328),a=Object.prototype.toString;Y.exports=function(w){if(!A(w))return null;if(k(w)){var b=w.toString;if(typeof b!="function"||b===a)return null}try{return""+w}catch{return null}}},18496:function(Y,P,e){var A=e(57980),k=e(81680);Y.exports=function(a){return k(a)?a:A(a,"Cannot use %v",arguments[1])}},81680:function(Y){Y.exports=function(P){return P!=null}},14144:function(Y,P,e){var A=e(308),k=e(10352),a=e(33576).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:k([32,0]),UINT16:k([32,0]),UINT32:k([32,0]),BIGUINT64:k([32,0]),INT8:k([32,0]),INT16:k([32,0]),INT32:k([32,0]),BIGINT64:k([32,0]),FLOAT:k([32,0]),DOUBLE:k([32,0]),DATA:k([32,0]),UINT8C:k([32,0]),BUFFER:k([32,0])});var w=typeof Uint8ClampedArray<"u",b=typeof BigUint64Array<"u",h=typeof BigInt64Array<"u",o=e.g.__TYPEDARRAY_POOL;o.UINT8C||(o.UINT8C=k([32,0])),o.BIGUINT64||(o.BIGUINT64=k([32,0])),o.BIGINT64||(o.BIGINT64=k([32,0])),o.BUFFER||(o.BUFFER=k([32,0]));var t=o.DATA,i=o.BUFFER;function n(S){if(S){var T=S.length||S.byteLength,E=A.log2(T);t[E].push(S)}}function r(S){S=A.nextPow2(S);var T=A.log2(S),E=t[T];return E.length>0?E.pop():new ArrayBuffer(S)}function s(S){return new Uint8Array(r(S),0,S)}function l(S){return new Uint16Array(r(2*S),0,S)}function u(S){return new Uint32Array(r(4*S),0,S)}function d(S){return new Int8Array(r(S),0,S)}function c(S){return new Int16Array(r(2*S),0,S)}function x(S){return new Int32Array(r(4*S),0,S)}function g(S){return new Float32Array(r(4*S),0,S)}function p(S){return new Float64Array(r(8*S),0,S)}function v(S){return w?new Uint8ClampedArray(r(S),0,S):s(S)}function y(S){return b?new BigUint64Array(r(8*S),0,S):null}function m(S){return h?new BigInt64Array(r(8*S),0,S):null}function _(S){return new DataView(r(S),0,S)}function f(S){S=A.nextPow2(S);var T=A.log2(S),E=i[T];return E.length>0?E.pop():new a(S)}P.free=function(S){if(a.isBuffer(S))i[A.log2(S.length)].push(S);else{if(Object.prototype.toString.call(S)!=="[object ArrayBuffer]"&&(S=S.buffer),!S)return;var T=S.length||S.byteLength,E=0|A.log2(T);t[E].push(S)}},P.freeUint8=P.freeUint16=P.freeUint32=P.freeBigUint64=P.freeInt8=P.freeInt16=P.freeInt32=P.freeBigInt64=P.freeFloat32=P.freeFloat=P.freeFloat64=P.freeDouble=P.freeUint8Clamped=P.freeDataView=function(S){n(S.buffer)},P.freeArrayBuffer=n,P.freeBuffer=function(S){i[A.log2(S.length)].push(S)},P.malloc=function(S,T){if(T===void 0||T==="arraybuffer")return r(S);switch(T){case"uint8":return s(S);case"uint16":return l(S);case"uint32":return u(S);case"int8":return d(S);case"int16":return c(S);case"int32":return x(S);case"float":case"float32":return g(S);case"double":case"float64":return p(S);case"uint8_clamped":return v(S);case"bigint64":return m(S);case"biguint64":return y(S);case"buffer":return f(S);case"data":case"dataview":return _(S);default:return null}return null},P.mallocArrayBuffer=r,P.mallocUint8=s,P.mallocUint16=l,P.mallocUint32=u,P.mallocInt8=d,P.mallocInt16=c,P.mallocInt32=x,P.mallocFloat32=P.mallocFloat=g,P.mallocFloat64=P.mallocDouble=p,P.mallocUint8Clamped=v,P.mallocBigUint64=y,P.mallocBigInt64=m,P.mallocDataView=_,P.mallocBuffer=f,P.clearCache=function(){for(var S=0;S<32;++S)o.UINT8[S].length=0,o.UINT16[S].length=0,o.UINT32[S].length=0,o.INT8[S].length=0,o.INT16[S].length=0,o.INT32[S].length=0,o.FLOAT[S].length=0,o.DOUBLE[S].length=0,o.BIGUINT64[S].length=0,o.BIGINT64[S].length=0,o.UINT8C[S].length=0,t[S].length=0,i[S].length=0}},92384:function(Y){var P=/[\'\"]/;Y.exports=function(e){return e?(P.test(e.charAt(0))&&(e=e.substr(1)),P.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""}},45223:function(Y){Y.exports=function(P,e,A){Array.isArray(A)||(A=[].slice.call(arguments,2));for(var k=0,a=A.length;k<a;k++){var w=A[k];for(var b in w)if((e[b]===void 0||Array.isArray(e[b])||P[b]!==e[b])&&b in e){var h;if(w[b]===!0)h=e[b];else if(w[b]===!1||typeof w[b]=="function"&&(h=w[b](e[b],P,e))===void 0)continue;P[b]=h}}return P}},96656:function(Y,P,e){function A(k){try{if(!e.g.localStorage)return!1}catch{return!1}var a=e.g.localStorage[k];return a!=null&&String(a).toLowerCase()==="true"}Y.exports=function(k,a){if(A("noDeprecation"))return k;var w=!1;return function(){if(!w){if(A("throwDeprecation"))throw new Error(a);A("traceDeprecation")?console.trace(a):console.warn(a),w=!0}return k.apply(this,arguments)}}},75272:function(Y){Y.exports=function(P){return P&&typeof P=="object"&&typeof P.copy=="function"&&typeof P.fill=="function"&&typeof P.readUInt8=="function"}},41088:function(Y,P,e){var A=e(91148),k=e(84420),a=e(96632),w=e(7728);function b(z){return z.call.bind(z)}var h=typeof BigInt<"u",o=typeof Symbol<"u",t=b(Object.prototype.toString),i=b(Number.prototype.valueOf),n=b(String.prototype.valueOf),r=b(Boolean.prototype.valueOf);if(h)var s=b(BigInt.prototype.valueOf);if(o)var l=b(Symbol.prototype.valueOf);function u(z,U){if(typeof z!="object")return!1;try{return U(z),!0}catch{return!1}}function d(z){return t(z)==="[object Map]"}function c(z){return t(z)==="[object Set]"}function x(z){return t(z)==="[object WeakMap]"}function g(z){return t(z)==="[object WeakSet]"}function p(z){return t(z)==="[object ArrayBuffer]"}function v(z){return typeof ArrayBuffer<"u"&&(p.working?p(z):z instanceof ArrayBuffer)}function y(z){return t(z)==="[object DataView]"}function m(z){return typeof DataView<"u"&&(y.working?y(z):z instanceof DataView)}P.isArgumentsObject=A,P.isGeneratorFunction=k,P.isTypedArray=w,P.isPromise=function(z){return typeof Promise<"u"&&z instanceof Promise||z!==null&&typeof z=="object"&&typeof z.then=="function"&&typeof z.catch=="function"},P.isArrayBufferView=function(z){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(z):w(z)||m(z)},P.isUint8Array=function(z){return a(z)==="Uint8Array"},P.isUint8ClampedArray=function(z){return a(z)==="Uint8ClampedArray"},P.isUint16Array=function(z){return a(z)==="Uint16Array"},P.isUint32Array=function(z){return a(z)==="Uint32Array"},P.isInt8Array=function(z){return a(z)==="Int8Array"},P.isInt16Array=function(z){return a(z)==="Int16Array"},P.isInt32Array=function(z){return a(z)==="Int32Array"},P.isFloat32Array=function(z){return a(z)==="Float32Array"},P.isFloat64Array=function(z){return a(z)==="Float64Array"},P.isBigInt64Array=function(z){return a(z)==="BigInt64Array"},P.isBigUint64Array=function(z){return a(z)==="BigUint64Array"},d.working=typeof Map<"u"&&d(new Map),P.isMap=function(z){return typeof Map<"u"&&(d.working?d(z):z instanceof Map)},c.working=typeof Set<"u"&&c(new Set),P.isSet=function(z){return typeof Set<"u"&&(c.working?c(z):z instanceof Set)},x.working=typeof WeakMap<"u"&&x(new WeakMap),P.isWeakMap=function(z){return typeof WeakMap<"u"&&(x.working?x(z):z instanceof WeakMap)},g.working=typeof WeakSet<"u"&&g(new WeakSet),P.isWeakSet=function(z){return g(z)},p.working=typeof ArrayBuffer<"u"&&p(new ArrayBuffer),P.isArrayBuffer=v,y.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&y(new DataView(new ArrayBuffer(1),0,1)),P.isDataView=m;var _=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function f(z){return t(z)==="[object SharedArrayBuffer]"}function S(z){return _!==void 0&&(f.working===void 0&&(f.working=f(new _)),f.working?f(z):z instanceof _)}function T(z){return u(z,i)}function E(z){return u(z,n)}function C(z){return u(z,r)}function O(z){return h&&u(z,s)}function I(z){return o&&u(z,l)}P.isSharedArrayBuffer=S,P.isAsyncFunction=function(z){return t(z)==="[object AsyncFunction]"},P.isMapIterator=function(z){return t(z)==="[object Map Iterator]"},P.isSetIterator=function(z){return t(z)==="[object Set Iterator]"},P.isGeneratorObject=function(z){return t(z)==="[object Generator]"},P.isWebAssemblyCompiledModule=function(z){return t(z)==="[object WebAssembly.Module]"},P.isNumberObject=T,P.isStringObject=E,P.isBooleanObject=C,P.isBigIntObject=O,P.isSymbolObject=I,P.isBoxedPrimitive=function(z){return T(z)||E(z)||C(z)||O(z)||I(z)},P.isAnyArrayBuffer=function(z){return typeof Uint8Array<"u"&&(v(z)||S(z))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(z){Object.defineProperty(P,z,{enumerable:!1,value:function(){throw new Error(z+" is not supported in userland")}})})},35840:function(Y,P,e){var A=e(4168),k=Object.getOwnPropertyDescriptors||function(I){for(var z=Object.keys(I),U={},D=0;D<z.length;D++)U[z[D]]=Object.getOwnPropertyDescriptor(I,z[D]);return U},a=/%[sdj%]/g;P.format=function(I){if(!x(I)){for(var z=[],U=0;U<arguments.length;U++)z.push(o(arguments[U]));return z.join(" ")}U=1;for(var D=arguments,B=D.length,Z=String(I).replace(a,function(j){if(j==="%%")return"%";if(U>=B)return j;switch(j){case"%s":return String(D[U++]);case"%d":return Number(D[U++]);case"%j":try{return JSON.stringify(D[U++])}catch{return"[Circular]"}default:return j}}),F=D[U];U<B;F=D[++U])d(F)||!v(F)?Z+=" "+F:Z+=" "+o(F);return Z},P.deprecate=function(I,z){if(A!==void 0&&A.noDeprecation===!0)return I;if(A===void 0)return function(){return P.deprecate(I,z).apply(this,arguments)};var U=!1;return function(){if(!U){if(A.throwDeprecation)throw new Error(z);A.traceDeprecation?console.trace(z):console.error(z),U=!0}return I.apply(this,arguments)}};var w={},b=/^$/;if(A.env.NODE_DEBUG){var h=A.env.NODE_DEBUG;h=h.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),b=new RegExp("^"+h+"$","i")}function o(I,z){var U={seen:[],stylize:i};return arguments.length>=3&&(U.depth=arguments[2]),arguments.length>=4&&(U.colors=arguments[3]),u(z)?U.showHidden=z:z&&P._extend(U,z),g(U.showHidden)&&(U.showHidden=!1),g(U.depth)&&(U.depth=2),g(U.colors)&&(U.colors=!1),g(U.customInspect)&&(U.customInspect=!0),U.colors&&(U.stylize=t),n(U,I,U.depth)}function t(I,z){var U=o.styles[z];return U?"\x1B["+o.colors[U][0]+"m"+I+"\x1B["+o.colors[U][1]+"m":I}function i(I,z){return I}function n(I,z,U){if(I.customInspect&&z&&_(z.inspect)&&z.inspect!==P.inspect&&(!z.constructor||z.constructor.prototype!==z)){var D=z.inspect(U,I);return x(D)||(D=n(I,D,U)),D}var B=function(G,X){if(g(X))return G.stylize("undefined","undefined");if(x(X)){var J="'"+JSON.stringify(X).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return G.stylize(J,"string")}return c(X)?G.stylize(""+X,"number"):u(X)?G.stylize(""+X,"boolean"):d(X)?G.stylize("null","null"):void 0}(I,z);if(B)return B;var Z=Object.keys(z),F=function(G){var X={};return G.forEach(function(J,ne){X[J]=!0}),X}(Z);if(I.showHidden&&(Z=Object.getOwnPropertyNames(z)),m(z)&&(Z.indexOf("message")>=0||Z.indexOf("description")>=0))return r(z);if(Z.length===0){if(_(z)){var j=z.name?": "+z.name:"";return I.stylize("[Function"+j+"]","special")}if(p(z))return I.stylize(RegExp.prototype.toString.call(z),"regexp");if(y(z))return I.stylize(Date.prototype.toString.call(z),"date");if(m(z))return r(z)}var V,te="",Q=!1,$=["{","}"];return l(z)&&(Q=!0,$=["[","]"]),_(z)&&(te=" [Function"+(z.name?": "+z.name:"")+"]"),p(z)&&(te=" "+RegExp.prototype.toString.call(z)),y(z)&&(te=" "+Date.prototype.toUTCString.call(z)),m(z)&&(te=" "+r(z)),Z.length!==0||Q&&z.length!=0?U<0?p(z)?I.stylize(RegExp.prototype.toString.call(z),"regexp"):I.stylize("[Object]","special"):(I.seen.push(z),V=Q?function(G,X,J,ne,ie){for(var ae=[],le=0,ce=X.length;le<ce;++le)E(X,String(le))?ae.push(s(G,X,J,ne,String(le),!0)):ae.push("");return ie.forEach(function(pe){pe.match(/^\d+$/)||ae.push(s(G,X,J,ne,pe,!0))}),ae}(I,z,U,F,Z):Z.map(function(G){return s(I,z,U,F,G,Q)}),I.seen.pop(),function(G,X,J){return G.reduce(function(ne,ie){return ie.indexOf(`
`),ne+ie.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?J[0]+(X===""?"":X+`
 `)+" "+G.join(`,
  `)+" "+J[1]:J[0]+X+" "+G.join(", ")+" "+J[1]}(V,te,$)):$[0]+te+$[1]}function r(I){return"["+Error.prototype.toString.call(I)+"]"}function s(I,z,U,D,B,Z){var F,j,V;if((V=Object.getOwnPropertyDescriptor(z,B)||{value:z[B]}).get?j=V.set?I.stylize("[Getter/Setter]","special"):I.stylize("[Getter]","special"):V.set&&(j=I.stylize("[Setter]","special")),E(D,B)||(F="["+B+"]"),j||(I.seen.indexOf(V.value)<0?(j=d(U)?n(I,V.value,null):n(I,V.value,U-1)).indexOf(`
`)>-1&&(j=Z?j.split(`
`).map(function(te){return"  "+te}).join(`
`).slice(2):`
`+j.split(`
`).map(function(te){return"   "+te}).join(`
`)):j=I.stylize("[Circular]","special")),g(F)){if(Z&&B.match(/^\d+$/))return j;(F=JSON.stringify(""+B)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(F=F.slice(1,-1),F=I.stylize(F,"name")):(F=F.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),F=I.stylize(F,"string"))}return F+": "+j}function l(I){return Array.isArray(I)}function u(I){return typeof I=="boolean"}function d(I){return I===null}function c(I){return typeof I=="number"}function x(I){return typeof I=="string"}function g(I){return I===void 0}function p(I){return v(I)&&f(I)==="[object RegExp]"}function v(I){return typeof I=="object"&&I!==null}function y(I){return v(I)&&f(I)==="[object Date]"}function m(I){return v(I)&&(f(I)==="[object Error]"||I instanceof Error)}function _(I){return typeof I=="function"}function f(I){return Object.prototype.toString.call(I)}function S(I){return I<10?"0"+I.toString(10):I.toString(10)}P.debuglog=function(I){if(I=I.toUpperCase(),!w[I])if(b.test(I)){var z=A.pid;w[I]=function(){var U=P.format.apply(P,arguments);console.error("%s %d: %s",I,z,U)}}else w[I]=function(){};return w[I]},P.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},P.types=e(41088),P.isArray=l,P.isBoolean=u,P.isNull=d,P.isNullOrUndefined=function(I){return I==null},P.isNumber=c,P.isString=x,P.isSymbol=function(I){return typeof I=="symbol"},P.isUndefined=g,P.isRegExp=p,P.types.isRegExp=p,P.isObject=v,P.isDate=y,P.types.isDate=y,P.isError=m,P.types.isNativeError=m,P.isFunction=_,P.isPrimitive=function(I){return I===null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||typeof I=="symbol"||I===void 0},P.isBuffer=e(75272);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(I,z){return Object.prototype.hasOwnProperty.call(I,z)}P.log=function(){var I,z;console.log("%s - %s",(z=[S((I=new Date).getHours()),S(I.getMinutes()),S(I.getSeconds())].join(":"),[I.getDate(),T[I.getMonth()],z].join(" ")),P.format.apply(P,arguments))},P.inherits=e(6768),P._extend=function(I,z){if(!z||!v(z))return I;for(var U=Object.keys(z),D=U.length;D--;)I[U[D]]=z[U[D]];return I};var C=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function O(I,z){if(!I){var U=new Error("Promise was rejected with a falsy value");U.reason=I,I=U}return z(I)}P.promisify=function(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');if(C&&I[C]){var z;if(typeof(z=I[C])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(z,C,{value:z,enumerable:!1,writable:!1,configurable:!0}),z}function z(){for(var U,D,B=new Promise(function(j,V){U=j,D=V}),Z=[],F=0;F<arguments.length;F++)Z.push(arguments[F]);Z.push(function(j,V){j?D(j):U(V)});try{I.apply(this,Z)}catch(j){D(j)}return B}return Object.setPrototypeOf(z,Object.getPrototypeOf(I)),C&&Object.defineProperty(z,C,{value:z,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(z,k(I))},P.promisify.custom=C,P.callbackify=function(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');function z(){for(var U=[],D=0;D<arguments.length;D++)U.push(arguments[D]);var B=U.pop();if(typeof B!="function")throw new TypeError("The last argument must be of type Function");var Z=this,F=function(){return B.apply(Z,arguments)};I.apply(this,U).then(function(j){A.nextTick(F.bind(null,null,j))},function(j){A.nextTick(O.bind(null,j,F))})}return Object.setPrototypeOf(z,Object.getPrototypeOf(I)),Object.defineProperties(z,k(I)),z}},5408:function(Y,P,e){var A=e(13380);Y.exports=function(k){return A("webgl",k)}},96632:function(Y,P,e){var A=e(46492),k=e(63436),a=e(57916),w=e(99676),b=e(2304),h=w("Object.prototype.toString"),o=e(46672)(),t=typeof globalThis>"u"?e.g:globalThis,i=k(),n=w("String.prototype.slice"),r=Object.getPrototypeOf,s=w("Array.prototype.indexOf",!0)||function(u,d){for(var c=0;c<u.length;c+=1)if(u[c]===d)return c;return-1},l={__proto__:null};A(i,o&&b&&r?function(u){var d=new t[u];if(Symbol.toStringTag in d){var c=r(d),x=b(c,Symbol.toStringTag);if(!x){var g=r(c);x=b(g,Symbol.toStringTag)}l["$"+u]=a(x.get)}}:function(u){var d=new t[u],c=d.slice||d.set;c&&(l["$"+u]=a(c))}),Y.exports=function(u){if(!u||typeof u!="object")return!1;if(!o){var d=n(h(u),8,-1);return s(i,d)>-1?d:d==="Object"&&function(c){var x=!1;return A(l,function(g,p){if(!x)try{g(c),x=n(p,1)}catch{}}),x}(u)}return b?function(c){var x=!1;return A(l,function(g,p){if(!x)try{"$"+g(c)===p&&(x=n(p,1))}catch{}}),x}(u):null}},67020:function(Y,P,e){var A=e(38700),k=e(50896),a=A.instance();function w(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}w.prototype=new A.baseCalendar,k(w.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(r,s){if(typeof r=="string"){var l=r.match(h);return l?l[0]:""}var u=this._validateYear(r),d=r.month(),c=""+this.toChineseMonth(u,d);return s&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(u,d)&&(c+="i"),c},monthNames:function(r){if(typeof r=="string"){var s=r.match(o);return s?s[0]:""}var l=this._validateYear(r),u=r.month(),d=["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"][this.toChineseMonth(l,u)-1];return this.isIntercalaryMonth(l,u)&&(d="\u95F0"+d),d},monthNamesShort:function(r){if(typeof r=="string"){var s=r.match(t);return s?s[0]:""}var l=this._validateYear(r),u=r.month(),d=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"][this.toChineseMonth(l,u)-1];return this.isIntercalaryMonth(l,u)&&(d="\u95F0"+d),d},parseMonth:function(r,s){r=this._validateYear(r);var l,u=parseInt(s);if(isNaN(u))s[0]==="\u95F0"&&(l=!0,s=s.substring(1)),s[s.length-1]==="\u6708"&&(s=s.substring(0,s.length-1)),u=1+["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"].indexOf(s);else{var d=s[s.length-1];l=d==="i"||d==="I"}return this.toMonthIndex(r,u,l)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(r,s){if(r.year&&(r=r.year()),typeof r!="number"||r<1888||r>2111)throw s.replace(/\{0\}/,this.local.name);return r},toMonthIndex:function(r,s,l){var u=this.intercalaryMonth(r);if(l&&s!==u||s<1||s>12)throw A.local.invalidMonth.replace(/\{0\}/,this.local.name);return u?!l&&s<=u?s-1:s:s-1},toChineseMonth:function(r,s){r.year&&(s=(r=r.year()).month());var l=this.intercalaryMonth(r);if(s<0||s>(l?12:11))throw A.local.invalidMonth.replace(/\{0\}/,this.local.name);return l?s<l?s+1:s:s+1},intercalaryMonth:function(r){return r=this._validateYear(r),i[r-i[0]]>>13},isIntercalaryMonth:function(r,s){r.year&&(s=(r=r.year()).month());var l=this.intercalaryMonth(r);return!!l&&l===s},leapYear:function(r){return this.intercalaryMonth(r)!==0},weekOfYear:function(r,s,l){var u,d=this._validateYear(r,A.local.invalidyear),c=n[d-n[0]],x=c>>9&4095,g=c>>5&15,p=31&c;(u=a.newDate(x,g,p)).add(4-(u.dayOfWeek()||7),"d");var v=this.toJD(r,s,l)-u.toJD();return 1+Math.floor(v/7)},monthsInYear:function(r){return this.leapYear(r)?13:12},daysInMonth:function(r,s){r.year&&(s=r.month(),r=r.year()),r=this._validateYear(r);var l=i[r-i[0]];if(s>(l>>13?12:11))throw A.local.invalidMonth.replace(/\{0\}/,this.local.name);return l&1<<12-s?30:29},weekDay:function(r,s,l){return(this.dayOfWeek(r,s,l)||7)<6},toJD:function(r,s,l){var u=this._validate(r,c,l,A.local.invalidDate);r=this._validateYear(u.year()),s=u.month(),l=u.day();var d=this.isIntercalaryMonth(r,s),c=this.toChineseMonth(r,s),x=function(g,p,v,y,m){var _,f,S;if(typeof g=="object")f=g,_=p||{};else{var T;if(!(typeof g=="number"&&g>=1888&&g<=2111))throw new Error("Lunar year outside range 1888-2111");if(!(typeof p=="number"&&p>=1&&p<=12))throw new Error("Lunar month outside range 1 - 12");if(!(typeof v=="number"&&v>=1&&v<=30))throw new Error("Lunar day outside range 1 - 30");typeof y=="object"?(T=!1,_=y):(T=!!y,_={}),f={year:g,month:p,day:v,isIntercalary:T}}S=f.day-1;var E,C=i[f.year-i[0]],O=C>>13;E=O&&(f.month>O||f.isIntercalary)?f.month:f.month-1;for(var I=0;I<E;I++)S+=C&1<<12-I?30:29;var z=n[f.year-n[0]],U=new Date(z>>9&4095,(z>>5&15)-1,(31&z)+S);return _.year=U.getFullYear(),_.month=1+U.getMonth(),_.day=U.getDate(),_}(r,c,l,d);return a.toJD(x.year,x.month,x.day)},fromJD:function(r){var s=a.fromJD(r),l=function(d,c,x,g){var p,v;if(typeof d=="object")p=d,v=c||{};else{if(!(typeof d=="number"&&d>=1888&&d<=2111))throw new Error("Solar year outside range 1888-2111");if(!(typeof c=="number"&&c>=1&&c<=12))throw new Error("Solar month outside range 1 - 12");if(!(typeof x=="number"&&x>=1&&x<=31))throw new Error("Solar day outside range 1 - 31");p={year:d,month:c,day:x},v={}}var y=n[p.year-n[0]],m=p.year<<9|p.month<<5|p.day;v.year=m>=y?p.year:p.year-1,y=n[v.year-n[0]];var _,f=new Date(y>>9&4095,(y>>5&15)-1,31&y),S=new Date(p.year,p.month-1,p.day);_=Math.round((S-f)/864e5);var T,E=i[v.year-i[0]];for(T=0;T<13;T++){var C=E&1<<12-T?30:29;if(_<C)break;_-=C}var O=E>>13;return!O||T<O?(v.isIntercalary=!1,v.month=1+T):T===O?(v.isIntercalary=!0,v.month=T):(v.isIntercalary=!1,v.month=T),v.day=1+_,v}(s.year(),s.month(),s.day()),u=this.toMonthIndex(l.year,l.month,l.isIntercalary);return this.newDate(l.year,u,l.day)},fromString:function(r){var s=r.match(b),l=this._validateYear(+s[1]),u=+s[2],d=!!s[3],c=this.toMonthIndex(l,u,d),x=+s[4];return this.newDate(l,c,x)},add:function(r,s,l){var u=r.year(),d=r.month(),c=this.isIntercalaryMonth(u,d),x=this.toChineseMonth(u,d),g=Object.getPrototypeOf(w.prototype).add.call(this,r,s,l);if(l==="y"){var p=g.year(),v=g.month(),y=this.isIntercalaryMonth(p,x),m=c&&y?this.toMonthIndex(p,x,!0):this.toMonthIndex(p,x,!1);m!==v&&g.month(m)}return g}});var b=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,h=/^\d?\d[iI]?/m,o=/^??[]?/m,t=/^??[]?/m;A.calendars.chinese=w;var i=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],n=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},89792:function(Y,P,e){var A=e(38700),k=e(50896);function a(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}a.prototype=new A.baseCalendar,k(a.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(w){var b=this._validate(w,this.minMonth,this.minDay,A.local.invalidYear);return(w=b.year()+(b.year()<0?1:0))%4==3||w%4==-1},monthsInYear:function(w){return this._validate(w,this.minMonth,this.minDay,A.local.invalidYear||A.regionalOptions[""].invalidYear),13},weekOfYear:function(w,b,h){var o=this.newDate(w,b,h);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(w,b){var h=this._validate(w,b,this.minDay,A.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===13&&this.leapYear(h.year())?1:0)},weekDay:function(w,b,h){return(this.dayOfWeek(w,b,h)||7)<6},toJD:function(w,b,h){var o=this._validate(w,b,h,A.local.invalidDate);return(w=o.year())<0&&w++,o.day()+30*(o.month()-1)+365*(w-1)+Math.floor(w/4)+this.jdEpoch-1},fromJD:function(w){var b=Math.floor(w)+.5-this.jdEpoch,h=Math.floor((b-Math.floor((b+366)/1461))/365)+1;h<=0&&h--,b=Math.floor(w)+.5-this.newDate(h,1,1).toJD();var o=Math.floor(b/30)+1,t=b-30*(o-1)+1;return this.newDate(h,o,t)}}),A.calendars.coptic=a},55668:function(Y,P,e){var A=e(38700),k=e(50896);function a(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}a.prototype=new A.baseCalendar,k(a.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(b){return this._validate(b,this.minMonth,this.minDay,A.local.invalidYear),!1},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,A.local.invalidYear),13},daysInYear:function(b){return this._validate(b,this.minMonth,this.minDay,A.local.invalidYear),400},weekOfYear:function(b,h,o){var t=this.newDate(b,h,o);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(b,h){var o=this._validate(b,h,this.minDay,A.local.invalidMonth);return this.daysPerMonth[o.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(b,h,o){return(this._validate(b,h,o,A.local.invalidDate).day()+1)%8},weekDay:function(b,h,o){var t=this.dayOfWeek(b,h,o);return t>=2&&t<=6},extraInfo:function(b,h,o){var t=this._validate(b,h,o,A.local.invalidDate);return{century:w[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(b,h,o){var t=this._validate(b,h,o,A.local.invalidDate);return b=t.year()+(t.year()<0?1:0),h=t.month(),(o=t.day())+(h>1?16:0)+(h>2?32*(h-2):0)+400*(b-1)+this.jdEpoch-1},fromJD:function(b){b=Math.floor(b+.5)-Math.floor(this.jdEpoch)-1;var h=Math.floor(b/400)+1;b-=400*(h-1),b+=b>15?16:0;var o=Math.floor(b/32)+1,t=b-32*(o-1)+1;return this.newDate(h<=0?h-1:h,o,t)}});var w={20:"Fruitbat",21:"Anchovy"};A.calendars.discworld=a},65168:function(Y,P,e){var A=e(38700),k=e(50896);function a(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}a.prototype=new A.baseCalendar,k(a.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(w){var b=this._validate(w,this.minMonth,this.minDay,A.local.invalidYear);return(w=b.year()+(b.year()<0?1:0))%4==3||w%4==-1},monthsInYear:function(w){return this._validate(w,this.minMonth,this.minDay,A.local.invalidYear||A.regionalOptions[""].invalidYear),13},weekOfYear:function(w,b,h){var o=this.newDate(w,b,h);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(w,b){var h=this._validate(w,b,this.minDay,A.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===13&&this.leapYear(h.year())?1:0)},weekDay:function(w,b,h){return(this.dayOfWeek(w,b,h)||7)<6},toJD:function(w,b,h){var o=this._validate(w,b,h,A.local.invalidDate);return(w=o.year())<0&&w++,o.day()+30*(o.month()-1)+365*(w-1)+Math.floor(w/4)+this.jdEpoch-1},fromJD:function(w){var b=Math.floor(w)+.5-this.jdEpoch,h=Math.floor((b-Math.floor((b+366)/1461))/365)+1;h<=0&&h--,b=Math.floor(w)+.5-this.newDate(h,1,1).toJD();var o=Math.floor(b/30)+1,t=b-30*(o-1)+1;return this.newDate(h,o,t)}}),A.calendars.ethiopian=a},2084:function(Y,P,e){var A=e(38700),k=e(50896);function a(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}function w(b,h){return b-h*Math.floor(b/h)}a.prototype=new A.baseCalendar,k(a.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var h=this._validate(b,this.minMonth,this.minDay,A.local.invalidYear);return this._leapYear(h.year())},_leapYear:function(b){return w(7*(b=b<0?b+1:b)+1,19)<7},monthsInYear:function(b){return this._validate(b,this.minMonth,this.minDay,A.local.invalidYear),this._leapYear(b.year?b.year():b)?13:12},weekOfYear:function(b,h,o){var t=this.newDate(b,h,o);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(b){return b=this._validate(b,this.minMonth,this.minDay,A.local.invalidYear).year(),this.toJD(b===-1?1:b+1,7,1)-this.toJD(b,7,1)},daysInMonth:function(b,h){return b.year&&(h=b.month(),b=b.year()),this._validate(b,h,this.minDay,A.local.invalidMonth),h===12&&this.leapYear(b)||h===8&&w(this.daysInYear(b),10)===5?30:h===9&&w(this.daysInYear(b),10)===3?29:this.daysPerMonth[h-1]},weekDay:function(b,h,o){return this.dayOfWeek(b,h,o)!==6},extraInfo:function(b,h,o){var t=this._validate(b,h,o,A.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(b,h,o){var t=this._validate(b,h,o,A.local.invalidDate);b=t.year(),h=t.month(),o=t.day();var i=b<=0?b+1:b,n=this.jdEpoch+this._delay1(i)+this._delay2(i)+o+1;if(h<7){for(var r=7;r<=this.monthsInYear(b);r++)n+=this.daysInMonth(b,r);for(r=1;r<h;r++)n+=this.daysInMonth(b,r)}else for(r=7;r<h;r++)n+=this.daysInMonth(b,r);return n},_delay1:function(b){var h=Math.floor((235*b-234)/19),o=12084+13753*h,t=29*h+Math.floor(o/25920);return w(3*(t+1),7)<3&&t++,t},_delay2:function(b){var h=this._delay1(b-1),o=this._delay1(b);return this._delay1(b+1)-o==356?2:o-h==382?1:0},fromJD:function(b){b=Math.floor(b)+.5;for(var h=Math.floor(98496*(b-this.jdEpoch)/35975351)-1;b>=this.toJD(h===-1?1:h+1,7,1);)h++;for(var o=b<this.toJD(h,1,1)?7:1;b>this.toJD(h,o,this.daysInMonth(h,o));)o++;var t=b-this.toJD(h,o,1)+1;return this.newDate(h,o,t)}}),A.calendars.hebrew=a},26368:function(Y,P,e){var A=e(38700),k=e(50896);function a(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}a.prototype=new A.baseCalendar,k(a.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012Bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(w){return(11*this._validate(w,this.minMonth,this.minDay,A.local.invalidYear).year()+14)%30<11},weekOfYear:function(w,b,h){var o=this.newDate(w,b,h);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInYear:function(w){return this.leapYear(w)?355:354},daysInMonth:function(w,b){var h=this._validate(w,b,this.minDay,A.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===12&&this.leapYear(h.year())?1:0)},weekDay:function(w,b,h){return this.dayOfWeek(w,b,h)!==5},toJD:function(w,b,h){var o=this._validate(w,b,h,A.local.invalidDate);return w=o.year(),b=o.month(),w=w<=0?w+1:w,(h=o.day())+Math.ceil(29.5*(b-1))+354*(w-1)+Math.floor((3+11*w)/30)+this.jdEpoch-1},fromJD:function(w){w=Math.floor(w)+.5;var b=Math.floor((30*(w-this.jdEpoch)+10646)/10631);b=b<=0?b-1:b;var h=Math.min(12,Math.ceil((w-29-this.toJD(b,1,1))/29.5)+1),o=w-this.toJD(b,h,1)+1;return this.newDate(b,h,o)}}),A.calendars.islamic=a},24747:function(Y,P,e){var A=e(38700),k=e(50896);function a(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}a.prototype=new A.baseCalendar,k(a.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(w){var b=this._validate(w,this.minMonth,this.minDay,A.local.invalidYear);return(w=b.year()<0?b.year()+1:b.year())%4==0},weekOfYear:function(w,b,h){var o=this.newDate(w,b,h);return o.add(4-(o.dayOfWeek()||7),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(w,b){var h=this._validate(w,b,this.minDay,A.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===2&&this.leapYear(h.year())?1:0)},weekDay:function(w,b,h){return(this.dayOfWeek(w,b,h)||7)<6},toJD:function(w,b,h){var o=this._validate(w,b,h,A.local.invalidDate);return w=o.year(),b=o.month(),h=o.day(),w<0&&w++,b<=2&&(w--,b+=12),Math.floor(365.25*(w+4716))+Math.floor(30.6001*(b+1))+h-1524.5},fromJD:function(w){var b=Math.floor(w+.5)+1524,h=Math.floor((b-122.1)/365.25),o=Math.floor(365.25*h),t=Math.floor((b-o)/30.6001),i=t-Math.floor(t<14?1:13),n=h-Math.floor(i>2?4716:4715),r=b-o-Math.floor(30.6001*t);return n<=0&&n--,this.newDate(n,i,r)}}),A.calendars.julian=a},65616:function(Y,P,e){var A=e(38700),k=e(50896);function a(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}function w(h,o){return h-o*Math.floor(h/o)}function b(h,o){return w(h-1,o)+1}a.prototype=new A.baseCalendar,k(a.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(h){return this._validate(h,this.minMonth,this.minDay,A.local.invalidYear),!1},formatYear:function(h){h=this._validate(h,this.minMonth,this.minDay,A.local.invalidYear).year();var o=Math.floor(h/400);return h%=400,h+=h<0?400:0,o+"."+Math.floor(h/20)+"."+h%20},forYear:function(h){if((h=h.split(".")).length<3)throw"Invalid Mayan year";for(var o=0,t=0;t<h.length;t++){var i=parseInt(h[t],10);if(Math.abs(i)>19||t>0&&i<0)throw"Invalid Mayan year";o=20*o+i}return o},monthsInYear:function(h){return this._validate(h,this.minMonth,this.minDay,A.local.invalidYear),18},weekOfYear:function(h,o,t){return this._validate(h,o,t,A.local.invalidDate),0},daysInYear:function(h){return this._validate(h,this.minMonth,this.minDay,A.local.invalidYear),360},daysInMonth:function(h,o){return this._validate(h,o,this.minDay,A.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(h,o,t){return this._validate(h,o,t,A.local.invalidDate).day()},weekDay:function(h,o,t){return this._validate(h,o,t,A.local.invalidDate),!0},extraInfo:function(h,o,t){var i=this._validate(h,o,t,A.local.invalidDate).toJD(),n=this._toHaab(i),r=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[r[0]-1],tzolkinDay:r[0],tzolkinTrecena:r[1]}},_toHaab:function(h){var o=w(8+(h-=this.jdEpoch)+340,365);return[Math.floor(o/20)+1,w(o,20)]},_toTzolkin:function(h){return[b(20+(h-=this.jdEpoch),20),b(h+4,13)]},toJD:function(h,o,t){var i=this._validate(h,o,t,A.local.invalidDate);return i.day()+20*i.month()+360*i.year()+this.jdEpoch},fromJD:function(h){h=Math.floor(h)+.5-this.jdEpoch;var o=Math.floor(h/360);h%=360,h+=h<0?360:0;var t=Math.floor(h/20),i=h%20;return this.newDate(o,t,i)}}),A.calendars.mayan=a},30632:function(Y,P,e){var A=e(38700),k=e(50896);function a(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}a.prototype=new A.baseCalendar;var w=A.instance("gregorian");k(a.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var h=this._validate(b,this.minMonth,this.minDay,A.local.invalidYear||A.regionalOptions[""].invalidYear);return w.leapYear(h.year()+(h.year()<1?1:0)+1469)},weekOfYear:function(b,h,o){var t=this.newDate(b,h,o);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(b,h){var o=this._validate(b,h,this.minDay,A.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===12&&this.leapYear(o.year())?1:0)},weekDay:function(b,h,o){return(this.dayOfWeek(b,h,o)||7)<6},toJD:function(b,h,o){var t=this._validate(b,h,o,A.local.invalidMonth);(b=t.year())<0&&b++;for(var i=t.day(),n=1;n<t.month();n++)i+=this.daysPerMonth[n-1];return i+w.toJD(b+1468,3,13)},fromJD:function(b){b=Math.floor(b+.5);for(var h=Math.floor((b-(this.jdEpoch-1))/366);b>=this.toJD(h+1,1,1);)h++;for(var o=b-Math.floor(this.toJD(h,1,1)+.5)+1,t=1;o>this.daysInMonth(h,t);)o-=this.daysInMonth(h,t),t++;return this.newDate(h,t,o)}}),A.calendars.nanakshahi=a},73040:function(Y,P,e){var A=e(38700),k=e(50896);function a(w){this.local=this.regionalOptions[w||""]||this.regionalOptions[""]}a.prototype=new A.baseCalendar,k(a.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(w){return this.daysInYear(w)!==this.daysPerYear},weekOfYear:function(w,b,h){var o=this.newDate(w,b,h);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInYear:function(w){if(w=this._validate(w,this.minMonth,this.minDay,A.local.invalidYear).year(),this.NEPALI_CALENDAR_DATA[w]===void 0)return this.daysPerYear;for(var b=0,h=this.minMonth;h<=12;h++)b+=this.NEPALI_CALENDAR_DATA[w][h];return b},daysInMonth:function(w,b){return w.year&&(b=w.month(),w=w.year()),this._validate(w,b,this.minDay,A.local.invalidMonth),this.NEPALI_CALENDAR_DATA[w]===void 0?this.daysPerMonth[b-1]:this.NEPALI_CALENDAR_DATA[w][b]},weekDay:function(w,b,h){return this.dayOfWeek(w,b,h)!==6},toJD:function(w,b,h){var o=this._validate(w,b,h,A.local.invalidDate);w=o.year(),b=o.month(),h=o.day();var t=A.instance(),i=0,n=b,r=w;this._createMissingCalendarData(w);var s=w-(n>9||n===9&&h>=this.NEPALI_CALENDAR_DATA[r][0]?56:57);for(b!==9&&(i=h,n--);n!==9;)n<=0&&(n=12,r--),i+=this.NEPALI_CALENDAR_DATA[r][n],n--;return b===9?(i+=h-this.NEPALI_CALENDAR_DATA[r][0])<0&&(i+=t.daysInYear(s)):i+=this.NEPALI_CALENDAR_DATA[r][9]-this.NEPALI_CALENDAR_DATA[r][0],t.newDate(s,1,1).add(i,"d").toJD()},fromJD:function(w){var b=A.instance().fromJD(w),h=b.year(),o=b.dayOfYear(),t=h+56;this._createMissingCalendarData(t);for(var i=9,n=this.NEPALI_CALENDAR_DATA[t][0],r=this.NEPALI_CALENDAR_DATA[t][i]-n+1;o>r;)++i>12&&(i=1,t++),r+=this.NEPALI_CALENDAR_DATA[t][i];var s=this.NEPALI_CALENDAR_DATA[t][i]-(r-o);return this.newDate(t,i,s)},_createMissingCalendarData:function(w){var b=this.daysPerMonth.slice(0);b.unshift(17);for(var h=w-1;h<w+2;h++)this.NEPALI_CALENDAR_DATA[h]===void 0&&(this.NEPALI_CALENDAR_DATA[h]=b)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),A.calendars.nepali=a},1104:function(Y,P,e){var A=e(38700),k=e(50896);function a(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}function w(b,h){return b-h*Math.floor(b/h)}a.prototype=new A.baseCalendar,k(a.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xE6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xE6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(b){var h=this._validate(b,this.minMonth,this.minDay,A.local.invalidYear);return 682*((h.year()-(h.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(b,h,o){var t=this.newDate(b,h,o);return t.add(-(t.dayOfWeek()+1)%7,"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(b,h){var o=this._validate(b,h,this.minDay,A.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===12&&this.leapYear(o.year())?1:0)},weekDay:function(b,h,o){return this.dayOfWeek(b,h,o)!==5},toJD:function(b,h,o){var t=this._validate(b,h,o,A.local.invalidDate);b=t.year(),h=t.month(),o=t.day();var i=b-(b>=0?474:473),n=474+w(i,2820);return o+(h<=7?31*(h-1):30*(h-1)+6)+Math.floor((682*n-110)/2816)+365*(n-1)+1029983*Math.floor(i/2820)+this.jdEpoch-1},fromJD:function(b){var h=(b=Math.floor(b)+.5)-this.toJD(475,1,1),o=Math.floor(h/1029983),t=w(h,1029983),i=2820;if(t!==1029982){var n=Math.floor(t/366),r=w(t,366);i=Math.floor((2134*n+2816*r+2815)/1028522)+n+1}var s=i+2820*o+474;s=s<=0?s-1:s;var l=b-this.toJD(s,1,1)+1,u=l<=186?Math.ceil(l/31):Math.ceil((l-6)/30),d=b-this.toJD(s,u,1)+1;return this.newDate(s,u,d)}}),A.calendars.persian=a,A.calendars.jalali=a},51456:function(Y,P,e){var A=e(38700),k=e(50896),a=A.instance();function w(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}w.prototype=new A.baseCalendar,k(w.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(b){var h=this._validate(b,this.minMonth,this.minDay,A.local.invalidYear);return b=this._t2gYear(h.year()),a.leapYear(b)},weekOfYear:function(b,h,o){var t=this._validate(b,this.minMonth,this.minDay,A.local.invalidYear);return b=this._t2gYear(t.year()),a.weekOfYear(b,t.month(),t.day())},daysInMonth:function(b,h){var o=this._validate(b,h,this.minDay,A.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===2&&this.leapYear(o.year())?1:0)},weekDay:function(b,h,o){return(this.dayOfWeek(b,h,o)||7)<6},toJD:function(b,h,o){var t=this._validate(b,h,o,A.local.invalidDate);return b=this._t2gYear(t.year()),a.toJD(b,t.month(),t.day())},fromJD:function(b){var h=a.fromJD(b),o=this._g2tYear(h.year());return this.newDate(o,h.month(),h.day())},_t2gYear:function(b){return b+this.yearsOffset+(b>=-this.yearsOffset&&b<=-1?1:0)},_g2tYear:function(b){return b-this.yearsOffset-(b>=1&&b<=this.yearsOffset?1:0)}}),A.calendars.taiwan=w},4592:function(Y,P,e){var A=e(38700),k=e(50896),a=A.instance();function w(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}w.prototype=new A.baseCalendar,k(w.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(b){var h=this._validate(b,this.minMonth,this.minDay,A.local.invalidYear);return b=this._t2gYear(h.year()),a.leapYear(b)},weekOfYear:function(b,h,o){var t=this._validate(b,this.minMonth,this.minDay,A.local.invalidYear);return b=this._t2gYear(t.year()),a.weekOfYear(b,t.month(),t.day())},daysInMonth:function(b,h){var o=this._validate(b,h,this.minDay,A.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===2&&this.leapYear(o.year())?1:0)},weekDay:function(b,h,o){return(this.dayOfWeek(b,h,o)||7)<6},toJD:function(b,h,o){var t=this._validate(b,h,o,A.local.invalidDate);return b=this._t2gYear(t.year()),a.toJD(b,t.month(),t.day())},fromJD:function(b){var h=a.fromJD(b),o=this._g2tYear(h.year());return this.newDate(o,h.month(),h.day())},_t2gYear:function(b){return b-this.yearsOffset-(b>=1&&b<=this.yearsOffset?1:0)},_g2tYear:function(b){return b+this.yearsOffset+(b>=-this.yearsOffset&&b<=-1?1:0)}}),A.calendars.thai=w},45348:function(Y,P,e){var A=e(38700),k=e(50896);function a(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}a.prototype=new A.baseCalendar,k(a.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012Bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(b){var h=this._validate(b,this.minMonth,this.minDay,A.local.invalidYear);return this.daysInYear(h.year())===355},weekOfYear:function(b,h,o){var t=this.newDate(b,h,o);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(b){for(var h=0,o=1;o<=12;o++)h+=this.daysInMonth(b,o);return h},daysInMonth:function(b,h){for(var o=this._validate(b,h,this.minDay,A.local.invalidMonth).toJD()-24e5+.5,t=0,i=0;i<w.length;i++){if(w[i]>o)return w[t]-w[t-1];t++}return 30},weekDay:function(b,h,o){return this.dayOfWeek(b,h,o)!==5},toJD:function(b,h,o){var t=this._validate(b,h,o,A.local.invalidDate),i=12*(t.year()-1)+t.month()-15292;return t.day()+w[i-1]-1+24e5-.5},fromJD:function(b){for(var h=b-24e5+.5,o=0,t=0;t<w.length&&!(w[t]>h);t++)o++;var i=o+15292,n=Math.floor((i-1)/12),r=n+1,s=i-12*n,l=h-w[o-1]+1;return this.newDate(r,s,l)},isValid:function(b,h,o){var t=A.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(t=(b=b.year!=null?b.year:b)>=1276&&b<=1500),t},_validate:function(b,h,o,t){var i=A.baseCalendar.prototype._validate.apply(this,arguments);if(i.year<1276||i.year>1500)throw t.replace(/\{0\}/,this.local.name);return i}}),A.calendars.ummalqura=a;var w=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},38700:function(Y,P,e){var A=e(50896);function k(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function a(t,i,n,r){if(this._calendar=t,this._year=i,this._month=n,this._day=r,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(o.local.invalidDate||o.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function w(t,i){return"000000".substring(0,i-(t=""+t).length)+t}function b(){this.shortYearCutoff="+10"}function h(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}A(k.prototype,{instance:function(t,i){t=(t||"gregorian").toLowerCase(),i=i||"";var n=this._localCals[t+"-"+i];if(!n&&this.calendars[t]&&(n=new this.calendars[t](i),this._localCals[t+"-"+i]=n),!n)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return n},newDate:function(t,i,n,r,s){return(r=(t!=null&&t.year?t.calendar():typeof r=="string"?this.instance(r,s):r)||this.instance()).newDate(t,i,n)},substituteDigits:function(t){return function(i){return(i+"").replace(/[0-9]/g,function(n){return t[n]})}},substituteChineseDigits:function(t,i){return function(n){for(var r="",s=0;n>0;){var l=n%10;r=(l===0?"":t[l]+i[s])+r,s++,n=Math.floor(n/10)}return r.indexOf(t[1]+i[1])===0&&(r=r.substr(1)),r||t[0]}}}),A(a.prototype,{newDate:function(t,i,n){return this._calendar.newDate(t==null?this:t,i,n)},year:function(t){return arguments.length===0?this._year:this.set(t,"y")},month:function(t){return arguments.length===0?this._month:this.set(t,"m")},day:function(t){return arguments.length===0?this._day:this.set(t,"d")},date:function(t,i,n){if(!this._calendar.isValid(t,i,n))throw(o.local.invalidDate||o.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=i,this._day=n,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,i){return this._calendar.add(this,t,i)},set:function(t,i){return this._calendar.set(this,t,i)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(o.local.differentCalendars||o.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var i=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return i===0?0:i<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+w(Math.abs(this.year()),4)+"-"+w(this.month(),2)+"-"+w(this.day(),2)}}),A(b.prototype,{_validateLevel:0,newDate:function(t,i,n){return t==null?this.today():(t.year&&(this._validate(t,i,n,o.local.invalidDate||o.regionalOptions[""].invalidDate),n=t.day(),i=t.month(),t=t.year()),new a(this,t,i,n))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){return this._validate(t,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return(i.year()<0?"-":"")+w(Math.abs(i.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear),12},monthOfYear:function(t,i){var n=this._validate(t,i,this.minDay,o.local.invalidMonth||o.regionalOptions[""].invalidMonth);return(n.month()+this.monthsInYear(n)-this.firstMonth)%this.monthsInYear(n)+this.minMonth},fromMonthOfYear:function(t,i){var n=(i+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,n,this.minDay,o.local.invalidMonth||o.regionalOptions[""].invalidMonth),n},daysInYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return this.leapYear(i)?366:365},dayOfYear:function(t,i,n){var r=this._validate(t,i,n,o.local.invalidDate||o.regionalOptions[""].invalidDate);return r.toJD()-this.newDate(r.year(),this.fromMonthOfYear(r.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,i,n){var r=this._validate(t,i,n,o.local.invalidDate||o.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(r))+2)%this.daysInWeek()},extraInfo:function(t,i,n){return this._validate(t,i,n,o.local.invalidDate||o.regionalOptions[""].invalidDate),{}},add:function(t,i,n){return this._validate(t,this.minMonth,this.minDay,o.local.invalidDate||o.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,i,n),i,n)},_add:function(t,i,n){if(this._validateLevel++,n==="d"||n==="w"){var r=t.toJD()+i*(n==="w"?this.daysInWeek():1),s=t.calendar().fromJD(r);return this._validateLevel--,[s.year(),s.month(),s.day()]}try{var l=t.year()+(n==="y"?i:0),u=t.monthOfYear()+(n==="m"?i:0);s=t.day(),n==="y"?(t.month()!==this.fromMonthOfYear(l,u)&&(u=this.newDate(l,t.month(),this.minDay).monthOfYear()),u=Math.min(u,this.monthsInYear(l)),s=Math.min(s,this.daysInMonth(l,this.fromMonthOfYear(l,u)))):n==="m"&&(function(c){for(;u<c.minMonth;)l--,u+=c.monthsInYear(l);for(var x=c.monthsInYear(l);u>x-1+c.minMonth;)l++,u-=x,x=c.monthsInYear(l)}(this),s=Math.min(s,this.daysInMonth(l,this.fromMonthOfYear(l,u))));var d=[l,this.fromMonthOfYear(l,u),s];return this._validateLevel--,d}catch(c){throw this._validateLevel--,c}},_correctAdd:function(t,i,n,r){if(!(this.hasYearZero||r!=="y"&&r!=="m"||i[0]!==0&&t.year()>0==i[0]>0)){var s={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[r],l=n<0?-1:1;i=this._add(t,n*s[0]+l*s[1],s[2])}return t.date(i[0],i[1],i[2])},set:function(t,i,n){this._validate(t,this.minMonth,this.minDay,o.local.invalidDate||o.regionalOptions[""].invalidDate);var r=n==="y"?i:t.year(),s=n==="m"?i:t.month(),l=n==="d"?i:t.day();return n!=="y"&&n!=="m"||(l=Math.min(l,this.daysInMonth(r,s))),t.date(r,s,l)},isValid:function(t,i,n){this._validateLevel++;var r=this.hasYearZero||t!==0;if(r){var s=this.newDate(t,i,this.minDay);r=i>=this.minMonth&&i-this.minMonth<this.monthsInYear(s)&&n>=this.minDay&&n-this.minDay<this.daysInMonth(s)}return this._validateLevel--,r},toJSDate:function(t,i,n){var r=this._validate(t,i,n,o.local.invalidDate||o.regionalOptions[""].invalidDate);return o.instance().fromJD(this.toJD(r)).toJSDate()},fromJSDate:function(t){return this.fromJD(o.instance().fromJSDate(t).toJD())},_validate:function(t,i,n,r){if(t.year){if(this._validateLevel===0&&this.name!==t.calendar().name)throw(o.local.differentCalendars||o.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(t,i,n))throw r.replace(/\{0\}/,this.local.name);var s=this.newDate(t,i,n);return this._validateLevel--,s}catch(l){throw this._validateLevel--,l}}}),h.prototype=new b,A(h.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return(t=i.year()+(i.year()<0?1:0))%4==0&&(t%100!=0||t%400==0)},weekOfYear:function(t,i,n){var r=this.newDate(t,i,n);return r.add(4-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(t,i){var n=this._validate(t,i,this.minDay,o.local.invalidMonth||o.regionalOptions[""].invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===2&&this.leapYear(n.year())?1:0)},weekDay:function(t,i,n){return(this.dayOfWeek(t,i,n)||7)<6},toJD:function(t,i,n){var r=this._validate(t,i,n,o.local.invalidDate||o.regionalOptions[""].invalidDate);t=r.year(),i=r.month(),n=r.day(),t<0&&t++,i<3&&(i+=12,t--);var s=Math.floor(t/100),l=2-s+Math.floor(s/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(i+1))+n+l-1524.5},fromJD:function(t){var i=Math.floor(t+.5),n=Math.floor((i-186721625e-2)/36524.25),r=1524+(n=i+1+n-Math.floor(n/4)),s=Math.floor((r-122.1)/365.25),l=Math.floor(365.25*s),u=Math.floor((r-l)/30.6001),d=r-l-Math.floor(30.6001*u),c=u-(u>13.5?13:1),x=s-(c>2.5?4716:4715);return x<=0&&x--,this.newDate(x,c,d)},toJSDate:function(t,i,n){var r=this._validate(t,i,n,o.local.invalidDate||o.regionalOptions[""].invalidDate),s=new Date(r.year(),r.month()-1,r.day());return s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0),s.setHours(s.getHours()>12?s.getHours()+2:0),s},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var o=Y.exports=new k;o.cdate=a,o.baseCalendar=b,o.calendars.gregorian=h},15168:function(Y,P,e){var A=e(50896),k=e(38700);A(k.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),k.local=k.regionalOptions[""],A(k.cdate.prototype,{formatDate:function(a,w){return typeof a!="string"&&(w=a,a=""),this._calendar.formatDate(a||"",this,w)}}),A(k.baseCalendar.prototype,{UNIX_EPOCH:k.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:k.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,w,b){if(typeof a!="string"&&(b=w,w=a,a=""),!w)return"";if(w.calendar()!==this)throw k.local.invalidFormat||k.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat;for(var h,o,t,i=(b=b||{}).dayNamesShort||this.local.dayNamesShort,n=b.dayNames||this.local.dayNames,r=b.monthNumbers||this.local.monthNumbers,s=b.monthNamesShort||this.local.monthNamesShort,l=b.monthNames||this.local.monthNames,u=(b.calculateWeek||this.local.calculateWeek,function(f,S){for(var T=1;_+T<a.length&&a.charAt(_+T)===f;)T++;return _+=T-1,Math.floor(T/(S||1))>1}),d=function(f,S,T,E){var C=""+S;if(u(f,E))for(;C.length<T;)C="0"+C;return C},c=this,x=function(f){return typeof r=="function"?r.call(c,f,u("m")):v(d("m",f.month(),2))},g=function(f,S){return S?typeof l=="function"?l.call(c,f):l[f.month()-c.minMonth]:typeof s=="function"?s.call(c,f):s[f.month()-c.minMonth]},p=this.local.digits,v=function(f){return b.localNumbers&&p?p(f):f},y="",m=!1,_=0;_<a.length;_++)if(m)a.charAt(_)!=="'"||u("'")?y+=a.charAt(_):m=!1;else switch(a.charAt(_)){case"d":y+=v(d("d",w.day(),2));break;case"D":y+=(h=w.dayOfWeek(),o=i,t=n,u("D")?t[h]:o[h]);break;case"o":y+=d("o",w.dayOfYear(),3);break;case"w":y+=d("w",w.weekOfYear(),2);break;case"m":y+=x(w);break;case"M":y+=g(w,u("M"));break;case"y":y+=u("y",2)?w.year():(w.year()%100<10?"0":"")+w.year()%100;break;case"Y":u("Y",2),y+=w.formatYear();break;case"J":y+=w.toJD();break;case"@":y+=(w.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":y+=(w.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":u("'")?y+="'":m=!0;break;default:y+=a.charAt(_)}return y},parseDate:function(a,w,b){if(w==null)throw k.local.invalidArguments||k.regionalOptions[""].invalidArguments;if((w=typeof w=="object"?w.toString():w+"")==="")return null;a=a||this.local.dateFormat;var h=(b=b||{}).shortYearCutoff||this.shortYearCutoff;h=typeof h!="string"?h:this.today().year()%100+parseInt(h,10);for(var o=b.dayNamesShort||this.local.dayNamesShort,t=b.dayNames||this.local.dayNames,i=b.parseMonth||this.local.parseMonth,n=b.monthNumbers||this.local.monthNumbers,r=b.monthNamesShort||this.local.monthNamesShort,s=b.monthNames||this.local.monthNames,l=-1,u=-1,d=-1,c=-1,x=-1,g=!1,p=!1,v=function(z,U){for(var D=1;C+D<a.length&&a.charAt(C+D)===z;)D++;return C+=D-1,Math.floor(D/(U||1))>1},y=function(z,U){var D=v(z,U),B=[2,3,D?4:2,D?4:2,10,11,20]["oyYJ@!".indexOf(z)+1],Z=new RegExp("^-?\\d{1,"+B+"}"),F=w.substring(E).match(Z);if(!F)throw(k.local.missingNumberAt||k.regionalOptions[""].missingNumberAt).replace(/\{0\}/,E);return E+=F[0].length,parseInt(F[0],10)},m=this,_=function(){if(typeof n=="function"){v("m");var z=n.call(m,w.substring(E));return E+=z.length,z}return y("m")},f=function(z,U,D,B){for(var Z=v(z,B)?D:U,F=0;F<Z.length;F++)if(w.substr(E,Z[F].length).toLowerCase()===Z[F].toLowerCase())return E+=Z[F].length,F+m.minMonth;throw(k.local.unknownNameAt||k.regionalOptions[""].unknownNameAt).replace(/\{0\}/,E)},S=function(){if(typeof s=="function"){var z=v("M")?s.call(m,w.substring(E)):r.call(m,w.substring(E));return E+=z.length,z}return f("M",r,s)},T=function(){if(w.charAt(E)!==a.charAt(C))throw(k.local.unexpectedLiteralAt||k.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,E);E++},E=0,C=0;C<a.length;C++)if(p)a.charAt(C)!=="'"||v("'")?T():p=!1;else switch(a.charAt(C)){case"d":c=y("d");break;case"D":f("D",o,t);break;case"o":x=y("o");break;case"w":y("w");break;case"m":d=_();break;case"M":d=S();break;case"y":var O=C;g=!v("y",2),C=O,u=y("y",2);break;case"Y":u=y("Y",2);break;case"J":l=y("J")+.5,w.charAt(E)==="."&&(E++,y("J"));break;case"@":l=y("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":l=y("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":E=w.length;break;case"'":v("'")?T():p=!0;break;default:T()}if(E<w.length)throw k.local.unexpectedText||k.regionalOptions[""].unexpectedText;if(u===-1?u=this.today().year():u<100&&g&&(u+=h===-1?1900:this.today().year()-this.today().year()%100-(u<=h?0:100)),typeof d=="string"&&(d=i.call(this,u,d)),x>-1){d=1,c=x;for(var I=this.daysInMonth(u,d);c>I;I=this.daysInMonth(u,d))d++,c-=I}return l>-1?this.fromJD(l):this.newDate(u,d,c)},determineDate:function(a,w,b,h,o){b&&typeof b!="object"&&(o=h,h=b,b=null),typeof h!="string"&&(o=h,h="");var t=this;return w=w?w.newDate():null,a==null?w:typeof a=="string"?function(i){try{return t.parseDate(h,i,o)}catch{}for(var n=((i=i.toLowerCase()).match(/^c/)&&b?b.newDate():null)||t.today(),r=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,s=r.exec(i);s;)n.add(parseInt(s[1],10),s[2]||"d"),s=r.exec(i);return n}(a):typeof a=="number"?isNaN(a)||a===1/0||a===-1/0?w:t.today().add(a,"d"):t.newDate(a)}})},21576:function(){},19768:function(){},63436:function(Y,P,e){var A=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],k=typeof globalThis>"u"?e.g:globalThis;Y.exports=function(){for(var a=[],w=0;w<A.length;w++)typeof k[A[w]]=="function"&&(a[a.length]=A[w]);return a}},67756:function(Y,P,e){function A(ce,pe,ge){ce.prototype=pe.prototype=ge,ge.constructor=ce}function k(ce,pe){var ge=Object.create(ce.prototype);for(var me in pe)ge[me]=pe[me];return ge}function a(){}e.d(P,{qy:function(){return le},Gz:function(){return Q}});var w=.7,b=1/w,h="\\s*([+-]?\\d+)\\s*",o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",i=/^#([0-9a-f]{3,8})$/,n=new RegExp("^rgb\\(".concat(h,",").concat(h,",").concat(h,"\\)$")),r=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),s=new RegExp("^rgba\\(".concat(h,",").concat(h,",").concat(h,",").concat(o,"\\)$")),l=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(o,"\\)$")),u=new RegExp("^hsl\\(".concat(o,",").concat(t,",").concat(t,"\\)$")),d=new RegExp("^hsla\\(".concat(o,",").concat(t,",").concat(t,",").concat(o,"\\)$")),c={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function x(){return this.rgb().formatHex()}function g(){return this.rgb().formatRgb()}function p(ce){var pe,ge;return ce=(ce+"").trim().toLowerCase(),(pe=i.exec(ce))?(ge=pe[1].length,pe=parseInt(pe[1],16),ge===6?v(pe):ge===3?new _(pe>>8&15|pe>>4&240,pe>>4&15|240&pe,(15&pe)<<4|15&pe,1):ge===8?y(pe>>24&255,pe>>16&255,pe>>8&255,(255&pe)/255):ge===4?y(pe>>12&15|pe>>8&240,pe>>8&15|pe>>4&240,pe>>4&15|240&pe,((15&pe)<<4|15&pe)/255):null):(pe=n.exec(ce))?new _(pe[1],pe[2],pe[3],1):(pe=r.exec(ce))?new _(255*pe[1]/100,255*pe[2]/100,255*pe[3]/100,1):(pe=s.exec(ce))?y(pe[1],pe[2],pe[3],pe[4]):(pe=l.exec(ce))?y(255*pe[1]/100,255*pe[2]/100,255*pe[3]/100,pe[4]):(pe=u.exec(ce))?O(pe[1],pe[2]/100,pe[3]/100,1):(pe=d.exec(ce))?O(pe[1],pe[2]/100,pe[3]/100,pe[4]):c.hasOwnProperty(ce)?v(c[ce]):ce==="transparent"?new _(NaN,NaN,NaN,0):null}function v(ce){return new _(ce>>16&255,ce>>8&255,255&ce,1)}function y(ce,pe,ge,me){return me<=0&&(ce=pe=ge=NaN),new _(ce,pe,ge,me)}function m(ce,pe,ge,me){return arguments.length===1?((ve=ce)instanceof a||(ve=p(ve)),ve?new _((ve=ve.rgb()).r,ve.g,ve.b,ve.opacity):new _):new _(ce,pe,ge,me==null?1:me);var ve}function _(ce,pe,ge,me){this.r=+ce,this.g=+pe,this.b=+ge,this.opacity=+me}function f(){return"#".concat(C(this.r)).concat(C(this.g)).concat(C(this.b))}function S(){var ce=T(this.opacity);return"".concat(ce===1?"rgb(":"rgba(").concat(E(this.r),", ").concat(E(this.g),", ").concat(E(this.b)).concat(ce===1?")":", ".concat(ce,")"))}function T(ce){return isNaN(ce)?1:Math.max(0,Math.min(1,ce))}function E(ce){return Math.max(0,Math.min(255,Math.round(ce)||0))}function C(ce){return((ce=E(ce))<16?"0":"")+ce.toString(16)}function O(ce,pe,ge,me){return me<=0?ce=pe=ge=NaN:ge<=0||ge>=1?ce=pe=NaN:pe<=0&&(ce=NaN),new z(ce,pe,ge,me)}function I(ce){if(ce instanceof z)return new z(ce.h,ce.s,ce.l,ce.opacity);if(ce instanceof a||(ce=p(ce)),!ce)return new z;if(ce instanceof z)return ce;var pe=(ce=ce.rgb()).r/255,ge=ce.g/255,me=ce.b/255,ve=Math.min(pe,ge,me),Me=Math.max(pe,ge,me),_e=NaN,we=Me-ve,oe=(Me+ve)/2;return we?(_e=pe===Me?(ge-me)/we+6*(ge<me):ge===Me?(me-pe)/we+2:(pe-ge)/we+4,we/=oe<.5?Me+ve:2-Me-ve,_e*=60):we=oe>0&&oe<1?0:_e,new z(_e,we,oe,ce.opacity)}function z(ce,pe,ge,me){this.h=+ce,this.s=+pe,this.l=+ge,this.opacity=+me}function U(ce){return(ce=(ce||0)%360)<0?ce+360:ce}function D(ce){return Math.max(0,Math.min(1,ce||0))}function B(ce,pe,ge){return 255*(ce<60?pe+(ge-pe)*ce/60:ce<180?ge:ce<240?pe+(ge-pe)*(240-ce)/60:pe)}A(a,p,{copy:function(ce){return Object.assign(new this.constructor,this,ce)},displayable:function(){return this.rgb().displayable()},hex:x,formatHex:x,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return I(this).formatHsl()},formatRgb:g,toString:g}),A(_,m,k(a,{brighter:function(ce){return ce=ce==null?b:Math.pow(b,ce),new _(this.r*ce,this.g*ce,this.b*ce,this.opacity)},darker:function(ce){return ce=ce==null?w:Math.pow(w,ce),new _(this.r*ce,this.g*ce,this.b*ce,this.opacity)},rgb:function(){return this},clamp:function(){return new _(E(this.r),E(this.g),E(this.b),T(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:f,formatHex:f,formatHex8:function(){return"#".concat(C(this.r)).concat(C(this.g)).concat(C(this.b)).concat(C(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:S,toString:S})),A(z,function(ce,pe,ge,me){return arguments.length===1?I(ce):new z(ce,pe,ge,me==null?1:me)},k(a,{brighter:function(ce){return ce=ce==null?b:Math.pow(b,ce),new z(this.h,this.s,this.l*ce,this.opacity)},darker:function(ce){return ce=ce==null?w:Math.pow(w,ce),new z(this.h,this.s,this.l*ce,this.opacity)},rgb:function(){var ce=this.h%360+360*(this.h<0),pe=isNaN(ce)||isNaN(this.s)?0:this.s,ge=this.l,me=ge+(ge<.5?ge:1-ge)*pe,ve=2*ge-me;return new _(B(ce>=240?ce-240:ce+120,ve,me),B(ce,ve,me),B(ce<120?ce+240:ce-120,ve,me),this.opacity)},clamp:function(){return new z(U(this.h),D(this.s),D(this.l),T(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var ce=T(this.opacity);return"".concat(ce===1?"hsl(":"hsla(").concat(U(this.h),", ").concat(100*D(this.s),"%, ").concat(100*D(this.l),"%").concat(ce===1?")":", ".concat(ce,")"))}}));var Z=function(ce){return function(){return ce}};function F(ce,pe){var ge=pe-ce;return ge?function(me,ve){return function(Me){return me+Me*ve}}(ce,ge):Z(isNaN(ce)?pe:ce)}var j=function ce(pe){var ge=function(ve){return(ve=+ve)==1?F:function(Me,_e){return _e-Me?function(we,oe,se){return we=Math.pow(we,se),oe=Math.pow(oe,se)-we,se=1/se,function(de){return Math.pow(we+de*oe,se)}}(Me,_e,ve):Z(isNaN(Me)?_e:Me)}}(pe);function me(ve,Me){var _e=ge((ve=m(ve)).r,(Me=m(Me)).r),we=ge(ve.g,Me.g),oe=ge(ve.b,Me.b),se=F(ve.opacity,Me.opacity);return function(de){return ve.r=_e(de),ve.g=we(de),ve.b=oe(de),ve.opacity=se(de),ve+""}}return me.gamma=ce,me}(1);function V(ce,pe){var ge,me=pe?pe.length:0,ve=ce?Math.min(me,ce.length):0,Me=new Array(ve),_e=new Array(me);for(ge=0;ge<ve;++ge)Me[ge]=le(ce[ge],pe[ge]);for(;ge<me;++ge)_e[ge]=pe[ge];return function(we){for(ge=0;ge<ve;++ge)_e[ge]=Me[ge](we);return _e}}function te(ce,pe){var ge=new Date;return ce=+ce,pe=+pe,function(me){return ge.setTime(ce*(1-me)+pe*me),ge}}function Q(ce,pe){return ce=+ce,pe=+pe,function(ge){return ce*(1-ge)+pe*ge}}function $(ce){return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},$(ce)}function G(ce,pe){var ge,me={},ve={};for(ge in ce!==null&&$(ce)==="object"||(ce={}),pe!==null&&$(pe)==="object"||(pe={}),pe)ge in ce?me[ge]=le(ce[ge],pe[ge]):ve[ge]=pe[ge];return function(Me){for(ge in me)ve[ge]=me[ge](Me);return ve}}var X=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,J=new RegExp(X.source,"g");function ne(ce,pe){var ge,me,ve,Me=X.lastIndex=J.lastIndex=0,_e=-1,we=[],oe=[];for(ce+="",pe+="";(ge=X.exec(ce))&&(me=J.exec(pe));)(ve=me.index)>Me&&(ve=pe.slice(Me,ve),we[_e]?we[_e]+=ve:we[++_e]=ve),(ge=ge[0])===(me=me[0])?we[_e]?we[_e]+=me:we[++_e]=me:(we[++_e]=null,oe.push({i:_e,x:Q(ge,me)})),Me=J.lastIndex;return Me<pe.length&&(ve=pe.slice(Me),we[_e]?we[_e]+=ve:we[++_e]=ve),we.length<2?oe[0]?function(se){return function(de){return se(de)+""}}(oe[0].x):function(se){return function(){return se}}(pe):(pe=oe.length,function(se){for(var de,Ee=0;Ee<pe;++Ee)we[(de=oe[Ee]).i]=de.x(se);return we.join("")})}function ie(ce,pe){pe||(pe=[]);var ge,me=ce?Math.min(pe.length,ce.length):0,ve=pe.slice();return function(Me){for(ge=0;ge<me;++ge)ve[ge]=ce[ge]*(1-Me)+pe[ge]*Me;return ve}}function ae(ce){return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},ae(ce)}function le(ce,pe){var ge,me,ve=ae(pe);return pe==null||ve==="boolean"?Z(pe):(ve==="number"?Q:ve==="string"?(ge=p(pe))?(pe=ge,j):ne:pe instanceof p?j:pe instanceof Date?te:(me=pe,!ArrayBuffer.isView(me)||me instanceof DataView?Array.isArray(pe)?V:typeof pe.valueOf!="function"&&typeof pe.toString!="function"||isNaN(pe)?G:Q:ie))(ce,pe)}},30584:function(Y){Y.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},7294:function(Y){Y.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},47916:function(Y){Y.exports=JSON.parse('["normal","italic","oblique"]')},2904:function(Y){Y.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},68194:function(Y){Y.exports=JSON.parse('["inherit","initial","unset"]')},3748:function(Y){Y.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},gt={};function kt(Y){var P=gt[Y];if(P!==void 0)return P.exports;var e=gt[Y]={exports:{}};return rt[Y].call(e.exports,e,e.exports,kt),e.exports}return kt.n=function(Y){var P=Y&&Y.__esModule?function(){return Y.default}:function(){return Y};return kt.d(P,{a:P}),P},kt.d=function(Y,P){for(var e in P)kt.o(P,e)&&!kt.o(Y,e)&&Object.defineProperty(Y,e,{enumerable:!0,get:P[e]})},kt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),kt.o=function(Y,P){return Object.prototype.hasOwnProperty.call(Y,P)},kt.r=function(Y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Y,"__esModule",{value:!0})},kt(13792)}()})})(kv);const g_=d_(kv.exports),Av=Wx("modal",{state:()=>({activeModal:null}),actions:{changeModal(be){this.activeModal=be}}});const v_={class:"patient__header"},m_={class:"patient__header__patient-meta"},y_=["src","alt"],x_={class:"patient__header__buttons"},b_={__name:"PatientHeader",props:{activePatient:{type:Object,required:!0}},setup(be){const Ve=Xb(),rt=Av();return(gt,kt)=>(Si(),Hi("div",v_,[Kn("div",m_,[Kn("img",{src:be.activePatient.image,alt:be.activePatient.name},null,8,y_),Kn("div",null,[Kn("h1",null,Ki(be.activePatient.name),1),Kn("p",null,Ki(be.activePatient.gender)+", "+Ki(be.activePatient.age)+" years old",1)])]),Kn("div",x_,[Kn("div",{class:Lc(["btn btn--outline btn--status",[{good:be.activePatient.status=="Good"},{"needs-to-be-contacted":be.activePatient.status=="Needs to be contacted"},{contacted:be.activePatient.status=="Contacted"}]])},Ki(be.activePatient.status),3),Yi(Ve).name==="patients-view"?(Si(),Hi("button",{key:0,onClick:kt[0]||(kt[0]=Y=>Yi(rt).changeModal("shareWithDoctor")),class:"btn btn--outline"}," Share with doctor ")):Gu("",!0),Kn("button",{onClick:kt[1]||(kt[1]=Y=>Yi(rt).changeModal("csvReports")),class:"btn btn--outline"}," CSV Reports "),Yi(Ve).name==="patients-view"?(Si(),Hi("button",{key:1,onClick:kt[2]||(kt[2]=Y=>Yi(rt).changeModal("contactDoctor")),class:"btn"}," Contact doctor ")):Gu("",!0),Yi(Ve).name==="patients-view"?(Si(),Hi("button",{key:2,onClick:kt[3]||(kt[3]=Y=>Yi(rt).changeModal("settings")),class:"btn btn--settings"}," Settings ")):Gu("",!0)])]))}};const Kr=be=>(Td("data-v-ea15e011"),be=be(),kd(),be),__={key:0,class:"patient"},w_={class:"patient__top-cards"},T_={class:"card patient__top-cards__latest-glucose"},k_=Kr(()=>Kn("h2",null,"Latest glucose value",-1)),A_=Kr(()=>Kn("br",null,null,-1)),M_=Oa("mg/dL "),S_={class:"gray"},E_={class:"card patient__top-cards__sensor-usage"},L_=Kr(()=>Kn("h2",null,"Sensor usage",-1)),C_=Kr(()=>Kn("p",null,"Days with GCM data",-1)),P_=Kr(()=>Kn("br",null,null,-1)),O_=Oa(" 9/14 "),I_=Kr(()=>Kn("p",null,"Avg.calibrations per day",-1)),R_={class:"patient__cards"},D_={class:"card"},z_=Kr(()=>Kn("h2",null,"Last 24 hrs",-1)),F_=Kr(()=>Kn("p",{class:"date"},"Mon 21 Jun - Sun 27 Jun",-1)),B_={class:"value"},N_=Kr(()=>Kn("h3",null,"Time in range (TIR)",-1)),j_=Oa(" Target range:"),U_=Kr(()=>Kn("br",null,null,-1)),V_=Oa(" 4.0\u201310.0 mmol/L "),H_=Kr(()=>Kn("hr",null,null,-1)),q_=Kr(()=>Kn("img",{src:Uh,alt:"Steps icon"},null,-1)),G_={class:"value"},W_=Kr(()=>Kn("h3",null,"Steps",-1)),Y_=Oa(" Steps in total "),Z_=Kr(()=>Kn("hr",null,null,-1)),X_={key:0,src:kf,alt:"Mood: Positive"},K_={key:1,src:Vh,alt:"Mood: Negative"},J_={class:"value"},$_=Kr(()=>Kn("h3",null,"Mood",-1)),Q_=Yu('<hr data-v-ea15e011><div data-v-ea15e011><img src="'+Hh+'" alt="Stars collected" data-v-ea15e011><div class="value" data-v-ea15e011><h3 data-v-ea15e011>Stars collected</h3><p data-v-ea15e011><span data-v-ea15e011>34</span> / 300 stars </p></div></div><hr data-v-ea15e011><div data-v-ea15e011><img src="'+qh+'" alt="Stars collected" data-v-ea15e011><div class="value" data-v-ea15e011><h3 data-v-ea15e011>Activity in groups</h3><p data-v-ea15e011><span data-v-ea15e011>43</span> Actions / week </p></div></div>',4),e3={class:"card"},t3=Kr(()=>Kn("h2",null,"Week",-1)),n3=Kr(()=>Kn("p",{class:"date"},"Mon 21 Jun - Sun 27 Jun",-1)),r3={class:"value"},i3=Kr(()=>Kn("h3",null,"Time in range (TIR)",-1)),a3=Oa(" Target range:"),o3=Kr(()=>Kn("br",null,null,-1)),s3=Oa(" 4.0\u201310.0 mmol/L "),l3=Kr(()=>Kn("hr",null,null,-1)),u3=Kr(()=>Kn("img",{src:Uh,alt:"Steps icon"},null,-1)),c3={class:"value"},f3=Kr(()=>Kn("h3",null,"Steps",-1)),h3=Oa(" Steps in total "),p3=Kr(()=>Kn("hr",null,null,-1)),d3={key:0,src:kf,alt:"Mood: Positive"},g3={key:1,src:Vh,alt:"Mood: Negative"},v3={class:"value"},m3=Kr(()=>Kn("h3",null,"Mood",-1)),y3=Yu('<hr data-v-ea15e011><div data-v-ea15e011><img src="'+Hh+'" alt="Stars collected" data-v-ea15e011><div class="value" data-v-ea15e011><h3 data-v-ea15e011>Stars collected</h3><p data-v-ea15e011><span data-v-ea15e011>34</span> / 300 stars </p></div></div><hr data-v-ea15e011><div data-v-ea15e011><img src="'+qh+'" alt="Stars collected" data-v-ea15e011><div class="value" data-v-ea15e011><h3 data-v-ea15e011>Activity in groups</h3><p data-v-ea15e011><span data-v-ea15e011>43</span> Actions / week </p></div></div>',4),x3={class:"card"},b3=Kr(()=>Kn("h2",null,"Month",-1)),_3=Kr(()=>Kn("p",{class:"date"},"Mon 21 Jun - Sun 27 Jun",-1)),w3={class:"value"},T3=Kr(()=>Kn("h3",null,"Time in range (TIR)",-1)),k3=Oa(" Target range:"),A3=Kr(()=>Kn("br",null,null,-1)),M3=Oa(" 4.0\u201310.0 mmol/L "),S3=Kr(()=>Kn("hr",null,null,-1)),E3=Kr(()=>Kn("img",{src:Uh,alt:"Steps icon"},null,-1)),L3={class:"value"},C3=Kr(()=>Kn("h3",null,"Steps",-1)),P3=Oa(" Steps in total "),O3=Kr(()=>Kn("hr",null,null,-1)),I3={key:0,src:kf,alt:"Mood: Positive"},R3={key:1,src:Vh,alt:"Mood: Negative"},D3={class:"value"},z3=Kr(()=>Kn("h3",null,"Mood",-1)),F3=Yu('<hr data-v-ea15e011><div data-v-ea15e011><img src="'+Hh+'" alt="Stars collected" data-v-ea15e011><div class="value" data-v-ea15e011><h3 data-v-ea15e011>Stars collected</h3><p data-v-ea15e011><span data-v-ea15e011>34</span> / 300 stars </p></div></div><hr data-v-ea15e011><div data-v-ea15e011><img src="'+qh+'" alt="Stars collected" data-v-ea15e011><div class="value" data-v-ea15e011><h3 data-v-ea15e011>Activity in groups</h3><p data-v-ea15e011><span data-v-ea15e011>43</span> Actions / week </p></div></div>',4),B3={class:"card"},N3=Kr(()=>Kn("h2",null,"Year",-1)),j3=Kr(()=>Kn("p",{class:"date"},"Mon 21 Jun - Sun 27 Jun",-1)),U3={class:"value"},V3=Kr(()=>Kn("h3",null,"Time in range (TIR)",-1)),H3=Oa(" Target range:"),q3=Kr(()=>Kn("br",null,null,-1)),G3=Oa(" 4.0\u201310.0 mmol/L "),W3=Kr(()=>Kn("hr",null,null,-1)),Y3=Kr(()=>Kn("img",{src:Uh,alt:"Steps icon"},null,-1)),Z3={class:"value"},X3=Kr(()=>Kn("h3",null,"Steps",-1)),K3=Oa(" Steps in total "),J3=Kr(()=>Kn("hr",null,null,-1)),$3={key:0,src:kf,alt:"Mood: Positive"},Q3={key:1,src:Vh,alt:"Mood: Negative"},ew={class:"value"},tw=Kr(()=>Kn("h3",null,"Mood",-1)),nw=Yu('<hr data-v-ea15e011><div data-v-ea15e011><img src="'+Hh+'" alt="Stars collected" data-v-ea15e011><div class="value" data-v-ea15e011><h3 data-v-ea15e011>Stars collected</h3><p data-v-ea15e011><span data-v-ea15e011>34</span> / 300 stars </p></div></div><hr data-v-ea15e011><div data-v-ea15e011><img src="'+qh+'" alt="Stars collected" data-v-ea15e011><div class="value" data-v-ea15e011><h3 data-v-ea15e011>Activity in groups</h3><p data-v-ea15e011><span data-v-ea15e011>43</span> Actions / week </p></div></div>',4),rw=Yu('<div class="patient__overview" data-v-ea15e011><h2 data-v-ea15e011>Overview</h2><div data-v-ea15e011><div class="card patient__overview__average-glucose" data-v-ea15e011><h3 data-v-ea15e011>Average glucose value</h3><div class="patient__overview__average-glucose__items" data-v-ea15e011><div data-v-ea15e011><h4 data-v-ea15e011>Daily</h4><div data-v-ea15e011><p data-v-ea15e011><span data-v-ea15e011>188</span><br data-v-ea15e011>mg/dL</p></div></div><div data-v-ea15e011><h4 data-v-ea15e011>Weekly</h4><div data-v-ea15e011><p data-v-ea15e011><span data-v-ea15e011>179</span><br data-v-ea15e011>mg/dL</p></div></div><div data-v-ea15e011><h4 data-v-ea15e011>Monthly</h4><div data-v-ea15e011><p data-v-ea15e011><span data-v-ea15e011>188</span><br data-v-ea15e011>mg/dL</p></div></div><div data-v-ea15e011><h4 data-v-ea15e011>Yearly</h4><div data-v-ea15e011><p data-v-ea15e011><span data-v-ea15e011>179</span><br data-v-ea15e011>mg/dL</p></div></div></div></div><div class="card patient__overview__time-in-range" data-v-ea15e011><h3 data-v-ea15e011>Weekly Time in Range</h3><img src="'+p_+'" alt="Weekly time in range" data-v-ea15e011><p data-v-ea15e011>Week from Mon 21 Jun to Sun 27 Jun</p></div></div></div>',1),iw={class:"patient__timeline"},aw=Kr(()=>Kn("h2",null,"Timeline view",-1)),ow={class:"card"},sw={ref:"plot"},lw=Yu('<div class="patient__timeline__cards" data-v-ea15e011><div data-v-ea15e011><h3 data-v-ea15e011>Short-acting insulin total</h3><p data-v-ea15e011><span data-v-ea15e011>20 U</span><br data-v-ea15e011>Long-acting: Tresiba</p></div><div data-v-ea15e011><h3 data-v-ea15e011>Long-acting insulin total</h3><p data-v-ea15e011><span data-v-ea15e011>25 U</span><br data-v-ea15e011>Long-acting: Tresiba</p></div><div data-v-ea15e011><h3 data-v-ea15e011>Time in range (TIR)</h3><p data-v-ea15e011><span data-v-ea15e011>46%</span></p></div><div data-v-ea15e011><h3 data-v-ea15e011>Average glucose value</h3><div class="patient__timeline__cards__average-glucose" data-v-ea15e011><img src="'+kf+'" alt="Average glucose value: Positive" data-v-ea15e011><p data-v-ea15e011><span data-v-ea15e011>12.8</span><br data-v-ea15e011>mmol/L</p></div></div><div data-v-ea15e011><ul data-v-ea15e011><li class="glucose-reading" data-v-ea15e011>Glucose reading</li><li class="fast-acting-insulin" data-v-ea15e011>Fast-acting insulin</li><li class="long-acting-insulin" data-v-ea15e011>Long-acting insulin</li><li class="notifications" data-v-ea15e011>Notifications</li><li class="calories-burned" data-v-ea15e011>Calories burned</li></ul></div></div>',1),uw={mounted(){this.$refs.plot&&this.createPlot()},updated(){this.$refs.plot&&this.createPlot()},methods:{createPlot(){const be={id:"overall-graph",config:{displayModeBar:!1,displaylogo:!1},figure:{data:[{hovertemplate:"Glucose value : %{y:.1f} mmol/L<extra></extra>",marker:{color:"#0064FF",size:5},mode:"markers",showlegend:!1,x:["2022-10-06T23:56:05+03:00","2022-10-06T23:51:05+03:00","2022-10-06T23:46:05+03:00","2022-10-06T23:41:05+03:00","2022-10-06T23:36:05+03:00","2022-10-06T23:31:05+03:00","2022-10-06T23:26:05+03:00","2022-10-06T23:21:05+03:00","2022-10-06T23:16:05+03:00","2022-10-06T23:11:05+03:00","2022-10-06T23:06:05+03:00","2022-10-06T23:01:04+03:00","2022-10-06T22:56:05+03:00","2022-10-06T22:51:05+03:00","2022-10-06T22:46:05+03:00","2022-10-06T22:41:05+03:00","2022-10-06T22:36:05+03:00","2022-10-06T22:31:05+03:00","2022-10-06T22:26:05+03:00","2022-10-06T22:21:05+03:00","2022-10-06T22:16:05+03:00","2022-10-06T22:11:05+03:00","2022-10-06T22:06:05+03:00","2022-10-06T22:01:04+03:00","2022-10-06T21:56:04+03:00","2022-10-06T21:51:04+03:00","2022-10-06T21:46:04+03:00","2022-10-06T21:41:05+03:00","2022-10-06T21:36:04+03:00","2022-10-06T21:31:05+03:00","2022-10-06T21:26:05+03:00","2022-10-06T21:21:04+03:00","2022-10-06T21:16:05+03:00","2022-10-06T21:11:05+03:00","2022-10-06T21:06:04+03:00","2022-10-06T21:01:04+03:00","2022-10-06T20:56:04+03:00","2022-10-06T20:51:04+03:00","2022-10-06T20:46:05+03:00","2022-10-06T20:41:04+03:00","2022-10-06T20:36:04+03:00","2022-10-06T20:31:04+03:00","2022-10-06T20:26:04+03:00","2022-10-06T20:21:04+03:00","2022-10-06T20:16:04+03:00","2022-10-06T20:11:04+03:00","2022-10-06T20:06:04+03:00","2022-10-06T20:01:05+03:00","2022-10-06T19:56:05+03:00","2022-10-06T19:51:04+03:00","2022-10-06T19:46:04+03:00","2022-10-06T19:41:04+03:00","2022-10-06T19:36:04+03:00","2022-10-06T19:31:04+03:00","2022-10-06T19:26:04+03:00","2022-10-06T19:21:04+03:00","2022-10-06T19:16:04+03:00","2022-10-06T19:11:04+03:00","2022-10-06T19:06:04+03:00","2022-10-06T19:01:04+03:00","2022-10-06T18:56:04+03:00","2022-10-06T18:51:04+03:00","2022-10-06T18:46:04+03:00","2022-10-06T18:41:04+03:00","2022-10-06T18:36:04+03:00","2022-10-06T18:31:04+03:00","2022-10-06T18:26:04+03:00","2022-10-06T18:21:04+03:00","2022-10-06T18:16:04+03:00","2022-10-06T18:11:04+03:00","2022-10-06T18:06:04+03:00","2022-10-06T18:01:04+03:00","2022-10-06T17:56:04+03:00","2022-10-06T17:51:04+03:00","2022-10-06T17:46:04+03:00","2022-10-06T17:41:04+03:00","2022-10-06T17:36:04+03:00","2022-10-06T17:31:04+03:00","2022-10-06T17:26:04+03:00","2022-10-06T17:21:04+03:00","2022-10-06T17:16:04+03:00","2022-10-06T17:11:04+03:00","2022-10-06T17:06:04+03:00","2022-10-06T17:01:04+03:00","2022-10-06T16:56:04+03:00","2022-10-06T16:51:04+03:00","2022-10-06T16:46:04+03:00","2022-10-06T16:41:04+03:00","2022-10-06T16:36:04+03:00","2022-10-06T16:31:04+03:00","2022-10-06T16:26:04+03:00","2022-10-06T16:21:04+03:00","2022-10-06T16:16:04+03:00","2022-10-06T16:11:04+03:00","2022-10-06T16:06:04+03:00","2022-10-06T16:01:04+03:00","2022-10-06T15:56:04+03:00","2022-10-06T15:51:04+03:00","2022-10-06T15:46:03+03:00","2022-10-06T15:41:04+03:00","2022-10-06T15:36:04+03:00","2022-10-06T15:31:04+03:00","2022-10-06T15:26:04+03:00","2022-10-06T15:21:04+03:00","2022-10-06T15:16:04+03:00","2022-10-06T15:11:03+03:00","2022-10-06T15:06:04+03:00","2022-10-06T15:01:04+03:00","2022-10-06T14:56:04+03:00","2022-10-06T14:51:04+03:00","2022-10-06T14:46:04+03:00","2022-10-06T14:41:04+03:00","2022-10-06T14:36:04+03:00","2022-10-06T14:31:03+03:00","2022-10-06T14:26:04+03:00","2022-10-06T14:21:04+03:00","2022-10-06T14:16:04+03:00","2022-10-06T14:11:03+03:00","2022-10-06T14:06:03+03:00","2022-10-06T14:01:03+03:00","2022-10-06T13:56:03+03:00","2022-10-06T13:51:03+03:00","2022-10-06T13:46:03+03:00","2022-10-06T13:41:04+03:00","2022-10-06T13:36:04+03:00","2022-10-06T13:31:04+03:00","2022-10-06T13:26:04+03:00","2022-10-06T13:21:03+03:00","2022-10-06T13:16:03+03:00","2022-10-06T13:11:03+03:00","2022-10-06T13:06:03+03:00","2022-10-06T13:01:03+03:00","2022-10-06T12:56:04+03:00","2022-10-06T12:51:03+03:00","2022-10-06T12:46:04+03:00","2022-10-06T12:41:03+03:00","2022-10-06T12:36:03+03:00","2022-10-06T12:31:03+03:00","2022-10-06T12:26:03+03:00","2022-10-06T12:21:03+03:00","2022-10-06T12:16:03+03:00","2022-10-06T12:11:04+03:00","2022-10-06T12:06:04+03:00","2022-10-06T12:01:04+03:00","2022-10-06T11:56:03+03:00","2022-10-06T11:51:03+03:00","2022-10-06T11:46:03+03:00","2022-10-06T11:41:03+03:00","2022-10-06T11:36:04+03:00","2022-10-06T11:31:04+03:00","2022-10-06T11:26:04+03:00","2022-10-06T11:21:04+03:00","2022-10-06T11:16:04+03:00","2022-10-06T11:11:04+03:00","2022-10-06T11:06:04+03:00","2022-10-06T11:01:03+03:00","2022-10-06T10:56:03+03:00","2022-10-06T10:51:03+03:00","2022-10-06T10:46:03+03:00","2022-10-06T10:41:03+03:00","2022-10-06T10:36:03+03:00","2022-10-06T10:31:03+03:00","2022-10-06T10:26:03+03:00","2022-10-06T10:21:03+03:00","2022-10-06T10:16:03+03:00","2022-10-06T10:11:03+03:00","2022-10-06T10:06:03+03:00","2022-10-06T10:01:03+03:00","2022-10-06T09:56:03+03:00","2022-10-06T09:51:03+03:00","2022-10-06T09:46:03+03:00","2022-10-06T09:41:03+03:00","2022-10-06T09:36:03+03:00","2022-10-06T09:31:03+03:00","2022-10-06T09:26:03+03:00","2022-10-06T09:21:03+03:00","2022-10-06T09:16:03+03:00","2022-10-06T09:11:03+03:00","2022-10-06T09:06:03+03:00","2022-10-06T09:01:03+03:00","2022-10-06T08:56:03+03:00","2022-10-06T08:51:03+03:00","2022-10-06T08:46:03+03:00","2022-10-06T08:41:03+03:00","2022-10-06T08:36:03+03:00","2022-10-06T08:31:03+03:00","2022-10-06T08:26:03+03:00","2022-10-06T08:21:03+03:00","2022-10-06T08:16:03+03:00","2022-10-06T08:11:03+03:00","2022-10-06T08:06:03+03:00","2022-10-06T08:01:03+03:00","2022-10-06T07:56:03+03:00","2022-10-06T07:51:03+03:00","2022-10-06T07:46:03+03:00","2022-10-06T07:41:02+03:00","2022-10-06T07:36:03+03:00","2022-10-06T07:31:03+03:00","2022-10-06T07:26:03+03:00","2022-10-06T07:21:03+03:00","2022-10-06T07:16:02+03:00","2022-10-06T07:11:03+03:00","2022-10-06T07:06:03+03:00","2022-10-06T07:01:03+03:00","2022-10-06T06:56:03+03:00","2022-10-06T06:51:03+03:00","2022-10-06T06:46:02+03:00","2022-10-06T06:41:03+03:00","2022-10-06T06:36:03+03:00","2022-10-06T06:31:02+03:00","2022-10-06T06:26:03+03:00","2022-10-06T06:21:02+03:00","2022-10-06T06:16:02+03:00","2022-10-06T06:11:03+03:00","2022-10-06T06:06:02+03:00","2022-10-06T06:01:03+03:00","2022-10-06T05:56:04+03:00","2022-10-06T05:51:04+03:00","2022-10-06T05:46:03+03:00","2022-10-06T05:41:03+03:00","2022-10-06T05:36:03+03:00","2022-10-06T05:31:04+03:00","2022-10-06T05:26:03+03:00","2022-10-06T05:21:03+03:00","2022-10-06T05:16:03+03:00","2022-10-06T05:11:04+03:00","2022-10-06T05:06:04+03:00","2022-10-06T05:01:04+03:00","2022-10-06T04:56:03+03:00","2022-10-06T04:51:04+03:00","2022-10-06T04:46:03+03:00","2022-10-06T04:41:03+03:00","2022-10-06T04:36:04+03:00","2022-10-06T04:31:03+03:00","2022-10-06T04:26:03+03:00","2022-10-06T04:21:03+03:00","2022-10-06T04:16:03+03:00","2022-10-06T04:11:03+03:00","2022-10-06T04:06:03+03:00","2022-10-06T04:01:03+03:00","2022-10-06T03:56:03+03:00","2022-10-06T03:51:03+03:00","2022-10-06T03:46:03+03:00","2022-10-06T03:41:03+03:00","2022-10-06T03:36:03+03:00","2022-10-06T03:31:03+03:00","2022-10-06T03:26:04+03:00","2022-10-06T03:21:04+03:00","2022-10-06T03:16:03+03:00","2022-10-06T03:11:03+03:00","2022-10-06T03:06:03+03:00","2022-10-06T03:01:03+03:00","2022-10-06T02:56:03+03:00","2022-10-06T02:51:03+03:00","2022-10-06T02:46:03+03:00","2022-10-06T02:41:04+03:00","2022-10-06T02:36:03+03:00","2022-10-06T02:31:03+03:00","2022-10-06T02:26:03+03:00","2022-10-06T02:21:03+03:00","2022-10-06T02:16:03+03:00","2022-10-06T02:11:03+03:00","2022-10-06T02:06:03+03:00","2022-10-06T02:01:03+03:00","2022-10-06T01:56:03+03:00","2022-10-06T01:51:03+03:00","2022-10-06T01:46:03+03:00","2022-10-06T01:41:03+03:00","2022-10-06T01:36:03+03:00","2022-10-06T01:31:03+03:00","2022-10-06T01:26:03+03:00","2022-10-06T01:21:03+03:00","2022-10-06T01:16:03+03:00","2022-10-06T01:11:03+03:00","2022-10-06T01:06:03+03:00","2022-10-06T01:01:03+03:00","2022-10-06T00:56:03+03:00","2022-10-06T00:51:02+03:00","2022-10-06T00:46:02+03:00","2022-10-06T00:41:03+03:00","2022-10-06T00:36:02+03:00","2022-10-06T00:31:02+03:00","2022-10-06T00:26:03+03:00","2022-10-06T00:21:03+03:00","2022-10-06T00:16:03+03:00","2022-10-06T00:11:03+03:00","2022-10-06T00:06:03+03:00","2022-10-06T00:01:03+03:00"],y:[6,5.666666666666667,5.611111111111111,5.388888888888889,5.388888888888889,5.5,5.444444444444445,5.111111111111111,5.333333333333333,4.888888888888889,4.666666666666667,4.611111111111111,4.666666666666667,4.722222222222222,4.777777777777778,5,5.166666666666667,5.055555555555555,5.222222222222222,5.5,5.333333333333333,5.555555555555555,5.611111111111111,5.777777777777778,6.055555555555555,6.166666666666667,5.777777777777778,5.333333333333333,4.611111111111111,4.555555555555555,5.166666666666667,5.277777777777778,4.388888888888889,4,4.111111111111111,4.277777777777778,4.333333333333333,4.277777777777778,4.166666666666667,3.888888888888889,3.8333333333333335,3.7222222222222223,3.611111111111111,3.611111111111111,3.7222222222222223,3.9444444444444446,4.111111111111111,4.277777777777778,4.555555555555555,5.111111111111111,6,6.666666666666667,7.222222222222222,7.666666666666667,7.388888888888889,6.888888888888889,6.833333333333333,6.944444444444445,7.111111111111111,7.222222222222222,7.555555555555555,7.555555555555555,7.777777777777778,7.833333333333333,7.833333333333333,7.333333333333333,7.277777777777778,6.722222222222222,5.722222222222222,5.388888888888889,4.444444444444445,4.277777777777778,4.222222222222222,4,3.7222222222222223,3.8333333333333335,4.222222222222222,4.5,4.555555555555555,4.666666666666667,4.333333333333333,4.222222222222222,4.222222222222222,4.722222222222222,4.944444444444445,5.5,5.777777777777778,5.611111111111111,5.5,5.388888888888889,5.166666666666667,5.055555555555555,5.166666666666667,5.444444444444445,5.5,4.722222222222222,4.277777777777778,4.444444444444445,5,5.388888888888889,5.666666666666667,6.166666666666667,6.444444444444445,6.333333333333333,6.222222222222222,6.055555555555555,5.944444444444445,5.888888888888889,5.944444444444445,6.277777777777778,6.5,6.444444444444445,6.222222222222222,5.944444444444445,5.944444444444445,5.833333333333333,5.666666666666667,5.611111111111111,5.833333333333333,6,5.833333333333333,5.722222222222222,5.833333333333333,5.666666666666667,6,6.555555555555555,6.777777777777778,6.944444444444445,7.222222222222222,7.444444444444445,7.944444444444445,8,8.166666666666666,7.666666666666667,7,6.444444444444445,5.944444444444445,5.666666666666667,5.555555555555555,5.444444444444445,5.388888888888889,5.333333333333333,5.388888888888889,5.555555555555555,5.722222222222222,5.777777777777778,5.777777777777778,5.777777777777778,6,5.944444444444445,5.833333333333333,5.833333333333333,5.777777777777778,5.722222222222222,5.888888888888889,5.777777777777778,5.722222222222222,5.666666666666667,5.666666666666667,5.611111111111111,5.611111111111111,5.555555555555555,5.5,5.5,5.5,5.555555555555555,5.555555555555555,5.611111111111111,5.555555555555555,5.555555555555555,5.555555555555555,5.611111111111111,5.611111111111111,5.5,5.333333333333333,5.388888888888889,5.555555555555555,5.722222222222222,5.888888888888889,5.722222222222222,5.555555555555555,5.388888888888889,5.333333333333333,5.333333333333333,5.444444444444445,5.611111111111111,5.888888888888889,6.055555555555555,6.166666666666667,6.222222222222222,6.055555555555555,6.111111111111111,6.055555555555555,5.833333333333333,5.333333333333333,5.111111111111111,5,5,4.944444444444445,4.722222222222222,4.5,4.277777777777778,4.388888888888889,4.833333333333333,5.777777777777778,6.111111111111111,6.055555555555555,5.888888888888889,5.5,5.722222222222222,5.833333333333333,5.555555555555555,5.611111111111111,5.5,5.277777777777778,5,4.944444444444445,5.611111111111111,5.722222222222222,5.722222222222222,5.611111111111111,4.944444444444445,5.444444444444445,6.166666666666667,6.5,6.166666666666667,5.944444444444445,5.888888888888889,5.888888888888889,5.833333333333333,5.777777777777778,5.777777777777778,5.777777777777778,5.777777777777778,5.777777777777778,5.777777777777778,5.611111111111111,5.833333333333333,6.555555555555555,6.5,6.5,6.611111111111111,6.722222222222222,6.666666666666667,6.388888888888889,5.055555555555555,4.833333333333333,5.611111111111111,5.444444444444445,5.444444444444445,5.277777777777778,4.777777777777778,5.111111111111111,6.055555555555555,6.111111111111111,6.055555555555555,6.111111111111111,6.222222222222222,6.444444444444445,5.666666666666667,5.166666666666667,4.5,4.5,4.444444444444445,4.333333333333333,4.611111111111111,4.888888888888889,5.055555555555555,5.222222222222222,5.5,5.666666666666667,6,6.222222222222222,6.333333333333333,6.388888888888889,6.833333333333333,7.111111111111111,7.444444444444445,7.555555555555555,7.555555555555555,7.277777777777778,6.833333333333333,6.833333333333333,6.222222222222222,6.666666666666667,6.888888888888889,6.611111111111111,6.888888888888889],yaxis:"y",type:"scatter"},{customdata:[[5],[5]],hovertemplate:"Fast-acting dose : %{customdata[0]} U<extra></extra>",marker:{color:"#27865E",size:24},mode:"markers",x:["2022-10-06T08:00:00+03:00","2022-10-06T12:00:00+03:00"],y:[6.21111111111111,5.655555555555555],yaxis:"y",type:"scatter"},{customdata:[[9],[8]],hovertemplate:"Long-acting dose : %{customdata[0]} U<extra></extra>",marker:{color:"#E50051",size:24},mode:"markers",x:["2022-10-06T07:40:00+03:00","2022-10-06T11:40:00+03:00"],y:[5.21111111111111,5.877777777777777],yaxis:"y",type:"scatter"},{customdata:[[[3]],[[1]],[[3]],[[4]],[[3]],[[3]],[[3]],[[4]],[[1]],[[4]],[[2]],[[4]],[[3]],[[3]],[[5]],[[3]],[[2]],[[4]],[[1]],[[4]],[[3]],[[2]],[[2]],[[13]],[[4]]],hovertemplate:"Activity : %{customdata[0]} cal<extra></extra>",marker:{color:"rgba(0, 100, 255, 0.5)"},width:102e4,x:["2022-10-06T09:20:00+03:00","2022-10-06T09:40:00+03:00","2022-10-06T10:00:00+03:00","2022-10-06T10:20:00+03:00","2022-10-06T10:40:00+03:00","2022-10-06T11:00:00+03:00","2022-10-06T11:20:00+03:00","2022-10-06T11:40:00+03:00","2022-10-06T12:00:00+03:00","2022-10-06T12:20:00+03:00","2022-10-06T12:40:00+03:00","2022-10-06T13:00:00+03:00","2022-10-06T13:20:00+03:00","2022-10-06T13:40:00+03:00","2022-10-06T14:00:00+03:00","2022-10-06T14:20:00+03:00","2022-10-06T14:40:00+03:00","2022-10-06T15:00:00+03:00","2022-10-06T16:20:00+03:00","2022-10-06T16:40:00+03:00","2022-10-06T17:00:00+03:00","2022-10-06T17:20:00+03:00","2022-10-06T17:40:00+03:00","2022-10-06T19:40:00+03:00","2022-10-06T21:00:00+03:00"],y:[0,0,0,0,0,0,0,1,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,2,1],yaxis:"y2",type:"bar"}],layout:{template:{data:{histogram2dcontour:[{type:"histogram2dcontour",colorbar:{outlinewidth:0,ticks:""},colorscale:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],choropleth:[{type:"choropleth",colorbar:{outlinewidth:0,ticks:""}}],histogram2d:[{type:"histogram2d",colorbar:{outlinewidth:0,ticks:""},colorscale:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],heatmap:[{type:"heatmap",colorbar:{outlinewidth:0,ticks:""},colorscale:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],heatmapgl:[{type:"heatmapgl",colorbar:{outlinewidth:0,ticks:""},colorscale:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],contourcarpet:[{type:"contourcarpet",colorbar:{outlinewidth:0,ticks:""}}],contour:[{type:"contour",colorbar:{outlinewidth:0,ticks:""},colorscale:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],surface:[{type:"surface",colorbar:{outlinewidth:0,ticks:""},colorscale:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]]}],mesh3d:[{type:"mesh3d",colorbar:{outlinewidth:0,ticks:""}}],scatter:[{fillpattern:{fillmode:"overlay",size:10,solidity:.2},type:"scatter"}],parcoords:[{type:"parcoords",line:{colorbar:{outlinewidth:0,ticks:""}}}],scatterpolargl:[{type:"scatterpolargl",marker:{colorbar:{outlinewidth:0,ticks:""}}}],bar:[{error_x:{color:"#2a3f5f"},error_y:{color:"#2a3f5f"},marker:{line:{color:"#E5ECF6",width:.5},pattern:{fillmode:"overlay",size:10,solidity:.2}},type:"bar"}],scattergeo:[{type:"scattergeo",marker:{colorbar:{outlinewidth:0,ticks:""}}}],scatterpolar:[{type:"scatterpolar",marker:{colorbar:{outlinewidth:0,ticks:""}}}],histogram:[{marker:{pattern:{fillmode:"overlay",size:10,solidity:.2}},type:"histogram"}],scattergl:[{type:"scattergl",marker:{colorbar:{outlinewidth:0,ticks:""}}}],scatter3d:[{type:"scatter3d",line:{colorbar:{outlinewidth:0,ticks:""}},marker:{colorbar:{outlinewidth:0,ticks:""}}}],scattermapbox:[{type:"scattermapbox",marker:{colorbar:{outlinewidth:0,ticks:""}}}],scatterternary:[{type:"scatterternary",marker:{colorbar:{outlinewidth:0,ticks:""}}}],scattercarpet:[{type:"scattercarpet",marker:{colorbar:{outlinewidth:0,ticks:""}}}],carpet:[{aaxis:{endlinecolor:"#2a3f5f",gridcolor:"white",linecolor:"white",minorgridcolor:"white",startlinecolor:"#2a3f5f"},baxis:{endlinecolor:"#2a3f5f",gridcolor:"white",linecolor:"white",minorgridcolor:"white",startlinecolor:"#2a3f5f"},type:"carpet"}],table:[{cells:{fill:{color:"#EBF0F8"},line:{color:"white"}},header:{fill:{color:"#C8D4E3"},line:{color:"white"}},type:"table"}],barpolar:[{marker:{line:{color:"#E5ECF6",width:.5},pattern:{fillmode:"overlay",size:10,solidity:.2}},type:"barpolar"}],pie:[{automargin:!0,type:"pie"}]},layout:{autotypenumbers:"strict",colorway:["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],font:{color:"#2a3f5f"},hovermode:"closest",hoverlabel:{align:"left"},paper_bgcolor:"white",plot_bgcolor:"#E5ECF6",polar:{bgcolor:"#E5ECF6",angularaxis:{gridcolor:"white",linecolor:"white",ticks:""},radialaxis:{gridcolor:"white",linecolor:"white",ticks:""}},ternary:{bgcolor:"#E5ECF6",aaxis:{gridcolor:"white",linecolor:"white",ticks:""},baxis:{gridcolor:"white",linecolor:"white",ticks:""},caxis:{gridcolor:"white",linecolor:"white",ticks:""}},coloraxis:{colorbar:{outlinewidth:0,ticks:""}},colorscale:{sequential:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]],sequentialminus:[[0,"#0d0887"],[.1111111111111111,"#46039f"],[.2222222222222222,"#7201a8"],[.3333333333333333,"#9c179e"],[.4444444444444444,"#bd3786"],[.5555555555555556,"#d8576b"],[.6666666666666666,"#ed7953"],[.7777777777777778,"#fb9f3a"],[.8888888888888888,"#fdca26"],[1,"#f0f921"]],diverging:[[0,"#8e0152"],[.1,"#c51b7d"],[.2,"#de77ae"],[.3,"#f1b6da"],[.4,"#fde0ef"],[.5,"#f7f7f7"],[.6,"#e6f5d0"],[.7,"#b8e186"],[.8,"#7fbc41"],[.9,"#4d9221"],[1,"#276419"]]},xaxis:{gridcolor:"white",linecolor:"white",ticks:"",title:{standoff:15},zerolinecolor:"white",automargin:!0,zerolinewidth:2},yaxis:{gridcolor:"white",linecolor:"white",ticks:"",title:{standoff:15},zerolinecolor:"white",automargin:!0,zerolinewidth:2},scene:{xaxis:{backgroundcolor:"#E5ECF6",gridcolor:"white",linecolor:"white",showbackground:!0,ticks:"",zerolinecolor:"white",gridwidth:2},yaxis:{backgroundcolor:"#E5ECF6",gridcolor:"white",linecolor:"white",showbackground:!0,ticks:"",zerolinecolor:"white",gridwidth:2},zaxis:{backgroundcolor:"#E5ECF6",gridcolor:"white",linecolor:"white",showbackground:!0,ticks:"",zerolinecolor:"white",gridwidth:2}},shapedefaults:{line:{color:"#2a3f5f"}},annotationdefaults:{arrowcolor:"#2a3f5f",arrowhead:0,arrowwidth:1},geo:{bgcolor:"white",landcolor:"#E5ECF6",subunitcolor:"white",showland:!0,showlakes:!0,lakecolor:"white"},title:{x:.05},mapbox:{style:"light"}}},uniformtext:{minsize:6,mode:"hide"},font:{family:"Inter"},margin:{t:5,b:5,l:5,r:10},yaxis:{dtick:2,gridcolor:"#E4E4E4",title:{text:"mmol/L"},fixedrange:!0,range:[2.9,20.1]},yaxis2:{matches:"y",tickmode:"array",tickvals:[0,2,4,6,8,10,12,14,16,18,20],ticktext:[0,15,30,45,60,75,90,105,120,135,150],gridcolor:"#E4E4E4",title:{text:"Calories"},fixedrange:!0,anchor:"x",overlaying:"y",side:"right"},barmode:"stack",showlegend:!1,plot_bgcolor:"#FFF",paper_bgcolor:"#FFF",hovermode:"x unified",xaxis:{hoverformat:"%a %e %b %y, %H:%M",range:["2022-10-05T23:36:00+03:00","2022-10-07T00:24:00+03:00"],showgrid:!1,fixedrange:!0,dtick:108e5},shapes:[{fillcolor:"#FFFFFF",layer:"below",line:{width:0},opacity:.7,type:"rect",x0:"2022-10-05T23:36:00+03:00",x1:"2022-10-07T00:24:00+03:00",xref:"x",y0:4,y1:8.166666666666666,yref:"y"},{fillcolor:"#FFFFFF",layer:"below",line:{width:0},opacity:.7,type:"rect",x0:"2022-10-05T23:36:00+03:00",x1:"2022-10-07T00:24:00+03:00",xref:"x",y0:3.011111111111111,y1:10,yref:"y"},{fillcolor:"#E3EDFC",layer:"below",line:{width:0},opacity:.5,type:"rect",x0:"2022-10-05T23:36:00+03:00",x1:"2022-10-07T00:24:00+03:00",xref:"x",y0:10,y1:4,yref:"y"}]}},style:{width:"100%",height:"100%"}};g_.newPlot(this.$refs.plot,be.figure.data,be.figure.layout)}}},cw=Object.assign(uw,{__name:"PatientDetails",props:{activePatient:{type:Object,required:!0}},setup(be){return(Ve,rt)=>be.activePatient?(Si(),Hi("div",__,[qi(b_,{activePatient:be.activePatient},null,8,["activePatient"]),Kn("div",w_,[Kn("div",T_,[k_,Kn("div",{class:Lc(be.activePatient.latestGlucoseTrend)},[Kn("p",null,[Kn("span",null,Ki(be.activePatient.latestGlucoseValue),1),A_,M_])],2),Kn("p",S_,Ki(be.activePatient.latestGlucoseTime),1)]),Kn("div",E_,[L_,Kn("div",null,[Kn("div",null,[C_,Kn("p",null,[Kn("span",null,Ki(be.activePatient.daysWithGcmData),1),P_,O_])]),Kn("div",null,[I_,Kn("p",null,[Kn("span",null,Ki(be.activePatient.avgCalibrationsPerDay),1)])])])])]),Kn("div",R_,[Kn("div",D_,[z_,F_,Kn("div",null,[Kn("div",{class:"tir-graph",style:Hu({background:"radial-gradient( circle closest-side, #fff 0, #fff 77%, transparent 77%, transparent 100%, #fff 0), conic-gradient( from 180deg, #a04cbe 0, #a04cbe "+(100-be.activePatient.timeInRange.last24Hours)*.25+"%, #710f95 0, #710f95 "+(100-be.activePatient.timeInRange.last24Hours)*.5+"%, #cce0ff 0, #cce0ff "+((100-be.activePatient.timeInRange.last24Hours)*.5+ +be.activePatient.timeInRange.last24Hours)+"%, #c79a00 0, #c79a00 "+((100-be.activePatient.timeInRange.last24Hours)*.75+ +be.activePatient.timeInRange.last24Hours)+"%, #ffca28 0, #ffca28 100%)"})},null,4),Kn("div",B_,[N_,Kn("p",null,[Kn("span",null,Ki(be.activePatient.timeInRange.last24Hours)+"%",1),j_,U_,V_])])]),H_,Kn("div",null,[q_,Kn("div",G_,[W_,Kn("p",null,[Kn("span",null,Ki(be.activePatient.steps.last24Hours),1),Y_])])]),Z_,Kn("div",null,[be.activePatient.moodAverage.last24Hours==="Positive"?(Si(),Hi("img",X_)):(Si(),Hi("img",K_)),Kn("div",J_,[$_,Kn("p",null,[Kn("span",null,Ki(be.activePatient.mood.last24Hours)+"%",1),Oa(" "+Ki(be.activePatient.moodAverage.last24Hours)+" on average ",1)])])]),Q_]),Kn("div",e3,[t3,n3,Kn("div",null,[Kn("div",{class:"tir-graph",style:Hu({background:"radial-gradient( circle closest-side, #fff 0, #fff 77%, transparent 77%, transparent 100%, #fff 0), conic-gradient( from 180deg, #a04cbe 0, #a04cbe "+(100-be.activePatient.timeInRange.week)*.25+"%, #710f95 0, #710f95 "+(100-be.activePatient.timeInRange.week)*.5+"%, #cce0ff 0, #cce0ff "+((100-be.activePatient.timeInRange.week)*.5+ +be.activePatient.timeInRange.week)+"%, #c79a00 0, #c79a00 "+((100-be.activePatient.timeInRange.week)*.75+ +be.activePatient.timeInRange.week)+"%, #ffca28 0, #ffca28 100%)"})},null,4),Kn("div",r3,[i3,Kn("p",null,[Kn("span",null,Ki(be.activePatient.timeInRange.week)+"%",1),a3,o3,s3])])]),l3,Kn("div",null,[u3,Kn("div",c3,[f3,Kn("p",null,[Kn("span",null,Ki(be.activePatient.steps.week),1),h3])])]),p3,Kn("div",null,[be.activePatient.moodAverage.week==="Positive"?(Si(),Hi("img",d3)):(Si(),Hi("img",g3)),Kn("div",v3,[m3,Kn("p",null,[Kn("span",null,Ki(be.activePatient.mood.week)+"%",1),Oa(" "+Ki(be.activePatient.moodAverage.week)+" on average ",1)])])]),y3]),Kn("div",x3,[b3,_3,Kn("div",null,[Kn("div",{class:"tir-graph",style:Hu({background:"radial-gradient( circle closest-side, #fff 0, #fff 77%, transparent 77%, transparent 100%, #fff 0), conic-gradient( from 180deg, #a04cbe 0, #a04cbe "+(100-be.activePatient.timeInRange.month)*.25+"%, #710f95 0, #710f95 "+(100-be.activePatient.timeInRange.month)*.5+"%, #cce0ff 0, #cce0ff "+((100-be.activePatient.timeInRange.month)*.5+ +be.activePatient.timeInRange.month)+"%, #c79a00 0, #c79a00 "+((100-be.activePatient.timeInRange.month)*.75+ +be.activePatient.timeInRange.month)+"%, #ffca28 0, #ffca28 100%)"})},null,4),Kn("div",w3,[T3,Kn("p",null,[Kn("span",null,Ki(be.activePatient.timeInRange.month)+"%",1),k3,A3,M3])])]),S3,Kn("div",null,[E3,Kn("div",L3,[C3,Kn("p",null,[Kn("span",null,Ki(be.activePatient.steps.month),1),P3])])]),O3,Kn("div",null,[be.activePatient.moodAverage.month==="Positive"?(Si(),Hi("img",I3)):(Si(),Hi("img",R3)),Kn("div",D3,[z3,Kn("p",null,[Kn("span",null,Ki(be.activePatient.mood.month)+"%",1),Oa(" "+Ki(be.activePatient.moodAverage.month)+" on average ",1)])])]),F3]),Kn("div",B3,[N3,j3,Kn("div",null,[Kn("div",{class:"tir-graph",style:Hu({background:"radial-gradient( circle closest-side, #fff 0, #fff 77%, transparent 77%, transparent 100%, #fff 0), conic-gradient( from 180deg, #a04cbe 0, #a04cbe "+(100-be.activePatient.timeInRange.month)*.25+"%, #710f95 0, #710f95 "+(100-be.activePatient.timeInRange.month)*.5+"%, #cce0ff 0, #cce0ff "+((100-be.activePatient.timeInRange.month)*.5+ +be.activePatient.timeInRange.month)+"%, #c79a00 0, #c79a00 "+((100-be.activePatient.timeInRange.month)*.75+ +be.activePatient.timeInRange.month)+"%, #ffca28 0, #ffca28 100%)"})},null,4),Kn("div",U3,[V3,Kn("p",null,[Kn("span",null,Ki(be.activePatient.timeInRange.month)+"%",1),H3,q3,G3])])]),W3,Kn("div",null,[Y3,Kn("div",Z3,[X3,Kn("p",null,[Kn("span",null,Ki(be.activePatient.steps.month),1),K3])])]),J3,Kn("div",null,[be.activePatient.moodAverage.month==="Positive"?(Si(),Hi("img",$3)):(Si(),Hi("img",Q3)),Kn("div",ew,[tw,Kn("p",null,[Kn("span",null,Ki(be.activePatient.mood.month)+"%",1),Oa(" "+Ki(be.activePatient.moodAverage.month)+" on average ",1)])])]),nw])]),rw,Kn("div",iw,[aw,Kn("div",ow,[Kn("div",sw,null,512),lw])])])):Gu("",!0)}}),Mv=Rc(cw,[["__scopeId","data-v-ea15e011"]]),fw="/modal-share-with-doctor.png",hw="/modal-csv.png",pw="/modal-contact-doctor.png";const dw={class:"modal"},gw={class:"modal__top"},vw=["innerHTML"],mw=["alt"],yw=["alt"],xw=["alt"],bw={key:3,style:{width:"700px"}},_w={__name:"Modal",setup(be){const Ve=Av(),rt={shareWithDoctor:"Share with doctor",csvReports:"CSV Reports",contactDoctor:"Contact Doctor",settings:"Settings"};return(gt,kt)=>Yi(Ve).activeModal?(Si(),Hi("div",{key:0,onClick:kt[1]||(kt[1]=Dx(Y=>Yi(Ve).changeModal(null),["self"])),class:"modal-overlay"},[Kn("div",dw,[Kn("div",gw,[Kn("h2",{innerHTML:rt[Yi(Ve).activeModal]},null,8,vw),Kn("button",{onClick:kt[0]||(kt[0]=Y=>Yi(Ve).changeModal(null)),"aria-label":"Close modal"})]),Yi(Ve).activeModal==="shareWithDoctor"?(Si(),Hi("img",{key:0,src:fw,alt:rt[Yi(Ve).activeModal]},null,8,mw)):Yi(Ve).activeModal==="csvReports"?(Si(),Hi("img",{key:1,src:hw,alt:rt[Yi(Ve).activeModal]},null,8,yw)):Yi(Ve).activeModal==="contactDoctor"?(Si(),Hi("img",{key:2,src:pw,alt:rt[Yi(Ve).activeModal]},null,8,xw)):Yi(Ve).activeModal==="settings"?(Si(),Hi("p",bw,"Patient settings can be edited here.")):Gu("",!0)])])):Gu("",!0)}},Sv=Rc(_w,[["__scopeId","data-v-9eeeb1d1"]]),ww={key:1},Tw={data(){return{activePatient:null,patients:[{id:1,name:"Erica Svejderud",gender:"Female",age:"10",status:"Needs to be contacted",image:"/Profile-1.png",latestGlucoseValue:"278",latestGlucoseTime:"5 min ago",latestGlucoseTrend:"up",latestInsulinDose:"2 weeks ago",timeInRange:{last24Hours:"30",week:"40",month:"45"},steps:{last24Hours:"2,215",week:"4,322",month:"2,956"},mood:{last24Hours:"55",week:"52",month:"59"},moodAverage:{last24Hours:"Negative",week:"Positive",month:"Negative"},daysWithGcmData:"64%",avgCalibrationsPerDay:1.2},{id:2,name:"Jakob Smedhagen",gender:"Male",age:"12",status:"Needs to be contacted",image:"/Profile.png",latestGlucoseValue:"258",latestGlucoseTime:"20 min ago",latestGlucoseTrend:"up",latestInsulinDose:"1 week ago",timeInRange:{last24Hours:"50",week:"30",month:"35"},steps:{last24Hours:"3,215",week:"9,322",month:"22,956"},mood:{last24Hours:"65",week:"72",month:"69"},moodAverage:{last24Hours:"Negative",week:"Positive",month:"Negative"},daysWithGcmData:"32%",avgCalibrationsPerDay:2.1},{id:3,name:"Tobias Gerhardsson",gender:"Male",age:"7",status:"Good",image:"/Profile.png",latestGlucoseValue:"123",latestGlucoseTime:"3 min ago",latestGlucoseTrend:"same",latestInsulinDose:"3 weeks ago",timeInRange:{last24Hours:"67",week:"72",month:"70"},steps:{last24Hours:"4,480",week:"7,389",month:"8,711"},mood:{last24Hours:"66",week:"82",month:"80"},moodAverage:{last24Hours:"Positive",week:"Positive",month:"Positive"},daysWithGcmData:"84%",avgCalibrationsPerDay:3.7},{id:4,name:"Cecilia Bingert",gender:"Female",age:"14",status:"Good",image:"/Profile-2.png",latestGlucoseValue:"123",latestGlucoseTime:"3 min ago",latestGlucoseTrend:"same",latestInsulinDose:"3 weeks ago",timeInRange:{last24Hours:"67",week:"72",month:"70"},steps:{last24Hours:"4,480",week:"7,389",month:"8,711"},mood:{last24Hours:"66",week:"82",month:"80"},moodAverage:{last24Hours:"Positive",week:"Positive",month:"Positive"},daysWithGcmData:"22%",avgCalibrationsPerDay:.95},{id:5,name:"Linn Marcusson",gender:"Female",age:"11",status:"Good",image:"/Profile-1.png",latestGlucoseValue:"123",latestGlucoseTime:"3 min ago",latestGlucoseTrend:"same",latestInsulinDose:"3 weeks ago",timeInRange:{last24Hours:"67",week:"72",month:"70"},steps:{last24Hours:"4,480",week:"7,389",month:"8,711"},mood:{last24Hours:"66",week:"82",month:"80"},moodAverage:{last24Hours:"Positive",week:"Positive",month:"Positive"},daysWithGcmData:"50%",avgCalibrationsPerDay:2},{id:6,name:"Fredrik Cam\xE9n",gender:"Male",age:"13",status:"Good",image:"/Profile.png",latestGlucoseValue:"123",latestGlucoseTime:"3 min ago",latestGlucoseTrend:"same",latestInsulinDose:"3 weeks ago",timeInRange:{last24Hours:"67",week:"72",month:"70"},steps:{last24Hours:"4,480",week:"7,389",month:"8,711"},mood:{last24Hours:"66",week:"82",month:"80"},moodAverage:{last24Hours:"Positive",week:"Positive",month:"Positive"},daysWithGcmData:"64%",avgCalibrationsPerDay:1.2},{id:7,name:"Aarti Shinde",gender:"Female",age:"8",status:"Contacted",image:"/Profile-2.png",latestGlucoseValue:"202",latestGlucoseTime:"5 sec ago",latestGlucoseTrend:"down",latestInsulinDose:"1 week ago",timeInRange:{last24Hours:"68",week:"42",month:"38"},steps:{last24Hours:"5,320",week:"2,745",month:"3,179"},mood:{last24Hours:"55",week:"68",month:"75"},moodAverage:{last24Hours:"Positive",week:"Negative",month:"Negative"},daysWithGcmData:"64%",avgCalibrationsPerDay:1.2}]}},mounted(){this.$route.params.activePatientId&&this.patients.find(be=>{be.id==this.$route.params.activePatientId&&(this.activePatient=be)})},watch:{$route(){this.$route.params.activePatientId&&this.patients.find(be=>{be.id==this.$route.params.activePatientId&&(this.activePatient=be)})}}},lg=Object.assign(Tw,{__name:"DoctorsView",setup(be){return(Ve,rt)=>(Si(),Hi(ls,null,[Kn("aside",null,[qi(Tv,{patients:Ve.patients},null,8,["patients"])]),Kn("main",null,[qi(zd),Ve.activePatient?(Si(),Ld(Mv,{key:0,activePatient:Ve.activePatient},null,8,["activePatient"])):(Si(),Hi("h2",ww,"Select patient from the sidebar menu.")),qi(Sv)])],64))}}),kw=Kn("h2",null,"Settings will be added here...",-1),Aw={data(){return{patients:[{id:1,name:"Erica Svejderud",gender:"Female",age:"10",status:"Needs to be contacted",image:"/Profile-1.png",latestGlucoseValue:"278",latestGlucoseTime:"5 min ago",latestGlucoseTrend:"up",latestInsulinDose:"2 weeks ago",timeInRange:{last24Hours:"30",week:"40",month:"45"},steps:{last24Hours:"2,215",week:"4,322",month:"2,956"},mood:{last24Hours:"55",week:"52",month:"59"},moodAverage:{last24Hours:"Negative",week:"Positive",month:"Negative"}},{id:2,name:"Jakob Smedhagen",gender:"Male",age:"12",status:"Needs to be contacted",image:"/Profile.png",latestGlucoseValue:"278",latestGlucoseTime:"5 min ago",latestGlucoseTrend:"up",latestInsulinDose:"2 weeks ago",timeInRange:{last24Hours:"30",week:"40",month:"45"},steps:{last24Hours:"2,215",week:"4,322",month:"2,956"},mood:{last24Hours:"55",week:"52",month:"59"},moodAverage:{last24Hours:"Negative",week:"Positive",month:"Negative"}},{id:3,name:"Tobias Gerhardsson",gender:"Male",age:"7",status:"Good",image:"/Profile.png",latestGlucoseValue:"123",latestGlucoseTime:"3 min ago",latestGlucoseTrend:"same",latestInsulinDose:"3 weeks ago",timeInRange:{last24Hours:"67",week:"72",month:"70"},steps:{last24Hours:"4,480",week:"7,389",month:"8,711"},mood:{last24Hours:"66",week:"82",month:"80"},moodAverage:{last24Hours:"Positive",week:"Positive",month:"Positive"}},{id:4,name:"Cecilia Bingert",gender:"Female",age:"14",status:"Good",image:"/Profile-2.png",latestGlucoseValue:"123",latestGlucoseTime:"3 min ago",latestGlucoseTrend:"same",latestInsulinDose:"3 weeks ago",timeInRange:{last24Hours:"67",week:"72",month:"70"},steps:{last24Hours:"4,480",week:"7,389",month:"8,711"},mood:{last24Hours:"66",week:"82",month:"80"},moodAverage:{last24Hours:"Positive",week:"Positive",month:"Positive"}},{id:5,name:"Linn Marcusson",gender:"Female",age:"11",status:"Good",image:"/Profile-1.png",latestGlucoseValue:"123",latestGlucoseTime:"3 min ago",latestGlucoseTrend:"same",latestInsulinDose:"3 weeks ago",timeInRange:{last24Hours:"67",week:"72",month:"70"},steps:{last24Hours:"4,480",week:"7,389",month:"8,711"},mood:{last24Hours:"66",week:"82",month:"80"},moodAverage:{last24Hours:"Positive",week:"Positive",month:"Positive"}},{id:6,name:"Fredrik Cam\xE9n",gender:"Male",age:"13",status:"Good",image:"/Profile.png",latestGlucoseValue:"123",latestGlucoseTime:"3 min ago",latestGlucoseTrend:"same",latestInsulinDose:"3 weeks ago",timeInRange:{last24Hours:"67",week:"72",month:"70"},steps:{last24Hours:"4,480",week:"7,389",month:"8,711"},mood:{last24Hours:"66",week:"82",month:"80"},moodAverage:{last24Hours:"Positive",week:"Positive",month:"Positive"}},{id:7,name:"Aarti Shinde",gender:"Female",age:"8",status:"Contacted",image:"/Profile-2.png",latestGlucoseValue:"202",latestGlucoseTime:"5 sec ago",latestGlucoseTrend:"down",latestInsulinDose:"1 week ago",timeInRange:{last24Hours:"68",week:"42",month:"38"},steps:{last24Hours:"5,320",week:"2,745",month:"3,179"},mood:{last24Hours:"55",week:"68",month:"75"},moodAverage:{last24Hours:"Positive",week:"Negative",month:"Negative"}}]}}},Mw=Object.assign(Aw,{__name:"DoctorsSettings",setup(be){return(Ve,rt)=>(Si(),Hi(ls,null,[Kn("aside",null,[qi(Tv,{patients:Ve.patients},null,8,["patients"])]),Kn("main",null,[qi(zd),kw])],64))}});const Sw={data(){return{activePatient:{id:3,name:"Tobias Gerhardsson",gender:"Male",age:"7",status:"Good",image:"/Profile.png",latestGlucoseValue:"123",latestGlucoseTime:"3 min ago",latestGlucoseTrend:"same",latestInsulinDose:"3 weeks ago",timeInRange:{last24Hours:"67",week:"72",month:"70"},steps:{last24Hours:"4,480",week:"7,389",month:"8,711"},mood:{last24Hours:"66",week:"82",month:"80"},moodAverage:{last24Hours:"Positive",week:"Positive",month:"Positive"},daysWithGcmData:"84%",avgCalibrationsPerDay:3.7}}}},Ew=Object.assign(Sw,{__name:"PatientsView",setup(be){return(Ve,rt)=>(Si(),Hi("main",null,[qi(zd),qi(Mv,{activePatient:Ve.activePatient},null,8,["activePatient"]),qi(Sv)]))}}),Lw=Rc(Ew,[["__scopeId","data-v-86418ef0"]]);const Cw={},Fd=be=>(Td("data-v-75b69693"),be=be(),kd(),be),Pw={class:"login"},Ow={class:"login__inner"},Iw=Fd(()=>Kn("h1",null,"Log In",-1)),Rw={action:"/",method:"post"},Dw=Yu('<input type="email" placeholder="Email" required data-v-75b69693><input type="password" placeholder="Password" required data-v-75b69693><div class="checkbox" data-v-75b69693><input type="checkbox" id="remember-me" name="drone" value="remember-me" data-v-75b69693><label for="remember-me" data-v-75b69693>Remember me</label></div>',3),zw=Fd(()=>Kn("a",{href:"javascript:void(0);",class:"btn"},"Create Account",-1)),Fw=Fd(()=>Kn("div",{class:"login__bottom"},[Kn("a",{href:"javascript:void(0);"},"Forgot Password?"),Kn("a",{href:"javascript:void(0);"},"Create Doctor's Account")],-1));function Bw(be,Ve){return Si(),Hi("div",Pw,[Kn("div",Ow,[Iw,Kn("form",Rw,[Dw,Kn("input",{onClick:Ve[0]||(Ve[0]=rt=>this.$router.push("/")),type:"submit",class:"btn",value:"Log In"})]),zw,Fw])])}const Nw=Rc(Cw,[["render",Bw],["__scopeId","data-v-75b69693"]]),jw=Yb({history:fb("/"),routes:[{path:"/",children:[{path:"",component:lg},{path:"/patient/:activePatientId",component:lg,name:"doctors-view"}]},{path:"/doctors-settings",component:Mw,name:"doctors-settings"},{path:"/patients-view",component:Lw,name:"patients-view"},{path:"/login",component:Nw,name:"login"}]});const Bd=Bx(Kb);Bd.use(Ux());Bd.use(jw);Bd.mount("#app");
